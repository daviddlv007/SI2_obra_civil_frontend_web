<section class="content">
  <div class="container-fluid">
    <div class="row">
      <div class="col-12">
        <!-- Card -->
        <div class="card shadow-sm">
          <div class="card-body">
            <!-- Título y Botón para Editar -->
            <div class="row mb-3">
              <div class="col-12 col-md-6">
                <h4 class="m-0">Editar Permiso</h4>
              </div>
            </div>

            <form
              (ngSubmit)="actualizarPermiso()"
              #permisoForm="ngForm"
              (ngSubmit)="submitted = true"
            >
              <div class="row">
                <!-- Campo de Nombre -->
                <div class="col-12 col-md-6 mb-3">
                  <label for="nombre" class="form-label">Nombre:</label>
                  <input
                    type="text"
                    id="nombre"
                    [(ngModel)]="permiso.nombre"
                    class="form-control"
                    placeholder="Ingrese el nombre del permiso"
                    name="nombre"
                    #nombre="ngModel"
                    required
                    minlength="3"
                  />
                  <!-- Mensajes de error para el campo Nombre -->
                  <div
                    *ngIf="
                      (nombre.invalid && (nombre.dirty || nombre.touched)) ||
                      (submitted && nombre.invalid)
                    "
                    class="error-message text-danger"
                  >
                    <small *ngIf="nombre.errors?.['required']">
                      El nombre es obligatorio.
                    </small>
                    <small *ngIf="nombre.errors?.['minlength']">
                      El nombre debe tener al menos 3 caracteres.
                    </small>
                  </div>
                </div>

                <!-- Campo de Descripción -->
                <div class="col-12 col-md-6 mb-3">
                  <label for="descripcion" class="form-label"
                    >Descripción:</label
                  >
                  <textarea
                    id="descripcion"
                    class="form-control"
                    rows="3"
                    placeholder="Ingrese la descripción del permiso"
                    [(ngModel)]="permiso.descripcion"
                    name="descripcion"
                    required
                    #descripcion="ngModel"
                  ></textarea>
                  <!-- Mensajes de error para el campo Descripción -->
                  <div
                    *ngIf="
                      (descripcion.invalid &&
                        (descripcion.dirty || descripcion.touched)) ||
                      (submitted && descripcion.invalid)
                    "
                    class="error-message text-danger"
                  >
                    <small *ngIf="descripcion.errors?.['required']">
                      La descripción es obligatoria.
                    </small>
                  </div>
                </div>

                <!-- Botones de Acción -->
                <div class="col-12 col-md-6 d-flex justify-content-start gap-3">
                  <button
                    type="submit"
                    class="btn btn-warning"
                    [disabled]="!permisoForm.form.valid"
                  >
                    <i class="bi bi-save mr-1"></i> Actualizar
                  </button>
                  <button
                    type="button"
                    class="btn btn-secondary"
                    (click)="cancelar()"
                  >
                    <i class="bi bi-x-circle"></i>
                    Cancelar
                  </button>
                </div>
              </div>
            </form>
          </div>
        </div>
        <!-- /.card -->
      </div>
    </div>
  </div>
</section>
