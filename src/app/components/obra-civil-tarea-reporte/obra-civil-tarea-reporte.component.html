<div class="reporte-container">
    <h2 class="titulo-reporte">Reporte de Tareas - {{ nombreObra }}</h2>
  
    <form (ngSubmit)="filtrar()" class="formulario">
      <div class="campo">
        <label for="fechaInicio">Fecha Inicio</label>
        <input type="date" id="fechaInicio" [(ngModel)]="fechaInicio" name="fechaInicio" />
      </div>
      <div class="campo">
        <label for="fechaFin">Fecha Fin</label>
        <input type="date" id="fechaFin" [(ngModel)]="fechaFin" name="fechaFin" />
      </div>
      <div class="campo">
        <label for="estado">Estado</label>
        <select id="estado" [(ngModel)]="estado" name="estado">
          <option value="">Todos</option>
          <option *ngFor="let e of estados" [value]="e">{{ e }}</option>
        </select>
      </div>
      <div class="campo">
        <label for="prioridad">Prioridad</label>
        <select id="prioridad" [(ngModel)]="prioridad" name="prioridad">
          <option value="">Todas</option>
          <option *ngFor="let p of prioridades" [value]="p">{{ p }}</option>
        </select>
      </div>
      <div class="campo boton-filtrar">
        <button type="submit">Filtrar</button>
      </div>
    </form>
  
    <div class="acciones">
      <button (click)="exportarExcel()">Exportar a Excel</button>
      <button (click)="exportarPDF()">Exportar a PDF</button>
    </div>
  </div>
  
  <div class="tabla">
    <div class="tabla">
        <div class="tabla-responsive">
          <table *ngIf="tareasFiltradas.length">
            <thead>
              <tr>
                <th>Nombre</th>
                <th>Descripci√≥n</th>
                <th>Fecha Inicio</th>
                <th>Fecha Fin</th>
                <th>Estado</th>
                <th>Prioridad</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let tarea of tareasFiltradas">
                <td>{{ tarea.nombre }}</td>
                <td>{{ tarea.descripcion }}</td>
                <td>{{ tarea.fechaInicio }}</td>
                <td>{{ tarea.fechaFin }}</td>
                <td>{{ tarea.estado }}</td>
                <td>{{ tarea.prioridad }}</td>
              </tr>
            </tbody>
          </table>
        </div>
        <p *ngIf="!tareasFiltradas.length">No se encontraron tareas con los criterios especificados.</p>
      </div>
    
  </div>
  