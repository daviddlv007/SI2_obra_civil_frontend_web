import{a as Ir}from"./chunk-FK6H3RFT.js";import{$ as gd,$a as T2,$b as Gs,A as Ng,Aa as af,Ab as df,B as s0,Ba as b2,Bb as uf,C as o2,Ca as sf,Cb as zg,D as hd,Da as bd,Db as pf,E as lc,Ea as x2,Eb as ff,F as Lg,Fa as Vg,Fb as mf,G as a2,Ga as c0,Gb as F2,H as s2,Ha as Jn,Hb as N2,I as l2,Ia as y2,Ib as gs,J as Kn,Ja as C2,Jb as L2,K as c2,Ka as qg,Kb as xd,L as wn,La as B,Lb as f0,M as Ur,Ma as w2,Mb as yl,N as Jo,Na as hs,Nb as D2,O as wt,Oa as M,Ob as m0,P as fs,Pa as lf,Pb as R2,Q as d2,Qa as _l,Qb as B2,R as Ji,Ra as c,Rb as Do,S as wu,Sa as l,Sb as U2,T as Et,Ta as Ee,Tb as Mu,U as ii,Ua as S2,Ub as V2,V as Dg,Va as E2,Vb as q2,W as u2,Wa as Je,Wb as Cl,X as Su,Xa as P2,Xb as hf,Y as ot,Ya as H,Yb as Rn,Z as ms,Za as Q,Zb as Bt,_ as zr,_a as M2,_b as yt,a as J_,aa as p2,ab as d0,ac as cn,b as Q_,ba as f2,bb as Hs,bc as j2,c as fd,ca as vd,cb as jg,cc,d as kg,da as ja,db as u0,dc as ea,e as Ag,ea as za,eb as bl,ec as ct,f as Ua,fa as N,fb as xl,fc as z2,g as Va,ga as D,gb as ae,gc as gf,h as Ig,ha as ba,hb as p,hc as W2,i as ac,ia as m2,ib as Te,ic as vf,j as Yn,ja as of,jb as Ke,k as ci,ka as Eu,kb as Di,l as Cu,la as tn,lb as k2,m as e2,ma as Qo,mb as de,n as t2,na as Rg,nb as ue,o as nr,oa as Ws,ob as pe,p as md,pa as h2,pb as uo,q as Lo,qa as Bg,qb as st,r as Og,ra as g2,rb as p0,s as i2,sa as _d,sb as A2,t as Fg,ta as v2,tb as cf,u as nf,ua as Ug,ub as Wa,v as r2,va as l0,vb as Kt,w as vl,wa as _2,wb as bi,x as qa,xa as Pu,xb as Dn,y as sc,ya as g,yb as I2,z as n2,za as ie,zb as O2}from"./chunk-Q6BHEJZZ.js";import{a as lt,b as Ki,c as rf,d as K_,e as pd,f as Tg}from"./chunk-EQDQRRRY.js";var gp=K_((Vm,Gx)=>{"use strict";(function(i,t){typeof Vm=="object"&&typeof Gx<"u"?t(Vm):typeof define=="function"&&define.amd?define(["exports"],t):(i=typeof globalThis<"u"?globalThis:i||self,t(i.leaflet={}))})(Vm,function(i){"use strict";var t="1.9.4";function e(s){var f,_,S,O;for(_=1,S=arguments.length;_<S;_++){O=arguments[_];for(f in O)s[f]=O[f]}return s}var r=Object.create||function(){function s(){}return function(f){return s.prototype=f,new s}}();function n(s,f){var _=Array.prototype.slice;if(s.bind)return s.bind.apply(s,_.call(arguments,1));var S=_.call(arguments,2);return function(){return s.apply(f,S.length?S.concat(_.call(arguments)):arguments)}}var o=0;function a(s){return"_leaflet_id"in s||(s._leaflet_id=++o),s._leaflet_id}function d(s,f,_){var S,O,J,Se;return Se=function(){S=!1,O&&(J.apply(_,O),O=!1)},J=function(){S?O=arguments:(s.apply(_,arguments),setTimeout(Se,f),S=!0)},J}function u(s,f,_){var S=f[1],O=f[0],J=S-O;return s===S&&_?s:((s-O)%J+J)%J+O}function m(){return!1}function v(s,f){if(f===!1)return s;var _=Math.pow(10,f===void 0?6:f);return Math.round(s*_)/_}function y(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function w(s){return y(s).split(/\s+/)}function x(s,f){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?r(s.options):{});for(var _ in f)s.options[_]=f[_];return s.options}function T(s,f,_){var S=[];for(var O in s)S.push(encodeURIComponent(_?O.toUpperCase():O)+"="+encodeURIComponent(s[O]));return(!f||f.indexOf("?")===-1?"?":"&")+S.join("&")}var E=/\{ *([\w_ -]+) *\}/g;function k(s,f){return s.replace(E,function(_,S){var O=f[S];if(O===void 0)throw new Error("No value provided for variable "+_);return typeof O=="function"&&(O=O(f)),O})}var F=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function U(s,f){for(var _=0;_<s.length;_++)if(s[_]===f)return _;return-1}var Y="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ve(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var we=0;function Ue(s){var f=+new Date,_=Math.max(0,16-(f-we));return we=f+_,window.setTimeout(s,_)}var ne=window.requestAnimationFrame||ve("RequestAnimationFrame")||Ue,re=window.cancelAnimationFrame||ve("CancelAnimationFrame")||ve("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function ce(s,f,_){if(_&&ne===Ue)s.call(f);else return ne.call(window,n(s,f))}function Ce(s){s&&re.call(window,s)}var W={__proto__:null,extend:e,create:r,bind:n,get lastId(){return o},stamp:a,throttle:d,wrapNum:u,falseFn:m,formatNum:v,trim:y,splitWords:w,setOptions:x,getParamString:T,template:k,isArray:F,indexOf:U,emptyImageUrl:Y,requestFn:ne,cancelFn:re,requestAnimFrame:ce,cancelAnimFrame:Ce};function G(){}G.extend=function(s){var f=function(){x(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},_=f.__super__=this.prototype,S=r(_);S.constructor=f,f.prototype=S;for(var O in this)Object.prototype.hasOwnProperty.call(this,O)&&O!=="prototype"&&O!=="__super__"&&(f[O]=this[O]);return s.statics&&e(f,s.statics),s.includes&&(xe(s.includes),e.apply(null,[S].concat(s.includes))),e(S,s),delete S.statics,delete S.includes,S.options&&(S.options=_.options?r(_.options):{},e(S.options,s.options)),S._initHooks=[],S.callInitHooks=function(){if(!this._initHooksCalled){_.callInitHooks&&_.callInitHooks.call(this),this._initHooksCalled=!0;for(var J=0,Se=S._initHooks.length;J<Se;J++)S._initHooks[J].call(this)}},f},G.include=function(s){var f=this.prototype.options;return e(this.prototype,s),s.options&&(this.prototype.options=f,this.mergeOptions(s.options)),this},G.mergeOptions=function(s){return e(this.prototype.options,s),this},G.addInitHook=function(s){var f=Array.prototype.slice.call(arguments,1),_=typeof s=="function"?s:function(){this[s].apply(this,f)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(_),this};function xe(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=F(s)?s:[s];for(var f=0;f<s.length;f++)s[f]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ye={on:function(s,f,_){if(typeof s=="object")for(var S in s)this._on(S,s[S],f);else{s=w(s);for(var O=0,J=s.length;O<J;O++)this._on(s[O],f,_)}return this},off:function(s,f,_){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var S in s)this._off(S,s[S],f);else{s=w(s);for(var O=arguments.length===1,J=0,Se=s.length;J<Se;J++)O?this._off(s[J]):this._off(s[J],f,_)}return this},_on:function(s,f,_,S){if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}if(this._listens(s,f,_)===!1){_===this&&(_=void 0);var O={fn:f,ctx:_};S&&(O.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(O)}},_off:function(s,f,_){var S,O,J;if(this._events&&(S=this._events[s],!!S)){if(arguments.length===1){if(this._firingCount)for(O=0,J=S.length;O<J;O++)S[O].fn=m;delete this._events[s];return}if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}var Se=this._listens(s,f,_);if(Se!==!1){var je=S[Se];this._firingCount&&(je.fn=m,this._events[s]=S=S.slice()),S.splice(Se,1)}}},fire:function(s,f,_){if(!this.listens(s,_))return this;var S=e({},f,{type:s,target:this,sourceTarget:f&&f.sourceTarget||this});if(this._events){var O=this._events[s];if(O){this._firingCount=this._firingCount+1||1;for(var J=0,Se=O.length;J<Se;J++){var je=O[J],Qe=je.fn;je.once&&this.off(s,Qe,je.ctx),Qe.call(je.ctx||this,S)}this._firingCount--}}return _&&this._propagateEvent(S),this},listens:function(s,f,_,S){typeof s!="string"&&console.warn('"string" type argument expected');var O=f;typeof f!="function"&&(S=!!f,O=void 0,_=void 0);var J=this._events&&this._events[s];if(J&&J.length&&this._listens(s,O,_)!==!1)return!0;if(S){for(var Se in this._eventParents)if(this._eventParents[Se].listens(s,f,_,S))return!0}return!1},_listens:function(s,f,_){if(!this._events)return!1;var S=this._events[s]||[];if(!f)return!!S.length;_===this&&(_=void 0);for(var O=0,J=S.length;O<J;O++)if(S[O].fn===f&&S[O].ctx===_)return O;return!1},once:function(s,f,_){if(typeof s=="object")for(var S in s)this._on(S,s[S],f,!0);else{s=w(s);for(var O=0,J=s.length;O<J;O++)this._on(s[O],f,_,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[a(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[a(s)],this},_propagateEvent:function(s){for(var f in this._eventParents)this._eventParents[f].fire(s.type,e({layer:s.target,propagatedFrom:s.target},s),!0)}};ye.addEventListener=ye.on,ye.removeEventListener=ye.clearAllEventListeners=ye.off,ye.addOneTimeEventListener=ye.once,ye.fireEvent=ye.fire,ye.hasEventListeners=ye.listens;var Le=G.extend(ye);function Ie(s,f,_){this.x=_?Math.round(s):s,this.y=_?Math.round(f):f}var Ye=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};Ie.prototype={clone:function(){return new Ie(this.x,this.y)},add:function(s){return this.clone()._add(ke(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(ke(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new Ie(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new Ie(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ye(this.x),this.y=Ye(this.y),this},distanceTo:function(s){s=ke(s);var f=s.x-this.x,_=s.y-this.y;return Math.sqrt(f*f+_*_)},equals:function(s){return s=ke(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=ke(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function ke(s,f,_){return s instanceof Ie?s:F(s)?new Ie(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new Ie(s.x,s.y):new Ie(s,f,_)}function qe(s,f){if(s)for(var _=f?[s,f]:s,S=0,O=_.length;S<O;S++)this.extend(_[S])}qe.prototype={extend:function(s){var f,_;if(!s)return this;if(s instanceof Ie||typeof s[0]=="number"||"x"in s)f=_=ke(s);else if(s=Xe(s),f=s.min,_=s.max,!f||!_)return this;return!this.min&&!this.max?(this.min=f.clone(),this.max=_.clone()):(this.min.x=Math.min(f.x,this.min.x),this.max.x=Math.max(_.x,this.max.x),this.min.y=Math.min(f.y,this.min.y),this.max.y=Math.max(_.y,this.max.y)),this},getCenter:function(s){return ke((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return ke(this.min.x,this.max.y)},getTopRight:function(){return ke(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var f,_;return typeof s[0]=="number"||s instanceof Ie?s=ke(s):s=Xe(s),s instanceof qe?(f=s.min,_=s.max):f=_=s,f.x>=this.min.x&&_.x<=this.max.x&&f.y>=this.min.y&&_.y<=this.max.y},intersects:function(s){s=Xe(s);var f=this.min,_=this.max,S=s.min,O=s.max,J=O.x>=f.x&&S.x<=_.x,Se=O.y>=f.y&&S.y<=_.y;return J&&Se},overlaps:function(s){s=Xe(s);var f=this.min,_=this.max,S=s.min,O=s.max,J=O.x>f.x&&S.x<_.x,Se=O.y>f.y&&S.y<_.y;return J&&Se},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var f=this.min,_=this.max,S=Math.abs(f.x-_.x)*s,O=Math.abs(f.y-_.y)*s;return Xe(ke(f.x-S,f.y-O),ke(_.x+S,_.y+O))},equals:function(s){return s?(s=Xe(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function Xe(s,f){return!s||s instanceof qe?s:new qe(s,f)}function St(s,f){if(s)for(var _=f?[s,f]:s,S=0,O=_.length;S<O;S++)this.extend(_[S])}St.prototype={extend:function(s){var f=this._southWest,_=this._northEast,S,O;if(s instanceof j)S=s,O=s;else if(s instanceof St){if(S=s._southWest,O=s._northEast,!S||!O)return this}else return s?this.extend(R(s)||A(s)):this;return!f&&!_?(this._southWest=new j(S.lat,S.lng),this._northEast=new j(O.lat,O.lng)):(f.lat=Math.min(S.lat,f.lat),f.lng=Math.min(S.lng,f.lng),_.lat=Math.max(O.lat,_.lat),_.lng=Math.max(O.lng,_.lng)),this},pad:function(s){var f=this._southWest,_=this._northEast,S=Math.abs(f.lat-_.lat)*s,O=Math.abs(f.lng-_.lng)*s;return new St(new j(f.lat-S,f.lng-O),new j(_.lat+S,_.lng+O))},getCenter:function(){return new j((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new j(this.getNorth(),this.getWest())},getSouthEast:function(){return new j(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof j||"lat"in s?s=R(s):s=A(s);var f=this._southWest,_=this._northEast,S,O;return s instanceof St?(S=s.getSouthWest(),O=s.getNorthEast()):S=O=s,S.lat>=f.lat&&O.lat<=_.lat&&S.lng>=f.lng&&O.lng<=_.lng},intersects:function(s){s=A(s);var f=this._southWest,_=this._northEast,S=s.getSouthWest(),O=s.getNorthEast(),J=O.lat>=f.lat&&S.lat<=_.lat,Se=O.lng>=f.lng&&S.lng<=_.lng;return J&&Se},overlaps:function(s){s=A(s);var f=this._southWest,_=this._northEast,S=s.getSouthWest(),O=s.getNorthEast(),J=O.lat>f.lat&&S.lat<_.lat,Se=O.lng>f.lng&&S.lng<_.lng;return J&&Se},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,f){return s?(s=A(s),this._southWest.equals(s.getSouthWest(),f)&&this._northEast.equals(s.getNorthEast(),f)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function A(s,f){return s instanceof St?s:new St(s,f)}function j(s,f,_){if(isNaN(s)||isNaN(f))throw new Error("Invalid LatLng object: ("+s+", "+f+")");this.lat=+s,this.lng=+f,_!==void 0&&(this.alt=+_)}j.prototype={equals:function(s,f){if(!s)return!1;s=R(s);var _=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return _<=(f===void 0?1e-9:f)},toString:function(s){return"LatLng("+v(this.lat,s)+", "+v(this.lng,s)+")"},distanceTo:function(s){return le.distance(this,R(s))},wrap:function(){return le.wrapLatLng(this)},toBounds:function(s){var f=180*s/40075017,_=f/Math.cos(Math.PI/180*this.lat);return A([this.lat-f,this.lng-_],[this.lat+f,this.lng+_])},clone:function(){return new j(this.lat,this.lng,this.alt)}};function R(s,f,_){return s instanceof j?s:F(s)&&typeof s[0]!="object"?s.length===3?new j(s[0],s[1],s[2]):s.length===2?new j(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new j(s.lat,"lng"in s?s.lng:s.lon,s.alt):f===void 0?null:new j(s,f,_)}var z={latLngToPoint:function(s,f){var _=this.projection.project(s),S=this.scale(f);return this.transformation._transform(_,S)},pointToLatLng:function(s,f){var _=this.scale(f),S=this.transformation.untransform(s,_);return this.projection.unproject(S)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var f=this.projection.bounds,_=this.scale(s),S=this.transformation.transform(f.min,_),O=this.transformation.transform(f.max,_);return new qe(S,O)},infinite:!1,wrapLatLng:function(s){var f=this.wrapLng?u(s.lng,this.wrapLng,!0):s.lng,_=this.wrapLat?u(s.lat,this.wrapLat,!0):s.lat,S=s.alt;return new j(_,f,S)},wrapLatLngBounds:function(s){var f=s.getCenter(),_=this.wrapLatLng(f),S=f.lat-_.lat,O=f.lng-_.lng;if(S===0&&O===0)return s;var J=s.getSouthWest(),Se=s.getNorthEast(),je=new j(J.lat-S,J.lng-O),Qe=new j(Se.lat-S,Se.lng-O);return new St(je,Qe)}},le=e({},z,{wrapLng:[-180,180],R:6371e3,distance:function(s,f){var _=Math.PI/180,S=s.lat*_,O=f.lat*_,J=Math.sin((f.lat-s.lat)*_/2),Se=Math.sin((f.lng-s.lng)*_/2),je=J*J+Math.cos(S)*Math.cos(O)*Se*Se,Qe=2*Math.atan2(Math.sqrt(je),Math.sqrt(1-je));return this.R*Qe}}),Pe=6378137,Ne={R:Pe,MAX_LATITUDE:85.0511287798,project:function(s){var f=Math.PI/180,_=this.MAX_LATITUDE,S=Math.max(Math.min(_,s.lat),-_),O=Math.sin(S*f);return new Ie(this.R*s.lng*f,this.R*Math.log((1+O)/(1-O))/2)},unproject:function(s){var f=180/Math.PI;return new j((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*f,s.x*f/this.R)},bounds:function(){var s=Pe*Math.PI;return new qe([-s,-s],[s,s])}()};function Ae(s,f,_,S){if(F(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=f,this._c=_,this._d=S}Ae.prototype={transform:function(s,f){return this._transform(s.clone(),f)},_transform:function(s,f){return f=f||1,s.x=f*(this._a*s.x+this._b),s.y=f*(this._c*s.y+this._d),s},untransform:function(s,f){return f=f||1,new Ie((s.x/f-this._b)/this._a,(s.y/f-this._d)/this._c)}};function Be(s,f,_,S){return new Ae(s,f,_,S)}var at=e({},le,{code:"EPSG:3857",projection:Ne,transformation:function(){var s=.5/(Math.PI*Ne.R);return Be(s,.5,-s,.5)}()}),mt=e({},at,{code:"EPSG:900913"});function At(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function Lt(s,f){var _="",S,O,J,Se,je,Qe;for(S=0,J=s.length;S<J;S++){for(je=s[S],O=0,Se=je.length;O<Se;O++)Qe=je[O],_+=(O?"L":"M")+Qe.x+" "+Qe.y;_+=f?$t.svg?"z":"x":""}return _||"M0 0"}var et=document.documentElement.style,be="ActiveXObject"in window,gt=be&&!document.addEventListener,Wt="msLaunchUri"in navigator&&!("documentMode"in document),vt=Vr("webkit"),Ft=Vr("android"),Vt=Vr("android 2")||Vr("android 3"),qt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ni=Ft&&Vr("Google")&&qt<537&&!("AudioNode"in window),ai=!!window.opera,wi=!Wt&&Vr("chrome"),ki=Vr("gecko")&&!vt&&!ai&&!be,Hi=!wi&&Vr("safari"),Gi=Vr("phantom"),vi="OTransition"in et,Ri=navigator.platform.indexOf("Win")===0,zt=be&&"transition"in et,Yr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Vt,Xi="MozPerspective"in et,oo=!window.L_DISABLE_3D&&(zt||Yr||Xi)&&!vi&&!Gi,er=typeof orientation<"u"||Vr("mobile"),Pr=er&&vt,Vo=er&&Yr,tr=!window.PointerEvent&&window.MSPointerEvent,sa=!!(window.PointerEvent||tr),Mr="ontouchstart"in window||!!window.TouchEvent,So=!window.L_NO_TOUCH&&(Mr||sa),la=er&&ai,_r=er&&ki,Ei=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,or=function(){var s=!1;try{var f=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",m,f),window.removeEventListener("testPassiveEventSupport",m,f)}catch{}return s}(),es=function(){return!!document.createElement("canvas").getContext}(),Kr=!!(document.createElementNS&&At("svg").createSVGRect),qo=!!Kr&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),jo=!Kr&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var f=s.firstChild;return f.style.behavior="url(#default#VML)",f&&typeof f.adj=="object"}catch{return!1}}(),mi=navigator.platform.indexOf("Mac")===0,Eo=navigator.platform.indexOf("Linux")===0;function Vr(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var $t={ie:be,ielt9:gt,edge:Wt,webkit:vt,android:Ft,android23:Vt,androidStock:ni,opera:ai,chrome:wi,gecko:ki,safari:Hi,phantom:Gi,opera12:vi,win:Ri,ie3d:zt,webkit3d:Yr,gecko3d:Xi,any3d:oo,mobile:er,mobileWebkit:Pr,mobileWebkit3d:Vo,msPointer:tr,pointer:sa,touch:So,touchNative:Mr,mobileOpera:la,mobileGecko:_r,retina:Ei,passiveEvents:or,canvas:es,svg:Kr,vml:jo,inlineSvg:qo,mac:mi,linux:Eo},Hr=$t.msPointer?"MSPointerDown":"pointerdown",qr=$t.msPointer?"MSPointerMove":"pointermove",X=$t.msPointer?"MSPointerUp":"pointerup",he=$t.msPointer?"MSPointerCancel":"pointercancel",oe={touchstart:Hr,touchmove:qr,touchend:X,touchcancel:he},se={touchstart:Xt,touchmove:Ot,touchend:Ot,touchcancel:Ot},me={},ge=!1;function ze(s,f,_){return f==="touchstart"&&Ct(),se[f]?(_=se[f].bind(this,_),s.addEventListener(oe[f],_,!1),_):(console.warn("wrong event specified:",f),m)}function tt(s,f,_){if(!oe[f]){console.warn("wrong event specified:",f);return}s.removeEventListener(oe[f],_,!1)}function We(s){me[s.pointerId]=s}function He(s){me[s.pointerId]&&(me[s.pointerId]=s)}function Ze(s){delete me[s.pointerId]}function Ct(){ge||(document.addEventListener(Hr,We,!0),document.addEventListener(qr,He,!0),document.addEventListener(X,Ze,!0),document.addEventListener(he,Ze,!0),ge=!0)}function Ot(s,f){if(f.pointerType!==(f.MSPOINTER_TYPE_MOUSE||"mouse")){f.touches=[];for(var _ in me)f.touches.push(me[_]);f.changedTouches=[f],s(f)}}function Xt(s,f){f.MSPOINTER_TYPE_TOUCH&&f.pointerType===f.MSPOINTER_TYPE_TOUCH&&fn(f),Ot(s,f)}function Nt(s){var f={},_,S;for(S in s)_=s[S],f[S]=_&&_.bind?_.bind(s):_;return s=f,f.type="dblclick",f.detail=2,f.isTrusted=!1,f._simulated=!0,f}var Rt=200;function yi(s,f){s.addEventListener("dblclick",f);var _=0,S;function O(J){if(J.detail!==1){S=J.detail;return}if(!(J.pointerType==="mouse"||J.sourceCapabilities&&!J.sourceCapabilities.firesTouchEvents)){var Se=jl(J);if(!(Se.some(function(Qe){return Qe instanceof HTMLLabelElement&&Qe.attributes.for})&&!Se.some(function(Qe){return Qe instanceof HTMLInputElement||Qe instanceof HTMLSelectElement}))){var je=Date.now();je-_<=Rt?(S++,S===2&&f(Nt(J))):S=1,_=je}}}return s.addEventListener("click",O),{dblclick:f,simDblclick:O}}function ar(s,f){s.removeEventListener("dblclick",f.dblclick),s.removeEventListener("click",f.simDblclick)}var Jr=Ts(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),fr=Ts(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),rn=fr==="webkitTransition"||fr==="OTransition"?fr+"End":"transitionend";function Ma(s){return typeof s=="string"?document.getElementById(s):s}function ao(s,f){var _=s.style[f]||s.currentStyle&&s.currentStyle[f];if((!_||_==="auto")&&document.defaultView){var S=document.defaultView.getComputedStyle(s,null);_=S?S[f]:null}return _==="auto"?null:_}function Oi(s,f,_){var S=document.createElement(s);return S.className=f||"",_&&_.appendChild(S),S}function sr(s){var f=s.parentNode;f&&f.removeChild(s)}function In(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Tr(s){var f=s.parentNode;f&&f.lastChild!==s&&f.appendChild(s)}function ts(s){var f=s.parentNode;f&&f.firstChild!==s&&f.insertBefore(s,f.firstChild)}function Bl(s,f){if(s.classList!==void 0)return s.classList.contains(f);var _=so(s);return _.length>0&&new RegExp("(^|\\s)"+f+"(\\s|$)").test(_)}function Ai(s,f){if(s.classList!==void 0)for(var _=w(f),S=0,O=_.length;S<O;S++)s.classList.add(_[S]);else if(!Bl(s,f)){var J=so(s);Wc(s,(J?J+" ":"")+f)}}function Nr(s,f){s.classList!==void 0?s.classList.remove(f):Wc(s,y((" "+so(s)+" ").replace(" "+f+" "," ")))}function Wc(s,f){s.className.baseVal===void 0?s.className=f:s.className.baseVal=f}function so(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function Mn(s,f){"opacity"in s.style?s.style.opacity=f:"filter"in s.style&&lo(s,f)}function lo(s,f){var _=!1,S="DXImageTransform.Microsoft.Alpha";try{_=s.filters.item(S)}catch{if(f===1)return}f=Math.round(f*100),_?(_.Enabled=f!==100,_.Opacity=f):s.style.filter+=" progid:"+S+"(opacity="+f+")"}function Ts(s){for(var f=document.documentElement.style,_=0;_<s.length;_++)if(s[_]in f)return s[_];return!1}function Ta(s,f,_){var S=f||new Ie(0,0);s.style[Jr]=($t.ie3d?"translate("+S.x+"px,"+S.y+"px)":"translate3d("+S.x+"px,"+S.y+"px,0)")+(_?" scale("+_+")":"")}function Gr(s,f){s._leaflet_pos=f,$t.any3d?Ta(s,f):(s.style.left=f.x+"px",s.style.top=f.y+"px")}function ka(s){return s._leaflet_pos||new Ie(0,0)}var ol,ks,Hc;if("onselectstart"in document)ol=function(){Mi(window,"selectstart",fn)},ks=function(){mr(window,"selectstart",fn)};else{var is=Ts(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ol=function(){if(is){var s=document.documentElement.style;Hc=s[is],s[is]="none"}},ks=function(){is&&(document.documentElement.style[is]=Hc,Hc=void 0)}}function Gc(){Mi(window,"dragstart",fn)}function $c(){mr(window,"dragstart",fn)}var Ul,ca;function As(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(rs(),Ul=s,ca=s.style.outlineStyle,s.style.outlineStyle="none",Mi(window,"keydown",rs))}function rs(){Ul&&(Ul.style.outlineStyle=ca,Ul=void 0,ca=void 0,mr(window,"keydown",rs))}function Xc(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function _n(s){var f=s.getBoundingClientRect();return{x:f.width/s.offsetWidth||1,y:f.height/s.offsetHeight||1,boundingClientRect:f}}var du={__proto__:null,TRANSFORM:Jr,TRANSITION:fr,TRANSITION_END:rn,get:Ma,getStyle:ao,create:Oi,remove:sr,empty:In,toFront:Tr,toBack:ts,hasClass:Bl,addClass:Ai,removeClass:Nr,setClass:Wc,getClass:so,setOpacity:Mn,testProp:Ts,setTransform:Ta,setPosition:Gr,getPosition:ka,get disableTextSelection(){return ol},get enableTextSelection(){return ks},disableImageDrag:Gc,enableImageDrag:$c,preventOutline:As,restoreOutline:rs,getSizedParentNode:Xc,getScale:_n};function Mi(s,f,_,S){if(f&&typeof f=="object")for(var O in f)Vl(s,O,f[O],_);else{f=w(f);for(var J=0,Se=f.length;J<Se;J++)Vl(s,f[J],_,S)}return this}var fi="_leaflet_events";function mr(s,f,_,S){if(arguments.length===1)$d(s),delete s[fi];else if(f&&typeof f=="object")for(var O in f)ql(s,O,f[O],_);else if(f=w(f),arguments.length===2)$d(s,function(je){return U(f,je)!==-1});else for(var J=0,Se=f.length;J<Se;J++)ql(s,f[J],_,S);return this}function $d(s,f){for(var _ in s[fi]){var S=_.split(/\d/)[0];(!f||f(S))&&ql(s,S,null,null,_)}}var zo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Vl(s,f,_,S){var O=f+a(_)+(S?"_"+a(S):"");if(s[fi]&&s[fi][O])return this;var J=function(je){return _.call(S||s,je||window.event)},Se=J;!$t.touchNative&&$t.pointer&&f.indexOf("touch")===0?J=ze(s,f,J):$t.touch&&f==="dblclick"?J=yi(s,J):"addEventListener"in s?f==="touchstart"||f==="touchmove"||f==="wheel"||f==="mousewheel"?s.addEventListener(zo[f]||f,J,$t.passiveEvents?{passive:!1}:!1):f==="mouseenter"||f==="mouseleave"?(J=function(je){je=je||window.event,os(s,je)&&Se(je)},s.addEventListener(zo[f],J,!1)):s.addEventListener(f,Se,!1):s.attachEvent("on"+f,J),s[fi]=s[fi]||{},s[fi][O]=J}function ql(s,f,_,S,O){O=O||f+a(_)+(S?"_"+a(S):"");var J=s[fi]&&s[fi][O];if(!J)return this;!$t.touchNative&&$t.pointer&&f.indexOf("touch")===0?tt(s,f,J):$t.touch&&f==="dblclick"?ar(s,J):"removeEventListener"in s?s.removeEventListener(zo[f]||f,J,!1):s.detachEvent("on"+f,J),s[fi][O]=null}function Wo(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function al(s){return Vl(s,"wheel",Wo),this}function sl(s){return Mi(s,"mousedown touchstart dblclick contextmenu",Wo),s._leaflet_disable_click=!0,this}function fn(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function ns(s){return fn(s),Wo(s),this}function jl(s){if(s.composedPath)return s.composedPath();for(var f=[],_=s.target;_;)f.push(_),_=_.parentNode;return f}function Is(s,f){if(!f)return new Ie(s.clientX,s.clientY);var _=_n(f),S=_.boundingClientRect;return new Ie((s.clientX-S.left)/_.x-f.clientLeft,(s.clientY-S.top)/_.y-f.clientTop)}var Os=$t.linux&&$t.chrome?window.devicePixelRatio:$t.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Xd(s){return $t.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/Os:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function os(s,f){var _=f.relatedTarget;if(!_)return!0;try{for(;_&&_!==s;)_=_.parentNode}catch{return!1}return _!==s}var Zc={__proto__:null,on:Mi,off:mr,stopPropagation:Wo,disableScrollPropagation:al,disableClickPropagation:sl,preventDefault:fn,stop:ns,getPropagationPath:jl,getMousePosition:Is,getWheelDelta:Xd,isExternalTarget:os,addListener:Mi,removeListener:mr},ll=Le.extend({run:function(s,f,_,S){this.stop(),this._el=s,this._inProgress=!0,this._duration=_||.25,this._easeOutPower=1/Math.max(S||.5,.2),this._startPos=ka(s),this._offset=f.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ce(this._animate,this),this._step()},_step:function(s){var f=+new Date-this._startTime,_=this._duration*1e3;f<_?this._runFrame(this._easeOut(f/_),s):(this._runFrame(1),this._complete())},_runFrame:function(s,f){var _=this._startPos.add(this._offset.multiplyBy(s));f&&_._round(),Gr(this._el,_),this.fire("step")},_complete:function(){Ce(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),$i=Le.extend({options:{crs:at,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,f){f=x(this,f),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=n(this._onResize,this),this._initEvents(),f.maxBounds&&this.setMaxBounds(f.maxBounds),f.zoom!==void 0&&(this._zoom=this._limitZoom(f.zoom)),f.center&&f.zoom!==void 0&&this.setView(R(f.center),f.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=fr&&$t.any3d&&!$t.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Mi(this._proxy,rn,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,f,_){if(f=f===void 0?this._zoom:this._limitZoom(f),s=this._limitCenter(R(s),f,this.options.maxBounds),_=_||{},this._stop(),this._loaded&&!_.reset&&_!==!0){_.animate!==void 0&&(_.zoom=e({animate:_.animate},_.zoom),_.pan=e({animate:_.animate,duration:_.duration},_.pan));var S=this._zoom!==f?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,f,_.zoom):this._tryAnimatedPan(s,_.pan);if(S)return clearTimeout(this._sizeTimer),this}return this._resetView(s,f,_.pan&&_.pan.noMoveStart),this},setZoom:function(s,f){return this._loaded?this.setView(this.getCenter(),s,{zoom:f}):(this._zoom=s,this)},zoomIn:function(s,f){return s=s||($t.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,f)},zoomOut:function(s,f){return s=s||($t.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,f)},setZoomAround:function(s,f,_){var S=this.getZoomScale(f),O=this.getSize().divideBy(2),J=s instanceof Ie?s:this.latLngToContainerPoint(s),Se=J.subtract(O).multiplyBy(1-1/S),je=this.containerPointToLatLng(O.add(Se));return this.setView(je,f,{zoom:_})},_getBoundsCenterZoom:function(s,f){f=f||{},s=s.getBounds?s.getBounds():A(s);var _=ke(f.paddingTopLeft||f.padding||[0,0]),S=ke(f.paddingBottomRight||f.padding||[0,0]),O=this.getBoundsZoom(s,!1,_.add(S));if(O=typeof f.maxZoom=="number"?Math.min(f.maxZoom,O):O,O===1/0)return{center:s.getCenter(),zoom:O};var J=S.subtract(_).divideBy(2),Se=this.project(s.getSouthWest(),O),je=this.project(s.getNorthEast(),O),Qe=this.unproject(Se.add(je).divideBy(2).add(J),O);return{center:Qe,zoom:O}},fitBounds:function(s,f){if(s=A(s),!s.isValid())throw new Error("Bounds are not valid.");var _=this._getBoundsCenterZoom(s,f);return this.setView(_.center,_.zoom,f)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,f){return this.setView(s,this._zoom,{pan:f})},panBy:function(s,f){if(s=ke(s).round(),f=f||{},!s.x&&!s.y)return this.fire("moveend");if(f.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ll,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),f.noMoveStart||this.fire("movestart"),f.animate!==!1){Ai(this._mapPane,"leaflet-pan-anim");var _=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,_,f.duration||.25,f.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,f,_){if(_=_||{},_.animate===!1||!$t.any3d)return this.setView(s,f,_);this._stop();var S=this.project(this.getCenter()),O=this.project(s),J=this.getSize(),Se=this._zoom;s=R(s),f=f===void 0?Se:f;var je=Math.max(J.x,J.y),Qe=je*this.getZoomScale(Se,f),bt=O.distanceTo(S)||1,Zt=1.42,gi=Zt*Zt;function Bi(sn){var dd=sn?-1:1,js=sn?Qe:je,Zo=Qe*Qe-je*je+dd*gi*gi*bt*bt,vg=2*js*gi*bt,hu=Zo/vg,gu=Math.sqrt(hu*hu+1)-hu,jp=gu<1e-9?-18:Math.log(gu);return jp}function mn(sn){return(Math.exp(sn)-Math.exp(-sn))/2}function xn(sn){return(Math.exp(sn)+Math.exp(-sn))/2}function Xo(sn){return mn(sn)/xn(sn)}var Xn=Bi(0);function ec(sn){return je*(xn(Xn)/xn(Xn+Zt*sn))}function mg(sn){return je*(xn(Xn)*Xo(Xn+Zt*sn)-mn(Xn))/gi}function hg(sn){return 1-Math.pow(1-sn,1.5)}var gg=Date.now(),us=(Bi(1)-Xn)/Zt,ga=_.duration?1e3*_.duration:1e3*us*.8;function Ra(){var sn=(Date.now()-gg)/ga,dd=hg(sn)*us;sn<=1?(this._flyToFrame=ce(Ra,this),this._move(this.unproject(S.add(O.subtract(S).multiplyBy(mg(dd)/bt)),Se),this.getScaleZoom(je/ec(dd),Se),{flyTo:!0})):this._move(s,f)._moveEnd(!0)}return this._moveStart(!0,_.noMoveStart),Ra.call(this),this},flyToBounds:function(s,f){var _=this._getBoundsCenterZoom(s,f);return this.flyTo(_.center,_.zoom,f)},setMaxBounds:function(s){return s=A(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var f=this.options.minZoom;return this.options.minZoom=s,this._loaded&&f!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var f=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&f!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,f){this._enforcingBounds=!0;var _=this.getCenter(),S=this._limitCenter(_,this._zoom,A(s));return _.equals(S)||this.panTo(S,f),this._enforcingBounds=!1,this},panInside:function(s,f){f=f||{};var _=ke(f.paddingTopLeft||f.padding||[0,0]),S=ke(f.paddingBottomRight||f.padding||[0,0]),O=this.project(this.getCenter()),J=this.project(s),Se=this.getPixelBounds(),je=Xe([Se.min.add(_),Se.max.subtract(S)]),Qe=je.getSize();if(!je.contains(J)){this._enforcingBounds=!0;var bt=J.subtract(je.getCenter()),Zt=je.extend(J).getSize().subtract(Qe);O.x+=bt.x<0?-Zt.x:Zt.x,O.y+=bt.y<0?-Zt.y:Zt.y,this.panTo(this.unproject(O),f),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=e({animate:!1,pan:!0},s===!0?{animate:!0}:s);var f=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var _=this.getSize(),S=f.divideBy(2).round(),O=_.divideBy(2).round(),J=S.subtract(O);return!J.x&&!J.y?this:(s.animate&&s.pan?this.panBy(J):(s.pan&&this._rawPanBy(J),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(n(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:f,newSize:_}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=e({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var f=n(this._handleGeolocationResponse,this),_=n(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(f,_,s):navigator.geolocation.getCurrentPosition(f,_,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var f=s.code,_=s.message||(f===1?"permission denied":f===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:f,message:"Geolocation error: "+_+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var f=s.coords.latitude,_=s.coords.longitude,S=new j(f,_),O=S.toBounds(s.coords.accuracy*2),J=this._locateOptions;if(J.setView){var Se=this.getBoundsZoom(O);this.setView(S,J.maxZoom?Math.min(Se,J.maxZoom):Se)}var je={latlng:S,bounds:O,timestamp:s.timestamp};for(var Qe in s.coords)typeof s.coords[Qe]=="number"&&(je[Qe]=s.coords[Qe]);this.fire("locationfound",je)}},addHandler:function(s,f){if(!f)return this;var _=this[s]=new f(this);return this._handlers.push(_),this.options[s]&&_.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),sr(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Ce(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)sr(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,f){var _="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),S=Oi("div",_,f||this._mapPane);return s&&(this._panes[s]=S),S},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),f=this.unproject(s.getBottomLeft()),_=this.unproject(s.getTopRight());return new St(f,_)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,f,_){s=A(s),_=ke(_||[0,0]);var S=this.getZoom()||0,O=this.getMinZoom(),J=this.getMaxZoom(),Se=s.getNorthWest(),je=s.getSouthEast(),Qe=this.getSize().subtract(_),bt=Xe(this.project(je,S),this.project(Se,S)).getSize(),Zt=$t.any3d?this.options.zoomSnap:1,gi=Qe.x/bt.x,Bi=Qe.y/bt.y,mn=f?Math.max(gi,Bi):Math.min(gi,Bi);return S=this.getScaleZoom(mn,S),Zt&&(S=Math.round(S/(Zt/100))*(Zt/100),S=f?Math.ceil(S/Zt)*Zt:Math.floor(S/Zt)*Zt),Math.max(O,Math.min(J,S))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Ie(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,f){var _=this._getTopLeftPoint(s,f);return new qe(_,_.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,f){var _=this.options.crs;return f=f===void 0?this._zoom:f,_.scale(s)/_.scale(f)},getScaleZoom:function(s,f){var _=this.options.crs;f=f===void 0?this._zoom:f;var S=_.zoom(s*_.scale(f));return isNaN(S)?1/0:S},project:function(s,f){return f=f===void 0?this._zoom:f,this.options.crs.latLngToPoint(R(s),f)},unproject:function(s,f){return f=f===void 0?this._zoom:f,this.options.crs.pointToLatLng(ke(s),f)},layerPointToLatLng:function(s){var f=ke(s).add(this.getPixelOrigin());return this.unproject(f)},latLngToLayerPoint:function(s){var f=this.project(R(s))._round();return f._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(R(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(A(s))},distance:function(s,f){return this.options.crs.distance(R(s),R(f))},containerPointToLayerPoint:function(s){return ke(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return ke(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var f=this.containerPointToLayerPoint(ke(s));return this.layerPointToLatLng(f)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(R(s)))},mouseEventToContainerPoint:function(s){return Is(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var f=this._container=Ma(s);if(f){if(f._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Mi(f,"scroll",this._onScroll,this),this._containerId=a(f)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&$t.any3d,Ai(s,"leaflet-container"+($t.touch?" leaflet-touch":"")+($t.retina?" leaflet-retina":"")+($t.ielt9?" leaflet-oldie":"")+($t.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var f=ao(s,"position");f!=="absolute"&&f!=="relative"&&f!=="fixed"&&f!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Gr(this._mapPane,new Ie(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ai(s.markerPane,"leaflet-zoom-hide"),Ai(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,f,_){Gr(this._mapPane,new Ie(0,0));var S=!this._loaded;this._loaded=!0,f=this._limitZoom(f),this.fire("viewprereset");var O=this._zoom!==f;this._moveStart(O,_)._move(s,f)._moveEnd(O),this.fire("viewreset"),S&&this.fire("load")},_moveStart:function(s,f){return s&&this.fire("zoomstart"),f||this.fire("movestart"),this},_move:function(s,f,_,S){f===void 0&&(f=this._zoom);var O=this._zoom!==f;return this._zoom=f,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),S?_&&_.pinch&&this.fire("zoom",_):((O||_&&_.pinch)&&this.fire("zoom",_),this.fire("move",_)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Ce(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){Gr(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[a(this._container)]=this;var f=s?mr:Mi;f(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&f(window,"resize",this._onResize,this),$t.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Ce(this._resizeRequest),this._resizeRequest=ce(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,f){for(var _=[],S,O=f==="mouseout"||f==="mouseover",J=s.target||s.srcElement,Se=!1;J;){if(S=this._targets[a(J)],S&&(f==="click"||f==="preclick")&&this._draggableMoved(S)){Se=!0;break}if(S&&S.listens(f,!0)&&(O&&!os(J,s)||(_.push(S),O))||J===this._container)break;J=J.parentNode}return!_.length&&!Se&&!O&&this.listens(f,!0)&&(_=[this]),_},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var f=s.target||s.srcElement;if(!(!this._loaded||f._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(f))){var _=s.type;_==="mousedown"&&As(f),this._fireDOMEvent(s,_)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,f,_){if(s.type==="click"){var S=e({},s);S.type="preclick",this._fireDOMEvent(S,S.type,_)}var O=this._findEventTargets(s,f);if(_){for(var J=[],Se=0;Se<_.length;Se++)_[Se].listens(f,!0)&&J.push(_[Se]);O=J.concat(O)}if(O.length){f==="contextmenu"&&fn(s);var je=O[0],Qe={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var bt=je.getLatLng&&(!je._radius||je._radius<=10);Qe.containerPoint=bt?this.latLngToContainerPoint(je.getLatLng()):this.mouseEventToContainerPoint(s),Qe.layerPoint=this.containerPointToLayerPoint(Qe.containerPoint),Qe.latlng=bt?je.getLatLng():this.layerPointToLatLng(Qe.layerPoint)}for(Se=0;Se<O.length;Se++)if(O[Se].fire(f,Qe,!0),Qe.originalEvent._stopped||O[Se].options.bubblingMouseEvents===!1&&U(this._mouseEvents,f)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,f=this._handlers.length;s<f;s++)this._handlers[s].disable()},whenReady:function(s,f){return this._loaded?s.call(f||this,{target:this}):this.on("load",s,f),this},_getMapPanePos:function(){return ka(this._mapPane)||new Ie(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,f){var _=s&&f!==void 0?this._getNewPixelOrigin(s,f):this.getPixelOrigin();return _.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,f){var _=this.getSize()._divideBy(2);return this.project(s,f)._subtract(_)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,f,_){var S=this._getNewPixelOrigin(_,f);return this.project(s,f)._subtract(S)},_latLngBoundsToNewLayerBounds:function(s,f,_){var S=this._getNewPixelOrigin(_,f);return Xe([this.project(s.getSouthWest(),f)._subtract(S),this.project(s.getNorthWest(),f)._subtract(S),this.project(s.getSouthEast(),f)._subtract(S),this.project(s.getNorthEast(),f)._subtract(S)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,f,_){if(!_)return s;var S=this.project(s,f),O=this.getSize().divideBy(2),J=new qe(S.subtract(O),S.add(O)),Se=this._getBoundsOffset(J,_,f);return Math.abs(Se.x)<=1&&Math.abs(Se.y)<=1?s:this.unproject(S.add(Se),f)},_limitOffset:function(s,f){if(!f)return s;var _=this.getPixelBounds(),S=new qe(_.min.add(s),_.max.add(s));return s.add(this._getBoundsOffset(S,f))},_getBoundsOffset:function(s,f,_){var S=Xe(this.project(f.getNorthEast(),_),this.project(f.getSouthWest(),_)),O=S.min.subtract(s.min),J=S.max.subtract(s.max),Se=this._rebound(O.x,-J.x),je=this._rebound(O.y,-J.y);return new Ie(Se,je)},_rebound:function(s,f){return s+f>0?Math.round(s-f)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(f))},_limitZoom:function(s){var f=this.getMinZoom(),_=this.getMaxZoom(),S=$t.any3d?this.options.zoomSnap:1;return S&&(s=Math.round(s/S)*S),Math.max(f,Math.min(_,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Nr(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,f){var _=this._getCenterOffset(s)._trunc();return(f&&f.animate)!==!0&&!this.getSize().contains(_)?!1:(this.panBy(_,f),!0)},_createAnimProxy:function(){var s=this._proxy=Oi("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(f){var _=Jr,S=this._proxy.style[_];Ta(this._proxy,this.project(f.center,f.zoom),this.getZoomScale(f.zoom,1)),S===this._proxy.style[_]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){sr(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),f=this.getZoom();Ta(this._proxy,this.project(s,f),this.getZoomScale(f,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,f,_){if(this._animatingZoom)return!0;if(_=_||{},!this._zoomAnimated||_.animate===!1||this._nothingToAnimate()||Math.abs(f-this._zoom)>this.options.zoomAnimationThreshold)return!1;var S=this.getZoomScale(f),O=this._getCenterOffset(s)._divideBy(1-1/S);return _.animate!==!0&&!this.getSize().contains(O)?!1:(ce(function(){this._moveStart(!0,_.noMoveStart||!1)._animateZoom(s,f,!0)},this),!0)},_animateZoom:function(s,f,_,S){this._mapPane&&(_&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=f,Ai(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:f,noUpdate:S}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(n(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Nr(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Zd(s,f){return new $i(s,f)}var co=G.extend({options:{position:"topright"},initialize:function(s){x(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var f=this._map;return f&&f.removeControl(this),this.options.position=s,f&&f.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var f=this._container=this.onAdd(s),_=this.getPosition(),S=s._controlCorners[_];return Ai(f,"leaflet-control"),_.indexOf("bottom")!==-1?S.insertBefore(f,S.firstChild):S.appendChild(f),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(sr(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),Fs=function(s){return new co(s)};$i.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},f="leaflet-",_=this._controlContainer=Oi("div",f+"control-container",this._container);function S(O,J){var Se=f+O+" "+f+J;s[O+J]=Oi("div",Se,_)}S("top","left"),S("top","right"),S("bottom","left"),S("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)sr(this._controlCorners[s]);sr(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var da=co.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,f,_,S){return _<S?-1:S<_?1:0}},initialize:function(s,f,_){x(this,_),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var S in s)this._addLayer(s[S],S);for(S in f)this._addLayer(f[S],S,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return co.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,f){return this._addLayer(s,f),this._map?this._update():this},addOverlay:function(s,f){return this._addLayer(s,f,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var f=this._getLayer(a(s));return f&&this._layers.splice(this._layers.indexOf(f),1),this._map?this._update():this},expand:function(){Ai(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(Ai(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):Nr(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Nr(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",f=this._container=Oi("div",s),_=this.options.collapsed;f.setAttribute("aria-haspopup",!0),sl(f),al(f);var S=this._section=Oi("section",s+"-list");_&&(this._map.on("click",this.collapse,this),Mi(f,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var O=this._layersLink=Oi("a",s+"-toggle",f);O.href="#",O.title="Layers",O.setAttribute("role","button"),Mi(O,{keydown:function(J){J.keyCode===13&&this._expandSafely()},click:function(J){fn(J),this._expandSafely()}},this),_||this.expand(),this._baseLayersList=Oi("div",s+"-base",S),this._separator=Oi("div",s+"-separator",S),this._overlaysList=Oi("div",s+"-overlays",S),f.appendChild(S)},_getLayer:function(s){for(var f=0;f<this._layers.length;f++)if(this._layers[f]&&a(this._layers[f].layer)===s)return this._layers[f]},_addLayer:function(s,f,_){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:f,overlay:_}),this.options.sortLayers&&this._layers.sort(n(function(S,O){return this.options.sortFunction(S.layer,O.layer,S.name,O.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;In(this._baseLayersList),In(this._overlaysList),this._layerControlInputs=[];var s,f,_,S,O=0;for(_=0;_<this._layers.length;_++)S=this._layers[_],this._addItem(S),f=f||S.overlay,s=s||!S.overlay,O+=S.overlay?0:1;return this.options.hideSingleBase&&(s=s&&O>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=f&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var f=this._getLayer(a(s.target)),_=f.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;_&&this._map.fire(_,f)},_createRadioElement:function(s,f){var _='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(f?' checked="checked"':"")+"/>",S=document.createElement("div");return S.innerHTML=_,S.firstChild},_addItem:function(s){var f=document.createElement("label"),_=this._map.hasLayer(s.layer),S;s.overlay?(S=document.createElement("input"),S.type="checkbox",S.className="leaflet-control-layers-selector",S.defaultChecked=_):S=this._createRadioElement("leaflet-base-layers_"+a(this),_),this._layerControlInputs.push(S),S.layerId=a(s.layer),Mi(S,"click",this._onInputClick,this);var O=document.createElement("span");O.innerHTML=" "+s.name;var J=document.createElement("span");f.appendChild(J),J.appendChild(S),J.appendChild(O);var Se=s.overlay?this._overlaysList:this._baseLayersList;return Se.appendChild(f),this._checkDisabledLayers(),f},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,f,_,S=[],O=[];this._handlingClick=!0;for(var J=s.length-1;J>=0;J--)f=s[J],_=this._getLayer(f.layerId).layer,f.checked?S.push(_):f.checked||O.push(_);for(J=0;J<O.length;J++)this._map.hasLayer(O[J])&&this._map.removeLayer(O[J]);for(J=0;J<S.length;J++)this._map.hasLayer(S[J])||this._map.addLayer(S[J]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,f,_,S=this._map.getZoom(),O=s.length-1;O>=0;O--)f=s[O],_=this._getLayer(f.layerId).layer,f.disabled=_.options.minZoom!==void 0&&S<_.options.minZoom||_.options.maxZoom!==void 0&&S>_.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,Mi(s,"click",fn),this.expand();var f=this;setTimeout(function(){mr(s,"click",fn),f._preventClick=!1})}}),as=function(s,f,_){return new da(s,f,_)},Yc=co.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var f="leaflet-control-zoom",_=Oi("div",f+" leaflet-bar"),S=this.options;return this._zoomInButton=this._createButton(S.zoomInText,S.zoomInTitle,f+"-in",_,this._zoomIn),this._zoomOutButton=this._createButton(S.zoomOutText,S.zoomOutTitle,f+"-out",_,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),_},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,f,_,S,O){var J=Oi("a",_,S);return J.innerHTML=s,J.href="#",J.title=f,J.setAttribute("role","button"),J.setAttribute("aria-label",f),sl(J),Mi(J,"click",ns),Mi(J,"click",O,this),Mi(J,"click",this._refocusOnMap,this),J},_updateDisabled:function(){var s=this._map,f="leaflet-disabled";Nr(this._zoomInButton,f),Nr(this._zoomOutButton,f),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(Ai(this._zoomOutButton,f),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(Ai(this._zoomInButton,f),this._zoomInButton.setAttribute("aria-disabled","true"))}});$i.mergeOptions({zoomControl:!0}),$i.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Yc,this.addControl(this.zoomControl))});var Ns=function(s){return new Yc(s)},Ho=co.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var f="leaflet-control-scale",_=Oi("div",f),S=this.options;return this._addScales(S,f+"-line",_),s.on(S.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),_},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,f,_){s.metric&&(this._mScale=Oi("div",f,_)),s.imperial&&(this._iScale=Oi("div",f,_))},_update:function(){var s=this._map,f=s.getSize().y/2,_=s.distance(s.containerPointToLatLng([0,f]),s.containerPointToLatLng([this.options.maxWidth,f]));this._updateScales(_)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var f=this._getRoundNum(s),_=f<1e3?f+" m":f/1e3+" km";this._updateScale(this._mScale,_,f/s)},_updateImperial:function(s){var f=s*3.2808399,_,S,O;f>5280?(_=f/5280,S=this._getRoundNum(_),this._updateScale(this._iScale,S+" mi",S/_)):(O=this._getRoundNum(f),this._updateScale(this._iScale,O+" ft",O/f))},_updateScale:function(s,f,_){s.style.width=Math.round(this.options.maxWidth*_)+"px",s.innerHTML=f},_getRoundNum:function(s){var f=Math.pow(10,(Math.floor(s)+"").length-1),_=s/f;return _=_>=10?10:_>=5?5:_>=3?3:_>=2?2:1,f*_}}),Kc=function(s){return new Ho(s)},cl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Jc=co.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+($t.inlineSvg?cl+" ":"")+"Leaflet</a>"},initialize:function(s){x(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=Oi("div","leaflet-control-attribution"),sl(this._container);for(var f in s._layers)s._layers[f].getAttribution&&this.addAttribution(s._layers[f].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var f in this._attributions)this._attributions[f]&&s.push(f);var _=[];this.options.prefix&&_.push(this.options.prefix),s.length&&_.push(s.join(", ")),this._container.innerHTML=_.join(' <span aria-hidden="true">|</span> ')}}});$i.mergeOptions({attributionControl:!0}),$i.addInitHook(function(){this.options.attributionControl&&new Jc().addTo(this)});var zl=function(s){return new Jc(s)};co.Layers=da,co.Zoom=Yc,co.Scale=Ho,co.Attribution=Jc,Fs.layers=as,Fs.zoom=Ns,Fs.scale=Kc,Fs.attribution=zl;var Go=G.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Go.addTo=function(s,f){return s.addHandler(f,this),this};var Qc={Events:ye},Wl=$t.touch?"touchstart mousedown":"mousedown",ua=Le.extend({options:{clickTolerance:3},initialize:function(s,f,_,S){x(this,S),this._element=s,this._dragStartTarget=f||s,this._preventOutline=_},enable:function(){this._enabled||(Mi(this._dragStartTarget,Wl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ua._dragging===this&&this.finishDrag(!0),mr(this._dragStartTarget,Wl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Bl(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){ua._dragging===this&&this.finishDrag();return}if(!(ua._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(ua._dragging=this,this._preventOutline&&As(this._element),Gc(),ol(),!this._moving)){this.fire("down");var f=s.touches?s.touches[0]:s,_=Xc(this._element);this._startPoint=new Ie(f.clientX,f.clientY),this._startPos=ka(this._element),this._parentScale=_n(_);var S=s.type==="mousedown";Mi(document,S?"mousemove":"touchmove",this._onMove,this),Mi(document,S?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var f=s.touches&&s.touches.length===1?s.touches[0]:s,_=new Ie(f.clientX,f.clientY)._subtract(this._startPoint);!_.x&&!_.y||Math.abs(_.x)+Math.abs(_.y)<this.options.clickTolerance||(_.x/=this._parentScale.x,_.y/=this._parentScale.y,fn(s),this._moved||(this.fire("dragstart"),this._moved=!0,Ai(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ai(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(_),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),Gr(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){Nr(document.body,"leaflet-dragging"),this._lastTarget&&(Nr(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),mr(document,"mousemove touchmove",this._onMove,this),mr(document,"mouseup touchend touchcancel",this._onUp,this),$c(),ks();var f=this._moved&&this._moving;this._moving=!1,ua._dragging=!1,f&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function dl(s,f,_){var S,O=[1,4,2,8],J,Se,je,Qe,bt,Zt,gi,Bi;for(J=0,Zt=s.length;J<Zt;J++)s[J]._code=Me(s[J],f);for(je=0;je<4;je++){for(gi=O[je],S=[],J=0,Zt=s.length,Se=Zt-1;J<Zt;Se=J++)Qe=s[J],bt=s[Se],Qe._code&gi?bt._code&gi||(Bi=_e(bt,Qe,gi,f,_),Bi._code=Me(Bi,f),S.push(Bi)):(bt._code&gi&&(Bi=_e(bt,Qe,gi,f,_),Bi._code=Me(Bi,f),S.push(Bi)),S.push(Qe));s=S}return s}function Hl(s,f){var _,S,O,J,Se,je,Qe,bt,Zt;if(!s||s.length===0)throw new Error("latlngs not passed");ut(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var gi=R([0,0]),Bi=A(s),mn=Bi.getNorthWest().distanceTo(Bi.getSouthWest())*Bi.getNorthEast().distanceTo(Bi.getNorthWest());mn<1700&&(gi=ul(s));var xn=s.length,Xo=[];for(_=0;_<xn;_++){var Xn=R(s[_]);Xo.push(f.project(R([Xn.lat-gi.lat,Xn.lng-gi.lng])))}for(je=Qe=bt=0,_=0,S=xn-1;_<xn;S=_++)O=Xo[_],J=Xo[S],Se=O.y*J.x-J.y*O.x,Qe+=(O.x+J.x)*Se,bt+=(O.y+J.y)*Se,je+=Se*3;je===0?Zt=Xo[0]:Zt=[Qe/je,bt/je];var ec=f.unproject(ke(Zt));return R([ec.lat+gi.lat,ec.lng+gi.lng])}function ul(s){for(var f=0,_=0,S=0,O=0;O<s.length;O++){var J=R(s[O]);f+=J.lat,_+=J.lng,S++}return R([f/S,_/S])}var Yd={__proto__:null,clipPolygon:dl,polygonCenter:Hl,centroid:ul};function Kd(s,f){if(!f||!s.length)return s.slice();var _=f*f;return s=td(s,_),s=ed(s,_),s}function pl(s,f,_){return Math.sqrt(it(s,f,_,!0))}function fl(s,f,_){return it(s,f,_)}function ed(s,f){var _=s.length,S=typeof Uint8Array<"u"?Uint8Array:Array,O=new S(_);O[0]=O[_-1]=1,Aa(s,O,f,0,_-1);var J,Se=[];for(J=0;J<_;J++)O[J]&&Se.push(s[J]);return Se}function Aa(s,f,_,S,O){var J=0,Se,je,Qe;for(je=S+1;je<=O-1;je++)Qe=it(s[je],s[S],s[O],!0),Qe>J&&(Se=je,J=Qe);J>_&&(f[Se]=1,Aa(s,f,_,S,Se),Aa(s,f,_,Se,O))}function td(s,f){for(var _=[s[0]],S=1,O=0,J=s.length;S<J;S++)Ve(s[S],s[O])>f&&(_.push(s[S]),O=S);return O<J-1&&_.push(s[J-1]),_}var C;function V(s,f,_,S,O){var J=S?C:Me(s,_),Se=Me(f,_),je,Qe,bt;for(C=Se;;){if(!(J|Se))return[s,f];if(J&Se)return!1;je=J||Se,Qe=_e(s,f,je,_,O),bt=Me(Qe,_),je===J?(s=Qe,J=bt):(f=Qe,Se=bt)}}function _e(s,f,_,S,O){var J=f.x-s.x,Se=f.y-s.y,je=S.min,Qe=S.max,bt,Zt;return _&8?(bt=s.x+J*(Qe.y-s.y)/Se,Zt=Qe.y):_&4?(bt=s.x+J*(je.y-s.y)/Se,Zt=je.y):_&2?(bt=Qe.x,Zt=s.y+Se*(Qe.x-s.x)/J):_&1&&(bt=je.x,Zt=s.y+Se*(je.x-s.x)/J),new Ie(bt,Zt,O)}function Me(s,f){var _=0;return s.x<f.min.x?_|=1:s.x>f.max.x&&(_|=2),s.y<f.min.y?_|=4:s.y>f.max.y&&(_|=8),_}function Ve(s,f){var _=f.x-s.x,S=f.y-s.y;return _*_+S*S}function it(s,f,_,S){var O=f.x,J=f.y,Se=_.x-O,je=_.y-J,Qe=Se*Se+je*je,bt;return Qe>0&&(bt=((s.x-O)*Se+(s.y-J)*je)/Qe,bt>1?(O=_.x,J=_.y):bt>0&&(O+=Se*bt,J+=je*bt)),Se=s.x-O,je=s.y-J,S?Se*Se+je*je:new Ie(O,J)}function ut(s){return!F(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function Gt(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ut(s)}function li(s,f){var _,S,O,J,Se,je,Qe,bt;if(!s||s.length===0)throw new Error("latlngs not passed");ut(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Zt=R([0,0]),gi=A(s),Bi=gi.getNorthWest().distanceTo(gi.getSouthWest())*gi.getNorthEast().distanceTo(gi.getNorthWest());Bi<1700&&(Zt=ul(s));var mn=s.length,xn=[];for(_=0;_<mn;_++){var Xo=R(s[_]);xn.push(f.project(R([Xo.lat-Zt.lat,Xo.lng-Zt.lng])))}for(_=0,S=0;_<mn-1;_++)S+=xn[_].distanceTo(xn[_+1])/2;if(S===0)bt=xn[0];else for(_=0,J=0;_<mn-1;_++)if(Se=xn[_],je=xn[_+1],O=Se.distanceTo(je),J+=O,J>S){Qe=(J-S)/O,bt=[je.x-Qe*(je.x-Se.x),je.y-Qe*(je.y-Se.y)];break}var Xn=f.unproject(ke(bt));return R([Xn.lat+Zt.lat,Xn.lng+Zt.lng])}var Ii={__proto__:null,simplify:Kd,pointToSegmentDistance:pl,closestPointOnSegment:fl,clipSegment:V,_getEdgeIntersection:_e,_getBitCode:Me,_sqClosestPointOnSegment:it,isFlat:ut,_flat:Gt,polylineCenter:li},Pi={project:function(s){return new Ie(s.lng,s.lat)},unproject:function(s){return new j(s.y,s.x)},bounds:new qe([-180,-90],[180,90])},Zi={R:6378137,R_MINOR:6356752314245179e-9,bounds:new qe([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var f=Math.PI/180,_=this.R,S=s.lat*f,O=this.R_MINOR/_,J=Math.sqrt(1-O*O),Se=J*Math.sin(S),je=Math.tan(Math.PI/4-S/2)/Math.pow((1-Se)/(1+Se),J/2);return S=-_*Math.log(Math.max(je,1e-10)),new Ie(s.lng*f*_,S)},unproject:function(s){for(var f=180/Math.PI,_=this.R,S=this.R_MINOR/_,O=Math.sqrt(1-S*S),J=Math.exp(-s.y/_),Se=Math.PI/2-2*Math.atan(J),je=0,Qe=.1,bt;je<15&&Math.abs(Qe)>1e-7;je++)bt=O*Math.sin(Se),bt=Math.pow((1-bt)/(1+bt),O/2),Qe=Math.PI/2-2*Math.atan(J*bt)-Se,Se+=Qe;return new j(Se*f,s.x*f/_)}},jr={__proto__:null,LonLat:Pi,Mercator:Zi,SphericalMercator:Ne},$r=e({},le,{code:"EPSG:3395",projection:Zi,transformation:function(){var s=.5/(Math.PI*Zi.R);return Be(s,.5,-s,.5)}()}),Qr=e({},le,{code:"EPSG:4326",projection:Pi,transformation:Be(1/180,1,-1/180,.5)}),On=e({},z,{projection:Pi,transformation:Be(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,f){var _=f.lng-s.lng,S=f.lat-s.lat;return Math.sqrt(_*_+S*S)},infinite:!0});z.Earth=le,z.EPSG3395=$r,z.EPSG3857=at,z.EPSG900913=mt,z.EPSG4326=Qr,z.Simple=On;var hr=Le.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[a(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[a(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var f=s.target;if(f.hasLayer(this)){if(this._map=f,this._zoomAnimated=f._zoomAnimated,this.getEvents){var _=this.getEvents();f.on(_,this),this.once("remove",function(){f.off(_,this)},this)}this.onAdd(f),this.fire("add"),f.fire("layeradd",{layer:this})}}});$i.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var f=a(s);return this._layers[f]?this:(this._layers[f]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var f=a(s);return this._layers[f]?(this._loaded&&s.onRemove(this),delete this._layers[f],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return a(s)in this._layers},eachLayer:function(s,f){for(var _ in this._layers)s.call(f,this._layers[_]);return this},_addLayers:function(s){s=s?F(s)?s:[s]:[];for(var f=0,_=s.length;f<_;f++)this.addLayer(s[f])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[a(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var f=a(s);this._zoomBoundLayers[f]&&(delete this._zoomBoundLayers[f],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,f=-1/0,_=this._getZoomSpan();for(var S in this._zoomBoundLayers){var O=this._zoomBoundLayers[S].options;s=O.minZoom===void 0?s:Math.min(s,O.minZoom),f=O.maxZoom===void 0?f:Math.max(f,O.maxZoom)}this._layersMaxZoom=f===-1/0?void 0:f,this._layersMinZoom=s===1/0?void 0:s,_!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Fn=hr.extend({initialize:function(s,f){x(this,f),this._layers={};var _,S;if(s)for(_=0,S=s.length;_<S;_++)this.addLayer(s[_])},addLayer:function(s){var f=this.getLayerId(s);return this._layers[f]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var f=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[f]&&this._map.removeLayer(this._layers[f]),delete this._layers[f],this},hasLayer:function(s){var f=typeof s=="number"?s:this.getLayerId(s);return f in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var f=Array.prototype.slice.call(arguments,1),_,S;for(_ in this._layers)S=this._layers[_],S[s]&&S[s].apply(S,f);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,f){for(var _ in this._layers)s.call(f,this._layers[_]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return a(s)}}),Po=function(s,f){return new Fn(s,f)},bn=Fn.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),Fn.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),Fn.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new St;for(var f in this._layers){var _=this._layers[f];s.extend(_.getBounds?_.getBounds():_.getLatLng())}return s}}),Jd=function(s,f){return new bn(s,f)},Ia=G.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){x(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,f){var _=this._getIconUrl(s);if(!_){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var S=this._createImg(_,f&&f.tagName==="IMG"?f:null);return this._setIconStyles(S,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(S.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),S},_setIconStyles:function(s,f){var _=this.options,S=_[f+"Size"];typeof S=="number"&&(S=[S,S]);var O=ke(S),J=ke(f==="shadow"&&_.shadowAnchor||_.iconAnchor||O&&O.divideBy(2,!0));s.className="leaflet-marker-"+f+" "+(_.className||""),J&&(s.style.marginLeft=-J.x+"px",s.style.marginTop=-J.y+"px"),O&&(s.style.width=O.x+"px",s.style.height=O.y+"px")},_createImg:function(s,f){return f=f||document.createElement("img"),f.src=s,f},_getIconUrl:function(s){return $t.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function id(s){return new Ia(s)}var Oa=Ia.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof Oa.imagePath!="string"&&(Oa.imagePath=this._detectIconPath()),(this.options.imagePath||Oa.imagePath)+Ia.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var f=function(_,S,O){var J=S.exec(_);return J&&J[O]};return s=f(s,/^url\((['"])?(.+)\1\)$/,2),s&&f(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=Oi("div","leaflet-default-icon-path",document.body),f=ao(s,"background-image")||ao(s,"backgroundImage");if(document.body.removeChild(s),f=this._stripUrl(f),f)return f;var _=document.querySelector('link[href$="leaflet.css"]');return _?_.href.substring(0,_.href.length-11-1):""}}),Gl=Go.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new ua(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ai(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Nr(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var f=this._marker,_=f._map,S=this._marker.options.autoPanSpeed,O=this._marker.options.autoPanPadding,J=ka(f._icon),Se=_.getPixelBounds(),je=_.getPixelOrigin(),Qe=Xe(Se.min._subtract(je).add(O),Se.max._subtract(je).subtract(O));if(!Qe.contains(J)){var bt=ke((Math.max(Qe.max.x,J.x)-Qe.max.x)/(Se.max.x-Qe.max.x)-(Math.min(Qe.min.x,J.x)-Qe.min.x)/(Se.min.x-Qe.min.x),(Math.max(Qe.max.y,J.y)-Qe.max.y)/(Se.max.y-Qe.max.y)-(Math.min(Qe.min.y,J.y)-Qe.min.y)/(Se.min.y-Qe.min.y)).multiplyBy(S);_.panBy(bt,{animate:!1}),this._draggable._newPos._add(bt),this._draggable._startPos._add(bt),Gr(f._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=ce(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(Ce(this._panRequest),this._panRequest=ce(this._adjustPan.bind(this,s)))},_onDrag:function(s){var f=this._marker,_=f._shadow,S=ka(f._icon),O=f._map.layerPointToLatLng(S);_&&Gr(_,S),f._latlng=O,s.latlng=O,s.oldLatLng=this._oldLatLng,f.fire("move",s).fire("drag",s)},_onDragEnd:function(s){Ce(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),Ls=hr.extend({options:{icon:new Oa,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,f){x(this,f),this._latlng=R(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var f=this._latlng;return this._latlng=R(s),this.update(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,f="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),_=s.icon.createIcon(this._icon),S=!1;_!==this._icon&&(this._icon&&this._removeIcon(),S=!0,s.title&&(_.title=s.title),_.tagName==="IMG"&&(_.alt=s.alt||"")),Ai(_,f),s.keyboard&&(_.tabIndex="0",_.setAttribute("role","button")),this._icon=_,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Mi(_,"focus",this._panOnFocus,this);var O=s.icon.createShadow(this._shadow),J=!1;O!==this._shadow&&(this._removeShadow(),J=!0),O&&(Ai(O,f),O.alt=""),this._shadow=O,s.opacity<1&&this._updateOpacity(),S&&this.getPane().appendChild(this._icon),this._initInteraction(),O&&J&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&mr(this._icon,"focus",this._panOnFocus,this),sr(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&sr(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&Gr(this._icon,s),this._shadow&&Gr(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var f=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(f)},_initInteraction:function(){if(this.options.interactive&&(Ai(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Gl)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Gl(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Mn(this._icon,s),this._shadow&&Mn(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var f=this.options.icon.options,_=f.iconSize?ke(f.iconSize):ke(0,0),S=f.iconAnchor?ke(f.iconAnchor):ke(0,0);s.panInside(this._latlng,{paddingTopLeft:S,paddingBottomRight:_.subtract(S)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function $l(s,f){return new Ls(s,f)}var Br=hr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return x(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ss=Br.extend({options:{fill:!0,radius:10},initialize:function(s,f){x(this,f),this._latlng=R(s),this._radius=this.options.radius},setLatLng:function(s){var f=this._latlng;return this._latlng=R(s),this.redraw(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var f=s&&s.radius||this._radius;return Br.prototype.setStyle.call(this,s),this.setRadius(f),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,f=this._radiusY||s,_=this._clickTolerance(),S=[s+_,f+_];this._pxBounds=new qe(this._point.subtract(S),this._point.add(S))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Xl(s,f){return new ss(s,f)}var Ds=ss.extend({initialize:function(s,f,_){if(typeof f=="number"&&(f=e({},_,{radius:f})),x(this,f),this._latlng=R(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new St(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Br.prototype.setStyle,_project:function(){var s=this._latlng.lng,f=this._latlng.lat,_=this._map,S=_.options.crs;if(S.distance===le.distance){var O=Math.PI/180,J=this._mRadius/le.R/O,Se=_.project([f+J,s]),je=_.project([f-J,s]),Qe=Se.add(je).divideBy(2),bt=_.unproject(Qe).lat,Zt=Math.acos((Math.cos(J*O)-Math.sin(f*O)*Math.sin(bt*O))/(Math.cos(f*O)*Math.cos(bt*O)))/O;(isNaN(Zt)||Zt===0)&&(Zt=J/Math.cos(Math.PI/180*f)),this._point=Qe.subtract(_.getPixelOrigin()),this._radius=isNaN(Zt)?0:Qe.x-_.project([bt,s-Zt]).x,this._radiusY=Qe.y-Se.y}else{var gi=S.unproject(S.project(this._latlng).subtract([this._mRadius,0]));this._point=_.latLngToLayerPoint(this._latlng),this._radius=this._point.x-_.latLngToLayerPoint(gi).x}this._updateBounds()}});function rd(s,f,_){return new Ds(s,f,_)}var Xr=Br.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,f){x(this,f),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var f=1/0,_=null,S=it,O,J,Se=0,je=this._parts.length;Se<je;Se++)for(var Qe=this._parts[Se],bt=1,Zt=Qe.length;bt<Zt;bt++){O=Qe[bt-1],J=Qe[bt];var gi=S(s,O,J,!0);gi<f&&(f=gi,_=S(s,O,J))}return _&&(_.distance=Math.sqrt(f)),_},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return li(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,f){return f=f||this._defaultShape(),s=R(s),f.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new St,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return ut(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var f=[],_=ut(s),S=0,O=s.length;S<O;S++)_?(f[S]=R(s[S]),this._bounds.extend(f[S])):f[S]=this._convertLatLngs(s[S]);return f},_project:function(){var s=new qe;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),f=new Ie(s,s);this._rawPxBounds&&(this._pxBounds=new qe([this._rawPxBounds.min.subtract(f),this._rawPxBounds.max.add(f)]))},_projectLatlngs:function(s,f,_){var S=s[0]instanceof j,O=s.length,J,Se;if(S){for(Se=[],J=0;J<O;J++)Se[J]=this._map.latLngToLayerPoint(s[J]),_.extend(Se[J]);f.push(Se)}else for(J=0;J<O;J++)this._projectLatlngs(s[J],f,_)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var f=this._parts,_,S,O,J,Se,je,Qe;for(_=0,O=0,J=this._rings.length;_<J;_++)for(Qe=this._rings[_],S=0,Se=Qe.length;S<Se-1;S++)je=V(Qe[S],Qe[S+1],s,S,!0),je&&(f[O]=f[O]||[],f[O].push(je[0]),(je[1]!==Qe[S+1]||S===Se-2)&&(f[O].push(je[1]),O++))}},_simplifyPoints:function(){for(var s=this._parts,f=this.options.smoothFactor,_=0,S=s.length;_<S;_++)s[_]=Kd(s[_],f)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,f){var _,S,O,J,Se,je,Qe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(_=0,J=this._parts.length;_<J;_++)for(je=this._parts[_],S=0,Se=je.length,O=Se-1;S<Se;O=S++)if(!(!f&&S===0)&&pl(s,je[O],je[S])<=Qe)return!0;return!1}});function uu(s,f){return new Xr(s,f)}Xr._flat=Gt;var Fa=Xr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Hl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var f=Xr.prototype._convertLatLngs.call(this,s),_=f.length;return _>=2&&f[0]instanceof j&&f[0].equals(f[_-1])&&f.pop(),f},_setLatLngs:function(s){Xr.prototype._setLatLngs.call(this,s),ut(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ut(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,f=this.options.weight,_=new Ie(f,f);if(s=new qe(s.min.subtract(_),s.max.add(_)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var S=0,O=this._rings.length,J;S<O;S++)J=dl(this._rings[S],s,!0),J.length&&this._parts.push(J)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var f=!1,_,S,O,J,Se,je,Qe,bt;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(J=0,Qe=this._parts.length;J<Qe;J++)for(_=this._parts[J],Se=0,bt=_.length,je=bt-1;Se<bt;je=Se++)S=_[Se],O=_[je],S.y>s.y!=O.y>s.y&&s.x<(O.x-S.x)*(s.y-S.y)/(O.y-S.y)+S.x&&(f=!f);return f||Xr.prototype._containsPoint.call(this,s,!0)}});function Qd(s,f){return new Fa(s,f)}var nn=bn.extend({initialize:function(s,f){x(this,f),this._layers={},s&&this.addData(s)},addData:function(s){var f=F(s)?s:s.features,_,S,O;if(f){for(_=0,S=f.length;_<S;_++)O=f[_],(O.geometries||O.geometry||O.features||O.coordinates)&&this.addData(O);return this}var J=this.options;if(J.filter&&!J.filter(s))return this;var Se=ls(s,J);return Se?(Se.feature=fa(s),Se.defaultOptions=Se.options,this.resetStyle(Se),J.onEachFeature&&J.onEachFeature(s,Se),this.addLayer(Se)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=e({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(f){this._setLayerStyle(f,s)},this)},_setLayerStyle:function(s,f){s.setStyle&&(typeof f=="function"&&(f=f(s.feature)),s.setStyle(f))}});function ls(s,f){var _=s.type==="Feature"?s.geometry:s,S=_?_.coordinates:null,O=[],J=f&&f.pointToLayer,Se=f&&f.coordsToLatLng||Zl,je,Qe,bt,Zt;if(!S&&!_)return null;switch(_.type){case"Point":return je=Se(S),nd(J,s,je,f);case"MultiPoint":for(bt=0,Zt=S.length;bt<Zt;bt++)je=Se(S[bt]),O.push(nd(J,s,je,f));return new bn(O);case"LineString":case"MultiLineString":return Qe=pa(S,_.type==="LineString"?0:1,Se),new Xr(Qe,f);case"Polygon":case"MultiPolygon":return Qe=pa(S,_.type==="Polygon"?1:2,Se),new Fa(Qe,f);case"GeometryCollection":for(bt=0,Zt=_.geometries.length;bt<Zt;bt++){var gi=ls({geometry:_.geometries[bt],type:"Feature",properties:s.properties},f);gi&&O.push(gi)}return new bn(O);case"FeatureCollection":for(bt=0,Zt=_.features.length;bt<Zt;bt++){var Bi=ls(_.features[bt],f);Bi&&O.push(Bi)}return new bn(O);default:throw new Error("Invalid GeoJSON object.")}}function nd(s,f,_,S){return s?s(f,_):new Ls(_,S&&S.markersInheritOptions&&S)}function Zl(s){return new j(s[1],s[0],s[2])}function pa(s,f,_){for(var S=[],O=0,J=s.length,Se;O<J;O++)Se=f?pa(s[O],f-1,_):(_||Zl)(s[O]),S.push(Se);return S}function cs(s,f){return s=R(s),s.alt!==void 0?[v(s.lng,f),v(s.lat,f),v(s.alt,f)]:[v(s.lng,f),v(s.lat,f)]}function Tn(s,f,_,S){for(var O=[],J=0,Se=s.length;J<Se;J++)O.push(f?Tn(s[J],ut(s[J])?0:f-1,_,S):cs(s[J],S));return!f&&_&&O.length>0&&O.push(O[0].slice()),O}function on(s,f){return s.feature?e({},s.feature,{geometry:f}):fa(f)}function fa(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var ma={toGeoJSON:function(s){return on(this,{type:"Point",coordinates:cs(this.getLatLng(),s)})}};Ls.include(ma),Ds.include(ma),ss.include(ma),Xr.include({toGeoJSON:function(s){var f=!ut(this._latlngs),_=Tn(this._latlngs,f?1:0,!1,s);return on(this,{type:(f?"Multi":"")+"LineString",coordinates:_})}}),Fa.include({toGeoJSON:function(s){var f=!ut(this._latlngs),_=f&&!ut(this._latlngs[0]),S=Tn(this._latlngs,_?2:f?1:0,!0,s);return f||(S=[S]),on(this,{type:(_?"Multi":"")+"Polygon",coordinates:S})}}),Fn.include({toMultiPoint:function(s){var f=[];return this.eachLayer(function(_){f.push(_.toGeoJSON(s).geometry.coordinates)}),on(this,{type:"MultiPoint",coordinates:f})},toGeoJSON:function(s){var f=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(f==="MultiPoint")return this.toMultiPoint(s);var _=f==="GeometryCollection",S=[];return this.eachLayer(function(O){if(O.toGeoJSON){var J=O.toGeoJSON(s);if(_)S.push(J.geometry);else{var Se=fa(J);Se.type==="FeatureCollection"?S.push.apply(S,Se.features):S.push(Se)}}}),_?on(this,{geometries:S,type:"GeometryCollection"}):{type:"FeatureCollection",features:S}}});function Na(s,f){return new nn(s,f)}var Yl=Na,$o=hr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,f,_){this._url=s,this._bounds=A(f),x(this,_)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ai(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){sr(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Tr(this._image),this},bringToBack:function(){return this._map&&ts(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=A(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",f=this._image=s?this._url:Oi("img");if(Ai(f,"leaflet-image-layer"),this._zoomAnimated&&Ai(f,"leaflet-zoom-animated"),this.options.className&&Ai(f,this.options.className),f.onselectstart=m,f.onmousemove=m,f.onload=n(this.fire,this,"load"),f.onerror=n(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=f.src;return}f.src=this._url,f.alt=this.options.alt},_animateZoom:function(s){var f=this._map.getZoomScale(s.zoom),_=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;Ta(this._image,_,f)},_reset:function(){var s=this._image,f=new qe(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),_=f.getSize();Gr(s,f.min),s.style.width=_.x+"px",s.style.height=_.y+"px"},_updateOpacity:function(){Mn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),en=function(s,f,_){return new $o(s,f,_)},Kl=$o.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",f=this._image=s?this._url:Oi("video");if(Ai(f,"leaflet-image-layer"),this._zoomAnimated&&Ai(f,"leaflet-zoom-animated"),this.options.className&&Ai(f,this.options.className),f.onselectstart=m,f.onmousemove=m,f.onloadeddata=n(this.fire,this,"load"),s){for(var _=f.getElementsByTagName("source"),S=[],O=0;O<_.length;O++)S.push(_[O].src);this._url=_.length>0?S:[f.src];return}F(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(f.style,"objectFit")&&(f.style.objectFit="fill"),f.autoplay=!!this.options.autoplay,f.loop=!!this.options.loop,f.muted=!!this.options.muted,f.playsInline=!!this.options.playsInline;for(var J=0;J<this._url.length;J++){var Se=Oi("source");Se.src=this._url[J],f.appendChild(Se)}}});function $n(s,f,_){return new Kl(s,f,_)}var Mo=$o.extend({_initImage:function(){var s=this._image=this._url;Ai(s,"leaflet-image-layer"),this._zoomAnimated&&Ai(s,"leaflet-zoom-animated"),this.options.className&&Ai(s,this.options.className),s.onselectstart=m,s.onmousemove=m}});function Jl(s,f,_){return new Mo(s,f,_)}var To=hr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,f){s&&(s instanceof j||F(s))?(this._latlng=R(s),x(this,f)):(x(this,s),this._source=f),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Mn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Mn(this._container,1),this.bringToFront(),this.options.interactive&&(Ai(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Mn(this._container,0),this._removeTimeout=setTimeout(n(sr,void 0,this._container),200)):sr(this._container),this.options.interactive&&(Nr(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=R(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Tr(this._container),this},bringToBack:function(){return this._map&&ts(this._container),this},_prepareOpen:function(s){var f=this._source;if(!f._map)return!1;if(f instanceof bn){f=null;var _=this._source._layers;for(var S in _)if(_[S]._map){f=_[S];break}if(!f)return!1;this._source=f}if(!s)if(f.getCenter)s=f.getCenter();else if(f.getLatLng)s=f.getLatLng();else if(f.getBounds)s=f.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,f=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof f=="string")s.innerHTML=f;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(f)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),f=ke(this.options.offset),_=this._getAnchor();this._zoomAnimated?Gr(this._container,s.add(_)):f=f.add(s).add(_);var S=this._containerBottom=-f.y,O=this._containerLeft=-Math.round(this._containerWidth/2)+f.x;this._container.style.bottom=S+"px",this._container.style.left=O+"px"}},_getAnchor:function(){return[0,0]}});$i.include({_initOverlay:function(s,f,_,S){var O=f;return O instanceof s||(O=new s(S).setContent(f)),_&&O.setLatLng(_),O}}),hr.include({_initOverlay:function(s,f,_,S){var O=_;return O instanceof s?(x(O,S),O._source=this):(O=f&&!S?f:new s(S,this),O.setContent(_)),O}});var Rs=To.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,To.prototype.openOn.call(this,s)},onAdd:function(s){To.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Br||this._source.on("preclick",Wo))},onRemove:function(s){To.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Br||this._source.off("preclick",Wo))},getEvents:function(){var s=To.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",f=this._container=Oi("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),_=this._wrapper=Oi("div",s+"-content-wrapper",f);if(this._contentNode=Oi("div",s+"-content",_),sl(f),al(this._contentNode),Mi(f,"contextmenu",Wo),this._tipContainer=Oi("div",s+"-tip-container",f),this._tip=Oi("div",s+"-tip",this._tipContainer),this.options.closeButton){var S=this._closeButton=Oi("a",s+"-close-button",f);S.setAttribute("role","button"),S.setAttribute("aria-label","Close popup"),S.href="#close",S.innerHTML='<span aria-hidden="true">&#215;</span>',Mi(S,"click",function(O){fn(O),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,f=s.style;f.width="",f.whiteSpace="nowrap";var _=s.offsetWidth;_=Math.min(_,this.options.maxWidth),_=Math.max(_,this.options.minWidth),f.width=_+1+"px",f.whiteSpace="",f.height="";var S=s.offsetHeight,O=this.options.maxHeight,J="leaflet-popup-scrolled";O&&S>O?(f.height=O+"px",Ai(s,J)):Nr(s,J),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var f=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),_=this._getAnchor();Gr(this._container,f.add(_))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,f=parseInt(ao(this._container,"marginBottom"),10)||0,_=this._container.offsetHeight+f,S=this._containerWidth,O=new Ie(this._containerLeft,-_-this._containerBottom);O._add(ka(this._container));var J=s.layerPointToContainerPoint(O),Se=ke(this.options.autoPanPadding),je=ke(this.options.autoPanPaddingTopLeft||Se),Qe=ke(this.options.autoPanPaddingBottomRight||Se),bt=s.getSize(),Zt=0,gi=0;J.x+S+Qe.x>bt.x&&(Zt=J.x+S-bt.x+Qe.x),J.x-Zt-je.x<0&&(Zt=J.x-je.x),J.y+_+Qe.y>bt.y&&(gi=J.y+_-bt.y+Qe.y),J.y-gi-je.y<0&&(gi=J.y-je.y),(Zt||gi)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([Zt,gi]))}},_getAnchor:function(){return ke(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ml=function(s,f){return new Rs(s,f)};$i.mergeOptions({closePopupOnClick:!0}),$i.include({openPopup:function(s,f,_){return this._initOverlay(Rs,s,f,_).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),hr.include({bindPopup:function(s,f){return this._popup=this._initOverlay(Rs,this._popup,s,f),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof bn||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){ns(s);var f=s.layer||s.target;if(this._popup._source===f&&!(f instanceof Br)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=f,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var La=To.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){To.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){To.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=To.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",f=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Oi("div",f),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+a(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var f,_,S=this._map,O=this._container,J=S.latLngToContainerPoint(S.getCenter()),Se=S.layerPointToContainerPoint(s),je=this.options.direction,Qe=O.offsetWidth,bt=O.offsetHeight,Zt=ke(this.options.offset),gi=this._getAnchor();je==="top"?(f=Qe/2,_=bt):je==="bottom"?(f=Qe/2,_=0):je==="center"?(f=Qe/2,_=bt/2):je==="right"?(f=0,_=bt/2):je==="left"?(f=Qe,_=bt/2):Se.x<J.x?(je="right",f=0,_=bt/2):(je="left",f=Qe+(Zt.x+gi.x)*2,_=bt/2),s=s.subtract(ke(f,_,!0)).add(Zt).add(gi),Nr(O,"leaflet-tooltip-right"),Nr(O,"leaflet-tooltip-left"),Nr(O,"leaflet-tooltip-top"),Nr(O,"leaflet-tooltip-bottom"),Ai(O,"leaflet-tooltip-"+je),Gr(O,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Mn(this._container,s)},_animateZoom:function(s){var f=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(f)},_getAnchor:function(){return ke(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Bs=function(s,f){return new La(s,f)};$i.include({openTooltip:function(s,f,_){return this._initOverlay(La,s,f,_).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),hr.include({bindTooltip:function(s,f){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(La,this._tooltip,s,f),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var f=s?"off":"on",_={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?_.add=this._openTooltip:(_.mouseover=this._openTooltip,_.mouseout=this.closeTooltip,_.click=this._openTooltip,this._map?this._addFocusListeners():_.add=this._addFocusListeners),this._tooltip.options.sticky&&(_.mousemove=this._moveTooltip),this[f](_),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof bn||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var f=typeof s.getElement=="function"&&s.getElement();f&&(Mi(f,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),Mi(f,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var f=typeof s.getElement=="function"&&s.getElement();f&&f.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var f=this;this._map.once("moveend",function(){f._openOnceFlag=!1,f._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var f=s.latlng,_,S;this._tooltip.options.sticky&&s.originalEvent&&(_=this._map.mouseEventToContainerPoint(s.originalEvent),S=this._map.containerPointToLayerPoint(_),f=this._map.layerPointToLatLng(S)),this._tooltip.setLatLng(f)}});var Us=Ia.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var f=s&&s.tagName==="DIV"?s:document.createElement("div"),_=this.options;if(_.html instanceof Element?(In(f),f.appendChild(_.html)):f.innerHTML=_.html!==!1?_.html:"",_.bgPos){var S=ke(_.bgPos);f.style.backgroundPosition=-S.x+"px "+-S.y+"px"}return this._setIconStyles(f,"icon"),f},createShadow:function(){return null}});function Ql(s){return new Us(s)}Ia.Default=Oa;var ha=hr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:$t.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){x(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),sr(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Tr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ts(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof Ie?s:new Ie(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var f=this.getPane().children,_=-s(-1/0,1/0),S=0,O=f.length,J;S<O;S++)J=f[S].style.zIndex,f[S]!==this._container&&J&&(_=s(_,+J));isFinite(_)&&(this.options.zIndex=_+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!$t.ielt9){Mn(this._container,this.options.opacity);var s=+new Date,f=!1,_=!1;for(var S in this._tiles){var O=this._tiles[S];if(!(!O.current||!O.loaded)){var J=Math.min(1,(s-O.loaded)/200);Mn(O.el,J),J<1?f=!0:(O.active?_=!0:this._onOpaqueTile(O),O.active=!0)}}_&&!this._noPrune&&this._pruneTiles(),f&&(Ce(this._fadeFrame),this._fadeFrame=ce(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=Oi("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,f=this.options.maxZoom;if(s!==void 0){for(var _ in this._levels)_=Number(_),this._levels[_].el.children.length||_===s?(this._levels[_].el.style.zIndex=f-Math.abs(s-_),this._onUpdateLevel(_)):(sr(this._levels[_].el),this._removeTilesAtZoom(_),this._onRemoveLevel(_),delete this._levels[_]);var S=this._levels[s],O=this._map;return S||(S=this._levels[s]={},S.el=Oi("div","leaflet-tile-container leaflet-zoom-animated",this._container),S.el.style.zIndex=f,S.origin=O.project(O.unproject(O.getPixelOrigin()),s).round(),S.zoom=s,this._setZoomTransform(S,O.getCenter(),O.getZoom()),m(S.el.offsetWidth),this._onCreateLevel(S)),this._level=S,S}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var s,f,_=this._map.getZoom();if(_>this.options.maxZoom||_<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)f=this._tiles[s],f.retain=f.current;for(s in this._tiles)if(f=this._tiles[s],f.current&&!f.active){var S=f.coords;this._retainParent(S.x,S.y,S.z,S.z-5)||this._retainChildren(S.x,S.y,S.z,S.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var f in this._tiles)this._tiles[f].coords.z===s&&this._removeTile(f)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)sr(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,f,_,S){var O=Math.floor(s/2),J=Math.floor(f/2),Se=_-1,je=new Ie(+O,+J);je.z=+Se;var Qe=this._tileCoordsToKey(je),bt=this._tiles[Qe];return bt&&bt.active?(bt.retain=!0,!0):(bt&&bt.loaded&&(bt.retain=!0),Se>S?this._retainParent(O,J,Se,S):!1)},_retainChildren:function(s,f,_,S){for(var O=2*s;O<2*s+2;O++)for(var J=2*f;J<2*f+2;J++){var Se=new Ie(O,J);Se.z=_+1;var je=this._tileCoordsToKey(Se),Qe=this._tiles[je];if(Qe&&Qe.active){Qe.retain=!0;continue}else Qe&&Qe.loaded&&(Qe.retain=!0);_+1<S&&this._retainChildren(O,J,_+1,S)}},_resetView:function(s){var f=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),f,f)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var f=this.options;return f.minNativeZoom!==void 0&&s<f.minNativeZoom?f.minNativeZoom:f.maxNativeZoom!==void 0&&f.maxNativeZoom<s?f.maxNativeZoom:s},_setView:function(s,f,_,S){var O=Math.round(f);this.options.maxZoom!==void 0&&O>this.options.maxZoom||this.options.minZoom!==void 0&&O<this.options.minZoom?O=void 0:O=this._clampZoom(O);var J=this.options.updateWhenZooming&&O!==this._tileZoom;(!S||J)&&(this._tileZoom=O,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),O!==void 0&&this._update(s),_||this._pruneTiles(),this._noPrune=!!_),this._setZoomTransforms(s,f)},_setZoomTransforms:function(s,f){for(var _ in this._levels)this._setZoomTransform(this._levels[_],s,f)},_setZoomTransform:function(s,f,_){var S=this._map.getZoomScale(_,s.zoom),O=s.origin.multiplyBy(S).subtract(this._map._getNewPixelOrigin(f,_)).round();$t.any3d?Ta(s.el,O,S):Gr(s.el,O)},_resetGrid:function(){var s=this._map,f=s.options.crs,_=this._tileSize=this.getTileSize(),S=this._tileZoom,O=this._map.getPixelWorldBounds(this._tileZoom);O&&(this._globalTileRange=this._pxBoundsToTileRange(O)),this._wrapX=f.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,f.wrapLng[0]],S).x/_.x),Math.ceil(s.project([0,f.wrapLng[1]],S).x/_.y)],this._wrapY=f.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([f.wrapLat[0],0],S).y/_.x),Math.ceil(s.project([f.wrapLat[1],0],S).y/_.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var f=this._map,_=f._animatingZoom?Math.max(f._animateToZoom,f.getZoom()):f.getZoom(),S=f.getZoomScale(_,this._tileZoom),O=f.project(s,this._tileZoom).floor(),J=f.getSize().divideBy(S*2);return new qe(O.subtract(J),O.add(J))},_update:function(s){var f=this._map;if(f){var _=this._clampZoom(f.getZoom());if(s===void 0&&(s=f.getCenter()),this._tileZoom!==void 0){var S=this._getTiledPixelBounds(s),O=this._pxBoundsToTileRange(S),J=O.getCenter(),Se=[],je=this.options.keepBuffer,Qe=new qe(O.getBottomLeft().subtract([je,-je]),O.getTopRight().add([je,-je]));if(!(isFinite(O.min.x)&&isFinite(O.min.y)&&isFinite(O.max.x)&&isFinite(O.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var bt in this._tiles){var Zt=this._tiles[bt].coords;(Zt.z!==this._tileZoom||!Qe.contains(new Ie(Zt.x,Zt.y)))&&(this._tiles[bt].current=!1)}if(Math.abs(_-this._tileZoom)>1){this._setView(s,_);return}for(var gi=O.min.y;gi<=O.max.y;gi++)for(var Bi=O.min.x;Bi<=O.max.x;Bi++){var mn=new Ie(Bi,gi);if(mn.z=this._tileZoom,!!this._isValidTile(mn)){var xn=this._tiles[this._tileCoordsToKey(mn)];xn?xn.current=!0:Se.push(mn)}}if(Se.sort(function(Xn,ec){return Xn.distanceTo(J)-ec.distanceTo(J)}),Se.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Xo=document.createDocumentFragment();for(Bi=0;Bi<Se.length;Bi++)this._addTile(Se[Bi],Xo);this._level.el.appendChild(Xo)}}}},_isValidTile:function(s){var f=this._map.options.crs;if(!f.infinite){var _=this._globalTileRange;if(!f.wrapLng&&(s.x<_.min.x||s.x>_.max.x)||!f.wrapLat&&(s.y<_.min.y||s.y>_.max.y))return!1}if(!this.options.bounds)return!0;var S=this._tileCoordsToBounds(s);return A(this.options.bounds).overlaps(S)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var f=this._map,_=this.getTileSize(),S=s.scaleBy(_),O=S.add(_),J=f.unproject(S,s.z),Se=f.unproject(O,s.z);return[J,Se]},_tileCoordsToBounds:function(s){var f=this._tileCoordsToNwSe(s),_=new St(f[0],f[1]);return this.options.noWrap||(_=this._map.wrapLatLngBounds(_)),_},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var f=s.split(":"),_=new Ie(+f[0],+f[1]);return _.z=+f[2],_},_removeTile:function(s){var f=this._tiles[s];f&&(sr(f.el),delete this._tiles[s],this.fire("tileunload",{tile:f.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){Ai(s,"leaflet-tile");var f=this.getTileSize();s.style.width=f.x+"px",s.style.height=f.y+"px",s.onselectstart=m,s.onmousemove=m,$t.ielt9&&this.options.opacity<1&&Mn(s,this.options.opacity)},_addTile:function(s,f){var _=this._getTilePos(s),S=this._tileCoordsToKey(s),O=this.createTile(this._wrapCoords(s),n(this._tileReady,this,s));this._initTile(O),this.createTile.length<2&&ce(n(this._tileReady,this,s,null,O)),Gr(O,_),this._tiles[S]={el:O,coords:s,current:!0},f.appendChild(O),this.fire("tileloadstart",{tile:O,coords:s})},_tileReady:function(s,f,_){f&&this.fire("tileerror",{error:f,tile:_,coords:s});var S=this._tileCoordsToKey(s);_=this._tiles[S],_&&(_.loaded=+new Date,this._map._fadeAnimated?(Mn(_.el,0),Ce(this._fadeFrame),this._fadeFrame=ce(this._updateOpacity,this)):(_.active=!0,this._pruneTiles()),f||(Ai(_.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:_.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),$t.ielt9||!this._map._fadeAnimated?ce(this._pruneTiles,this):setTimeout(n(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var f=new Ie(this._wrapX?u(s.x,this._wrapX):s.x,this._wrapY?u(s.y,this._wrapY):s.y);return f.z=s.z,f},_pxBoundsToTileRange:function(s){var f=this.getTileSize();return new qe(s.min.unscaleBy(f).floor(),s.max.unscaleBy(f).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function Vs(s){return new ha(s)}var Da=ha.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,f){this._url=s,f=x(this,f),f.detectRetina&&$t.retina&&f.maxZoom>0?(f.tileSize=Math.floor(f.tileSize/2),f.zoomReverse?(f.zoomOffset--,f.minZoom=Math.min(f.maxZoom,f.minZoom+1)):(f.zoomOffset++,f.maxZoom=Math.max(f.minZoom,f.maxZoom-1)),f.minZoom=Math.max(0,f.minZoom)):f.zoomReverse?f.minZoom=Math.min(f.maxZoom,f.minZoom):f.maxZoom=Math.max(f.minZoom,f.maxZoom),typeof f.subdomains=="string"&&(f.subdomains=f.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,f){return this._url===s&&f===void 0&&(f=!0),this._url=s,f||this.redraw(),this},createTile:function(s,f){var _=document.createElement("img");return Mi(_,"load",n(this._tileOnLoad,this,f,_)),Mi(_,"error",n(this._tileOnError,this,f,_)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(_.referrerPolicy=this.options.referrerPolicy),_.alt="",_.src=this.getTileUrl(s),_},getTileUrl:function(s){var f={r:$t.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var _=this._globalTileRange.max.y-s.y;this.options.tms&&(f.y=_),f["-y"]=_}return k(this._url,e(f,this.options))},_tileOnLoad:function(s,f){$t.ielt9?setTimeout(n(s,this,null,f),0):s(null,f)},_tileOnError:function(s,f,_){var S=this.options.errorTileUrl;S&&f.getAttribute("src")!==S&&(f.src=S),s(_,f)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,f=this.options.maxZoom,_=this.options.zoomReverse,S=this.options.zoomOffset;return _&&(s=f-s),s+S},_getSubdomain:function(s){var f=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[f]},_abortLoading:function(){var s,f;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(f=this._tiles[s].el,f.onload=m,f.onerror=m,!f.complete)){f.src=Y;var _=this._tiles[s].coords;sr(f),delete this._tiles[s],this.fire("tileabort",{tile:f,coords:_})}},_removeTile:function(s){var f=this._tiles[s];if(f)return f.el.setAttribute("src",Y),ha.prototype._removeTile.call(this,s)},_tileReady:function(s,f,_){if(!(!this._map||_&&_.getAttribute("src")===Y))return ha.prototype._tileReady.call(this,s,f,_)}});function ko(s,f){return new Da(s,f)}var Ao=Da.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,f){this._url=s;var _=e({},this.defaultWmsParams);for(var S in f)S in this.options||(_[S]=f[S]);f=x(this,f);var O=f.detectRetina&&$t.retina?2:1,J=this.getTileSize();_.width=J.x*O,_.height=J.y*O,this.wmsParams=_},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var f=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[f]=this._crs.code,Da.prototype.onAdd.call(this,s)},getTileUrl:function(s){var f=this._tileCoordsToNwSe(s),_=this._crs,S=Xe(_.project(f[0]),_.project(f[1])),O=S.min,J=S.max,Se=(this._wmsVersion>=1.3&&this._crs===Qr?[O.y,O.x,J.y,J.x]:[O.x,O.y,J.x,J.y]).join(","),je=Da.prototype.getTileUrl.call(this,s);return je+T(this.wmsParams,je,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Se},setParams:function(s,f){return e(this.wmsParams,s),f||this.redraw(),this}});function kr(s,f){return new Ao(s,f)}Da.WMS=Ao,ko.wms=kr;var ir=hr.extend({options:{padding:.1},initialize:function(s){x(this,s),a(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ai(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,f){var _=this._map.getZoomScale(f,this._zoom),S=this._map.getSize().multiplyBy(.5+this.options.padding),O=this._map.project(this._center,f),J=S.multiplyBy(-_).add(O).subtract(this._map._getNewPixelOrigin(s,f));$t.any3d?Ta(this._container,J,_):Gr(this._container,J)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,f=this._map.getSize(),_=this._map.containerPointToLayerPoint(f.multiplyBy(-s)).round();this._bounds=new qe(_,_.add(f.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Zr=ir.extend({options:{tolerance:0},getEvents:function(){var s=ir.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ir.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");Mi(s,"mousemove",this._onMouseMove,this),Mi(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Mi(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){Ce(this._redrawRequest),delete this._ctx,sr(this._container),mr(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var f in this._layers)s=this._layers[f],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ir.prototype._update.call(this);var s=this._bounds,f=this._container,_=s.getSize(),S=$t.retina?2:1;Gr(f,s.min),f.width=S*_.x,f.height=S*_.y,f.style.width=_.x+"px",f.style.height=_.y+"px",$t.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){ir.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[a(s)]=s;var f=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=f),this._drawLast=f,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var f=s._order,_=f.next,S=f.prev;_?_.prev=S:this._drawLast=S,S?S.next=_:this._drawFirst=_,delete s._order,delete this._layers[a(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var f=s.options.dashArray.split(/[, ]+/),_=[],S,O;for(O=0;O<f.length;O++){if(S=Number(f[O]),isNaN(S))return;_.push(S)}s.options._dashArray=_}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||ce(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var f=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new qe,this._redrawBounds.extend(s._pxBounds.min.subtract([f,f])),this._redrawBounds.extend(s._pxBounds.max.add([f,f]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var f=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,f.x,f.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,f=this._redrawBounds;if(this._ctx.save(),f){var _=f.getSize();this._ctx.beginPath(),this._ctx.rect(f.min.x,f.min.y,_.x,_.y),this._ctx.clip()}this._drawing=!0;for(var S=this._drawFirst;S;S=S.next)s=S.layer,(!f||s._pxBounds&&s._pxBounds.intersects(f))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,f){if(this._drawing){var _,S,O,J,Se=s._parts,je=Se.length,Qe=this._ctx;if(je){for(Qe.beginPath(),_=0;_<je;_++){for(S=0,O=Se[_].length;S<O;S++)J=Se[_][S],Qe[S?"lineTo":"moveTo"](J.x,J.y);f&&Qe.closePath()}this._fillStroke(Qe,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var f=s._point,_=this._ctx,S=Math.max(Math.round(s._radius),1),O=(Math.max(Math.round(s._radiusY),1)||S)/S;O!==1&&(_.save(),_.scale(1,O)),_.beginPath(),_.arc(f.x,f.y/O,S,0,Math.PI*2,!1),O!==1&&_.restore(),this._fillStroke(_,s)}},_fillStroke:function(s,f){var _=f.options;_.fill&&(s.globalAlpha=_.fillOpacity,s.fillStyle=_.fillColor||_.color,s.fill(_.fillRule||"evenodd")),_.stroke&&_.weight!==0&&(s.setLineDash&&s.setLineDash(f.options&&f.options._dashArray||[]),s.globalAlpha=_.opacity,s.lineWidth=_.weight,s.strokeStyle=_.color,s.lineCap=_.lineCap,s.lineJoin=_.lineJoin,s.stroke())},_onClick:function(s){for(var f=this._map.mouseEventToLayerPoint(s),_,S,O=this._drawFirst;O;O=O.next)_=O.layer,_.options.interactive&&_._containsPoint(f)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(_))&&(S=_);this._fireEvent(S?[S]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var f=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,f)}},_handleMouseOut:function(s){var f=this._hoveredLayer;f&&(Nr(this._container,"leaflet-interactive"),this._fireEvent([f],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,f){if(!this._mouseHoverThrottled){for(var _,S,O=this._drawFirst;O;O=O.next)_=O.layer,_.options.interactive&&_._containsPoint(f)&&(S=_);S!==this._hoveredLayer&&(this._handleMouseOut(s),S&&(Ai(this._container,"leaflet-interactive"),this._fireEvent([S],s,"mouseover"),this._hoveredLayer=S)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(n(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,f,_){this._map._fireDOMEvent(f,_||f.type,s)},_bringToFront:function(s){var f=s._order;if(f){var _=f.next,S=f.prev;if(_)_.prev=S;else return;S?S.next=_:_&&(this._drawFirst=_),f.prev=this._drawLast,this._drawLast.next=f,f.next=null,this._drawLast=f,this._requestRedraw(s)}},_bringToBack:function(s){var f=s._order;if(f){var _=f.next,S=f.prev;if(S)S.next=_;else return;_?_.prev=S:S&&(this._drawLast=S),f.prev=null,f.next=this._drawFirst,this._drawFirst.prev=f,this._drawFirst=f,this._requestRedraw(s)}}});function an(s){return $t.canvas?new Zr(s):null}var Io=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),od={_initContainer:function(){this._container=Oi("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ir.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var f=s._container=Io("shape");Ai(f,"leaflet-vml-shape "+(this.options.className||"")),f.coordsize="1 1",s._path=Io("path"),f.appendChild(s._path),this._updateStyle(s),this._layers[a(s)]=s},_addPath:function(s){var f=s._container;this._container.appendChild(f),s.options.interactive&&s.addInteractiveTarget(f)},_removePath:function(s){var f=s._container;sr(f),s.removeInteractiveTarget(f),delete this._layers[a(s)]},_updateStyle:function(s){var f=s._stroke,_=s._fill,S=s.options,O=s._container;O.stroked=!!S.stroke,O.filled=!!S.fill,S.stroke?(f||(f=s._stroke=Io("stroke")),O.appendChild(f),f.weight=S.weight+"px",f.color=S.color,f.opacity=S.opacity,S.dashArray?f.dashStyle=F(S.dashArray)?S.dashArray.join(" "):S.dashArray.replace(/( *, *)/g," "):f.dashStyle="",f.endcap=S.lineCap.replace("butt","flat"),f.joinstyle=S.lineJoin):f&&(O.removeChild(f),s._stroke=null),S.fill?(_||(_=s._fill=Io("fill")),O.appendChild(_),_.color=S.fillColor||S.color,_.opacity=S.fillOpacity):_&&(O.removeChild(_),s._fill=null)},_updateCircle:function(s){var f=s._point.round(),_=Math.round(s._radius),S=Math.round(s._radiusY||_);this._setPath(s,s._empty()?"M0 0":"AL "+f.x+","+f.y+" "+_+","+S+" 0,"+65535*360)},_setPath:function(s,f){s._path.v=f},_bringToFront:function(s){Tr(s._container)},_bringToBack:function(s){ts(s._container)}},ds=$t.vml?Io:At,qs=ir.extend({_initContainer:function(){this._container=ds("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ds("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){sr(this._container),mr(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ir.prototype._update.call(this);var s=this._bounds,f=s.getSize(),_=this._container;(!this._svgSize||!this._svgSize.equals(f))&&(this._svgSize=f,_.setAttribute("width",f.x),_.setAttribute("height",f.y)),Gr(_,s.min),_.setAttribute("viewBox",[s.min.x,s.min.y,f.x,f.y].join(" ")),this.fire("update")}},_initPath:function(s){var f=s._path=ds("path");s.options.className&&Ai(f,s.options.className),s.options.interactive&&Ai(f,"leaflet-interactive"),this._updateStyle(s),this._layers[a(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){sr(s._path),s.removeInteractiveTarget(s._path),delete this._layers[a(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var f=s._path,_=s.options;f&&(_.stroke?(f.setAttribute("stroke",_.color),f.setAttribute("stroke-opacity",_.opacity),f.setAttribute("stroke-width",_.weight),f.setAttribute("stroke-linecap",_.lineCap),f.setAttribute("stroke-linejoin",_.lineJoin),_.dashArray?f.setAttribute("stroke-dasharray",_.dashArray):f.removeAttribute("stroke-dasharray"),_.dashOffset?f.setAttribute("stroke-dashoffset",_.dashOffset):f.removeAttribute("stroke-dashoffset")):f.setAttribute("stroke","none"),_.fill?(f.setAttribute("fill",_.fillColor||_.color),f.setAttribute("fill-opacity",_.fillOpacity),f.setAttribute("fill-rule",_.fillRule||"evenodd")):f.setAttribute("fill","none"))},_updatePoly:function(s,f){this._setPath(s,Lt(s._parts,f))},_updateCircle:function(s){var f=s._point,_=Math.max(Math.round(s._radius),1),S=Math.max(Math.round(s._radiusY),1)||_,O="a"+_+","+S+" 0 1,0 ",J=s._empty()?"M0 0":"M"+(f.x-_)+","+f.y+O+_*2+",0 "+O+-_*2+",0 ";this._setPath(s,J)},_setPath:function(s,f){s._path.setAttribute("d",f)},_bringToFront:function(s){Tr(s._path)},_bringToBack:function(s){ts(s._path)}});$t.vml&&qs.include(od);function e0(s){return $t.svg||$t.vml?new qs(s):null}$i.include({getRenderer:function(s){var f=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return f||(f=this._renderer=this._createRenderer()),this.hasLayer(f)||this.addLayer(f),f},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var f=this._paneRenderers[s];return f===void 0&&(f=this._createRenderer({pane:s}),this._paneRenderers[s]=f),f},_createRenderer:function(s){return this.options.preferCanvas&&an(s)||e0(s)}});var ad=Fa.extend({initialize:function(s,f){Fa.prototype.initialize.call(this,this._boundsToLatLngs(s),f)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=A(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function Oo(s,f){return new ad(s,f)}qs.create=ds,qs.pointsToPath=Lt,nn.geometryToLayer=ls,nn.coordsToLatLng=Zl,nn.coordsToLatLngs=pa,nn.latLngToCoords=cs,nn.latLngsToCoords=Tn,nn.getFeature=on,nn.asFeature=fa,$i.mergeOptions({boxZoom:!0});var Fo=Go.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){Mi(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){mr(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){sr(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ol(),Gc(),this._startPoint=this._map.mouseEventToContainerPoint(s),Mi(document,{contextmenu:ns,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=Oi("div","leaflet-zoom-box",this._container),Ai(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var f=new qe(this._point,this._startPoint),_=f.getSize();Gr(this._box,f.min),this._box.style.width=_.x+"px",this._box.style.height=_.y+"px"},_finish:function(){this._moved&&(sr(this._box),Nr(this._container,"leaflet-crosshair")),ks(),$c(),mr(document,{contextmenu:ns,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(n(this._resetState,this),0);var f=new St(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(f).fire("boxzoomend",{boxZoomBounds:f})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});$i.addInitHook("addHandler","boxZoom",Fo),$i.mergeOptions({doubleClickZoom:!0});var sd=Go.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var f=this._map,_=f.getZoom(),S=f.options.zoomDelta,O=s.originalEvent.shiftKey?_-S:_+S;f.options.doubleClickZoom==="center"?f.setZoom(O):f.setZoomAround(s.containerPoint,O)}});$i.addInitHook("addHandler","doubleClickZoom",sd),$i.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ld=Go.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new ua(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}Ai(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Nr(this._map._container,"leaflet-grab"),Nr(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var f=A(this._map.options.maxBounds);this._offsetLimit=Xe(this._map.latLngToContainerPoint(f.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(f.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var f=this._lastTime=+new Date,_=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(_),this._times.push(f),this._prunePositions(f)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),f=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=f.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,f){return s-(s-f)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),f=this._offsetLimit;s.x<f.min.x&&(s.x=this._viscousLimit(s.x,f.min.x)),s.y<f.min.y&&(s.y=this._viscousLimit(s.y,f.min.y)),s.x>f.max.x&&(s.x=this._viscousLimit(s.x,f.max.x)),s.y>f.max.y&&(s.y=this._viscousLimit(s.y,f.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,f=Math.round(s/2),_=this._initialWorldOffset,S=this._draggable._newPos.x,O=(S-f+_)%s+f-_,J=(S+f+_)%s-f-_,Se=Math.abs(O+_)<Math.abs(J+_)?O:J;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Se},_onDragEnd:function(s){var f=this._map,_=f.options,S=!_.inertia||s.noInertia||this._times.length<2;if(f.fire("dragend",s),S)f.fire("moveend");else{this._prunePositions(+new Date);var O=this._lastPos.subtract(this._positions[0]),J=(this._lastTime-this._times[0])/1e3,Se=_.easeLinearity,je=O.multiplyBy(Se/J),Qe=je.distanceTo([0,0]),bt=Math.min(_.inertiaMaxSpeed,Qe),Zt=je.multiplyBy(bt/Qe),gi=bt/(_.inertiaDeceleration*Se),Bi=Zt.multiplyBy(-gi/2).round();!Bi.x&&!Bi.y?f.fire("moveend"):(Bi=f._limitOffset(Bi,f.options.maxBounds),ce(function(){f.panBy(Bi,{duration:gi,easeLinearity:Se,noMoveStart:!0,animate:!0})}))}}});$i.addInitHook("addHandler","dragging",ld),$i.mergeOptions({keyboard:!0,keyboardPanDelta:80});var pu=Go.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),Mi(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),mr(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,f=document.documentElement,_=s.scrollTop||f.scrollTop,S=s.scrollLeft||f.scrollLeft;this._map._container.focus(),window.scrollTo(S,_)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var f=this._panKeys={},_=this.keyCodes,S,O;for(S=0,O=_.left.length;S<O;S++)f[_.left[S]]=[-1*s,0];for(S=0,O=_.right.length;S<O;S++)f[_.right[S]]=[s,0];for(S=0,O=_.down.length;S<O;S++)f[_.down[S]]=[0,s];for(S=0,O=_.up.length;S<O;S++)f[_.up[S]]=[0,-1*s]},_setZoomDelta:function(s){var f=this._zoomKeys={},_=this.keyCodes,S,O;for(S=0,O=_.zoomIn.length;S<O;S++)f[_.zoomIn[S]]=s;for(S=0,O=_.zoomOut.length;S<O;S++)f[_.zoomOut[S]]=-s},_addHooks:function(){Mi(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){mr(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var f=s.keyCode,_=this._map,S;if(f in this._panKeys){if(!_._panAnim||!_._panAnim._inProgress)if(S=this._panKeys[f],s.shiftKey&&(S=ke(S).multiplyBy(3)),_.options.maxBounds&&(S=_._limitOffset(ke(S),_.options.maxBounds)),_.options.worldCopyJump){var O=_.wrapLatLng(_.unproject(_.project(_.getCenter()).add(S)));_.panTo(O)}else _.panBy(S)}else if(f in this._zoomKeys)_.setZoom(_.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[f]);else if(f===27&&_._popup&&_._popup.options.closeOnEscapeKey)_.closePopup();else return;ns(s)}}});$i.addInitHook("addHandler","keyboard",pu),$i.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var cd=Go.extend({addHooks:function(){Mi(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){mr(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var f=Xd(s),_=this._map.options.wheelDebounceTime;this._delta+=f,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var S=Math.max(_-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(n(this._performZoom,this),S),ns(s)},_performZoom:function(){var s=this._map,f=s.getZoom(),_=this._map.options.zoomSnap||0;s._stop();var S=this._delta/(this._map.options.wheelPxPerZoomLevel*4),O=4*Math.log(2/(1+Math.exp(-Math.abs(S))))/Math.LN2,J=_?Math.ceil(O/_)*_:O,Se=s._limitZoom(f+(this._delta>0?J:-J))-f;this._delta=0,this._startTime=null,Se&&(s.options.scrollWheelZoom==="center"?s.setZoom(f+Se):s.setZoomAround(this._lastMousePos,f+Se))}});$i.addInitHook("addHandler","scrollWheelZoom",cd);var t0=600;$i.mergeOptions({tapHold:$t.touchNative&&$t.safari&&$t.mobile,tapTolerance:15});var i0=Go.extend({addHooks:function(){Mi(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){mr(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var f=s.touches[0];this._startPos=this._newPos=new Ie(f.clientX,f.clientY),this._holdTimeout=setTimeout(n(function(){this._cancel(),this._isTapValid()&&(Mi(document,"touchend",fn),Mi(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",f))},this),t0),Mi(document,"touchend touchcancel contextmenu",this._cancel,this),Mi(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){mr(document,"touchend",fn),mr(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),mr(document,"touchend touchcancel contextmenu",this._cancel,this),mr(document,"touchmove",this._onMove,this)},_onMove:function(s){var f=s.touches[0];this._newPos=new Ie(f.clientX,f.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,f){var _=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:f.screenX,screenY:f.screenY,clientX:f.clientX,clientY:f.clientY});_._simulated=!0,f.target.dispatchEvent(_)}});$i.addInitHook("addHandler","tapHold",i0),$i.mergeOptions({touchZoom:$t.touch,bounceAtZoomLimits:!0});var fu=Go.extend({addHooks:function(){Ai(this._map._container,"leaflet-touch-zoom"),Mi(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Nr(this._map._container,"leaflet-touch-zoom"),mr(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var f=this._map;if(!(!s.touches||s.touches.length!==2||f._animatingZoom||this._zooming)){var _=f.mouseEventToContainerPoint(s.touches[0]),S=f.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=f.getSize()._divideBy(2),this._startLatLng=f.containerPointToLatLng(this._centerPoint),f.options.touchZoom!=="center"&&(this._pinchStartLatLng=f.containerPointToLatLng(_.add(S)._divideBy(2))),this._startDist=_.distanceTo(S),this._startZoom=f.getZoom(),this._moved=!1,this._zooming=!0,f._stop(),Mi(document,"touchmove",this._onTouchMove,this),Mi(document,"touchend touchcancel",this._onTouchEnd,this),fn(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var f=this._map,_=f.mouseEventToContainerPoint(s.touches[0]),S=f.mouseEventToContainerPoint(s.touches[1]),O=_.distanceTo(S)/this._startDist;if(this._zoom=f.getScaleZoom(O,this._startZoom),!f.options.bounceAtZoomLimits&&(this._zoom<f.getMinZoom()&&O<1||this._zoom>f.getMaxZoom()&&O>1)&&(this._zoom=f._limitZoom(this._zoom)),f.options.touchZoom==="center"){if(this._center=this._startLatLng,O===1)return}else{var J=_._add(S)._divideBy(2)._subtract(this._centerPoint);if(O===1&&J.x===0&&J.y===0)return;this._center=f.unproject(f.project(this._pinchStartLatLng,this._zoom).subtract(J),this._zoom)}this._moved||(f._moveStart(!0,!1),this._moved=!0),Ce(this._animRequest);var Se=n(f._move,f,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ce(Se,this,!0),fn(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Ce(this._animRequest),mr(document,"touchmove",this._onTouchMove,this),mr(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});$i.addInitHook("addHandler","touchZoom",fu),$i.BoxZoom=Fo,$i.DoubleClickZoom=sd,$i.Drag=ld,$i.Keyboard=pu,$i.ScrollWheelZoom=cd,$i.TapHold=i0,$i.TouchZoom=fu,i.Bounds=qe,i.Browser=$t,i.CRS=z,i.Canvas=Zr,i.Circle=Ds,i.CircleMarker=ss,i.Class=G,i.Control=co,i.DivIcon=Us,i.DivOverlay=To,i.DomEvent=Zc,i.DomUtil=du,i.Draggable=ua,i.Evented=Le,i.FeatureGroup=bn,i.GeoJSON=nn,i.GridLayer=ha,i.Handler=Go,i.Icon=Ia,i.ImageOverlay=$o,i.LatLng=j,i.LatLngBounds=St,i.Layer=hr,i.LayerGroup=Fn,i.LineUtil=Ii,i.Map=$i,i.Marker=Ls,i.Mixin=Qc,i.Path=Br,i.Point=Ie,i.PolyUtil=Yd,i.Polygon=Fa,i.Polyline=Xr,i.Popup=Rs,i.PosAnimation=ll,i.Projection=jr,i.Rectangle=ad,i.Renderer=ir,i.SVG=qs,i.SVGOverlay=Mo,i.TileLayer=Da,i.Tooltip=La,i.Transformation=Ae,i.Util=W,i.VideoOverlay=Kl,i.bind=n,i.bounds=Xe,i.canvas=an,i.circle=rd,i.circleMarker=Xl,i.control=Fs,i.divIcon=Ql,i.extend=e,i.featureGroup=Jd,i.geoJSON=Na,i.geoJson=Yl,i.gridLayer=Vs,i.icon=id,i.imageOverlay=en,i.latLng=R,i.latLngBounds=A,i.layerGroup=Po,i.map=Zd,i.marker=$l,i.point=ke,i.polygon=Qd,i.polyline=uu,i.popup=ml,i.rectangle=Oo,i.setOptions=x,i.stamp=a,i.svg=e0,i.svgOverlay=Jl,i.tileLayer=ko,i.tooltip=Bs,i.transformation=Be,i.version=t,i.videoOverlay=$n;var mu=window.L;i.noConflict=function(){return window.L=mu,this},window.L=i})});var rg=K_((E_,P_)=>{"use strict";(function(i,t){typeof define=="function"&&define.amd?define([],t):typeof E_<"u"?t():(t(),i.FileSaver={})})(E_,function(){"use strict";function i(d,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d}function t(d,u,m){var v=new XMLHttpRequest;v.open("GET",d),v.responseType="blob",v.onload=function(){a(v.response,u,m)},v.onerror=function(){console.error("could not download file")},v.send()}function e(d){var u=new XMLHttpRequest;u.open("HEAD",d,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function r(d){try{d.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(u)}}var n=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,o=n.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=n.saveAs||(typeof window!="object"||window!==n?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(d,u,m){var v=n.URL||n.webkitURL,y=document.createElement("a");u=u||d.name||"download",y.download=u,y.rel="noopener",typeof d=="string"?(y.href=d,y.origin===location.origin?r(y):e(y.href)?t(d,u,m):r(y,y.target="_blank")):(y.href=v.createObjectURL(d),setTimeout(function(){v.revokeObjectURL(y.href)},4e4),setTimeout(function(){r(y)},0))}:"msSaveOrOpenBlob"in navigator?function(d,u,m){if(u=u||d.name||"download",typeof d!="string")navigator.msSaveOrOpenBlob(i(d,m),u);else if(e(d))t(d,u,m);else{var v=document.createElement("a");v.href=d,v.target="_blank",setTimeout(function(){r(v)})}}:function(d,u,m,v){if(v=v||open("","_blank"),v&&(v.document.title=v.document.body.innerText="downloading..."),typeof d=="string")return t(d,u,m);var y=d.type==="application/octet-stream",w=/constructor/i.test(n.HTMLElement)||n.safari,x=/CriOS\/[\d]+/.test(navigator.userAgent);if((x||y&&w||o)&&typeof FileReader<"u"){var T=new FileReader;T.onloadend=function(){var F=T.result;F=x?F:F.replace(/^data:[^;]*;/,"data:attachment/file;"),v?v.location.href=F:location=F,v=null},T.readAsDataURL(d)}else{var E=n.URL||n.webkitURL,k=E.createObjectURL(d);v?v.location=k:location.href=k,v=null,setTimeout(function(){E.revokeObjectURL(k)},4e4)}});n.saveAs=a.saveAs=a,typeof P_<"u"&&(P_.exports=a)})});var ku=class{},bf=class{},wl=class i{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let r=e.indexOf(":");if(r>0){let n=e.slice(0,r),o=n.toLowerCase(),a=e.slice(r+1).trim();this.maybeSetNormalizedName(n,o),this.headers.has(o)?this.headers.get(o).push(a):this.headers.set(o,[a])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,r)=>{this.setHeaderEntries(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof i?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new i;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof i?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,e);let n=(t.op==="a"?this.headers.get(e):void 0)||[];n.push(...r),this.headers.set(e,n);break;case"d":let o=t.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let a=this.headers.get(e);if(!a)return;a=a.filter(d=>o.indexOf(d)===-1),a.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}break}}setHeaderEntries(t,e){let r=(Array.isArray(e)?e:[e]).map(o=>o.toString()),n=t.toLowerCase();this.headers.set(n,r),this.maybeSetNormalizedName(t,n)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var Hg=class{encodeKey(t){return H2(t)}encodeValue(t){return H2(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function G5(i,t){let e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(n=>{let o=n.indexOf("="),[a,d]=o==-1?[t.decodeKey(n),""]:[t.decodeKey(n.slice(0,o)),t.decodeValue(n.slice(o+1))],u=e.get(a)||[];u.push(d),e.set(a,u)}),e}var $5=/%(\d[a-f0-9])/gi,X5={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function H2(i){return encodeURIComponent(i).replace($5,(t,e)=>X5[e]??t)}function _f(i){return`${i}`}var $s=class i{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Hg,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=G5(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let r=t.fromObject[e],n=Array.isArray(r)?r.map(_f):[_f(r)];this.map.set(e,n)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(r=>{let n=t[r];Array.isArray(n)?n.forEach(o=>{e.push({param:r,value:o,op:"a"})}):e.push({param:r,value:n,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new i({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(_f(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],n=r.indexOf(_f(t.value));n!==-1&&r.splice(n,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Gg=class{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function Z5(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function G2(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function $2(i){return typeof Blob<"u"&&i instanceof Blob}function X2(i){return typeof FormData<"u"&&i instanceof FormData}function Y5(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}var Tu=class i{constructor(t,e,r,n){this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let o;if(Z5(this.method)||n?(this.body=r!==void 0?r:null,o=n):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new wl,this.context??=new Gg,!this.params)this.params=new $s,this.urlWithParams=e;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=e;else{let d=e.indexOf("?"),u=d===-1?"?":d<e.length-1?"&":"";this.urlWithParams=e+u+a}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||G2(this.body)||$2(this.body)||X2(this.body)||Y5(this.body)?this.body:this.body instanceof $s?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||X2(this.body)?null:$2(this.body)?this.body.type||null:G2(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof $s?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let e=t.method||this.method,r=t.url||this.url,n=t.responseType||this.responseType,o=t.transferCache??this.transferCache,a=t.body!==void 0?t.body:this.body,d=t.withCredentials??this.withCredentials,u=t.reportProgress??this.reportProgress,m=t.headers||this.headers,v=t.params||this.params,y=t.context??this.context;return t.setHeaders!==void 0&&(m=Object.keys(t.setHeaders).reduce((w,x)=>w.set(x,t.setHeaders[x]),m)),t.setParams&&(v=Object.keys(t.setParams).reduce((w,x)=>w.set(x,t.setParams[x]),v)),new i(e,r,a,{params:v,headers:m,context:y,reportProgress:u,responseType:n,withCredentials:d,transferCache:o})}},uc=function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i}(uc||{}),Au=class{constructor(t,e=200,r="OK"){this.headers=t.headers||new wl,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},xf=class i extends Au{constructor(t={}){super(t),this.type=uc.ResponseHeader}clone(t={}){return new i({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Iu=class i extends Au{constructor(t={}){super(t),this.type=uc.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new i({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},dc=class extends Au{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},Q2=200,K5=204;function Wg(i,t){return{body:t,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials,transferCache:i.transferCache}}var ui=(()=>{class i{constructor(e){this.handler=e}request(e,r,n={}){let o;if(e instanceof Tu)o=e;else{let u;n.headers instanceof wl?u=n.headers:u=new wl(n.headers);let m;n.params&&(n.params instanceof $s?m=n.params:m=new $s({fromObject:n.params})),o=new Tu(e,r,n.body!==void 0?n.body:null,{headers:u,context:n.context,params:m,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials,transferCache:n.transferCache})}let a=ci(o).pipe(sc(u=>this.handler.handle(u)));if(e instanceof Tu||n.observe==="events")return a;let d=a.pipe(vl(u=>u instanceof Iu));switch(n.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return d.pipe(nr(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return d.pipe(nr(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return d.pipe(nr(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return d.pipe(nr(u=>u.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:new $s().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,n={}){return this.request("PATCH",e,Wg(n,r))}post(e,r,n={}){return this.request("POST",e,Wg(n,r))}put(e,r,n={}){return this.request("PUT",e,Wg(n,r))}static{this.\u0275fac=function(r){return new(r||i)(Et(ku))}}static{this.\u0275prov=wt({token:i,factory:i.\u0275fac})}}return i})(),J5=/^\)\]\}',?\n/,Q5="X-Request-URL";function Z2(i){if(i.url)return i.url;let t=Q5.toLocaleLowerCase();return i.headers.get(t)}var eS=(()=>{class i{constructor(){this.fetchImpl=ii($g,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e)),this.ngZone=ii(Qo)}handle(e){return new fd(r=>{let n=new AbortController;return this.doRequest(e,n.signal,r).then(Xg,o=>r.error(new dc({error:o}))),()=>n.abort()})}doRequest(e,r,n){return Tg(this,null,function*(){let o=this.createRequestInit(e),a;try{let x=this.ngZone.runOutsideAngular(()=>this.fetchImpl(e.urlWithParams,lt({signal:r},o)));tS(x),n.next({type:uc.Sent}),a=yield x}catch(x){n.error(new dc({error:x,status:x.status??0,statusText:x.statusText,url:e.urlWithParams,headers:x.headers}));return}let d=new wl(a.headers),u=a.statusText,m=Z2(a)??e.urlWithParams,v=a.status,y=null;if(e.reportProgress&&n.next(new xf({headers:d,status:v,statusText:u,url:m})),a.body){let x=a.headers.get("content-length"),T=[],E=a.body.getReader(),k=0,F,U,Y=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>Tg(this,null,function*(){for(;;){let{done:we,value:Ue}=yield E.read();if(we)break;if(T.push(Ue),k+=Ue.length,e.reportProgress){U=e.responseType==="text"?(U??"")+(F??=new TextDecoder).decode(Ue,{stream:!0}):void 0;let ne=()=>n.next({type:uc.DownloadProgress,total:x?+x:void 0,loaded:k,partialText:U});Y?Y.run(ne):ne()}}}));let ve=this.concatChunks(T,k);try{let we=a.headers.get("Content-Type")??"";y=this.parseBody(e,ve,we)}catch(we){n.error(new dc({error:we,headers:new wl(a.headers),status:a.status,statusText:a.statusText,url:Z2(a)??e.urlWithParams}));return}}v===0&&(v=y?Q2:0),v>=200&&v<300?(n.next(new Iu({body:y,headers:d,status:v,statusText:u,url:m})),n.complete()):n.error(new dc({error:y,headers:d,status:v,statusText:u,url:m}))})}parseBody(e,r,n){switch(e.responseType){case"json":let o=new TextDecoder().decode(r).replace(J5,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:n});case"arraybuffer":return r.buffer}}createRequestInit(e){let r={},n=e.withCredentials?"include":void 0;if(e.headers.forEach((o,a)=>r[o]=a.join(",")),e.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!e.headers.has("Content-Type")){let o=e.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:e.serializeBody(),method:e.method,headers:r,credentials:n}}concatChunks(e,r){let n=new Uint8Array(r),o=0;for(let a of e)n.set(a,o),o+=a.length;return n}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=wt({token:i,factory:i.\u0275fac})}}return i})(),$g=class{};function Xg(){}function tS(i){i.then(Xg,Xg)}function eb(i,t){return t(i)}function iS(i,t){return(e,r)=>t.intercept(e,{handle:n=>i(n,r)})}function rS(i,t,e){return(r,n)=>ja(e,()=>t(r,o=>i(o,n)))}var Zg=new Ji(""),Yg=new Ji(""),nS=new Ji(""),tb=new Ji("",{providedIn:"root",factory:()=>!0});function oS(){let i=null;return(t,e)=>{i===null&&(i=(ii(Zg,{optional:!0})??[]).reduceRight(iS,eb));let r=ii(Eu);if(ii(tb)){let o=r.add();return i(t,e).pipe(hd(()=>r.remove(o)))}else return i(t,e)}}var Y2=(()=>{class i extends ku{constructor(e,r){super(),this.backend=e,this.injector=r,this.chain=null,this.pendingTasks=ii(Eu),this.contributeToStability=ii(tb)}handle(e){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Yg),...this.injector.get(nS,[])]));this.chain=r.reduceRight((n,o)=>rS(n,o,this.injector),eb)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(e,n=>this.backend.handle(n)).pipe(hd(()=>this.pendingTasks.remove(r)))}else return this.chain(e,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||i)(Et(bf),Et(vd))}}static{this.\u0275prov=wt({token:i,factory:i.\u0275fac})}}return i})();var aS=/^\)\]\}',?\n/;function sS(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}var K2=(()=>{class i{constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new Ur(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Yn(r.\u0275loadImpl()):ci(null)).pipe(Kn(()=>new fd(o=>{let a=r.build();if(a.open(e.method,e.urlWithParams),e.withCredentials&&(a.withCredentials=!0),e.headers.forEach((E,k)=>a.setRequestHeader(E,k.join(","))),e.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){let E=e.detectContentTypeHeader();E!==null&&a.setRequestHeader("Content-Type",E)}if(e.responseType){let E=e.responseType.toLowerCase();a.responseType=E!=="json"?E:"text"}let d=e.serializeBody(),u=null,m=()=>{if(u!==null)return u;let E=a.statusText||"OK",k=new wl(a.getAllResponseHeaders()),F=sS(a)||e.url;return u=new xf({headers:k,status:a.status,statusText:E,url:F}),u},v=()=>{let{headers:E,status:k,statusText:F,url:U}=m(),Y=null;k!==K5&&(Y=typeof a.response>"u"?a.responseText:a.response),k===0&&(k=Y?Q2:0);let ve=k>=200&&k<300;if(e.responseType==="json"&&typeof Y=="string"){let we=Y;Y=Y.replace(aS,"");try{Y=Y!==""?JSON.parse(Y):null}catch(Ue){Y=we,ve&&(ve=!1,Y={error:Ue,text:Y})}}ve?(o.next(new Iu({body:Y,headers:E,status:k,statusText:F,url:U||void 0})),o.complete()):o.error(new dc({error:Y,headers:E,status:k,statusText:F,url:U||void 0}))},y=E=>{let{url:k}=m(),F=new dc({error:E,status:a.status||0,statusText:a.statusText||"Unknown Error",url:k||void 0});o.error(F)},w=!1,x=E=>{w||(o.next(m()),w=!0);let k={type:uc.DownloadProgress,loaded:E.loaded};E.lengthComputable&&(k.total=E.total),e.responseType==="text"&&a.responseText&&(k.partialText=a.responseText),o.next(k)},T=E=>{let k={type:uc.UploadProgress,loaded:E.loaded};E.lengthComputable&&(k.total=E.total),o.next(k)};return a.addEventListener("load",v),a.addEventListener("error",y),a.addEventListener("timeout",y),a.addEventListener("abort",y),e.reportProgress&&(a.addEventListener("progress",x),d!==null&&a.upload&&a.upload.addEventListener("progress",T)),a.send(d),o.next({type:uc.Sent}),()=>{a.removeEventListener("error",y),a.removeEventListener("abort",y),a.removeEventListener("load",v),a.removeEventListener("timeout",y),e.reportProgress&&(a.removeEventListener("progress",x),d!==null&&a.upload&&a.upload.removeEventListener("progress",T)),a.readyState!==a.DONE&&a.abort()}})))}static{this.\u0275fac=function(r){return new(r||i)(Et(vf))}}static{this.\u0275prov=wt({token:i,factory:i.\u0275fac})}}return i})(),ib=new Ji(""),lS="XSRF-TOKEN",cS=new Ji("",{providedIn:"root",factory:()=>lS}),dS="X-XSRF-TOKEN",uS=new Ji("",{providedIn:"root",factory:()=>dS}),yf=class{},pS=(()=>{class i{constructor(e,r,n){this.doc=e,this.platform=r,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=hf(e,this.cookieName),this.lastCookieString=e),this.lastToken}static{this.\u0275fac=function(r){return new(r||i)(Et(Do),Et(_d),Et(cS))}}static{this.\u0275prov=wt({token:i,factory:i.\u0275fac})}}return i})();function fS(i,t){let e=i.url.toLowerCase();if(!ii(ib)||i.method==="GET"||i.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return t(i);let r=ii(yf).getToken(),n=ii(uS);return r!=null&&!i.headers.has(n)&&(i=i.clone({headers:i.headers.set(n,r)})),t(i)}var rb=function(i){return i[i.Interceptors=0]="Interceptors",i[i.LegacyInterceptors=1]="LegacyInterceptors",i[i.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",i[i.NoXsrfProtection=3]="NoXsrfProtection",i[i.JsonpSupport=4]="JsonpSupport",i[i.RequestsMadeViaParent=5]="RequestsMadeViaParent",i[i.Fetch=6]="Fetch",i}(rb||{});function mS(i,t){return{\u0275kind:i,\u0275providers:t}}function Kg(...i){let t=[ui,K2,Y2,{provide:ku,useExisting:Y2},{provide:bf,useFactory:()=>ii(eS,{optional:!0})??ii(K2)},{provide:Yg,useValue:fS,multi:!0},{provide:ib,useValue:!0},{provide:yf,useClass:pS}];for(let e of i)t.push(...e.\u0275providers);return gd(t)}var J2=new Ji("");function Jg(){return mS(rb.LegacyInterceptors,[{provide:J2,useFactory:oS},{provide:Yg,useExisting:J2,multi:!0}])}var ji=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275mod=ms({type:i})}static{this.\u0275inj=fs({providers:[Kg(Jg())]})}}return i})();var t1=class extends B2{constructor(){super(...arguments),this.supportsDOMEvents=!0}},i1=class i extends t1{static makeCurrent(){R2(new i)}onAndCancel(t,e,r){return t.addEventListener(e,r),()=>{t.removeEventListener(e,r)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=gS();return e==null?null:vS(e)}resetBaseElement(){Ou=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return hf(document.cookie,t)}},Ou=null;function gS(){return Ou=Ou||document.querySelector("base"),Ou?Ou.getAttribute("href"):null}function vS(i){return new URL(i,document.baseURI).pathname}var _S=(()=>{class i{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=wt({token:i,factory:i.\u0275fac})}}return i})(),r1=new Ji(""),sb=(()=>{class i{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(n=>{n.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,n){return this._findPluginFor(r).addEventListener(e,r,n)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(o=>o.supports(e)),!r)throw new Ur(5101,!1);return this._eventNameToPlugin.set(e,r),r}static{this.\u0275fac=function(r){return new(r||i)(Et(r1),Et(Qo))}}static{this.\u0275prov=wt({token:i,factory:i.\u0275fac})}}return i})(),Cf=class{constructor(t){this._doc=t}},Qg="ng-app-id",lb=(()=>{class i{constructor(e,r,n,o={}){this.doc=e,this.appId=r,this.nonce=n,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=gf(o),this.resetHostNodes()}addStyles(e){for(let r of e)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(e){for(let r of e)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let e=this.styleNodesInDOM;e&&(e.forEach(r=>r.remove()),e.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(let r of this.getAllStyles())this.addStyleToHost(e,r)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(let r of this.hostNodes)this.addStyleToHost(r,e)}onStyleRemoved(e){let r=this.styleRef;r.get(e)?.elements?.forEach(n=>n.remove()),r.delete(e)}collectServerRenderedStyles(){let e=this.doc.head?.querySelectorAll(`style[${Qg}="${this.appId}"]`);if(e?.length){let r=new Map;return e.forEach(n=>{n.textContent!=null&&r.set(n.textContent,n)}),r}return null}changeUsageCount(e,r){let n=this.styleRef;if(n.has(e)){let o=n.get(e);return o.usage+=r,o.usage}return n.set(e,{usage:r,elements:[]}),r}getStyleElement(e,r){let n=this.styleNodesInDOM,o=n?.get(r);if(o?.parentNode===e)return n.delete(r),o.removeAttribute(Qg),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(Qg,this.appId),e.appendChild(a),a}}addStyleToHost(e,r){let n=this.getStyleElement(e,r),o=this.styleRef,a=o.get(r)?.elements;a?a.push(n):o.set(r,{elements:[n],usage:1})}resetHostNodes(){let e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||i)(Et(Do),Et(Bg),Et(Ug,8),Et(_d))}}static{this.\u0275prov=wt({token:i,factory:i.\u0275fac})}}return i})(),e1={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},o1=/%COMP%/g,cb="%COMP%",bS=`_nghost-${cb}`,xS=`_ngcontent-${cb}`,yS=!0,CS=new Ji("",{providedIn:"root",factory:()=>yS});function wS(i){return xS.replace(o1,i)}function SS(i){return bS.replace(o1,i)}function db(i,t){return t.map(e=>e.replace(o1,i))}var wf=(()=>{class i{constructor(e,r,n,o,a,d,u,m=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=n,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=d,this.ngZone=u,this.nonce=m,this.rendererByCompId=new Map,this.platformIsServer=gf(d),this.defaultRenderer=new Fu(e,a,u,this.platformIsServer)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Su.ShadowDom&&(r=Ki(lt({},r),{encapsulation:Su.Emulated}));let n=this.getOrCreateRenderer(e,r);return n instanceof Sf?n.applyToHost(e):n instanceof Nu&&n.applyStyles(),n}getOrCreateRenderer(e,r){let n=this.rendererByCompId,o=n.get(r.id);if(!o){let a=this.doc,d=this.ngZone,u=this.eventManager,m=this.sharedStylesHost,v=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(r.encapsulation){case Su.Emulated:o=new Sf(u,m,r,this.appId,v,a,d,y);break;case Su.ShadowDom:return new n1(u,m,e,r,a,d,this.nonce,y);default:o=new Nu(u,m,r,v,a,d,y);break}n.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||i)(Et(sb),Et(lb),Et(Bg),Et(CS),Et(Do),Et(_d),Et(Qo),Et(Ug))}}static{this.\u0275prov=wt({token:i,factory:i.\u0275fac})}}return i})(),Fu=class{constructor(t,e,r,n){this.eventManager=t,this.doc=e,this.ngZone=r,this.platformIsServer=n,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(e1[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(nb(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(nb(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){e.remove()}selectRootElement(t,e){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new Ur(-5104,!1);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,n){if(n){e=n+":"+e;let o=e1[n];o?t.setAttributeNS(o,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){let n=e1[r];n?t.removeAttributeNS(n,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,n){n&(Pu.DashCase|Pu.Important)?t.style.setProperty(e,r,n&Pu.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&Pu.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t!=null&&(t[e]=r)}setValue(t,e){t.nodeValue=e}listen(t,e,r){if(typeof t=="string"&&(t=m0().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(r))}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function nb(i){return i.tagName==="TEMPLATE"&&i.content!==void 0}var n1=class extends Fu{constructor(t,e,r,n,o,a,d,u){super(t,o,a,u),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let m=db(n.id,n.styles);for(let v of m){let y=document.createElement("style");d&&y.setAttribute("nonce",d),y.textContent=v,this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Nu=class extends Fu{constructor(t,e,r,n,o,a,d,u){super(t,o,a,d),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=n,this.styles=u?db(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Sf=class extends Nu{constructor(t,e,r,n,o,a,d,u){let m=n+"-"+r.id;super(t,e,r,o,a,d,u,m),this.contentAttr=wS(m),this.hostAttr=SS(m)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}},ES=(()=>{class i extends Cf{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,n){return e.addEventListener(r,n,!1),()=>this.removeEventListener(e,r,n)}removeEventListener(e,r,n){return e.removeEventListener(r,n)}static{this.\u0275fac=function(r){return new(r||i)(Et(Do))}}static{this.\u0275prov=wt({token:i,factory:i.\u0275fac})}}return i})(),ob=["alt","control","meta","shift"],PS={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},MS={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey},TS=(()=>{class i extends Cf{constructor(e){super(e)}supports(e){return i.parseEventName(e)!=null}addEventListener(e,r,n){let o=i.parseEventName(r),a=i.eventCallback(o.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>m0().onAndCancel(e,o.domEventName,a))}static parseEventName(e){let r=e.toLowerCase().split("."),n=r.shift();if(r.length===0||!(n==="keydown"||n==="keyup"))return null;let o=i._normalizeKey(r.pop()),a="",d=r.indexOf("code");if(d>-1&&(r.splice(d,1),a="code."),ob.forEach(m=>{let v=r.indexOf(m);v>-1&&(r.splice(v,1),a+=m+".")}),a+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=n,u.fullKey=a,u}static matchEventFullKeyCode(e,r){let n=PS[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(n=e.code,o="code."),n==null||!n?!1:(n=n.toLowerCase(),n===" "?n="space":n==="."&&(n="dot"),ob.forEach(a=>{if(a!==n){let d=MS[a];d(e)&&(o+=a+".")}}),o+=n,o===r)}static eventCallback(e,r,n){return o=>{i.matchEventFullKeyCode(o,e)&&n.runGuarded(()=>r(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static{this.\u0275fac=function(r){return new(r||i)(Et(Do))}}static{this.\u0275prov=wt({token:i,factory:i.\u0275fac})}}return i})();function ub(i,t){return L2(lt({rootComponent:i},kS(t)))}function kS(i){return{appProviders:[...NS,...i?.providers??[]],platformProviders:FS}}function AS(){i1.makeCurrent()}function IS(){return new Rg}function OS(){return h2(document),document}var FS=[{provide:_d,useValue:z2},{provide:g2,useValue:AS,multi:!0},{provide:Do,useFactory:OS,deps:[]}];var NS=[{provide:f2,useValue:"root"},{provide:Rg,useFactory:IS,deps:[]},{provide:r1,useClass:ES,multi:!0,deps:[Do,Qo,_d]},{provide:r1,useClass:TS,multi:!0,deps:[Do]},wf,lb,sb,{provide:sf,useExisting:wf},{provide:vf,useClass:_S,deps:[]},[]];var pb=(()=>{class i{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(r){return new(r||i)(Et(Do))}}static{this.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var qi="primary",Zu=Symbol("RouteTitle"),d1=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function x0(i){return new d1(i)}function DS(i,t,e){let r=e.path.split("/");if(r.length>i.length||e.pathMatch==="full"&&(t.hasChildren()||r.length<i.length))return null;let n={};for(let o=0;o<r.length;o++){let a=r[o],d=i[o];if(a[0]===":")n[a.substring(1)]=d;else if(a!==d.path)return null}return{consumed:i.slice(0,r.length),posParams:n}}function RS(i,t){if(i.length!==t.length)return!1;for(let e=0;e<i.length;++e)if(!Xs(i[e],t[e]))return!1;return!0}function Xs(i,t){let e=i?u1(i):void 0,r=t?u1(t):void 0;if(!e||!r||e.length!=r.length)return!1;let n;for(let o=0;o<e.length;o++)if(n=e[o],!wb(i[n],t[n]))return!1;return!0}function u1(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}function wb(i,t){if(Array.isArray(i)&&Array.isArray(t)){if(i.length!==t.length)return!1;let e=[...i].sort(),r=[...t].sort();return e.every((n,o)=>r[o]===n)}else return i===t}function Sb(i){return i.length>0?i[i.length-1]:null}function fc(i){return e2(i)?i:uf(i)?Yn(Promise.resolve(i)):ci(i)}var BS={exact:Pb,subset:Mb},Eb={exact:US,subset:VS,ignored:()=>!0};function fb(i,t,e){return BS[e.paths](i.root,t.root,e.matrixParams)&&Eb[e.queryParams](i.queryParams,t.queryParams)&&!(e.fragment==="exact"&&i.fragment!==t.fragment)}function US(i,t){return Xs(i,t)}function Pb(i,t,e){if(!Cd(i.segments,t.segments)||!Mf(i.segments,t.segments,e)||i.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!i.children[r]||!Pb(i.children[r],t.children[r],e))return!1;return!0}function VS(i,t){return Object.keys(t).length<=Object.keys(i).length&&Object.keys(t).every(e=>wb(i[e],t[e]))}function Mb(i,t,e){return Tb(i,t,t.segments,e)}function Tb(i,t,e,r){if(i.segments.length>e.length){let n=i.segments.slice(0,e.length);return!(!Cd(n,e)||t.hasChildren()||!Mf(n,e,r))}else if(i.segments.length===e.length){if(!Cd(i.segments,e)||!Mf(i.segments,e,r))return!1;for(let n in t.children)if(!i.children[n]||!Mb(i.children[n],t.children[n],r))return!1;return!0}else{let n=e.slice(0,i.segments.length),o=e.slice(i.segments.length);return!Cd(i.segments,n)||!Mf(i.segments,n,r)||!i.children[qi]?!1:Tb(i.children[qi],t,o,r)}}function Mf(i,t,e){return t.every((r,n)=>Eb[e](i[n].parameters,r.parameters))}var El=class{constructor(t=new gr([],{}),e={},r=null){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=x0(this.queryParams),this._queryParamMap}toString(){return zS.serialize(this)}},gr=class{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tf(this)}},yd=class{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=x0(this.parameters),this._parameterMap}toString(){return Ab(this)}};function qS(i,t){return Cd(i,t)&&i.every((e,r)=>Xs(e.parameters,t[r].parameters))}function Cd(i,t){return i.length!==t.length?!1:i.every((e,r)=>e.path===t[r].path)}function jS(i,t){let e=[];return Object.entries(i.children).forEach(([r,n])=>{r===qi&&(e=e.concat(t(n,r)))}),Object.entries(i.children).forEach(([r,n])=>{r!==qi&&(e=e.concat(t(n,r)))}),e}var Yu=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=wt({token:i,factory:()=>new y0,providedIn:"root"})}}return i})(),y0=class{parse(t){let e=new f1(t);return new El(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${Lu(t.root,!0)}`,r=GS(t.queryParams),n=typeof t.fragment=="string"?`#${WS(t.fragment)}`:"";return`${e}${r}${n}`}},zS=new y0;function Tf(i){return i.segments.map(t=>Ab(t)).join("/")}function Lu(i,t){if(!i.hasChildren())return Tf(i);if(t){let e=i.children[qi]?Lu(i.children[qi],!1):"",r=[];return Object.entries(i.children).forEach(([n,o])=>{n!==qi&&r.push(`${n}:${Lu(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}else{let e=jS(i,(r,n)=>n===qi?[Lu(i.children[qi],!1)]:[`${n}:${Lu(r,!1)}`]);return Object.keys(i.children).length===1&&i.children[qi]!=null?`${Tf(i)}/${e[0]}`:`${Tf(i)}/(${e.join("//")})`}}function kb(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ef(i){return kb(i).replace(/%3B/gi,";")}function WS(i){return encodeURI(i)}function p1(i){return kb(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function kf(i){return decodeURIComponent(i)}function mb(i){return kf(i.replace(/\+/g,"%20"))}function Ab(i){return`${p1(i.path)}${HS(i.parameters)}`}function HS(i){return Object.entries(i).map(([t,e])=>`;${p1(t)}=${p1(e)}`).join("")}function GS(i){let t=Object.entries(i).map(([e,r])=>Array.isArray(r)?r.map(n=>`${Ef(e)}=${Ef(n)}`).join("&"):`${Ef(e)}=${Ef(r)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var $S=/^[^\/()?;#]+/;function a1(i){let t=i.match($S);return t?t[0]:""}var XS=/^[^\/()?;=#]+/;function ZS(i){let t=i.match(XS);return t?t[0]:""}var YS=/^[^=?&#]+/;function KS(i){let t=i.match(YS);return t?t[0]:""}var JS=/^[^&#]+/;function QS(i){let t=i.match(JS);return t?t[0]:""}var f1=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new gr([],{}):new gr([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[qi]=new gr(t,e)),r}parseSegment(){let t=a1(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new Ur(4009,!1);return this.capture(t),new yd(kf(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=ZS(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let n=a1(this.remaining);n&&(r=n,this.capture(r))}t[kf(e)]=kf(r)}parseQueryParam(t){let e=KS(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let a=QS(this.remaining);a&&(r=a,this.capture(r))}let n=mb(e),o=mb(r);if(t.hasOwnProperty(n)){let a=t[n];Array.isArray(a)||(a=[a],t[n]=a),a.push(o)}else t[n]=o}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=a1(this.remaining),n=this.remaining[r.length];if(n!=="/"&&n!==")"&&n!==";")throw new Ur(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=qi);let a=this.parseChildren();e[o]=Object.keys(a).length===1?a[qi]:new gr([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new Ur(4011,!1)}};function Ib(i){return i.segments.length>0?new gr([],{[qi]:i}):i}function Ob(i){let t={};for(let[r,n]of Object.entries(i.children)){let o=Ob(n);if(r===qi&&o.segments.length===0&&o.hasChildren())for(let[a,d]of Object.entries(o.children))t[a]=d;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let e=new gr(i.segments,t);return e3(e)}function e3(i){if(i.numberOfChildren===1&&i.children[qi]){let t=i.children[qi];return new gr(i.segments.concat(t.segments),t.children)}return i}function wd(i){return i instanceof El}function t3(i,t,e=null,r=null){let n=Fb(i);return Nb(n,t,e,r)}function Fb(i){let t;function e(o){let a={};for(let u of o.children){let m=e(u);a[u.outlet]=m}let d=new gr(o.url,a);return o===i&&(t=d),d}let r=e(i.root),n=Ib(r);return t??n}function Nb(i,t,e,r){let n=i;for(;n.parent;)n=n.parent;if(t.length===0)return s1(n,n,n,e,r);let o=i3(t);if(o.toRoot())return s1(n,n,new gr([],{}),e,r);let a=r3(o,n,i),d=a.processChildren?Bu(a.segmentGroup,a.index,o.commands):Db(a.segmentGroup,a.index,o.commands);return s1(n,a.segmentGroup,d,e,r)}function Af(i){return typeof i=="object"&&i!=null&&!i.outlets&&!i.segmentPath}function qu(i){return typeof i=="object"&&i!=null&&i.outlets}function s1(i,t,e,r,n){let o={};r&&Object.entries(r).forEach(([u,m])=>{o[u]=Array.isArray(m)?m.map(v=>`${v}`):`${m}`});let a;i===t?a=e:a=Lb(i,t,e);let d=Ib(Ob(a));return new El(d,o,n)}function Lb(i,t,e){let r={};return Object.entries(i.children).forEach(([n,o])=>{o===t?r[n]=e:r[n]=Lb(o,t,e)}),new gr(i.segments,r)}var If=class{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&Af(r[0]))throw new Ur(4003,!1);let n=r.find(qu);if(n&&n!==Sb(r))throw new Ur(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function i3(i){if(typeof i[0]=="string"&&i.length===1&&i[0]==="/")return new If(!0,0,i);let t=0,e=!1,r=i.reduce((n,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let d={};return Object.entries(o.outlets).forEach(([u,m])=>{d[u]=typeof m=="string"?m.split("/"):m}),[...n,{outlets:d}]}if(o.segmentPath)return[...n,o.segmentPath]}return typeof o!="string"?[...n,o]:a===0?(o.split("/").forEach((d,u)=>{u==0&&d==="."||(u==0&&d===""?e=!0:d===".."?t++:d!=""&&n.push(d))}),n):[...n,o]},[]);return new If(e,t,r)}var v0=class{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}};function r3(i,t,e){if(i.isAbsolute)return new v0(t,!0,0);if(!e)return new v0(t,!1,NaN);if(e.parent===null)return new v0(e,!0,0);let r=Af(i.commands[0])?0:1,n=e.segments.length-1+r;return n3(e,n,i.numberOfDoubleDots)}function n3(i,t,e){let r=i,n=t,o=e;for(;o>n;){if(o-=n,r=r.parent,!r)throw new Ur(4005,!1);n=r.segments.length}return new v0(r,!1,n-o)}function o3(i){return qu(i[0])?i[0].outlets:{[qi]:i}}function Db(i,t,e){if(i??=new gr([],{}),i.segments.length===0&&i.hasChildren())return Bu(i,t,e);let r=a3(i,t,e),n=e.slice(r.commandIndex);if(r.match&&r.pathIndex<i.segments.length){let o=new gr(i.segments.slice(0,r.pathIndex),{});return o.children[qi]=new gr(i.segments.slice(r.pathIndex),i.children),Bu(o,0,n)}else return r.match&&n.length===0?new gr(i.segments,{}):r.match&&!i.hasChildren()?m1(i,t,e):r.match?Bu(i,0,n):m1(i,t,e)}function Bu(i,t,e){if(e.length===0)return new gr(i.segments,{});{let r=o3(e),n={};if(Object.keys(r).some(o=>o!==qi)&&i.children[qi]&&i.numberOfChildren===1&&i.children[qi].segments.length===0){let o=Bu(i.children[qi],t,e);return new gr(i.segments,o.children)}return Object.entries(r).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(n[o]=Db(i.children[o],t,a))}),Object.entries(i.children).forEach(([o,a])=>{r[o]===void 0&&(n[o]=a)}),new gr(i.segments,n)}}function a3(i,t,e){let r=0,n=t,o={match:!1,pathIndex:0,commandIndex:0};for(;n<i.segments.length;){if(r>=e.length)return o;let a=i.segments[n],d=e[r];if(qu(d))break;let u=`${d}`,m=r<e.length-1?e[r+1]:null;if(n>0&&u===void 0)break;if(u&&m&&typeof m=="object"&&m.outlets===void 0){if(!gb(u,m,a))return o;r+=2}else{if(!gb(u,{},a))return o;r++}n++}return{match:!0,pathIndex:n,commandIndex:r}}function m1(i,t,e){let r=i.segments.slice(0,t),n=0;for(;n<e.length;){let o=e[n];if(qu(o)){let u=s3(o.outlets);return new gr(r,u)}if(n===0&&Af(e[0])){let u=i.segments[t];r.push(new yd(u.path,hb(e[0]))),n++;continue}let a=qu(o)?o.outlets[qi]:`${o}`,d=n<e.length-1?e[n+1]:null;a&&d&&Af(d)?(r.push(new yd(a,hb(d))),n+=2):(r.push(new yd(a,{})),n++)}return new gr(r,{})}function s3(i){let t={};return Object.entries(i).forEach(([e,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[e]=m1(new gr([],{}),0,r))}),t}function hb(i){let t={};return Object.entries(i).forEach(([e,r])=>t[e]=`${r}`),t}function gb(i,t,e){return i==e.path&&Xs(t,e.parameters)}var Uu="imperative",Bn=function(i){return i[i.NavigationStart=0]="NavigationStart",i[i.NavigationEnd=1]="NavigationEnd",i[i.NavigationCancel=2]="NavigationCancel",i[i.NavigationError=3]="NavigationError",i[i.RoutesRecognized=4]="RoutesRecognized",i[i.ResolveStart=5]="ResolveStart",i[i.ResolveEnd=6]="ResolveEnd",i[i.GuardsCheckStart=7]="GuardsCheckStart",i[i.GuardsCheckEnd=8]="GuardsCheckEnd",i[i.RouteConfigLoadStart=9]="RouteConfigLoadStart",i[i.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",i[i.ChildActivationStart=11]="ChildActivationStart",i[i.ChildActivationEnd=12]="ChildActivationEnd",i[i.ActivationStart=13]="ActivationStart",i[i.ActivationEnd=14]="ActivationEnd",i[i.Scroll=15]="Scroll",i[i.NavigationSkipped=16]="NavigationSkipped",i}(Bn||{}),Ha=class{constructor(t,e){this.id=t,this.url=e}},C0=class extends Ha{constructor(t,e,r="imperative",n=null){super(t,e),this.type=Bn.NavigationStart,this.navigationTrigger=r,this.restoredState=n}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Zs=class extends Ha{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r,this.type=Bn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ya=function(i){return i[i.Redirect=0]="Redirect",i[i.SupersededByNewNavigation=1]="SupersededByNewNavigation",i[i.NoDataFromResolver=2]="NoDataFromResolver",i[i.GuardRejected=3]="GuardRejected",i}(ya||{}),Of=function(i){return i[i.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",i[i.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",i}(Of||{}),Sl=class extends Ha{constructor(t,e,r,n){super(t,e),this.reason=r,this.code=n,this.type=Bn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},pc=class extends Ha{constructor(t,e,r,n){super(t,e),this.reason=r,this.code=n,this.type=Bn.NavigationSkipped}},ju=class extends Ha{constructor(t,e,r,n){super(t,e),this.error=r,this.target=n,this.type=Bn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ff=class extends Ha{constructor(t,e,r,n){super(t,e),this.urlAfterRedirects=r,this.state=n,this.type=Bn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},h1=class extends Ha{constructor(t,e,r,n){super(t,e),this.urlAfterRedirects=r,this.state=n,this.type=Bn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},g1=class extends Ha{constructor(t,e,r,n,o){super(t,e),this.urlAfterRedirects=r,this.state=n,this.shouldActivate=o,this.type=Bn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},v1=class extends Ha{constructor(t,e,r,n){super(t,e),this.urlAfterRedirects=r,this.state=n,this.type=Bn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_1=class extends Ha{constructor(t,e,r,n){super(t,e),this.urlAfterRedirects=r,this.state=n,this.type=Bn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},b1=class{constructor(t){this.route=t,this.type=Bn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},x1=class{constructor(t){this.route=t,this.type=Bn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},y1=class{constructor(t){this.snapshot=t,this.type=Bn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},C1=class{constructor(t){this.snapshot=t,this.type=Bn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},w1=class{constructor(t){this.snapshot=t,this.type=Bn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},S1=class{constructor(t){this.snapshot=t,this.type=Bn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Nf=class{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r,this.type=Bn.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},zu=class{},w0=class{constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function l3(i,t){return i.providers&&!i._injector&&(i._injector=qg(i.providers,t,`Route: ${i.path}`)),i._injector??t}function vs(i){return i.outlet||qi}function c3(i,t){let e=i.filter(r=>vs(r)===t);return e.push(...i.filter(r=>vs(r)!==t)),e}function Ku(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let t=i.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var E1=class{get injector(){return Ku(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new Ju(this.rootInjector),this.attachRef=null}},Ju=(()=>{class i{constructor(e){this.rootInjector=e,this.contexts=new Map}onChildOutletCreated(e,r){let n=this.getOrCreateContext(e);n.outlet=r,this.contexts.set(e,n)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new E1(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(r){return new(r||i)(Et(vd))}}static{this.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Lf=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=P1(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){let e=P1(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=M1(t,this._root);return e.length<2?[]:e[e.length-2].children.map(n=>n.value).filter(n=>n!==t)}pathFromRoot(t){return M1(t,this._root).map(e=>e.value)}};function P1(i,t){if(i===t.value)return t;for(let e of t.children){let r=P1(i,e);if(r)return r}return null}function M1(i,t){if(i===t.value)return[t];for(let e of t.children){let r=M1(i,e);if(r.length)return r.unshift(t),r}return[]}var xa=class{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function g0(i){let t={};return i&&i.children.forEach(e=>t[e.value.outlet]=e),t}var Df=class extends Lf{constructor(t,e){super(t),this.snapshot=e,D1(this,t)}toString(){return this.snapshot.toString()}};function Rb(i){let t=d3(i),e=new Va([new yd("",{})]),r=new Va({}),n=new Va({}),o=new Va({}),a=new Va(""),d=new Vi(e,r,o,a,n,qi,i,t.root);return d.snapshot=t.root,new Df(new xa(d,[]),t)}function d3(i){let t={},e={},r={},n="",o=new _0([],t,r,n,e,qi,i,null,{});return new Bf("",new xa(o,[]))}var Vi=class{constructor(t,e,r,n,o,a,d,u){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=n,this.dataSubject=o,this.outlet=a,this.component=d,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(nr(m=>m[Zu]))??ci(void 0),this.url=t,this.params=e,this.queryParams=r,this.fragment=n,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(nr(t=>x0(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(nr(t=>x0(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Rf(i,t,e="emptyOnly"){let r,{routeConfig:n}=i;return t!==null&&(e==="always"||n?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:lt(lt({},t.params),i.params),data:lt(lt({},t.data),i.data),resolve:lt(lt(lt(lt({},i.data),t.data),n?.data),i._resolvedData)}:r={params:lt({},i.params),data:lt({},i.data),resolve:lt(lt({},i.data),i._resolvedData??{})},n&&Ub(n)&&(r.resolve[Zu]=n.title),r}var _0=class{get title(){return this.data?.[Zu]}constructor(t,e,r,n,o,a,d,u,m){this.url=t,this.params=e,this.queryParams=r,this.fragment=n,this.data=o,this.outlet=a,this.component=d,this.routeConfig=u,this._resolve=m}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=x0(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=x0(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},Bf=class extends Lf{constructor(t,e){super(e),this.url=t,D1(this,e)}toString(){return Bb(this._root)}};function D1(i,t){t.value._routerState=i,t.children.forEach(e=>D1(i,e))}function Bb(i){let t=i.children.length>0?` { ${i.children.map(Bb).join(", ")} } `:"";return`${i.value}${t}`}function l1(i){if(i.snapshot){let t=i.snapshot,e=i._futureSnapshot;i.snapshot=e,Xs(t.queryParams,e.queryParams)||i.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&i.fragmentSubject.next(e.fragment),Xs(t.params,e.params)||i.paramsSubject.next(e.params),RS(t.url,e.url)||i.urlSubject.next(e.url),Xs(t.data,e.data)||i.dataSubject.next(e.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function T1(i,t){let e=Xs(i.params,t.params)&&qS(i.url,t.url),r=!i.parent!=!t.parent;return e&&!r&&(!i.parent||T1(i.parent,t.parent))}function Ub(i){return typeof i.title=="string"||i.title===null}var Qu=(()=>{class i{constructor(){this.activated=null,this._activatedRoute=null,this.name=qi,this.activateEvents=new tn,this.deactivateEvents=new tn,this.attachEvents=new tn,this.detachEvents=new tn,this.parentContexts=ii(Ju),this.location=ii(x2),this.changeDetector=ii(gs),this.inputBinder=ii(jf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:n}=e.name;if(r)return;this.isTrackedInParentContexts(n)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(n)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ur(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ur(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ur(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Ur(4013,!1);this._activatedRoute=e;let n=this.location,a=e.snapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,u=new k1(e,d,n.injector);this.activated=n.createComponent(a,{index:n.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275dir=zr({type:i,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[za]})}}return i})(),k1=class i{__ngOutletInjector(t){return new i(this.route,this.childContexts,t)}constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===Vi?this.route:t===Ju?this.childContexts:this.parent.get(t,e)}},jf=new Ji(""),vb=(()=>{class i{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:r}=e,n=md([r.queryParams,r.params,r.data]).pipe(Kn(([o,a,d],u)=>(d=lt(lt(lt({},o),a),d),u===0?ci(d):Promise.resolve(d)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(e);return}let a=D2(r.component);if(!a){this.unsubscribeFromRouteData(e);return}for(let{templateName:d}of a.inputs)e.activatedComponentRef.setInput(d,o[d])});this.outletDataSubscriptions.set(e,n)}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=wt({token:i,factory:i.\u0275fac})}}return i})();function u3(i,t,e){let r=Wu(i,t._root,e?e._root:void 0);return new Df(r,t)}function Wu(i,t,e){if(e&&i.shouldReuseRoute(t.value,e.value.snapshot)){let r=e.value;r._futureSnapshot=t.value;let n=p3(i,t,e);return new xa(r,n)}else{if(i.shouldAttach(t.value)){let o=i.retrieve(t.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(d=>Wu(i,d)),a}}let r=f3(t.value),n=t.children.map(o=>Wu(i,o));return new xa(r,n)}}function p3(i,t,e){return t.children.map(r=>{for(let n of e.children)if(i.shouldReuseRoute(r.value,n.value.snapshot))return Wu(i,r,n);return Wu(i,r)})}function f3(i){return new Vi(new Va(i.url),new Va(i.params),new Va(i.queryParams),new Va(i.fragment),new Va(i.data),i.outlet,i.component,i)}var Hu=class{constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},Vb="ngNavigationCancelingError";function Uf(i,t){let{redirectTo:e,navigationBehaviorOptions:r}=wd(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,n=qb(!1,ya.Redirect);return n.url=e,n.navigationBehaviorOptions=r,n}function qb(i,t){let e=new Error(`NavigationCancelingError: ${i||""}`);return e[Vb]=!0,e.cancellationCode=t,e}function m3(i){return jb(i)&&wd(i.url)}function jb(i){return!!i&&i[Vb]}var h3=(i,t,e,r)=>nr(n=>(new A1(t,n.targetRouterState,n.currentRouterState,e,r).activate(i),n)),A1=class{constructor(t,e,r,n,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=n,this.inputBindingEnabled=o}activate(t){let e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),l1(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){let n=g0(e);t.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,n[a],r),delete n[a]}),Object.values(n).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,e,r){let n=t.value,o=e?e.value:null;if(n===o)if(n.component){let a=r.getContext(n.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let r=e.getContext(t.value.outlet),n=r&&t.value.component?r.children:e,o=g0(t);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,n);if(r&&r.outlet){let a=r.outlet.detach(),d=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:d})}}deactivateRouteAndOutlet(t,e){let r=e.getContext(t.value.outlet),n=r&&t.value.component?r.children:e,o=g0(t);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,n);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,e,r){let n=g0(e);t.children.forEach(o=>{this.activateRoutes(o,n[o.value.outlet],r),this.forwardEvent(new S1(o.value.snapshot))}),t.children.length&&this.forwardEvent(new C1(t.value.snapshot))}activateRoutes(t,e,r){let n=t.value,o=e?e.value:null;if(l1(n),n===o)if(n.component){let a=r.getOrCreateContext(n.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,r);else if(n.component){let a=r.getOrCreateContext(n.outlet);if(this.routeReuseStrategy.shouldAttach(n.snapshot)){let d=this.routeReuseStrategy.retrieve(n.snapshot);this.routeReuseStrategy.store(n.snapshot,null),a.children.onOutletReAttached(d.contexts),a.attachRef=d.componentRef,a.route=d.route.value,a.outlet&&a.outlet.attach(d.componentRef,d.route.value),l1(d.route.value),this.activateChildRoutes(t,null,a.children)}else a.attachRef=null,a.route=n,a.outlet&&a.outlet.activateWith(n,a.injector),this.activateChildRoutes(t,null,a.children)}else this.activateChildRoutes(t,null,r)}},Vf=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},b0=class{constructor(t,e){this.component=t,this.route=e}};function g3(i,t,e){let r=i._root,n=t?t._root:null;return Du(r,n,e,[r.value])}function v3(i){let t=i.routeConfig?i.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:i,guards:t}}function E0(i,t){let e=Symbol(),r=t.get(i,e);return r===e?typeof i=="function"&&!d2(i)?i:t.get(i):r}function Du(i,t,e,r,n={canDeactivateChecks:[],canActivateChecks:[]}){let o=g0(t);return i.children.forEach(a=>{_3(a,o[a.value.outlet],e,r.concat([a.value]),n),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,d])=>Vu(d,e.getContext(a),n)),n}function _3(i,t,e,r,n={canDeactivateChecks:[],canActivateChecks:[]}){let o=i.value,a=t?t.value:null,d=e?e.getContext(i.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let u=b3(a,o,o.routeConfig.runGuardsAndResolvers);u?n.canActivateChecks.push(new Vf(r)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?Du(i,t,d?d.children:null,r,n):Du(i,t,e,r,n),u&&d&&d.outlet&&d.outlet.isActivated&&n.canDeactivateChecks.push(new b0(d.outlet.component,a))}else a&&Vu(t,d,n),n.canActivateChecks.push(new Vf(r)),o.component?Du(i,null,d?d.children:null,r,n):Du(i,null,e,r,n);return n}function b3(i,t,e){if(typeof e=="function")return e(i,t);switch(e){case"pathParamsChange":return!Cd(i.url,t.url);case"pathParamsOrQueryParamsChange":return!Cd(i.url,t.url)||!Xs(i.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!T1(i,t)||!Xs(i.queryParams,t.queryParams);case"paramsChange":default:return!T1(i,t)}}function Vu(i,t,e){let r=g0(i),n=i.value;Object.entries(r).forEach(([o,a])=>{n.component?t?Vu(a,t.children.getContext(o),e):Vu(a,null,e):Vu(a,t,e)}),n.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new b0(t.outlet.component,n)):e.canDeactivateChecks.push(new b0(null,n)):e.canDeactivateChecks.push(new b0(null,n))}function ep(i){return typeof i=="function"}function x3(i){return typeof i=="boolean"}function y3(i){return i&&ep(i.canLoad)}function C3(i){return i&&ep(i.canActivate)}function w3(i){return i&&ep(i.canActivateChild)}function S3(i){return i&&ep(i.canDeactivate)}function E3(i){return i&&ep(i.canMatch)}function zb(i){return i instanceof t2||i?.name==="EmptyError"}var Pf=Symbol("INITIAL_VALUE");function S0(){return Kn(i=>md(i.map(t=>t.pipe(s0(1),l2(Pf)))).pipe(nr(t=>{for(let e of t)if(e!==!0){if(e===Pf)return Pf;if(e===!1||P3(e))return e}return!0}),vl(t=>t!==Pf),s0(1)))}function P3(i){return wd(i)||i instanceof Hu}function M3(i,t){return Lo(e=>{let{targetSnapshot:r,currentSnapshot:n,guards:{canActivateChecks:o,canDeactivateChecks:a}}=e;return a.length===0&&o.length===0?ci(Ki(lt({},e),{guardsResult:!0})):T3(a,r,n,i).pipe(Lo(d=>d&&x3(d)?k3(r,o,i,t):ci(d)),nr(d=>Ki(lt({},e),{guardsResult:d})))})}function T3(i,t,e,r){return Yn(i).pipe(Lo(n=>N3(n.component,n.route,e,t,r)),lc(n=>n!==!0,!0))}function k3(i,t,e,r){return Yn(t).pipe(sc(n=>i2(I3(n.route.parent,r),A3(n.route,r),F3(i,n.path,e),O3(i,n.route,e))),lc(n=>n!==!0,!0))}function A3(i,t){return i!==null&&t&&t(new w1(i)),ci(!0)}function I3(i,t){return i!==null&&t&&t(new y1(i)),ci(!0)}function O3(i,t,e){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return ci(!0);let n=r.map(o=>Fg(()=>{let a=Ku(t)??e,d=E0(o,a),u=C3(d)?d.canActivate(t,i):ja(a,()=>d(t,i));return fc(u).pipe(lc())}));return ci(n).pipe(S0())}function F3(i,t,e){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(a=>v3(a)).filter(a=>a!==null).map(a=>Fg(()=>{let d=a.guards.map(u=>{let m=Ku(a.node)??e,v=E0(u,m),y=w3(v)?v.canActivateChild(r,i):ja(m,()=>v(r,i));return fc(y).pipe(lc())});return ci(d).pipe(S0())}));return ci(o).pipe(S0())}function N3(i,t,e,r,n){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return ci(!0);let a=o.map(d=>{let u=Ku(t)??n,m=E0(d,u),v=S3(m)?m.canDeactivate(i,t,e,r):ja(u,()=>m(i,t,e,r));return fc(v).pipe(lc())});return ci(a).pipe(S0())}function L3(i,t,e,r){let n=t.canLoad;if(n===void 0||n.length===0)return ci(!0);let o=n.map(a=>{let d=E0(a,i),u=y3(d)?d.canLoad(t,e):ja(i,()=>d(t,e));return fc(u)});return ci(o).pipe(S0(),Wb(r))}function Wb(i){return Q_(wn(t=>{if(typeof t!="boolean")throw Uf(i,t)}),nr(t=>t===!0))}function D3(i,t,e,r){let n=t.canMatch;if(!n||n.length===0)return ci(!0);let o=n.map(a=>{let d=E0(a,i),u=E3(d)?d.canMatch(t,e):ja(i,()=>d(t,e));return fc(u)});return ci(o).pipe(S0(),Wb(r))}var Gu=class{constructor(t){this.segmentGroup=t||null}},$u=class extends Error{constructor(t){super(),this.urlTree=t}};function h0(i){return Cu(new Gu(i))}function R3(i){return Cu(new Ur(4e3,!1))}function B3(i){return Cu(qb(!1,ya.GuardRejected))}var I1=class{constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let r=[],n=e.root;for(;;){if(r=r.concat(n.segments),n.numberOfChildren===0)return ci(r);if(n.numberOfChildren>1||!n.children[qi])return R3(`${t.redirectTo}`);n=n.children[qi]}}applyRedirectCommands(t,e,r,n,o){if(typeof e!="string"){let d=e,{queryParams:u,fragment:m,routeConfig:v,url:y,outlet:w,params:x,data:T,title:E}=n,k=ja(o,()=>d({params:x,data:T,queryParams:u,fragment:m,routeConfig:v,url:y,outlet:w,title:E}));if(k instanceof El)throw new $u(k);e=k}let a=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r);if(e[0]==="/")throw new $u(a);return a}applyRedirectCreateUrlTree(t,e,r,n){let o=this.createSegmentGroup(t,e.root,r,n);return new El(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let r={};return Object.entries(t).forEach(([n,o])=>{if(typeof o=="string"&&o[0]===":"){let d=o.substring(1);r[n]=e[d]}else r[n]=o}),r}createSegmentGroup(t,e,r,n){let o=this.createSegments(t,e.segments,r,n),a={};return Object.entries(e.children).forEach(([d,u])=>{a[d]=this.createSegmentGroup(t,u,r,n)}),new gr(o,a)}createSegments(t,e,r,n){return e.map(o=>o.path[0]===":"?this.findPosParam(t,o,n):this.findOrReturn(o,r))}findPosParam(t,e,r){let n=r[e.path.substring(1)];if(!n)throw new Ur(4001,!1);return n}findOrReturn(t,e){let r=0;for(let n of e){if(n.path===t.path)return e.splice(r),n;r++}return t}},O1={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function U3(i,t,e,r,n){let o=Hb(i,t,e);return o.matched?(r=l3(t,r),D3(r,t,e,n).pipe(nr(a=>a===!0?o:lt({},O1)))):ci(o)}function Hb(i,t,e){if(t.path==="**")return V3(e);if(t.path==="")return t.pathMatch==="full"&&(i.hasChildren()||e.length>0)?lt({},O1):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let n=(t.matcher||DS)(e,i,t);if(!n)return lt({},O1);let o={};Object.entries(n.posParams??{}).forEach(([d,u])=>{o[d]=u.path});let a=n.consumed.length>0?lt(lt({},o),n.consumed[n.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:n.consumed,remainingSegments:e.slice(n.consumed.length),parameters:a,positionalParamSegments:n.posParams??{}}}function V3(i){return{matched:!0,parameters:i.length>0?Sb(i).parameters:{},consumedSegments:i,remainingSegments:[],positionalParamSegments:{}}}function _b(i,t,e,r){return e.length>0&&z3(i,e,r)?{segmentGroup:new gr(t,j3(r,new gr(e,i.children))),slicedSegments:[]}:e.length===0&&W3(i,e,r)?{segmentGroup:new gr(i.segments,q3(i,e,r,i.children)),slicedSegments:e}:{segmentGroup:new gr(i.segments,i.children),slicedSegments:e}}function q3(i,t,e,r){let n={};for(let o of e)if(zf(i,t,o)&&!r[vs(o)]){let a=new gr([],{});n[vs(o)]=a}return lt(lt({},r),n)}function j3(i,t){let e={};e[qi]=t;for(let r of i)if(r.path===""&&vs(r)!==qi){let n=new gr([],{});e[vs(r)]=n}return e}function z3(i,t,e){return e.some(r=>zf(i,t,r)&&vs(r)!==qi)}function W3(i,t,e){return e.some(r=>zf(i,t,r))}function zf(i,t,e){return(i.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function H3(i,t,e){return t.length===0&&!i.children[e]}var F1=class{};function G3(i,t,e,r,n,o,a="emptyOnly"){return new N1(i,t,e,r,n,a,o).recognize()}var $3=31,N1=class{constructor(t,e,r,n,o,a,d){this.injector=t,this.configLoader=e,this.rootComponentType=r,this.config=n,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=d,this.applyRedirects=new I1(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new Ur(4002,`'${t.segmentGroup}'`)}recognize(){let t=_b(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(nr(({children:e,rootSnapshot:r})=>{let n=new xa(r,e),o=new Bf("",n),a=t3(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),{state:o,tree:a}}))}match(t){let e=new _0([],Object.freeze({}),Object.freeze(lt({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),qi,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,qi,e).pipe(nr(r=>({children:r,rootSnapshot:e})),qa(r=>{if(r instanceof $u)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Gu?this.noMatchError(r):r}))}processSegmentGroup(t,e,r,n,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,e,r,o):this.processSegment(t,e,r,r.segments,n,!0,o).pipe(nr(a=>a instanceof xa?[a]:[]))}processChildren(t,e,r,n){let o=[];for(let a of Object.keys(r.children))a==="primary"?o.unshift(a):o.push(a);return Yn(o).pipe(sc(a=>{let d=r.children[a],u=c3(e,a);return this.processSegmentGroup(t,u,d,a,n)}),s2((a,d)=>(a.push(...d),a)),Ng(null),a2(),Lo(a=>{if(a===null)return h0(r);let d=Gb(a);return X3(d),ci(d)}))}processSegment(t,e,r,n,o,a,d){return Yn(e).pipe(sc(u=>this.processSegmentAgainstRoute(u._injector??t,e,u,r,n,o,a,d).pipe(qa(m=>{if(m instanceof Gu)return ci(null);throw m}))),lc(u=>!!u),qa(u=>{if(zb(u))return H3(r,n,o)?ci(new F1):h0(r);throw u}))}processSegmentAgainstRoute(t,e,r,n,o,a,d,u){return vs(r)!==a&&(a===qi||!zf(n,o,r))?h0(n):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,n,r,o,a,u):this.allowRedirects&&d?this.expandSegmentAgainstRouteUsingRedirect(t,n,e,r,o,a,u):h0(n)}expandSegmentAgainstRouteUsingRedirect(t,e,r,n,o,a,d){let{matched:u,parameters:m,consumedSegments:v,positionalParamSegments:y,remainingSegments:w}=Hb(e,n,o);if(!u)return h0(e);typeof n.redirectTo=="string"&&n.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>$3&&(this.allowRedirects=!1));let x=new _0(o,m,Object.freeze(lt({},this.urlTree.queryParams)),this.urlTree.fragment,bb(n),vs(n),n.component??n._loadedComponent??null,n,xb(n)),T=Rf(x,d,this.paramsInheritanceStrategy);x.params=Object.freeze(T.params),x.data=Object.freeze(T.data);let E=this.applyRedirects.applyRedirectCommands(v,n.redirectTo,y,x,t);return this.applyRedirects.lineralizeSegments(n,E).pipe(Lo(k=>this.processSegment(t,r,e,k.concat(w),a,!1,d)))}matchSegmentAgainstRoute(t,e,r,n,o,a){let d=U3(e,r,n,t,this.urlSerializer);return r.path==="**"&&(e.children={}),d.pipe(Kn(u=>u.matched?(t=r._injector??t,this.getChildConfig(t,r,n).pipe(Kn(({routes:m})=>{let v=r._loadedInjector??t,{parameters:y,consumedSegments:w,remainingSegments:x}=u,T=new _0(w,y,Object.freeze(lt({},this.urlTree.queryParams)),this.urlTree.fragment,bb(r),vs(r),r.component??r._loadedComponent??null,r,xb(r)),E=Rf(T,a,this.paramsInheritanceStrategy);T.params=Object.freeze(E.params),T.data=Object.freeze(E.data);let{segmentGroup:k,slicedSegments:F}=_b(e,w,x,m);if(F.length===0&&k.hasChildren())return this.processChildren(v,m,k,T).pipe(nr(Y=>new xa(T,Y)));if(m.length===0&&F.length===0)return ci(new xa(T,[]));let U=vs(r)===o;return this.processSegment(v,m,k,F,U?qi:o,!0,T).pipe(nr(Y=>new xa(T,Y instanceof xa?[Y]:[])))}))):h0(e)))}getChildConfig(t,e,r){return e.children?ci({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?ci({routes:e._loadedRoutes,injector:e._loadedInjector}):L3(t,e,r,this.urlSerializer).pipe(Lo(n=>n?this.configLoader.loadChildren(t,e).pipe(wn(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):B3(e))):ci({routes:[],injector:t})}};function X3(i){i.sort((t,e)=>t.value.outlet===qi?-1:e.value.outlet===qi?1:t.value.outlet.localeCompare(e.value.outlet))}function Z3(i){let t=i.value.routeConfig;return t&&t.path===""}function Gb(i){let t=[],e=new Set;for(let r of i){if(!Z3(r)){t.push(r);continue}let n=t.find(o=>r.value.routeConfig===o.value.routeConfig);n!==void 0?(n.children.push(...r.children),e.add(n)):t.push(r)}for(let r of e){let n=Gb(r.children);t.push(new xa(r.value,n))}return t.filter(r=>!e.has(r))}function bb(i){return i.data||{}}function xb(i){return i.resolve||{}}function Y3(i,t,e,r,n,o){return Lo(a=>G3(i,t,e,r,a.extractedUrl,n,o).pipe(nr(({state:d,tree:u})=>Ki(lt({},a),{targetSnapshot:d,urlAfterRedirects:u}))))}function K3(i,t){return Lo(e=>{let{targetSnapshot:r,guards:{canActivateChecks:n}}=e;if(!n.length)return ci(e);let o=new Set(n.map(u=>u.route)),a=new Set;for(let u of o)if(!a.has(u))for(let m of $b(u))a.add(m);let d=0;return Yn(a).pipe(sc(u=>o.has(u)?J3(u,r,i,t):(u.data=Rf(u,u.parent,i).resolve,ci(void 0))),wn(()=>d++),Lg(1),Lo(u=>d===a.size?ci(e):ac))})}function $b(i){let t=i.children.map(e=>$b(e)).flat();return[i,...t]}function J3(i,t,e,r){let n=i.routeConfig,o=i._resolve;return n?.title!==void 0&&!Ub(n)&&(o[Zu]=n.title),Q3(o,i,t,r).pipe(nr(a=>(i._resolvedData=a,i.data=Rf(i,i.parent,e).resolve,null)))}function Q3(i,t,e,r){let n=u1(i);if(n.length===0)return ci({});let o={};return Yn(n).pipe(Lo(a=>e4(i[a],t,e,r).pipe(lc(),wn(d=>{if(d instanceof Hu)throw Uf(new y0,d);o[a]=d}))),Lg(1),o2(o),qa(a=>zb(a)?ac:Cu(a)))}function e4(i,t,e,r){let n=Ku(t)??r,o=E0(i,n),a=o.resolve?o.resolve(t,e):ja(n,()=>o(t,e));return fc(a)}function c1(i){return Kn(t=>{let e=i(t);return e?Yn(e).pipe(nr(()=>t)):ci(t)})}var Xb=(()=>{class i{buildTitle(e){let r,n=e.root;for(;n!==void 0;)r=this.getResolvedTitleForRoute(n)??r,n=n.children.find(o=>o.outlet===qi);return r}getResolvedTitleForRoute(e){return e.data[Zu]}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=wt({token:i,factory:()=>ii(t4),providedIn:"root"})}}return i})(),t4=(()=>{class i extends Xb{constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||i)(Et(pb))}}static{this.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),tp=new Ji("",{providedIn:"root",factory:()=>({})}),i4=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275cmp=ot({type:i,selectors:[["ng-component"]],standalone:!0,features:[st],decls:1,vars:0,template:function(r,n){r&1&&Ee(0,"router-outlet")},dependencies:[Qu],encapsulation:2})}}return i})();function R1(i){let t=i.children&&i.children.map(R1),e=t?Ki(lt({},i),{children:t}):lt({},i);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==qi&&(e.component=i4),e}var Xu=new Ji(""),B1=(()=>{class i{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ii(mf)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return ci(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let r=fc(e.loadComponent()).pipe(nr(Zb),wn(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),hd(()=>{this.componentLoaders.delete(e)})),n=new Ag(r,()=>new Ua).pipe(kg());return this.componentLoaders.set(e,n),n}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ci({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=r4(r,this.compiler,e,this.onLoadEndListener).pipe(hd(()=>{this.childrenLoaders.delete(r)})),a=new Ag(o,()=>new Ua).pipe(kg());return this.childrenLoaders.set(r,a),a}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function r4(i,t,e,r){return fc(i.loadChildren()).pipe(nr(Zb),Lo(n=>n instanceof C2||Array.isArray(n)?ci(n):Yn(t.compileModuleAsync(n))),nr(n=>{r&&r(i);let o,a,d=!1;return Array.isArray(n)?(a=n,d=!0):(o=n.create(e).injector,a=o.get(Xu,[],{optional:!0,self:!0}).flat()),{routes:a.map(R1),injector:o}}))}function n4(i){return i&&typeof i=="object"&&"default"in i}function Zb(i){return n4(i)?i.default:i}var U1=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=wt({token:i,factory:()=>ii(o4),providedIn:"root"})}}return i})(),o4=(()=>{class i{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Yb=new Ji(""),Kb=new Ji("");function a4(i,t,e){let r=i.get(Kb),n=i.get(Do);return i.get(Qo).runOutsideAngular(()=>{if(!n.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(m=>setTimeout(m));let o,a=new Promise(m=>{o=m}),d=n.startViewTransition(()=>(o(),s4(i))),{onViewTransitionCreated:u}=r;return u&&ja(i,()=>u({transition:d,from:t,to:e})),a})}function s4(i){return new Promise(t=>{w2({read:()=>setTimeout(t)},{injector:i})})}var l4=new Ji(""),V1=(()=>{class i{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ua,this.transitionAbortSubject=new Ua,this.configLoader=ii(B1),this.environmentInjector=ii(vd),this.urlSerializer=ii(Yu),this.rootContexts=ii(Ju),this.location=ii(Cl),this.inputBindingEnabled=ii(jf,{optional:!0})!==null,this.titleStrategy=ii(Xb),this.options=ii(tp,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=ii(U1),this.createViewTransition=ii(Yb,{optional:!0}),this.navigationErrorHandler=ii(l4,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ci(void 0),this.rootComponentType=null;let e=n=>this.events.next(new b1(n)),r=n=>this.events.next(new x1(n));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;this.transitions?.next(Ki(lt(lt({},this.transitions.value),e),{id:r}))}setupNavigations(e,r,n){return this.transitions=new Va({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Uu,restoredState:null,currentSnapshot:n.snapshot,targetSnapshot:null,currentRouterState:n,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(vl(o=>o.id!==0),nr(o=>Ki(lt({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Kn(o=>{let a=!1,d=!1;return ci(o).pipe(Kn(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",ya.SupersededByNewNavigation),ac;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?Ki(lt({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let m=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),v=u.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!m&&v!=="reload"){let y="";return this.events.next(new pc(u.id,this.urlSerializer.serialize(u.rawUrl),y,Of.IgnoredSameUrlNavigation)),u.resolve(!1),ac}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return ci(u).pipe(Kn(y=>{let w=this.transitions?.getValue();return this.events.next(new C0(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),w!==this.transitions?.getValue()?ac:Promise.resolve(y)}),Y3(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),wn(y=>{o.targetSnapshot=y.targetSnapshot,o.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation=Ki(lt({},this.currentNavigation),{finalUrl:y.urlAfterRedirects});let w=new Ff(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(w)}));if(m&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:y,extractedUrl:w,source:x,restoredState:T,extras:E}=u,k=new C0(y,this.urlSerializer.serialize(w),x,T);this.events.next(k);let F=Rb(this.rootComponentType).snapshot;return this.currentTransition=o=Ki(lt({},u),{targetSnapshot:F,urlAfterRedirects:w,extras:Ki(lt({},E),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=w,ci(o)}else{let y="";return this.events.next(new pc(u.id,this.urlSerializer.serialize(u.extractedUrl),y,Of.IgnoredByUrlHandlingStrategy)),u.resolve(!1),ac}}),wn(u=>{let m=new h1(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(m)}),nr(u=>(this.currentTransition=o=Ki(lt({},u),{guards:g3(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),M3(this.environmentInjector,u=>this.events.next(u)),wn(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw Uf(this.urlSerializer,u.guardsResult);let m=new g1(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(m)}),vl(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",ya.GuardRejected),!1)),c1(u=>{if(u.guards.canActivateChecks.length)return ci(u).pipe(wn(m=>{let v=new v1(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}),Kn(m=>{let v=!1;return ci(m).pipe(K3(this.paramsInheritanceStrategy,this.environmentInjector),wn({next:()=>v=!0,complete:()=>{v||this.cancelNavigationTransition(m,"",ya.NoDataFromResolver)}}))}),wn(m=>{let v=new _1(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}))}),c1(u=>{let m=v=>{let y=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(v.routeConfig).pipe(wn(w=>{v.component=w}),nr(()=>{})));for(let w of v.children)y.push(...m(w));return y};return md(m(u.targetSnapshot.root)).pipe(Ng(null),s0(1))}),c1(()=>this.afterPreactivation()),Kn(()=>{let{currentSnapshot:u,targetSnapshot:m}=o,v=this.createViewTransition?.(this.environmentInjector,u.root,m.root);return v?Yn(v).pipe(nr(()=>o)):ci(o)}),nr(u=>{let m=u3(e.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=Ki(lt({},u),{targetRouterState:m}),this.currentNavigation.targetRouterState=m,o}),wn(()=>{this.events.next(new zu)}),h3(this.rootContexts,e.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),s0(1),wn({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Zs(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),c2(this.transitionAbortSubject.pipe(wn(u=>{throw u}))),hd(()=>{!a&&!d&&this.cancelNavigationTransition(o,"",ya.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),qa(u=>{if(d=!0,jb(u))this.events.next(new Sl(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),m3(u)?this.events.next(new w0(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let m=new ju(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let v=ja(this.environmentInjector,()=>this.navigationErrorHandler?.(m));if(v instanceof Hu){let{message:y,cancellationCode:w}=Uf(this.urlSerializer,v);this.events.next(new Sl(o.id,this.urlSerializer.serialize(o.extractedUrl),y,w)),this.events.next(new w0(v.redirectTo,v.navigationBehaviorOptions))}else{this.events.next(m);let y=e.errorHandler(u);o.resolve(!!y)}}catch(v){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(v)}}return ac}))}))}cancelNavigationTransition(e,r,n){let o=new Sl(e.id,this.urlSerializer.serialize(e.extractedUrl),r,n);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function c4(i){return i!==Uu}var d4=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=wt({token:i,factory:()=>ii(u4),providedIn:"root"})}}return i})(),L1=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},u4=(()=>{class i extends L1{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ba(i)))(n||i)}})()}static{this.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Jb=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=wt({token:i,factory:()=>ii(p4),providedIn:"root"})}}return i})(),p4=(()=>{class i extends Jb{constructor(){super(...arguments),this.location=ii(Cl),this.urlSerializer=ii(Yu),this.options=ii(tp,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=ii(U1),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new El,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Rb(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&e(r.url,r.state)})}handleRouterEvent(e,r){if(e instanceof C0)this.stateMemento=this.createStateMemento();else if(e instanceof pc)this.rawUrlTree=r.initialUrl;else if(e instanceof Ff){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let n=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??n,r)}}else e instanceof zu?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):e instanceof Sl&&(e.code===ya.GuardRejected||e.code===ya.NoDataFromResolver)?this.restoreHistory(r):e instanceof ju?this.restoreHistory(r,!0):e instanceof Zs&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,r){let n=e instanceof El?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(n)||r.extras.replaceUrl){let o=this.browserPageId,a=lt(lt({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(n,"",a)}else{let o=lt(lt({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(n,"",o)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let n=this.browserPageId,o=this.currentPageId-n;o!==0?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&o===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ba(i)))(n||i)}})()}static{this.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Ru=function(i){return i[i.COMPLETE=0]="COMPLETE",i[i.FAILED=1]="FAILED",i[i.REDIRECTING=2]="REDIRECTING",i}(Ru||{});function Qb(i,t){i.events.pipe(vl(e=>e instanceof Zs||e instanceof Sl||e instanceof ju||e instanceof pc),nr(e=>e instanceof Zs||e instanceof pc?Ru.COMPLETE:(e instanceof Sl?e.code===ya.Redirect||e.code===ya.SupersededByNewNavigation:!1)?Ru.REDIRECTING:Ru.FAILED),vl(e=>e!==Ru.REDIRECTING),s0(1)).subscribe(()=>{t()})}function f4(i){throw i}var m4={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},h4={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ht=(()=>{class i{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=ii(df),this.stateManager=ii(Jb),this.options=ii(tp,{optional:!0})||{},this.pendingTasks=ii(Eu),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=ii(V1),this.urlSerializer=ii(Yu),this.location=ii(Cl),this.urlHandlingStrategy=ii(U1),this._events=new Ua,this.errorHandler=this.options.errorHandler||f4,this.navigated=!1,this.routeReuseStrategy=ii(d4),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=ii(Xu,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!ii(jf,{optional:!0}),this.eventsSubscription=new J_,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let n=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(n!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Sl&&r.code!==ya.Redirect&&r.code!==ya.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Zs)this.navigated=!0;else if(r instanceof w0){let a=r.navigationBehaviorOptions,d=this.urlHandlingStrategy.merge(r.url,n.currentRawUrl),u=lt({browserUrl:n.extras.browserUrl,info:n.extras.info,skipLocationChange:n.extras.skipLocationChange,replaceUrl:n.extras.replaceUrl||this.urlUpdateStrategy==="eager"||c4(n.source)},a);this.scheduleNavigation(d,Uu,null,u,{resolve:n.resolve,reject:n.reject,promise:n.promise})}}v4(r)&&this._events.next(r)}catch(n){this.navigationTransitions.transitionAbortSubject.next(n)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Uu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",r)},0)})}navigateToSyncWithBrowser(e,r,n){let o={replaceUrl:!0},a=n?.navigationId?n:null;if(n){let u=lt({},n);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let d=this.parseUrl(e);this.scheduleNavigation(d,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(R1),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:n,queryParams:o,fragment:a,queryParamsHandling:d,preserveFragment:u}=r,m=u?this.currentUrlTree.fragment:a,v=null;switch(d??this.options.defaultQueryParamsHandling){case"merge":v=lt(lt({},this.currentUrlTree.queryParams),o);break;case"preserve":v=this.currentUrlTree.queryParams;break;default:v=o||null}v!==null&&(v=this.removeEmptyProps(v));let y;try{let w=n?n.snapshot:this.routerState.snapshot.root;y=Fb(w)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),y=this.currentUrlTree.root}return Nb(y,e,v,m??null)}navigateByUrl(e,r={skipLocationChange:!1}){let n=wd(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(o,Uu,null,r)}navigate(e,r={skipLocationChange:!1}){return g4(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,r){let n;if(r===!0?n=lt({},m4):r===!1?n=lt({},h4):n=r,wd(e))return fb(this.currentUrlTree,e,n);let o=this.parseUrl(e);return fb(this.currentUrlTree,o,n)}removeEmptyProps(e){return Object.entries(e).reduce((r,[n,o])=>(o!=null&&(r[n]=o),r),{})}scheduleNavigation(e,r,n,o,a){if(this.disposed)return Promise.resolve(!1);let d,u,m;a?(d=a.resolve,u=a.reject,m=a.promise):m=new Promise((y,w)=>{d=y,u=w});let v=this.pendingTasks.add();return Qb(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(v))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:d,reject:u,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(y=>Promise.reject(y))}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function g4(i){for(let t=0;t<i.length;t++)if(i[t]==null)throw new Ur(4008,!1)}function v4(i){return!(i instanceof zu)&&!(i instanceof w0)}var ex=(()=>{class i{constructor(e,r,n,o,a,d){this.router=e,this.route=r,this.tabIndexAttribute=n,this.renderer=o,this.el=a,this.locationStrategy=d,this.href=null,this.onChanges=new Ua,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=e.events.subscribe(m=>{m instanceof Zs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(wd(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,r,n,o,a){let d=this.urlTree;if(d===null||this.isAnchorElement&&(e!==0||r||n||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(d,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let r=this.href===null?null:_2(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(e,r){let n=this.renderer,o=this.el.nativeElement;r!==null?n.setAttribute(o,e,r):n.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:wd(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||i)(ie(ht),ie(Vi),m2("tabindex"),ie(bd),ie(Ws),ie(Mu))}}static{this.\u0275dir=zr({type:i,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,n){r&1&&H("click",function(a){return n.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&hs("target",n.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",xd],skipLocationChange:[2,"skipLocationChange","skipLocationChange",xd],replaceUrl:[2,"replaceUrl","replaceUrl",xd],routerLink:"routerLink"},standalone:!0,features:[y2,za]})}}return i})();var qf=class{};var _4=(()=>{class i{constructor(e,r,n,o,a){this.router=e,this.injector=n,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(vl(e=>e instanceof Zs),sc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){let n=[];for(let o of r){o.providers&&!o._injector&&(o._injector=qg(o.providers,e,`Route: ${o.path}`));let a=o._injector??e,d=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&n.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&n.push(this.processRoutes(d,o.children??o._loadedRoutes))}return Yn(n).pipe(Og())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let n;r.loadChildren&&r.canLoad===void 0?n=this.loader.loadChildren(e,r):n=ci(null);let o=n.pipe(Lo(a=>a===null?ci(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??e,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return Yn([o,a]).pipe(Og())}else return o})}static{this.\u0275fac=function(r){return new(r||i)(Et(ht),Et(mf),Et(vd),Et(qf),Et(B1))}}static{this.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),tx=new Ji(""),b4=(()=>{class i{constructor(e,r,n,o,a={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=n,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof C0?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Zs?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof pc&&e.code===Of.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Nf&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Nf(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){af()}}static{this.\u0275prov=wt({token:i,factory:i.\u0275fac})}}return i})();function ix(i,...t){return gd([{provide:Xu,multi:!0,useValue:i},[],{provide:Vi,useFactory:rx,deps:[ht]},{provide:pf,multi:!0,useFactory:nx},t.map(e=>e.\u0275providers)])}function rx(i){return i.routerState.root}function ip(i,t){return{\u0275kind:i,\u0275providers:t}}function nx(){let i=ii(of);return t=>{let e=i.get(ff);if(t!==e.components[0])return;let r=i.get(ht),n=i.get(ox);i.get(q1)===1&&r.initialNavigation(),i.get(ax,null,wu.Optional)?.setUpPreloading(),i.get(tx,null,wu.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),n.closed||(n.next(),n.complete(),n.unsubscribe())}}var ox=new Ji("",{factory:()=>new Ua}),q1=new Ji("",{providedIn:"root",factory:()=>1});function x4(){return ip(2,[{provide:q1,useValue:0},{provide:zg,multi:!0,deps:[of],useFactory:t=>{let e=t.get(U2,Promise.resolve());return()=>e.then(()=>new Promise(r=>{let n=t.get(ht),o=t.get(ox);Qb(n,()=>{r(!0)}),t.get(V1).afterPreactivation=()=>(r(!0),o.closed?ci(void 0):o),n.initialNavigation()}))}}])}function y4(){return ip(3,[{provide:zg,multi:!0,useFactory:()=>{let t=ii(ht);return()=>{t.setUpLocationChangeListener()}}},{provide:q1,useValue:2}])}var ax=new Ji("");function C4(i){return ip(0,[{provide:ax,useExisting:_4},{provide:qf,useExisting:i}])}function w4(){return ip(8,[vb,{provide:jf,useExisting:vb}])}function S4(i){let t=[{provide:Yb,useValue:a4},{provide:Kb,useValue:lt({skipNextTransition:!!i?.skipInitialTransition},i)}];return ip(9,t)}var yb=new Ji("ROUTER_FORROOT_GUARD"),E4=[Cl,{provide:Yu,useClass:y0},ht,Ju,{provide:Vi,useFactory:rx,deps:[ht]},B1,[]],Wf=(()=>{class i{constructor(e){}static forRoot(e,r){return{ngModule:i,providers:[E4,[],{provide:Xu,multi:!0,useValue:e},{provide:yb,useFactory:k4,deps:[[ht,new Dg,new u2]]},{provide:tp,useValue:r||{}},r?.useHash?M4():T4(),P4(),r?.preloadingStrategy?C4(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?A4(r):[],r?.bindToComponentInputs?w4().\u0275providers:[],r?.enableViewTransitions?S4().\u0275providers:[],I4()]}}static forChild(e){return{ngModule:i,providers:[{provide:Xu,multi:!0,useValue:e}]}}static{this.\u0275fac=function(r){return new(r||i)(Et(yb,8))}}static{this.\u0275mod=ms({type:i})}static{this.\u0275inj=fs({})}}return i})();function P4(){return{provide:tx,useFactory:()=>{let i=ii(W2),t=ii(Qo),e=ii(tp),r=ii(V1),n=ii(Yu);return e.scrollOffset&&i.setOffset(e.scrollOffset),new b4(n,r,i,t,e)}}}function M4(){return{provide:Mu,useClass:q2}}function T4(){return{provide:Mu,useClass:V2}}function k4(i){return"guarded"}function A4(i){return[i.initialNavigation==="disabled"?y4().\u0275providers:[],i.initialNavigation==="enabledBlocking"?x4().\u0275providers:[]]}var Cb=new Ji("");function I4(){return[{provide:Cb,useFactory:nx},{provide:pf,multi:!0,useExisting:Cb}]}var gx=(()=>{class i{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=n=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(r){return new(r||i)(ie(bd),ie(Ws))}}static{this.\u0275dir=zr({type:i})}}return i})(),cp=(()=>{class i extends gx{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ba(i)))(n||i)}})()}static{this.\u0275dir=zr({type:i,features:[Jn]})}}return i})(),Ed=new Ji(""),O4={provide:Ed,useExisting:Jo(()=>Pd),multi:!0},Pd=(()=>{class i extends cp{writeValue(e){this.setProperty("checked",e)}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ba(i)))(n||i)}})()}static{this.\u0275dir=zr({type:i,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,n){r&1&&H("change",function(a){return n.onChange(a.target.checked)})("blur",function(){return n.onTouched()})},features:[uo([O4]),Jn]})}}return i})(),F4={provide:Ed,useExisting:Jo(()=>kt),multi:!0};function N4(){let i=m0()?m0().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var L4=new Ji(""),kt=(()=>{class i extends gx{constructor(e,r,n){super(e,r),this._compositionMode=n,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!N4())}writeValue(e){let r=e??"";this.setProperty("value",r)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(r){return new(r||i)(ie(bd),ie(Ws),ie(L4,8))}}static{this.\u0275dir=zr({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,n){r&1&&H("input",function(a){return n._handleInput(a.target.value)})("blur",function(){return n.onTouched()})("compositionstart",function(){return n._compositionStart()})("compositionend",function(a){return n._compositionEnd(a.target.value)})},features:[uo([F4]),Jn]})}}return i})();function mc(i){return i==null||(typeof i=="string"||Array.isArray(i))&&i.length===0}function vx(i){return i!=null&&typeof i.length=="number"}var gc=new Ji(""),em=new Ji(""),D4=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,T0=class{static min(t){return _x(t)}static max(t){return R4(t)}static required(t){return bx(t)}static requiredTrue(t){return B4(t)}static email(t){return U4(t)}static minLength(t){return xx(t)}static maxLength(t){return yx(t)}static pattern(t){return V4(t)}static nullValidator(t){return Gf(t)}static compose(t){return Mx(t)}static composeAsync(t){return Tx(t)}};function _x(i){return t=>{if(mc(t.value)||mc(i))return null;let e=parseFloat(t.value);return!isNaN(e)&&e<i?{min:{min:i,actual:t.value}}:null}}function R4(i){return t=>{if(mc(t.value)||mc(i))return null;let e=parseFloat(t.value);return!isNaN(e)&&e>i?{max:{max:i,actual:t.value}}:null}}function bx(i){return mc(i.value)?{required:!0}:null}function B4(i){return i.value===!0?null:{required:!0}}function U4(i){return mc(i.value)||D4.test(i.value)?null:{email:!0}}function xx(i){return t=>mc(t.value)||!vx(t.value)?null:t.value.length<i?{minlength:{requiredLength:i,actualLength:t.value.length}}:null}function yx(i){return t=>vx(t.value)&&t.value.length>i?{maxlength:{requiredLength:i,actualLength:t.value.length}}:null}function V4(i){if(!i)return Gf;let t,e;return typeof i=="string"?(e="",i.charAt(0)!=="^"&&(e+="^"),e+=i,i.charAt(i.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=i.toString(),t=i),r=>{if(mc(r.value))return null;let n=r.value;return t.test(n)?null:{pattern:{requiredPattern:e,actualValue:n}}}}function Gf(i){return null}function Cx(i){return i!=null}function wx(i){return uf(i)?Yn(i):i}function Sx(i){let t={};return i.forEach(e=>{t=e!=null?lt(lt({},t),e):t}),Object.keys(t).length===0?null:t}function Ex(i,t){return t.map(e=>e(i))}function q4(i){return!i.validate}function Px(i){return i.map(t=>q4(t)?t:e=>t.validate(e))}function Mx(i){if(!i)return null;let t=i.filter(Cx);return t.length==0?null:function(e){return Sx(Ex(e,t))}}function $1(i){return i!=null?Mx(Px(i)):null}function Tx(i){if(!i)return null;let t=i.filter(Cx);return t.length==0?null:function(e){let r=Ex(e,t).map(wx);return nf(r).pipe(nr(Sx))}}function X1(i){return i!=null?Tx(Px(i)):null}function sx(i,t){return i===null?[t]:Array.isArray(i)?[...i,t]:[i,t]}function kx(i){return i._rawValidators}function Ax(i){return i._rawAsyncValidators}function j1(i){return i?Array.isArray(i)?i:[i]:[]}function $f(i,t){return Array.isArray(i)?i.includes(t):i===t}function lx(i,t){let e=j1(t);return j1(i).forEach(n=>{$f(e,n)||e.push(n)}),e}function cx(i,t){return j1(t).filter(e=>!$f(i,e))}var Xf=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=$1(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=X1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},Pl=class extends Xf{get formDirective(){return null}get path(){return null}},Sd=class extends Xf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Zf=class{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},j4={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},zq=Ki(lt({},j4),{"[class.ng-submitted]":"isSubmitted"}),Pt=(()=>{class i extends Zf{constructor(e){super(e)}static{this.\u0275fac=function(r){return new(r||i)(ie(Sd,2))}}static{this.\u0275dir=zr({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,n){r&2&&_l("ng-untouched",n.isUntouched)("ng-touched",n.isTouched)("ng-pristine",n.isPristine)("ng-dirty",n.isDirty)("ng-valid",n.isValid)("ng-invalid",n.isInvalid)("ng-pending",n.isPending)},features:[Jn]})}}return i})(),Jt=(()=>{class i extends Zf{constructor(e){super(e)}static{this.\u0275fac=function(r){return new(r||i)(ie(Pl,10))}}static{this.\u0275dir=zr({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,n){r&2&&_l("ng-untouched",n.isUntouched)("ng-touched",n.isTouched)("ng-pristine",n.isPristine)("ng-dirty",n.isDirty)("ng-valid",n.isValid)("ng-invalid",n.isInvalid)("ng-pending",n.isPending)("ng-submitted",n.isSubmitted)},features:[Jn]})}}return i})();var rp="VALID",Hf="INVALID",P0="PENDING",np="DISABLED",hc=class{},Yf=class extends hc{constructor(t,e){super(),this.value=t,this.source=e}},ap=class extends hc{constructor(t,e){super(),this.pristine=t,this.source=e}},sp=class extends hc{constructor(t,e){super(),this.touched=t,this.source=e}},M0=class extends hc{constructor(t,e){super(),this.status=t,this.source=e}},z1=class extends hc{constructor(t){super(),this.source=t}},W1=class extends hc{constructor(t){super(),this.source=t}};function Z1(i){return(tm(i)?i.validators:i)||null}function z4(i){return Array.isArray(i)?$1(i):i||null}function Y1(i,t){return(tm(t)?t.asyncValidators:i)||null}function W4(i){return Array.isArray(i)?X1(i):i||null}function tm(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function Ix(i,t,e){let r=i.controls;if(!(t?Object.keys(r):r).length)throw new Ur(1e3,"");if(!r[e])throw new Ur(1001,"")}function Ox(i,t,e){i._forEachChild((r,n)=>{if(e[n]===void 0)throw new Ur(1002,"")})}var k0=class{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=f0(()=>this.statusReactive()),this.statusReactive=c0(void 0),this._pristine=f0(()=>this.pristineReactive()),this.pristineReactive=c0(!0),this._touched=f0(()=>this.touchedReactive()),this.touchedReactive=c0(!1),this._events=new Ua,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return yl(this.statusReactive)}set status(t){yl(()=>this.statusReactive.set(t))}get valid(){return this.status===rp}get invalid(){return this.status===Hf}get pending(){return this.status==P0}get disabled(){return this.status===np}get enabled(){return this.status!==np}get pristine(){return yl(this.pristineReactive)}set pristine(t){yl(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return yl(this.touchedReactive)}set touched(t){yl(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(lx(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(lx(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(cx(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(cx(t,this._rawAsyncValidators))}hasValidator(t){return $f(this._rawValidators,t)}hasAsyncValidator(t){return $f(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(Ki(lt({},t),{sourceControl:r})),e&&t.emitEvent!==!1&&this._events.next(new sp(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),e&&t.emitEvent!==!1&&this._events.next(new sp(!1,r))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(Ki(lt({},t),{sourceControl:r})),e&&t.emitEvent!==!1&&this._events.next(new ap(!1,r))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(n=>{n.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),e&&t.emitEvent!==!1&&this._events.next(new ap(!0,r))}markAsPending(t={}){this.status=P0;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new M0(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(Ki(lt({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=np,this.errors=null,this._forEachChild(n=>{n.disable(Ki(lt({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Yf(this.value,r)),this._events.next(new M0(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ki(lt({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=rp,this._forEachChild(r=>{r.enable(Ki(lt({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Ki(lt({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===rp||this.status===P0)&&this._runAsyncValidator(r,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Yf(this.value,e)),this._events.next(new M0(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(Ki(lt({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?np:rp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=P0,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let r=wx(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(n=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(n,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((r,n)=>r&&r._find(n),this)}getError(t,e){let r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new M0(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,r)}_initObservables(){this.valueChanges=new tn,this.statusChanges=new tn}_calculateStatus(){return this._allControlsDisabled()?np:this.errors?Hf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(P0)?P0:this._anyControlsHaveStatus(Hf)?Hf:rp}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let r=!this._anyControlsDirty(),n=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),n&&this._events.next(new ap(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new sp(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){tm(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=z4(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=W4(this._rawAsyncValidators)}},A0=class extends k0{constructor(t,e,r){super(Z1(e),Y1(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Ox(this,!0,t),Object.keys(t).forEach(r=>{Ix(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(r=>{let n=this.controls[r];n&&n.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,n)=>{r.reset(t?t[n]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>r._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,r,n)=>((r.enabled||this.disabled)&&(e[n]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((n,o)=>{r=e(r,n,o)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var H1=class extends A0{};var dp=new Ji("CallSetDisabledState",{providedIn:"root",factory:()=>im}),im="always";function Fx(i,t){return[...t.path,i]}function Kf(i,t,e=im){K1(i,t),t.valueAccessor.writeValue(i.value),(i.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(i.disabled),G4(i,t),X4(i,t),$4(i,t),H4(i,t)}function dx(i,t,e=!0){let r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),Qf(i,t),i&&(t._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function Jf(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function H4(i,t){if(t.valueAccessor.setDisabledState){let e=r=>{t.valueAccessor.setDisabledState(r)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}function K1(i,t){let e=kx(i);t.validator!==null?i.setValidators(sx(e,t.validator)):typeof e=="function"&&i.setValidators([e]);let r=Ax(i);t.asyncValidator!==null?i.setAsyncValidators(sx(r,t.asyncValidator)):typeof r=="function"&&i.setAsyncValidators([r]);let n=()=>i.updateValueAndValidity();Jf(t._rawValidators,n),Jf(t._rawAsyncValidators,n)}function Qf(i,t){let e=!1;if(i!==null){if(t.validator!==null){let n=kx(i);if(Array.isArray(n)&&n.length>0){let o=n.filter(a=>a!==t.validator);o.length!==n.length&&(e=!0,i.setValidators(o))}}if(t.asyncValidator!==null){let n=Ax(i);if(Array.isArray(n)&&n.length>0){let o=n.filter(a=>a!==t.asyncValidator);o.length!==n.length&&(e=!0,i.setAsyncValidators(o))}}}let r=()=>{};return Jf(t._rawValidators,r),Jf(t._rawAsyncValidators,r),e}function G4(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&Nx(i,t)})}function $4(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&Nx(i,t),i.updateOn!=="submit"&&i.markAsTouched()})}function Nx(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function X4(i,t){let e=(r,n)=>{t.valueAccessor.writeValue(r),n&&t.viewToModelUpdate(r)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}function Lx(i,t){i==null,K1(i,t)}function Z4(i,t){return Qf(i,t)}function Dx(i,t){if(!i.hasOwnProperty("model"))return!1;let e=i.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function Y4(i){return Object.getPrototypeOf(i.constructor)===cp}function Rx(i,t){i._syncPendingControls(),t.forEach(e=>{let r=e.control;r.updateOn==="submit"&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Bx(i,t){if(!t)return null;Array.isArray(t);let e,r,n;return t.forEach(o=>{o.constructor===kt?e=o:Y4(o)?r=o:n=o}),n||r||e||null}function K4(i,t){let e=i.indexOf(t);e>-1&&i.splice(e,1)}var J4={provide:Pl,useExisting:Jo(()=>ei)},op=Promise.resolve(),ei=(()=>{class i extends Pl{get submitted(){return yl(this.submittedReactive)}constructor(e,r,n){super(),this.callSetDisabledState=n,this._submitted=f0(()=>this.submittedReactive()),this.submittedReactive=c0(!1),this._directives=new Set,this.ngSubmit=new tn,this.form=new A0({},$1(e),X1(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){op.then(()=>{let r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),Kf(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){op.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){op.then(()=>{let r=this._findContainer(e.path),n=new A0({});Lx(n,e),r.registerControl(e.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){op.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){op.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),Rx(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static{this.\u0275fac=function(r){return new(r||i)(ie(gc,10),ie(em,10),ie(dp,8))}}static{this.\u0275dir=zr({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,n){r&1&&H("submit",function(a){return n.onSubmit(a)})("reset",function(){return n.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[uo([J4]),Jn]})}}return i})();function ux(i,t){let e=i.indexOf(t);e>-1&&i.splice(e,1)}function px(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var lp=class extends k0{constructor(t=null,e,r){super(Z1(e),Y1(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),tm(e)&&(e.nonNullable||e.initialValueIsDefault)&&(px(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){ux(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){ux(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){px(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var Q4=i=>i instanceof lp;var eE={provide:Sd,useExisting:Jo(()=>Tt)},fx=Promise.resolve(),Tt=(()=>{class i extends Sd{constructor(e,r,n,o,a,d){super(),this._changeDetectorRef=a,this.callSetDisabledState=d,this.control=new lp,this._registered=!1,this.name="",this.update=new tn,this._parent=e,this._setValidators(r),this._setAsyncValidators(n),this.valueAccessor=Bx(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Dx(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Kf(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){fx.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let r=e.isDisabled.currentValue,n=r!==0&&xd(r);fx.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Fx(e,this._parent):[e]}static{this.\u0275fac=function(r){return new(r||i)(ie(Pl,9),ie(gc,10),ie(em,10),ie(Ed,10),ie(gs,8),ie(dp,8))}}static{this.\u0275dir=zr({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[uo([eE]),Jn,za]})}}return i})(),Qt=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275dir=zr({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return i})(),tE={provide:Ed,useExisting:Jo(()=>Qi),multi:!0},Qi=(()=>{class i extends cp{writeValue(e){let r=e??"";this.setProperty("value",r)}registerOnChange(e){this.onChange=r=>{e(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ba(i)))(n||i)}})()}static{this.\u0275dir=zr({type:i,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,n){r&1&&H("input",function(a){return n.onChange(a.target.value)})("blur",function(){return n.onTouched()})},features:[uo([tE]),Jn]})}}return i})();var Ux=new Ji("");var iE={provide:Pl,useExisting:Jo(()=>J1)},J1=(()=>{class i extends Pl{get submitted(){return yl(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}constructor(e,r,n){super(),this.callSetDisabledState=n,this._submitted=f0(()=>this._submittedReactive()),this._submittedReactive=c0(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new tn,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Qf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let r=this.form.get(e.path);return Kf(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){dx(e.control||null,e,!1),K4(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this._submittedReactive.set(!0),Rx(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new z1(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new W1(this.form))}_updateDomValue(){this.directives.forEach(e=>{let r=e.control,n=this.form.get(e.path);r!==n&&(dx(r||null,e),Q4(n)&&(Kf(n,e,this.callSetDisabledState),e.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let r=this.form.get(e.path);Lx(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let r=this.form.get(e.path);r&&Z4(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){K1(this.form,this),this._oldForm&&Qf(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||i)(ie(gc,10),ie(em,10),ie(dp,8))}}static{this.\u0275dir=zr({type:i,selectors:[["","formGroup",""]],hostBindings:function(r,n){r&1&&H("submit",function(a){return n.onSubmit(a)})("reset",function(){return n.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[uo([iE]),Jn,za]})}}return i})();var rE={provide:Sd,useExisting:Jo(()=>Q1)},Q1=(()=>{class i extends Sd{set isDisabled(e){}static{this._ngModelWarningSentOnce=!1}constructor(e,r,n,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new tn,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(n),this.valueAccessor=Bx(this,o)}ngOnChanges(e){this._added||this._setUpControl(),Dx(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Fx(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||i)(ie(Pl,13),ie(gc,10),ie(em,10),ie(Ed,10),ie(Ux,8))}}static{this.\u0275dir=zr({type:i,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[uo([rE]),Jn,za]})}}return i})(),nE={provide:Ed,useExisting:Jo(()=>Ti),multi:!0};function Vx(i,t){return i==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${i}: ${t}`.slice(0,50))}function oE(i){return i.split(":")[0]}var Ti=(()=>{class i extends cp{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let r=this._getOptionId(e),n=Vx(r,e);this.setProperty("value",n)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){let r=oE(e);return this._optionMap.has(r)?this._optionMap.get(r):e}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ba(i)))(n||i)}})()}static{this.\u0275dir=zr({type:i,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,n){r&1&&H("change",function(a){return n.onChange(a.target.value)})("blur",function(){return n.onTouched()})},inputs:{compareWith:"compareWith"},features:[uo([nE]),Jn]})}}return i})(),Fi=(()=>{class i{constructor(e,r,n){this._element=e,this._renderer=r,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(Vx(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||i)(ie(Ws),ie(bd),ie(Ti,9))}}static{this.\u0275dir=zr({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return i})(),aE={provide:Ed,useExisting:Jo(()=>qx),multi:!0};function mx(i,t){return i==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${i}: ${t}`.slice(0,50))}function sE(i){return i.split(":")[0]}var qx=(()=>{class i extends cp{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let r;if(Array.isArray(e)){let n=e.map(o=>this._getOptionId(o));r=(o,a)=>{o._setSelected(n.indexOf(a.toString())>-1)}}else r=(n,o)=>{n._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{let n=[],o=r.selectedOptions;if(o!==void 0){let a=o;for(let d=0;d<a.length;d++){let u=a[d],m=this._getOptionValue(u.value);n.push(m)}}else{let a=r.options;for(let d=0;d<a.length;d++){let u=a[d];if(u.selected){let m=this._getOptionValue(u.value);n.push(m)}}}this.value=n,e(n)}}_registerOption(e){let r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){let r=sE(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ba(i)))(n||i)}})()}static{this.\u0275dir=zr({type:i,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,n){r&1&&H("change",function(a){return n.onChange(a.target)})("blur",function(){return n.onTouched()})},inputs:{compareWith:"compareWith"},features:[uo([aE]),Jn]})}}return i})(),Ni=(()=>{class i{constructor(e,r,n){this._element=e,this._renderer=r,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(mx(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(mx(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||i)(ie(Ws),ie(bd),ie(qx,9))}}static{this.\u0275dir=zr({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return i})();function jx(i){return typeof i=="number"?i:parseInt(i,10)}function lE(i){return typeof i=="number"?i:parseFloat(i)}var rm=(()=>{class i{constructor(){this._validator=Gf}ngOnChanges(e){if(this.inputName in e){let r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Gf,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275dir=zr({type:i,features:[za]})}}return i})();var cE={provide:gc,useExisting:Jo(()=>yr),multi:!0},yr=(()=>{class i extends rm{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>lE(e),this.createValidator=e=>_x(e)}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ba(i)))(n||i)}})()}static{this.\u0275dir=zr({type:i,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,n){r&2&&hs("min",n._enabled?n.min:null)},inputs:{min:"min"},features:[uo([cE]),Jn]})}}return i})(),dE={provide:gc,useExisting:Jo(()=>ri),multi:!0};var ri=(()=>{class i extends rm{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=xd,this.createValidator=e=>bx}enabled(e){return e}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ba(i)))(n||i)}})()}static{this.\u0275dir=zr({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,n){r&2&&hs("required",n._enabled?"":null)},inputs:{required:"required"},features:[uo([dE]),Jn]})}}return i})();var uE={provide:gc,useExisting:Jo(()=>xi),multi:!0},xi=(()=>{class i extends rm{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=e=>jx(e),this.createValidator=e=>xx(e)}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ba(i)))(n||i)}})()}static{this.\u0275dir=zr({type:i,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,n){r&2&&hs("minlength",n._enabled?n.minlength:null)},inputs:{minlength:"minlength"},features:[uo([uE]),Jn]})}}return i})(),pE={provide:gc,useExisting:Jo(()=>ev),multi:!0},ev=(()=>{class i extends rm{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>jx(e),this.createValidator=e=>yx(e)}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ba(i)))(n||i)}})()}static{this.\u0275dir=zr({type:i,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,n){r&2&&hs("maxlength",n._enabled?n.maxlength:null)},inputs:{maxlength:"maxlength"},features:[uo([pE]),Jn]})}}return i})();var zx=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275mod=ms({type:i})}static{this.\u0275inj=fs({})}}return i})(),G1=class extends k0{constructor(t,e,r){super(Z1(e),Y1(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){let n=this._adjustIndex(t);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),e&&(this.controls.splice(n,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){Ox(this,!1,t),t.forEach((r,n)=>{Ix(this,!1,n),this.at(n).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((r,n)=>{this.at(n)&&this.at(n).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,n)=>{r.reset(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,r)=>r._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function hx(i){return!!i&&(i.asyncValidators!==void 0||i.validators!==void 0||i.updateOn!==void 0)}var Wx=(()=>{class i{constructor(){this.useNonNullable=!1}get nonNullable(){let e=new i;return e.useNonNullable=!0,e}group(e,r=null){let n=this._reduceControls(e),o={};return hx(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new A0(n,o)}record(e,r=null){let n=this._reduceControls(e);return new H1(n,r)}control(e,r,n){let o={};return this.useNonNullable?(hx(r)?o=r:(o.validators=r,o.asyncValidators=n),new lp(e,Ki(lt({},o),{nonNullable:!0}))):new lp(e,r,n)}array(e,r,n){let o=e.map(a=>this._createControl(a));return new G1(o,r,n)}_reduceControls(e){let r={};return Object.keys(e).forEach(n=>{r[n]=this._createControl(e[n])}),r}_createControl(e){if(e instanceof lp)return e;if(e instanceof k0)return e;if(Array.isArray(e)){let r=e[0],n=e.length>1?e[1]:null,o=e.length>2?e[2]:null;return this.control(r,n,o)}else return this.control(e)}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Mt=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:dp,useValue:e.callSetDisabledState??im}]}}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275mod=ms({type:i})}static{this.\u0275inj=fs({imports:[zx]})}}return i})(),Hx=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:Ux,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:dp,useValue:e.callSetDisabledState??im}]}}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275mod=ms({type:i})}static{this.\u0275inj=fs({imports:[zx]})}}return i})();var pi={production:!0,apiUrl:"https://proyectosi2.duckdns.org:8443"};var po=class i{constructor(t){this.http=t}apiUrl=pi.apiUrl;obtenerPersonas(){return this.http.get(`${this.apiUrl}/personas`)}obtenerPersonaPorId(t){return this.http.get(`${this.apiUrl}/personas/${t}`)}crearPersona(t){let e=lt({},t);return delete e.id,this.http.post(`${this.apiUrl}/personas`,e)}actualizarPersona(t,e){return this.http.put(`${this.apiUrl}/personas/${t}`,e)}eliminarPersona(t){return this.http.delete(`${this.apiUrl}/personas/${t}`)}static \u0275fac=function(e){return new(e||i)(Et(ui))};static \u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"})};var zi=class i{filtrar(t,e){return!t||!e?t:t.filter(r=>Object.values(r).some(n=>String(n).toLowerCase().includes(e.toLowerCase())))}static \u0275fac=function(e){return new(e||i)};static \u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"})};var Yi=class i{constructor(){}paginate(t,e,r){let n=t.length,o=Math.ceil(n/r),a=(e-1)*r,d=a+r;return{totalPages:o,paginatedData:t.slice(a,d)}}changePage(t,e,r){return e==="previous"&&t>1?t--:e==="next"&&t<r&&t++,t}static \u0275fac=function(e){return new(e||i)};static \u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"})};function fE(i,t){if(i&1){let e=Je();c(0,"div",7)(1,"div",8)(2,"h3"),p(3,"\xBFEst\xE1s seguro de que deseas eliminar esta persona?"),l(),c(4,"button",9),H("click",function(){N(e);let n=Q();return D(n.eliminarPersonaConfirmada())}),p(5,"Confirmar"),l(),c(6,"button",9),H("click",function(){N(e);let n=Q();return D(n.cerrarModal())}),p(7,"Cancelar"),l()()()}}function mE(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),p(2),l(),c(3,"td"),p(4),l(),c(5,"td")(6,"button",9),H("click",function(){let n,o=N(e).$implicit,a=Q();return D(a.irAEditarPersona((n=o.id)!==null&&n!==void 0?n:0))}),p(7,"Editar"),l(),c(8,"button",9),H("click",function(){let n,o=N(e).$implicit,a=Q();return D(a.confirmarEliminarPersona((n=o.id)!==null&&n!==void 0?n:0))}),p(9,"Eliminar"),l()()()}if(i&2){let e=t.$implicit;g(2),Te(e.nombre),g(2),Te(e.edad)}}var nm=class i{constructor(t,e,r,n){this.personaService=t;this.router=e;this.filterService=r;this.paginationService=n}personas=[];personasFiltradas=[];personasPaginadas=[];textoBusqueda="";paginaActual=1;elementosPorPagina=10;totalPaginas=0;mostrarModal=!1;personaAEliminarId=null;ngOnInit(){this.obtenerPersonas()}obtenerPersonas(){this.personaService.obtenerPersonas().subscribe(t=>{this.personas=t,this.personasFiltradas=t,this.calcularPaginacion()})}eliminarPersona(t){this.personaService.eliminarPersona(t).subscribe(()=>{this.obtenerPersonas()})}irACrearPersona(){this.router.navigate(["/persona-create"])}irAEditarPersona(t){this.router.navigate([`/persona-update/${t}`])}confirmarEliminarPersona(t){this.personaAEliminarId=t,this.mostrarModal=!0}eliminarPersonaConfirmada(){this.personaAEliminarId!==null&&(this.eliminarPersona(this.personaAEliminarId),this.cerrarModal())}cerrarModal(){this.mostrarModal=!1,this.personaAEliminarId=null}filtrarPersonas(){this.personasFiltradas=this.filterService.filtrar(this.personas,this.textoBusqueda),this.paginaActual=1,this.calcularPaginacion()}calcularPaginacion(){let t=this.paginationService.paginate(this.personasFiltradas,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.personasPaginadas=t.paginatedData}cambiarPagina(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarPersonasPaginadas()}actualizarPersonasPaginadas(){let t=this.paginationService.paginate(this.personasFiltradas,this.paginaActual,this.elementosPorPagina);this.personasPaginadas=t.paginatedData}static \u0275fac=function(e){return new(e||i)(ie(po),ie(ht),ie(zi),ie(Yi))};static \u0275cmp=ot({type:i,selectors:[["app-persona"]],standalone:!0,features:[st],decls:25,vars:6,consts:[["class","modal",4,"ngIf"],["type","text","placeholder","Buscar...",3,"ngModelChange","input","ngModel"],[2,"float","right","margin-bottom","10px",3,"click"],["border","1","cellspacing","0","cellpadding","5",2,"width","100%","margin-top","20px"],[4,"ngFor","ngForOf"],[2,"margin-top","20px"],[3,"click","disabled"],[1,"modal"],[1,"modal-content"],[3,"click"]],template:function(e,r){e&1&&(B(0,fE,8,0,"div",0),c(1,"div")(2,"h2"),p(3,"Personas"),l(),c(4,"input",1),pe("ngModelChange",function(o){return ue(r.textoBusqueda,o)||(r.textoBusqueda=o),o}),H("input",function(){return r.filtrarPersonas()}),l(),c(5,"button",2),H("click",function(){return r.irACrearPersona()}),p(6,"Registrar"),l(),c(7,"table",3)(8,"thead")(9,"tr")(10,"th"),p(11,"Nombre"),l(),c(12,"th"),p(13,"Edad"),l(),c(14,"th"),p(15,"Acciones"),l()()(),c(16,"tbody"),B(17,mE,10,2,"tr",4),l()(),c(18,"div",5)(19,"button",6),H("click",function(){return r.cambiarPagina("previous")}),p(20,"Anterior"),l(),c(21,"span"),p(22),l(),c(23,"button",6),H("click",function(){return r.cambiarPagina("next")}),p(24,"Siguiente"),l()()()),e&2&&(M("ngIf",r.mostrarModal),g(4),de("ngModel",r.textoBusqueda),g(13),M("ngForOf",r.personasPaginadas),g(2),M("disabled",r.paginaActual===1),g(3),Ke(" P\xE1gina ",r.paginaActual," "),g(),M("disabled",r.paginaActual===r.totalPaginas))},dependencies:[ct,Bt,yt,ji,Mt,kt,Pt,Tt],styles:["table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:10px;text-align:left;border:1px solid #ddd}button[_ngcontent-%COMP%]{margin-right:5px;padding:5px 10px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}button[_ngcontent-%COMP%]:focus{outline:none}button[style][_ngcontent-%COMP%]{margin-top:20px}.modal[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:25px;border-radius:8px;width:400px;text-align:center;box-shadow:0 4px 10px #0003}"]})};function hE(i,t){i&1&&(c(0,"small"),p(1,"El nombre es obligatorio."),l())}function gE(i,t){i&1&&(c(0,"small"),p(1,"El nombre debe tener al menos 3 caracteres."),l())}function vE(i,t){if(i&1&&(c(0,"div",14),B(1,hE,2,0,"small",15)(2,gE,2,0,"small",15),l()),i&2){Q();let e=ae(9);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function _E(i,t){i&1&&(c(0,"small"),p(1,"La edad es obligatoria."),l())}function bE(i,t){i&1&&(c(0,"small"),p(1,"La edad debe ser mayor que 0."),l())}function xE(i,t){if(i&1&&(c(0,"div",14),B(1,_E,2,0,"small",15)(2,bE,2,0,"small",15),l()),i&2){Q();let e=ae(15);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.min)}}var om=class i{constructor(t,e){this.personaService=t;this.router=e}persona={id:0,nombre:"",edad:0};crearPersona(){this.personaService.crearPersona(this.persona).subscribe(()=>{this.router.navigate(["/persona"])})}cancelar(){this.router.navigate(["/persona"])}static \u0275fac=function(e){return new(e||i)(ie(po),ie(ht))};static \u0275cmp=ot({type:i,selectors:[["app-persona-create"]],standalone:!0,features:[st],decls:22,vars:5,consts:[["personaForm","ngForm"],["nombre","ngModel"],["edad","ngModel"],[1,"form-container"],[3,"ngSubmit"],[1,"form-group"],["for","nombre"],["id","nombre","name","nombre","placeholder","Nombre","required","","minlength","3",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","edad"],["id","edad","name","edad","placeholder","Edad","type","number","required","","min","1",1,"form-control",3,"ngModelChange","ngModel"],[1,"button-container"],["type","submit",1,"submit-btn",3,"disabled"],["type","button",1,"cancel-btn",3,"click"],[1,"error-message"],[4,"ngIf"]],template:function(e,r){if(e&1){let n=Je();c(0,"div",3)(1,"h2"),p(2,"Crear Persona"),l(),c(3,"form",4,0),H("ngSubmit",function(){return N(n),D(r.crearPersona())}),c(5,"div",5)(6,"label",6),p(7,"Nombre:"),l(),c(8,"input",7,1),pe("ngModelChange",function(a){return N(n),ue(r.persona.nombre,a)||(r.persona.nombre=a),D(a)}),l(),B(10,vE,3,2,"div",8),l(),c(11,"div",5)(12,"label",9),p(13,"Edad:"),l(),c(14,"input",10,2),pe("ngModelChange",function(a){return N(n),ue(r.persona.edad,a)||(r.persona.edad=a),D(a)}),l(),B(16,xE,3,2,"div",8),l(),c(17,"div",11)(18,"button",12),p(19,"Crear"),l(),c(20,"button",13),H("click",function(){return N(n),D(r.cancelar())}),p(21,"Cancelar"),l()()()()}if(e&2){let n=ae(4),o=ae(9),a=ae(15);g(8),de("ngModel",r.persona.nombre),g(2),M("ngIf",o.invalid&&(o.dirty||o.touched)),g(4),de("ngModel",r.persona.edad),g(2),M("ngIf",a.invalid&&(a.dirty||a.touched)),g(2),M("disabled",n.invalid)}},dependencies:[Mt,Qt,kt,Qi,Pt,Jt,ri,xi,yr,Tt,ei,ct,yt],styles:[".form-container[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:14px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.error-message[_ngcontent-%COMP%]{color:red;font-size:16px;margin-top:5px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{width:48%;padding:10px;font-size:16px;border-radius:4px;cursor:pointer}.submit-btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;border:none}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6;cursor:not-allowed}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#218838}.cancel-btn[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})};function yE(i,t){i&1&&(c(0,"small"),p(1,"El nombre es obligatorio."),l())}function CE(i,t){i&1&&(c(0,"small"),p(1,"El nombre debe tener al menos 3 caracteres."),l())}function wE(i,t){if(i&1&&(c(0,"div",14),B(1,yE,2,0,"small",15)(2,CE,2,0,"small",15),l()),i&2){Q();let e=ae(9);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function SE(i,t){i&1&&(c(0,"small"),p(1,"La edad es obligatoria."),l())}function EE(i,t){i&1&&(c(0,"small"),p(1,"La edad debe ser mayor que 0."),l())}function PE(i,t){if(i&1&&(c(0,"div",14),B(1,SE,2,0,"small",15)(2,EE,2,0,"small",15),l()),i&2){Q();let e=ae(15);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.min)}}var am=class i{constructor(t,e,r){this.personaService=t;this.route=e;this.router=r}persona={id:0,nombre:"",edad:0};ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("id"));t&&this.personaService.obtenerPersonaPorId(t).subscribe(e=>{this.persona=e})}actualizarPersona(){this.persona.id&&this.personaService.actualizarPersona(this.persona.id,this.persona).subscribe(()=>{this.router.navigate(["/persona"])})}cancelar(){this.router.navigate(["/persona"])}static \u0275fac=function(e){return new(e||i)(ie(po),ie(Vi),ie(ht))};static \u0275cmp=ot({type:i,selectors:[["app-persona-update"]],standalone:!0,features:[st],decls:22,vars:5,consts:[["personaForm","ngForm"],["nombre","ngModel"],["edad","ngModel"],[1,"form-container"],[3,"ngSubmit"],[1,"form-group"],["for","nombre"],["id","nombre","name","nombre","placeholder","Nombre","required","","minlength","3",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","edad"],["id","edad","name","edad","placeholder","Edad","type","number","required","","min","1",1,"form-control",3,"ngModelChange","ngModel"],[1,"button-container"],["type","submit",1,"submit-btn",3,"disabled"],["type","button",1,"cancel-btn",3,"click"],[1,"error-message"],[4,"ngIf"]],template:function(e,r){if(e&1){let n=Je();c(0,"div",3)(1,"h2"),p(2,"Actualizar Persona"),l(),c(3,"form",4,0),H("ngSubmit",function(){return N(n),D(r.actualizarPersona())}),c(5,"div",5)(6,"label",6),p(7,"Nombre:"),l(),c(8,"input",7,1),pe("ngModelChange",function(a){return N(n),ue(r.persona.nombre,a)||(r.persona.nombre=a),D(a)}),l(),B(10,wE,3,2,"div",8),l(),c(11,"div",5)(12,"label",9),p(13,"Edad:"),l(),c(14,"input",10,2),pe("ngModelChange",function(a){return N(n),ue(r.persona.edad,a)||(r.persona.edad=a),D(a)}),l(),B(16,PE,3,2,"div",8),l(),c(17,"div",11)(18,"button",12),p(19,"Actualizar"),l(),c(20,"button",13),H("click",function(){return N(n),D(r.cancelar())}),p(21,"Cancelar"),l()()()()}if(e&2){let n=ae(4),o=ae(9),a=ae(15);g(8),de("ngModel",r.persona.nombre),g(2),M("ngIf",o.invalid&&(o.dirty||o.touched)),g(4),de("ngModel",r.persona.edad),g(2),M("ngIf",a.invalid&&(a.dirty||a.touched)),g(2),M("disabled",n.invalid)}},dependencies:[Mt,Qt,kt,Qi,Pt,Jt,ri,xi,yr,Tt,ei,ct,yt],styles:[".form-container[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:14px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.error-message[_ngcontent-%COMP%]{color:red;font-size:16px;margin-top:5px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{width:48%;padding:10px;font-size:16px;border-radius:4px;cursor:pointer}.submit-btn[_ngcontent-%COMP%]{background-color:#ffc107;color:#fff;border:none}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6;cursor:not-allowed}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#e0a800}.cancel-btn[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})};var vc=class i{constructor(t){this.http=t}apiUrl=pi.apiUrl;obtenerAutos(){return this.http.get(`${this.apiUrl}/autos`)}obtenerAutoPorId(t){return this.http.get(`${this.apiUrl}/autos/${t}`)}crearAuto(t){let e=lt({},t);return delete e.id,this.http.post(`${this.apiUrl}/autos`,e)}actualizarAuto(t,e){return this.http.put(`${this.apiUrl}/autos/${t}`,e)}eliminarAuto(t){return this.http.delete(`${this.apiUrl}/autos/${t}`)}static \u0275fac=function(e){return new(e||i)(Et(ui))};static \u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"})};function ME(i,t){if(i&1){let e=Je();c(0,"div",7)(1,"div",8)(2,"h3"),p(3,"\xBFEst\xE1s seguro de que deseas eliminar este auto?"),l(),c(4,"button",9),H("click",function(){N(e);let n=Q();return D(n.eliminarAutoConfirmado())}),p(5,"Confirmar"),l(),c(6,"button",9),H("click",function(){N(e);let n=Q();return D(n.cerrarModal())}),p(7,"Cancelar"),l()()()}}function TE(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),p(2),l(),c(3,"td"),p(4),l(),c(5,"td"),p(6),l(),c(7,"td")(8,"button",9),H("click",function(){let n,o=N(e).$implicit,a=Q();return D(a.irAEditarAuto((n=o.id)!==null&&n!==void 0?n:0))}),p(9,"Editar"),l(),c(10,"button",9),H("click",function(){let n,o=N(e).$implicit,a=Q();return D(a.confirmarEliminarAuto((n=o.id)!==null&&n!==void 0?n:0))}),p(11,"Eliminar"),l()()()}if(i&2){let e=t.$implicit;g(2),Te(e.marca),g(2),Te(e.modelo),g(2),Te(e.persona.nombre)}}var sm=class i{constructor(t,e,r,n){this.autoService=t;this.router=e;this.filterService=r;this.paginationService=n}autos=[];autosFiltrados=[];autosPaginados=[];textoBusqueda="";paginaActual=1;elementosPorPagina=5;totalPaginas=0;mostrarModal=!1;autoAEliminarId=null;ngOnInit(){this.obtenerAutos()}obtenerAutos(){this.autoService.obtenerAutos().subscribe(t=>{this.autos=t,this.autosFiltrados=t,this.calcularPaginacion()})}eliminarAuto(t){this.autoService.eliminarAuto(t).subscribe(()=>{this.obtenerAutos()})}irACrearAuto(){this.router.navigate(["/auto-create"])}irAEditarAuto(t){this.router.navigate([`/auto-update/${t}`])}confirmarEliminarAuto(t){this.autoAEliminarId=t,this.mostrarModal=!0}eliminarAutoConfirmado(){this.autoAEliminarId!==null&&(this.eliminarAuto(this.autoAEliminarId),this.cerrarModal())}cerrarModal(){this.mostrarModal=!1,this.autoAEliminarId=null}filtrarAutos(){this.autosFiltrados=this.filterService.filtrar(this.autos,this.textoBusqueda),this.paginaActual=1,this.calcularPaginacion()}calcularPaginacion(){let t=this.paginationService.paginate(this.autosFiltrados,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.autosPaginados=t.paginatedData}cambiarPagina(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarAutosPaginados()}actualizarAutosPaginados(){let t=this.paginationService.paginate(this.autosFiltrados,this.paginaActual,this.elementosPorPagina);this.autosPaginados=t.paginatedData}static \u0275fac=function(e){return new(e||i)(ie(vc),ie(ht),ie(zi),ie(Yi))};static \u0275cmp=ot({type:i,selectors:[["app-auto"]],standalone:!0,features:[st],decls:27,vars:6,consts:[["class","modal",4,"ngIf"],["type","text","placeholder","Buscar...",3,"ngModelChange","input","ngModel"],[2,"float","right","margin-bottom","10px",3,"click"],["border","1","cellspacing","0","cellpadding","5",2,"width","100%","margin-top","20px"],[4,"ngFor","ngForOf"],[2,"margin-top","20px"],[3,"click","disabled"],[1,"modal"],[1,"modal-content"],[3,"click"]],template:function(e,r){e&1&&(B(0,ME,8,0,"div",0),c(1,"div")(2,"h2"),p(3,"Autos"),l(),c(4,"input",1),pe("ngModelChange",function(o){return ue(r.textoBusqueda,o)||(r.textoBusqueda=o),o}),H("input",function(){return r.filtrarAutos()}),l(),c(5,"button",2),H("click",function(){return r.irACrearAuto()}),p(6,"Registrar"),l(),c(7,"table",3)(8,"thead")(9,"tr")(10,"th"),p(11,"Marca"),l(),c(12,"th"),p(13,"Modelo"),l(),c(14,"th"),p(15,"Persona"),l(),c(16,"th"),p(17,"Acciones"),l()()(),c(18,"tbody"),B(19,TE,12,3,"tr",4),l()(),c(20,"div",5)(21,"button",6),H("click",function(){return r.cambiarPagina("previous")}),p(22,"Anterior"),l(),c(23,"span"),p(24),l(),c(25,"button",6),H("click",function(){return r.cambiarPagina("next")}),p(26,"Siguiente"),l()()()),e&2&&(M("ngIf",r.mostrarModal),g(4),de("ngModel",r.textoBusqueda),g(15),M("ngForOf",r.autosPaginados),g(2),M("disabled",r.paginaActual===1),g(3),Ke(" P\xE1gina ",r.paginaActual," "),g(),M("disabled",r.paginaActual===r.totalPaginas))},dependencies:[ct,Bt,yt,ji,Mt,kt,Pt,Tt],styles:["table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:10px;text-align:left;border:1px solid #ddd}button[_ngcontent-%COMP%]{margin-right:5px;padding:5px 10px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}button[_ngcontent-%COMP%]:focus{outline:none}button[style][_ngcontent-%COMP%]{margin-top:20px}.modal[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:25px;border-radius:8px;width:400px;text-align:center;box-shadow:0 4px 10px #0003}"]})};function kE(i,t){i&1&&(c(0,"small"),p(1,"La marca es obligatoria."),l())}function AE(i,t){i&1&&(c(0,"small"),p(1,"Debe tener al menos 2 caracteres."),l())}function IE(i,t){if(i&1&&(c(0,"div",17),B(1,kE,2,0,"small",18)(2,AE,2,0,"small",18),l()),i&2){Q();let e=ae(9);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function OE(i,t){i&1&&(c(0,"small"),p(1,"El modelo es obligatorio."),l())}function FE(i,t){i&1&&(c(0,"small"),p(1,"Debe tener al menos 2 caracteres."),l())}function NE(i,t){if(i&1&&(c(0,"div",17),B(1,OE,2,0,"small",18)(2,FE,2,0,"small",18),l()),i&2){Q();let e=ae(15);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function LE(i,t){if(i&1&&(c(0,"option",19),p(1),l()),i&2){let e=t.$implicit;M("value",e.id),g(),Ke(" ",e.nombre," ")}}function DE(i,t){i&1&&(c(0,"div",17)(1,"small"),p(2,"Debe seleccionar un propietario."),l()())}var lm=class i{constructor(t,e,r){this.autoService=t;this.personaService=e;this.router=r}auto={marca:"",modelo:"",persona:{id:0,nombre:""}};personas=[];ngOnInit(){this.cargarPersonas()}cargarPersonas(){this.personaService.obtenerPersonas().subscribe(t=>{this.personas=t})}crearAuto(){this.autoService.crearAuto(this.auto).subscribe(()=>{this.router.navigate(["/auto"])})}cancelar(){this.router.navigate(["/auto"])}static \u0275fac=function(e){return new(e||i)(ie(vc),ie(po),ie(ht))};static \u0275cmp=ot({type:i,selectors:[["app-auto-create"]],standalone:!0,features:[st],decls:28,vars:8,consts:[["autoForm","ngForm"],["marca","ngModel"],["modelo","ngModel"],[1,"form-container"],[3,"ngSubmit"],[1,"form-group"],["for","marca"],["id","marca","name","marca","placeholder","Marca","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","modelo"],["id","modelo","name","modelo","placeholder","Modelo","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["for","persona"],["id","persona","name","persona","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"button-container"],["type","submit",1,"submit-btn",3,"disabled"],["type","button",1,"cancel-btn",3,"click"],[1,"error-message"],[4,"ngIf"],[3,"value"]],template:function(e,r){if(e&1){let n=Je();c(0,"div",3)(1,"h2"),p(2,"Crear Auto"),l(),c(3,"form",4,0),H("ngSubmit",function(){return N(n),D(r.crearAuto())}),c(5,"div",5)(6,"label",6),p(7,"Marca:"),l(),c(8,"input",7,1),pe("ngModelChange",function(a){return N(n),ue(r.auto.marca,a)||(r.auto.marca=a),D(a)}),l(),B(10,IE,3,2,"div",8),l(),c(11,"div",5)(12,"label",9),p(13,"Modelo:"),l(),c(14,"input",10,2),pe("ngModelChange",function(a){return N(n),ue(r.auto.modelo,a)||(r.auto.modelo=a),D(a)}),l(),B(16,NE,3,2,"div",8),l(),c(17,"div",5)(18,"label",11),p(19,"Propietario:"),l(),c(20,"select",12),pe("ngModelChange",function(a){return N(n),ue(r.auto.persona.id,a)||(r.auto.persona.id=a),D(a)}),B(21,LE,2,2,"option",13),l(),B(22,DE,3,0,"div",8),l(),c(23,"div",14)(24,"button",15),p(25,"Crear"),l(),c(26,"button",16),H("click",function(){return N(n),D(r.cancelar())}),p(27,"Cancelar"),l()()()()}if(e&2){let n=ae(4),o=ae(9),a=ae(15);g(8),de("ngModel",r.auto.marca),g(2),M("ngIf",o.invalid&&(o.dirty||o.touched)),g(4),de("ngModel",r.auto.modelo),g(2),M("ngIf",a.invalid&&(a.dirty||a.touched)),g(4),de("ngModel",r.auto.persona.id),g(),M("ngForOf",r.personas),g(),M("ngIf",r.auto.persona.id===0&&n.submitted),g(2),M("disabled",n.invalid)}},dependencies:[Mt,Qt,Fi,Ni,kt,Ti,Pt,Jt,ri,xi,Tt,ei,ct,Bt,yt],styles:[".form-container[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:14px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.error-message[_ngcontent-%COMP%]{color:red;font-size:14px;margin-top:5px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{width:48%;padding:10px;font-size:16px;border-radius:4px;cursor:pointer}.submit-btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;border:none}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6;cursor:not-allowed}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#218838}.cancel-btn[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})};function RE(i,t){i&1&&(c(0,"small"),p(1,"La marca es obligatoria."),l())}function BE(i,t){i&1&&(c(0,"small"),p(1,"Debe tener al menos 2 caracteres."),l())}function UE(i,t){if(i&1&&(c(0,"div",17),B(1,RE,2,0,"small",18)(2,BE,2,0,"small",18),l()),i&2){Q();let e=ae(9);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function VE(i,t){i&1&&(c(0,"small"),p(1,"El modelo es obligatorio."),l())}function qE(i,t){i&1&&(c(0,"small"),p(1,"Debe tener al menos 2 caracteres."),l())}function jE(i,t){if(i&1&&(c(0,"div",17),B(1,VE,2,0,"small",18)(2,qE,2,0,"small",18),l()),i&2){Q();let e=ae(15);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function zE(i,t){if(i&1&&(c(0,"option",19),p(1),l()),i&2){let e=t.$implicit;M("value",e.id),g(),Ke(" ",e.nombre," ")}}var cm=class i{constructor(t,e,r,n){this.autoService=t;this.personaService=e;this.route=r;this.router=n}auto={marca:"",modelo:"",persona:{id:0,nombre:""}};personas=[];ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("id"));t&&this.autoService.obtenerAutoPorId(t).subscribe(e=>{this.auto=e}),this.personaService.obtenerPersonas().subscribe(e=>{this.personas=e})}actualizarAuto(){this.auto.id&&this.autoService.actualizarAuto(this.auto.id,this.auto).subscribe(()=>{this.router.navigate(["/auto"])})}cancelar(){this.router.navigate(["/auto"])}static \u0275fac=function(e){return new(e||i)(ie(vc),ie(po),ie(Vi),ie(ht))};static \u0275cmp=ot({type:i,selectors:[["app-auto-update"]],standalone:!0,features:[st],decls:27,vars:7,consts:[["autoForm","ngForm"],["marca","ngModel"],["modelo","ngModel"],[1,"form-container"],[3,"ngSubmit"],[1,"form-group"],["for","marca"],["id","marca","name","marca","placeholder","Marca","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","modelo"],["id","modelo","name","modelo","placeholder","Modelo","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["for","persona"],["id","persona","name","persona","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"button-container"],["type","submit",1,"submit-btn",3,"disabled"],["type","button",1,"cancel-btn",3,"click"],[1,"error-message"],[4,"ngIf"],[3,"value"]],template:function(e,r){if(e&1){let n=Je();c(0,"div",3)(1,"h2"),p(2,"Actualizar Auto"),l(),c(3,"form",4,0),H("ngSubmit",function(){return N(n),D(r.actualizarAuto())}),c(5,"div",5)(6,"label",6),p(7,"Marca:"),l(),c(8,"input",7,1),pe("ngModelChange",function(a){return N(n),ue(r.auto.marca,a)||(r.auto.marca=a),D(a)}),l(),B(10,UE,3,2,"div",8),l(),c(11,"div",5)(12,"label",9),p(13,"Modelo:"),l(),c(14,"input",10,2),pe("ngModelChange",function(a){return N(n),ue(r.auto.modelo,a)||(r.auto.modelo=a),D(a)}),l(),B(16,jE,3,2,"div",8),l(),c(17,"div",5)(18,"label",11),p(19,"Persona:"),l(),c(20,"select",12),pe("ngModelChange",function(a){return N(n),ue(r.auto.persona.id,a)||(r.auto.persona.id=a),D(a)}),B(21,zE,2,2,"option",13),l()(),c(22,"div",14)(23,"button",15),p(24,"Actualizar"),l(),c(25,"button",16),H("click",function(){return N(n),D(r.cancelar())}),p(26,"Cancelar"),l()()()()}if(e&2){let n=ae(4),o=ae(9),a=ae(15);g(8),de("ngModel",r.auto.marca),g(2),M("ngIf",o.invalid&&(o.dirty||o.touched)),g(4),de("ngModel",r.auto.modelo),g(2),M("ngIf",a.invalid&&(a.dirty||a.touched)),g(4),de("ngModel",r.auto.persona.id),g(),M("ngForOf",r.personas),g(2),M("disabled",n.invalid)}},dependencies:[Mt,Qt,Fi,Ni,kt,Ti,Pt,Jt,ri,xi,Tt,ei,ct,Bt,yt],styles:[".form-container[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:14px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.error-message[_ngcontent-%COMP%]{color:red;font-size:16px;margin-top:5px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{width:48%;padding:10px;font-size:16px;border-radius:4px;cursor:pointer}.submit-btn[_ngcontent-%COMP%]{background-color:#ffc107;color:#fff;border:none}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6;cursor:not-allowed}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#e0a800}.cancel-btn[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})};var _c=class i{constructor(t){this.http=t}apiUrl=pi.apiUrl;obtenerPerros(){return this.http.get(`${this.apiUrl}/perros`)}obtenerPerroPorId(t){return this.http.get(`${this.apiUrl}/perros/${t}`)}crearPerro(t){let e=lt({},t);return delete e.id,this.http.post(`${this.apiUrl}/perros`,e)}actualizarPerro(t,e){return this.http.put(`${this.apiUrl}/perros/${t}`,e)}eliminarPerro(t){return this.http.delete(`${this.apiUrl}/perros/${t}`)}static \u0275fac=function(e){return new(e||i)(Et(ui))};static \u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"})};var bc=class i{constructor(t){this.http=t}apiUrl=pi.apiUrl;obtenerPersonaPerros(){return this.http.get(`${this.apiUrl}/persona-perro`)}obtenerPersonaPerroPorId(t){return this.http.get(`${this.apiUrl}/persona-perro/${t}`)}crearPersonaPerro(t){return this.http.post(`${this.apiUrl}/persona-perro`,t)}actualizarPersonaPerro(t,e){return this.http.put(`${this.apiUrl}/persona-perro/${t}`,e)}eliminarPersonaPerro(t){return this.http.delete(`${this.apiUrl}/persona-perro/${t}`)}static \u0275fac=function(e){return new(e||i)(Et(ui))};static \u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"})};function WE(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),p(2),l(),c(3,"td"),p(4),l(),c(5,"td")(6,"button",8),H("click",function(){let n,o=N(e).$implicit,a=Q();return D(a.verPersonasPorPerro((n=o.id)!==null&&n!==void 0?n:0))}),p(7,"Ver Personas"),l()(),c(8,"td")(9,"button",8),H("click",function(){let n,o=N(e).$implicit,a=Q();return D(a.irAEditarPerro((n=o.id)!==null&&n!==void 0?n:0))}),p(10,"Editar"),l(),c(11,"button",8),H("click",function(){let n,o=N(e).$implicit,a=Q();return D(a.confirmarEliminarPerro((n=o.id)!==null&&n!==void 0?n:0))}),p(12,"Eliminar"),l()()()}if(i&2){let e=t.$implicit;g(2),Te(e.nombre),g(2),Te(e.raza)}}function HE(i,t){if(i&1){let e=Je();c(0,"div",9)(1,"div",10)(2,"h3"),p(3,"\xBFEst\xE1s seguro de que deseas eliminar este perro?"),l(),c(4,"button",8),H("click",function(){N(e);let n=Q();return D(n.eliminarPerroConfirmado())}),p(5,"Confirmar"),l(),c(6,"button",8),H("click",function(){N(e);let n=Q();return D(n.cerrarModalEliminar())}),p(7,"Cancelar"),l()()()}}function GE(i,t){if(i&1&&(c(0,"li"),p(1),l()),i&2){let e=t.$implicit;g(),Te(e.persona==null?null:e.persona.nombre)}}function $E(i,t){if(i&1&&(c(0,"ul"),B(1,GE,2,1,"li",3),l()),i&2){let e=Q(2);g(),M("ngForOf",e.personaPerros)}}function XE(i,t){i&1&&(c(0,"p"),p(1,"No hay personas vinculadas a este perro."),l())}function ZE(i,t){if(i&1){let e=Je();c(0,"div",11)(1,"div",12)(2,"span",13),H("click",function(){N(e);let n=Q();return D(n.cerrarModalPersonas())}),p(3,"\xD7"),l(),c(4,"h3"),p(5,"Personas vinculadas"),l(),B(6,$E,2,1,"ul",14)(7,XE,2,0,"p",14),l()()}if(i&2){let e=Q();g(6),M("ngIf",e.personaPerros.length>0),g(),M("ngIf",e.personaPerros.length===0)}}var dm=class i{constructor(t,e,r,n,o){this.perroService=t;this.personaPerroService=e;this.router=r;this.filterService=n;this.paginationService=o}perros=[];perrosFiltrados=[];perrosPaginados=[];personaPerros=[];textoBusqueda="";paginaActual=1;elementosPorPagina=5;totalPaginas=0;mostrarModalEliminar=!1;perroAEliminarId=null;mostrarModalPersonas=!1;ngOnInit(){this.obtenerPerros()}obtenerPerros(){this.perroService.obtenerPerros().subscribe(t=>{this.perros=t,this.perrosFiltrados=t,this.calcularPaginacion()})}verPersonasPorPerro(t){this.personaPerroService.obtenerPersonaPerros().subscribe(e=>{this.personaPerros=e.filter(r=>r.perro?.id===t),this.mostrarModalPersonas=!0})}cerrarModalPersonas(){this.mostrarModalPersonas=!1,this.personaPerros=[]}eliminarPerro(t){this.perroService.eliminarPerro(t).subscribe(()=>{this.obtenerPerros()})}irACrearPerro(){this.router.navigate(["/perro-create"])}irAEditarPerro(t){this.router.navigate([`/perro-update/${t}`])}confirmarEliminarPerro(t){this.perroAEliminarId=t,this.mostrarModalEliminar=!0}eliminarPerroConfirmado(){this.perroAEliminarId!==null&&(this.eliminarPerro(this.perroAEliminarId),this.cerrarModalEliminar())}cerrarModalEliminar(){this.mostrarModalEliminar=!1}filtrarPerros(){this.perrosFiltrados=this.filterService.filtrar(this.perros,this.textoBusqueda),this.paginaActual=1,this.calcularPaginacion()}calcularPaginacion(){let t=this.paginationService.paginate(this.perrosFiltrados,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.perrosPaginados=t.paginatedData}cambiarPagina(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarPerrosPaginados()}actualizarPerrosPaginados(){let t=this.paginationService.paginate(this.perrosFiltrados,this.paginaActual,this.elementosPorPagina);this.perrosPaginados=t.paginatedData}static \u0275fac=function(e){return new(e||i)(ie(_c),ie(bc),ie(ht),ie(zi),ie(Yi))};static \u0275cmp=ot({type:i,selectors:[["app-perro"]],standalone:!0,features:[st],decls:28,vars:7,consts:[["type","text","placeholder","Buscar...",3,"ngModelChange","input","ngModel"],[2,"float","right","margin-bottom","10px",3,"click"],["border","1","cellspacing","0","cellpadding","5",2,"width","100%","margin-top","20px"],[4,"ngFor","ngForOf"],[2,"margin-top","20px"],[3,"click","disabled"],["class","modal-eliminar",4,"ngIf"],["class","modal",4,"ngIf"],[3,"click"],[1,"modal-eliminar"],[1,"modal-content-eliminar"],[1,"modal"],[1,"modal-content"],[1,"close",3,"click"],[4,"ngIf"]],template:function(e,r){e&1&&(c(0,"div")(1,"h2"),p(2,"Perros"),l(),c(3,"input",0),pe("ngModelChange",function(o){return ue(r.textoBusqueda,o)||(r.textoBusqueda=o),o}),H("input",function(){return r.filtrarPerros()}),l(),c(4,"button",1),H("click",function(){return r.irACrearPerro()}),p(5,"Registrar"),l(),c(6,"table",2)(7,"thead")(8,"tr")(9,"th"),p(10,"Nombre"),l(),c(11,"th"),p(12,"Raza"),l(),c(13,"th"),p(14,"Personas Vinculadas"),l(),c(15,"th"),p(16,"Acciones"),l()()(),c(17,"tbody"),B(18,WE,13,2,"tr",3),l()(),c(19,"div",4)(20,"button",5),H("click",function(){return r.cambiarPagina("previous")}),p(21,"Anterior"),l(),c(22,"span"),p(23),l(),c(24,"button",5),H("click",function(){return r.cambiarPagina("next")}),p(25,"Siguiente"),l()()(),B(26,HE,8,0,"div",6)(27,ZE,8,2,"div",7)),e&2&&(g(3),de("ngModel",r.textoBusqueda),g(15),M("ngForOf",r.perrosPaginados),g(2),M("disabled",r.paginaActual===1),g(3),Ke(" P\xE1gina ",r.paginaActual," "),g(),M("disabled",r.paginaActual===r.totalPaginas),g(2),M("ngIf",r.mostrarModalEliminar),g(),M("ngIf",r.mostrarModalPersonas))},dependencies:[ct,Bt,yt,ji,Mt,kt,Pt,Tt],styles:['@charset "UTF-8";table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:10px;text-align:left;border:1px solid #ddd}button[_ngcontent-%COMP%]{margin-right:5px;padding:5px 10px;cursor:pointer}button[_ngcontent-%COMP%]:focus{outline:none}.modal[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:25px;border-radius:8px;width:400px;text-align:left;box-shadow:0 4px 10px #0003;position:relative}.close[_ngcontent-%COMP%]{position:absolute;top:10px;right:15px;font-size:30px;cursor:pointer;border:none;background:none;font-weight:700;color:#666}.close[_ngcontent-%COMP%]:hover{color:#000}ol[_ngcontent-%COMP%]{padding-left:20px;margin:10px 0;color:#444}li[_ngcontent-%COMP%]{padding:5px 0;border-bottom:1px solid #eee}li[_ngcontent-%COMP%]:last-child{border-bottom:none}p[_ngcontent-%COMP%]{color:#888;font-style:italic}.modal-eliminar[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080}.modal-content-eliminar[_ngcontent-%COMP%]{background:#fff;padding:25px;border-radius:8px;width:400px;text-align:center;box-shadow:0 4px 10px #0003;position:relative}h3[_ngcontent-%COMP%]{margin-top:0;font-size:20px;color:#333}button[_ngcontent-%COMP%]{margin:5px}button[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}button[style][_ngcontent-%COMP%]{margin-top:20px}']})};function YE(i,t){i&1&&(c(0,"small"),p(1,"El nombre es obligatorio."),l())}function KE(i,t){i&1&&(c(0,"small"),p(1,"Debe tener al menos 2 caracteres."),l())}function JE(i,t){if(i&1&&(c(0,"div",20),B(1,YE,2,0,"small",21)(2,KE,2,0,"small",21),l()),i&2){Q();let e=ae(9);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function QE(i,t){i&1&&(c(0,"small"),p(1,"La raza es obligatoria."),l())}function eP(i,t){i&1&&(c(0,"small"),p(1,"Debe tener al menos 2 caracteres."),l())}function tP(i,t){if(i&1&&(c(0,"div",20),B(1,QE,2,0,"small",21)(2,eP,2,0,"small",21),l()),i&2){Q();let e=ae(15);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function iP(i,t){if(i&1&&(c(0,"option",22),p(1),l()),i&2){let e=t.$implicit;M("ngValue",e),g(),Ke(" ",e.nombre," ")}}function rP(i,t){if(i&1){let e=Je();c(0,"li"),p(1),c(2,"button",23),H("click",function(){let n=N(e).$implicit,o=Q();return D(o.removePersonaFromSelected(n))}),p(3,"Eliminar"),l()()}if(i&2){let e=t.$implicit;g(),Ke(" ",e.nombre," ")}}var um=class i{constructor(t,e,r,n){this.perroService=t;this.personaService=e;this.personaPerroService=r;this.router=n}perro={nombre:"",raza:""};personas=[];selectedPersonas=[];personaSeleccionada=null;ngOnInit(){this.cargarPersonas()}cargarPersonas(){this.personaService.obtenerPersonas().subscribe(t=>{this.personas=t})}addPersonaToSelected(t){t&&(this.selectedPersonas.push(t),this.personas=this.personas.filter(e=>e.id!==t.id)),this.personaSeleccionada=null}removePersonaFromSelected(t){this.selectedPersonas=this.selectedPersonas.filter(e=>e.id!==t.id),this.personas.push(t)}crearPerro(){this.perroService.crearPerro(this.perro).subscribe(t=>{this.selectedPersonas.forEach(e=>{let r={persona:{id:e.id},perro:{id:t.id}};this.personaPerroService.crearPersonaPerro(r).subscribe()}),this.router.navigate(["/perro"])})}cancelar(){this.router.navigate(["/perro"])}static \u0275fac=function(e){return new(e||i)(ie(_c),ie(po),ie(bc),ie(ht))};static \u0275cmp=ot({type:i,selectors:[["app-perro-create"]],standalone:!0,features:[st],decls:35,vars:8,consts:[["perroForm","ngForm"],["nombre","ngModel"],["raza","ngModel"],[1,"form-container"],[3,"ngSubmit"],[1,"form-group"],["for","nombre"],["id","nombre","name","nombre","placeholder","Nombre","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","raza"],["id","raza","name","raza","placeholder","Raza","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["for","personas"],["id","personas","name","personas",1,"form-control",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"add-button-container"],["type","button",1,"add-btn",3,"click"],[4,"ngFor","ngForOf"],[1,"button-container"],["type","submit",1,"submit-btn",3,"disabled"],["type","button",1,"cancel-btn",3,"click"],[1,"error-message"],[4,"ngIf"],[3,"ngValue"],["type","button",3,"click"]],template:function(e,r){if(e&1){let n=Je();c(0,"div",3)(1,"h2"),p(2,"Crear Perro"),l(),c(3,"form",4,0),H("ngSubmit",function(){return N(n),D(r.crearPerro())}),c(5,"div",5)(6,"label",6),p(7,"Nombre:"),l(),c(8,"input",7,1),pe("ngModelChange",function(a){return N(n),ue(r.perro.nombre,a)||(r.perro.nombre=a),D(a)}),l(),B(10,JE,3,2,"div",8),l(),c(11,"div",5)(12,"label",9),p(13,"Raza:"),l(),c(14,"input",10,2),pe("ngModelChange",function(a){return N(n),ue(r.perro.raza,a)||(r.perro.raza=a),D(a)}),l(),B(16,tP,3,2,"div",8),l(),c(17,"div",5)(18,"label",11),p(19,"Propietarios:"),l(),c(20,"select",12),pe("ngModelChange",function(a){return N(n),ue(r.personaSeleccionada,a)||(r.personaSeleccionada=a),D(a)}),B(21,iP,2,2,"option",13),l(),c(22,"div",14)(23,"button",15),H("click",function(){return N(n),D(r.addPersonaToSelected(r.personaSeleccionada))}),p(24," A\xF1adir "),l()()(),c(25,"div",5)(26,"label"),p(27,"Propietarios seleccionados:"),l(),c(28,"ul"),B(29,rP,4,1,"li",16),l()(),c(30,"div",17)(31,"button",18),p(32,"Crear"),l(),c(33,"button",19),H("click",function(){return N(n),D(r.cancelar())}),p(34,"Cancelar"),l()()()()}if(e&2){let n=ae(4),o=ae(9),a=ae(15);g(8),de("ngModel",r.perro.nombre),g(2),M("ngIf",o.invalid&&(o.dirty||o.touched)),g(4),de("ngModel",r.perro.raza),g(2),M("ngIf",a.invalid&&(a.dirty||a.touched)),g(4),de("ngModel",r.personaSeleccionada),g(),M("ngForOf",r.personas),g(8),M("ngForOf",r.selectedPersonas),g(2),M("disabled",n.invalid)}},dependencies:[Mt,Qt,Fi,Ni,kt,Ti,Pt,Jt,ri,xi,Tt,ei,ct,Bt,yt],styles:[".form-container[_ngcontent-%COMP%]{max-width:500px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px;position:relative}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:14px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.error-message[_ngcontent-%COMP%]{color:red;font-size:14px;margin-top:5px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%], .add-btn[_ngcontent-%COMP%]{width:48%;padding:10px;font-size:16px;border-radius:4px;cursor:pointer;border:none}.submit-btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6;cursor:not-allowed}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#218838}.cancel-btn[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#c82333}.add-btn[_ngcontent-%COMP%]{width:auto;min-width:80px;background-color:#007bff;color:#fff;padding:8px 12px;font-size:14px;border-radius:4px;cursor:pointer;border:none}.add-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.add-button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:5px}ul[_ngcontent-%COMP%]{list-style:none;padding:0}li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fd7e14;color:#fff;padding:5px 10px;border-radius:4px;border:none;cursor:pointer}li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#e96a0c}"]})};function nP(i,t){i&1&&(c(0,"small"),p(1,"El nombre es obligatorio."),l())}function oP(i,t){i&1&&(c(0,"small"),p(1,"Debe tener al menos 2 caracteres."),l())}function aP(i,t){if(i&1&&(c(0,"div",20),B(1,nP,2,0,"small",21)(2,oP,2,0,"small",21),l()),i&2){Q();let e=ae(9);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function sP(i,t){i&1&&(c(0,"small"),p(1,"La raza es obligatoria."),l())}function lP(i,t){i&1&&(c(0,"small"),p(1,"Debe tener al menos 2 caracteres."),l())}function cP(i,t){if(i&1&&(c(0,"div",20),B(1,sP,2,0,"small",21)(2,lP,2,0,"small",21),l()),i&2){Q();let e=ae(15);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function dP(i,t){if(i&1&&(c(0,"option",22),p(1),l()),i&2){let e=t.$implicit;M("ngValue",e),g(),Ke(" ",e.nombre," ")}}function uP(i,t){if(i&1){let e=Je();c(0,"li"),p(1),c(2,"button",23),H("click",function(){let n=N(e).$implicit,o=Q();return D(o.removePersonaFromSelected(n))}),p(3,"Eliminar"),l()()}if(i&2){let e=t.$implicit;g(),Ke(" ",e.nombre," ")}}var pm=class i{constructor(t,e,r,n,o){this.perroService=t;this.personaService=e;this.personaPerroService=r;this.route=n;this.router=o}perro={id:0,nombre:"",raza:""};personas=[];selectedPersonas=[];personaSeleccionada=null;ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("id"));t&&this.perroService.obtenerPerroPorId(t).subscribe(e=>{this.perro=e,this.personaPerroService.obtenerPersonaPerros().subscribe(r=>{let n=r.filter(o=>o.perro?.id===this.perro.id);this.selectedPersonas=n.map(o=>o.persona).filter(o=>o!==void 0),this.personas=this.personas.filter(o=>!this.selectedPersonas.some(a=>a.id===o.id))})}),this.cargarPersonas()}cargarPersonas(){this.personaService.obtenerPersonas().subscribe(t=>{this.personas=t})}addPersonaToSelected(t){t&&(this.selectedPersonas.push(t),this.personas=this.personas.filter(e=>e.id!==t.id)),this.personaSeleccionada=null}removePersonaFromSelected(t){this.selectedPersonas=this.selectedPersonas.filter(e=>e.id!==t.id),this.personas.push(t)}actualizarPerro(){this.perro.id&&this.perroService.actualizarPerro(this.perro.id,this.perro).subscribe(t=>{this.personaPerroService.obtenerPersonaPerros().subscribe(e=>{let r=e.filter(o=>o.perro?.id===t.id).map(o=>o.persona?.id);e.filter(o=>o.perro?.id===t.id&&!this.selectedPersonas.some(a=>a.id===o.persona?.id)).forEach(o=>{o.id!==void 0&&this.personaPerroService.eliminarPersonaPerro(o.id).subscribe()}),this.selectedPersonas.forEach(o=>{if(!r.includes(o.id)){let a={persona:{id:o.id},perro:{id:t.id}};this.personaPerroService.crearPersonaPerro(a).subscribe()}}),this.router.navigate(["/perro"])})})}cancelar(){this.router.navigate(["/perro"])}static \u0275fac=function(e){return new(e||i)(ie(_c),ie(po),ie(bc),ie(Vi),ie(ht))};static \u0275cmp=ot({type:i,selectors:[["app-perro-update"]],standalone:!0,features:[st],decls:35,vars:8,consts:[["perroForm","ngForm"],["nombre","ngModel"],["raza","ngModel"],[1,"form-container"],[3,"ngSubmit"],[1,"form-group"],["for","nombre"],["id","nombre","name","nombre","placeholder","Nombre","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","raza"],["id","raza","name","raza","placeholder","Raza","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["for","personas"],["id","personas","name","personas",1,"form-control",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"add-button-container"],["type","button",1,"add-btn",3,"click"],[4,"ngFor","ngForOf"],[1,"button-container"],["type","submit",1,"submit-btn",3,"disabled"],["type","button",1,"cancel-btn",3,"click"],[1,"error-message"],[4,"ngIf"],[3,"ngValue"],["type","button",3,"click"]],template:function(e,r){if(e&1){let n=Je();c(0,"div",3)(1,"h2"),p(2,"Actualizar Perro"),l(),c(3,"form",4,0),H("ngSubmit",function(){return N(n),D(r.actualizarPerro())}),c(5,"div",5)(6,"label",6),p(7,"Nombre:"),l(),c(8,"input",7,1),pe("ngModelChange",function(a){return N(n),ue(r.perro.nombre,a)||(r.perro.nombre=a),D(a)}),l(),B(10,aP,3,2,"div",8),l(),c(11,"div",5)(12,"label",9),p(13,"Raza:"),l(),c(14,"input",10,2),pe("ngModelChange",function(a){return N(n),ue(r.perro.raza,a)||(r.perro.raza=a),D(a)}),l(),B(16,cP,3,2,"div",8),l(),c(17,"div",5)(18,"label",11),p(19,"Propietarios:"),l(),c(20,"select",12),pe("ngModelChange",function(a){return N(n),ue(r.personaSeleccionada,a)||(r.personaSeleccionada=a),D(a)}),B(21,dP,2,2,"option",13),l(),c(22,"div",14)(23,"button",15),H("click",function(){return N(n),D(r.addPersonaToSelected(r.personaSeleccionada))}),p(24," A\xF1adir "),l()()(),c(25,"div",5)(26,"label"),p(27,"Propietarios seleccionados:"),l(),c(28,"ul"),B(29,uP,4,1,"li",16),l()(),c(30,"div",17)(31,"button",18),p(32,"Actualizar"),l(),c(33,"button",19),H("click",function(){return N(n),D(r.cancelar())}),p(34,"Cancelar"),l()()()()}if(e&2){let n=ae(4),o=ae(9),a=ae(15);g(8),de("ngModel",r.perro.nombre),g(2),M("ngIf",o.invalid&&(o.dirty||o.touched)),g(4),de("ngModel",r.perro.raza),g(2),M("ngIf",a.invalid&&(a.dirty||a.touched)),g(4),de("ngModel",r.personaSeleccionada),g(),M("ngForOf",r.personas),g(8),M("ngForOf",r.selectedPersonas),g(2),M("disabled",n.invalid)}},dependencies:[Mt,Qt,Fi,Ni,kt,Ti,Pt,Jt,ri,xi,Tt,ei,ct,Bt,yt],styles:[".form-container[_ngcontent-%COMP%]{max-width:500px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px;position:relative}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:14px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.error-message[_ngcontent-%COMP%]{color:red;font-size:14px;margin-top:5px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%], .add-btn[_ngcontent-%COMP%]{width:48%;padding:10px;font-size:16px;border-radius:4px;cursor:pointer;border:none}.submit-btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6;cursor:not-allowed}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#218838}.cancel-btn[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#c82333}.add-btn[_ngcontent-%COMP%]{width:auto;min-width:80px;background-color:#007bff;color:#fff;padding:8px 12px;font-size:14px;border-radius:4px;cursor:pointer;border:none}.add-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.add-button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:5px}ul[_ngcontent-%COMP%]{list-style:none;padding:0}li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fd7e14;color:#fff;padding:5px 10px;border-radius:4px;border:none;cursor:pointer}li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#e96a0c}"]})};var Ys=class i{constructor(t,e){this.http=t;this.router=e}tokenKey="auth_token";login(t,e){return this.http.post(`${pi.apiUrl}/auth/login`,{correo:t,contrasena:e}).pipe(wn(r=>{this.setToken(r.token)}))}logout(){let t=this.getToken();return t?this.http.post(`${pi.apiUrl}/auth/logout`,null,{headers:{Authorization:`Bearer ${t}`}}).pipe(wn(()=>{this.clearAuthData(),this.router.navigate(["/login"])})):new fd(e=>{e.next(null),e.complete()})}isAuthenticated(){return!!this.getToken()}getToken(){return localStorage.getItem(this.tokenKey)}setToken(t){localStorage.setItem(this.tokenKey,t)}clearAuthData(){localStorage.removeItem(this.tokenKey)}static \u0275fac=function(e){return new(e||i)(Et(ui),Et(ht))};static \u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"})};function pP(i,t){i&1&&(c(0,"div",10),p(1," Por favor ingresa un correo electr\xF3nico v\xE1lido "),l())}function fP(i,t){if(i&1&&(c(0,"div",10),p(1),l()),i&2){let e=Q();g(),Ke(" ",e.errorMessage," ")}}var mm=class i{constructor(t,e,r){this.fb=t;this.authService=e;this.router=r;this.loginForm=this.fb.group({correo:["",[T0.required,T0.email]],contrasena:["",T0.required]})}loginForm;errorMessage=null;onSubmit(){if(this.loginForm.valid){let{correo:t,contrasena:e}=this.loginForm.value;this.authService.login(t,e).subscribe({next:()=>{this.router.navigate(["/dashboard"])},error:r=>{this.errorMessage="Credenciales incorrectas",console.error(r)}})}}static \u0275fac=function(e){return new(e||i)(ie(Wx),ie(Ys),ie(ht))};static \u0275cmp=ot({type:i,selectors:[["app-login"]],standalone:!0,features:[st],decls:17,vars:4,consts:[[1,"full-page-container"],[1,"login-container"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","correo"],["type","email","id","correo","formControlName","correo","required",""],["class","error-message",4,"ngIf"],["for","contrasena"],["type","password","id","contrasena","formControlName","contrasena","required",""],["type","submit",3,"disabled"],[1,"error-message"]],template:function(e,r){if(e&1&&(c(0,"div",0)(1,"div",1)(2,"h2"),p(3,"Iniciar Sesi\xF3n"),l(),c(4,"form",2),H("ngSubmit",function(){return r.onSubmit()}),c(5,"div",3)(6,"label",4),p(7,"Correo Electr\xF3nico"),l(),Ee(8,"input",5),B(9,pP,2,0,"div",6),l(),c(10,"div",3)(11,"label",7),p(12,"Contrase\xF1a"),l(),Ee(13,"input",8),l(),c(14,"button",9),p(15,"Iniciar Sesi\xF3n"),l(),B(16,fP,2,1,"div",6),l()()()),e&2){let n;g(4),M("formGroup",r.loginForm),g(5),M("ngIf",((n=r.loginForm.get("correo"))==null||n.errors==null?null:n.errors.email)&&((n=r.loginForm.get("correo"))==null?null:n.touched)),g(5),M("disabled",!r.loginForm.valid),g(2),M("ngIf",r.errorMessage)}},dependencies:[Hx,Qt,kt,Pt,Jt,ri,J1,Q1,ct,yt],styles:['@charset "UTF-8";.full-page-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:#d3d3d3}.login-container[_ngcontent-%COMP%]{background-color:#fff;padding:30px;border-radius:8px;box-shadow:0 4px 12px #0000001a;width:100%;max-width:400px;margin-top:-100px}.login-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:20px;color:#333;text-align:center}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:1rem;margin-bottom:5px;color:#333}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#4caf50;outline:none}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:12px;background-color:#4caf50;color:#fff;border:none;border-radius:4px;font-size:1rem;cursor:pointer;transition:background-color .3s}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#3d8b40}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#dcdcdc;cursor:not-allowed}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#f44336;font-size:.875rem;margin-top:10px;text-align:center}']})};var hm=class i{constructor(t,e){this.authService=t;this.router=e}canActivate(){return this.authService.isAuthenticated()?!0:(this.router.navigate(["/login"]),!1)}static \u0275fac=function(e){return new(e||i)(Et(Ys),Et(ht))};static \u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"})};var gm=class i{constructor(t){this.authService=t}title="Administraci\xF3n ";menuOpen=!1;toggleMenu(){this.menuOpen=!this.menuOpen}logout(){this.authService.logout().subscribe()}isAuthenticated(){return this.authService.isAuthenticated()}static \u0275fac=function(e){return new(e||i)(ie(Ys))};static \u0275cmp=ot({type:i,selectors:[["app-topbar"]],standalone:!0,features:[st],decls:11,vars:3,consts:[[1,"topbar-container"],[1,"topbar-logo"],[1,"menu-toggle",3,"click"],[1,"line"],[1,"topbar-menu"],[1,"menu-item",3,"click"]],template:function(e,r){e&1&&(c(0,"div",0)(1,"div",1)(2,"span"),p(3),l()(),c(4,"div",2),H("click",function(){return r.toggleMenu()}),Ee(5,"div",3)(6,"div",3)(7,"div",3),l(),c(8,"div",4)(9,"a",5),H("click",function(){return r.logout()}),p(10,"Salir"),l()()()),e&2&&(g(3),Te(r.title),g(5),_l("show",r.menuOpen))},dependencies:[Wf,ct],styles:['@charset "UTF-8";html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif}.topbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:#34495e;color:#fff;padding:0;position:sticky;top:0;width:100%;z-index:1000;box-sizing:border-box}.topbar-container[_ngcontent-%COMP%]   .topbar-logo[_ngcontent-%COMP%]{font-size:24px;font-weight:700}.topbar-container[_ngcontent-%COMP%]   .menu-toggle[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;width:40px;height:28px;cursor:pointer;margin-left:20px;margin-right:20px;padding:5px}.topbar-container[_ngcontent-%COMP%]   .menu-toggle[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{width:100%;height:4px;background-color:#fff;border-radius:2px}.topbar-container[_ngcontent-%COMP%]   .topbar-menu[_ngcontent-%COMP%]{display:none;position:absolute;top:60px;right:20px;background-color:#2c3e50;border-radius:5px;padding:5px;box-shadow:0 4px 8px #0003;z-index:1001;width:100px;margin-right:20px}.topbar-container[_ngcontent-%COMP%]   .topbar-menu.show[_ngcontent-%COMP%]{display:block}.topbar-container[_ngcontent-%COMP%]   .topbar-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{background:none;color:#fff;border:none;cursor:pointer;font-size:14px;padding:8px;text-decoration:none;display:block;text-align:center;transition:background-color .3s ease}.topbar-container[_ngcontent-%COMP%]   .topbar-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}']})};var mP=i=>({expanded:i}),hP=i=>({open:i});function gP(i,t){if(i&1&&(S2(0),c(1,"a",5),p(2),l(),E2()),i&2){let e=Q().$implicit;g(),M("routerLink",e.route),g(),Te(e.title)}}function vP(i,t){if(i&1&&(c(0,"li")(1,"a",5),p(2),l()()),i&2){let e=t.$implicit;g(),M("routerLink",e.route),g(),Te(e.title)}}function _P(i,t){if(i&1){let e=Je();c(0,"div",6),H("click",function(){N(e);let n=Q().$implicit,o=Q();return D(o.toggleMenu(n))}),p(1),c(2,"span",7),p(3,"\u25BC"),l()(),c(4,"ul",8),B(5,vP,3,2,"li",3),l()}if(i&2){let e=Q().$implicit;g(),Ke(" ",e.title," "),g(),M("ngClass",p0(4,mP,e.expanded)),g(2),M("ngClass",p0(6,hP,e.expanded)),g(),M("ngForOf",e.children)}}function bP(i,t){if(i&1&&(c(0,"li"),B(1,gP,3,2,"ng-container",4)(2,_P,6,8,"ng-template",null,0,O2),l()),i&2){let e=t.$implicit,r=ae(3);g(),M("ngIf",!(e.children!=null&&e.children.length))("ngIfElse",r)}}var vm=class i{menus=[{title:"Home",route:"/dashboard",expanded:!1,children:[]},{title:"Usuarios",expanded:!1,children:[{title:"Usuarios",route:"/usuario"},{title:"Roles",route:"/rol"},{title:"Permisos",route:"/permiso"}]},{title:"Obras",expanded:!1,children:[{title:"Obras",route:"/obra-civil"},{title:"Tareas",route:"/tarea"},{title:"Calculadora de Costos",route:"/estimacion"}]},{title:"Recursos",expanded:!1,children:[{title:"Servicios",route:"/servicio"},{title:"Empleados",route:"/empleado"},{title:"Materiales",route:"/material"},{title:"Equipos",route:"/equipo"}]},{title:"Compras",expanded:!1,children:[{title:"Proveedores",route:"/proveedor"},{title:"compra",route:"/compra"}]},{title:"Sistema",expanded:!1,children:[{title:"Bitacora",route:"/bitacora"},{title:"Backup y Restore",route:"/backup-restore"}]}];toggleMenu(t){t.expanded=!t.expanded}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=ot({type:i,selectors:[["app-sidebar"]],standalone:!0,features:[st],decls:3,vars:1,consts:[["hasChildren",""],[1,"sidebar"],[1,"sidebar-menu"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[3,"routerLink"],[1,"menu-toggle",3,"click"],[3,"ngClass"],[1,"submenu",3,"ngClass"]],template:function(e,r){e&1&&(c(0,"div",1)(1,"ul",2),B(2,bP,4,2,"li",3),l()()),e&2&&(g(2),M("ngForOf",r.menus))},dependencies:[Wf,ex,ct,Rn,Bt,yt],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif}.sidebar[_ngcontent-%COMP%]{position:fixed;top:50px;left:0;width:250px;height:calc(100vh - 50px);background-color:#2c3e50;color:#fff;padding-top:20px;z-index:900;display:flex;flex-direction:column}.sidebar[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;flex-grow:1}.sidebar[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:15px 0}.sidebar[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .menu-toggle[_ngcontent-%COMP%]{color:#fff;text-decoration:none;padding:10px 20px;display:block;cursor:pointer;transition:background-color .3s}.sidebar[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .sidebar[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .menu-toggle[_ngcontent-%COMP%]:hover{background-color:#1a252f}.sidebar[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .menu-toggle[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-weight:700}.sidebar[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]{list-style:none;padding-left:20px;max-height:0;overflow:hidden;transition:max-height .3s ease-out}.sidebar[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:5px 0}.sidebar[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .submenu.open[_ngcontent-%COMP%]{max-height:500px}.sidebar[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .menu-toggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{transition:transform .3s ease}.sidebar[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .menu-toggle[_ngcontent-%COMP%]   .expanded[_ngcontent-%COMP%]{transform:rotate(180deg)}"]})};var xP=i=>({"sidebar-hidden":i}),yP=i=>({shifted:i}),_m=class i{sidebarVisible=!0;toggleSidebar(){this.sidebarVisible=!this.sidebarVisible}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=ot({type:i,selectors:[["app-main-layout"]],standalone:!0,features:[st],decls:10,vars:6,consts:[[1,"app-container"],[1,"content-wrapper"],[3,"ngClass"],[1,"main-content",3,"ngClass"],[1,"content"],[1,"container-fluid"],[1,"toggle-sidebar-btn",3,"click"]],template:function(e,r){e&1&&(c(0,"div",0),Ee(1,"app-topbar"),c(2,"div",1),Ee(3,"app-sidebar",2),c(4,"div",3)(5,"section",4)(6,"div",5),Ee(7,"router-outlet"),l()()()(),c(8,"button",6),H("click",function(){return r.toggleSidebar()}),p(9,"\u2630"),l()()),e&2&&(g(3),M("ngClass",p0(2,xP,!r.sidebarVisible)),g(),M("ngClass",p0(4,yP,!r.sidebarVisible)))},dependencies:[ct,Rn,gm,vm,Qu],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif}.app-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh}app-topbar[_ngcontent-%COMP%]{background-color:#34495e;color:#fff;padding:8px 20px;position:fixed;top:0;left:0;width:100%;height:50px;z-index:1000}.content-wrapper[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:50px;height:calc(100vh - 50px)}app-sidebar[_ngcontent-%COMP%]{width:250px;background-color:#2c3e50;color:#fff;position:fixed;top:50px;left:0;height:calc(100vh - 50px);z-index:900;transition:transform .3s ease-in-out}.sidebar-hidden[_ngcontent-%COMP%]{transform:translate(-100%)}.main-content[_ngcontent-%COMP%]{flex-grow:1;margin-left:250px;background-color:#ecf0f1;padding:20px;height:100%;overflow-y:auto;transition:margin-left .3s ease-in-out}.main-content.shifted[_ngcontent-%COMP%]{margin-left:0}.toggle-sidebar-btn[_ngcontent-%COMP%]{position:fixed;bottom:20px;left:20px;background-color:#34495e;color:#fff;border:none;padding:10px;font-size:20px;z-index:1100;cursor:pointer;border-radius:30px}"]})};var Ga=class i{constructor(t){this.http=t}apiUrl=pi.apiUrl;obtenerPermisos(){return this.http.get(`${this.apiUrl}/permisos`)}obtenerPermisoPorId(t){return this.http.get(`${this.apiUrl}/permisos/${t}`)}crearPermiso(t){let e=lt({},t);return delete e.id,this.http.post(`${this.apiUrl}/permisos`,e)}actualizarPermiso(t,e){return this.http.put(`${this.apiUrl}/permisos/${t}`,e)}eliminarPermiso(t){return this.http.delete(`${this.apiUrl}/permisos/${t}`)}static \u0275fac=function(e){return new(e||i)(Et(ui))};static \u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"})};function CP(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),p(2),l(),c(3,"td"),p(4),l(),c(5,"td"),p(6),l(),c(7,"td",18)(8,"div",35)(9,"button",36),H("click",function(){let n,o=N(e).$implicit,a=Q();return D(a.irAEditarPermiso((n=o.id)!==null&&n!==void 0?n:0))}),Ee(10,"i",37),p(11," Editar "),l(),c(12,"button",38),H("click",function(){let n,o=N(e).$implicit,a=Q();return D(a.confirmarEliminarPermiso((n=o.id)!==null&&n!==void 0?n:0))}),Ee(13,"i",39),p(14," Eliminar "),l()()()()}if(i&2){let e=t.$implicit;g(2),Te(e.id),g(2),Te(e.nombre),g(2),Te(e.descripcion)}}var bm=class i{constructor(t,e,r,n){this.permisoService=t;this.router=e;this.filterService=r;this.paginationService=n}permisos=[];permisosFiltradas=[];permisosPaginadas=[];textoBusqueda="";paginaActual=1;elementosPorPagina=10;totalPaginas=0;mostrarModal=!1;permisoAEliminarId=null;ngOnInit(){this.obtenerPermisos()}obtenerPermisos(){this.permisoService.obtenerPermisos().subscribe(t=>{this.permisos=t,this.permisosFiltradas=t,this.calcularPaginacion()})}eliminarPermiso(t){this.permisoService.eliminarPermiso(t).subscribe(()=>{this.obtenerPermisos()})}irACrearPermiso(){this.router.navigate(["/permiso-create"])}irAEditarPermiso(t){this.router.navigate([`/permiso-update/${t}`])}confirmarEliminarPermiso(t){this.permisoAEliminarId=t,this.mostrarModal=!0}eliminarPermisoConfirmada(){this.permisoAEliminarId!==null&&(this.eliminarPermiso(this.permisoAEliminarId),this.cerrarModal())}cerrarModal(){this.mostrarModal=!1,this.permisoAEliminarId=null}filtrarPermisos(){this.permisosFiltradas=this.filterService.filtrar(this.permisos,this.textoBusqueda),this.paginaActual=1,this.calcularPaginacion()}calcularPaginacion(){let t=this.paginationService.paginate(this.permisosFiltradas,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.permisosPaginadas=t.paginatedData}cambiarPagina(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarUsuariosPaginados()}actualizarPermisosPaginadas(){let t=this.paginationService.paginate(this.permisosFiltradas,this.paginaActual,this.elementosPorPagina);this.permisosPaginadas=t.paginatedData}crearNuevoPermiso(){console.log("Crear nuevo permiso")}editarPermiso(t){console.log("Editar permiso con ID:",t)}actualizarUsuariosPaginados(){let t=this.paginationService.paginate(this.permisosFiltradas,this.paginaActual,this.elementosPorPagina);this.permisosPaginadas=t.paginatedData}static \u0275fac=function(e){return new(e||i)(ie(Ga),ie(ht),ie(zi),ie(Yi))};static \u0275cmp=ot({type:i,selectors:[["app-permiso-list"]],standalone:!0,features:[st],decls:54,vars:5,consts:[[1,"content"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"card","shadow-sm"],[1,"card-body"],[1,"row","mb-3"],[1,"col-12","col-md-6"],[1,"m-0"],[1,"col-12","col-md-6","text-md-end"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-plus-circle"],[1,"form-group","mb-3"],["type","text","placeholder","Buscar por nombre o descripci\xF3n",1,"form-control",3,"ngModelChange","input","ngModel"],[2,"max-height","400px","overflow-y","auto"],[1,"table-responsive"],[1,"table","table-bordered","table-striped"],[1,"table-primary"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"d-flex","align-items-center"],[1,"btn","btn-outline-secondary","btn-sm",3,"click","disabled"],[1,"mx-3"],["id","deleteModal","tabindex","-1","aria-labelledby","deleteModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","deleteModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"bi","bi-x-circle","mr-1"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"bi","bi-trash","mr-1"],[1,"d-flex","gap-2","justify-content-center"],[1,"btn","btn-warning","btn-sm",3,"click"],[1,"bi","bi-pencil"],["data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger","btn-sm",3,"click"],[1,"bi","bi-trash"]],template:function(e,r){e&1&&(c(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h4",8),p(9,"Permisos"),l()(),c(10,"div",9)(11,"button",10),H("click",function(){return r.irACrearPermiso()}),Ee(12,"i",11),p(13," Crear permiso "),l()()(),c(14,"div",12)(15,"input",13),pe("ngModelChange",function(o){return ue(r.textoBusqueda,o)||(r.textoBusqueda=o),o}),H("input",function(){return r.filtrarPermisos()}),l()(),c(16,"div",14)(17,"div",15)(18,"table",16)(19,"thead",17)(20,"tr")(21,"th"),p(22,"ID"),l(),c(23,"th"),p(24,"Nombre"),l(),c(25,"th"),p(26,"Descripci\xF3n"),l(),c(27,"th",18),p(28,"Acciones"),l()()(),c(29,"tbody"),B(30,CP,15,3,"tr",19),l()()()(),c(31,"div",20)(32,"button",21),H("click",function(){return r.cambiarPagina("previous")}),p(33," \u2190 Anterior "),l(),c(34,"span",22),p(35),l(),c(36,"button",21),H("click",function(){return r.cambiarPagina("next")}),p(37," Siguiente \u2192 "),l()()()()()()()(),c(38,"div",23)(39,"div",24)(40,"div",25)(41,"div",26)(42,"h5",27),p(43," Confirmaci\xF3n de Eliminaci\xF3n "),l(),Ee(44,"button",28),l(),c(45,"div",29),p(46," \xBFEst\xE1s seguro de que deseas eliminar este permiso? "),l(),c(47,"div",30)(48,"button",31),Ee(49,"i",32),p(50," Cancelar "),l(),c(51,"button",33),H("click",function(){return r.eliminarPermisoConfirmada()}),Ee(52,"i",34),p(53," Eliminar "),l()()()()()),e&2&&(g(15),de("ngModel",r.textoBusqueda),g(15),M("ngForOf",r.permisosPaginadas),g(2),M("disabled",r.paginaActual===1),g(3),Ke(" P\xE1gina ",r.paginaActual," "),g(),M("disabled",r.paginaActual===r.totalPaginas))},dependencies:[ct,Bt,ji,Mt,kt,Pt,Tt]})};function wP(i,t){i&1&&(c(0,"small"),p(1,"El nombre es obligatorio."),l())}function SP(i,t){i&1&&(c(0,"small"),p(1,"El nombre debe tener al menos 3 caracteres."),l())}function EP(i,t){if(i&1&&(c(0,"div",22),B(1,wP,2,0,"small",23)(2,SP,2,0,"small",23),l()),i&2){Q();let e=ae(15);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function PP(i,t){i&1&&(c(0,"small"),p(1,"La descripci\xF3n es obligatoria."),l())}function MP(i,t){if(i&1&&(c(0,"div",22),B(1,PP,2,0,"small",23),l()),i&2){Q();let e=ae(21);g(),M("ngIf",e.errors==null?null:e.errors.required)}}var xm=class i{constructor(t,e){this.permisoService=t;this.router=e}permiso={id:0,nombre:"",descripcion:""};submitted=!1;crearPermiso(){this.permisoService.crearPermiso(this.permiso).subscribe(()=>{this.router.navigate(["/permiso"])})}cancelar(){this.router.navigate(["/permiso"])}static \u0275fac=function(e){return new(e||i)(ie(Ga),ie(ht))};static \u0275cmp=ot({type:i,selectors:[["app-permiso-create"]],standalone:!0,features:[st],decls:30,vars:5,consts:[["permisoForm","ngForm"],["nombre","ngModel"],["descripcion","ngModel"],[1,"content"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"card","shadow-sm"],[1,"card-body"],[1,"mb-3"],[3,"ngSubmit"],[1,"col-12","col-md-6","mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","placeholder","Ingrese el nombre del permiso","name","nombre","required","","minlength","3",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message text-danger",4,"ngIf"],["for","descripcion",1,"form-label"],["id","descripcion","rows","3","placeholder","Ingrese la descripci\xF3n del permiso","name","descripcion","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-12","col-md-6","d-flex","justify-content-start","gap-3"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"bi","bi-plus-circle","mr-1"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-x-circle","mr-1"],[1,"error-message","text-danger"],[4,"ngIf"]],template:function(e,r){if(e&1){let n=Je();c(0,"section",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"h4",9),p(7,"Crear Permiso"),l(),c(8,"form",10,0),H("ngSubmit",function(){return N(n),D(r.crearPermiso())})("ngSubmit",function(){return N(n),D(r.submitted=!0)}),c(10,"div",5)(11,"div",11)(12,"label",12),p(13,"Nombre:"),l(),c(14,"input",13,1),pe("ngModelChange",function(a){return N(n),ue(r.permiso.nombre,a)||(r.permiso.nombre=a),D(a)}),l(),B(16,EP,3,2,"div",14),l(),c(17,"div",11)(18,"label",15),p(19,"Descripci\xF3n:"),l(),c(20,"textarea",16,2),pe("ngModelChange",function(a){return N(n),ue(r.permiso.descripcion,a)||(r.permiso.descripcion=a),D(a)}),l(),B(22,MP,2,1,"div",14),l(),c(23,"div",17)(24,"button",18),Ee(25,"i",19),p(26," Crear "),l(),c(27,"button",20),H("click",function(){return N(n),D(r.cancelar())}),Ee(28,"i",21),p(29," Cancelar "),l()()()()()()()()()()}if(e&2){let n=ae(9),o=ae(15),a=ae(21);g(14),de("ngModel",r.permiso.nombre),g(2),M("ngIf",o.invalid&&(o.dirty||o.touched)||r.submitted&&o.invalid),g(4),de("ngModel",r.permiso.descripcion),g(2),M("ngIf",a.invalid&&(a.dirty||a.touched)||r.submitted&&a.invalid),g(2),M("disabled",!n.form.valid)}},dependencies:[ct,yt,Mt,Qt,kt,Pt,Jt,ri,xi,Tt,ei],styles:[".error-message[_ngcontent-%COMP%]{font-size:.875rem;margin-top:.25rem}"]})};function TP(i,t){i&1&&(c(0,"small"),p(1," El nombre es obligatorio. "),l())}function kP(i,t){i&1&&(c(0,"small"),p(1," El nombre debe tener al menos 3 caracteres. "),l())}function AP(i,t){if(i&1&&(c(0,"div",24),B(1,TP,2,0,"small",25)(2,kP,2,0,"small",25),l()),i&2){Q();let e=ae(17);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function IP(i,t){i&1&&(c(0,"small"),p(1," La descripci\xF3n es obligatoria. "),l())}function OP(i,t){if(i&1&&(c(0,"div",24),B(1,IP,2,0,"small",25),l()),i&2){Q();let e=ae(23);g(),M("ngIf",e.errors==null?null:e.errors.required)}}var ym=class i{constructor(t,e,r){this.permisoService=t;this.route=e;this.router=r}permiso={id:0,nombre:"",descripcion:""};submitted=!1;ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("id"));t&&this.permisoService.obtenerPermisoPorId(t).subscribe(e=>{this.permiso=e})}actualizarPermiso(){this.permiso.id&&this.permisoService.actualizarPermiso(this.permiso.id,this.permiso).subscribe(()=>{this.router.navigate(["/permiso"])})}cancelar(){this.router.navigate(["/permiso"])}static \u0275fac=function(e){return new(e||i)(ie(Ga),ie(Vi),ie(ht))};static \u0275cmp=ot({type:i,selectors:[["app-permiso-update"]],standalone:!0,features:[st],decls:32,vars:5,consts:[["permisoForm","ngForm"],["nombre","ngModel"],["descripcion","ngModel"],[1,"content"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"card","shadow-sm"],[1,"card-body"],[1,"row","mb-3"],[1,"col-12","col-md-6"],[1,"m-0"],[3,"ngSubmit"],[1,"col-12","col-md-6","mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","placeholder","Ingrese el nombre del permiso","name","nombre","required","","minlength","3",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message text-danger",4,"ngIf"],["for","descripcion",1,"form-label"],["id","descripcion","rows","3","placeholder","Ingrese la descripci\xF3n del permiso","name","descripcion","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-12","col-md-6","d-flex","justify-content-start","gap-3"],["type","submit",1,"btn","btn-warning",3,"disabled"],[1,"bi","bi-save","mr-1"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-x-circle"],[1,"error-message","text-danger"],[4,"ngIf"]],template:function(e,r){if(e&1){let n=Je();c(0,"section",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"div",9)(7,"div",10)(8,"h4",11),p(9,"Editar Permiso"),l()()(),c(10,"form",12,0),H("ngSubmit",function(){return N(n),D(r.actualizarPermiso())})("ngSubmit",function(){return N(n),D(r.submitted=!0)}),c(12,"div",5)(13,"div",13)(14,"label",14),p(15,"Nombre:"),l(),c(16,"input",15,1),pe("ngModelChange",function(a){return N(n),ue(r.permiso.nombre,a)||(r.permiso.nombre=a),D(a)}),l(),B(18,AP,3,2,"div",16),l(),c(19,"div",13)(20,"label",17),p(21,"Descripci\xF3n:"),l(),c(22,"textarea",18,2),pe("ngModelChange",function(a){return N(n),ue(r.permiso.descripcion,a)||(r.permiso.descripcion=a),D(a)}),l(),B(24,OP,2,1,"div",16),l(),c(25,"div",19)(26,"button",20),Ee(27,"i",21),p(28," Actualizar "),l(),c(29,"button",22),H("click",function(){return N(n),D(r.cancelar())}),Ee(30,"i",23),p(31," Cancelar "),l()()()()()()()()()()}if(e&2){let n=ae(11),o=ae(17),a=ae(23);g(16),de("ngModel",r.permiso.nombre),g(2),M("ngIf",o.invalid&&(o.dirty||o.touched)||r.submitted&&o.invalid),g(4),de("ngModel",r.permiso.descripcion),g(2),M("ngIf",a.invalid&&(a.dirty||a.touched)||r.submitted&&a.invalid),g(2),M("disabled",!n.form.valid)}},dependencies:[Mt,Qt,kt,Pt,Jt,ri,xi,Tt,ei,ct,yt],styles:[".error-message[_ngcontent-%COMP%]{font-size:.875rem;margin-top:.25rem}"]})};var $a=class i{constructor(t){this.http=t}apiUrl=pi.apiUrl;obtenerRoles(){return this.http.get(`${this.apiUrl}/roles`)}obtenerRolPorId(t){return this.http.get(`${this.apiUrl}/roles/${t}`)}crearRol(t){let e=lt({},t);return delete e.id,this.http.post(`${this.apiUrl}/roles`,e)}actualizarRol(t,e){return this.http.put(`${this.apiUrl}/roles/${t}`,e)}eliminarRol(t){return this.http.delete(`${this.apiUrl}/roles/${t}`)}static \u0275fac=function(e){return new(e||i)(Et(ui))};static \u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"})};var xc=class i{constructor(t){this.http=t}apiUrl=pi.apiUrl;obtenerRolPermisos(){return this.http.get(`${this.apiUrl}/rol-permiso`)}obtenerRolPermisoPorId(t){return this.http.get(`${this.apiUrl}/rol-permiso/${t}`)}crearRolPermiso(t){return this.http.post(`${this.apiUrl}/rol-permiso`,t)}actualizarRolPermiso(t,e){return this.http.put(`${this.apiUrl}/rol-permiso/${t}`,e)}eliminarRolPermiso(t){return this.http.delete(`${this.apiUrl}/rol-permiso/${t}`)}static \u0275fac=function(e){return new(e||i)(Et(ui))};static \u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"})};function FP(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),p(2),l(),c(3,"td"),p(4),l(),c(5,"td")(6,"button",8),H("click",function(){let n,o=N(e).$implicit,a=Q();return D(a.verPermisosPorRol((n=o.id)!==null&&n!==void 0?n:0))}),p(7,"Ver Permisos"),l()(),c(8,"td")(9,"button",8),H("click",function(){let n,o=N(e).$implicit,a=Q();return D(a.irAEditarRol((n=o.id)!==null&&n!==void 0?n:0))}),p(10,"Editar"),l(),c(11,"button",8),H("click",function(){let n,o=N(e).$implicit,a=Q();return D(a.confirmarEliminarRol((n=o.id)!==null&&n!==void 0?n:0))}),p(12,"Eliminar"),l()()()}if(i&2){let e=t.$implicit;g(2),Te(e.nombre),g(2),Te(e.descripcion)}}function NP(i,t){if(i&1){let e=Je();c(0,"div",9)(1,"div",10)(2,"h3"),p(3,"\xBFEst\xE1s seguro de que deseas eliminar este rol?"),l(),c(4,"button",8),H("click",function(){N(e);let n=Q();return D(n.eliminarRolConfirmado())}),p(5,"Confirmar"),l(),c(6,"button",8),H("click",function(){N(e);let n=Q();return D(n.cerrarModalEliminar())}),p(7,"Cancelar"),l()()()}}function LP(i,t){if(i&1&&(c(0,"li"),p(1),l()),i&2){let e=t.$implicit;g(),Te(e.permiso==null?null:e.permiso.nombre)}}function DP(i,t){if(i&1&&(c(0,"ul"),B(1,LP,2,1,"li",3),l()),i&2){let e=Q(2);g(),M("ngForOf",e.rolPermisos)}}function RP(i,t){i&1&&(c(0,"p"),p(1,"No hay permisos vinculados a este rol."),l())}function BP(i,t){if(i&1){let e=Je();c(0,"div",11)(1,"div",12)(2,"span",13),H("click",function(){N(e);let n=Q();return D(n.cerrarModalPermisos())}),p(3,"\xD7"),l(),c(4,"h3"),p(5,"Permisos vinculados"),l(),B(6,DP,2,1,"ul",14)(7,RP,2,0,"p",14),l()()}if(i&2){let e=Q();g(6),M("ngIf",e.rolPermisos.length>0),g(),M("ngIf",e.rolPermisos.length===0)}}var Cm=class i{constructor(t,e,r,n,o){this.rolService=t;this.rolPermisoService=e;this.router=r;this.filterService=n;this.paginationService=o}roles=[];rolesFiltrados=[];rolesPaginados=[];rolPermisos=[];textoBusqueda="";paginaActual=1;elementosPorPagina=5;totalPaginas=0;mostrarModalEliminar=!1;rolAEliminarId=null;mostrarModalPermisos=!1;ngOnInit(){this.obtenerRoles()}obtenerRoles(){this.rolService.obtenerRoles().subscribe(t=>{this.roles=t,this.rolesFiltrados=t,this.calcularPaginacion()})}verPermisosPorRol(t){this.rolPermisoService.obtenerRolPermisos().subscribe(e=>{this.rolPermisos=e.filter(r=>r.rol?.id===t),this.mostrarModalPermisos=!0})}cerrarModalPermisos(){this.mostrarModalPermisos=!1,this.rolPermisos=[]}eliminarRol(t){this.rolService.eliminarRol(t).subscribe(()=>{this.obtenerRoles()})}irACrearRol(){this.router.navigate(["/rol-create"])}irAEditarRol(t){this.router.navigate([`/rol-update/${t}`])}confirmarEliminarRol(t){this.rolAEliminarId=t,this.mostrarModalEliminar=!0}eliminarRolConfirmado(){this.rolAEliminarId!==null&&(this.eliminarRol(this.rolAEliminarId),this.cerrarModalEliminar())}cerrarModalEliminar(){this.mostrarModalEliminar=!1}filtrarRoles(){this.rolesFiltrados=this.filterService.filtrar(this.roles,this.textoBusqueda),this.paginaActual=1,this.calcularPaginacion()}calcularPaginacion(){let t=this.paginationService.paginate(this.rolesFiltrados,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.rolesPaginados=t.paginatedData}cambiarPagina(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarRolesPaginados()}actualizarRolesPaginados(){let t=this.paginationService.paginate(this.rolesFiltrados,this.paginaActual,this.elementosPorPagina);this.rolesPaginados=t.paginatedData}static \u0275fac=function(e){return new(e||i)(ie($a),ie(xc),ie(ht),ie(zi),ie(Yi))};static \u0275cmp=ot({type:i,selectors:[["app-rol"]],standalone:!0,features:[st],decls:28,vars:7,consts:[["type","text","placeholder","Buscar...",3,"ngModelChange","input","ngModel"],[2,"float","right","margin-bottom","10px",3,"click"],["border","1","cellspacing","0","cellpadding","5",2,"width","100%","margin-top","20px"],[4,"ngFor","ngForOf"],[2,"margin-top","20px"],[3,"click","disabled"],["class","modal-eliminar",4,"ngIf"],["class","modal",4,"ngIf"],[3,"click"],[1,"modal-eliminar"],[1,"modal-content-eliminar"],[1,"modal"],[1,"modal-content"],[1,"close",3,"click"],[4,"ngIf"]],template:function(e,r){e&1&&(c(0,"div")(1,"h2"),p(2,"Roles"),l(),c(3,"input",0),pe("ngModelChange",function(o){return ue(r.textoBusqueda,o)||(r.textoBusqueda=o),o}),H("input",function(){return r.filtrarRoles()}),l(),c(4,"button",1),H("click",function(){return r.irACrearRol()}),p(5,"Registrar"),l(),c(6,"table",2)(7,"thead")(8,"tr")(9,"th"),p(10,"Nombre"),l(),c(11,"th"),p(12,"Descripci\xF3n"),l(),c(13,"th"),p(14,"Permisos Vinculados"),l(),c(15,"th"),p(16,"Acciones"),l()()(),c(17,"tbody"),B(18,FP,13,2,"tr",3),l()(),c(19,"div",4)(20,"button",5),H("click",function(){return r.cambiarPagina("previous")}),p(21,"Anterior"),l(),c(22,"span"),p(23),l(),c(24,"button",5),H("click",function(){return r.cambiarPagina("next")}),p(25,"Siguiente"),l()()(),B(26,NP,8,0,"div",6)(27,BP,8,2,"div",7)),e&2&&(g(3),de("ngModel",r.textoBusqueda),g(15),M("ngForOf",r.rolesPaginados),g(2),M("disabled",r.paginaActual===1),g(3),Ke(" P\xE1gina ",r.paginaActual," "),g(),M("disabled",r.paginaActual===r.totalPaginas),g(2),M("ngIf",r.mostrarModalEliminar),g(),M("ngIf",r.mostrarModalPermisos))},dependencies:[ct,Bt,yt,ji,Mt,kt,Pt,Tt],styles:['@charset "UTF-8";table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:10px;text-align:left;border:1px solid #ddd}button[_ngcontent-%COMP%]{margin-right:5px;padding:5px 10px;cursor:pointer}button[_ngcontent-%COMP%]:focus{outline:none}.modal[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:25px;border-radius:8px;width:400px;text-align:left;box-shadow:0 4px 10px #0003;position:relative}.close[_ngcontent-%COMP%]{position:absolute;top:10px;right:15px;font-size:30px;cursor:pointer;border:none;background:none;font-weight:700;color:#666}.close[_ngcontent-%COMP%]:hover{color:#000}ol[_ngcontent-%COMP%]{padding-left:20px;margin:10px 0;color:#444}li[_ngcontent-%COMP%]{padding:5px 0;border-bottom:1px solid #eee}li[_ngcontent-%COMP%]:last-child{border-bottom:none}p[_ngcontent-%COMP%]{color:#888;font-style:italic}.modal-eliminar[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080}.modal-content-eliminar[_ngcontent-%COMP%]{background:#fff;padding:25px;border-radius:8px;width:400px;text-align:center;box-shadow:0 4px 10px #0003;position:relative}h3[_ngcontent-%COMP%]{margin-top:0;font-size:20px;color:#333}button[_ngcontent-%COMP%]{margin:5px}button[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}button[style][_ngcontent-%COMP%]{margin-top:20px}']})};function UP(i,t){i&1&&(c(0,"small"),p(1,"El nombre es obligatorio."),l())}function VP(i,t){i&1&&(c(0,"small"),p(1,"Debe tener al menos 2 caracteres."),l())}function qP(i,t){if(i&1&&(c(0,"div",20),B(1,UP,2,0,"small",21)(2,VP,2,0,"small",21),l()),i&2){Q();let e=ae(9);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function jP(i,t){i&1&&(c(0,"small"),p(1,"La descripci\xF3n es obligatoria."),l())}function zP(i,t){i&1&&(c(0,"small"),p(1,"Debe tener al menos 5 caracteres."),l())}function WP(i,t){if(i&1&&(c(0,"div",20),B(1,jP,2,0,"small",21)(2,zP,2,0,"small",21),l()),i&2){Q();let e=ae(15);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function HP(i,t){if(i&1&&(c(0,"option",22),p(1),l()),i&2){let e=t.$implicit;M("ngValue",e),g(),Ke(" ",e.nombre," ")}}function GP(i,t){if(i&1){let e=Je();c(0,"li"),p(1),c(2,"button",23),H("click",function(){let n=N(e).$implicit,o=Q();return D(o.removePermisoFromSelected(n))}),p(3,"Eliminar"),l()()}if(i&2){let e=t.$implicit;g(),Ke(" ",e.nombre," ")}}var wm=class i{constructor(t,e,r,n){this.rolService=t;this.permisoService=e;this.rolPermisoService=r;this.router=n}rol={nombre:"",descripcion:""};permisos=[];selectedPermisos=[];permisoSeleccionado=null;ngOnInit(){this.cargarPermisos()}cargarPermisos(){this.permisoService.obtenerPermisos().subscribe(t=>{this.permisos=t})}addPermisoToSelected(t){t&&(this.selectedPermisos.push(t),this.permisos=this.permisos.filter(e=>e.id!==t.id)),this.permisoSeleccionado=null}removePermisoFromSelected(t){this.selectedPermisos=this.selectedPermisos.filter(e=>e.id!==t.id),this.permisos.push(t)}crearRol(){this.rolService.crearRol(this.rol).subscribe(t=>{this.selectedPermisos.forEach(e=>{let r={rol:{id:t.id},permiso:{id:e.id}};this.rolPermisoService.crearRolPermiso(r).subscribe()}),this.router.navigate(["/rol"])})}cancelar(){this.router.navigate(["/rol"])}static \u0275fac=function(e){return new(e||i)(ie($a),ie(Ga),ie(xc),ie(ht))};static \u0275cmp=ot({type:i,selectors:[["app-rol-create"]],standalone:!0,features:[st],decls:35,vars:8,consts:[["rolForm","ngForm"],["nombre","ngModel"],["descripcion","ngModel"],[1,"form-container"],[3,"ngSubmit"],[1,"form-group"],["for","nombre"],["id","nombre","name","nombre","placeholder","Nombre del rol","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","descripcion"],["id","descripcion","name","descripcion","placeholder","Descripci\xF3n del rol","required","","minlength","5",1,"form-control",3,"ngModelChange","ngModel"],["for","permisos"],["id","permisos","name","permisos",1,"form-control",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"add-button-container"],["type","button",1,"add-btn",3,"click"],[4,"ngFor","ngForOf"],[1,"button-container"],["type","submit",1,"submit-btn",3,"disabled"],["type","button",1,"cancel-btn",3,"click"],[1,"error-message"],[4,"ngIf"],[3,"ngValue"],["type","button",3,"click"]],template:function(e,r){if(e&1){let n=Je();c(0,"div",3)(1,"h2"),p(2,"Crear Rol"),l(),c(3,"form",4,0),H("ngSubmit",function(){return N(n),D(r.crearRol())}),c(5,"div",5)(6,"label",6),p(7,"Nombre:"),l(),c(8,"input",7,1),pe("ngModelChange",function(a){return N(n),ue(r.rol.nombre,a)||(r.rol.nombre=a),D(a)}),l(),B(10,qP,3,2,"div",8),l(),c(11,"div",5)(12,"label",9),p(13,"Descripci\xF3n:"),l(),c(14,"input",10,2),pe("ngModelChange",function(a){return N(n),ue(r.rol.descripcion,a)||(r.rol.descripcion=a),D(a)}),l(),B(16,WP,3,2,"div",8),l(),c(17,"div",5)(18,"label",11),p(19,"Permisos:"),l(),c(20,"select",12),pe("ngModelChange",function(a){return N(n),ue(r.permisoSeleccionado,a)||(r.permisoSeleccionado=a),D(a)}),B(21,HP,2,2,"option",13),l(),c(22,"div",14)(23,"button",15),H("click",function(){return N(n),D(r.addPermisoToSelected(r.permisoSeleccionado))}),p(24," A\xF1adir Permiso "),l()()(),c(25,"div",5)(26,"label"),p(27,"Permisos seleccionados:"),l(),c(28,"ul"),B(29,GP,4,1,"li",16),l()(),c(30,"div",17)(31,"button",18),p(32,"Crear Rol"),l(),c(33,"button",19),H("click",function(){return N(n),D(r.cancelar())}),p(34,"Cancelar"),l()()()()}if(e&2){let n=ae(4),o=ae(9),a=ae(15);g(8),de("ngModel",r.rol.nombre),g(2),M("ngIf",o.invalid&&(o.dirty||o.touched)),g(4),de("ngModel",r.rol.descripcion),g(2),M("ngIf",a.invalid&&(a.dirty||a.touched)),g(4),de("ngModel",r.permisoSeleccionado),g(),M("ngForOf",r.permisos),g(8),M("ngForOf",r.selectedPermisos),g(2),M("disabled",n.invalid)}},dependencies:[Mt,Qt,Fi,Ni,kt,Ti,Pt,Jt,ri,xi,Tt,ei,ct,Bt,yt],styles:[".form-container[_ngcontent-%COMP%]{max-width:500px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px;position:relative}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:14px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.error-message[_ngcontent-%COMP%]{color:red;font-size:14px;margin-top:5px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%], .add-btn[_ngcontent-%COMP%]{width:48%;padding:10px;font-size:16px;border-radius:4px;cursor:pointer;border:none}.submit-btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6;cursor:not-allowed}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#218838}.cancel-btn[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#c82333}.add-btn[_ngcontent-%COMP%]{width:auto;min-width:120px;background-color:#007bff;color:#fff;padding:8px 12px;font-size:14px;border-radius:4px;cursor:pointer;border:none}.add-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.add-button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:5px}ul[_ngcontent-%COMP%]{list-style:none;padding:0}li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;padding:8px;background-color:#f0f0f0;border-radius:4px}li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fd7e14;color:#fff;padding:5px 10px;border-radius:4px;border:none;cursor:pointer}li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#e96a0c}"]})};function $P(i,t){i&1&&(c(0,"small"),p(1,"El nombre es obligatorio."),l())}function XP(i,t){i&1&&(c(0,"small"),p(1,"Debe tener al menos 2 caracteres."),l())}function ZP(i,t){if(i&1&&(c(0,"div",20),B(1,$P,2,0,"small",21)(2,XP,2,0,"small",21),l()),i&2){Q();let e=ae(9);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function YP(i,t){i&1&&(c(0,"small"),p(1,"La descripci\xF3n es obligatoria."),l())}function KP(i,t){i&1&&(c(0,"small"),p(1,"Debe tener al menos 5 caracteres."),l())}function JP(i,t){if(i&1&&(c(0,"div",20),B(1,YP,2,0,"small",21)(2,KP,2,0,"small",21),l()),i&2){Q();let e=ae(15);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function QP(i,t){if(i&1&&(c(0,"option",22),p(1),l()),i&2){let e=t.$implicit;M("ngValue",e),g(),Ke(" ",e.nombre," ")}}function eM(i,t){if(i&1){let e=Je();c(0,"li"),p(1),c(2,"button",23),H("click",function(){let n=N(e).$implicit,o=Q();return D(o.removePermisoFromSelected(n))}),p(3,"Eliminar"),l()()}if(i&2){let e=t.$implicit;g(),Ke(" ",e.nombre," ")}}var Sm=class i{constructor(t,e,r,n,o){this.rolService=t;this.permisoService=e;this.rolPermisoService=r;this.route=n;this.router=o}rol={id:0,nombre:"",descripcion:""};permisos=[];selectedPermisos=[];permisoSeleccionado=null;ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("id"));t&&this.rolService.obtenerRolPorId(t).subscribe(e=>{this.rol=e,this.rolPermisoService.obtenerRolPermisos().subscribe(r=>{let n=r.filter(o=>o.rol?.id===this.rol.id);this.selectedPermisos=n.map(o=>o.permiso).filter(o=>o!==void 0),this.permisos=this.permisos.filter(o=>!this.selectedPermisos.some(a=>a.id===o.id))})}),this.cargarPermisos()}cargarPermisos(){this.permisoService.obtenerPermisos().subscribe(t=>{this.permisos=t})}addPermisoToSelected(t){t&&(this.selectedPermisos.push(t),this.permisos=this.permisos.filter(e=>e.id!==t.id)),this.permisoSeleccionado=null}removePermisoFromSelected(t){this.selectedPermisos=this.selectedPermisos.filter(e=>e.id!==t.id),this.permisos.push(t)}actualizarRol(){this.rol.id&&this.rolService.actualizarRol(this.rol.id,this.rol).subscribe(t=>{this.rolPermisoService.obtenerRolPermisos().subscribe(e=>{let r=e.filter(o=>o.rol?.id===t.id).map(o=>o.permiso?.id);e.filter(o=>o.rol?.id===t.id&&!this.selectedPermisos.some(a=>a.id===o.permiso?.id)).forEach(o=>{o.id!==void 0&&this.rolPermisoService.eliminarRolPermiso(o.id).subscribe()}),this.selectedPermisos.forEach(o=>{if(!r.includes(o.id)){let a={rol:{id:t.id},permiso:{id:o.id}};this.rolPermisoService.crearRolPermiso(a).subscribe()}}),this.router.navigate(["/rol"])})})}cancelar(){this.router.navigate(["/rol"])}static \u0275fac=function(e){return new(e||i)(ie($a),ie(Ga),ie(xc),ie(Vi),ie(ht))};static \u0275cmp=ot({type:i,selectors:[["app-rol-update"]],standalone:!0,features:[st],decls:35,vars:8,consts:[["rolForm","ngForm"],["nombre","ngModel"],["descripcion","ngModel"],[1,"form-container"],[3,"ngSubmit"],[1,"form-group"],["for","nombre"],["id","nombre","name","nombre","placeholder","Nombre del rol","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","descripcion"],["id","descripcion","name","descripcion","placeholder","Descripci\xF3n del rol","required","","minlength","5",1,"form-control",3,"ngModelChange","ngModel"],["for","permisos"],["id","permisos","name","permisos",1,"form-control",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"add-button-container"],["type","button",1,"add-btn",3,"click"],[4,"ngFor","ngForOf"],[1,"button-container"],["type","submit",1,"submit-btn",3,"disabled"],["type","button",1,"cancel-btn",3,"click"],[1,"error-message"],[4,"ngIf"],[3,"ngValue"],["type","button",3,"click"]],template:function(e,r){if(e&1){let n=Je();c(0,"div",3)(1,"h2"),p(2,"Actualizar Rol"),l(),c(3,"form",4,0),H("ngSubmit",function(){return N(n),D(r.actualizarRol())}),c(5,"div",5)(6,"label",6),p(7,"Nombre:"),l(),c(8,"input",7,1),pe("ngModelChange",function(a){return N(n),ue(r.rol.nombre,a)||(r.rol.nombre=a),D(a)}),l(),B(10,ZP,3,2,"div",8),l(),c(11,"div",5)(12,"label",9),p(13,"Descripci\xF3n:"),l(),c(14,"input",10,2),pe("ngModelChange",function(a){return N(n),ue(r.rol.descripcion,a)||(r.rol.descripcion=a),D(a)}),l(),B(16,JP,3,2,"div",8),l(),c(17,"div",5)(18,"label",11),p(19,"Permisos:"),l(),c(20,"select",12),pe("ngModelChange",function(a){return N(n),ue(r.permisoSeleccionado,a)||(r.permisoSeleccionado=a),D(a)}),B(21,QP,2,2,"option",13),l(),c(22,"div",14)(23,"button",15),H("click",function(){return N(n),D(r.addPermisoToSelected(r.permisoSeleccionado))}),p(24," A\xF1adir Permiso "),l()()(),c(25,"div",5)(26,"label"),p(27,"Permisos seleccionados:"),l(),c(28,"ul"),B(29,eM,4,1,"li",16),l()(),c(30,"div",17)(31,"button",18),p(32,"Actualizar"),l(),c(33,"button",19),H("click",function(){return N(n),D(r.cancelar())}),p(34,"Cancelar"),l()()()()}if(e&2){let n=ae(4),o=ae(9),a=ae(15);g(8),de("ngModel",r.rol.nombre),g(2),M("ngIf",o.invalid&&(o.dirty||o.touched)),g(4),de("ngModel",r.rol.descripcion),g(2),M("ngIf",a.invalid&&(a.dirty||a.touched)),g(4),de("ngModel",r.permisoSeleccionado),g(),M("ngForOf",r.permisos),g(8),M("ngForOf",r.selectedPermisos),g(2),M("disabled",n.invalid)}},dependencies:[Mt,Qt,Fi,Ni,kt,Ti,Pt,Jt,ri,xi,Tt,ei,ct,Bt,yt],styles:[".form-container[_ngcontent-%COMP%]{max-width:500px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px;position:relative}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:14px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.error-message[_ngcontent-%COMP%]{color:red;font-size:14px;margin-top:5px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%], .add-btn[_ngcontent-%COMP%]{width:48%;padding:10px;font-size:16px;border-radius:4px;cursor:pointer;border:none}.submit-btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6;cursor:not-allowed}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#218838}.cancel-btn[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#c82333}.add-btn[_ngcontent-%COMP%]{width:auto;min-width:120px;background-color:#007bff;color:#fff;padding:8px 12px;font-size:14px;border-radius:4px;cursor:pointer;border:none}.add-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.add-button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:5px}ul[_ngcontent-%COMP%]{list-style:none;padding:0}li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;padding:8px;background-color:#f0f0f0;border-radius:4px}li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fd7e14;color:#fff;padding:5px 10px;border-radius:4px;border:none;cursor:pointer}li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#e96a0c}"]})};var ta=class i{constructor(t){this.http=t}apiUrl=pi.apiUrl;obtenerUsuarios(){return this.http.get(`${this.apiUrl}/usuarios`)}obtenerUsuarioPorId(t){return this.http.get(`${this.apiUrl}/usuarios/${t}`)}crearUsuario(t){let e=lt({},t);return delete e.id,this.http.post(`${this.apiUrl}/usuarios`,e)}actualizarUsuario(t,e){return this.http.put(`${this.apiUrl}/usuarios/${t}`,e)}eliminarUsuario(t){return this.http.delete(`${this.apiUrl}/usuarios/${t}`)}getUsuariosPorRol(t){return this.http.get(`${this.apiUrl}/usuarios/por-rol/${t}`)}static \u0275fac=function(e){return new(e||i)(Et(ui))};static \u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"})};function tM(i,t){if(i&1){let e=Je();c(0,"div",9)(1,"div",10)(2,"h3"),Ee(3,"i",11),p(4," Confirmaci\xF3n"),l(),c(5,"p",12),p(6,"\xBFEst\xE1s seguro de eliminar este usuario?"),l(),c(7,"div",13)(8,"button",14),H("click",function(){N(e);let n=Q();return D(n.eliminarUsuarioConfirmado())}),Ee(9,"i",15),p(10," Confirmar "),l(),c(11,"button",16),H("click",function(){N(e);let n=Q();return D(n.cerrarModal())}),Ee(12,"i",17),p(13," Cancelar "),l()()()()}}function iM(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),p(2),l(),c(3,"td"),p(4),l(),c(5,"td"),p(6),l(),c(7,"td"),p(8),l(),c(9,"td"),p(10),l(),c(11,"td"),p(12),Kt(13,"date"),l(),c(14,"td"),p(15),l(),c(16,"td"),p(17),l(),c(18,"td"),p(19),l(),c(20,"td")(21,"button",18),H("click",function(){let n,o=N(e).$implicit,a=Q();return D(a.irAEditarUsuario((n=o.id)!==null&&n!==void 0?n:0))}),Ee(22,"i",19),p(23," Editar "),l(),c(24,"button",20),H("click",function(){let n,o=N(e).$implicit,a=Q();return D(a.confirmarEliminarUsuario((n=o.id)!==null&&n!==void 0?n:0))}),Ee(25,"i",21),p(26," Eliminar "),l()()()}if(i&2){let e=t.$implicit;g(2),Te(e.nombre),g(2),Te(e.apellido),g(2),Te(e.correo),g(2),Te(e.telefono),g(2),Te(e.direccion),g(2),Te(Dn(13,9,e.fechaNacimiento,"dd/MM/yyyy")),g(3),Te(e.genero),g(2),Te(e.numeroIdentificacion),g(2),Te(e.rol.nombre)}}var Em=class i{constructor(t,e,r,n){this.usuarioService=t;this.router=e;this.filterService=r;this.paginationService=n}usuarios=[];usuariosFiltrados=[];usuariosPaginados=[];textoBusqueda="";paginaActual=1;elementosPorPagina=5;totalPaginas=0;mostrarModal=!1;usuarioAEliminarId=null;ngOnInit(){this.obtenerUsuarios()}obtenerUsuarios(){this.usuarioService.obtenerUsuarios().subscribe(t=>{this.usuarios=t,this.usuariosFiltrados=t,this.calcularPaginacion()})}eliminarUsuario(t){this.usuarioService.eliminarUsuario(t).subscribe(()=>{this.obtenerUsuarios()})}irACrearUsuario(){this.router.navigate(["/usuario-create"])}irAEditarUsuario(t){this.router.navigate([`/usuario-update/${t}`])}confirmarEliminarUsuario(t){this.usuarioAEliminarId=t,this.mostrarModal=!0}eliminarUsuarioConfirmado(){this.usuarioAEliminarId!==null&&(this.eliminarUsuario(this.usuarioAEliminarId),this.cerrarModal())}cerrarModal(){this.mostrarModal=!1,this.usuarioAEliminarId=null}filtrarUsuarios(){this.usuariosFiltrados=this.filterService.filtrar(this.usuarios,this.textoBusqueda),this.paginaActual=1,this.calcularPaginacion()}calcularPaginacion(){let t=this.paginationService.paginate(this.usuariosFiltrados,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.usuariosPaginados=t.paginatedData}cambiarPagina(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarUsuariosPaginados()}actualizarUsuariosPaginados(){let t=this.paginationService.paginate(this.usuariosFiltrados,this.paginaActual,this.elementosPorPagina);this.usuariosPaginados=t.paginatedData}static \u0275fac=function(e){return new(e||i)(ie(ta),ie(ht),ie(zi),ie(Yi))};static \u0275cmp=ot({type:i,selectors:[["app-usuario"]],standalone:!0,features:[st],decls:41,vars:7,consts:[["class","modal",4,"ngIf"],[1,"encabezado"],[1,"acciones"],["type","text","placeholder","Buscar usuario por cualquier campo...",3,"ngModelChange","input","ngModel"],[1,"btn-crear",3,"click"],[1,"fa","fa-plus"],[4,"ngFor","ngForOf"],[1,"paginacion"],[3,"click","disabled"],[1,"modal"],[1,"modal-content","animate"],[1,"fa","fa-exclamation-triangle","text-warning"],[1,"modal-message"],[1,"modal-buttons"],[1,"btn-confirmar",3,"click"],[1,"fa","fa-check"],[1,"btn-cancelar",3,"click"],[1,"fa","fa-times"],[1,"btn-editar",3,"click"],[1,"fa","fa-edit"],[1,"btn-eliminar",3,"click"],[1,"fa","fa-trash"]],template:function(e,r){e&1&&(B(0,tM,14,0,"div",0),c(1,"section",1)(2,"h2"),p(3,"Gesti\xF3n de Usuarios"),l(),c(4,"div",2)(5,"input",3),pe("ngModelChange",function(o){return ue(r.textoBusqueda,o)||(r.textoBusqueda=o),o}),H("input",function(){return r.filtrarUsuarios()}),l(),c(6,"button",4),H("click",function(){return r.irACrearUsuario()}),Ee(7,"i",5),p(8," Registrar "),l()()(),c(9,"table")(10,"thead")(11,"tr")(12,"th"),p(13,"Nombre"),l(),c(14,"th"),p(15,"Apellido"),l(),c(16,"th"),p(17,"Correo"),l(),c(18,"th"),p(19,"Tel\xE9fono"),l(),c(20,"th"),p(21,"Direcci\xF3n"),l(),c(22,"th"),p(23,"Fecha Nac."),l(),c(24,"th"),p(25,"G\xE9nero"),l(),c(26,"th"),p(27,"N\xB0 Identificaci\xF3n"),l(),c(28,"th"),p(29,"Rol"),l(),c(30,"th"),p(31,"Acciones"),l()()(),c(32,"tbody"),B(33,iM,27,12,"tr",6),l()(),c(34,"div",7)(35,"button",8),H("click",function(){return r.cambiarPagina("previous")}),p(36," \u2190 Anterior "),l(),c(37,"span"),p(38),l(),c(39,"button",8),H("click",function(){return r.cambiarPagina("next")}),p(40," Siguiente \u2192 "),l()()),e&2&&(M("ngIf",r.mostrarModal),g(5),de("ngModel",r.textoBusqueda),g(28),M("ngForOf",r.usuariosPaginados),g(2),M("disabled",r.paginaActual===1),g(3),Di("P\xE1gina ",r.paginaActual," de ",r.totalPaginas,""),g(),M("disabled",r.paginaActual===r.totalPaginas))},dependencies:[ct,Bt,yt,cn,ji,Mt,kt,Pt,Tt],styles:['@charset "UTF-8";table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px;border-radius:12px;overflow:hidden;box-shadow:0 10px 25px #0000000d}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:14px 20px;text-align:left;border-bottom:1px solid #ececec}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:linear-gradient(to right,#f3f4f6,#fff);font-weight:600;color:#333}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f1f9ff;transition:.3s ease}button[_ngcontent-%COMP%]{cursor:pointer;border:none;border-radius:8px;padding:8px 14px;font-size:14px;transition:all .3s ease;margin-right:6px;display:inline-flex;align-items:center;gap:6px}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:15px}.btn-crear[_ngcontent-%COMP%]{float:right;background:linear-gradient(to right,#4caf50,#45a049);color:#fff;margin-bottom:20px;box-shadow:0 4px 8px #00000026}.btn-crear[_ngcontent-%COMP%]:hover{background:#3e8e41}.btn-editar[_ngcontent-%COMP%]{background-color:#2196f3;color:#fff}.btn-editar[_ngcontent-%COMP%]:hover{background-color:#0a84d1}.btn-eliminar[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.btn-eliminar[_ngcontent-%COMP%]:hover{background-color:#d32f2f}.modal[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;inset:0;background-color:#00000073;z-index:1000}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:12px;width:100%;max-width:400px;text-align:center;box-shadow:0 12px 24px #0003;animation:_ngcontent-%COMP%_fadeZoom .25s ease-out}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:18px;font-size:20px;font-weight:600;color:#2c3e50}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px;margin-top:20px}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-buttons[_ngcontent-%COMP%]   .btn-confirmar[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;padding:10px 20px;border-radius:6px}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-buttons[_ngcontent-%COMP%]   .btn-confirmar[_ngcontent-%COMP%]:hover{background-color:#218838}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-buttons[_ngcontent-%COMP%]   .btn-cancelar[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;padding:10px 20px;border-radius:6px}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-buttons[_ngcontent-%COMP%]   .btn-cancelar[_ngcontent-%COMP%]:hover{background-color:#c82333}@keyframes _ngcontent-%COMP%_fadeZoom{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.paginacion[_ngcontent-%COMP%]{margin-top:25px;display:flex;justify-content:center;align-items:center;gap:16px}.paginacion[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 18px;background-color:#f0f0f0}.paginacion[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#dedede}.paginacion[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.paginacion[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;color:#666}input[_ngcontent-%COMP%]{padding:10px 12px;width:100%;max-width:340px;border:1px solid #ccc;border-radius:6px;margin-bottom:15px;background:#fff}input[_ngcontent-%COMP%]:focus{outline:none;border-color:#2196f3;box-shadow:0 0 0 2px #2196f340}@media (max-width: 768px){table[_ngcontent-%COMP%]{font-size:13px}button[_ngcontent-%COMP%]{padding:6px 10px;font-size:13px}input[_ngcontent-%COMP%]{width:100%}.btn-crear[_ngcontent-%COMP%]{float:none;display:block;width:100%;margin-bottom:20px}}']})};function rM(i,t){i&1&&(c(0,"small"),p(1,"El campo es obligatorio."),l())}function nM(i,t){i&1&&(c(0,"small"),p(1,"Debe tener al menos 2 caracteres."),l())}function oM(i,t){if(i&1&&(c(0,"div",42),B(1,rM,2,0,"small",43)(2,nM,2,0,"small",43),l()),i&2){Q();let e=ae(9);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function aM(i,t){i&1&&(c(0,"small"),p(1,"El campo es obligatorio."),l())}function sM(i,t){i&1&&(c(0,"small"),p(1,"Debe tener al menos 2 caracteres."),l())}function lM(i,t){if(i&1&&(c(0,"div",42),B(1,aM,2,0,"small",43)(2,sM,2,0,"small",43),l()),i&2){Q();let e=ae(15);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function cM(i,t){i&1&&(c(0,"small"),p(1,"El campo es obligatorio."),l())}function dM(i,t){i&1&&(c(0,"small"),p(1,"Debe ser un correo valido."),l())}function uM(i,t){if(i&1&&(c(0,"div",42),B(1,cM,2,0,"small",43)(2,dM,2,0,"small",43),l()),i&2){Q();let e=ae(21);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.email)}}function pM(i,t){i&1&&(c(0,"small"),p(1,"El campo es obligatorio."),l())}function fM(i,t){i&1&&(c(0,"small"),p(1,"Debe tener al menos 2 caracteres."),l())}function mM(i,t){if(i&1&&(c(0,"div",42),B(1,pM,2,0,"small",43)(2,fM,2,0,"small",43),l()),i&2){Q();let e=ae(27);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function hM(i,t){i&1&&(c(0,"small"),p(1,"El campo es obligatorio."),l())}function gM(i,t){i&1&&(c(0,"small"),p(1,"Debe tener al menos 2 caracteres."),l())}function vM(i,t){if(i&1&&(c(0,"div",42),B(1,hM,2,0,"small",43)(2,gM,2,0,"small",43),l()),i&2){Q();let e=ae(33);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function _M(i,t){i&1&&(c(0,"small"),p(1,"El campo es obligatorio."),l())}function bM(i,t){i&1&&(c(0,"small"),p(1,"Debe tener al menos 2 caracteres."),l())}function xM(i,t){if(i&1&&(c(0,"div",42),B(1,_M,2,0,"small",43)(2,bM,2,0,"small",43),l()),i&2){Q();let e=ae(39);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function yM(i,t){i&1&&(c(0,"small"),p(1,"El campo es obligatorio."),l())}function CM(i,t){if(i&1&&(c(0,"div",42),B(1,yM,2,0,"small",43),l()),i&2){Q();let e=ae(45);g(),M("ngIf",e.errors==null?null:e.errors.required)}}function wM(i,t){i&1&&(c(0,"small"),p(1,"Debe seleccionar un genero."),l())}function SM(i,t){if(i&1&&(c(0,"div",42),B(1,wM,2,0,"small",43),l()),i&2){Q();let e=ae(51);g(),M("ngIf",e.errors==null?null:e.errors.required)}}function EM(i,t){i&1&&(c(0,"small"),p(1,"El campo es obligatorio."),l())}function PM(i,t){i&1&&(c(0,"small"),p(1,"Debe tener al menos 2 caracteres."),l())}function MM(i,t){if(i&1&&(c(0,"div",42),B(1,EM,2,0,"small",43)(2,PM,2,0,"small",43),l()),i&2){Q();let e=ae(51);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function TM(i,t){i&1&&(c(0,"small"),p(1,"El campo es obligatorio."),l())}function kM(i,t){i&1&&(c(0,"small"),p(1,"Debe tener al menos 2 caracteres."),l())}function AM(i,t){if(i&1&&(c(0,"div",42),B(1,TM,2,0,"small",43)(2,kM,2,0,"small",43),l()),i&2){Q();let e=ae(64);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function IM(i,t){if(i&1&&(c(0,"option",44),p(1),l()),i&2){let e=t.$implicit;M("value",e.id),g(),Ke(" ",e.nombre," ")}}function OM(i,t){i&1&&(c(0,"div",42)(1,"small"),p(2,"Debe seleccionar un rol."),l()())}var Pm=class i{constructor(t,e,r){this.usuarioService=t;this.rolService=e;this.router=r}usuario={nombre:"",apellido:"",correo:"",contrasena:"",telefono:"",direccion:"",fechaNacimiento:"",genero:"",numeroIdentificacion:"",rol:{id:0,nombre:"",descripcion:""}};roles=[];ngOnInit(){this.cargarRoles()}cargarRoles(){this.rolService.obtenerRoles().subscribe(t=>{this.roles=t})}crearUsuario(){this.usuarioService.crearUsuario(this.usuario).subscribe(()=>{this.router.navigate(["/usuario"])})}cancelar(){this.router.navigate(["/usuario"])}static \u0275fac=function(e){return new(e||i)(ie(ta),ie($a),ie(ht))};static \u0275cmp=ot({type:i,selectors:[["app-usuario-create"]],standalone:!0,features:[st],decls:79,vars:24,consts:[["usuarioForm","ngForm"],["nombre","ngModel"],["apellido","ngModel"],["correo","ngModel"],["contrasena","ngModel"],["telefono","ngModel"],["direccion","ngModel"],["fechaNacimiento","ngModel"],["genero","ngModel"],["numeroIdentificacion","ngModel"],[1,"form-container"],[3,"ngSubmit"],[1,"form-group"],["for","nombre"],["id","nombre","type","text","name","nombre","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","apellido"],["id","apellido","type","text","name","apellido","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["for","correo"],["id","correo","type","email","name","correo","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","contrasena"],["id","contrasena","type","password","name","contrasena","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["for","telefono"],["id","telefono","type","text","name","telefono","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["for","direccion"],["id","direccion","type","text","name","direccion","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["for","fechaNacimiento"],["id","fechaNacimiento","type","date","name","fechaNacimiento","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","genero"],["id","genero","name","genero","required","",1,"form-control",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],["value","Masculino"],["value","Femenino"],["for","numeroIdentificacion"],["id","numeroIdentificacion","type","text","name","numeroIdentificacion","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["for","rol"],["id","rol","name","rol","required","",1,"form-control",3,"ngModelChange","ngModel"],["disabled","","selected","",3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"button-container"],["type","submit",1,"submit-btn",3,"disabled"],["type","button",1,"cancel-btn",3,"click"],[1,"error-message"],[4,"ngIf"],[3,"value"]],template:function(e,r){if(e&1){let n=Je();c(0,"div",10)(1,"h2"),p(2,"Crear Usuario"),l(),c(3,"form",11,0),H("ngSubmit",function(){return N(n),D(r.crearUsuario())}),c(5,"div",12)(6,"label",13),p(7,"Nombre:"),l(),c(8,"input",14,1),pe("ngModelChange",function(a){return N(n),ue(r.usuario.nombre,a)||(r.usuario.nombre=a),D(a)}),l(),B(10,oM,3,2,"div",15),l(),c(11,"div",12)(12,"label",16),p(13,"Apellido:"),l(),c(14,"input",17,2),pe("ngModelChange",function(a){return N(n),ue(r.usuario.apellido,a)||(r.usuario.apellido=a),D(a)}),l(),B(16,lM,3,2,"div",15),l(),c(17,"div",12)(18,"label",18),p(19,"Correo:"),l(),c(20,"input",19,3),pe("ngModelChange",function(a){return N(n),ue(r.usuario.correo,a)||(r.usuario.correo=a),D(a)}),l(),B(22,uM,3,2,"div",15),l(),c(23,"div",12)(24,"label",20),p(25,"Contrase\xF1a:"),l(),c(26,"input",21,4),pe("ngModelChange",function(a){return N(n),ue(r.usuario.contrasena,a)||(r.usuario.contrasena=a),D(a)}),l(),B(28,mM,3,2,"div",15),l(),c(29,"div",12)(30,"label",22),p(31,"Telefono:"),l(),c(32,"input",23,5),pe("ngModelChange",function(a){return N(n),ue(r.usuario.telefono,a)||(r.usuario.telefono=a),D(a)}),l(),B(34,vM,3,2,"div",15),l(),c(35,"div",12)(36,"label",24),p(37,"Direccion:"),l(),c(38,"input",25,6),pe("ngModelChange",function(a){return N(n),ue(r.usuario.direccion,a)||(r.usuario.direccion=a),D(a)}),l(),B(40,xM,3,2,"div",15),l(),c(41,"div",12)(42,"label",26),p(43,"Fecha de nacimiento:"),l(),c(44,"input",27,7),pe("ngModelChange",function(a){return N(n),ue(r.usuario.fechaNacimiento,a)||(r.usuario.fechaNacimiento=a),D(a)}),l(),B(46,CM,2,1,"div",15),l(),c(47,"div",12)(48,"label",28),p(49,"Genero:"),l(),c(50,"select",29,8),pe("ngModelChange",function(a){return N(n),ue(r.usuario.genero,a)||(r.usuario.genero=a),D(a)}),c(52,"option",30),p(53,"Seleccione un genero"),l(),c(54,"option",31),p(55,"Masculino"),l(),c(56,"option",32),p(57,"Femenino"),l()(),B(58,SM,2,1,"div",15)(59,MM,3,2,"div",15),l(),c(60,"div",12)(61,"label",33),p(62,"Numero de Identificacion:"),l(),c(63,"input",34,9),pe("ngModelChange",function(a){return N(n),ue(r.usuario.numeroIdentificacion,a)||(r.usuario.numeroIdentificacion=a),D(a)}),l(),B(65,AM,3,2,"div",15),l(),c(66,"div",12)(67,"label",35),p(68,"Rol:"),l(),c(69,"select",36),pe("ngModelChange",function(a){return N(n),ue(r.usuario.rol.id,a)||(r.usuario.rol.id=a),D(a)}),c(70,"option",37),p(71,"Seleccione un rol"),l(),B(72,IM,2,2,"option",38),l(),B(73,OM,3,0,"div",15),l(),c(74,"div",39)(75,"button",40),p(76,"Crear"),l(),c(77,"button",41),H("click",function(){return N(n),D(r.cancelar())}),p(78,"Cancelar"),l()()()()}if(e&2){let n=ae(4),o=ae(9),a=ae(15),d=ae(21),u=ae(27),m=ae(33),v=ae(39),y=ae(45),w=ae(51),x=ae(64);g(8),de("ngModel",r.usuario.nombre),g(2),M("ngIf",o.invalid&&(o.dirty||o.touched)),g(4),de("ngModel",r.usuario.apellido),g(2),M("ngIf",a.invalid&&(a.dirty||a.touched)),g(4),de("ngModel",r.usuario.correo),g(2),M("ngIf",d.invalid&&(d.dirty||d.touched)),g(4),de("ngModel",r.usuario.contrasena),g(2),M("ngIf",u.invalid&&(u.dirty||u.touched)),g(4),de("ngModel",r.usuario.telefono),g(2),M("ngIf",m.invalid&&(m.dirty||m.touched)),g(4),de("ngModel",r.usuario.direccion),g(2),M("ngIf",v.invalid&&(v.dirty||v.touched)),g(4),de("ngModel",r.usuario.fechaNacimiento),g(2),M("ngIf",y.invalid&&(y.dirty||y.touched)),g(4),de("ngModel",r.usuario.genero),g(8),M("ngIf",w.invalid&&(w.dirty||w.touched)),g(),M("ngIf",w.invalid&&(w.dirty||w.touched)),g(4),de("ngModel",r.usuario.numeroIdentificacion),g(2),M("ngIf",x.invalid&&(x.dirty||x.touched)),g(4),de("ngModel",r.usuario.rol.id),g(),M("value",0),g(2),M("ngForOf",r.roles),g(),M("ngIf",(r.usuario.rol==null?null:r.usuario.rol.id)===0&&n.submitted),g(2),M("disabled",n.invalid)}},dependencies:[Mt,Qt,Fi,Ni,kt,Ti,Pt,Jt,ri,xi,Tt,ei,ct,Bt,yt],styles:[".form-container[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:14px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.error-message[_ngcontent-%COMP%]{color:red;font-size:14px;margin-top:5px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{width:48%;padding:10px;font-size:16px;border-radius:4px;cursor:pointer}.submit-btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;border:none}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6;cursor:not-allowed}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#218838}.cancel-btn[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})};function FM(i,t){i&1&&(c(0,"small"),p(1,"El nombre es obligatorio."),l())}function NM(i,t){i&1&&(c(0,"small"),p(1,"Debe tener al menos 2 caracteres."),l())}function LM(i,t){if(i&1&&(c(0,"div",38),B(1,FM,2,0,"small",39)(2,NM,2,0,"small",39),l()),i&2){Q();let e=ae(9);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function DM(i,t){i&1&&(c(0,"small"),p(1,"El apellido es obligatorio."),l())}function RM(i,t){i&1&&(c(0,"small"),p(1,"Debe tener al menos 2 caracteres."),l())}function BM(i,t){if(i&1&&(c(0,"div",38),B(1,DM,2,0,"small",39)(2,RM,2,0,"small",39),l()),i&2){Q();let e=ae(15);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function UM(i,t){i&1&&(c(0,"small"),p(1,"El correo es obligatorio."),l())}function VM(i,t){i&1&&(c(0,"small"),p(1,"Ingrese un correo v\xE1lido."),l())}function qM(i,t){if(i&1&&(c(0,"div",38),B(1,UM,2,0,"small",39)(2,VM,2,0,"small",39),l()),i&2){Q();let e=ae(22);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.email)}}function jM(i,t){i&1&&(c(0,"small"),p(1,"El tel\xE9fono es obligatorio."),l())}function zM(i,t){i&1&&(c(0,"small"),p(1,"Debe tener al menos 8 caracteres."),l())}function WM(i,t){if(i&1&&(c(0,"div",38),B(1,jM,2,0,"small",39)(2,zM,2,0,"small",39),l()),i&2){Q();let e=ae(28);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function HM(i,t){i&1&&(c(0,"small"),p(1,"La direcci\xF3n es obligatoria."),l())}function GM(i,t){if(i&1&&(c(0,"div",38),B(1,HM,2,0,"small",39),l()),i&2){Q();let e=ae(34);g(),M("ngIf",e.errors==null?null:e.errors.required)}}function $M(i,t){i&1&&(c(0,"small"),p(1,"La fecha de nacimiento es obligatoria."),l())}function XM(i,t){if(i&1&&(c(0,"div",38),B(1,$M,2,0,"small",39),l()),i&2){Q();let e=ae(40);g(),M("ngIf",e.errors==null?null:e.errors.required)}}function ZM(i,t){i&1&&(c(0,"small"),p(1,"El n\xFAmero de identificaci\xF3n es obligatorio."),l())}function YM(i,t){if(i&1&&(c(0,"div",38),B(1,ZM,2,0,"small",39),l()),i&2){Q();let e=ae(58);g(),M("ngIf",e.errors==null?null:e.errors.required)}}function KM(i,t){if(i&1&&(c(0,"option",40),p(1),l()),i&2){let e=t.$implicit;M("value",e.id),g(),Ke(" ",e.nombre," ")}}var fp=class i{constructor(t,e,r,n){this.usuarioService=t;this.rolService=e;this.route=r;this.router=n}usuario={id:0,nombre:"",apellido:"",correo:"",contrasena:"",telefono:"",direccion:"",fechaNacimiento:"",genero:"",numeroIdentificacion:"",rol:{id:0,nombre:"",descripcion:""}};roles=[];ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("id"));t&&this.usuarioService.obtenerUsuarioPorId(t).subscribe(e=>{this.usuario=e}),this.rolService.obtenerRoles().subscribe(e=>{this.roles=e})}actualizarUsuario(){this.usuario.id&&this.usuarioService.actualizarUsuario(this.usuario.id,this.usuario).subscribe(()=>{this.router.navigate(["/usuario"])})}cancelar(){this.router.navigate(["/usuario"])}static \u0275fac=function(e){return new(e||i)(ie(ta),ie($a),ie(Vi),ie(ht))};static \u0275cmp=ot({type:i,selectors:[["app-usuario-update"]],standalone:!0,features:[st],decls:70,vars:18,consts:[["usuarioForm","ngForm"],["nombre","ngModel"],["apellido","ngModel"],["correo","ngModel"],["telefono","ngModel"],["direccion","ngModel"],["fechaNacimiento","ngModel"],["numeroIdentificacion","ngModel"],[1,"form-container"],[3,"ngSubmit"],[1,"form-group"],["for","nombre"],["id","nombre","name","nombre","placeholder","Nombre","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","apellido"],["id","apellido","name","apellido","placeholder","Apellido","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["for","correo"],["id","correo","name","correo","type","email","placeholder","Correo electr\xF3nico","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","telefono"],["id","telefono","name","telefono","placeholder","Tel\xE9fono","required","","minlength","8",1,"form-control",3,"ngModelChange","ngModel"],["for","direccion"],["id","direccion","name","direccion","placeholder","Direcci\xF3n","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","fechaNacimiento"],["id","fechaNacimiento","name","fechaNacimiento","type","date","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","genero"],["id","genero","name","genero","required","",1,"form-control",3,"ngModelChange","ngModel"],["value",""],["value","Masculino"],["value","Femenino"],["value","Otro"],["for","numeroIdentificacion"],["id","numeroIdentificacion","name","numeroIdentificacion","placeholder","N\xFAmero de Identificaci\xF3n","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","rol"],["id","rol","name","rol","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"button-container"],["type","submit",1,"submit-btn",3,"disabled"],["type","button",1,"cancel-btn",3,"click"],[1,"error-message"],[4,"ngIf"],[3,"value"]],template:function(e,r){if(e&1){let n=Je();c(0,"div",8)(1,"h2"),p(2,"Actualizar Usuario"),l(),c(3,"form",9,0),H("ngSubmit",function(){return N(n),D(r.actualizarUsuario())}),c(5,"div",10)(6,"label",11),p(7,"Nombre:"),l(),c(8,"input",12,1),pe("ngModelChange",function(a){return N(n),ue(r.usuario.nombre,a)||(r.usuario.nombre=a),D(a)}),l(),B(10,LM,3,2,"div",13),l(),c(11,"div",10)(12,"label",14),p(13,"Apellido:"),l(),c(14,"input",15,2),pe("ngModelChange",function(a){return N(n),ue(r.usuario.apellido,a)||(r.usuario.apellido=a),D(a)}),l(),B(16,BM,3,2,"div",13),l(),c(17,"div",10)(18,"label",16),p(19,"Correo:"),l(),p(20,"7 "),c(21,"input",17,3),pe("ngModelChange",function(a){return N(n),ue(r.usuario.correo,a)||(r.usuario.correo=a),D(a)}),l(),B(23,qM,3,2,"div",13),l(),c(24,"div",10)(25,"label",18),p(26,"Tel\xE9fono:"),l(),c(27,"input",19,4),pe("ngModelChange",function(a){return N(n),ue(r.usuario.telefono,a)||(r.usuario.telefono=a),D(a)}),l(),B(29,WM,3,2,"div",13),l(),c(30,"div",10)(31,"label",20),p(32,"Direcci\xF3n:"),l(),c(33,"input",21,5),pe("ngModelChange",function(a){return N(n),ue(r.usuario.direccion,a)||(r.usuario.direccion=a),D(a)}),l(),B(35,GM,2,1,"div",13),l(),c(36,"div",10)(37,"label",22),p(38,"Fecha de Nacimiento:"),l(),c(39,"input",23,6),pe("ngModelChange",function(a){return N(n),ue(r.usuario.fechaNacimiento,a)||(r.usuario.fechaNacimiento=a),D(a)}),l(),B(41,XM,2,1,"div",13),l(),c(42,"div",10)(43,"label",24),p(44,"G\xE9nero:"),l(),c(45,"select",25),pe("ngModelChange",function(a){return N(n),ue(r.usuario.genero,a)||(r.usuario.genero=a),D(a)}),c(46,"option",26),p(47,"Seleccione un g\xE9nero"),l(),c(48,"option",27),p(49,"Masculino"),l(),c(50,"option",28),p(51,"Femenino"),l(),c(52,"option",29),p(53,"Otro"),l()()(),c(54,"div",10)(55,"label",30),p(56,"N\xFAmero de Identificaci\xF3n:"),l(),c(57,"input",31,7),pe("ngModelChange",function(a){return N(n),ue(r.usuario.numeroIdentificacion,a)||(r.usuario.numeroIdentificacion=a),D(a)}),l(),B(59,YM,2,1,"div",13),l(),c(60,"div",10)(61,"label",32),p(62,"Rol:"),l(),c(63,"select",33),pe("ngModelChange",function(a){return N(n),ue(r.usuario.rol.id,a)||(r.usuario.rol.id=a),D(a)}),B(64,KM,2,2,"option",34),l()(),c(65,"div",35)(66,"button",36),p(67,"Actualizar"),l(),c(68,"button",37),H("click",function(){return N(n),D(r.cancelar())}),p(69,"Cancelar"),l()()()()}if(e&2){let n=ae(4),o=ae(9),a=ae(15),d=ae(22),u=ae(28),m=ae(34),v=ae(40),y=ae(58);g(8),de("ngModel",r.usuario.nombre),g(2),M("ngIf",o.invalid&&(o.dirty||o.touched)),g(4),de("ngModel",r.usuario.apellido),g(2),M("ngIf",a.invalid&&(a.dirty||a.touched)),g(5),de("ngModel",r.usuario.correo),g(2),M("ngIf",d.invalid&&(d.dirty||d.touched)),g(4),de("ngModel",r.usuario.telefono),g(2),M("ngIf",u.invalid&&(u.dirty||u.touched)),g(4),de("ngModel",r.usuario.direccion),g(2),M("ngIf",m.invalid&&(m.dirty||m.touched)),g(4),de("ngModel",r.usuario.fechaNacimiento),g(2),M("ngIf",v.invalid&&(v.dirty||v.touched)),g(4),de("ngModel",r.usuario.genero),g(12),de("ngModel",r.usuario.numeroIdentificacion),g(2),M("ngIf",y.invalid&&(y.dirty||y.touched)),g(4),de("ngModel",r.usuario.rol.id),g(),M("ngForOf",r.roles),g(2),M("disabled",n.invalid)}},dependencies:[Mt,Qt,Fi,Ni,kt,Ti,Pt,Jt,ri,xi,Tt,ei,ct,Bt,yt],styles:[".form-container[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:14px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.error-message[_ngcontent-%COMP%]{color:red;font-size:16px;margin-top:5px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{width:48%;padding:10px;font-size:16px;border-radius:4px;cursor:pointer}.submit-btn[_ngcontent-%COMP%]{background-color:#ffc107;color:#fff;border:none}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6;cursor:not-allowed}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#e0a800}.cancel-btn[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})};var Vn=class i{constructor(t){this.http=t}apiUrl=pi.apiUrl;obtenerMateriales(){return this.http.get(`${this.apiUrl}/materiales`)}obtenerMaterialPorId(t){return this.http.get(`${this.apiUrl}/materiales/${t}`)}obtenerMaterialPorCodigo(t){return this.http.get(`${this.apiUrl}/materiales/codigo/${t}`)}crearMaterial(t){let e=lt({},t);return delete e.id,this.http.post(`${this.apiUrl}/materiales`,e)}actualizarMaterial(t,e){return this.http.put(`${this.apiUrl}/materiales/${t}`,e)}eliminarMaterial(t){return this.http.delete(`${this.apiUrl}/materiales/${t}`)}static \u0275fac=function(e){return new(e||i)(Et(ui))};static \u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"})};function JM(i,t){if(i&1){let e=Je();c(0,"div",9)(1,"div",10)(2,"h3"),Ee(3,"i",11),p(4," Confirmaci\xF3n"),l(),c(5,"p",12),p(6,"\xBFEst\xE1s seguro de eliminar este material?"),l(),c(7,"div",13)(8,"button",14),H("click",function(){N(e);let n=Q();return D(n.eliminarMaterialConfirmado())}),Ee(9,"i",15),p(10," Confirmar "),l(),c(11,"button",16),H("click",function(){N(e);let n=Q();return D(n.cerrarModal())}),Ee(12,"i",17),p(13," Cancelar "),l()()()()}}function QM(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),p(2),l(),c(3,"td"),p(4),l(),c(5,"td"),p(6),l(),c(7,"td"),p(8),l(),c(9,"td"),p(10),l(),c(11,"td"),p(12),l(),c(13,"td"),p(14),l(),c(15,"td")(16,"button",18),H("click",function(){let n,o=N(e).$implicit,a=Q();return D(a.irAEditarMaterial((n=o.id)!==null&&n!==void 0?n:0))}),Ee(17,"i",19),p(18," Editar "),l(),c(19,"button",20),H("click",function(){let n,o=N(e).$implicit,a=Q();return D(a.confirmarEliminarMaterial((n=o.id)!==null&&n!==void 0?n:0))}),Ee(20,"i",21),p(21," Eliminar "),l(),c(22,"button",22),H("click",function(){let n=N(e).$implicit,o=Q();return D(o.generarReporteMaterial(n.id))}),Ee(23,"i",23),p(24," Generar Reporte "),l()()()}if(i&2){let e=t.$implicit;g(2),Te(e.codigoInventario),g(2),Te(e.nombre),g(2),Te(e.unidadMedida),g(2),Te(e.precioUnitario),g(2),Te(e.stockActual),g(2),Te(e.stockMinimo),g(2),Te(e.categoria||"N/A")}}var Mm=class i{constructor(t,e,r,n){this.materialService=t;this.router=e;this.filterService=r;this.paginationService=n}materiales=[];materialesFiltrados=[];materialesPaginados=[];textoBusqueda="";paginaActual=1;elementosPorPagina=5;totalPaginas=0;mostrarModal=!1;materialAEliminarId=null;ngOnInit(){this.obtenerMateriales()}obtenerMateriales(){this.materialService.obtenerMateriales().subscribe(t=>{this.materiales=t,this.materialesFiltrados=t,this.calcularPaginacion()})}eliminarMaterial(t){this.materialService.eliminarMaterial(t).subscribe(()=>{this.obtenerMateriales()})}irACrearMaterial(){this.router.navigate(["/material-create"])}irAEditarMaterial(t){this.router.navigate([`/material-update/${t}`])}confirmarEliminarMaterial(t){this.materialAEliminarId=t,this.mostrarModal=!0}eliminarMaterialConfirmado(){this.materialAEliminarId!==null&&(this.eliminarMaterial(this.materialAEliminarId),this.cerrarModal())}cerrarModal(){this.mostrarModal=!1,this.materialAEliminarId=null}filtrarMateriales(){this.materialesFiltrados=this.filterService.filtrar(this.materiales,this.textoBusqueda),this.paginaActual=1,this.calcularPaginacion()}calcularPaginacion(){let t=this.paginationService.paginate(this.materialesFiltrados,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.materialesPaginados=t.paginatedData}cambiarPagina(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarMaterialesPaginados()}actualizarMaterialesPaginados(){let t=this.paginationService.paginate(this.materialesFiltrados,this.paginaActual,this.elementosPorPagina);this.materialesPaginados=t.paginatedData}generarReporteMaterial(t){this.router.navigate([`/material-reporte/${t}`])}static \u0275fac=function(e){return new(e||i)(ie(Vn),ie(ht),ie(zi),ie(Yi))};static \u0275cmp=ot({type:i,selectors:[["app-material"]],standalone:!0,features:[st],decls:37,vars:7,consts:[["class","modal",4,"ngIf"],[1,"encabezado"],[1,"acciones"],["type","text","placeholder","Buscar material por cualquier campo...",3,"ngModelChange","input","ngModel"],[1,"btn-crear",3,"click"],[1,"fa","fa-plus"],[4,"ngFor","ngForOf"],[1,"paginacion"],[3,"click","disabled"],[1,"modal"],[1,"modal-content","animate"],[1,"fa","fa-exclamation-triangle","text-warning"],[1,"modal-message"],[1,"modal-buttons"],[1,"btn-confirmar",3,"click"],[1,"fa","fa-check"],[1,"btn-cancelar",3,"click"],[1,"fa","fa-times"],[1,"btn-editar",3,"click"],[1,"fa","fa-edit"],[1,"btn-eliminar",3,"click"],[1,"fa","fa-trash"],[1,"btn","mt-2","btn-reporte",3,"click"],[1,"bi","bi-file-earmark-text"]],template:function(e,r){e&1&&(B(0,JM,14,0,"div",0),c(1,"section",1)(2,"h2"),p(3,"Gesti\xF3n de Materiales"),l(),c(4,"div",2)(5,"input",3),pe("ngModelChange",function(o){return ue(r.textoBusqueda,o)||(r.textoBusqueda=o),o}),H("input",function(){return r.filtrarMateriales()}),l(),c(6,"button",4),H("click",function(){return r.irACrearMaterial()}),Ee(7,"i",5),p(8," Registrar "),l()()(),c(9,"table")(10,"thead")(11,"tr")(12,"th"),p(13,"C\xF3digo"),l(),c(14,"th"),p(15,"Nombre"),l(),c(16,"th"),p(17,"Unidad"),l(),c(18,"th"),p(19,"Precio Unitario"),l(),c(20,"th"),p(21,"Stock Actual"),l(),c(22,"th"),p(23,"Stock M\xEDnimo"),l(),c(24,"th"),p(25,"Categor\xEDa"),l(),c(26,"th"),p(27,"Acciones"),l()()(),c(28,"tbody"),B(29,QM,25,7,"tr",6),l()(),c(30,"div",7)(31,"button",8),H("click",function(){return r.cambiarPagina("previous")}),p(32," \u2190 Anterior "),l(),c(33,"span"),p(34),l(),c(35,"button",8),H("click",function(){return r.cambiarPagina("next")}),p(36," Siguiente \u2192 "),l()()),e&2&&(M("ngIf",r.mostrarModal),g(5),de("ngModel",r.textoBusqueda),g(24),M("ngForOf",r.materialesPaginados),g(2),M("disabled",r.paginaActual===1),g(3),Di("P\xE1gina ",r.paginaActual," de ",r.totalPaginas,""),g(),M("disabled",r.paginaActual===r.totalPaginas))},dependencies:[ct,Bt,yt,ji,Mt,kt,Pt,Tt],styles:['@charset "UTF-8";table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px;box-shadow:0 4px 10px #0000000d;border-radius:8px;overflow:hidden}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:14px 18px;text-align:left;border-bottom:1px solid #e0e0e0}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:linear-gradient(to right,#f0f0f0,#f9f9f9);font-weight:600;color:#444}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f4f8fb;transition:background-color .3s}button[_ngcontent-%COMP%]{cursor:pointer;border:none;border-radius:6px;padding:8px 14px;font-size:14px;transition:all .3s ease;margin-right:6px;display:inline-flex;align-items:center;gap:6px}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:15px}.btn-crear[_ngcontent-%COMP%]{float:right;background:linear-gradient(to right,#4caf50,#45a049);color:#fff;margin-bottom:20px}.btn-crear[_ngcontent-%COMP%]:hover{background:#3e8e41;color:#fff}.btn-editar[_ngcontent-%COMP%]{background-color:#2196f3;color:#fff}.btn-editar[_ngcontent-%COMP%]:hover{background-color:#0b7dda}.btn-eliminar[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.btn-eliminar[_ngcontent-%COMP%]:hover{background-color:#c62828}.btn-cancelar[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.btn-cancelar[_ngcontent-%COMP%]:hover{background-color:#c82333}.btn-confirmar[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.btn-confirmar[_ngcontent-%COMP%]:hover{background-color:#218838}.btn-reporte[_ngcontent-%COMP%]{border:1px solid #28a745;color:#28a745;background-color:transparent}.btn-reporte[_ngcontent-%COMP%]:hover{background-color:#28a745;color:#fff}.modal[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;inset:0;background-color:#00000073;z-index:1000}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:10px;width:90%;max-width:400px;text-align:center;box-shadow:0 12px 24px #00000026;animation:_ngcontent-%COMP%_fadeZoom .25s ease-out}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;margin-bottom:12px;color:#2c3e50}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-message[_ngcontent-%COMP%]{font-size:15px;color:#555;margin-bottom:20px}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px}@keyframes _ngcontent-%COMP%_fadeZoom{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.paginacion[_ngcontent-%COMP%]{margin-top:25px;display:flex;justify-content:center;align-items:center;gap:16px}.paginacion[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 18px;background-color:#f0f0f0}.paginacion[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#dedede}.paginacion[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.paginacion[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;color:#666}input[_ngcontent-%COMP%]{padding:10px 12px;width:100%;max-width:320px;border:1px solid #ccc;border-radius:6px;margin-bottom:15px}input[_ngcontent-%COMP%]:focus{outline:none;border-color:#2196f3;box-shadow:0 0 0 2px #2196f333}@media (max-width: 768px){table[_ngcontent-%COMP%]{font-size:13px}button[_ngcontent-%COMP%]{padding:6px 10px;font-size:13px}input[_ngcontent-%COMP%]{width:100%}.btn-crear[_ngcontent-%COMP%]{float:none;display:block;width:100%;margin-bottom:20px}.modal-content[_ngcontent-%COMP%]{padding:20px!important}.modal-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:10px!important}.modal-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}']})};function eT(i,t){i&1&&(c(0,"small"),p(1,"Campo obligatorio."),l())}function tT(i,t){i&1&&(c(0,"small"),p(1,"Debe tener al menos 2 caracteres."),l())}function iT(i,t){if(i&1&&(c(0,"div",30),B(1,eT,2,0,"small",31)(2,tT,2,0,"small",31),l()),i&2){Q();let e=ae(9);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function rT(i,t){i&1&&(c(0,"small"),p(1,"Campo obligatorio."),l())}function nT(i,t){i&1&&(c(0,"small"),p(1,"Debe tener al menos 2 caracteres."),l())}function oT(i,t){if(i&1&&(c(0,"div",30),B(1,rT,2,0,"small",31)(2,nT,2,0,"small",31),l()),i&2){Q();let e=ae(15);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function aT(i,t){i&1&&(c(0,"small"),p(1,"Campo obligatorio."),l())}function sT(i,t){if(i&1&&(c(0,"div",30),B(1,aT,2,0,"small",31),l()),i&2){Q();let e=ae(25);g(),M("ngIf",e.errors==null?null:e.errors.required)}}function lT(i,t){i&1&&(c(0,"small"),p(1,"Campo obligatorio."),l())}function cT(i,t){if(i&1&&(c(0,"div",30),B(1,lT,2,0,"small",31),l()),i&2){Q();let e=ae(31);g(),M("ngIf",e.errors==null?null:e.errors.required)}}function dT(i,t){i&1&&(c(0,"small"),p(1,"Campo obligatorio."),l())}function uT(i,t){if(i&1&&(c(0,"div",30),B(1,dT,2,0,"small",31),l()),i&2){Q();let e=ae(37);g(),M("ngIf",e.errors==null?null:e.errors.required)}}function pT(i,t){i&1&&(c(0,"small"),p(1,"Campo obligatorio."),l())}function fT(i,t){if(i&1&&(c(0,"div",30),B(1,pT,2,0,"small",31),l()),i&2){Q();let e=ae(43);g(),M("ngIf",e.errors==null?null:e.errors.required)}}var Tm=class i{constructor(t,e){this.materialService=t;this.router=e}material={codigoInventario:"",nombre:"",descripcion:"",unidadMedida:"",precioUnitario:0,stockActual:0,stockMinimo:0,categoria:""};ngOnInit(){}crearMaterial(){this.materialService.crearMaterial(this.material).subscribe(()=>{this.router.navigate(["/material"])})}cancelar(){this.router.navigate(["/material"])}static \u0275fac=function(e){return new(e||i)(ie(Vn),ie(ht))};static \u0275cmp=ot({type:i,selectors:[["app-material-create"]],standalone:!0,features:[st],decls:54,vars:15,consts:[["materialForm","ngForm"],["codigoInventario","ngModel"],["nombre","ngModel"],["unidadMedida","ngModel"],["precioUnitario","ngModel"],["stockActual","ngModel"],["stockMinimo","ngModel"],[1,"form-container"],[3,"ngSubmit"],[1,"form-group"],["for","codigoInventario"],["id","codigoInventario","type","text","name","codigoInventario","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","nombre"],["id","nombre","type","text","name","nombre","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["for","descripcion"],["id","descripcion","name","descripcion","rows","3",1,"form-control",3,"ngModelChange","ngModel"],["for","unidadMedida"],["id","unidadMedida","type","text","name","unidadMedida","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","precioUnitario"],["id","precioUnitario","type","number","step","0.01","name","precioUnitario","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","stockActual"],["id","stockActual","type","number","name","stockActual","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","stockMinimo"],["id","stockMinimo","type","number","name","stockMinimo","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","categoria"],["id","categoria","type","text","name","categoria",1,"form-control",3,"ngModelChange","ngModel"],[1,"button-container"],["type","submit",1,"submit-btn",3,"disabled"],["type","button",1,"cancel-btn",3,"click"],[1,"error-message"],[4,"ngIf"]],template:function(e,r){if(e&1){let n=Je();c(0,"div",7)(1,"h2"),p(2,"Registrar Material"),l(),c(3,"form",8,0),H("ngSubmit",function(){return N(n),D(r.crearMaterial())}),c(5,"div",9)(6,"label",10),p(7,"C\xF3digo de Inventario:"),l(),c(8,"input",11,1),pe("ngModelChange",function(a){return N(n),ue(r.material.codigoInventario,a)||(r.material.codigoInventario=a),D(a)}),l(),B(10,iT,3,2,"div",12),l(),c(11,"div",9)(12,"label",13),p(13,"Nombre:"),l(),c(14,"input",14,2),pe("ngModelChange",function(a){return N(n),ue(r.material.nombre,a)||(r.material.nombre=a),D(a)}),l(),B(16,oT,3,2,"div",12),l(),c(17,"div",9)(18,"label",15),p(19,"Descripci\xF3n:"),l(),c(20,"textarea",16),pe("ngModelChange",function(a){return N(n),ue(r.material.descripcion,a)||(r.material.descripcion=a),D(a)}),l()(),c(21,"div",9)(22,"label",17),p(23,"Unidad de Medida:"),l(),c(24,"input",18,3),pe("ngModelChange",function(a){return N(n),ue(r.material.unidadMedida,a)||(r.material.unidadMedida=a),D(a)}),l(),B(26,sT,2,1,"div",12),l(),c(27,"div",9)(28,"label",19),p(29,"Precio Unitario:"),l(),c(30,"input",20,4),pe("ngModelChange",function(a){return N(n),ue(r.material.precioUnitario,a)||(r.material.precioUnitario=a),D(a)}),l(),B(32,cT,2,1,"div",12),l(),c(33,"div",9)(34,"label",21),p(35,"Stock Actual:"),l(),c(36,"input",22,5),pe("ngModelChange",function(a){return N(n),ue(r.material.stockActual,a)||(r.material.stockActual=a),D(a)}),l(),B(38,uT,2,1,"div",12),l(),c(39,"div",9)(40,"label",23),p(41,"Stock M\xEDnimo:"),l(),c(42,"input",24,6),pe("ngModelChange",function(a){return N(n),ue(r.material.stockMinimo,a)||(r.material.stockMinimo=a),D(a)}),l(),B(44,fT,2,1,"div",12),l(),c(45,"div",9)(46,"label",25),p(47,"Categor\xEDa:"),l(),c(48,"input",26),pe("ngModelChange",function(a){return N(n),ue(r.material.categoria,a)||(r.material.categoria=a),D(a)}),l()(),c(49,"div",27)(50,"button",28),p(51,"Crear"),l(),c(52,"button",29),H("click",function(){return N(n),D(r.cancelar())}),p(53,"Cancelar"),l()()()()}if(e&2){let n=ae(4),o=ae(9),a=ae(15),d=ae(25),u=ae(31),m=ae(37),v=ae(43);g(8),de("ngModel",r.material.codigoInventario),g(2),M("ngIf",o.invalid&&(o.dirty||o.touched)),g(4),de("ngModel",r.material.nombre),g(2),M("ngIf",a.invalid&&(a.dirty||a.touched)),g(4),de("ngModel",r.material.descripcion),g(4),de("ngModel",r.material.unidadMedida),g(2),M("ngIf",d.invalid&&(d.dirty||d.touched)),g(4),de("ngModel",r.material.precioUnitario),g(2),M("ngIf",u.invalid&&(u.dirty||u.touched)),g(4),de("ngModel",r.material.stockActual),g(2),M("ngIf",m.invalid&&(m.dirty||m.touched)),g(4),de("ngModel",r.material.stockMinimo),g(2),M("ngIf",v.invalid&&(v.dirty||v.touched)),g(4),de("ngModel",r.material.categoria),g(2),M("disabled",n.invalid)}},dependencies:[Mt,Qt,kt,Qi,Pt,Jt,ri,xi,Tt,ei,ct,yt],styles:[".form-container[_ngcontent-%COMP%]{max-width:500px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:14px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.error-message[_ngcontent-%COMP%]{color:red;font-size:14px;margin-top:5px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{width:48%;padding:10px;font-size:16px;border-radius:4px;cursor:pointer}.submit-btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;border:none}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6;cursor:not-allowed}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#218838}.cancel-btn[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})};function mT(i,t){i&1&&(c(0,"small"),p(1,"Campo obligatorio."),l())}function hT(i,t){i&1&&(c(0,"small"),p(1,"Debe tener al menos 2 caracteres."),l())}function gT(i,t){if(i&1&&(c(0,"div",30),B(1,mT,2,0,"small",31)(2,hT,2,0,"small",31),l()),i&2){Q();let e=ae(9);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function vT(i,t){i&1&&(c(0,"small"),p(1,"Campo obligatorio."),l())}function _T(i,t){i&1&&(c(0,"small"),p(1,"Debe tener al menos 2 caracteres."),l())}function bT(i,t){if(i&1&&(c(0,"div",30),B(1,vT,2,0,"small",31)(2,_T,2,0,"small",31),l()),i&2){Q();let e=ae(15);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function xT(i,t){i&1&&(c(0,"small"),p(1,"Campo obligatorio."),l())}function yT(i,t){if(i&1&&(c(0,"div",30),B(1,xT,2,0,"small",31),l()),i&2){Q();let e=ae(25);g(),M("ngIf",e.errors==null?null:e.errors.required)}}function CT(i,t){i&1&&(c(0,"small"),p(1,"Campo obligatorio."),l())}function wT(i,t){if(i&1&&(c(0,"div",30),B(1,CT,2,0,"small",31),l()),i&2){Q();let e=ae(31);g(),M("ngIf",e.errors==null?null:e.errors.required)}}function ST(i,t){i&1&&(c(0,"small"),p(1,"Campo obligatorio."),l())}function ET(i,t){if(i&1&&(c(0,"div",30),B(1,ST,2,0,"small",31),l()),i&2){Q();let e=ae(37);g(),M("ngIf",e.errors==null?null:e.errors.required)}}function PT(i,t){i&1&&(c(0,"small"),p(1,"Campo obligatorio."),l())}function MT(i,t){if(i&1&&(c(0,"div",30),B(1,PT,2,0,"small",31),l()),i&2){Q();let e=ae(43);g(),M("ngIf",e.errors==null?null:e.errors.required)}}var km=class i{constructor(t,e,r){this.route=t;this.router=e;this.materialService=r}material={codigoInventario:"",nombre:"",descripcion:"",unidadMedida:"",precioUnitario:0,stockActual:0,stockMinimo:0,categoria:""};id;ngOnInit(){this.id=Number(this.route.snapshot.paramMap.get("id")),this.obtenerMaterialPorId(this.id)}obtenerMaterialPorId(t){this.materialService.obtenerMaterialPorId(t).subscribe(e=>{this.material=e})}actualizarMaterial(){this.materialService.actualizarMaterial(this.id,this.material).subscribe(()=>{this.router.navigate(["/material"])})}cancelar(){this.router.navigate(["/material"])}static \u0275fac=function(e){return new(e||i)(ie(Vi),ie(ht),ie(Vn))};static \u0275cmp=ot({type:i,selectors:[["app-material-update"]],standalone:!0,features:[st],decls:54,vars:15,consts:[["materialForm","ngForm"],["codigoInventario","ngModel"],["nombre","ngModel"],["unidadMedida","ngModel"],["precioUnitario","ngModel"],["stockActual","ngModel"],["stockMinimo","ngModel"],[1,"form-container"],[3,"ngSubmit"],[1,"form-group"],["for","codigoInventario"],["id","codigoInventario","type","text","name","codigoInventario","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","nombre"],["id","nombre","type","text","name","nombre","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["for","descripcion"],["id","descripcion","name","descripcion","rows","3",1,"form-control",3,"ngModelChange","ngModel"],["for","unidadMedida"],["id","unidadMedida","type","text","name","unidadMedida","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","precioUnitario"],["id","precioUnitario","type","number","step","0.01","name","precioUnitario","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","stockActual"],["id","stockActual","type","number","name","stockActual","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","stockMinimo"],["id","stockMinimo","type","number","name","stockMinimo","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","categoria"],["id","categoria","type","text","name","categoria",1,"form-control",3,"ngModelChange","ngModel"],[1,"button-container"],["type","submit",1,"submit-btn",3,"disabled"],["type","button",1,"cancel-btn",3,"click"],[1,"error-message"],[4,"ngIf"]],template:function(e,r){if(e&1){let n=Je();c(0,"div",7)(1,"h2"),p(2,"Actualizar Material"),l(),c(3,"form",8,0),H("ngSubmit",function(){return N(n),D(r.actualizarMaterial())}),c(5,"div",9)(6,"label",10),p(7,"C\xF3digo de Inventario:"),l(),c(8,"input",11,1),pe("ngModelChange",function(a){return N(n),ue(r.material.codigoInventario,a)||(r.material.codigoInventario=a),D(a)}),l(),B(10,gT,3,2,"div",12),l(),c(11,"div",9)(12,"label",13),p(13,"Nombre:"),l(),c(14,"input",14,2),pe("ngModelChange",function(a){return N(n),ue(r.material.nombre,a)||(r.material.nombre=a),D(a)}),l(),B(16,bT,3,2,"div",12),l(),c(17,"div",9)(18,"label",15),p(19,"Descripci\xF3n:"),l(),c(20,"textarea",16),pe("ngModelChange",function(a){return N(n),ue(r.material.descripcion,a)||(r.material.descripcion=a),D(a)}),l()(),c(21,"div",9)(22,"label",17),p(23,"Unidad de Medida:"),l(),c(24,"input",18,3),pe("ngModelChange",function(a){return N(n),ue(r.material.unidadMedida,a)||(r.material.unidadMedida=a),D(a)}),l(),B(26,yT,2,1,"div",12),l(),c(27,"div",9)(28,"label",19),p(29,"Precio Unitario:"),l(),c(30,"input",20,4),pe("ngModelChange",function(a){return N(n),ue(r.material.precioUnitario,a)||(r.material.precioUnitario=a),D(a)}),l(),B(32,wT,2,1,"div",12),l(),c(33,"div",9)(34,"label",21),p(35,"Stock Actual:"),l(),c(36,"input",22,5),pe("ngModelChange",function(a){return N(n),ue(r.material.stockActual,a)||(r.material.stockActual=a),D(a)}),l(),B(38,ET,2,1,"div",12),l(),c(39,"div",9)(40,"label",23),p(41,"Stock M\xEDnimo:"),l(),c(42,"input",24,6),pe("ngModelChange",function(a){return N(n),ue(r.material.stockMinimo,a)||(r.material.stockMinimo=a),D(a)}),l(),B(44,MT,2,1,"div",12),l(),c(45,"div",9)(46,"label",25),p(47,"Categor\xEDa:"),l(),c(48,"input",26),pe("ngModelChange",function(a){return N(n),ue(r.material.categoria,a)||(r.material.categoria=a),D(a)}),l()(),c(49,"div",27)(50,"button",28),p(51,"Actualizar"),l(),c(52,"button",29),H("click",function(){return N(n),D(r.cancelar())}),p(53,"Cancelar"),l()()()()}if(e&2){let n=ae(4),o=ae(9),a=ae(15),d=ae(25),u=ae(31),m=ae(37),v=ae(43);g(8),de("ngModel",r.material.codigoInventario),g(2),M("ngIf",o.invalid&&(o.dirty||o.touched)),g(4),de("ngModel",r.material.nombre),g(2),M("ngIf",a.invalid&&(a.dirty||a.touched)),g(4),de("ngModel",r.material.descripcion),g(4),de("ngModel",r.material.unidadMedida),g(2),M("ngIf",d.invalid&&(d.dirty||d.touched)),g(4),de("ngModel",r.material.precioUnitario),g(2),M("ngIf",u.invalid&&(u.dirty||u.touched)),g(4),de("ngModel",r.material.stockActual),g(2),M("ngIf",m.invalid&&(m.dirty||m.touched)),g(4),de("ngModel",r.material.stockMinimo),g(2),M("ngIf",v.invalid&&(v.dirty||v.touched)),g(4),de("ngModel",r.material.categoria),g(2),M("disabled",n.invalid)}},dependencies:[ct,yt,Mt,Qt,kt,Qi,Pt,Jt,ri,xi,Tt,ei],styles:[".form-container[_ngcontent-%COMP%]{max-width:500px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:14px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.error-message[_ngcontent-%COMP%]{color:red;font-size:14px;margin-top:5px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{width:48%;padding:10px;font-size:16px;border-radius:4px;cursor:pointer}.submit-btn[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.cancel-btn[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})};var fo=class i{constructor(t){this.http=t}apiUrl=pi.apiUrl;obtenerEquipos(){return this.http.get(`${this.apiUrl}/equipos`)}obtenerEquipoPorId(t){return this.http.get(`${this.apiUrl}/equipos/${t}`)}obtenerEquipoPorCodigo(t){return this.http.get(`${this.apiUrl}/equipos/codigo/${t}`)}crearEquipo(t){let e=lt({},t);return delete e.id,this.http.post(`${this.apiUrl}/equipos`,e)}actualizarEquipo(t,e){return this.http.put(`${this.apiUrl}/equipos/${t}`,e)}eliminarEquipo(t){return this.http.delete(`${this.apiUrl}/equipos/${t}`)}static \u0275fac=function(e){return new(e||i)(Et(ui))};static \u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"})};function TT(i,t){if(i&1){let e=Je();c(0,"div",9)(1,"div",10)(2,"h3"),Ee(3,"i",11),p(4," Confirmaci\xF3n"),l(),c(5,"p",12),p(6,"\xBFEst\xE1s seguro de eliminar este equipo?"),l(),c(7,"div",13)(8,"button",14),H("click",function(){N(e);let n=Q();return D(n.eliminarEquipoConfirmado())}),Ee(9,"i",15),p(10," Confirmar "),l(),c(11,"button",16),H("click",function(){N(e);let n=Q();return D(n.cerrarModal())}),Ee(12,"i",17),p(13," Cancelar "),l()()()()}}function kT(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),p(2),l(),c(3,"td"),p(4),l(),c(5,"td"),p(6),l(),c(7,"td"),p(8),l(),c(9,"td"),p(10),Kt(11,"currency"),l(),c(12,"td"),p(13),l(),c(14,"td")(15,"button",18),H("click",function(){let n,o=N(e).$implicit,a=Q();return D(a.irAEditarEquipo((n=o.id)!==null&&n!==void 0?n:0))}),Ee(16,"i",19),p(17," Editar "),l(),c(18,"button",20),H("click",function(){let n,o=N(e).$implicit,a=Q();return D(a.confirmarEliminarEquipo((n=o.id)!==null&&n!==void 0?n:0))}),Ee(19,"i",21),p(20," Eliminar "),l()()()}if(i&2){let e=t.$implicit;g(2),Te(e.codigoActivo),g(2),Te(e.nombre),g(2),Te(e.unidadMedida),g(2),Te(e.tipoEquipo||"N/A"),g(2),Te(I2(11,6,e.precioUnitario,"USD","symbol","1.2-2")),g(3),Te(e.fechaAdquisicion||"No registrada")}}var Am=class i{constructor(t,e,r,n){this.equipoService=t;this.router=e;this.filterService=r;this.paginationService=n}equipos=[];equiposFiltrados=[];equiposPaginados=[];textoBusqueda="";paginaActual=1;elementosPorPagina=5;totalPaginas=0;mostrarModal=!1;equipoAEliminarId=null;ngOnInit(){this.obtenerEquipos()}obtenerEquipos(){this.equipoService.obtenerEquipos().subscribe(t=>{this.equipos=t,this.equiposFiltrados=t,this.calcularPaginacion()})}eliminarEquipo(t){this.equipoService.eliminarEquipo(t).subscribe(()=>{this.obtenerEquipos()})}irACrearEquipo(){this.router.navigate(["/equipo-create"])}irAEditarEquipo(t){this.router.navigate([`/equipo-update/${t}`])}confirmarEliminarEquipo(t){this.equipoAEliminarId=t,this.mostrarModal=!0}eliminarEquipoConfirmado(){this.equipoAEliminarId!==null&&(this.eliminarEquipo(this.equipoAEliminarId),this.cerrarModal())}cerrarModal(){this.mostrarModal=!1,this.equipoAEliminarId=null}filtrarEquipos(){this.equiposFiltrados=this.filterService.filtrar(this.equipos,this.textoBusqueda),this.paginaActual=1,this.calcularPaginacion()}calcularPaginacion(){let t=this.paginationService.paginate(this.equiposFiltrados,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.equiposPaginados=t.paginatedData}cambiarPagina(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarEquiposPaginados()}actualizarEquiposPaginados(){let t=this.paginationService.paginate(this.equiposFiltrados,this.paginaActual,this.elementosPorPagina);this.equiposPaginados=t.paginatedData}static \u0275fac=function(e){return new(e||i)(ie(fo),ie(ht),ie(zi),ie(Yi))};static \u0275cmp=ot({type:i,selectors:[["app-equipo"]],standalone:!0,features:[st],decls:35,vars:7,consts:[["class","modal",4,"ngIf"],[1,"encabezado"],[1,"acciones"],["type","text","placeholder","Buscar equipo por cualquier campo...",3,"ngModelChange","input","ngModel"],[1,"btn-crear",3,"click"],[1,"fa","fa-plus"],[4,"ngFor","ngForOf"],[1,"paginacion"],[3,"click","disabled"],[1,"modal"],[1,"modal-content","animate"],[1,"fa","fa-exclamation-triangle","text-warning"],[1,"modal-message"],[1,"modal-buttons"],[1,"btn-confirmar",3,"click"],[1,"fa","fa-check"],[1,"btn-cancelar",3,"click"],[1,"fa","fa-times"],[1,"btn-editar",3,"click"],[1,"fa","fa-edit"],[1,"btn-eliminar",3,"click"],[1,"fa","fa-trash"]],template:function(e,r){e&1&&(B(0,TT,14,0,"div",0),c(1,"section",1)(2,"h2"),p(3,"Gesti\xF3n de Equipos"),l(),c(4,"div",2)(5,"input",3),pe("ngModelChange",function(o){return ue(r.textoBusqueda,o)||(r.textoBusqueda=o),o}),H("input",function(){return r.filtrarEquipos()}),l(),c(6,"button",4),H("click",function(){return r.irACrearEquipo()}),Ee(7,"i",5),p(8," Registrar "),l()()(),c(9,"table")(10,"thead")(11,"tr")(12,"th"),p(13,"C\xF3digo"),l(),c(14,"th"),p(15,"Nombre"),l(),c(16,"th"),p(17,"Unidad"),l(),c(18,"th"),p(19,"Tipo"),l(),c(20,"th"),p(21,"Precio Unitario"),l(),c(22,"th"),p(23,"Fecha de Adquisici\xF3n"),l(),c(24,"th"),p(25,"Acciones"),l()()(),c(26,"tbody"),B(27,kT,21,11,"tr",6),l()(),c(28,"div",7)(29,"button",8),H("click",function(){return r.cambiarPagina("previous")}),p(30," \u2190 Anterior "),l(),c(31,"span"),p(32),l(),c(33,"button",8),H("click",function(){return r.cambiarPagina("next")}),p(34," Siguiente \u2192 "),l()()),e&2&&(M("ngIf",r.mostrarModal),g(5),de("ngModel",r.textoBusqueda),g(22),M("ngForOf",r.equiposPaginados),g(2),M("disabled",r.paginaActual===1),g(3),Di("P\xE1gina ",r.paginaActual," de ",r.totalPaginas,""),g(),M("disabled",r.paginaActual===r.totalPaginas))},dependencies:[ct,Bt,yt,ea,ji,Mt,kt,Pt,Tt],styles:['@charset "UTF-8";table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px;box-shadow:0 4px 10px #0000000d;border-radius:8px;overflow:hidden}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:14px 18px;text-align:left;border-bottom:1px solid #e0e0e0}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:linear-gradient(to right,#f0f0f0,#f9f9f9);font-weight:600;color:#444}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f4f8fb;transition:background-color .3s}button[_ngcontent-%COMP%]{cursor:pointer;border:none;border-radius:6px;padding:8px 14px;font-size:14px;transition:all .3s ease;margin-right:6px;display:inline-flex;align-items:center;gap:6px}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:15px}.btn-crear[_ngcontent-%COMP%]{float:right;background:linear-gradient(to right,#4caf50,#45a049);color:#fff;margin-bottom:20px}.btn-crear[_ngcontent-%COMP%]:hover{background:#3e8e41}.btn-editar[_ngcontent-%COMP%]{background-color:#2196f3;color:#fff}.btn-editar[_ngcontent-%COMP%]:hover{background-color:#0b7dda}.btn-eliminar[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.btn-eliminar[_ngcontent-%COMP%]:hover{background-color:#c62828}.btn-confirmar[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.btn-confirmar[_ngcontent-%COMP%]:hover{background-color:#218838}.btn-cancelar[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.btn-cancelar[_ngcontent-%COMP%]:hover{background-color:#c82333}.modal[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;inset:0;background-color:#00000073;z-index:1000}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:12px;width:90%;max-width:400px;text-align:center;box-shadow:0 12px 24px #00000026;animation:_ngcontent-%COMP%_fadeZoom .25s ease-out}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;margin-bottom:12px;color:#2c3e50}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-message[_ngcontent-%COMP%]{font-size:15px;color:#555;margin-bottom:20px}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px}@keyframes _ngcontent-%COMP%_fadeZoom{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.paginacion[_ngcontent-%COMP%]{margin-top:25px;display:flex;justify-content:center;align-items:center;gap:16px}.paginacion[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 18px;background-color:#f0f0f0}.paginacion[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#dedede}.paginacion[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.paginacion[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;color:#666}input[_ngcontent-%COMP%]{padding:10px 12px;width:100%;max-width:320px;border:1px solid #ccc;border-radius:6px;margin-bottom:15px}input[_ngcontent-%COMP%]:focus{outline:none;border-color:#2196f3;box-shadow:0 0 0 2px #2196f333}@media (max-width: 768px){table[_ngcontent-%COMP%]{font-size:13px}button[_ngcontent-%COMP%]{padding:6px 10px;font-size:13px}input[_ngcontent-%COMP%]{width:100%}.btn-crear[_ngcontent-%COMP%]{float:none;display:block;width:100%;margin-bottom:20px}.modal-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:10px}.modal-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}']})};function AT(i,t){i&1&&(c(0,"small"),p(1,"Campo obligatorio."),l())}function IT(i,t){i&1&&(c(0,"small"),p(1,"Debe tener al menos 2 caracteres."),l())}function OT(i,t){if(i&1&&(c(0,"div",26),B(1,AT,2,0,"small",27)(2,IT,2,0,"small",27),l()),i&2){Q();let e=ae(9);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function FT(i,t){i&1&&(c(0,"small"),p(1,"Campo obligatorio."),l())}function NT(i,t){i&1&&(c(0,"small"),p(1,"Debe tener al menos 2 caracteres."),l())}function LT(i,t){if(i&1&&(c(0,"div",26),B(1,FT,2,0,"small",27)(2,NT,2,0,"small",27),l()),i&2){Q();let e=ae(15);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function DT(i,t){i&1&&(c(0,"small"),p(1,"Campo obligatorio."),l())}function RT(i,t){if(i&1&&(c(0,"div",26),B(1,DT,2,0,"small",27),l()),i&2){Q();let e=ae(25);g(),M("ngIf",e.errors==null?null:e.errors.required)}}function BT(i,t){i&1&&(c(0,"small"),p(1,"Campo obligatorio."),l())}function UT(i,t){if(i&1&&(c(0,"div",26),B(1,BT,2,0,"small",27),l()),i&2){Q();let e=ae(35);g(),M("ngIf",e.errors==null?null:e.errors.required)}}var Im=class i{constructor(t,e){this.equipoService=t;this.router=e}equipo={codigoActivo:"",nombre:"",descripcion:"",unidadMedida:"",tipoEquipo:"",precioUnitario:0,fechaAdquisicion:""};ngOnInit(){}crearEquipo(){this.equipoService.crearEquipo(this.equipo).subscribe(()=>{this.router.navigate(["/equipo"])})}cancelar(){this.router.navigate(["/equipo"])}static \u0275fac=function(e){return new(e||i)(ie(fo),ie(ht))};static \u0275cmp=ot({type:i,selectors:[["app-equipo-create"]],standalone:!0,features:[st],decls:46,vars:12,consts:[["equipoForm","ngForm"],["codigoActivo","ngModel"],["nombre","ngModel"],["unidadMedida","ngModel"],["precioUnitario","ngModel"],[1,"form-container"],[3,"ngSubmit"],[1,"form-group"],["for","codigoActivo"],["id","codigoActivo","type","text","name","codigoActivo","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","nombre"],["id","nombre","type","text","name","nombre","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["for","descripcion"],["id","descripcion","name","descripcion","rows","3",1,"form-control",3,"ngModelChange","ngModel"],["for","unidadMedida"],["id","unidadMedida","type","text","name","unidadMedida","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","tipoEquipo"],["id","tipoEquipo","type","text","name","tipoEquipo",1,"form-control",3,"ngModelChange","ngModel"],["for","precioUnitario"],["id","precioUnitario","type","number","step","0.01","name","precioUnitario","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","fechaAdquisicion"],["id","fechaAdquisicion","type","date","name","fechaAdquisicion",1,"form-control",3,"ngModelChange","ngModel"],[1,"button-container"],["type","submit",1,"submit-btn",3,"disabled"],["type","button",1,"cancel-btn",3,"click"],[1,"error-message"],[4,"ngIf"]],template:function(e,r){if(e&1){let n=Je();c(0,"div",5)(1,"h2"),p(2,"Registrar Equipo"),l(),c(3,"form",6,0),H("ngSubmit",function(){return N(n),D(r.crearEquipo())}),c(5,"div",7)(6,"label",8),p(7,"C\xF3digo Activo:"),l(),c(8,"input",9,1),pe("ngModelChange",function(a){return N(n),ue(r.equipo.codigoActivo,a)||(r.equipo.codigoActivo=a),D(a)}),l(),B(10,OT,3,2,"div",10),l(),c(11,"div",7)(12,"label",11),p(13,"Nombre:"),l(),c(14,"input",12,2),pe("ngModelChange",function(a){return N(n),ue(r.equipo.nombre,a)||(r.equipo.nombre=a),D(a)}),l(),B(16,LT,3,2,"div",10),l(),c(17,"div",7)(18,"label",13),p(19,"Descripci\xF3n:"),l(),c(20,"textarea",14),pe("ngModelChange",function(a){return N(n),ue(r.equipo.descripcion,a)||(r.equipo.descripcion=a),D(a)}),l()(),c(21,"div",7)(22,"label",15),p(23,"Unidad de Medida:"),l(),c(24,"input",16,3),pe("ngModelChange",function(a){return N(n),ue(r.equipo.unidadMedida,a)||(r.equipo.unidadMedida=a),D(a)}),l(),B(26,RT,2,1,"div",10),l(),c(27,"div",7)(28,"label",17),p(29,"Tipo de Equipo:"),l(),c(30,"input",18),pe("ngModelChange",function(a){return N(n),ue(r.equipo.tipoEquipo,a)||(r.equipo.tipoEquipo=a),D(a)}),l()(),c(31,"div",7)(32,"label",19),p(33,"Precio Unitario:"),l(),c(34,"input",20,4),pe("ngModelChange",function(a){return N(n),ue(r.equipo.precioUnitario,a)||(r.equipo.precioUnitario=a),D(a)}),l(),B(36,UT,2,1,"div",10),l(),c(37,"div",7)(38,"label",21),p(39,"Fecha de Adquisici\xF3n:"),l(),c(40,"input",22),pe("ngModelChange",function(a){return N(n),ue(r.equipo.fechaAdquisicion,a)||(r.equipo.fechaAdquisicion=a),D(a)}),l()(),c(41,"div",23)(42,"button",24),p(43,"Crear"),l(),c(44,"button",25),H("click",function(){return N(n),D(r.cancelar())}),p(45,"Cancelar"),l()()()()}if(e&2){let n=ae(4),o=ae(9),a=ae(15),d=ae(25),u=ae(35);g(8),de("ngModel",r.equipo.codigoActivo),g(2),M("ngIf",o.invalid&&(o.dirty||o.touched)),g(4),de("ngModel",r.equipo.nombre),g(2),M("ngIf",a.invalid&&(a.dirty||a.touched)),g(4),de("ngModel",r.equipo.descripcion),g(4),de("ngModel",r.equipo.unidadMedida),g(2),M("ngIf",d.invalid&&(d.dirty||d.touched)),g(4),de("ngModel",r.equipo.tipoEquipo),g(4),de("ngModel",r.equipo.precioUnitario),g(2),M("ngIf",u.invalid&&(u.dirty||u.touched)),g(4),de("ngModel",r.equipo.fechaAdquisicion),g(2),M("disabled",n.invalid)}},dependencies:[Mt,Qt,kt,Qi,Pt,Jt,ri,xi,Tt,ei,ct,yt],styles:['@charset "UTF-8";.form-container[_ngcontent-%COMP%]{max-width:540px;margin:40px auto;padding:25px 30px;background:linear-gradient(to bottom right,#fff,#f5f5f5);border-radius:12px;box-shadow:0 8px 20px #00000014;transition:all .3s ease-in-out}h2[_ngcontent-%COMP%]{text-align:center;color:#2c3e50;margin-bottom:25px;font-size:22px}.form-group[_ngcontent-%COMP%]{margin-bottom:18px}label[_ngcontent-%COMP%]{font-weight:600;margin-bottom:6px;display:block;color:#34495e}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px 14px;font-size:14px;border:1px solid #ccc;border-radius:6px;transition:border-color .3s,box-shadow .3s;background-color:#fff}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;box-shadow:0 0 0 2px #007bff26;outline:none}.error-message[_ngcontent-%COMP%]{color:#e74c3c;font-size:13px;margin-top:4px;font-style:italic}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:12px;margin-top:25px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{flex:1;padding:12px;font-size:15px;font-weight:500;border-radius:6px;cursor:pointer;transition:background-color .3s ease,transform .2s ease;border:none}.submit-btn[_ngcontent-%COMP%]{background:linear-gradient(to right,#28a745,#218838);color:#fff}.submit-btn[_ngcontent-%COMP%]:disabled{background:#b7d8b7;cursor:not-allowed}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#1e7e34;transform:scale(1.02)}.cancel-btn[_ngcontent-%COMP%]{background:linear-gradient(to right,#dc3545,#c82333);color:#fff}.cancel-btn[_ngcontent-%COMP%]:hover{background:#b21f2d;transform:scale(1.02)}@media (max-width: 576px){.form-container[_ngcontent-%COMP%]{padding:20px}.button-container[_ngcontent-%COMP%]{flex-direction:column;gap:10px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{width:100%}}']})};function VT(i,t){i&1&&(c(0,"small"),p(1,"Campo obligatorio."),l())}function qT(i,t){i&1&&(c(0,"small"),p(1,"Debe tener al menos 2 caracteres."),l())}function jT(i,t){if(i&1&&(c(0,"div",26),B(1,VT,2,0,"small",27)(2,qT,2,0,"small",27),l()),i&2){Q();let e=ae(9);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function zT(i,t){i&1&&(c(0,"small"),p(1,"Campo obligatorio."),l())}function WT(i,t){i&1&&(c(0,"small"),p(1,"Debe tener al menos 2 caracteres."),l())}function HT(i,t){if(i&1&&(c(0,"div",26),B(1,zT,2,0,"small",27)(2,WT,2,0,"small",27),l()),i&2){Q();let e=ae(15);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function GT(i,t){i&1&&(c(0,"small"),p(1,"Campo obligatorio."),l())}function $T(i,t){if(i&1&&(c(0,"div",26),B(1,GT,2,0,"small",27),l()),i&2){Q();let e=ae(25);g(),M("ngIf",e.errors==null?null:e.errors.required)}}function XT(i,t){i&1&&(c(0,"small"),p(1,"Campo obligatorio."),l())}function ZT(i,t){if(i&1&&(c(0,"div",26),B(1,XT,2,0,"small",27),l()),i&2){Q();let e=ae(35);g(),M("ngIf",e.errors==null?null:e.errors.required)}}var Om=class i{constructor(t,e,r){this.route=t;this.router=e;this.equipoService=r}equipo={codigoActivo:"",nombre:"",descripcion:"",unidadMedida:"",tipoEquipo:"",precioUnitario:0,fechaAdquisicion:""};id;ngOnInit(){this.id=Number(this.route.snapshot.paramMap.get("id")),this.obtenerEquipoPorId(this.id)}obtenerEquipoPorId(t){this.equipoService.obtenerEquipoPorId(t).subscribe(e=>{this.equipo=e})}actualizarEquipo(){this.equipoService.actualizarEquipo(this.id,this.equipo).subscribe(()=>{this.router.navigate(["/equipo"])})}cancelar(){this.router.navigate(["/equipo"])}static \u0275fac=function(e){return new(e||i)(ie(Vi),ie(ht),ie(fo))};static \u0275cmp=ot({type:i,selectors:[["app-equipo-update"]],standalone:!0,features:[st],decls:46,vars:12,consts:[["equipoForm","ngForm"],["codigoActivo","ngModel"],["nombre","ngModel"],["unidadMedida","ngModel"],["precioUnitario","ngModel"],[1,"form-container"],[3,"ngSubmit"],[1,"form-group"],["for","codigoActivo"],["id","codigoActivo","type","text","name","codigoActivo","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","nombre"],["id","nombre","type","text","name","nombre","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["for","descripcion"],["id","descripcion","name","descripcion","rows","3",1,"form-control",3,"ngModelChange","ngModel"],["for","unidadMedida"],["id","unidadMedida","type","text","name","unidadMedida","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","tipoEquipo"],["id","tipoEquipo","type","text","name","tipoEquipo",1,"form-control",3,"ngModelChange","ngModel"],["for","precioUnitario"],["id","precioUnitario","type","number","step","0.01","name","precioUnitario","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","fechaAdquisicion"],["id","fechaAdquisicion","type","date","name","fechaAdquisicion",1,"form-control",3,"ngModelChange","ngModel"],[1,"button-container"],["type","submit",1,"submit-btn",3,"disabled"],["type","button",1,"cancel-btn",3,"click"],[1,"error-message"],[4,"ngIf"]],template:function(e,r){if(e&1){let n=Je();c(0,"div",5)(1,"h2"),p(2,"Actualizar Equipo"),l(),c(3,"form",6,0),H("ngSubmit",function(){return N(n),D(r.actualizarEquipo())}),c(5,"div",7)(6,"label",8),p(7,"C\xF3digo Activo:"),l(),c(8,"input",9,1),pe("ngModelChange",function(a){return N(n),ue(r.equipo.codigoActivo,a)||(r.equipo.codigoActivo=a),D(a)}),l(),B(10,jT,3,2,"div",10),l(),c(11,"div",7)(12,"label",11),p(13,"Nombre:"),l(),c(14,"input",12,2),pe("ngModelChange",function(a){return N(n),ue(r.equipo.nombre,a)||(r.equipo.nombre=a),D(a)}),l(),B(16,HT,3,2,"div",10),l(),c(17,"div",7)(18,"label",13),p(19,"Descripci\xF3n:"),l(),c(20,"textarea",14),pe("ngModelChange",function(a){return N(n),ue(r.equipo.descripcion,a)||(r.equipo.descripcion=a),D(a)}),l()(),c(21,"div",7)(22,"label",15),p(23,"Unidad de Medida:"),l(),c(24,"input",16,3),pe("ngModelChange",function(a){return N(n),ue(r.equipo.unidadMedida,a)||(r.equipo.unidadMedida=a),D(a)}),l(),B(26,$T,2,1,"div",10),l(),c(27,"div",7)(28,"label",17),p(29,"Tipo de Equipo:"),l(),c(30,"input",18),pe("ngModelChange",function(a){return N(n),ue(r.equipo.tipoEquipo,a)||(r.equipo.tipoEquipo=a),D(a)}),l()(),c(31,"div",7)(32,"label",19),p(33,"Precio Unitario:"),l(),c(34,"input",20,4),pe("ngModelChange",function(a){return N(n),ue(r.equipo.precioUnitario,a)||(r.equipo.precioUnitario=a),D(a)}),l(),B(36,ZT,2,1,"div",10),l(),c(37,"div",7)(38,"label",21),p(39,"Fecha de Adquisici\xF3n:"),l(),c(40,"input",22),pe("ngModelChange",function(a){return N(n),ue(r.equipo.fechaAdquisicion,a)||(r.equipo.fechaAdquisicion=a),D(a)}),l()(),c(41,"div",23)(42,"button",24),p(43,"Actualizar"),l(),c(44,"button",25),H("click",function(){return N(n),D(r.cancelar())}),p(45,"Cancelar"),l()()()()}if(e&2){let n=ae(4),o=ae(9),a=ae(15),d=ae(25),u=ae(35);g(8),de("ngModel",r.equipo.codigoActivo),g(2),M("ngIf",o.invalid&&(o.dirty||o.touched)),g(4),de("ngModel",r.equipo.nombre),g(2),M("ngIf",a.invalid&&(a.dirty||a.touched)),g(4),de("ngModel",r.equipo.descripcion),g(4),de("ngModel",r.equipo.unidadMedida),g(2),M("ngIf",d.invalid&&(d.dirty||d.touched)),g(4),de("ngModel",r.equipo.tipoEquipo),g(4),de("ngModel",r.equipo.precioUnitario),g(2),M("ngIf",u.invalid&&(u.dirty||u.touched)),g(4),de("ngModel",r.equipo.fechaAdquisicion),g(2),M("disabled",n.invalid)}},dependencies:[ct,yt,Mt,Qt,kt,Qi,Pt,Jt,ri,xi,Tt,ei],styles:['@charset "UTF-8";.form-container[_ngcontent-%COMP%]{max-width:540px;margin:40px auto;padding:25px 30px;background:linear-gradient(to bottom right,#fff,#f5f5f5);border-radius:12px;box-shadow:0 8px 20px #00000014;transition:all .3s ease-in-out}h2[_ngcontent-%COMP%]{text-align:center;color:#2c3e50;margin-bottom:25px;font-size:22px}.form-group[_ngcontent-%COMP%]{margin-bottom:18px}label[_ngcontent-%COMP%]{font-weight:600;margin-bottom:6px;display:block;color:#34495e}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px 14px;font-size:14px;border:1px solid #ccc;border-radius:6px;transition:border-color .3s,box-shadow .3s;background-color:#fff}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none;box-shadow:0 0 0 2px #007bff26}.error-message[_ngcontent-%COMP%]{color:#e74c3c;font-size:13px;margin-top:4px;font-style:italic}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:12px;margin-top:25px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{flex:1;padding:12px;font-size:15px;font-weight:500;border-radius:6px;cursor:pointer;border:none;transition:background-color .3s ease,transform .2s ease}.submit-btn[_ngcontent-%COMP%]{background:linear-gradient(to right,#007bff,#0062cc);color:#fff}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:scale(1.02)}.cancel-btn[_ngcontent-%COMP%]{background:linear-gradient(to right,#dc3545,#c82333);color:#fff}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#b21f2d;transform:scale(1.02)}@media (max-width: 576px){.form-container[_ngcontent-%COMP%]{padding:20px}.button-container[_ngcontent-%COMP%]{flex-direction:column;gap:10px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{width:100%}}']})};var Fm=class i{constructor(t){this.http=t}apiUrl=pi.apiUrl;obtenerBitacoras(){return this.http.get(`${this.apiUrl}/bitacoras`)}obtenerBitacoraPorId(t){return this.http.get(`${this.apiUrl}/bitacoras/${t}`)}static \u0275fac=function(e){return new(e||i)(Et(ui))};static \u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"})};function KT(i,t){if(i&1&&(c(0,"tr")(1,"td"),p(2),l(),c(3,"td"),p(4),Kt(5,"date"),l(),c(6,"td"),p(7),l()()),i&2){let e=t.$implicit,r=Q();g(2),Te(r.generarAccion(e)),g(2),Te(Dn(5,3,e.fecha,"short")),g(3),Te(e.ipOrigen)}}var Nm=class i{constructor(t,e){this.bitacoraService=t;this.router=e}bitacoras=[];bitacorasPaginadas=[];paginaActual=1;elementosPorPagina=10;totalPaginas=0;ngOnInit(){this.obtenerBitacoras()}obtenerBitacoras(){this.bitacoraService.obtenerBitacoras().subscribe(t=>{this.bitacoras=t,this.calcularPaginacion()})}calcularPaginacion(){let t=this.paginate(this.bitacoras,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.bitacorasPaginadas=t.paginatedData}paginate(t,e,r){let n=Math.ceil(t.length/r),o=(e-1)*r,a=o+r;return{totalPages:n,paginatedData:t.slice(o,a)}}cambiarPagina(t){this.paginaActual=t==="previous"?this.paginaActual-1:this.paginaActual+1,this.actualizarBitacorasPaginadas()}actualizarBitacorasPaginadas(){let t=this.paginate(this.bitacoras,this.paginaActual,this.elementosPorPagina);this.bitacorasPaginadas=t.paginatedData}generarAccion(t){return t.tipoAccion==="inicio de sesion"?`Inicio de sesi\xF3n por parte del usuario con id ${t.usuarioId}`:t.tipoAccion==="cierre de sesion"?`Cierre de sesi\xF3n por parte del usuario con id ${t.usuarioId}`:t.tipoAccion==="creacion"?`Creaci\xF3n de la instancia con id ${t.entidadId} de la entidad ${t.entidad} por parte del usuario con id ${t.usuarioId}`:t.tipoAccion==="actualizacion"?`Actualizaci\xF3n de la instancia con id ${t.entidadId} de la entidad ${t.entidad} por parte del usuario con id ${t.usuarioId}`:t.tipoAccion==="eliminacion"?`Eliminaci\xF3n de la instancia con id ${t.entidadId} de la entidad ${t.entidad} por parte del usuario con id ${t.usuarioId}`:"Acci\xF3n desconocida"}static \u0275fac=function(e){return new(e||i)(ie(Fm),ie(ht))};static \u0275cmp=ot({type:i,selectors:[["app-bitacora"]],standalone:!0,features:[st],decls:21,vars:4,consts:[["border","1","cellspacing","0","cellpadding","5",2,"width","100%","margin-top","20px"],[4,"ngFor","ngForOf"],[2,"margin-top","20px"],[3,"click","disabled"]],template:function(e,r){e&1&&(c(0,"div")(1,"h2"),p(2,"Bit\xE1cora"),l(),c(3,"table",0)(4,"thead")(5,"tr")(6,"th"),p(7,"Acci\xF3n"),l(),c(8,"th"),p(9,"Fecha"),l(),c(10,"th"),p(11,"IP Origen"),l()()(),c(12,"tbody"),B(13,KT,8,6,"tr",1),l()(),c(14,"div",2)(15,"button",3),H("click",function(){return r.cambiarPagina("previous")}),p(16,"Anterior"),l(),c(17,"span"),p(18),l(),c(19,"button",3),H("click",function(){return r.cambiarPagina("next")}),p(20,"Siguiente"),l()()()),e&2&&(g(13),M("ngForOf",r.bitacorasPaginadas),g(2),M("disabled",r.paginaActual===1),g(3),Ke(" P\xE1gina ",r.paginaActual," "),g(),M("disabled",r.paginaActual===r.totalPaginas))},dependencies:[ct,Bt,cn,ji,Mt],styles:["table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:10px;text-align:left;border:1px solid #ddd}button[_ngcontent-%COMP%]{margin-right:5px;padding:5px 10px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}button[_ngcontent-%COMP%]:focus{outline:none}button[style][_ngcontent-%COMP%]{margin-top:20px}.modal[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:25px;border-radius:8px;width:400px;text-align:center;box-shadow:0 4px 10px #0003}"]})};var Xa=class i{constructor(t){this.http=t}apiUrl=pi.apiUrl;obtenerTareas(){return this.http.get(`${this.apiUrl}/tareas`)}obtenerTareaPorId(t){return this.http.get(`${this.apiUrl}/tareas/${t}`)}crearTarea(t){let e=lt({},t);return delete e.id,this.http.post(`${this.apiUrl}/tareas`,e)}actualizarTarea(t,e){return this.http.put(`${this.apiUrl}/tareas/${t}`,e)}eliminarTarea(t){return this.http.delete(`${this.apiUrl}/tareas/${t}`)}static \u0275fac=function(e){return new(e||i)(Et(ui))};static \u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"})};var Cc=class i{constructor(t){this.http=t}apiUrl=pi.apiUrl;obtenerServicioTareas(){return this.http.get(`${this.apiUrl}/servicios-tareas`)}obtenerServicioTareaPorId(t){return this.http.get(`${this.apiUrl}/servicios-tareas/${t}`)}crearServicioTarea(t){return this.http.post(`${this.apiUrl}/servicios-tareas`,t)}actualizarServicioTarea(t,e){return this.http.put(`${this.apiUrl}/servicios-tareas/${t}`,e)}eliminarServicioTarea(t){return this.http.delete(`${this.apiUrl}/servicios-tareas/${t}`)}static \u0275fac=function(e){return new(e||i)(Et(ui))};static \u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"})};var wc=class i{constructor(t){this.http=t}apiUrl=pi.apiUrl;obtenerEmpleadoTareas(){return this.http.get(`${this.apiUrl}/empleados-tareas`)}obtenerEmpleadoTareaPorId(t){return this.http.get(`${this.apiUrl}/empleados-tareas/${t}`)}crearEmpleadoTarea(t){return this.http.post(`${this.apiUrl}/empleados-tareas`,t)}actualizarEmpleadoTarea(t,e){return this.http.put(`${this.apiUrl}/empleados-tareas/${t}`,e)}eliminarEmpleadoTarea(t){return this.http.delete(`${this.apiUrl}/empleados-tareas/${t}`)}obtenerPorTareaId(t){return this.http.get(`${this.apiUrl}/empleados-tareas/tarea/${t}`)}static \u0275fac=function(e){return new(e||i)(Et(ui))};static \u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"})};var Sc=class i{constructor(t){this.http=t}apiUrl=pi.apiUrl;obtenerMaterialTareas(){return this.http.get(`${this.apiUrl}/materiales-tareas`)}obtenerMaterialTareaPorId(t){return this.http.get(`${this.apiUrl}/materiales-tareas/${t}`)}crearMaterialTarea(t){return this.http.post(`${this.apiUrl}/materiales-tareas`,t)}actualizarMaterialTarea(t,e){return this.http.put(`${this.apiUrl}/materiales-tareas/${t}`,e)}eliminarMaterialTarea(t){return this.http.delete(`${this.apiUrl}/materiales-tareas/${t}`)}static \u0275fac=function(e){return new(e||i)(Et(ui))};static \u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"})};var Ec=class i{constructor(t){this.http=t}apiUrl=pi.apiUrl;obtenerEquipoTareas(){return this.http.get(`${this.apiUrl}/equipos-tareas`)}obtenerEquipoTareaPorId(t){return this.http.get(`${this.apiUrl}/equipos-tareas/${t}`)}crearEquipoTarea(t){return this.http.post(`${this.apiUrl}/equipos-tareas`,t)}actualizarEquipoTarea(t,e){return this.http.put(`${this.apiUrl}/equipos-tareas/${t}`,e)}eliminarEquipoTarea(t){return this.http.delete(`${this.apiUrl}/equipos-tareas/${t}`)}static \u0275fac=function(e){return new(e||i)(Et(ui))};static \u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"})};function JT(i,t){if(i&1){let e=Je();c(0,"div",3)(1,"div",20)(2,"div",5)(3,"h5",21),p(4),l(),c(5,"p",22)(6,"strong"),p(7,"Descripci\xF3n:"),l(),p(8),l(),c(9,"p",22)(10,"strong"),p(11,"Fecha Inicio:"),l(),p(12),Kt(13,"date"),l(),c(14,"p",22)(15,"strong"),p(16,"Fecha Fin:"),l(),p(17),Kt(18,"date"),l(),c(19,"p",22)(20,"strong"),p(21,"Estado:"),l(),p(22),l(),c(23,"p",22)(24,"strong"),p(25,"Prioridad:"),l(),p(26),l(),c(27,"p",22)(28,"strong"),p(29,"Obra Civil:"),l(),p(30),l(),c(31,"div",23)(32,"button",24),H("click",function(){let n,o=N(e).$implicit,a=Q();return D(a.verServiciosPorTarea((n=o.id)!==null&&n!==void 0?n:0))}),Ee(33,"i",25),p(34," Ver Servicios "),l(),c(35,"button",24),H("click",function(){let n,o=N(e).$implicit,a=Q();return D(a.verEmpleadosPorTarea((n=o.id)!==null&&n!==void 0?n:0))}),Ee(36,"i",25),p(37," Ver Empleados "),l(),c(38,"button",24),H("click",function(){let n,o=N(e).$implicit,a=Q();return D(a.verEquiposPorTarea((n=o.id)!==null&&n!==void 0?n:0))}),Ee(39,"i",25),p(40," Ver Equipos "),l(),c(41,"button",24),H("click",function(){let n,o=N(e).$implicit,a=Q();return D(a.verMaterialesPorTarea((n=o.id)!==null&&n!==void 0?n:0))}),Ee(42,"i",25),p(43," Ver Materiales "),l(),c(44,"button",26),H("click",function(){let n,o=N(e).$implicit,a=Q();return D(a.irAEditarTarea((n=o.id)!==null&&n!==void 0?n:0))}),Ee(45,"i",27),p(46," Editar "),l(),c(47,"button",28),H("click",function(){let n,o=N(e).$implicit,a=Q();return D(a.confirmarEliminarTarea((n=o.id)!==null&&n!==void 0?n:0))}),Ee(48,"i",29),p(49," Eliminar "),l()()()()()}if(i&2){let e=t.$implicit;g(4),Te(e.nombre),g(4),Ke(" ",e.descripcion,""),g(4),Ke(" ",bi(13,7,e.fechaInicio),""),g(5),Ke(" ",bi(18,9,e.fechaFin),""),g(5),Ke(" ",e.estado,""),g(4),Ke(" ",e.prioridad,""),g(4),Ke(" ",e.obraCivil.nombre,"")}}function QT(i,t){if(i&1&&(c(0,"li"),p(1),l()),i&2){let e=t.$implicit;g(),Te(e.servicio==null?null:e.servicio.nombre)}}function ek(i,t){if(i&1&&(c(0,"ul"),B(1,QT,2,1,"li",34),l()),i&2){let e=Q(2);g(),M("ngForOf",e.serviciosTarea)}}function tk(i,t){i&1&&(c(0,"p"),p(1,"No hay servicios vinculados a esta tarea."),l())}function ik(i,t){if(i&1){let e=Je();c(0,"div",30)(1,"div",31)(2,"span",32),H("click",function(){N(e);let n=Q();return D(n.cerrarModalServicios())}),p(3,"\xD7"),l(),c(4,"h3"),p(5,"Servicios vinculados"),l(),B(6,ek,2,1,"ul",33)(7,tk,2,0,"p",33),l()()}if(i&2){let e=Q();g(6),M("ngIf",e.serviciosTarea.length>0),g(),M("ngIf",e.serviciosTarea.length===0)}}function rk(i,t){if(i&1&&(c(0,"li"),p(1),l()),i&2){let e=t.$implicit;g(),Di(" ",e.empleado==null?null:e.empleado.nombre," ",e.empleado==null?null:e.empleado.apellido," ")}}function nk(i,t){if(i&1&&(c(0,"ul"),B(1,rk,2,2,"li",34),l()),i&2){let e=Q(2);g(),M("ngForOf",e.empleadosTarea)}}function ok(i,t){i&1&&(c(0,"p"),p(1,"No hay empleados vinculados a esta tarea."),l())}function ak(i,t){if(i&1){let e=Je();c(0,"div",30)(1,"div",31)(2,"span",32),H("click",function(){N(e);let n=Q();return D(n.cerrarModalEmpleados())}),p(3,"\xD7"),l(),c(4,"h3"),p(5,"Empleados vinculados"),l(),B(6,nk,2,1,"ul",33)(7,ok,2,0,"p",33),l()()}if(i&2){let e=Q();g(6),M("ngIf",e.empleadosTarea.length>0),g(),M("ngIf",e.empleadosTarea.length===0)}}function sk(i,t){if(i&1&&(c(0,"li"),p(1),l()),i&2){let e=t.$implicit;g(),Ke(" ",e.material==null?null:e.material.nombre," ")}}function lk(i,t){if(i&1&&(c(0,"ul"),B(1,sk,2,1,"li",34),l()),i&2){let e=Q(2);g(),M("ngForOf",e.materialesTarea)}}function ck(i,t){i&1&&(c(0,"p"),p(1,"No hay materiales vinculados a esta tarea."),l())}function dk(i,t){if(i&1){let e=Je();c(0,"div",30)(1,"div",31)(2,"span",32),H("click",function(){N(e);let n=Q();return D(n.cerrarModalMateriales())}),p(3,"\xD7"),l(),c(4,"h3"),p(5,"Materiales vinculados"),l(),B(6,lk,2,1,"ul",33)(7,ck,2,0,"p",33),l()()}if(i&2){let e=Q();g(6),M("ngIf",e.materialesTarea.length>0),g(),M("ngIf",e.materialesTarea.length===0)}}function uk(i,t){if(i&1&&(c(0,"li"),p(1),l()),i&2){let e=t.$implicit;g(),Ke(" ",e.equipo==null?null:e.equipo.nombre," ")}}function pk(i,t){if(i&1&&(c(0,"ul"),B(1,uk,2,1,"li",34),l()),i&2){let e=Q(2);g(),M("ngForOf",e.equiposTarea)}}function fk(i,t){i&1&&(c(0,"p"),p(1,"No hay equipos vinculados a esta tarea."),l())}function mk(i,t){if(i&1){let e=Je();c(0,"div",30)(1,"div",31)(2,"span",32),H("click",function(){N(e);let n=Q();return D(n.cerrarModalEquipos())}),p(3,"\xD7"),l(),c(4,"h3"),p(5,"Equipos vinculados"),l(),B(6,pk,2,1,"ul",33)(7,fk,2,0,"p",33),l()()}if(i&2){let e=Q();g(6),M("ngIf",e.equiposTarea.length>0),g(),M("ngIf",e.equiposTarea.length===0)}}function hk(i,t){if(i&1){let e=Je();c(0,"div",35)(1,"div",36)(2,"div",37)(3,"div",38)(4,"h5",39),p(5,"Confirmaci\xF3n"),l(),c(6,"button",40),H("click",function(){N(e);let n=Q();return D(n.cerrarModal())}),l()(),c(7,"div",41)(8,"p"),p(9,"\xBFEst\xE1s seguro de que deseas eliminar esta tarea?"),l()(),c(10,"div",42)(11,"button",43),H("click",function(){N(e);let n=Q();return D(n.cerrarModal())}),p(12,"Cancelar"),l(),c(13,"button",44),H("click",function(){N(e);let n=Q();return D(n.eliminarTareaConfirmada())}),p(14,"Confirmar"),l()()()()()}}var Lm=class i{constructor(t,e,r,n,o,a,d,u){this.tareaService=t;this.router=e;this.filterService=r;this.paginationService=n;this.servicioTareaService=o;this.empleadoTareaService=a;this.materialTareaService=d;this.equipoTareaService=u}tareas=[];tareasFiltradas=[];tareasPaginadas=[];serviciosTarea=[];textoBusqueda="";paginaActual=1;elementosPorPagina=5;totalPaginas=0;mostrarModal=!1;tareaAEliminarId=null;mostrarModalServicios=!1;mostrarModalEmpleados=!1;empleadosTarea=[];mostrarModalMateriales=!1;materialesTarea=[];mostrarModalEquipos=!1;equiposTarea=[];ngOnInit(){this.obtenerTareas()}obtenerTareas(){this.tareaService.obtenerTareas().subscribe(t=>{this.tareas=t,this.tareasFiltradas=t,this.calcularPaginacion()})}eliminarTarea(t){this.tareaService.eliminarTarea(t).subscribe(()=>{this.obtenerTareas()})}irACrearTarea(){this.router.navigate(["/tarea-create"])}irAEditarTarea(t){this.router.navigate([`/tarea-update/${t}`])}confirmarEliminarTarea(t){this.tareaAEliminarId=t,this.mostrarModal=!0}eliminarTareaConfirmada(){this.tareaAEliminarId!==null&&(this.eliminarTarea(this.tareaAEliminarId),this.cerrarModal())}cerrarModal(){this.mostrarModal=!1,this.tareaAEliminarId=null}filtrarTareas(){this.tareasFiltradas=this.filterService.filtrar(this.tareas,this.textoBusqueda),this.paginaActual=1,this.calcularPaginacion()}calcularPaginacion(){let t=this.paginationService.paginate(this.tareasFiltradas,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.tareasPaginadas=t.paginatedData}cambiarPagina(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarTareasPaginadas()}actualizarTareasPaginadas(){let t=this.paginationService.paginate(this.tareasFiltradas,this.paginaActual,this.elementosPorPagina);this.tareasPaginadas=t.paginatedData}verServiciosPorTarea(t){this.servicioTareaService.obtenerServicioTareas().subscribe(e=>{this.serviciosTarea=e.filter(r=>r.tarea?.id===t),console.log("Respuesta servicios:",this.serviciosTarea),this.mostrarModalServicios=!0})}cerrarModalServicios(){this.mostrarModalServicios=!1,this.serviciosTarea=[]}verEmpleadosPorTarea(t){this.empleadoTareaService.obtenerEmpleadoTareas().subscribe(e=>{this.empleadosTarea=e.filter(r=>r.tarea?.id===t),console.log("Respuesta equipos:",this.serviciosTarea),this.mostrarModalEmpleados=!0})}verEquiposPorTarea(t){this.equipoTareaService.obtenerEquipoTareas().subscribe(e=>{this.equiposTarea=e.filter(r=>r.tarea?.id===t),this.mostrarModalEquipos=!0})}cerrarModalEquipos(){this.mostrarModalEquipos=!1,this.equiposTarea=[]}cerrarModalEmpleados(){this.mostrarModalEmpleados=!1,this.empleadosTarea=[]}verMaterialesPorTarea(t){this.materialTareaService.obtenerMaterialTareas().subscribe(e=>{this.materialesTarea=e.filter(r=>r.tarea?.id===t),this.mostrarModalMateriales=!0})}cerrarModalMateriales(){this.mostrarModalMateriales=!1,this.materialesTarea=[]}static \u0275fac=function(e){return new(e||i)(ie(Xa),ie(ht),ie(zi),ie(Yi),ie(Cc),ie(wc),ie(Sc),ie(Ec))};static \u0275cmp=ot({type:i,selectors:[["app-tarea"]],standalone:!0,features:[st],decls:30,vars:10,consts:[[1,"content","tareas-container"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"card","shadow-sm"],[1,"card-body"],[1,"row","mb-3"],[1,"col-12","col-md-6"],[1,"m-0"],[1,"col-12","col-md-6","text-md-end"],[1,"btn-crear",3,"click"],[1,"bi","bi-plus-circle"],[1,"form-group","mb-3"],["type","text","placeholder","Buscar tareas...",1,"form-control",3,"ngModelChange","input","ngModel"],["class","col-12",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","justify-content-center","mt-4"],[1,"btn","btn-outline-secondary","btn-sm",3,"click","disabled"],[1,"mx-3"],["class","modal-ver",4,"ngIf"],["class","modal",4,"ngIf"],[1,"card","mb-4"],[1,"card-title"],[1,"info-item"],[1,"d-flex","gap-2","flex-wrap","mt-3"],[1,"btn-ver",3,"click"],[1,"bi","bi-card-list"],[1,"btn-editar",3,"click"],[1,"bi","bi-pencil"],[1,"btn-eliminar",3,"click"],[1,"bi","bi-trash"],[1,"modal-ver"],[1,"modal-content-ver"],[1,"close",3,"click"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"modal"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"close",3,"click"],[1,"modal-body"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(e,r){e&1&&(c(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h4",8),p(9,"Tareas"),l()(),c(10,"div",9)(11,"button",10),H("click",function(){return r.irACrearTarea()}),Ee(12,"i",11),p(13," Registrar "),l()()(),c(14,"div",12)(15,"input",13),pe("ngModelChange",function(o){return ue(r.textoBusqueda,o)||(r.textoBusqueda=o),o}),H("input",function(){return r.filtrarTareas()}),l()(),c(16,"div",2),B(17,JT,50,11,"div",14),l(),c(18,"div",15)(19,"button",16),H("click",function(){return r.cambiarPagina("previous")}),p(20," \u2190 Anterior "),l(),c(21,"span",17),p(22),l(),c(23,"button",16),H("click",function(){return r.cambiarPagina("next")}),p(24," Siguiente \u2192 "),l()()()()()()()(),B(25,ik,8,2,"div",18)(26,ak,8,2,"div",18)(27,dk,8,2,"div",18)(28,mk,8,2,"div",18)(29,hk,15,0,"div",19)),e&2&&(g(15),de("ngModel",r.textoBusqueda),g(2),M("ngForOf",r.tareasPaginadas),g(2),M("disabled",r.paginaActual===1),g(3),Ke(" P\xE1gina ",r.paginaActual," "),g(),M("disabled",r.paginaActual===r.totalPaginas),g(2),M("ngIf",r.mostrarModalServicios),g(),M("ngIf",r.mostrarModalEmpleados),g(),M("ngIf",r.mostrarModalMateriales),g(),M("ngIf",r.mostrarModalEquipos),g(),M("ngIf",r.mostrarModal))},dependencies:[ct,Bt,yt,cn,ji,Mt,kt,Pt,Tt],styles:['@charset "UTF-8";button[_ngcontent-%COMP%]{cursor:pointer;border:none;border-radius:8px;padding:8px 14px;font-size:14px;transition:all .3s ease;margin-right:6px;display:inline-flex;align-items:center;gap:6px}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:15px}button[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}button[_ngcontent-%COMP%]:focus{outline:none}button.btn-crear[_ngcontent-%COMP%]{float:right;background:linear-gradient(to right,#4caf50,#45a049);color:#fff;margin-bottom:20px;box-shadow:0 4px 8px #00000026}button.btn-crear[_ngcontent-%COMP%]:hover{background:#576c58}button.btn-editar[_ngcontent-%COMP%]{background-color:#2196f3;color:#fff}button.btn-editar[_ngcontent-%COMP%]:hover{background-color:#38617a}button.btn-eliminar[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}button.btn-eliminar[_ngcontent-%COMP%]:hover{background-color:#7b4848}button.btn-ver[_ngcontent-%COMP%]{background-color:#9b9b9b;color:#fff}button.btn-ver[_ngcontent-%COMP%]:hover{background-color:#7c7b7b}.modal[_ngcontent-%COMP%], .modal-eliminar[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%], .modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content-eliminar[_ngcontent-%COMP%], .modal-eliminar[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%], .modal-eliminar[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content-eliminar[_ngcontent-%COMP%]{background:#fff;padding:25px;border-radius:8px;width:400px;text-align:center;box-shadow:0 4px 10px #0003;position:relative}.modal-title[_ngcontent-%COMP%]{font-size:20px;color:#333;margin-top:0}.btn-close[_ngcontent-%COMP%]{position:absolute;top:10px;right:15px;font-size:30px;cursor:pointer;border:none;background:none;font-weight:700;color:#666}.btn-close[_ngcontent-%COMP%]:hover{color:#000}ol[_ngcontent-%COMP%]{padding-left:20px;margin:10px 0;color:#444}ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:5px 0;border-bottom:1px solid #eee}ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}p[_ngcontent-%COMP%]{color:#888;font-style:normal}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;text-align:left;border:1px solid #ddd}.info-item[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:.5rem;color:#444}.info-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:700;color:#000;margin-right:.3rem}.close[_ngcontent-%COMP%]{position:absolute;top:10px;right:15px;font-size:30px;cursor:pointer;border:none;background:none;font-weight:700;color:#666}.close[_ngcontent-%COMP%]:hover{color:#000}.modal-ver[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080}.modal-content-ver[_ngcontent-%COMP%]{background:#fff;padding:25px;border-radius:8px;width:400px;text-align:left;box-shadow:0 4px 10px #0003;position:relative}']})};var ia=class i{constructor(t){this.http=t}apiUrl=pi.apiUrl;obtenerObras(){return this.http.get(`${this.apiUrl}/obras`)}obtenerObrasDesc(){return this.http.get(`${this.apiUrl}/obras/list-desc`)}obtenerObraPorId(t){return this.http.get(`${this.apiUrl}/obras/${t}`)}crearObra(t){let e=lt({},t);return this.http.post(`${this.apiUrl}/obras`,e)}actualizarObra(t,e){return this.http.put(`${this.apiUrl}/obras/${t}`,e)}eliminarObra(t){return this.http.delete(`${this.apiUrl}/obras/${t}`)}static \u0275fac=function(e){return new(e||i)(Et(ui))};static \u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"})};var mo=class i{constructor(t){this.http=t}apiUrl=`${pi.apiUrl}/servicios`;obtenerServicios(){return this.http.get(this.apiUrl)}obtenerServicioPorId(t){return this.http.get(`${this.apiUrl}/${t}`)}crearServicio(t){let e=lt({},t);return this.http.post(this.apiUrl,e)}actualizarServicio(t,e){return this.http.put(`${this.apiUrl}/${t}`,e)}eliminarServicio(t){return this.http.delete(`${this.apiUrl}/${t}`)}static \u0275fac=function(e){return new(e||i)(Et(ui))};static \u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"})};var Za=class i{constructor(t){this.http=t}apiUrl=`${pi.apiUrl}/empleados`;obtenerEmpleados(){return this.http.get(this.apiUrl)}obtenerEmpleadoPorId(t){return this.http.get(`${this.apiUrl}/${t}`)}crearEmpleado(t){let e=lt({},t);return delete e.id,this.http.post(this.apiUrl,e)}actualizarEmpleado(t,e){return this.http.put(`${this.apiUrl}/${t}`,e)}eliminarEmpleado(t){return this.http.delete(`${this.apiUrl}/${t}`)}static \u0275fac=function(e){return new(e||i)(Et(ui))};static \u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"})};function gk(i,t){if(i&1&&(c(0,"option",38),p(1),l()),i&2){let e=t.$implicit;M("value",e),g(),Te(e)}}function vk(i,t){if(i&1&&(c(0,"option",38),p(1),l()),i&2){let e=t.$implicit;M("value",e),g(),Te(e)}}function _k(i,t){if(i&1&&(c(0,"option",38),p(1),l()),i&2){let e=t.$implicit;M("value",e.id),g(),Te(e.nombre)}}function bk(i,t){if(i&1){let e=Je();c(0,"li",41),H("mousedown",function(){let n=N(e).$implicit,o=Q(2);return D(o.seleccionarServicio(n))}),p(1),l()}if(i&2){let e=t.$implicit;g(),Ke(" ",e.nombre," ")}}function xk(i,t){if(i&1&&(c(0,"ul",39),B(1,bk,2,1,"li",40),l()),i&2){let e=Q();g(),M("ngForOf",e.serviciosFiltrados)}}function yk(i,t){if(i&1){let e=Je();c(0,"li",42)(1,"strong"),p(2),l(),c(3,"div",43)(4,"div",44)(5,"label",45),p(6,"Cantidad"),l(),c(7,"input",46),pe("ngModelChange",function(n){let o=N(e).$implicit;return ue(o.cantidad,n)||(o.cantidad=n),D(n)}),H("input",function(){let n=N(e).$implicit,o=Q();return D(o.calcularSubtotalS(n))}),l()(),c(8,"div",47)(9,"label",45),p(10,"Precio Unitario"),l(),Ee(11,"input",48),l(),c(12,"div",49)(13,"button",50),H("click",function(){let n=N(e).$implicit,o=Q();return D(o.removeServicioFromSelected(n))}),p(14," Eliminar "),l()()()()}if(i&2){let e=t.$implicit,r=t.index;g(2),Te(e.servicio==null?null:e.servicio.nombre),g(3),Hs("for","cantidad-",r,""),g(2),de("ngModel",e.cantidad),g(2),Hs("for","precio-",r,""),g(2),M("value",e.precioUnitario)}}function Ck(i,t){if(i&1){let e=Je();c(0,"li",41),H("mousedown",function(){let n=N(e).$implicit,o=Q(2);return D(o.seleccionarEmpleado(n))}),p(1),l()}if(i&2){let e=t.$implicit;g(),k2(" ",e.nombre," ",e.apellido," (",e.documentoIdentidad,") ")}}function wk(i,t){if(i&1&&(c(0,"ul",39),B(1,Ck,2,3,"li",40),l()),i&2){let e=Q();g(),M("ngForOf",e.empleadosFiltrados)}}function Sk(i,t){if(i&1){let e=Je();c(0,"li",51),p(1),c(2,"button",50),H("click",function(){let n=N(e).$implicit,o=Q();return D(o.removeEmpleadoFromSelected(n))}),p(3," Eliminar "),l()()}if(i&2){let e=t.$implicit;g(),Di(" ",e.nombre," ",e.apellido," ")}}function Ek(i,t){if(i&1){let e=Je();c(0,"li",41),H("mousedown",function(){let n=N(e).$implicit,o=Q(2);return D(o.seleccionarMaterial(n))}),p(1),l()}if(i&2){let e=t.$implicit;g(),Di(" ",e.nombre," (",e.unidadMedida,") ")}}function Pk(i,t){if(i&1&&(c(0,"ul",39),B(1,Ek,2,2,"li",40),l()),i&2){let e=Q();g(),M("ngForOf",e.materialesFiltrados)}}function Mk(i,t){if(i&1){let e=Je();c(0,"li",42)(1,"strong"),p(2),l(),c(3,"div",43)(4,"div",44)(5,"label",45),p(6,"Cantidad"),l(),c(7,"input",52),pe("ngModelChange",function(n){let o=N(e).$implicit;return ue(o.cantidad,n)||(o.cantidad=n),D(n)}),H("input",function(){let n=N(e).$implicit,o=Q();return D(o.calcularSubtotalM(n))}),l()(),c(8,"div",47)(9,"label",45),p(10,"Precio Unitario"),l(),Ee(11,"input",48),l()(),c(12,"div",49)(13,"button",50),H("click",function(){let n=N(e).$implicit,o=Q();return D(o.removeMaterialFromSelected(n.material))}),p(14," Eliminar "),l()()()}if(i&2){let e=t.$implicit,r=t.index;g(2),Te(e.material.nombre),g(3),Hs("for","cantidad-",r,""),g(2),Hs("name","cantidad-",r,""),de("ngModel",e.cantidad),g(2),Hs("for","precio-",r,""),g(2),M("value",e.material.precioUnitario)}}function Tk(i,t){if(i&1){let e=Je();c(0,"li",41),H("mousedown",function(){let n=N(e).$implicit,o=Q(2);return D(o.seleccionarEquipo(n))}),p(1),l()}if(i&2){let e=t.$implicit;g(),Di(" ",e.nombre," (",e.tipoEquipo,") ")}}function kk(i,t){if(i&1&&(c(0,"ul",39),B(1,Tk,2,2,"li",40),l()),i&2){let e=Q();g(),M("ngForOf",e.equiposFiltrados)}}function Ak(i,t){if(i&1){let e=Je();c(0,"li",42)(1,"strong"),p(2),l(),c(3,"div",43)(4,"div",44)(5,"label",45),p(6,"Cantidad"),l(),c(7,"input",46),pe("ngModelChange",function(n){let o=N(e).$implicit;return ue(o.cantidad,n)||(o.cantidad=n),D(n)}),H("input",function(){let n=N(e).$implicit,o=Q();return D(o.calcularSubtotalE(n))}),l()(),c(8,"div",47)(9,"label",45),p(10,"Precio Unitario"),l(),Ee(11,"input",48),l(),c(12,"div",49)(13,"button",50),H("click",function(){let n=N(e).$implicit,o=Q();return D(o.removeEquipoFromSelected(n))}),p(14," Eliminar "),l()()()()}if(i&2){let e=t.$implicit,r=t.index;g(2),Te(e.equipo==null?null:e.equipo.nombre),g(3),Hs("for","cantidad-",r,""),g(2),de("ngModel",e.cantidad),g(2),Hs("for","precio-",r,""),g(2),M("value",e.precioUnitario)}}var Dm=class i{constructor(t,e,r,n,o,a,d,u,m,v,y,w){this.tareaService=t;this.obraCivilService=e;this.servicioService=r;this.servicioTareaService=n;this.empleadoService=o;this.empleadoTareaService=a;this.equipoService=d;this.equipoTareaService=u;this.filterService=m;this.materialService=v;this.materialTareaService=y;this.router=w}tarea={nombre:"",descripcion:"",fechaInicio:new Date().toISOString().split("T")[0],fechaFin:new Date().toISOString().split("T")[0],estado:"pendiente",prioridad:"media",obraCivil:{id:0,nombre:""}};obrasCiviles=[];estados=["pendiente","en progreso","completada","cancelada"];prioridades=["baja","media","alta"];servicios=[];selectedServicios=[];filtroServicio="";mostrarSugerencias=!1;empleados=[];selectedEmpleados=[];filtroEmpleado="";mostrarSugerenciasEmpleado=!1;equipos=[];selectedEquipos=[];filtroEquipo="";mostrarSugerenciasEquipo=!1;materiales=[];selectedMateriales=[];filtroMaterial="";mostrarSugerenciasMaterial=!1;ngOnInit(){this.cargarObrasCiviles(),this.cargarServicios(),this.cargarEmpleados(),this.cargarEquipos(),this.cargarMateriales()}cargarObrasCiviles(){this.obraCivilService.obtenerObras().subscribe(t=>{this.obrasCiviles=t})}cargarServicios(){this.servicioService.obtenerServicios().subscribe(t=>{this.servicios=t})}get serviciosFiltrados(){return this.filterService.filtrar(this.servicios,this.filtroServicio)}seleccionarServicio(t){this.selectedServicios.some(r=>r.servicioId===t.id)||this.selectedServicios.push({servicioId:t.id,servicio:t,cantidad:0,precioUnitario:t.precioUnitario||0,subtotal:0}),this.filtroServicio="",this.mostrarSugerencias=!1}removeServicioFromSelected(t){this.selectedServicios=this.selectedServicios.filter(e=>e.id!==t.id)}ocultarSugerenciasConDelay(){setTimeout(()=>{this.mostrarSugerencias=!1},200)}cargarEmpleados(){this.empleadoService.obtenerEmpleados().subscribe(t=>{this.empleados=t})}get empleadosFiltrados(){return this.filterService.filtrar(this.empleados,this.filtroEmpleado)}seleccionarEmpleado(t){this.selectedEmpleados.some(e=>e.id===t.id)||this.selectedEmpleados.push(t),this.filtroEmpleado="",this.mostrarSugerenciasEmpleado=!1}removeEmpleadoFromSelected(t){this.selectedEmpleados=this.selectedEmpleados.filter(e=>e.id!==t.id)}ocultarSugerenciasEmpleadoConDelay(){setTimeout(()=>{this.mostrarSugerenciasEmpleado=!1},200)}cargarEquipos(){this.equipoService.obtenerEquipos().subscribe(t=>{this.equipos=t})}get equiposFiltrados(){return this.filterService.filtrar(this.equipos,this.filtroEquipo)}seleccionarEquipo(t){this.selectedEquipos.some(r=>r.equipo?.id===t.id)||this.selectedEquipos.push({equipo:t,cantidad:1,precioUnitario:t.precioUnitario||0,subtotal:0}),this.filtroEquipo="",this.mostrarSugerenciasEquipo=!1}removeEquipoFromSelected(t){t&&(this.selectedEquipos=this.selectedEquipos.filter(e=>e.equipo?.id!==t.id))}ocultarSugerenciasEquipoConDelay(){setTimeout(()=>{this.mostrarSugerenciasEquipo=!1},200)}cargarMateriales(){this.materialService.obtenerMateriales().subscribe(t=>{this.materiales=t})}get materialesFiltrados(){return this.filterService.filtrar(this.materiales,this.filtroMaterial)}seleccionarMaterial(t){this.selectedMateriales.find(r=>r.material.id===t.id)||this.selectedMateriales.push({material:t,cantidad:1}),this.filtroMaterial="",this.mostrarSugerenciasMaterial=!1}removeMaterialFromSelected(t){t&&(this.selectedMateriales=this.selectedMateriales.filter(e=>e.material.id!==t.id))}ocultarSugerenciasMaterialConDelay(){setTimeout(()=>{this.mostrarSugerenciasMaterial=!1},200)}calcularSubtotalS(t){let e=t.cantidad||0,r=t.precioUnitario||0;t.subtotal=e*r}calcularSubtotalE(t){let e=t.cantidad||0,r=t.precioUnitario||0;t.subtotal=e*r}calcularSubtotalM(t){let e=t.cantidad||0,r=t.material?.precioUnitario||0;t.subtotal=e*r}crearTarea(){if(new Date(this.tarea.fechaFin)<new Date(this.tarea.fechaInicio)){alert("La fecha de fin no puede ser anterior a la fecha de inicio");return}this.tareaService.crearTarea(this.tarea).pipe(Kn(t=>{let e=[];return this.selectedServicios.forEach(r=>{let n={tarea:{id:t.id},servicio:{id:r.servicio?.id},cantidad:r.cantidad,precioUnitario:r.precioUnitario,subtotal:r.subtotal};e.push(this.servicioTareaService.crearServicioTarea(n).pipe(qa(o=>(console.error("Error al crear ServicioTarea para servicio id",r.servicio?.id,o),ci(null)))))}),this.selectedEmpleados.forEach(r=>{let n={tarea:{id:t.id},empleado:{id:r.id},horasTrabajadas:1,fechaAsignacion:new Date().toISOString().split("T")[0],rolEnTarea:"trabajador"};e.push(this.empleadoTareaService.crearEmpleadoTarea(n).pipe(qa(o=>(console.error("Error al crear EmpleadoTarea para empleado id",r.id,o),ci(null)))))}),this.selectedEquipos.forEach(r=>{let n={tarea:{id:t.id},equipo:{id:r.equipo?.id},cantidad:r.cantidad,precioUnitario:r.precioUnitario,subtotal:r.subtotal};e.push(this.equipoTareaService.crearEquipoTarea(n).pipe(qa(o=>(console.error("Error al crear EquipoTarea para equipo id",r.equipo?.id,o),ci(null)))))}),this.selectedMateriales.forEach(({material:r,cantidad:n})=>{let o=n??1,a=r.precioUnitario??0,d=o*a,u={tarea:{id:t.id},material:r,cantidad:o,precioUnitario:a,subtotal:d};e.push(this.materialTareaService.crearMaterialTarea(u).pipe(qa(m=>(console.error("Error al crear MaterialTarea para material id",r.id,m),ci(null)))))}),e.length?nf(e):ci([])}),qa(t=>(console.error("Error creando tarea principal",t),alert("Ocurri\xF3 un error al crear la tarea. Revisa consola."),ci(null)))).subscribe({next:()=>{this.router.navigate(["/tarea"])},error:t=>{console.error("Error inesperado en la cadena",t),alert("Error inesperado. Ver consola.")}})}cancelar(){this.router.navigate(["/tarea"])}static \u0275fac=function(e){return new(e||i)(ie(Xa),ie(ia),ie(mo),ie(Cc),ie(Za),ie(wc),ie(fo),ie(Ec),ie(zi),ie(Vn),ie(Sc),ie(ht))};static \u0275cmp=ot({type:i,selectors:[["app-tarea-create"]],standalone:!0,features:[st],decls:82,vars:22,consts:[[1,"form-container"],[1,"mb-4"],[1,"form",3,"ngSubmit"],[1,"form-group","mb-3"],["for","nombre"],["type","text","id","nombre","name","nombre","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","descripcion"],["id","descripcion","name","descripcion",1,"form-control",3,"ngModelChange","ngModel"],[1,"row"],[1,"col-md-6","form-group","mb-3"],["for","fechaInicio"],["type","date","id","fechaInicio","name","fechaInicio","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","fechaFin"],["type","date","id","fechaFin","name","fechaFin","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","estado"],["id","estado","name","estado",1,"form-select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","prioridad"],["id","prioridad","name","prioridad",1,"form-select",3,"ngModelChange","ngModel"],["for","obraCivil"],["id","obraCivil","name","obraCivilId",1,"form-select",3,"ngModelChange","ngModel"],[1,"form-group","mb-3","position-relative"],["for","filtroServicio"],["type","text","id","filtroServicio","name","filtroServicio","placeholder","Buscar servicio...","autocomplete","off",1,"form-control",3,"ngModelChange","input","blur","ngModel"],["class","list-group position-absolute w-100 sugerencias",4,"ngIf"],[1,"leter"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],["for","filtroEmpleado"],["type","text","id","filtroEmpleado","name","filtroEmpleado","placeholder","Buscar empleado...","autocomplete","off",1,"form-control",3,"ngModelChange","input","blur","ngModel"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],["for","filtroMaterial"],["type","text","id","filtroMaterial","name","filtroMaterial","placeholder","Buscar material...","autocomplete","off",1,"form-control",3,"ngModelChange","input","blur","ngModel"],["for","filtroEquipo"],["type","text","id","filtroEquipo","name","filtroEquipo","placeholder","Buscar equipo...","autocomplete","off",1,"form-control",3,"ngModelChange","input","blur","ngModel"],[1,"form-group","d-flex","justify-content-end","gap-2"],["type","submit",1,"submit-btn"],["type","button",1,"cancel-btn",3,"click"],[3,"value"],[1,"list-group","position-absolute","w-100","sugerencias"],["class","list-group-item list-group-item-action",3,"mousedown",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action",3,"mousedown"],[1,"list-group-item"],[1,"d-flex","align-items-end","mt-2","gap-3","flex-wrap"],[1,"cantidad-container"],[3,"for"],["type","number",1,"form-control","cantidad-input",3,"ngModelChange","input","ngModel"],[1,"precio-container"],["type","number","disabled","",1,"form-control","precio-input",3,"value"],[1,"boton-eliminar-container","ms-auto"],["type","button",1,"btn","btn-sm","btn-danger",3,"click"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],["type","number","min","1",1,"form-control","cantidad-input",3,"ngModelChange","input","ngModel","name"]],template:function(e,r){e&1&&(c(0,"div",0)(1,"h2",1),p(2,"Crear Nueva Tarea"),l(),c(3,"form",2),H("ngSubmit",function(){return r.crearTarea()}),c(4,"div",3)(5,"label",4),p(6,"Nombre:"),l(),c(7,"input",5),pe("ngModelChange",function(o){return ue(r.tarea.nombre,o)||(r.tarea.nombre=o),o}),l()(),c(8,"div",3)(9,"label",6),p(10,"Descripci\xF3n:"),l(),c(11,"textarea",7),pe("ngModelChange",function(o){return ue(r.tarea.descripcion,o)||(r.tarea.descripcion=o),o}),l()(),c(12,"div",8)(13,"div",9)(14,"label",10),p(15,"Fecha Inicio:"),l(),c(16,"input",11),pe("ngModelChange",function(o){return ue(r.tarea.fechaInicio,o)||(r.tarea.fechaInicio=o),o}),l()(),c(17,"div",9)(18,"label",12),p(19,"Fecha Fin:"),l(),c(20,"input",13),pe("ngModelChange",function(o){return ue(r.tarea.fechaFin,o)||(r.tarea.fechaFin=o),o}),l()()(),c(21,"div",8)(22,"div",9)(23,"label",14),p(24,"Estado:"),l(),c(25,"select",15),pe("ngModelChange",function(o){return ue(r.tarea.estado,o)||(r.tarea.estado=o),o}),B(26,gk,2,2,"option",16),l()(),c(27,"div",9)(28,"label",17),p(29,"Prioridad:"),l(),c(30,"select",18),pe("ngModelChange",function(o){return ue(r.tarea.prioridad,o)||(r.tarea.prioridad=o),o}),B(31,vk,2,2,"option",16),l()()(),c(32,"div",3)(33,"label",19),p(34,"Obra Civil:"),l(),c(35,"select",20),pe("ngModelChange",function(o){return ue(r.tarea.obraCivil.id,o)||(r.tarea.obraCivil.id=o),o}),B(36,_k,2,2,"option",16),l()(),c(37,"div",21)(38,"label",22),p(39,"Buscar Servicios:"),l(),c(40,"input",23),pe("ngModelChange",function(o){return ue(r.filtroServicio,o)||(r.filtroServicio=o),o}),H("input",function(){return r.mostrarSugerencias=!0})("blur",function(){return r.ocultarSugerenciasConDelay()}),l(),B(41,xk,2,1,"ul",24),l(),c(42,"div",3)(43,"label",25),p(44,"Servicios Seleccionados:"),l(),c(45,"ul",26),B(46,yk,15,7,"li",27),l()(),c(47,"div",21)(48,"label",28),p(49,"Buscar Empleados:"),l(),c(50,"input",29),pe("ngModelChange",function(o){return ue(r.filtroEmpleado,o)||(r.filtroEmpleado=o),o}),H("input",function(){return r.mostrarSugerenciasEmpleado=!0})("blur",function(){return r.ocultarSugerenciasEmpleadoConDelay()}),l(),B(51,wk,2,1,"ul",24),l(),c(52,"div",3)(53,"label",25),p(54,"Empleados Seleccionados:"),l(),c(55,"ul",26),B(56,Sk,4,2,"li",30),l()(),c(57,"div",21)(58,"label",31),p(59,"Buscar Materiales:"),l(),c(60,"input",32),pe("ngModelChange",function(o){return ue(r.filtroMaterial,o)||(r.filtroMaterial=o),o}),H("input",function(){return r.mostrarSugerenciasMaterial=!0})("blur",function(){return r.ocultarSugerenciasMaterialConDelay()}),l(),B(61,Pk,2,1,"ul",24),l(),c(62,"div",3)(63,"label",25),p(64,"Materiales Seleccionados:"),l(),c(65,"ul",26),B(66,Mk,15,9,"li",27),l()(),c(67,"div",21)(68,"label",33),p(69,"Buscar Equipos:"),l(),c(70,"input",34),pe("ngModelChange",function(o){return ue(r.filtroEquipo,o)||(r.filtroEquipo=o),o}),H("input",function(){return r.mostrarSugerenciasEquipo=!0})("blur",function(){return r.ocultarSugerenciasEquipoConDelay()}),l(),B(71,kk,2,1,"ul",24),l(),c(72,"div",3)(73,"label",25),p(74,"Equipos Seleccionados:"),l(),c(75,"ul",26),B(76,Ak,15,7,"li",27),l()(),c(77,"div",35)(78,"button",36),p(79,"Crear Tarea"),l(),c(80,"button",37),H("click",function(){return r.cancelar()}),p(81,"Cancelar"),l()()()()),e&2&&(g(7),de("ngModel",r.tarea.nombre),g(4),de("ngModel",r.tarea.descripcion),g(5),de("ngModel",r.tarea.fechaInicio),g(4),de("ngModel",r.tarea.fechaFin),g(5),de("ngModel",r.tarea.estado),g(),M("ngForOf",r.estados),g(4),de("ngModel",r.tarea.prioridad),g(),M("ngForOf",r.prioridades),g(4),de("ngModel",r.tarea.obraCivil.id),g(),M("ngForOf",r.obrasCiviles),g(4),de("ngModel",r.filtroServicio),g(),M("ngIf",r.mostrarSugerencias&&r.serviciosFiltrados.length>0),g(5),M("ngForOf",r.selectedServicios),g(4),de("ngModel",r.filtroEmpleado),g(),M("ngIf",r.mostrarSugerenciasEmpleado&&r.empleadosFiltrados.length>0),g(5),M("ngForOf",r.selectedEmpleados),g(4),de("ngModel",r.filtroMaterial),g(),M("ngIf",r.mostrarSugerenciasMaterial&&r.materialesFiltrados.length>0),g(5),M("ngForOf",r.selectedMateriales),g(4),de("ngModel",r.filtroEquipo),g(),M("ngIf",r.mostrarSugerenciasEquipo&&r.equiposFiltrados.length>0),g(5),M("ngForOf",r.selectedEquipos))},dependencies:[Mt,Qt,Fi,Ni,kt,Qi,Ti,Pt,Jt,ri,yr,Tt,ei,ct,Bt,yt],styles:['@charset "UTF-8";.form-container[_ngcontent-%COMP%]{max-width:500px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px;position:relative}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:14px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.error-message[_ngcontent-%COMP%]{color:red;font-size:14px;margin-top:5px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%], .add-btn[_ngcontent-%COMP%]{width:48%;padding:10px;font-size:16px;border-radius:4px;cursor:pointer;border:none}.submit-btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6;cursor:not-allowed}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#218838}.cancel-btn[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#c82333}.add-btn[_ngcontent-%COMP%]{width:auto;min-width:120px;background-color:#007bff;color:#fff;padding:8px 12px;font-size:14px;border-radius:4px;cursor:pointer;border:none}.add-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.add-button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:5px}ul[_ngcontent-%COMP%]{list-style:none;padding:0}li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;padding:8px;background-color:#f0f0f0;border-radius:4px}li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fd7e14;color:#fff;padding:5px 10px;border-radius:4px;border:none;cursor:pointer}li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#e96a0c}.sugerencias[_ngcontent-%COMP%]{z-index:1000;max-height:200px;overflow-y:auto}.leter[_ngcontent-%COMP%]{color:#4b575d;font-style:arial;font-size:.9rem;text-decoration:underline}.cantidad-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .precio-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.25rem;font-weight:500}.cantidad-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .precio-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{max-width:120px;text-align:right}.boton-eliminar-container[_ngcontent-%COMP%]{margin-left:auto;align-self:flex-end}']})};function Ik(i,t){i&1&&(c(0,"small"),p(1,"El nombre es obligatorio."),l())}function Ok(i,t){i&1&&(c(0,"small"),p(1,"Debe tener al menos 3 caracteres."),l())}function Fk(i,t){i&1&&(c(0,"small"),p(1,"No puede exceder los 100 caracteres."),l())}function Nk(i,t){if(i&1&&(c(0,"div",33),B(1,Ik,2,0,"small",34)(2,Ok,2,0,"small",34)(3,Fk,2,0,"small",34),l()),i&2){Q();let e=ae(9);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength),g(),M("ngIf",e.errors==null?null:e.errors.maxlength)}}function Lk(i,t){i&1&&(c(0,"small"),p(1,"No puede exceder los 255 caracteres."),l())}function Dk(i,t){if(i&1&&(c(0,"div",33),B(1,Lk,2,0,"small",34),l()),i&2){Q();let e=ae(15);g(),M("ngIf",e.errors==null?null:e.errors.maxlength)}}function Rk(i,t){i&1&&(c(0,"small"),p(1,"La fecha de inicio es obligatoria."),l())}function Bk(i,t){if(i&1&&(c(0,"div",33),B(1,Rk,2,0,"small",34),l()),i&2){Q();let e=ae(22);g(),M("ngIf",e.errors==null?null:e.errors.required)}}function Uk(i,t){i&1&&(c(0,"small"),p(1,"La fecha de fin es obligatoria."),l())}function Vk(i,t){if(i&1&&(c(0,"div",33),B(1,Uk,2,0,"small",34),l()),i&2){Q();let e=ae(28);g(),M("ngIf",e.errors==null?null:e.errors.required)}}function qk(i,t){if(i&1&&(c(0,"option",35),p(1),Kt(2,"titlecase"),l()),i&2){let e=t.$implicit;M("value",e),g(),Te(bi(2,2,e))}}function jk(i,t){if(i&1&&(c(0,"option",35),p(1),Kt(2,"titlecase"),l()),i&2){let e=t.$implicit;M("value",e),g(),Te(bi(2,2,e))}}function zk(i,t){if(i&1&&(c(0,"option",36),p(1),l()),i&2){let e=t.$implicit,r=Q();M("value",e.id)("selected",e.id===r.tarea.obraCivil.id),g(),Ke(" ",e.nombre," ")}}function Wk(i,t){i&1&&(c(0,"small"),p(1,"Debe seleccionar una obra civil."),l())}function Hk(i,t){if(i&1&&(c(0,"div",33),B(1,Wk,2,0,"small",34),l()),i&2){Q();let e=ae(47);g(),M("ngIf",e.errors==null?null:e.errors.required)}}var Rm=class i{constructor(t,e,r,n,o,a,d,u,m,v,y,w){this.tareaService=t;this.obraCivilService=e;this.servicioService=r;this.empleadoService=n;this.equipoService=o;this.materialService=a;this.servicioTareaService=d;this.empleadoTareaService=u;this.equipoTareaService=m;this.materialTareaService=v;this.route=y;this.router=w}tarea={nombre:"",descripcion:"",fechaInicio:"",fechaFin:"",estado:"pendiente",prioridad:"media",obraCivil:{id:0,nombre:""}};obrasCiviles=[];serviciosDisponibles=[];empleadosDisponibles=[];materialesDisponibles=[];equiposDisponibles=[];estados=["pendiente","en progreso","completada","cancelada"];prioridades=["baja","media","alta"];selectedServicios=[];selectedEmpleados=[];selectedEquipos=[];selectedMateriales=[];ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("id"));t&&this.tareaService.obtenerTareaPorId(t).subscribe(e=>{this.tarea=Ki(lt({},e),{fechaInicio:e.fechaInicio.split("T")[0],fechaFin:e.fechaFin.split("T")[0]})}),this.obraCivilService.obtenerObras().subscribe(e=>this.obrasCiviles=e),this.servicioService.obtenerServicios().subscribe(e=>this.serviciosDisponibles=e),this.empleadoService.obtenerEmpleados().subscribe(e=>this.empleadosDisponibles=e),this.materialService.obtenerMateriales().subscribe(e=>this.materialesDisponibles=e),this.equipoService.obtenerEquipos().subscribe(e=>this.equiposDisponibles=e)}actualizarTarea(){if(new Date(this.tarea.fechaFin)<new Date(this.tarea.fechaInicio)){alert("La fecha de fin no puede ser anterior a la fecha de inicio");return}this.tarea.id&&this.tareaService.actualizarTarea(this.tarea.id,this.tarea).subscribe(()=>{this.router.navigate(["/tarea"])})}cancelar(){this.router.navigate(["/tarea"])}static \u0275fac=function(e){return new(e||i)(ie(Xa),ie(ia),ie(mo),ie(Za),ie(fo),ie(Vn),ie(Cc),ie(wc),ie(Ec),ie(Sc),ie(Vi),ie(ht))};static \u0275cmp=ot({type:i,selectors:[["app-tarea-update"]],standalone:!0,features:[st],decls:55,vars:16,consts:[["tareaForm","ngForm"],["nombre","ngModel"],["descripcion","ngModel"],["fechaInicio","ngModel"],["fechaFin","ngModel"],["estado","ngModel"],["prioridad","ngModel"],["obraCivil","ngModel"],[1,"form-container"],[3,"ngSubmit"],[1,"form-group"],["for","nombre"],["id","nombre","name","nombre","placeholder","Nombre de la tarea","required","","minlength","3","maxlength","100",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","descripcion"],["id","descripcion","name","descripcion","placeholder","Descripci\xF3n de la tarea","maxlength","255","rows","3",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-row"],[1,"form-group","col-md-6"],["for","fechaInicio"],["type","date","id","fechaInicio","name","fechaInicio","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","fechaFin"],["type","date","id","fechaFin","name","fechaFin","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","estado"],["id","estado","name","estado","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","prioridad"],["id","prioridad","name","prioridad","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","obraCivil"],["id","obraCivil","name","obraCivil","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"value","selected",4,"ngFor","ngForOf"],[1,"button-container"],["type","submit",1,"submit-btn",3,"disabled"],["type","button",1,"cancel-btn",3,"click"],[1,"error-message"],[4,"ngIf"],[3,"value"],[3,"value","selected"]],template:function(e,r){if(e&1){let n=Je();c(0,"div",8)(1,"h2"),p(2,"Actualizar Tarea"),l(),c(3,"form",9,0),H("ngSubmit",function(){return N(n),D(r.actualizarTarea())}),c(5,"div",10)(6,"label",11),p(7,"Nombre:"),l(),c(8,"input",12,1),pe("ngModelChange",function(a){return N(n),ue(r.tarea.nombre,a)||(r.tarea.nombre=a),D(a)}),l(),B(10,Nk,4,3,"div",13),l(),c(11,"div",10)(12,"label",14),p(13,"Descripci\xF3n:"),l(),c(14,"textarea",15,2),pe("ngModelChange",function(a){return N(n),ue(r.tarea.descripcion,a)||(r.tarea.descripcion=a),D(a)}),l(),B(16,Dk,2,1,"div",13),l(),c(17,"div",16)(18,"div",17)(19,"label",18),p(20,"Fecha Inicio:"),l(),c(21,"input",19,3),pe("ngModelChange",function(a){return N(n),ue(r.tarea.fechaInicio,a)||(r.tarea.fechaInicio=a),D(a)}),l(),B(23,Bk,2,1,"div",13),l(),c(24,"div",17)(25,"label",20),p(26,"Fecha Fin:"),l(),c(27,"input",21,4),pe("ngModelChange",function(a){return N(n),ue(r.tarea.fechaFin,a)||(r.tarea.fechaFin=a),D(a)}),l(),B(29,Vk,2,1,"div",13),l()(),c(30,"div",16)(31,"div",17)(32,"label",22),p(33,"Estado:"),l(),c(34,"select",23,5),pe("ngModelChange",function(a){return N(n),ue(r.tarea.estado,a)||(r.tarea.estado=a),D(a)}),B(36,qk,3,4,"option",24),l()(),c(37,"div",17)(38,"label",25),p(39,"Prioridad:"),l(),c(40,"select",26,6),pe("ngModelChange",function(a){return N(n),ue(r.tarea.prioridad,a)||(r.tarea.prioridad=a),D(a)}),B(42,jk,3,4,"option",24),l()()(),c(43,"div",10)(44,"label",27),p(45,"Obra Civil:"),l(),c(46,"select",28,7),pe("ngModelChange",function(a){return N(n),ue(r.tarea.obraCivil.id,a)||(r.tarea.obraCivil.id=a),D(a)}),B(48,zk,2,3,"option",29),l(),B(49,Hk,2,1,"div",13),l(),c(50,"div",30)(51,"button",31),p(52,"Actualizar"),l(),c(53,"button",32),H("click",function(){return N(n),D(r.cancelar())}),p(54,"Cancelar"),l()()()()}if(e&2){let n=ae(4),o=ae(9),a=ae(15),d=ae(22),u=ae(28),m=ae(47);g(8),de("ngModel",r.tarea.nombre),g(2),M("ngIf",o.invalid&&(o.dirty||o.touched)),g(4),de("ngModel",r.tarea.descripcion),g(2),M("ngIf",a.invalid&&(a.dirty||a.touched)),g(5),de("ngModel",r.tarea.fechaInicio),g(2),M("ngIf",d.invalid&&(d.dirty||d.touched)),g(4),de("ngModel",r.tarea.fechaFin),g(2),M("ngIf",u.invalid&&(u.dirty||u.touched)),g(5),de("ngModel",r.tarea.estado),g(2),M("ngForOf",r.estados),g(4),de("ngModel",r.tarea.prioridad),g(2),M("ngForOf",r.prioridades),g(4),de("ngModel",r.tarea.obraCivil.id),g(2),M("ngForOf",r.obrasCiviles),g(),M("ngIf",m.invalid&&(m.dirty||m.touched)),g(2),M("disabled",n.invalid)}},dependencies:[Mt,Qt,Fi,Ni,kt,Ti,Pt,Jt,ri,xi,ev,Tt,ei,ct,Bt,yt,Gs],styles:[".form-container[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:14px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.error-message[_ngcontent-%COMP%]{color:red;font-size:16px;margin-top:5px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{width:48%;padding:10px;font-size:16px;border-radius:4px;cursor:pointer}.submit-btn[_ngcontent-%COMP%]{background-color:#ffc107;color:#fff;border:none}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6;cursor:not-allowed}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#e0a800}.cancel-btn[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})};var Bm=class i{constructor(t){this.http=t}apiUrl=pi.apiUrl;backupDatabase(){return this.http.post(`${this.apiUrl}/backup/database/h2`,{})}restoreDatabase(t){return this.http.post(`${this.apiUrl}/backup/restore/h2`,t)}getBackups(){return this.http.get(`${this.apiUrl}/backup/list`)}downloadBackup(t){return this.http.get(`${this.apiUrl}/backup/download?backupFilePath=${encodeURIComponent(t)}`,{responseType:"blob"})}getBackupsGD(){return this.http.get(`${this.apiUrl}/backup/api/backups`)}backupToGoogleDrive(){return this.http.post(`${this.apiUrl}/backup/drive`,{})}downloadDriveBackup(t){return this.http.get(`${this.apiUrl}/backup/drive/download/${t}`,{responseType:"blob"})}restoreFromDrive(t){return this.http.post(`${this.apiUrl}/backup/restore/${t}`,{})}restoreFromLocal(t){return this.http.post(`${this.apiUrl}/backup/restore/h2`,t)}static \u0275fac=function(e){return new(e||i)(Et(ui))};static \u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"})};function $k(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),p(2),l(),c(3,"td"),p(4),l(),c(5,"td"),p(6),l(),c(7,"td",35)(8,"div",37)(9,"button",38),H("click",function(){let n=N(e).$implicit,o=Q(2);return D(o.downloadBackup(n.ruta))}),Ee(10,"i",11),p(11," Descargar "),l()()()()}if(i&2){let e=t.$implicit;g(2),Te(e.id),g(2),Te(e.fechahora),g(2),Te(e.ruta),g(3),M("title","Descargar Backup")}}function Xk(i,t){if(i&1&&(c(0,"div",31)(1,"div",32)(2,"table",33)(3,"thead",34)(4,"tr")(5,"th"),p(6,"ID"),l(),c(7,"th"),p(8,"Fecha y Hora"),l(),c(9,"th"),p(10,"Ruta del Archivo"),l(),c(11,"th",35),p(12,"Acciones"),l()()(),c(13,"tbody"),B(14,$k,12,4,"tr",36),l()()()()),i&2){let e=Q();g(14),M("ngForOf",e.backups)}}function Zk(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),p(2),l(),c(3,"td"),p(4),l(),c(5,"td",35)(6,"button",42),H("click",function(){let n=N(e).$implicit,o=Q(2);return D(o.downloadFromDrive(n.id,n.name))}),Ee(7,"i",43),p(8," Descargar "),l(),c(9,"button",44),H("click",function(){let n=N(e).$implicit,o=Q(2);return D(o.openRestoreModal(n.id,n.name))}),Ee(10,"i",45),p(11," Restaurar "),l()()()}if(i&2){let e=t.$implicit;g(2),Te(e.name),g(2),Ke(" ",e.createdTime," ")}}function Yk(i,t){if(i&1&&(c(0,"div")(1,"h5",39),p(2,"Backups en Google Drive"),l(),c(3,"div",32)(4,"table",40)(5,"thead",41)(6,"tr")(7,"th"),p(8,"Nombre del Archivo"),l(),c(9,"th"),p(10,"Fecha y Hora"),l(),c(11,"th",35),p(12,"Acciones"),l()()(),c(13,"tbody"),B(14,Zk,12,2,"tr",36),l()()()()),i&2){let e=Q();g(14),M("ngForOf",e.driveBackups)}}function Kk(i,t){i&1&&(c(0,"div",46)(1,"div",47)(2,"span",48),p(3,"Cargando..."),l()()())}function Jk(i,t){if(i&1){let e=Je();c(0,"div",49)(1,"label",50),p(2,"Restaurar Backup H2"),l(),c(3,"h5",39),p(4,"Restaurar Backup H2"),l(),c(5,"div",51)(6,"input",52),H("change",function(n){N(e);let o=Q();return D(o.onFileSelected(n))}),l(),c(7,"button",53),H("click",function(){N(e);let n=Q();return D(n.uploadAndRestore())}),Ee(8,"i",54),p(9," Restaurar "),l()()()}if(i&2){let e=Q();g(7),M("disabled",e.isBackupInProgress)}}var Um=class i{constructor(t,e){this.backupService=t;this.datePipe=e}backups=[];driveBackups=[];selectedFile=null;isBackupInProgress=!1;isRestoreSectionVisible=!0;selectedFileId="";selectedFileName="";modalMessage="";ngOnInit(){this.getDriveBackups()}getBackups(){this.backupService.getBackups().subscribe(t=>{this.backups=t.map(e=>(e.fechahora=this.datePipe.transform(e.fechahora,"dd-MM-yyyy HH:mm:ss"),e)),console.log("Backups obtenidos:",this.backups)},t=>{console.error("Error al obtener los backups:",t),this.showMessage("Error al obtener backups desde Google Drive")})}backupHDos(){this.backupService.backupDatabase().subscribe(t=>{console.log("Backup H2 iniciado:",t),this.showMessage("Backup H2 iniciado correctamente")},t=>{console.error("Error al realizar el backup de H2:",t),t.status===500?this.showMessage("Hubo un error en el servidor al intentar realizar el backup."):t.status===0?this.showMessage("No se pudo conectar al servidor."):this.showMessage("Hubo un error al iniciar el backup de H2: "+t.message)})}restoreHDos(t){let e=t.target.files[0];if(e){let r=new FormData;r.append("file",e,e.name),this.backupService.restoreDatabase(r).subscribe(n=>{console.log("Restauraci\xF3n H2 iniciada:",n),this.showMessage("Restauraci\xF3n H2 iniciada correctamente")},n=>{console.error("Error al restaurar la base de datos H2:",n),this.showMessage("Hubo un error al restaurar la base de datos H2")})}}downloadBackup(t){this.backupService.downloadBackup(t).subscribe(e=>{let r=new Blob([e],{type:"application/zip"}),n=window.URL.createObjectURL(r),o=document.createElement("a");o.href=n,o.download=t.split("/").pop()||"backup.zip",o.click(),window.URL.revokeObjectURL(n)},e=>{console.error("Error al descargar el backup:",e),this.showMessage("Hubo un error al descargar el backup")})}getDriveBackups(){this.backupService.getBackupsGD().subscribe(t=>{this.driveBackups=t.map(e=>(e.createdTime=this.datePipe.transform(e.createdTime,"dd-MM-yyyy HH:mm:ss"),e)),console.log("Backups obtenidos:",this.driveBackups)},t=>{console.error("Error al obtener los backups:",t),this.showMessage("Error al obtener backups desde Google Drive")})}createBackupToDrive(){this.isBackupInProgress=!0,this.backupService.backupToGoogleDrive().subscribe(t=>{this.showMessage("Backup en Google Drive creado correctamente"),this.getDriveBackups(),this.isBackupInProgress=!1},t=>{this.showMessage("Error al crear backup en Google Drive"),console.error(t),this.isBackupInProgress=!1})}downloadFromDrive(t,e){this.backupService.downloadDriveBackup(t).subscribe(r=>{let n=window.URL.createObjectURL(r),o=document.createElement("a");o.href=n,o.download=e,o.click(),window.URL.revokeObjectURL(n)},r=>{console.error("Error al descargar backup de Drive:",r),this.showMessage("Error al descargar backup desde Google Drive")})}restoreFromDrive(t){confirm("\xBFEst\xE1 seguro que desea restaurar este backup? Se sobrescribir\xE1 la base de datos actual.")&&this.backupService.restoreFromDrive(t).subscribe(()=>{this.showMessage("Backup restaurado correctamente.")},e=>{console.error("Error al restaurar backup:",e),this.showMessage("Error al restaurar backup desde Google Drive")})}onFileSelected(t){this.selectedFile=t.target.files[0]}uploadAndRestore(){if(!this.selectedFile){this.showMessage("Por favor, seleccione un archivo de backup .zip");return}let t=new FormData;t.append("file",this.selectedFile),this.backupService.restoreFromLocal(t).subscribe(()=>{this.showMessage("Backup restaurado desde archivo local correctamente")},e=>{console.error("Error al restaurar backup local:",e),this.showMessage("Error al restaurar desde archivo local")})}openRestoreModal(t,e){this.selectedFileId=t,this.selectedFileName=e;let r=document.getElementById("restoreConfirmModal");r&&new bootstrap.Modal(r).show()}confirmRestore(){let t=document.getElementById("restoreConfirmModal"),e=bootstrap.Modal.getInstance(t);e&&e.hide(),this.backupService.restoreFromDrive(this.selectedFileId).subscribe(r=>{alert("Restauraci\xF3n completada con \xE9xito."),this.showMessage("Restauraci\xF3n completada con \xE9xito.")},r=>{console.error("Error al restaurar:",r),this.showMessage("Hubo un error al intentar restaurar la base de datos.")})}showMessage(t){this.modalMessage=t;let e=document.getElementById("messageModal");e&&new bootstrap.Modal(e).show()}static \u0275fac=function(e){return new(e||i)(ie(Bm),ie(cn))};static \u0275cmp=ot({type:i,selectors:[["app-backup"]],standalone:!0,features:[uo([cn]),st],decls:54,vars:7,consts:[[1,"content"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"card","shadow-sm"],[1,"card-body"],[1,"row","mb-3"],[1,"m-0"],[1,"row","mb-4"],[1,"col-md-6","mb-3"],[1,"btn","btn-primary","w-100",3,"click","disabled"],[1,"bi","bi-download"],["hidden","","style","max-height: 400px; overflow-y: auto",4,"ngIf"],[4,"ngIf"],["class","text-center mt-3",4,"ngIf"],["class","mb-4",4,"ngIf"],["id","restoreConfirmModal","tabindex","-1","aria-labelledby","restoreConfirmModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","bg-danger","text-white"],["id","restoreConfirmModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Cerrar",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"btn","btn-danger",3,"click"],["id","messageModal","tabindex","-1","aria-labelledby","messageModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-header","bg-primary","text-white"],["id","messageModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["hidden","",2,"max-height","400px","overflow-y","auto"],[1,"table-responsive"],[1,"table","table-bordered","table-striped"],[1,"table-primary"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"d-flex","gap-2","justify-content-center"],[1,"btn","btn-secondary","btn-sm",3,"click","title"],[1,"mt-4"],[1,"table","table-bordered","table-hover"],[1,"table-success"],[1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"bi","bi-cloud-download"],[1,"btn","btn-outline-success","btn-sm",3,"click"],[1,"bi","bi-arrow-repeat"],[1,"text-center","mt-3"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"mb-4"],["hidden","",1,"form-label"],[1,"input-group"],["type","file","accept",".zip",1,"form-control",3,"change"],[1,"btn","btn-danger",3,"click","disabled"],[1,"bi","bi-upload"]],template:function(e,r){e&1&&(c(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",3)(8,"h4",7),p(9,"Gesti\xF3n de Backup-Restore"),l()()(),c(10,"div",8)(11,"div",9)(12,"button",10),H("click",function(){return r.createBackupToDrive()}),Ee(13,"i",11),p(14," Backup H2 "),l()()(),B(15,Xk,15,1,"div",12)(16,Yk,15,1,"div",13)(17,Kk,4,0,"div",14)(18,Jk,10,1,"div",15),l()()()()()(),c(19,"div",16)(20,"div",17)(21,"div",18)(22,"div",19)(23,"h5",20),p(24," \xBFConfirmar Restauraci\xF3n? "),l(),Ee(25,"button",21),l(),c(26,"div",22)(27,"p")(28,"strong"),p(29,"Advertencia:"),l(),p(30," Esto restaurar\xE1 la base de datos al estado del archivo seleccionado."),Ee(31,"br"),p(32," Se perder\xE1n todos los datos actuales. \xBFDeseas continuar? "),l(),c(33,"p")(34,"strong"),p(35,"Archivo:"),l(),p(36),l()(),c(37,"div",23)(38,"button",24),p(39," Cancelar "),l(),c(40,"button",25),H("click",function(){return r.confirmRestore()}),p(41," S\xED, restaurar "),l()()()()(),c(42,"div",26)(43,"div",27)(44,"div",18)(45,"div",28)(46,"h5",29),p(47,"Mensaje"),l(),Ee(48,"button",21),l(),c(49,"div",22),p(50),l(),c(51,"div",23)(52,"button",30),p(53," Cerrar "),l()()()()()),e&2&&(g(12),M("disabled",r.isBackupInProgress),g(3),M("ngIf",r.backups.length>0),g(),M("ngIf",r.driveBackups.length>0),g(),M("ngIf",r.isBackupInProgress),g(),M("ngIf",r.isRestoreSectionVisible),g(18),Ke(" ",r.selectedFileName,""),g(14),Ke(" ",r.modalMessage," "))},dependencies:[ct,Bt,yt]})};var Pc=pd(gp());function Qk(i,t){if(i&1){let e=Je();c(0,"div",3)(1,"div",36)(2,"div",37)(3,"div",38)(4,"div",5)(5,"p",39)(6,"strong"),p(7,"Plano:"),l()(),c(8,"img",40),H("click",function(){let n=N(e).$implicit,o=Q();return D(o.abrirModalImg(n.planoUrl))}),l()(),c(9,"div",5)(10,"p",39)(11,"strong"),p(12,"Ubicacion:"),l()(),Ee(13,"div",41),l()(),c(14,"div",42)(15,"div",5)(16,"h5",43),p(17),l(),c(18,"p",39)(19,"strong"),p(20,"Descripci\xF3n:"),l(),p(21),l(),c(22,"p",39)(23,"strong"),p(24,"Tipo de Obra:"),l(),p(25),l(),c(26,"p",39)(27,"strong"),p(28,"Direccion:"),l(),p(29),l(),c(30,"p",39)(31,"strong"),p(32,"Estado:"),l(),p(33),l(),c(34,"p",39)(35,"strong"),p(36,"Fecha de Inicio:"),l(),p(37),Kt(38,"date"),l(),c(39,"p",39)(40,"strong"),p(41,"Fecha Estimada de Finalizaci\xF3n:"),l(),p(42),Kt(43,"date"),l(),c(44,"p",39)(45,"strong"),p(46,"Costo Estimado:"),l(),p(47),Kt(48,"number"),l(),c(49,"p",39)(50,"strong"),p(51,"Costo Actual:"),l(),p(52),Kt(53,"number"),l(),c(54,"p",39)(55,"strong"),p(56,"Presupuesto Disponible:"),l(),p(57),Kt(58,"number"),l(),c(59,"div",44)(60,"button",45),H("click",function(){let n=N(e).$implicit,o=Q();return D(o.verDetalleObra(n.id))}),Ee(61,"i",46),p(62," Ver "),l(),c(63,"button",47),H("click",function(){let n=N(e).$implicit,o=Q();return D(o.irAEditarObra(n.id))}),Ee(64,"i",48),p(65," Editar "),l(),c(66,"button",49),H("click",function(){let n=N(e).$implicit,o=Q();return D(o.confirmarEliminarObra(n.id))}),Ee(67,"i",35),p(68," Eliminar "),l()(),c(69,"div",44)(70,"button",50),H("click",function(){let n=N(e).$implicit,o=Q();return D(o.verAvanceObra(n.id))}),Ee(71,"i",51),p(72," Ver Avance "),l(),c(73,"button",52),H("click",function(){let n=N(e).$implicit,o=Q();return D(o.generarReporteObra(n.id))}),Ee(74,"i",53),p(75," Generar Reporte "),l()()()()()()()}if(i&2){let e=t.$implicit,r=t.index;g(8),d0("src",e.planoUrl,l0),g(5),Hs("id","map-",r,""),g(4),Te(e.nombre),g(4),Ke(" ",e.descripcion," "),g(4),Ke(" ",e.tipoObra," "),g(4),Ke(" ",e.direccion," "),g(4),Ke(" ",e.estado," "),g(4),Ke(" ",bi(38,13,e.fechaInicio)," "),g(5),Ke(" ",bi(43,15,e.fechaFinEstimada)," "),g(5),Ke(" $",bi(48,17,e.costoEstimado)," "),g(5),Ke(" $",bi(53,19,e.costo)," "),g(5),Ke(" $",bi(58,21,e.presupuestoDisponible)," ")}}function e6(i,t){if(i&1&&Ee(0,"img",54),i&2){let e=Q();M("src",e.imagenUrl,l0)}}var qm=class i{constructor(t,e,r,n,o){this.cdr=t;this.obracivilService=e;this.router=r;this.filterService=n;this.paginationService=o}obras=[];obrasFiltradas=[];obrasPaginadas=[];textoBusqueda="";paginaActual=1;elementosPorPagina=10;totalPaginas=0;mostrarModal=!1;obraAEliminarId=null;mostrarModalImagen=!1;imagenUrl=null;ngOnInit(){this.obtenerObrasCivilesDesc()}ngAfterViewInit(){this.cdr.detectChanges(),setTimeout(()=>{this.initMaps()},500)}initMaps(){this.obrasPaginadas.length>0&&this.obrasPaginadas.forEach((t,e)=>{let r=`map-${e}`;if(document.getElementById(r)){let o=Pc.map(r).setView([t.latitud,t.longitud],13);Pc.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(o);let a=Pc.icon({iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[0,-41]});Pc.marker([t.latitud,t.longitud],{icon:a}).addTo(o).bindPopup(`Ubicaci\xF3n de la obra: ${t.nombre}`).openPopup()}else console.error(`El contenedor para el mapa con id ${r} no se encuentra.`)})}obtenerObrasCiviles(){this.obracivilService.obtenerObras().subscribe(t=>{this.obras=t,this.obrasFiltradas=t,console.log("OBRAS: ",this.obrasFiltradas),this.calcularPaginacion()})}obtenerObrasCivilesDesc(){this.obracivilService.obtenerObrasDesc().subscribe(t=>{this.obras=t,this.obrasFiltradas=t,console.log("OBRAS: ",this.obrasFiltradas),this.calcularPaginacion()})}irACrearObra(){this.router.navigate(["/obra-civil-create"])}irAEditarObra(t){this.router.navigate([`/obra-civil-update/${t}`])}verDetalleObra(t){this.router.navigate([`/obra-civil-show/${t}`])}eliminarObra(t){this.obracivilService.eliminarObra(t).subscribe(()=>{this.obtenerObrasCivilesDesc()})}confirmarEliminarObra(t){this.obraAEliminarId=t,this.mostrarModal=!0}eliminarObraConfirmada(){console.log("obraAEliminarId",this.obraAEliminarId),this.obraAEliminarId!==null&&(console.log("Obra Civil en proceso."),this.cerrarModal())}cerrarModal(){this.mostrarModal=!1,this.obraAEliminarId=null}filtrarObras(){this.obrasFiltradas=this.filterService.filtrar(this.obras,this.textoBusqueda),this.paginaActual=1,this.calcularPaginacion()}calcularPaginacion(){let t=this.paginationService.paginate(this.obrasFiltradas,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.obrasPaginadas=t.paginatedData}cambiarPagina(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarUsuariosPaginados()}actualizarPermisosPaginadas(){let t=this.paginationService.paginate(this.obrasFiltradas,this.paginaActual,this.elementosPorPagina);this.obrasPaginadas=t.paginatedData}crearNuevoPermiso(){console.log("Crear nuevo permiso")}editarPermiso(t){console.log("Editar permiso con ID:",t)}actualizarUsuariosPaginados(){let t=this.paginationService.paginate(this.obrasFiltradas,this.paginaActual,this.elementosPorPagina);this.obrasPaginadas=t.paginatedData}abrirModalImg(t){this.imagenUrl=t,this.mostrarModalImagen=!0}cerrarModalImg(){this.imagenUrl=null,this.mostrarModalImagen=!1}verAvanceObra(t){this.router.navigate([`/obra-civil-gantt/${t}`])}generarReporteObra(t){this.router.navigate([`/obra-civil-tarea-reporte/${t}`])}static \u0275fac=function(e){return new(e||i)(ie(gs),ie(ia),ie(ht),ie(zi),ie(Yi))};static \u0275cmp=ot({type:i,selectors:[["app-obracivil-list"]],standalone:!0,features:[st],decls:50,vars:6,consts:[[1,"content"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"card","shadow-sm"],[1,"card-body"],[1,"row","mb-3"],[1,"col-12","col-md-6"],[1,"m-0"],[1,"col-12","col-md-6","text-md-end"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-plus-circle"],[1,"form-group","mb-3"],["type","text","placeholder","Buscar por nombre o descripci\xF3n",1,"form-control",3,"ngModelChange","input","ngModel"],["class","col-12",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","justify-content-center","mt-4"],[1,"btn","btn-outline-secondary","btn-sm",3,"click","disabled"],[1,"mx-3"],["id","imageModal","tabindex","-1","aria-labelledby","imageModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","imageModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","text-center"],["class","img-fluid","alt","Plano de la obra",3,"src",4,"ngIf"],["id","deleteModal","tabindex","-1","aria-labelledby","deleteModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],["id","deleteModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"bi","bi-x-circle"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"bi","bi-trash"],[1,"card","mb-4"],[1,"row","g-0"],[1,"col-md-5"],[1,"card-text"],["alt","Plano de la obra","data-bs-toggle","modal","data-bs-target","#imageModal",1,"card-img-top","img-fluid",2,"max-height","150px","max-width","60%","object-fit","cover",3,"click","src"],[2,"height","300px","width","100%",3,"id"],[1,"col-md-7"],[1,"card-title"],[1,"d-flex","gap-2","justify-content-start"],[1,"btn","btn-secondary","btn-sm",3,"click"],[1,"bi","bi-eye"],[1,"btn","btn-warning","btn-sm",3,"click"],[1,"bi","bi-pencil"],["data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger","btn-sm",3,"click"],[1,"btn","btn-outline-primary","mt-2",3,"click"],[1,"bi","bi-bar-chart-steps"],[1,"btn","btn-outline-success","mt-2",3,"click"],[1,"bi","bi-file-earmark-text"],["alt","Plano de la obra",1,"img-fluid",3,"src"]],template:function(e,r){e&1&&(c(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h4",8),p(9,"Obras Civiles"),l()(),c(10,"div",9)(11,"button",10),H("click",function(){return r.irACrearObra()}),Ee(12,"i",11),p(13," Crear nueva obra "),l()()(),c(14,"div",12)(15,"input",13),pe("ngModelChange",function(o){return ue(r.textoBusqueda,o)||(r.textoBusqueda=o),o}),H("input",function(){return r.filtrarObras()}),l()(),c(16,"div",2),B(17,Qk,76,23,"div",14),l(),c(18,"div",15)(19,"button",16),H("click",function(){return r.cambiarPagina("previous")}),p(20," \u2190 Anterior "),l(),c(21,"span",17),p(22),l(),c(23,"button",16),H("click",function(){return r.cambiarPagina("next")}),p(24," Siguiente \u2192 "),l()()()()()()()(),c(25,"div",18)(26,"div",19)(27,"div",20)(28,"div",21)(29,"h5",22),p(30,"Plano de la Obra"),l(),c(31,"button",23),H("click",function(){return r.cerrarModalImg()}),l()(),c(32,"div",24),B(33,e6,1,1,"img",25),l()()()(),c(34,"div",26)(35,"div",27)(36,"div",20)(37,"div",21)(38,"h5",28),p(39," Confirmaci\xF3n de Eliminaci\xF3n "),l(),Ee(40,"button",29),l(),c(41,"div",30),p(42," \xBFEst\xE1s seguro de que deseas eliminar esta obra? "),l(),c(43,"div",31)(44,"button",32),Ee(45,"i",33),p(46," Cancelar "),l(),c(47,"button",34),H("click",function(){return r.eliminarObraConfirmada()}),Ee(48,"i",35),p(49," Eliminar "),l()()()()()),e&2&&(g(15),de("ngModel",r.textoBusqueda),g(2),M("ngForOf",r.obrasPaginadas),g(2),M("disabled",r.paginaActual===1),g(3),Ke(" P\xE1gina ",r.paginaActual," "),g(),M("disabled",r.paginaActual===r.totalPaginas),g(10),M("ngIf",r.imagenUrl))},dependencies:[ct,Bt,yt,cc,cn,ji,Mt,kt,Pt,Tt]})};var Tc=pd(gp());var Mc=class i{constructor(t){this.http=t}apiUrl=pi.apiUrl;obtenerObraCivilUsuario(){return this.http.get(`${this.apiUrl}/obra-civil-usuario`)}obtenerObraCivilUsuarioPorId(t){return this.http.get(`${this.apiUrl}/obra-civil-usuario/${t}`)}crearObraCivilUsuario(t){return this.http.post(`${this.apiUrl}/obra-civil-usuario`,t)}actualizarObraCivilUsuario(t,e){return this.http.put(`${this.apiUrl}/obra-civil-usuario/${t}`,e)}eliminarObraCivilUsuario(t){return this.http.delete(`${this.apiUrl}/obra-civil-usuario/${t}`)}obtenerRelacionesCli(t){return this.http.get(`${this.apiUrl}/obra-civil-usuario/${t}/rol/Cliente`)}obtenerRelacionesEmp(t){return this.http.get(`${this.apiUrl}/obra-civil-usuario/${t}/rol/Empleado`)}static \u0275fac=function(e){return new(e||i)(Et(ui))};static \u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"})};function t6(i,t){i&1&&(c(0,"small"),p(1,"El nombre es obligatorio."),l())}function i6(i,t){i&1&&(c(0,"small"),p(1,"El nombre debe tener al menos 3 caracteres."),l())}function r6(i,t){if(i&1&&(c(0,"div",78),B(1,t6,2,0,"small",79)(2,i6,2,0,"small",79),l()),i&2){Q();let e=ae(15);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function n6(i,t){i&1&&(c(0,"small"),p(1,"La descripci\xF3n es obligatoria."),l())}function o6(i,t){if(i&1&&(c(0,"div",78),B(1,n6,2,0,"small",79),l()),i&2){Q();let e=ae(21);g(),M("ngIf",e.errors==null?null:e.errors.required)}}function a6(i,t){if(i&1&&(c(0,"option",80),p(1),l()),i&2){let e=t.$implicit;M("value",e.id),g(),Di(" ",e.apellido," ",e.nombre," ")}}function s6(i,t){i&1&&(c(0,"div",78),Ee(1,"small"),p(2,"El propietario (cliente) es obligatorio. "),l())}function l6(i,t){if(i&1&&(c(0,"option",80),p(1),l()),i&2){let e=t.$implicit;M("value",e.id),g(),Di(" ",e.apellido," ",e.nombre," ")}}function c6(i,t){i&1&&(c(0,"div",78),Ee(1,"small"),p(2,"El responsable (empleado) es obligatorio. "),l())}function d6(i,t){i&1&&(c(0,"small"),p(1,"El costo estimado es obligatorio."),l())}function u6(i,t){if(i&1&&(c(0,"div",78),B(1,d6,2,0,"small",79),l()),i&2){Q();let e=ae(44);g(),M("ngIf",e.errors==null?null:e.errors.required)}}function p6(i,t){i&1&&(c(0,"small"),p(1,"El costo real es obligatorio."),l())}function f6(i,t){if(i&1&&(c(0,"div",78),B(1,p6,2,0,"small",79),l()),i&2){Q();let e=ae(50);g(),M("ngIf",e.errors==null?null:e.errors.required)}}function m6(i,t){i&1&&(c(0,"small"),p(1,"El presupuesto es obligatorio."),l())}function h6(i,t){if(i&1&&(c(0,"div",78),B(1,m6,2,0,"small",79),l()),i&2){Q();let e=ae(56);g(),M("ngIf",e.errors==null?null:e.errors.required)}}function g6(i,t){i&1&&(c(0,"small"),p(1,"El presupuesto disponible es obligatorio."),l())}function v6(i,t){if(i&1&&(c(0,"div",78),B(1,g6,2,0,"small",79),l()),i&2){Q();let e=ae(63);g(),M("ngIf",e.errors==null?null:e.errors.required)}}function _6(i,t){i&1&&(c(0,"small"),p(1,"La fecha de inicio es obligatoria."),l())}function b6(i,t){if(i&1&&(c(0,"div",78),B(1,_6,2,0,"small",79),l()),i&2){Q();let e=ae(69);g(),M("ngIf",e.errors==null?null:e.errors.required)}}function x6(i,t){i&1&&(c(0,"small"),p(1,"La fecha estimada de fin es obligatoria."),l())}function y6(i,t){if(i&1&&(c(0,"div",78),B(1,x6,2,0,"small",79),l()),i&2){Q();let e=ae(75);g(),M("ngIf",e.errors==null?null:e.errors.required)}}function C6(i,t){i&1&&(c(0,"small"),p(1,"El estado es obligatorio."),l())}function w6(i,t){if(i&1&&(c(0,"div",78),B(1,C6,2,0,"small",79),l()),i&2){Q();let e=ae(87);g(),M("ngIf",e.errors==null?null:e.errors.required)}}function S6(i,t){i&1&&(c(0,"small"),p(1,"El tipo de obra es obligatorio."),l())}function E6(i,t){if(i&1&&(c(0,"div",78),B(1,S6,2,0,"small",79),l()),i&2){Q();let e=ae(109);g(),M("ngIf",e.errors==null?null:e.errors.required)}}function P6(i,t){i&1&&(c(0,"small"),p(1," La URL del plano es obligatoria. "),l())}function M6(i,t){if(i&1&&(c(0,"div",78),B(1,P6,2,0,"small",79),l()),i&2){Q();let e=ae(123);g(),M("ngIf",e.errors==null?null:e.errors.required)}}function T6(i,t){i&1&&(c(0,"small"),p(1," La direccion es obligatoria. "),l())}function k6(i,t){if(i&1&&(c(0,"div",78),B(1,T6,2,0,"small",79),l()),i&2){Q();let e=ae(129);g(),M("ngIf",e.errors==null?null:e.errors.required)}}var jm=class i{constructor(t,e,r,n){this.usuarioService=t;this.obraCivilService=e;this.obraCivilUsuarioService=r;this.router=n}obraCivil={nombre:"",descripcion:"",costoEstimado:0,costo:0,presupuesto:0,presupuestoDisponible:0,fechaInicio:void 0,fechaFinEstimada:void 0,estado:"En planificaci\xF3n",tipoObra:"VIVIENDA",direccion:"",latitud:0,longitud:0,planoUrl:"",fechaTerminacionReal:void 0};submitted=!1;usuariosClientes=[];usuariosEmpleados=[];usuario={nombre:"",apellido:"",correo:"",contrasena:"",telefono:"",direccion:"",fechaNacimiento:"",genero:"",numeroIdentificacion:"",rol:{id:0,nombre:"",descripcion:""}};usuarioCliente={nombre:"",apellido:"",correo:"",contrasena:"",telefono:"",direccion:"",fechaNacimiento:"",genero:"",numeroIdentificacion:"",rol:{id:0,nombre:"",descripcion:""}};usuarioEncargado={nombre:"",apellido:"",correo:"",contrasena:"",telefono:"",direccion:"",fechaNacimiento:"",genero:"",numeroIdentificacion:"",rol:{id:0,nombre:"",descripcion:""}};idUsuarioCliente=0;idUsuarioEmpleado=0;ngOnInit(){this.cargarClientes(),this.cargarEncargado()}cargarClientes(){this.usuarioService.getUsuariosPorRol("Cliente").subscribe(t=>{this.usuariosClientes=t})}cargarEncargado(){this.usuarioService.getUsuariosPorRol("Empleado").subscribe(t=>{this.usuariosEmpleados=t})}ngAfterViewInit(){let t=Tc.map("map").setView([-17.769553,-63.171463],9);Tc.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(t);let e=Tc.marker([-17.769553,-63.171463],{icon:Tc.icon({iconUrl:"https://unpkg.com/leaflet/dist/images/marker-icon.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34]})}).addTo(t);t.on("click",r=>{let n=r.latlng.lat.toFixed(6),o=r.latlng.lng.toFixed(6);this.obraCivil.latitud=parseFloat(n),this.obraCivil.longitud=parseFloat(o),e.setLatLng([parseFloat(n),parseFloat(o)])})}crearObraCivill(){console.log("obracivil",this.obraCivil),console.log("idcliente",this.idUsuarioCliente),console.log("idencargado",this.idUsuarioEmpleado)}crearObraCivil(){console.log("obracivil",this.obraCivil),this.obraCivilService.crearObra(this.obraCivil).subscribe(t=>{console.log("NEW:",t),console.log("Usuarios clientes:",this.usuariosClientes),console.log("Usuarios empleados:",this.usuariosEmpleados),console.log("ID cliente seleccionado:",this.idUsuarioCliente),console.log("ID empleado seleccionado:",this.idUsuarioEmpleado);let e=this.usuariosClientes.find(n=>n.id===Number(this.idUsuarioCliente)),r=this.usuariosEmpleados.find(n=>n.id===Number(this.idUsuarioEmpleado));if(console.log("Usuarios clienteSeleccionado:",e),console.log("Usuarios empleadoSeleccionado:",r),e&&r){let n={obraCivil:{id:t.id},usuario:{id:e.id}},o={obraCivil:{id:t.id},usuario:{id:r.id}};console.log("Usuarios obraCivilUsuarioCli:",n),console.log("Usuarios obraCivilUsuarioEnc:",o),this.obraCivilUsuarioService.crearObraCivilUsuario(n).subscribe(),this.obraCivilUsuarioService.crearObraCivilUsuario(o).subscribe(),this.router.navigate(["/obra-civil"])}else console.error("Cliente o empleado no encontrado.")})}cancelar(){this.router.navigate(["/obra-civil"])}idEmpleadoChange(t){this.idUsuarioEmpleado=t}onClienteChange(){console.log("Cliente seleccionado:",this.idUsuarioCliente)}static \u0275fac=function(e){return new(e||i)(ie(ta),ie(ia),ie(Mc),ie(ht))};static \u0275cmp=ot({type:i,selectors:[["app-obracivil-create"]],standalone:!0,features:[st],decls:145,vars:38,consts:[["obraCivilForm","ngForm"],["nombre","ngModel"],["descripcion","ngModel"],["costoEstimado","ngModel"],["costo","ngModel"],["presupuesto","ngModel"],["presupuestoDisponible","ngModel"],["fechaInicio","ngModel"],["fechaFinEstimada","ngModel"],["fechaTerminacionReal","ngModel"],["estado","ngModel"],["tipoObra","ngModel"],["planoUrl","ngModel"],["direccion","ngModel"],[1,"content"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"card","shadow-sm"],[1,"card-body"],[1,"mb-3"],[3,"ngSubmit"],[1,"col-12","col-md-6","mb-3"],["for","nombre",1,"form-label","fw-bold"],["type","text","id","nombre","placeholder","Ingrese el nombre de la obra civil","name","nombre","required","","minlength","3",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel"],["class","error-message text-danger",4,"ngIf"],["for","descripcion",1,"form-label","fw-bold"],["id","descripcion","rows","3","placeholder","Ingrese la descripci\xF3n de la obra civil","name","descripcion","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel"],["for","idUsuarioCliente",1,"form-label","fw-bold"],["id","idUsuarioCliente","name","idUsuarioCliente","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel"],["disabled","","selected","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["for","idUsuarioEmpleado",1,"form-label","fw-bold"],["id","idUsuarioEmpleado","name","idUsuarioEmpleado","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel"],[1,"row","mb-3"],[1,"col-12","col-md-4"],["for","costoEstimado",1,"form-label","fw-bold"],["type","number","id","costoEstimado","placeholder","Ingrese el costo estimado","name","costoEstimado","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel","min"],["for","costo",1,"form-label","fw-bold"],["type","number","id","costo","placeholder","Ingrese el costo real","name","costo","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel","min"],["for","presupuesto",1,"form-label","fw-bold"],["type","number","id","presupuesto","placeholder","Ingrese el presupuesto","name","presupuesto","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel","min"],["for","presupuestoDisponible",1,"form-label","fw-bold"],["type","number","id","presupuestoDisponible","placeholder","Ingrese el presupuesto disponible","name","presupuestoDisponible","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel","min"],["for","fechaInicio",1,"form-label","fw-bold"],["type","date","id","fechaInicio","name","fechaInicio","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel"],["for","fechaFinEstimada",1,"form-label","fw-bold"],["type","date","id","fechaFinEstimada","name","fechaFinEstimada","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel"],["for","fechaTerminacionReal",1,"form-label","fw-bold"],["type","date","id","fechaTerminacionReal","name","fechaTerminacionReal",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel"],["for","estado",1,"form-label","fw-bold"],["id","estado","name","estado","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel"],["value","En planificaci\xF3n"],["value","En dise\xF1o"],["value","En progreso"],["value","En construcci\xF3n"],["value","En mantenimiento"],["value","Reparaciones"],["value","Finalizada"],["value","Cancelada"],["for","tipoObra",1,"form-label","fw-bold"],["id","tipoObra","name","tipoObra","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel"],["value","VIVIENDA"],["value","COMERCIAL"],["value","INDUSTRIAL"],["value","OTROS"],["for","planoUrl",1,"form-label","fw-bold"],["type","text","id","planoUrl","placeholder","Ingrese la URL del plano","name","planoUrl","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel"],["for","direccion",1,"form-label","fw-bold"],["type","text","id","direccion","placeholder","Ingrese la direccion de la obra civil","name","direccion","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel"],["for","ubicacion",1,"form-label","fw-bold"],["id","map",2,"height","300px"],[1,"text-muted","mt-2"],[1,"col-12","col-md-6","d-flex","justify-content-start","gap-3"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"bi","bi-plus-circle","mr-1"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-x-circle","mr-1"],[1,"error-message","text-danger"],[4,"ngIf"],[3,"value"]],template:function(e,r){if(e&1){let n=Je();c(0,"section",14)(1,"div",15)(2,"div",16)(3,"div",17)(4,"div",18)(5,"div",19)(6,"h4",20),p(7,"Crear Obra Civil"),l(),c(8,"form",21,0),H("ngSubmit",function(){return N(n),D(r.crearObraCivil())})("ngSubmit",function(){return N(n),D(r.submitted=!0)}),c(10,"div",16)(11,"div",22)(12,"label",23),p(13,"Nombre:"),l(),c(14,"input",24,1),pe("ngModelChange",function(a){return N(n),ue(r.obraCivil.nombre,a)||(r.obraCivil.nombre=a),D(a)}),l(),B(16,r6,3,2,"div",25),l(),c(17,"div",22)(18,"label",26),p(19,"Descripci\xF3n:"),l(),c(20,"textarea",27,2),pe("ngModelChange",function(a){return N(n),ue(r.obraCivil.descripcion,a)||(r.obraCivil.descripcion=a),D(a)}),l(),B(22,o6,2,1,"div",25),l(),c(23,"div",22)(24,"label",28),p(25,"Seleccionar Propietario (Cliente):"),l(),c(26,"select",29),pe("ngModelChange",function(a){return N(n),ue(r.idUsuarioCliente,a)||(r.idUsuarioCliente=a),D(a)}),H("ngModelChange",function(){return N(n),D(r.onClienteChange())}),c(27,"option",30),p(28," Seleccione un propietario... "),l(),B(29,a6,2,3,"option",31),l(),B(30,s6,3,0,"div",25),l(),c(31,"div",22)(32,"label",32),p(33,"Agregar Responsable (Empleado):"),l(),c(34,"select",33),pe("ngModelChange",function(a){return N(n),ue(r.idUsuarioEmpleado,a)||(r.idUsuarioEmpleado=a),D(a)}),c(35,"option",30),p(36," Seleccione un empleado... "),l(),B(37,l6,2,3,"option",31),l(),B(38,c6,3,0,"div",25),l(),c(39,"div",34)(40,"div",35)(41,"label",36),p(42,"Costo Estimado:"),l(),c(43,"input",37,3),pe("ngModelChange",function(a){return N(n),ue(r.obraCivil.costoEstimado,a)||(r.obraCivil.costoEstimado=a),D(a)}),l(),B(45,u6,2,1,"div",25),l(),c(46,"div",35)(47,"label",38),p(48,"Costo Real:"),l(),c(49,"input",39,4),pe("ngModelChange",function(a){return N(n),ue(r.obraCivil.costo,a)||(r.obraCivil.costo=a),D(a)}),l(),B(51,f6,2,1,"div",25),l(),c(52,"div",35)(53,"label",40),p(54,"Presupuesto:"),l(),c(55,"input",41,5),pe("ngModelChange",function(a){return N(n),ue(r.obraCivil.presupuesto,a)||(r.obraCivil.presupuesto=a),D(a)}),l(),B(57,h6,2,1,"div",25),l()(),c(58,"div",34)(59,"div",35)(60,"label",42),p(61,"Presupuesto Disponible:"),l(),c(62,"input",43,6),pe("ngModelChange",function(a){return N(n),ue(r.obraCivil.presupuestoDisponible,a)||(r.obraCivil.presupuestoDisponible=a),D(a)}),l(),B(64,v6,2,1,"div",25),l(),c(65,"div",35)(66,"label",44),p(67,"Fecha de Inicio:"),l(),c(68,"input",45,7),pe("ngModelChange",function(a){return N(n),ue(r.obraCivil.fechaInicio,a)||(r.obraCivil.fechaInicio=a),D(a)}),l(),B(70,b6,2,1,"div",25),l(),c(71,"div",35)(72,"label",46),p(73,"Fecha Estimada de Fin:"),l(),c(74,"input",47,8),pe("ngModelChange",function(a){return N(n),ue(r.obraCivil.fechaFinEstimada,a)||(r.obraCivil.fechaFinEstimada=a),D(a)}),l(),B(76,y6,2,1,"div",25),l()(),c(77,"div",34)(78,"div",35)(79,"label",48),p(80,"Fecha de Terminaci\xF3n Real:"),l(),c(81,"input",49,9),pe("ngModelChange",function(a){return N(n),ue(r.obraCivil.fechaTerminacionReal,a)||(r.obraCivil.fechaTerminacionReal=a),D(a)}),l()(),c(83,"div",35)(84,"label",50),p(85,"Seleccionar Estado:"),l(),c(86,"select",51,10),pe("ngModelChange",function(a){return N(n),ue(r.obraCivil.estado,a)||(r.obraCivil.estado=a),D(a)}),c(88,"option",52),p(89,"En planificaci\xF3n"),l(),c(90,"option",53),p(91,"En dise\xF1o"),l(),c(92,"option",54),p(93,"En progreso"),l(),c(94,"option",55),p(95,"En construcci\xF3n"),l(),c(96,"option",56),p(97,"En mantenimiento"),l(),c(98,"option",57),p(99,"Reparaciones"),l(),c(100,"option",58),p(101,"Finalizada"),l(),c(102,"option",59),p(103,"Cancelada"),l()(),B(104,w6,2,1,"div",25),l(),c(105,"div",35)(106,"label",60),p(107,"Tipo de Obra:"),l(),c(108,"select",61,11),pe("ngModelChange",function(a){return N(n),ue(r.obraCivil.tipoObra,a)||(r.obraCivil.tipoObra=a),D(a)}),c(110,"option",62),p(111,"Vivienda"),l(),c(112,"option",63),p(113,"Comercial"),l(),c(114,"option",64),p(115,"Industrial"),l(),c(116,"option",65),p(117,"Otros"),l()(),B(118,E6,2,1,"div",25),l()(),c(119,"div",22)(120,"label",66),p(121,"Plano URL:"),l(),c(122,"input",67,12),pe("ngModelChange",function(a){return N(n),ue(r.obraCivil.planoUrl,a)||(r.obraCivil.planoUrl=a),D(a)}),l(),B(124,M6,2,1,"div",25),l(),c(125,"div",22)(126,"label",68),p(127,"Direccion:"),l(),c(128,"input",69,13),pe("ngModelChange",function(a){return N(n),ue(r.obraCivil.direccion,a)||(r.obraCivil.direccion=a),D(a)}),l(),B(130,k6,2,1,"div",25),l(),c(131,"div",22)(132,"label",70),p(133,"Ubicaci\xF3n:"),l(),Ee(134,"div",71),c(135,"div",72)(136,"small"),p(137,"Seleccione una ubicaci\xF3n en el mapa"),l()()()(),c(138,"div",73)(139,"button",74),Ee(140,"i",75),p(141," Crear "),l(),c(142,"button",76),H("click",function(){return N(n),D(r.cancelar())}),Ee(143,"i",77),p(144," Cancelar "),l()()()()()()()()()}if(e&2){let n=ae(9),o=ae(15),a=ae(21),d=ae(44),u=ae(50),m=ae(56),v=ae(63),y=ae(69),w=ae(75),x=ae(87),T=ae(109),E=ae(123),k=ae(129);g(14),de("ngModel",r.obraCivil.nombre),g(2),M("ngIf",o.invalid&&(o.dirty||o.touched)||r.submitted&&o.invalid),g(4),de("ngModel",r.obraCivil.descripcion),g(2),M("ngIf",a.invalid&&(a.dirty||a.touched)||r.submitted&&a.invalid),g(4),de("ngModel",r.idUsuarioCliente),g(),M("value",0),g(2),M("ngForOf",r.usuariosClientes),g(),M("ngIf",r.idUsuarioCliente===0&&n.submitted),g(4),de("ngModel",r.idUsuarioEmpleado),g(),M("value",0),g(2),M("ngForOf",r.usuariosEmpleados),g(),M("ngIf",r.idUsuarioEmpleado===0&&n.submitted),g(5),de("ngModel",r.obraCivil.costoEstimado),M("min",0),g(2),M("ngIf",d.invalid&&(d.dirty||d.touched)||r.submitted&&d.invalid),g(4),de("ngModel",r.obraCivil.costo),M("min",0),g(2),M("ngIf",u.invalid&&(u.dirty||u.touched)||r.submitted&&u.invalid),g(4),de("ngModel",r.obraCivil.presupuesto),M("min",0),g(2),M("ngIf",m.invalid&&(m.dirty||m.touched)||r.submitted&&m.invalid),g(5),de("ngModel",r.obraCivil.presupuestoDisponible),M("min",0),g(2),M("ngIf",v.invalid&&(v.dirty||v.touched)||r.submitted&&v.invalid),g(4),de("ngModel",r.obraCivil.fechaInicio),g(2),M("ngIf",y.invalid&&(y.dirty||y.touched)||r.submitted&&y.invalid),g(4),de("ngModel",r.obraCivil.fechaFinEstimada),g(2),M("ngIf",w.invalid&&(w.dirty||w.touched)||r.submitted&&w.invalid),g(5),de("ngModel",r.obraCivil.fechaTerminacionReal),g(5),de("ngModel",r.obraCivil.estado),g(18),M("ngIf",x.invalid&&(x.dirty||x.touched)||r.submitted&&x.invalid),g(4),de("ngModel",r.obraCivil.tipoObra),g(10),M("ngIf",T.invalid&&(T.dirty||T.touched)||r.submitted&&T.invalid),g(4),de("ngModel",r.obraCivil.planoUrl),g(2),M("ngIf",E.invalid&&(E.dirty||E.touched)||r.submitted&&E.invalid),g(4),de("ngModel",r.obraCivil.direccion),g(2),M("ngIf",k.invalid&&(k.dirty||k.touched)||r.submitted&&k.invalid),g(9),M("disabled",!n.form.valid)}},dependencies:[ct,Bt,yt,Mt,Qt,Fi,Ni,kt,Qi,Ti,Pt,Jt,ri,xi,yr,Tt,ei]})};var kc=pd(gp());function A6(i,t){i&1&&(c(0,"small"),p(1,"El nombre es obligatorio."),l())}function I6(i,t){i&1&&(c(0,"small"),p(1,"El nombre debe tener al menos 3 caracteres."),l())}function O6(i,t){if(i&1&&(c(0,"div",78),B(1,A6,2,0,"small",79)(2,I6,2,0,"small",79),l()),i&2){Q();let e=ae(15);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function F6(i,t){i&1&&(c(0,"small"),p(1,"La descripci\xF3n es obligatoria."),l())}function N6(i,t){if(i&1&&(c(0,"div",78),B(1,F6,2,0,"small",79),l()),i&2){Q();let e=ae(21);g(),M("ngIf",e.errors==null?null:e.errors.required)}}function L6(i,t){if(i&1&&(c(0,"option",80),p(1),l()),i&2){let e=t.$implicit;M("value",e.id),g(),Di(" ",e.apellido," ",e.nombre," ")}}function D6(i,t){i&1&&(c(0,"div",78),Ee(1,"small"),p(2,"El propietario (cliente) es obligatorio. "),l())}function R6(i,t){if(i&1&&(c(0,"option",80),p(1),l()),i&2){let e=t.$implicit;M("value",e.id),g(),Di(" ",e.apellido," ",e.nombre," ")}}function B6(i,t){i&1&&(c(0,"div",78),Ee(1,"small"),p(2,"El responsable (empleado) es obligatorio. "),l())}function U6(i,t){i&1&&(c(0,"small"),p(1,"El costo estimado es obligatorio."),l())}function V6(i,t){if(i&1&&(c(0,"div",78),B(1,U6,2,0,"small",79),l()),i&2){Q();let e=ae(44);g(),M("ngIf",e.errors==null?null:e.errors.required)}}function q6(i,t){i&1&&(c(0,"small"),p(1,"El costo real es obligatorio."),l())}function j6(i,t){if(i&1&&(c(0,"div",78),B(1,q6,2,0,"small",79),l()),i&2){Q();let e=ae(50);g(),M("ngIf",e.errors==null?null:e.errors.required)}}function z6(i,t){i&1&&(c(0,"small"),p(1,"El presupuesto es obligatorio."),l())}function W6(i,t){if(i&1&&(c(0,"div",78),B(1,z6,2,0,"small",79),l()),i&2){Q();let e=ae(56);g(),M("ngIf",e.errors==null?null:e.errors.required)}}function H6(i,t){i&1&&(c(0,"small"),p(1,"El presupuesto disponible es obligatorio."),l())}function G6(i,t){if(i&1&&(c(0,"div",78),B(1,H6,2,0,"small",79),l()),i&2){Q();let e=ae(63);g(),M("ngIf",e.errors==null?null:e.errors.required)}}function $6(i,t){i&1&&(c(0,"small"),p(1,"La fecha de inicio es obligatoria."),l())}function X6(i,t){if(i&1&&(c(0,"div",78),B(1,$6,2,0,"small",79),l()),i&2){Q();let e=ae(69);g(),M("ngIf",e.errors==null?null:e.errors.required)}}function Z6(i,t){i&1&&(c(0,"small"),p(1,"La fecha estimada de fin es obligatoria."),l())}function Y6(i,t){if(i&1&&(c(0,"div",78),B(1,Z6,2,0,"small",79),l()),i&2){Q();let e=ae(75);g(),M("ngIf",e.errors==null?null:e.errors.required)}}function K6(i,t){i&1&&(c(0,"small"),p(1,"El estado es obligatorio."),l())}function J6(i,t){if(i&1&&(c(0,"div",78),B(1,K6,2,0,"small",79),l()),i&2){Q();let e=ae(87);g(),M("ngIf",e.errors==null?null:e.errors.required)}}function Q6(i,t){i&1&&(c(0,"small"),p(1,"El tipo de obra es obligatorio."),l())}function eA(i,t){if(i&1&&(c(0,"div",78),B(1,Q6,2,0,"small",79),l()),i&2){Q();let e=ae(109);g(),M("ngIf",e.errors==null?null:e.errors.required)}}function tA(i,t){i&1&&(c(0,"small"),p(1," La URL del plano es obligatoria. "),l())}function iA(i,t){if(i&1&&(c(0,"div",78),B(1,tA,2,0,"small",79),l()),i&2){Q();let e=ae(123);g(),M("ngIf",e.errors==null?null:e.errors.required)}}function rA(i,t){i&1&&(c(0,"small"),p(1," La direccion es obligatoria. "),l())}function nA(i,t){if(i&1&&(c(0,"div",78),B(1,rA,2,0,"small",79),l()),i&2){Q();let e=ae(129);g(),M("ngIf",e.errors==null?null:e.errors.required)}}var zm=class i{constructor(t,e,r,n,o,a){this.cdr=t;this.activatedRoute=e;this.obraCivilService=r;this.obraCivilUsuarioService=n;this.usuarioService=o;this.router=a}obraCivil={nombre:"",descripcion:"",costoEstimado:0,costo:0,presupuesto:0,presupuestoDisponible:0,fechaInicio:void 0,fechaFinEstimada:void 0,estado:"En planificaci\xF3n",tipoObra:"VIVIENDA",direccion:"",latitud:0,longitud:0,planoUrl:"",fechaTerminacionReal:void 0};usuariosClientes=[];usuariosEmpleados=[];obraId=0;idUsuarioCliente=0;idUsuarioEmpleado=0;submitted=!1;ngOnInit(){this.obraId=Number(this.activatedRoute.snapshot.paramMap.get("id")),this.obraId&&this.cargarObraCivil(this.obraId),this.cargarClientes(),this.cargarEncargado()}cargarObraCivil(t){this.obraCivilService.obtenerObraPorId(t).subscribe(e=>{console.log("obraCivil:",e),this.obraCivil=e}),this.obraCivilUsuarioService.obtenerRelacionesCli(t).subscribe(e=>{console.log("Cliente",e),this.idUsuarioCliente=e[0].usuario.id,console.log("Cliente",this.idUsuarioCliente)}),this.obraCivilUsuarioService.obtenerRelacionesEmp(t).subscribe(e=>{console.log("Empleado",e),this.idUsuarioEmpleado=e[0].usuario.id,console.log("Empleado",this.idUsuarioEmpleado)})}cargarClientes(){this.usuarioService.getUsuariosPorRol("Cliente").subscribe(t=>{this.usuariosClientes=t})}cargarEncargado(){this.usuarioService.getUsuariosPorRol("Empleado").subscribe(t=>{this.usuariosEmpleados=t})}ngAfterViewInit(){this.cdr.detectChanges(),setTimeout(()=>{this.initMaps()},600)}initMaps(){console.log("latitud:",this.obraCivil.latitud),console.log("longitud:",this.obraCivil.longitud);let t=kc.map("map").setView([this.obraCivil.latitud,this.obraCivil.longitud],11);kc.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(t);let e=kc.marker([this.obraCivil.latitud,this.obraCivil.longitud],{icon:kc.icon({iconUrl:"https://unpkg.com/leaflet/dist/images/marker-icon.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34]})}).addTo(t);t.on("click",r=>{let n=r.latlng.lat.toFixed(6),o=r.latlng.lng.toFixed(6);this.obraCivil.latitud=parseFloat(n),this.obraCivil.longitud=parseFloat(o),e.setLatLng([parseFloat(n),parseFloat(o)])})}editarObraCivil(){console.log("obracivil",this.obraCivil),this.obraCivilService.actualizarObra(this.obraId,this.obraCivil).subscribe(t=>{console.log("NEW:",t),console.log("Usuarios clientes:",this.usuariosClientes),console.log("Usuarios empleados:",this.usuariosEmpleados),console.log("ID cliente seleccionado:",this.idUsuarioCliente),console.log("ID empleado seleccionado:",this.idUsuarioEmpleado);let e=this.usuariosClientes.find(n=>n.id===Number(this.idUsuarioCliente)),r=this.usuariosEmpleados.find(n=>n.id===Number(this.idUsuarioEmpleado));if(console.log("Usuarios clienteSeleccionado:",e),console.log("Usuarios empleadoSeleccionado:",r),e&&r){let n={obraCivil:{id:t.id},usuario:{id:e.id}},o={obraCivil:{id:t.id},usuario:{id:r.id}};console.log("Usuarios obraCivilUsuarioCli:",n),console.log("Usuarios obraCivilUsuarioEnc:",o),this.obraCivilUsuarioService.actualizarObraCivilUsuario(this.obraId,n).subscribe(),this.obraCivilUsuarioService.actualizarObraCivilUsuario(this.obraId,o).subscribe(),this.router.navigate(["/obra-civil"])}else console.error("Cliente o empleado no encontrado.")})}editarObraCivill(){this.obraCivilService.actualizarObra(this.obraId,this.obraCivil).subscribe(t=>{console.log("Obra civil actualizada",t),this.router.navigate(["/obra-civil"])})}cancelar(){this.router.navigate(["/obra-civil"])}onClienteChange(){console.log("Cliente seleccionado:",this.idUsuarioCliente)}static \u0275fac=function(e){return new(e||i)(ie(gs),ie(Vi),ie(ia),ie(Mc),ie(ta),ie(ht))};static \u0275cmp=ot({type:i,selectors:[["app-obracivil-update"]],standalone:!0,features:[st],decls:145,vars:38,consts:[["obraCivilForm","ngForm"],["nombre","ngModel"],["descripcion","ngModel"],["costoEstimado","ngModel"],["costo","ngModel"],["presupuesto","ngModel"],["presupuestoDisponible","ngModel"],["fechaInicio","ngModel"],["fechaFinEstimada","ngModel"],["fechaTerminacionReal","ngModel"],["estado","ngModel"],["tipoObra","ngModel"],["planoUrl","ngModel"],["direccion","ngModel"],[1,"content"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"card","shadow-sm"],[1,"card-body"],[1,"mb-3"],[3,"ngSubmit"],[1,"col-12","col-md-6","mb-3"],["for","nombre",1,"form-label","fw-bold"],["type","text","id","nombre","placeholder","Ingrese el nombre de la obra civil","name","nombre","required","","minlength","3",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel"],["class","error-message text-danger",4,"ngIf"],["for","descripcion",1,"form-label","fw-bold"],["id","descripcion","rows","3","placeholder","Ingrese la descripci\xF3n de la obra civil","name","descripcion","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel"],["for","idUsuarioCliente",1,"form-label","fw-bold"],["id","idUsuarioCliente","name","idUsuarioCliente","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel"],["disabled","","selected","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["for","idUsuarioEmpleado",1,"form-label","fw-bold"],["id","idUsuarioEmpleado","name","idUsuarioEmpleado","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel"],[1,"row","mb-3"],[1,"col-12","col-md-4"],["for","costoEstimado",1,"form-label","fw-bold"],["type","number","id","costoEstimado","placeholder","Ingrese el costo estimado","name","costoEstimado","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel","min"],["for","costo",1,"form-label","fw-bold"],["type","number","id","costo","placeholder","Ingrese el costo real","name","costo","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel","min"],["for","presupuesto",1,"form-label","fw-bold"],["type","number","id","presupuesto","placeholder","Ingrese el presupuesto","name","presupuesto","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel","min"],["for","presupuestoDisponible",1,"form-label","fw-bold"],["type","number","id","presupuestoDisponible","placeholder","Ingrese el presupuesto disponible","name","presupuestoDisponible","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel","min"],["for","fechaInicio",1,"form-label","fw-bold"],["type","date","id","fechaInicio","name","fechaInicio","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel"],["for","fechaFinEstimada",1,"form-label","fw-bold"],["type","date","id","fechaFinEstimada","name","fechaFinEstimada","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel"],["for","fechaTerminacionReal",1,"form-label","fw-bold"],["type","date","id","fechaTerminacionReal","name","fechaTerminacionReal",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel"],["for","estado",1,"form-label","fw-bold"],["id","estado","name","estado","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel"],["value","En planificaci\xF3n"],["value","En dise\xF1o"],["value","En progreso"],["value","En construcci\xF3n"],["value","En mantenimiento"],["value","Reparaciones"],["value","Finalizada"],["value","Cancelada"],["for","tipoObra",1,"form-label","fw-bold"],["id","tipoObra","name","tipoObra","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel"],["value","VIVIENDA"],["value","COMERCIAL"],["value","INDUSTRIAL"],["value","OTROS"],["for","planoUrl",1,"form-label","fw-bold"],["type","text","id","planoUrl","placeholder","Ingrese la URL del plano","name","planoUrl","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel"],["for","direccion",1,"form-label","fw-bold"],["type","text","id","direccion","placeholder","Ingrese la direccion de la obra civil","name","direccion","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel"],["for","ubicacion",1,"form-label","fw-bold"],["id","map",2,"height","300px"],[1,"text-muted","mt-2"],[1,"col-12","col-md-6","d-flex","justify-content-start","gap-3"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"bi","bi-plus-circle","mr-1"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-x-circle","mr-1"],[1,"error-message","text-danger"],[4,"ngIf"],[3,"value"]],template:function(e,r){if(e&1){let n=Je();c(0,"section",14)(1,"div",15)(2,"div",16)(3,"div",17)(4,"div",18)(5,"div",19)(6,"h4",20),p(7,"Editar Obra Civil"),l(),c(8,"form",21,0),H("ngSubmit",function(){return N(n),D(r.editarObraCivil())})("ngSubmit",function(){return N(n),D(r.submitted=!0)}),c(10,"div",16)(11,"div",22)(12,"label",23),p(13,"Nombre:"),l(),c(14,"input",24,1),pe("ngModelChange",function(a){return N(n),ue(r.obraCivil.nombre,a)||(r.obraCivil.nombre=a),D(a)}),l(),B(16,O6,3,2,"div",25),l(),c(17,"div",22)(18,"label",26),p(19,"Descripci\xF3n:"),l(),c(20,"textarea",27,2),pe("ngModelChange",function(a){return N(n),ue(r.obraCivil.descripcion,a)||(r.obraCivil.descripcion=a),D(a)}),l(),B(22,N6,2,1,"div",25),l(),c(23,"div",22)(24,"label",28),p(25,"Seleccionar Propietario (Cliente):"),l(),c(26,"select",29),pe("ngModelChange",function(a){return N(n),ue(r.idUsuarioCliente,a)||(r.idUsuarioCliente=a),D(a)}),H("ngModelChange",function(){return N(n),D(r.onClienteChange())}),c(27,"option",30),p(28," Seleccione un propietario... "),l(),B(29,L6,2,3,"option",31),l(),B(30,D6,3,0,"div",25),l(),c(31,"div",22)(32,"label",32),p(33,"Agregar Responsable (Empleado):"),l(),c(34,"select",33),pe("ngModelChange",function(a){return N(n),ue(r.idUsuarioEmpleado,a)||(r.idUsuarioEmpleado=a),D(a)}),c(35,"option",30),p(36," Seleccione un empleado... "),l(),B(37,R6,2,3,"option",31),l(),B(38,B6,3,0,"div",25),l(),c(39,"div",34)(40,"div",35)(41,"label",36),p(42,"Costo Estimado:"),l(),c(43,"input",37,3),pe("ngModelChange",function(a){return N(n),ue(r.obraCivil.costoEstimado,a)||(r.obraCivil.costoEstimado=a),D(a)}),l(),B(45,V6,2,1,"div",25),l(),c(46,"div",35)(47,"label",38),p(48,"Costo Real:"),l(),c(49,"input",39,4),pe("ngModelChange",function(a){return N(n),ue(r.obraCivil.costo,a)||(r.obraCivil.costo=a),D(a)}),l(),B(51,j6,2,1,"div",25),l(),c(52,"div",35)(53,"label",40),p(54,"Presupuesto:"),l(),c(55,"input",41,5),pe("ngModelChange",function(a){return N(n),ue(r.obraCivil.presupuesto,a)||(r.obraCivil.presupuesto=a),D(a)}),l(),B(57,W6,2,1,"div",25),l()(),c(58,"div",34)(59,"div",35)(60,"label",42),p(61,"Presupuesto Disponible:"),l(),c(62,"input",43,6),pe("ngModelChange",function(a){return N(n),ue(r.obraCivil.presupuestoDisponible,a)||(r.obraCivil.presupuestoDisponible=a),D(a)}),l(),B(64,G6,2,1,"div",25),l(),c(65,"div",35)(66,"label",44),p(67,"Fecha de Inicio:"),l(),c(68,"input",45,7),pe("ngModelChange",function(a){return N(n),ue(r.obraCivil.fechaInicio,a)||(r.obraCivil.fechaInicio=a),D(a)}),l(),B(70,X6,2,1,"div",25),l(),c(71,"div",35)(72,"label",46),p(73,"Fecha Estimada de Fin:"),l(),c(74,"input",47,8),pe("ngModelChange",function(a){return N(n),ue(r.obraCivil.fechaFinEstimada,a)||(r.obraCivil.fechaFinEstimada=a),D(a)}),l(),B(76,Y6,2,1,"div",25),l()(),c(77,"div",34)(78,"div",35)(79,"label",48),p(80,"Fecha de Terminaci\xF3n Real:"),l(),c(81,"input",49,9),pe("ngModelChange",function(a){return N(n),ue(r.obraCivil.fechaTerminacionReal,a)||(r.obraCivil.fechaTerminacionReal=a),D(a)}),l()(),c(83,"div",35)(84,"label",50),p(85,"Seleccionar Estado:"),l(),c(86,"select",51,10),pe("ngModelChange",function(a){return N(n),ue(r.obraCivil.estado,a)||(r.obraCivil.estado=a),D(a)}),c(88,"option",52),p(89,"En planificaci\xF3n"),l(),c(90,"option",53),p(91,"En dise\xF1o"),l(),c(92,"option",54),p(93,"En progreso"),l(),c(94,"option",55),p(95,"En construcci\xF3n"),l(),c(96,"option",56),p(97,"En mantenimiento"),l(),c(98,"option",57),p(99,"Reparaciones"),l(),c(100,"option",58),p(101,"Finalizada"),l(),c(102,"option",59),p(103,"Cancelada"),l()(),B(104,J6,2,1,"div",25),l(),c(105,"div",35)(106,"label",60),p(107,"Tipo de Obra:"),l(),c(108,"select",61,11),pe("ngModelChange",function(a){return N(n),ue(r.obraCivil.tipoObra,a)||(r.obraCivil.tipoObra=a),D(a)}),c(110,"option",62),p(111,"Vivienda"),l(),c(112,"option",63),p(113,"Comercial"),l(),c(114,"option",64),p(115,"Industrial"),l(),c(116,"option",65),p(117,"Otros"),l()(),B(118,eA,2,1,"div",25),l()(),c(119,"div",22)(120,"label",66),p(121,"Plano URL:"),l(),c(122,"input",67,12),pe("ngModelChange",function(a){return N(n),ue(r.obraCivil.planoUrl,a)||(r.obraCivil.planoUrl=a),D(a)}),l(),B(124,iA,2,1,"div",25),l(),c(125,"div",22)(126,"label",68),p(127,"Direccion:"),l(),c(128,"input",69,13),pe("ngModelChange",function(a){return N(n),ue(r.obraCivil.direccion,a)||(r.obraCivil.direccion=a),D(a)}),l(),B(130,nA,2,1,"div",25),l(),c(131,"div",22)(132,"label",70),p(133,"Ubicaci\xF3n:"),l(),Ee(134,"div",71),c(135,"div",72)(136,"small"),p(137,"Seleccione una ubicaci\xF3n en el mapa"),l()()()(),c(138,"div",73)(139,"button",74),Ee(140,"i",75),p(141," Guardar Cambios "),l(),c(142,"button",76),H("click",function(){return N(n),D(r.cancelar())}),Ee(143,"i",77),p(144," Cancelar "),l()()()()()()()()()}if(e&2){let n=ae(9),o=ae(15),a=ae(21),d=ae(44),u=ae(50),m=ae(56),v=ae(63),y=ae(69),w=ae(75),x=ae(87),T=ae(109),E=ae(123),k=ae(129);g(14),de("ngModel",r.obraCivil.nombre),g(2),M("ngIf",o.invalid&&(o.dirty||o.touched)||r.submitted&&o.invalid),g(4),de("ngModel",r.obraCivil.descripcion),g(2),M("ngIf",a.invalid&&(a.dirty||a.touched)||r.submitted&&a.invalid),g(4),de("ngModel",r.idUsuarioCliente),g(),M("value",0),g(2),M("ngForOf",r.usuariosClientes),g(),M("ngIf",r.idUsuarioCliente===0&&n.submitted),g(4),de("ngModel",r.idUsuarioEmpleado),g(),M("value",0),g(2),M("ngForOf",r.usuariosEmpleados),g(),M("ngIf",r.idUsuarioEmpleado===0&&n.submitted),g(5),de("ngModel",r.obraCivil.costoEstimado),M("min",0),g(2),M("ngIf",d.invalid&&(d.dirty||d.touched)||r.submitted&&d.invalid),g(4),de("ngModel",r.obraCivil.costo),M("min",0),g(2),M("ngIf",u.invalid&&(u.dirty||u.touched)||r.submitted&&u.invalid),g(4),de("ngModel",r.obraCivil.presupuesto),M("min",0),g(2),M("ngIf",m.invalid&&(m.dirty||m.touched)||r.submitted&&m.invalid),g(5),de("ngModel",r.obraCivil.presupuestoDisponible),M("min",0),g(2),M("ngIf",v.invalid&&(v.dirty||v.touched)||r.submitted&&v.invalid),g(4),de("ngModel",r.obraCivil.fechaInicio),g(2),M("ngIf",y.invalid&&(y.dirty||y.touched)||r.submitted&&y.invalid),g(4),de("ngModel",r.obraCivil.fechaFinEstimada),g(2),M("ngIf",w.invalid&&(w.dirty||w.touched)||r.submitted&&w.invalid),g(5),de("ngModel",r.obraCivil.fechaTerminacionReal),g(5),de("ngModel",r.obraCivil.estado),g(18),M("ngIf",x.invalid&&(x.dirty||x.touched)||r.submitted&&x.invalid),g(4),de("ngModel",r.obraCivil.tipoObra),g(10),M("ngIf",T.invalid&&(T.dirty||T.touched)||r.submitted&&T.invalid),g(4),de("ngModel",r.obraCivil.planoUrl),g(2),M("ngIf",E.invalid&&(E.dirty||E.touched)||r.submitted&&E.invalid),g(4),de("ngModel",r.obraCivil.direccion),g(2),M("ngIf",k.invalid&&(k.dirty||k.touched)||r.submitted&&k.invalid),g(9),M("disabled",!n.form.valid)}},dependencies:[ct,Bt,yt,Mt,Qt,Fi,Ni,kt,Qi,Ti,Pt,Jt,ri,xi,yr,Tt,ei]})};var Ac=pd(gp());function oA(i,t){if(i&1&&Ee(0,"img",28),i&2){let e=Q();M("src",e.imagenUrl,l0)}}var Wm=class i{constructor(t,e,r,n,o,a){this.cdr=t;this.activatedRoute=e;this.obraCivilService=r;this.obraCivilUsuarioService=n;this.usuarioService=o;this.router=a}obraCivil={nombre:"",descripcion:"",costoEstimado:0,costo:0,presupuesto:0,presupuestoDisponible:0,fechaInicio:void 0,fechaFinEstimada:void 0,estado:"En planificaci\xF3n",tipoObra:"VIVIENDA",direccion:"",latitud:0,longitud:0,planoUrl:"",fechaTerminacionReal:void 0};usuarioCli={id:0,nombre:"",apellido:"",correo:"",contrasena:"",telefono:"",direccion:"",fechaNacimiento:"",genero:"",numeroIdentificacion:"",rol:{id:0,nombre:"",descripcion:""}};usuarioEmp={id:0,nombre:"",apellido:"",correo:"",contrasena:"",telefono:"",direccion:"",fechaNacimiento:"",genero:"",numeroIdentificacion:"",rol:{id:0,nombre:"",descripcion:""}};usuariosClientes=[];usuariosEmpleados=[];obraId=0;idUsuarioCliente=0;idUsuarioEmpleado=0;submitted=!1;mostrarModalImagen=!1;imagenUrl=null;ngOnInit(){this.obraId=Number(this.activatedRoute.snapshot.paramMap.get("id")),this.obraId&&this.cargarObraCivil(this.obraId)}cargarObraCivil(t){this.obraCivilService.obtenerObraPorId(t).subscribe(e=>{console.log("obraCivil:",e),this.obraCivil=e}),this.obraCivilUsuarioService.obtenerRelacionesCli(t).subscribe(e=>{console.log("Cliente",e),this.usuarioCli=e[0].usuario,console.log("Cliente",this.usuarioCli)}),this.obraCivilUsuarioService.obtenerRelacionesEmp(t).subscribe(e=>{console.log("Empleado",e),this.usuarioEmp=e[0].usuario,console.log("Empleado",this.usuarioEmp)})}cargarClientes(){this.usuarioService.getUsuariosPorRol("Cliente").subscribe(t=>{this.usuariosClientes=t})}cargarEncargado(){this.usuarioService.getUsuariosPorRol("Empleado").subscribe(t=>{this.usuariosEmpleados=t})}ngAfterViewInit(){this.cdr.detectChanges(),setTimeout(()=>{this.initMaps()},500)}initMaps(){console.log("latitudSHOW:",this.obraCivil.latitud),console.log("longitudSHOW:",this.obraCivil.longitud);let t=Ac.map("map").setView([this.obraCivil.latitud,this.obraCivil.longitud],11);Ac.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(t);let e=Ac.marker([this.obraCivil.latitud,this.obraCivil.longitud],{icon:Ac.icon({iconUrl:"https://unpkg.com/leaflet/dist/images/marker-icon.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34]})}).addTo(t);t.on("click",r=>{let n=r.latlng.lat.toFixed(6),o=r.latlng.lng.toFixed(6);this.obraCivil.latitud=parseFloat(n),this.obraCivil.longitud=parseFloat(o),e.setLatLng([parseFloat(n),parseFloat(o)])})}abrirModalImg(t){this.imagenUrl=t,this.mostrarModalImagen=!0}cerrarModalImg(){this.imagenUrl=null,this.mostrarModalImagen=!1}volver(){this.router.navigate(["/obra-civil"])}crearObraCivil(){console.log("obracivil",this.obraCivil),this.obraCivilService.actualizarObra(this.obraId,this.obraCivil).subscribe(t=>{console.log("NEW:",t),console.log("Usuarios clientes:",this.usuariosClientes),console.log("Usuarios empleados:",this.usuariosEmpleados),console.log("ID cliente seleccionado:",this.idUsuarioCliente),console.log("ID empleado seleccionado:",this.idUsuarioEmpleado);let e=this.usuariosClientes.find(n=>n.id===Number(this.idUsuarioCliente)),r=this.usuariosEmpleados.find(n=>n.id===Number(this.idUsuarioEmpleado));if(console.log("Usuarios clienteSeleccionado:",e),console.log("Usuarios empleadoSeleccionado:",r),e&&r){let n={obraCivil:{id:t.id},usuario:{id:e.id}},o={obraCivil:{id:t.id},usuario:{id:r.id}};console.log("Usuarios obraCivilUsuarioCli:",n),console.log("Usuarios obraCivilUsuarioEnc:",o),this.obraCivilUsuarioService.actualizarObraCivilUsuario(this.obraId,n).subscribe(),this.obraCivilUsuarioService.actualizarObraCivilUsuario(this.obraId,o).subscribe(),this.router.navigate(["/obra-civil"])}else console.error("Cliente o empleado no encontrado.")})}editarObraCivil(){this.obraCivilService.actualizarObra(this.obraId,this.obraCivil).subscribe(t=>{console.log("Obra civil actualizada",t),this.router.navigate(["/obra-civil"])})}cancelar(){this.router.navigate(["/obra-civil"])}onClienteChange(){console.log("Cliente seleccionado:",this.idUsuarioCliente)}static \u0275fac=function(e){return new(e||i)(ie(gs),ie(Vi),ie(ia),ie(Mc),ie(ta),ie(ht))};static \u0275cmp=ot({type:i,selectors:[["app-obracivil-show"]],standalone:!0,features:[st],decls:98,vars:30,consts:[[1,"content"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"card","shadow-sm"],[1,"card-body"],[1,"row","mb-3"],[1,"col-12","col-md-9"],[1,"m-0"],[1,"card","mb-4"],[1,"row","g-0"],[1,"col-md-5"],[1,"card-text"],["alt","Plano de la obra","data-bs-toggle","modal","data-bs-target","#imageModal",1,"card-img-top","img-fluid",2,"max-height","150px","max-width","60%","object-fit","cover",3,"click","src"],["id","map",2,"height","300px","width","100%"],[1,"col-md-7"],[1,"card-title",2,"color","#0a4075"],[1,"d-flex","gap-2","justify-content-start"],[1,"btn","btn-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-left"],["id","imageModal","tabindex","-1","aria-labelledby","imageModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","imageModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","text-center"],["class","img-fluid","alt","Plano de la obra",3,"src",4,"ngIf"],["alt","Plano de la obra",1,"img-fluid",3,"src"]],template:function(e,r){e&1&&(c(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h4",8),p(9),l()()(),c(10,"div",2)(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",5)(15,"p",12)(16,"strong"),p(17,"Plano:"),l()(),c(18,"img",13),H("click",function(){return r.abrirModalImg(r.obraCivil.planoUrl)}),l()(),c(19,"div",5)(20,"p",12)(21,"strong"),p(22,"Ubicacion:"),l()(),Ee(23,"div",14),l()(),c(24,"div",15)(25,"div",5)(26,"h5",16),p(27),l(),c(28,"p",12)(29,"strong"),p(30,"Descripci\xF3n:"),l(),p(31),l(),c(32,"p",12)(33,"strong"),p(34,"Tipo de Obra:"),l(),p(35),l(),c(36,"p",12)(37,"strong"),p(38,"Direccion:"),l(),p(39),l(),c(40,"p",12)(41,"strong"),p(42,"Estado:"),l(),p(43),l(),c(44,"p",12)(45,"strong"),p(46,"Fecha de Inicio:"),l(),p(47),Kt(48,"date"),l(),c(49,"p",12)(50,"strong"),p(51,"Fecha Estimada de Finalizaci\xF3n:"),l(),p(52),Kt(53,"date"),l(),c(54,"p",12)(55,"strong"),p(56,"Costo Estimado:"),l(),p(57),Kt(58,"number"),l(),c(59,"p",12)(60,"strong"),p(61,"Costo Actual:"),l(),p(62),Kt(63,"number"),l(),c(64,"p",12)(65,"strong"),p(66,"Presupuesto Disponible:"),l(),p(67),Kt(68,"number"),l(),c(69,"h5",16),p(70),l(),c(71,"p",12)(72,"strong"),p(73,"Direccion:"),l(),p(74),l(),c(75,"p",12)(76,"strong"),p(77,"Telefono:"),l(),p(78),l(),c(79,"h5",16),p(80),l(),c(81,"p",12)(82,"strong"),p(83,"Telefono:"),l(),p(84),l(),c(85,"div",17)(86,"button",18),H("click",function(){return r.volver()}),Ee(87,"i",19),p(88," Volver "),l()()()()()()()()()()()()(),c(89,"div",20)(90,"div",21)(91,"div",22)(92,"div",23)(93,"h5",24),p(94,"Plano de la Obra"),l(),c(95,"button",25),H("click",function(){return r.cerrarModalImg()}),l()(),c(96,"div",26),B(97,oA,1,1,"img",27),l()()()()),e&2&&(g(9),Ke("Detalle Obra Civil: ",r.obraCivil.nombre,""),g(9),d0("src",r.obraCivil.planoUrl,l0),g(9),Ke(" ",r.obraCivil.nombre," "),g(4),Ke(" ",r.obraCivil.descripcion," "),g(4),Ke(" ",r.obraCivil.tipoObra," "),g(4),Ke(" ",r.obraCivil.direccion," "),g(4),Ke(" ",r.obraCivil.estado," "),g(4),Ke(" ",bi(48,20,r.obraCivil.fechaInicio)," "),g(5),Ke(" ",bi(53,22,r.obraCivil.fechaFinEstimada)," "),g(5),Ke(" $",bi(58,24,r.obraCivil.costoEstimado)," "),g(5),Ke(" $",bi(63,26,r.obraCivil.costo)," "),g(5),Ke(" $",bi(68,28,r.obraCivil.presupuestoDisponible)," "),g(3),Di(" Propietario: ",r.usuarioCli.nombre," ",r.usuarioCli.apellido," "),g(4),Ke(" ",r.usuarioCli.direccion," "),g(4),Ke(" ",r.usuarioCli.telefono," "),g(2),Di(" Encargado: ",r.usuarioEmp.nombre," ",r.usuarioEmp.apellido," "),g(4),Ke(" ",r.usuarioEmp.telefono," "),g(13),M("ngIf",r.imagenUrl))},dependencies:[ct,yt,cc,cn]})};function aA(i,t){if(i&1){let e=Je();c(0,"div",10)(1,"div",11)(2,"h3"),p(3,"\xBFEst\xE1s seguro de eliminar este servicio?"),l(),c(4,"button",12),H("click",function(){N(e);let n=Q();return D(n.eliminarServicioConfirmado())}),p(5,"Confirmar"),l(),c(6,"button",12),H("click",function(){N(e);let n=Q();return D(n.cerrarModal())}),p(7,"Cancelar"),l()()()}}function sA(i,t){if(i&1&&(c(0,"div",13),p(1),l()),i&2){let e=Q();g(),Te(e.mensajeExito)}}function lA(i,t){if(i&1&&(c(0,"div",14),p(1),l()),i&2){let e=Q();g(),Te(e.mensajeError)}}function cA(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),p(2),l(),c(3,"td"),p(4),l(),c(5,"td"),p(6),l(),c(7,"td"),p(8),l(),c(9,"td"),p(10),l(),c(11,"td")(12,"button",12),H("click",function(){let n,o=N(e).$implicit,a=Q();return D(a.irAEditarServicio((n=o.id)!==null&&n!==void 0?n:0))}),p(13,"Editar"),l(),c(14,"button",12),H("click",function(){let n,o=N(e).$implicit,a=Q();return D(a.confirmarEliminarServicio((n=o.id)!==null&&n!==void 0?n:0))}),p(15,"Eliminar"),l()()()}if(i&2){let e=t.$implicit;g(2),Te(e.codigoServicio),g(2),Te(e.nombre),g(2),Te(e.descripcion),g(2),Ke("",e.precioUnitario," Bs"),g(2),Ke("",e.duracionEstimada," d\xEDas")}}var Hm=class i{constructor(t,e,r,n,o){this.servicioService=t;this.router=e;this.filterService=r;this.paginationService=n;this.location=o}servicios=[];serviciosFiltrados=[];serviciosPaginados=[];textoBusqueda="";paginaActual=1;elementosPorPagina=5;totalPaginas=0;mostrarModal=!1;servicioAEliminarId=null;mensajeExito="";mensajeError="";ngOnInit(){let t=this.location.getState();t?.mensaje&&(this.mensajeExito=t.mensaje,setTimeout(()=>this.mensajeExito="",3e3)),t?.error&&(this.mensajeError=t.error,setTimeout(()=>this.mensajeError="",3e3)),this.obtenerServicios()}obtenerServicios(){this.servicioService.obtenerServicios().subscribe(t=>{this.servicios=t,this.serviciosFiltrados=t,this.calcularPaginacion()})}eliminarServicio(t){this.servicioService.eliminarServicio(t).subscribe({next:()=>{this.mensajeExito="Servicio eliminado exitosamente.",setTimeout(()=>this.mensajeExito="",3e3),this.obtenerServicios()},error:e=>{this.mensajeError="Ocurri\xF3 un error al eliminar el servicio.",setTimeout(()=>this.mensajeError="",3e3)}})}irACrearServicio(){this.router.navigate(["/servicio-create"])}irAEditarServicio(t){this.router.navigate([`/servicio-update/${t}`])}confirmarEliminarServicio(t){this.servicioAEliminarId=t,this.mostrarModal=!0}eliminarServicioConfirmado(){this.servicioAEliminarId!==null&&(this.eliminarServicio(this.servicioAEliminarId),this.cerrarModal())}cerrarModal(){this.mostrarModal=!1,this.servicioAEliminarId=null}filtrarServicios(){this.serviciosFiltrados=this.filterService.filtrar(this.servicios,this.textoBusqueda),this.paginaActual=1,this.calcularPaginacion()}calcularPaginacion(){let t=this.paginationService.paginate(this.serviciosFiltrados,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.serviciosPaginados=t.paginatedData}cambiarPagina(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarServiciosPaginados()}actualizarServiciosPaginados(){let t=this.paginationService.paginate(this.serviciosFiltrados,this.paginaActual,this.elementosPorPagina);this.serviciosPaginados=t.paginatedData}static \u0275fac=function(e){return new(e||i)(ie(mo),ie(ht),ie(zi),ie(Yi),ie(Cl))};static \u0275cmp=ot({type:i,selectors:[["app-servicio"]],standalone:!0,features:[st],decls:34,vars:8,consts:[["class","modal",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["type","text","placeholder","Buscar...",3,"ngModelChange","input","ngModel"],[1,"btn","btn-primary",2,"float","right","margin-bottom","10px",3,"click"],[1,"bi","bi-plus-circle"],["border","1","cellspacing","0","cellpadding","5",2,"width","100%","margin-top","20px"],[4,"ngFor","ngForOf"],[2,"margin-top","20px"],[3,"click","disabled"],[1,"modal"],[1,"modal-content"],[3,"click"],[1,"alert","alert-success"],[1,"alert","alert-danger"]],template:function(e,r){e&1&&(B(0,aA,8,0,"div",0),c(1,"div"),B(2,sA,2,1,"div",1)(3,lA,2,1,"div",2),c(4,"h2"),p(5,"Servicios"),l(),c(6,"input",3),pe("ngModelChange",function(o){return ue(r.textoBusqueda,o)||(r.textoBusqueda=o),o}),H("input",function(){return r.filtrarServicios()}),l(),c(7,"button",4),H("click",function(){return r.irACrearServicio()}),Ee(8,"i",5),p(9," Crear Servicio "),l(),c(10,"table",6)(11,"thead")(12,"tr")(13,"th"),p(14,"C\xF3digo"),l(),c(15,"th"),p(16,"Nombre"),l(),c(17,"th"),p(18,"Descripci\xF3n"),l(),c(19,"th"),p(20,"Precio Unitario"),l(),c(21,"th"),p(22,"Duraci\xF3n Estimada"),l(),c(23,"th"),p(24,"Acciones"),l()()(),c(25,"tbody"),B(26,cA,16,5,"tr",7),l()(),c(27,"div",8)(28,"button",9),H("click",function(){return r.cambiarPagina("previous")}),p(29," Anterior "),l(),c(30,"span"),p(31),l(),c(32,"button",9),H("click",function(){return r.cambiarPagina("next")}),p(33," Siguiente "),l()()()),e&2&&(M("ngIf",r.mostrarModal),g(2),M("ngIf",r.mensajeExito),g(),M("ngIf",r.mensajeError),g(3),de("ngModel",r.textoBusqueda),g(20),M("ngForOf",r.serviciosPaginados),g(2),M("disabled",r.paginaActual===1),g(3),Ke(" P\xE1gina ",r.paginaActual," "),g(),M("disabled",r.paginaActual===r.totalPaginas))},dependencies:[ct,Bt,yt,ji,Mt,kt,Pt,Tt],styles:['@charset "UTF-8";table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px;box-shadow:0 2px 4px #0000001a}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 15px;text-align:left;border-bottom:1px solid #e0e0e0}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f5f5f5;font-weight:600}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f9f9f9}button[_ngcontent-%COMP%]{cursor:pointer;border:none;border-radius:4px;padding:8px 12px;font-size:14px;transition:all .3s ease;margin-right:5px;font-weight:500}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px}button[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 2px 5px #0003;background-color:#9c9b9b}button[_ngcontent-%COMP%]:active{transform:translateY(0)}.btn-crear-servicio[_ngcontent-%COMP%]{float:right;background-color:#4caf50;color:#fff;margin-bottom:15px}.btn-crear-servicio[_ngcontent-%COMP%]:hover{background-color:#45a049}.btn-editar-servicio[_ngcontent-%COMP%]{background-color:#2196f3;color:#fff}.btn-editar-servicio[_ngcontent-%COMP%]:hover{background-color:#0b7dda}.btn-eliminar-servicio[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.btn-eliminar-servicio[_ngcontent-%COMP%]:hover{background-color:#da190b}.modal[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;z-index:1000}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:#fff;padding:25px;border-radius:8px;width:400px;text-align:center;box-shadow:0 4px 20px #00000026}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:20px;color:#333}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px;min-width:80px}.paginacion-servicios[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center;align-items:center;gap:15px}.paginacion-servicios[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 15px;background-color:#f5f5f5}.paginacion-servicios[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#e0e0e0}.paginacion-servicios[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.paginacion-servicios[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;color:#666}input[_ngcontent-%COMP%]{padding:10px;width:300px;border:1px solid #ddd;border-radius:4px;margin-bottom:15px}input[_ngcontent-%COMP%]:focus{outline:none;border-color:#2196f3;box-shadow:0 0 0 2px #2196f333}input[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{padding:10px;margin-bottom:15px;border-radius:5px}input[_ngcontent-%COMP%]   .alert-success[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724}input[_ngcontent-%COMP%]   .alert-danger[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24}']})};function dA(i,t){i&1&&(c(0,"small"),p(1,"El campo es obligatorio."),l())}function uA(i,t){i&1&&(c(0,"small"),p(1,"Debe tener al menos 3 caracteres."),l())}function pA(i,t){if(i&1&&(c(0,"div",23),B(1,dA,2,0,"small",24)(2,uA,2,0,"small",24),l()),i&2){Q();let e=ae(9);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function fA(i,t){i&1&&(c(0,"small"),p(1,"El campo es obligatorio."),l())}function mA(i,t){i&1&&(c(0,"small"),p(1,"Debe tener al menos 2 caracteres."),l())}function hA(i,t){if(i&1&&(c(0,"div",23),B(1,fA,2,0,"small",24)(2,mA,2,0,"small",24),l()),i&2){Q();let e=ae(15);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function gA(i,t){i&1&&(c(0,"small"),p(1,"El campo es obligatorio."),l())}function vA(i,t){i&1&&(c(0,"small"),p(1,"Debe tener al menos 5 caracteres."),l())}function _A(i,t){if(i&1&&(c(0,"div",23),B(1,gA,2,0,"small",24)(2,vA,2,0,"small",24),l()),i&2){Q();let e=ae(21);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function bA(i,t){i&1&&(c(0,"small"),p(1,"El campo es obligatorio."),l())}function xA(i,t){i&1&&(c(0,"small"),p(1,"Debe ser mayor a 0."),l())}function yA(i,t){if(i&1&&(c(0,"div",23),B(1,bA,2,0,"small",24)(2,xA,2,0,"small",24),l()),i&2){Q();let e=ae(27);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.min)}}function CA(i,t){i&1&&(c(0,"small"),p(1,"El campo es obligatorio."),l())}function wA(i,t){i&1&&(c(0,"small"),p(1,"Debe ser mayor a 0."),l())}function SA(i,t){if(i&1&&(c(0,"div",23),B(1,CA,2,0,"small",24)(2,wA,2,0,"small",24),l()),i&2){Q();let e=ae(33);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.min)}}var Gm=class i{constructor(t,e){this.servicioService=t;this.router=e}servicio={codigoServicio:"",nombre:"",descripcion:"",precioUnitario:0,duracionEstimada:0};cancelar(){this.router.navigate(["/servicio"])}crearServicio(){this.servicioService.crearServicio(this.servicio).subscribe({next:()=>{this.router.navigate(["/servicio"],{state:{mensaje:"Servicio creado exitosamente."}})},error:()=>{this.router.navigate(["/servicio"],{state:{error:"Ocurri\xF3 un error al crear el servicio."}})}})}static \u0275fac=function(e){return new(e||i)(ie(mo),ie(ht))};static \u0275cmp=ot({type:i,selectors:[["app-servicio-create"]],standalone:!0,features:[st],decls:40,vars:11,consts:[["servicioForm","ngForm"],["codigo_servicio","ngModel"],["nombre","ngModel"],["descripcion","ngModel"],["costoUnitario","ngModel"],["duracion_estimada","ngModel"],[1,"form-container"],[3,"ngSubmit"],[1,"form-group"],["for","codigo_servicio"],["id","codigo_servicio","type","text","name","codigo_servicio","required","","minlength","3",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","nombre"],["id","nombre","type","text","name","nombre","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["for","descripcion"],["id","descripcion","name","descripcion","required","","minlength","5",1,"form-control",3,"ngModelChange","ngModel"],["for","costoUnitario"],["id","costoUnitario","type","number","name","costoUnitario","required","","min","0.01","step","0.01",1,"form-control",3,"ngModelChange","ngModel"],["for","duracion_estimada"],["id","duracion_estimada","type","number","name","duracion_estimada","required","","min","0.01","step","0.01",1,"form-control",3,"ngModelChange","ngModel"],[1,"button-container"],["type","submit",1,"submit-btn",3,"disabled"],["type","button",1,"cancel-btn",3,"click"],[1,"error-message"],[4,"ngIf"]],template:function(e,r){if(e&1){let n=Je();c(0,"div",6)(1,"h2"),p(2,"Crear Servicio"),l(),c(3,"form",7,0),H("ngSubmit",function(){return N(n),D(r.crearServicio())}),c(5,"div",8)(6,"label",9),p(7,"C\xF3digo de Servicio:"),l(),c(8,"input",10,1),pe("ngModelChange",function(a){return N(n),ue(r.servicio.codigoServicio,a)||(r.servicio.codigoServicio=a),D(a)}),l(),B(10,pA,3,2,"div",11),l(),c(11,"div",8)(12,"label",12),p(13,"Nombre:"),l(),c(14,"input",13,2),pe("ngModelChange",function(a){return N(n),ue(r.servicio.nombre,a)||(r.servicio.nombre=a),D(a)}),l(),B(16,hA,3,2,"div",11),l(),c(17,"div",8)(18,"label",14),p(19,"Descripci\xF3n:"),l(),c(20,"textarea",15,3),pe("ngModelChange",function(a){return N(n),ue(r.servicio.descripcion,a)||(r.servicio.descripcion=a),D(a)}),l(),B(22,_A,3,2,"div",11),l(),c(23,"div",8)(24,"label",16),p(25,"Costo Unitario:"),l(),c(26,"input",17,4),pe("ngModelChange",function(a){return N(n),ue(r.servicio.precioUnitario,a)||(r.servicio.precioUnitario=a),D(a)}),l(),B(28,yA,3,2,"div",11),l(),c(29,"div",8)(30,"label",18),p(31,"Duraci\xF3n Estimada (d\xEDas):"),l(),c(32,"input",19,5),pe("ngModelChange",function(a){return N(n),ue(r.servicio.duracionEstimada,a)||(r.servicio.duracionEstimada=a),D(a)}),l(),B(34,SA,3,2,"div",11),l(),c(35,"div",20)(36,"button",21),p(37,"Crear"),l(),c(38,"button",22),H("click",function(){return N(n),D(r.cancelar())}),p(39,"Cancelar"),l()()()()}if(e&2){let n=ae(4),o=ae(9),a=ae(15),d=ae(21),u=ae(27),m=ae(33);g(8),de("ngModel",r.servicio.codigoServicio),g(2),M("ngIf",o.invalid&&(o.dirty||o.touched)),g(4),de("ngModel",r.servicio.nombre),g(2),M("ngIf",a.invalid&&(a.dirty||a.touched)),g(4),de("ngModel",r.servicio.descripcion),g(2),M("ngIf",d.invalid&&(d.dirty||d.touched)),g(4),de("ngModel",r.servicio.precioUnitario),g(2),M("ngIf",u.invalid&&(u.dirty||u.touched)),g(4),de("ngModel",r.servicio.duracionEstimada),g(2),M("ngIf",m.invalid&&(m.dirty||m.touched)),g(2),M("disabled",n.invalid)}},dependencies:[Mt,Qt,kt,Qi,Pt,Jt,ri,xi,yr,Tt,ei,ct,yt],styles:[".form-container[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:14px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.error-message[_ngcontent-%COMP%]{color:red;font-size:14px;margin-top:5px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{width:48%;padding:10px;font-size:16px;border-radius:4px;cursor:pointer}.submit-btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;border:none}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6;cursor:not-allowed}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#218838}.cancel-btn[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})};function EA(i,t){i&1&&(c(0,"small"),p(1,"El nombre del servicio es obligatorio."),l())}function PA(i,t){i&1&&(c(0,"small"),p(1,"Debe tener al menos 2 caracteres."),l())}function MA(i,t){if(i&1&&(c(0,"div",23),B(1,EA,2,0,"small",24)(2,PA,2,0,"small",24),l()),i&2){Q();let e=ae(9);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function TA(i,t){i&1&&(c(0,"small"),p(1,"La descripci\xF3n es obligatoria."),l())}function kA(i,t){i&1&&(c(0,"small"),p(1,"Debe tener al menos 2 caracteres."),l())}function AA(i,t){if(i&1&&(c(0,"div",23),B(1,TA,2,0,"small",24)(2,kA,2,0,"small",24),l()),i&2){Q();let e=ae(15);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function IA(i,t){i&1&&(c(0,"small"),p(1,"El costo unitario es obligatorio."),l())}function OA(i,t){i&1&&(c(0,"small"),p(1,"El costo debe ser un valor positivo."),l())}function FA(i,t){if(i&1&&(c(0,"div",23),B(1,IA,2,0,"small",24)(2,OA,2,0,"small",24),l()),i&2){Q();let e=ae(21);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.min)}}function NA(i,t){i&1&&(c(0,"small"),p(1,"El c\xF3digo del servicio es obligatorio."),l())}function LA(i,t){i&1&&(c(0,"small"),p(1,"Debe tener al menos 2 caracteres."),l())}function DA(i,t){if(i&1&&(c(0,"div",23),B(1,NA,2,0,"small",24)(2,LA,2,0,"small",24),l()),i&2){Q();let e=ae(27);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function RA(i,t){i&1&&(c(0,"small"),p(1,"La duraci\xF3n estimada es obligatoria."),l())}function BA(i,t){i&1&&(c(0,"small"),p(1,"La duraci\xF3n debe ser un valor positivo."),l())}function UA(i,t){if(i&1&&(c(0,"div",23),B(1,RA,2,0,"small",24)(2,BA,2,0,"small",24),l()),i&2){Q();let e=ae(33);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.min)}}var $m=class i{constructor(t,e,r){this.servicioService=t;this.route=e;this.router=r}servicio={id:0,codigoServicio:"",nombre:"",descripcion:"",precioUnitario:0,duracionEstimada:0};ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("id"));t&&this.servicioService.obtenerServicioPorId(t).subscribe(e=>{this.servicio=e})}actualizarServicio(){this.servicio.id!=null&&this.servicioService.actualizarServicio(this.servicio.id,this.servicio).subscribe({next:()=>{this.router.navigate(["/servicio"],{state:{mensaje:"Servicio actualizado exitosamente."}})},error:()=>{this.router.navigate(["/servicio"],{state:{error:"Ocurri\xF3 un error al actualizar el servicio."}})}})}cancelar(){this.router.navigate(["/servicio"])}static \u0275fac=function(e){return new(e||i)(ie(mo),ie(Vi),ie(ht))};static \u0275cmp=ot({type:i,selectors:[["app-servicio-update"]],standalone:!0,features:[st],decls:40,vars:11,consts:[["servicioForm","ngForm"],["nombre","ngModel"],["descripcion","ngModel"],["costo_unitario","ngModel"],["codigo_servicio","ngModel"],["duracion_estimada","ngModel"],[1,"form-container"],[3,"ngSubmit"],[1,"form-group"],["for","nombre"],["id","nombre","name","nombre","placeholder","Nombre del servicio","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","descripcion"],["id","descripcion","name","descripcion","placeholder","Descripci\xF3n del servicio","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["for","costo_unitario"],["id","costo_unitario","name","costo_unitario","type","number","placeholder","Costo unitario","required","","min","0",1,"form-control",3,"ngModelChange","ngModel"],["for","codigo_servicio"],["id","codigo_servicio","name","codigo_servicio","placeholder","C\xF3digo del servicio","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["for","duracion_estimada"],["id","duracion_estimada","name","duracion_estimada","type","number","placeholder","Duraci\xF3n estimada","required","","min","0","step","0.1",1,"form-control",3,"ngModelChange","ngModel"],[1,"button-container"],["type","submit",1,"submit-btn",3,"disabled"],["type","button",1,"cancel-btn",3,"click"],[1,"error-message"],[4,"ngIf"]],template:function(e,r){if(e&1){let n=Je();c(0,"div",6)(1,"h2"),p(2,"Actualizar Servicio"),l(),c(3,"form",7,0),H("ngSubmit",function(){return N(n),D(r.actualizarServicio())}),c(5,"div",8)(6,"label",9),p(7,"Nombre del servicio:"),l(),c(8,"input",10,1),pe("ngModelChange",function(a){return N(n),ue(r.servicio.nombre,a)||(r.servicio.nombre=a),D(a)}),l(),B(10,MA,3,2,"div",11),l(),c(11,"div",8)(12,"label",12),p(13,"Descripci\xF3n:"),l(),c(14,"input",13,2),pe("ngModelChange",function(a){return N(n),ue(r.servicio.descripcion,a)||(r.servicio.descripcion=a),D(a)}),l(),B(16,AA,3,2,"div",11),l(),c(17,"div",8)(18,"label",14),p(19,"Costo unitario:"),l(),c(20,"input",15,3),pe("ngModelChange",function(a){return N(n),ue(r.servicio.precioUnitario,a)||(r.servicio.precioUnitario=a),D(a)}),l(),B(22,FA,3,2,"div",11),l(),c(23,"div",8)(24,"label",16),p(25,"C\xF3digo del servicio:"),l(),c(26,"input",17,4),pe("ngModelChange",function(a){return N(n),ue(r.servicio.codigoServicio,a)||(r.servicio.codigoServicio=a),D(a)}),l(),B(28,DA,3,2,"div",11),l(),c(29,"div",8)(30,"label",18),p(31,"Duraci\xF3n estimada (en horas):"),l(),c(32,"input",19,5),pe("ngModelChange",function(a){return N(n),ue(r.servicio.duracionEstimada,a)||(r.servicio.duracionEstimada=a),D(a)}),l(),B(34,UA,3,2,"div",11),l(),c(35,"div",20)(36,"button",21),p(37,"Actualizar"),l(),c(38,"button",22),H("click",function(){return N(n),D(r.cancelar())}),p(39,"Cancelar"),l()()()()}if(e&2){let n=ae(4),o=ae(9),a=ae(15),d=ae(21),u=ae(27),m=ae(33);g(8),de("ngModel",r.servicio.nombre),g(2),M("ngIf",o.invalid&&(o.dirty||o.touched)),g(4),de("ngModel",r.servicio.descripcion),g(2),M("ngIf",a.invalid&&(a.dirty||a.touched)),g(4),de("ngModel",r.servicio.precioUnitario),g(2),M("ngIf",d.invalid&&(d.dirty||d.touched)),g(4),de("ngModel",r.servicio.codigoServicio),g(2),M("ngIf",u.invalid&&(u.dirty||u.touched)),g(4),de("ngModel",r.servicio.duracionEstimada),g(2),M("ngIf",m.invalid&&(m.dirty||m.touched)),g(2),M("disabled",n.invalid)}},dependencies:[Mt,Qt,kt,Qi,Pt,Jt,ri,xi,yr,Tt,ei,ct,yt],styles:[".form-container[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:14px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.error-message[_ngcontent-%COMP%]{color:red;font-size:16px;margin-top:5px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{width:48%;padding:10px;font-size:16px;border-radius:4px;cursor:pointer}.submit-btn[_ngcontent-%COMP%]{background-color:#ffc107;color:#fff;border:none}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6;cursor:not-allowed}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#e0a800}.cancel-btn[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})};function VA(i,t){if(i&1){let e=Je();c(0,"div",10)(1,"div",11)(2,"h3"),p(3,"\xBFEst\xE1s seguro de eliminar este empleado?"),l(),c(4,"button",12),H("click",function(){N(e);let n=Q();return D(n.eliminarEmpleadoConfirmado())}),p(5,"Confirmar"),l(),c(6,"button",12),H("click",function(){N(e);let n=Q();return D(n.cerrarModal())}),p(7,"Cancelar"),l()()()}}function qA(i,t){if(i&1&&(c(0,"div",13),p(1),l()),i&2){let e=Q();g(),Te(e.mensajeExito)}}function jA(i,t){if(i&1&&(c(0,"div",14),p(1),l()),i&2){let e=Q();g(),Te(e.mensajeError)}}function zA(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),p(2),l(),c(3,"td"),p(4),l(),c(5,"td"),p(6),l(),c(7,"td"),p(8),l(),c(9,"td"),p(10),l(),c(11,"td"),p(12),l(),c(13,"td"),p(14),l(),c(15,"td"),p(16),l(),c(17,"td")(18,"button",12),H("click",function(){let n,o=N(e).$implicit,a=Q();return D(a.irAEditarEmpleado((n=o.id)!==null&&n!==void 0?n:0))}),p(19,"Editar"),l(),c(20,"button",12),H("click",function(){let n,o=N(e).$implicit,a=Q();return D(a.confirmarEliminarEmpleado((n=o.id)!==null&&n!==void 0?n:0))}),p(21,"Eliminar"),l()()()}if(i&2){let e=t.$implicit;g(2),Te(e.nombre),g(2),Te(e.apellido),g(2),Te(e.documentoIdentidad),g(2),Te(e.puesto||"\u2014"),g(2),Te(e.tipoContrato),g(2),Te(e.fechaIngreso),g(2),Ke("",e.salario," Bs "),g(2),Te(e.activo?"S\xED":"No")}}var Xm=class i{constructor(t,e,r,n,o){this.empleadoService=t;this.router=e;this.filterService=r;this.paginationService=n;this.location=o}empleados=[];empleadosFiltrados=[];empleadosPaginados=[];textoBusqueda="";paginaActual=1;elementosPorPagina=5;totalPaginas=0;mostrarModal=!1;empleadoAEliminarId=null;mensajeExito="";mensajeError="";ngOnInit(){let t=this.location.getState();t?.mensaje&&(this.mensajeExito=t.mensaje,setTimeout(()=>this.mensajeExito="",3e3)),t?.error&&(this.mensajeError=t.error,setTimeout(()=>this.mensajeError="",3e3)),this.obtenerEmpleados()}obtenerEmpleados(){this.empleadoService.obtenerEmpleados().subscribe(t=>{this.empleados=t,this.empleadosFiltrados=t,this.calcularPaginacion()})}irACrearEmpleado(){this.router.navigate(["/empleado-create"])}irAEditarEmpleado(t){this.router.navigate([`/empleado-update/${t}`])}confirmarEliminarEmpleado(t){this.empleadoAEliminarId=t,this.mostrarModal=!0}eliminarEmpleadoConfirmado(){this.empleadoAEliminarId!==null&&(this.eliminarEmpleado(this.empleadoAEliminarId),this.cerrarModal())}eliminarEmpleado(t){this.empleadoService.eliminarEmpleado(t).subscribe({next:()=>{this.mensajeExito="Empleado eliminado exitosamente.",setTimeout(()=>this.mensajeExito="",3e3),this.obtenerEmpleados()},error:()=>{this.mensajeError="Ocurri\xF3 un error al eliminar el empleado.",setTimeout(()=>this.mensajeError="",3e3)}})}cerrarModal(){this.mostrarModal=!1,this.empleadoAEliminarId=null}filtrarEmpleados(){this.empleadosFiltrados=this.filterService.filtrar(this.empleados,this.textoBusqueda),this.paginaActual=1,this.calcularPaginacion()}calcularPaginacion(){let t=this.paginationService.paginate(this.empleadosFiltrados,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.empleadosPaginados=t.paginatedData}cambiarPagina(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarEmpleadosPaginados()}actualizarEmpleadosPaginados(){let t=this.paginationService.paginate(this.empleadosFiltrados,this.paginaActual,this.elementosPorPagina);this.empleadosPaginados=t.paginatedData}static \u0275fac=function(e){return new(e||i)(ie(Za),ie(ht),ie(zi),ie(Yi),ie(Cl))};static \u0275cmp=ot({type:i,selectors:[["app-empleado"]],standalone:!0,features:[st],decls:40,vars:9,consts:[["class","modal",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["type","text","placeholder","Buscar...",3,"ngModelChange","input","ngModel"],[1,"btn","btn-primary",2,"float","right","margin-bottom","10px",3,"click"],[1,"bi","bi-plus-circle"],["border","1","cellspacing","0","cellpadding","5",2,"width","100%","margin-top","20px"],[4,"ngFor","ngForOf"],[2,"margin-top","20px"],[3,"click","disabled"],[1,"modal"],[1,"modal-content"],[3,"click"],[1,"alert","alert-success"],[1,"alert","alert-danger"]],template:function(e,r){e&1&&(B(0,VA,8,0,"div",0),c(1,"div"),B(2,qA,2,1,"div",1)(3,jA,2,1,"div",2),c(4,"h2"),p(5,"Empleados"),l(),c(6,"input",3),pe("ngModelChange",function(o){return ue(r.textoBusqueda,o)||(r.textoBusqueda=o),o}),H("input",function(){return r.filtrarEmpleados()}),l(),c(7,"button",4),H("click",function(){return r.irACrearEmpleado()}),Ee(8,"i",5),p(9," Crear Empleado "),l(),c(10,"table",6)(11,"thead")(12,"tr")(13,"th"),p(14,"Nombre"),l(),c(15,"th"),p(16,"Apellido"),l(),c(17,"th"),p(18,"C.I."),l(),c(19,"th"),p(20,"Puesto"),l(),c(21,"th"),p(22,"Tipo de Contrato"),l(),c(23,"th"),p(24,"Fecha Ingreso"),l(),c(25,"th"),p(26,"Salario"),l(),c(27,"th"),p(28,"Activo"),l(),c(29,"th"),p(30,"Acciones"),l()()(),c(31,"tbody"),B(32,zA,22,8,"tr",7),l()(),c(33,"div",8)(34,"button",9),H("click",function(){return r.cambiarPagina("previous")}),p(35,"Anterior"),l(),c(36,"span"),p(37),l(),c(38,"button",9),H("click",function(){return r.cambiarPagina("next")}),p(39,"Siguiente"),l()()()),e&2&&(M("ngIf",r.mostrarModal),g(2),M("ngIf",r.mensajeExito),g(),M("ngIf",r.mensajeError),g(3),de("ngModel",r.textoBusqueda),g(26),M("ngForOf",r.empleadosPaginados),g(2),M("disabled",r.paginaActual===1),g(3),Di(" P\xE1gina ",r.paginaActual," de ",r.totalPaginas," "),g(),M("disabled",r.paginaActual===r.totalPaginas))},dependencies:[ct,Bt,yt,ji,Mt,kt,Pt,Tt],styles:['@charset "UTF-8";table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px;box-shadow:0 2px 4px #0000001a}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 15px;text-align:left;border-bottom:1px solid #e0e0e0}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f5f5f5;font-weight:600}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f9f9f9}button[_ngcontent-%COMP%]{cursor:pointer;border:none;border-radius:4px;padding:8px 12px;font-size:14px;transition:background-color .3s;margin-right:5px}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px}.btn-crear-empleado[_ngcontent-%COMP%]{float:right;background-color:#4caf50;color:#fff;margin-bottom:15px}.btn-crear-empleado[_ngcontent-%COMP%]:hover{background-color:#45a049}.btn-editar-empleado[_ngcontent-%COMP%]{background-color:#2196f3;color:#fff}.btn-editar-empleado[_ngcontent-%COMP%]:hover{background-color:#0b7dda}.btn-eliminar-empleado[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.btn-eliminar-empleado[_ngcontent-%COMP%]:hover{background-color:#da190b}.modal[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;z-index:1000}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:#fff;padding:25px;border-radius:8px;width:400px;text-align:center;box-shadow:0 4px 20px #00000026}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:20px;color:#333}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px;min-width:80px}.paginacion-empleados[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center;align-items:center;gap:15px}.paginacion-empleados[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 15px;background-color:#f5f5f5}.paginacion-empleados[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#e0e0e0}.paginacion-empleados[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.paginacion-empleados[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;color:#666}input[_ngcontent-%COMP%]{padding:10px;width:300px;border:1px solid #ddd;border-radius:4px;margin-bottom:15px}input[_ngcontent-%COMP%]:focus{outline:none;border-color:#2196f3;box-shadow:0 0 0 2px #2196f333}']})};function WA(i,t){i&1&&(c(0,"small"),p(1,"El campo es obligatorio."),l())}function HA(i,t){i&1&&(c(0,"small"),p(1,"Debe tener al menos 2 caracteres."),l())}function GA(i,t){if(i&1&&(c(0,"div",35),B(1,WA,2,0,"small",36)(2,HA,2,0,"small",36),l()),i&2){Q();let e=ae(9);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function $A(i,t){i&1&&(c(0,"small"),p(1,"El campo es obligatorio."),l())}function XA(i,t){i&1&&(c(0,"small"),p(1,"Debe tener al menos 2 caracteres."),l())}function ZA(i,t){if(i&1&&(c(0,"div",35),B(1,$A,2,0,"small",36)(2,XA,2,0,"small",36),l()),i&2){Q();let e=ae(15);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function YA(i,t){i&1&&(c(0,"small"),p(1,"El campo es obligatorio."),l())}function KA(i,t){i&1&&(c(0,"small"),p(1,"Debe tener al menos 2 caracteres."),l())}function JA(i,t){if(i&1&&(c(0,"div",35),B(1,YA,2,0,"small",36)(2,KA,2,0,"small",36),l()),i&2){Q();let e=ae(49);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function QA(i,t){i&1&&(c(0,"small"),p(1,"El campo es obligatorio."),l())}function e8(i,t){i&1&&(c(0,"small"),p(1,"Debe ser mayor a 0."),l())}function t8(i,t){if(i&1&&(c(0,"div",35),B(1,QA,2,0,"small",36)(2,e8,2,0,"small",36),l()),i&2){Q();let e=ae(55);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.min)}}var Zm=class i{constructor(t,e){this.empleadoService=t;this.router=e}empleado={nombre:"",apellido:"",documentoIdentidad:"",tipoContrato:"planta",fechaIngreso:"",salario:0,activo:!0,puesto:"",email:"",telefono:"",fechaTerminoContrato:""};crearEmpleado(){this.empleadoService.crearEmpleado(this.empleado).subscribe({next:()=>{this.router.navigate(["/empleado"],{state:{mensaje:"Empleado creado exitosamente."}})},error:()=>{this.router.navigate(["/empleado"],{state:{error:"Ocurri\xF3 un error al crear el empleado."}})}})}cancelar(){this.router.navigate(["/empleado"])}static \u0275fac=function(e){return new(e||i)(ie(Za),ie(ht))};static \u0275cmp=ot({type:i,selectors:[["app-empleado-create"]],standalone:!0,features:[st],decls:66,vars:16,consts:[["empleadoForm","ngForm"],["nombre","ngModel"],["apellido","ngModel"],["puesto","ngModel"],["salario","ngModel"],[1,"form-container"],[3,"ngSubmit"],[1,"form-group"],["for","nombre"],["id","nombre","type","text","name","nombre","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","apellido"],["id","apellido","type","text","name","apellido","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["for","documento_identidad"],["id","documento_identidad","type","text","name","documento_identidad","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","tipo_contrato"],["id","tipo_contrato","name","tipo_contrato","required","",1,"form-control",3,"ngModelChange","ngModel"],["value","planta"],["value","eventual"],["for","fecha_ingreso"],["id","fecha_ingreso","type","date","name","fecha_ingreso","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","fecha_termino_contrato"],["id","fecha_termino_contrato","type","date","name","fecha_termino_contrato",1,"form-control",3,"ngModelChange","ngModel"],["for","email"],["id","email","type","email","name","email",1,"form-control",3,"ngModelChange","ngModel"],["for","telefono"],["id","telefono","type","text","name","telefono",1,"form-control",3,"ngModelChange","ngModel"],["for","puesto"],["id","puesto","type","text","name","puesto","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["for","salario"],["id","salario","type","number","name","salario","required","","min","0.01","step","0.01",1,"form-control",3,"ngModelChange","ngModel"],["type","checkbox","name","activo",3,"ngModelChange","ngModel"],[1,"button-container"],["type","submit",1,"submit-btn",3,"disabled"],["type","button",1,"cancel-btn",3,"click"],[1,"error-message"],[4,"ngIf"]],template:function(e,r){if(e&1){let n=Je();c(0,"div",5)(1,"h2"),p(2,"Crear Empleado"),l(),c(3,"form",6,0),H("ngSubmit",function(){return N(n),D(r.crearEmpleado())}),c(5,"div",7)(6,"label",8),p(7,"Nombre:"),l(),c(8,"input",9,1),pe("ngModelChange",function(a){return N(n),ue(r.empleado.nombre,a)||(r.empleado.nombre=a),D(a)}),l(),B(10,GA,3,2,"div",10),l(),c(11,"div",7)(12,"label",11),p(13,"Apellido:"),l(),c(14,"input",12,2),pe("ngModelChange",function(a){return N(n),ue(r.empleado.apellido,a)||(r.empleado.apellido=a),D(a)}),l(),B(16,ZA,3,2,"div",10),l(),c(17,"div",7)(18,"label",13),p(19,"Documento de Identidad:"),l(),c(20,"input",14),pe("ngModelChange",function(a){return N(n),ue(r.empleado.documentoIdentidad,a)||(r.empleado.documentoIdentidad=a),D(a)}),l()(),c(21,"div",7)(22,"label",15),p(23,"Tipo de Contrato:"),l(),c(24,"select",16),pe("ngModelChange",function(a){return N(n),ue(r.empleado.tipoContrato,a)||(r.empleado.tipoContrato=a),D(a)}),c(25,"option",17),p(26,"Planta"),l(),c(27,"option",18),p(28,"Eventual"),l()()(),c(29,"div",7)(30,"label",19),p(31,"Fecha de Ingreso:"),l(),c(32,"input",20),pe("ngModelChange",function(a){return N(n),ue(r.empleado.fechaIngreso,a)||(r.empleado.fechaIngreso=a),D(a)}),l()(),c(33,"div",7)(34,"label",21),p(35,"Fecha de T\xE9rmino de Contrato (opcional):"),l(),c(36,"input",22),pe("ngModelChange",function(a){return N(n),ue(r.empleado.fechaTerminoContrato,a)||(r.empleado.fechaTerminoContrato=a),D(a)}),l()(),c(37,"div",7)(38,"label",23),p(39,"Email:"),l(),c(40,"input",24),pe("ngModelChange",function(a){return N(n),ue(r.empleado.email,a)||(r.empleado.email=a),D(a)}),l()(),c(41,"div",7)(42,"label",25),p(43,"Tel\xE9fono:"),l(),c(44,"input",26),pe("ngModelChange",function(a){return N(n),ue(r.empleado.telefono,a)||(r.empleado.telefono=a),D(a)}),l()(),c(45,"div",7)(46,"label",27),p(47,"Puesto:"),l(),c(48,"input",28,3),pe("ngModelChange",function(a){return N(n),ue(r.empleado.puesto,a)||(r.empleado.puesto=a),D(a)}),l(),B(50,JA,3,2,"div",10),l(),c(51,"div",7)(52,"label",29),p(53,"Salario:"),l(),c(54,"input",30,4),pe("ngModelChange",function(a){return N(n),ue(r.empleado.salario,a)||(r.empleado.salario=a),D(a)}),l(),B(56,t8,3,2,"div",10),l(),c(57,"div",7)(58,"label")(59,"input",31),pe("ngModelChange",function(a){return N(n),ue(r.empleado.activo,a)||(r.empleado.activo=a),D(a)}),l(),p(60," Activo "),l()(),c(61,"div",32)(62,"button",33),p(63,"Crear"),l(),c(64,"button",34),H("click",function(){return N(n),D(r.cancelar())}),p(65,"Cancelar"),l()()()()}if(e&2){let n=ae(4),o=ae(9),a=ae(15),d=ae(49),u=ae(55);g(8),de("ngModel",r.empleado.nombre),g(2),M("ngIf",o.invalid&&(o.dirty||o.touched)),g(4),de("ngModel",r.empleado.apellido),g(2),M("ngIf",a.invalid&&(a.dirty||a.touched)),g(4),de("ngModel",r.empleado.documentoIdentidad),g(4),de("ngModel",r.empleado.tipoContrato),g(8),de("ngModel",r.empleado.fechaIngreso),g(4),de("ngModel",r.empleado.fechaTerminoContrato),g(4),de("ngModel",r.empleado.email),g(4),de("ngModel",r.empleado.telefono),g(4),de("ngModel",r.empleado.puesto),g(2),M("ngIf",d.invalid&&(d.dirty||d.touched)),g(4),de("ngModel",r.empleado.salario),g(2),M("ngIf",u.invalid&&(u.dirty||u.touched)),g(3),de("ngModel",r.empleado.activo),g(3),M("disabled",n.invalid)}},dependencies:[Mt,Qt,Fi,Ni,kt,Qi,Pd,Ti,Pt,Jt,ri,xi,yr,Tt,ei,ct,yt],styles:[".form-container[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:14px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.error-message[_ngcontent-%COMP%]{color:red;font-size:14px;margin-top:5px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{width:48%;padding:10px;font-size:16px;border-radius:4px;cursor:pointer}.submit-btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;border:none}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6;cursor:not-allowed}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#218838}.cancel-btn[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})};function i8(i,t){i&1&&(c(0,"small"),p(1,"El nombre del empleado es obligatorio."),l())}function r8(i,t){i&1&&(c(0,"small"),p(1,"Debe tener al menos 2 caracteres."),l())}function n8(i,t){if(i&1&&(c(0,"div",35),B(1,i8,2,0,"small",36)(2,r8,2,0,"small",36),l()),i&2){Q();let e=ae(9);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function o8(i,t){i&1&&(c(0,"small"),p(1,"El apellido es obligatorio."),l())}function a8(i,t){i&1&&(c(0,"small"),p(1,"Debe tener al menos 2 caracteres."),l())}function s8(i,t){if(i&1&&(c(0,"div",35),B(1,o8,2,0,"small",36)(2,a8,2,0,"small",36),l()),i&2){Q();let e=ae(15);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function l8(i,t){i&1&&(c(0,"small"),p(1,"El documento de identidad es obligatorio."),l())}function c8(i,t){i&1&&(c(0,"small"),p(1,"Debe tener al menos 6 caracteres."),l())}function d8(i,t){if(i&1&&(c(0,"div",35),B(1,l8,2,0,"small",36)(2,c8,2,0,"small",36),l()),i&2){Q();let e=ae(21);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function u8(i,t){i&1&&(c(0,"small"),p(1,"El puesto es obligatorio."),l())}function p8(i,t){i&1&&(c(0,"small"),p(1,"Debe tener al menos 2 caracteres."),l())}function f8(i,t){if(i&1&&(c(0,"div",35),B(1,u8,2,0,"small",36)(2,p8,2,0,"small",36),l()),i&2){Q();let e=ae(27);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function m8(i,t){i&1&&(c(0,"small"),p(1,"El tipo de contrato es obligatorio."),l())}function h8(i,t){if(i&1&&(c(0,"div",35),B(1,m8,2,0,"small",36),l()),i&2){Q();let e=ae(33);g(),M("ngIf",e.errors==null?null:e.errors.required)}}function g8(i,t){i&1&&(c(0,"small"),p(1,"La fecha de ingreso es obligatoria."),l())}function v8(i,t){if(i&1&&(c(0,"div",35),B(1,g8,2,0,"small",36),l()),i&2){Q();let e=ae(45);g(),M("ngIf",e.errors==null?null:e.errors.required)}}function _8(i,t){i&1&&(c(0,"small"),p(1,"El salario es obligatorio."),l())}function b8(i,t){i&1&&(c(0,"small"),p(1,"Debe ser mayor a 0."),l())}function x8(i,t){if(i&1&&(c(0,"div",35),B(1,_8,2,0,"small",36)(2,b8,2,0,"small",36),l()),i&2){Q();let e=ae(51);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.min)}}var Ym=class i{constructor(t,e,r){this.empleadoService=t;this.route=e;this.router=r}empleado={id:0,nombre:"",apellido:"",documentoIdentidad:"",tipoContrato:"planta",fechaIngreso:"",salario:0,activo:!0};ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("id"));t&&this.empleadoService.obtenerEmpleadoPorId(t).subscribe(e=>{this.empleado=e})}actualizarEmpleado(){this.empleado.id!=null&&this.empleadoService.actualizarEmpleado(this.empleado.id,this.empleado).subscribe({next:()=>{this.router.navigate(["/empleado"],{state:{mensaje:"Empleado actualizado exitosamente."}})},error:()=>{this.router.navigate(["/empleado"],{state:{error:"Ocurri\xF3 un error al actualizar el empleado."}})}})}cancelar(){this.router.navigate(["/empleado"])}static \u0275fac=function(e){return new(e||i)(ie(Za),ie(Vi),ie(ht))};static \u0275cmp=ot({type:i,selectors:[["app-empleado-update"]],standalone:!0,features:[st],decls:63,vars:16,consts:[["empleadoForm","ngForm"],["nombre","ngModel"],["apellido","ngModel"],["documento_identidad","ngModel"],["puesto","ngModel"],["tipo_contrato","ngModel"],["fecha_ingreso","ngModel"],["salario","ngModel"],["activo","ngModel"],[1,"form-container"],[3,"ngSubmit"],[1,"form-group"],["for","nombre"],["id","nombre","name","nombre","placeholder","Nombre del empleado","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","apellido"],["id","apellido","name","apellido","placeholder","Apellido","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["for","documento_identidad"],["id","documento_identidad","name","documento_identidad","placeholder","Documento de Identidad","required","","minlength","6",1,"form-control",3,"ngModelChange","ngModel"],["for","puesto"],["id","puesto","name","puesto","placeholder","Puesto del empleado","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["for","tipo_contrato"],["id","tipo_contrato","name","tipo_contrato","required","",1,"form-control",3,"ngModelChange","ngModel"],["value","planta"],["value","temporal"],["value","por obra"],["for","fecha_ingreso"],["id","fecha_ingreso","type","date","name","fecha_ingreso","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","salario"],["id","salario","type","number","name","salario","placeholder","Salario","required","","min","0.01","step","0.01",1,"form-control",3,"ngModelChange","ngModel"],["for","activo"],["id","activo","type","checkbox","name","activo",1,"form-control",3,"ngModelChange","ngModel"],[1,"button-container"],["type","submit",1,"submit-btn",3,"disabled"],["type","button",1,"cancel-btn",3,"click"],[1,"error-message"],[4,"ngIf"]],template:function(e,r){if(e&1){let n=Je();c(0,"div",9)(1,"h2"),p(2,"Actualizar Empleado"),l(),c(3,"form",10,0),H("ngSubmit",function(){return N(n),D(r.actualizarEmpleado())}),c(5,"div",11)(6,"label",12),p(7,"Nombre del empleado:"),l(),c(8,"input",13,1),pe("ngModelChange",function(a){return N(n),ue(r.empleado.nombre,a)||(r.empleado.nombre=a),D(a)}),l(),B(10,n8,3,2,"div",14),l(),c(11,"div",11)(12,"label",15),p(13,"Apellido:"),l(),c(14,"input",16,2),pe("ngModelChange",function(a){return N(n),ue(r.empleado.apellido,a)||(r.empleado.apellido=a),D(a)}),l(),B(16,s8,3,2,"div",14),l(),c(17,"div",11)(18,"label",17),p(19,"Documento de Identidad:"),l(),c(20,"input",18,3),pe("ngModelChange",function(a){return N(n),ue(r.empleado.documentoIdentidad,a)||(r.empleado.documentoIdentidad=a),D(a)}),l(),B(22,d8,3,2,"div",14),l(),c(23,"div",11)(24,"label",19),p(25,"Puesto:"),l(),c(26,"input",20,4),pe("ngModelChange",function(a){return N(n),ue(r.empleado.puesto,a)||(r.empleado.puesto=a),D(a)}),l(),B(28,f8,3,2,"div",14),l(),c(29,"div",11)(30,"label",21),p(31,"Tipo de Contrato:"),l(),c(32,"select",22,5),pe("ngModelChange",function(a){return N(n),ue(r.empleado.tipoContrato,a)||(r.empleado.tipoContrato=a),D(a)}),c(34,"option",23),p(35,"Planta"),l(),c(36,"option",24),p(37,"Temporal"),l(),c(38,"option",25),p(39,"Por Obra"),l()(),B(40,h8,2,1,"div",14),l(),c(41,"div",11)(42,"label",26),p(43,"Fecha de Ingreso:"),l(),c(44,"input",27,6),pe("ngModelChange",function(a){return N(n),ue(r.empleado.fechaIngreso,a)||(r.empleado.fechaIngreso=a),D(a)}),l(),B(46,v8,2,1,"div",14),l(),c(47,"div",11)(48,"label",28),p(49,"Salario:"),l(),c(50,"input",29,7),pe("ngModelChange",function(a){return N(n),ue(r.empleado.salario,a)||(r.empleado.salario=a),D(a)}),l(),B(52,x8,3,2,"div",14),l(),c(53,"div",11)(54,"label",30),p(55,"Activo:"),l(),c(56,"input",31,8),pe("ngModelChange",function(a){return N(n),ue(r.empleado.activo,a)||(r.empleado.activo=a),D(a)}),l()(),c(58,"div",32)(59,"button",33),p(60,"Actualizar"),l(),c(61,"button",34),H("click",function(){return N(n),D(r.cancelar())}),p(62,"Cancelar"),l()()()()}if(e&2){let n=ae(4),o=ae(9),a=ae(15),d=ae(21),u=ae(27),m=ae(33),v=ae(45),y=ae(51);g(8),de("ngModel",r.empleado.nombre),g(2),M("ngIf",o.invalid&&(o.dirty||o.touched)),g(4),de("ngModel",r.empleado.apellido),g(2),M("ngIf",a.invalid&&(a.dirty||a.touched)),g(4),de("ngModel",r.empleado.documentoIdentidad),g(2),M("ngIf",d.invalid&&(d.dirty||d.touched)),g(4),de("ngModel",r.empleado.puesto),g(2),M("ngIf",u.invalid&&(u.dirty||u.touched)),g(4),de("ngModel",r.empleado.tipoContrato),g(8),M("ngIf",m.invalid&&(m.dirty||m.touched)),g(4),de("ngModel",r.empleado.fechaIngreso),g(2),M("ngIf",v.invalid&&(v.dirty||v.touched)),g(4),de("ngModel",r.empleado.salario),g(2),M("ngIf",y.invalid&&(y.dirty||y.touched)),g(4),de("ngModel",r.empleado.activo),g(3),M("disabled",n.invalid)}},dependencies:[Mt,Qt,Fi,Ni,kt,Qi,Pd,Ti,Pt,Jt,ri,xi,yr,Tt,ei,ct,yt],styles:[".form-container[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:14px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.error-message[_ngcontent-%COMP%]{color:red;font-size:16px;margin-top:5px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{width:48%;padding:10px;font-size:16px;border-radius:4px;cursor:pointer}.submit-btn[_ngcontent-%COMP%]{background-color:#ffc107;color:#fff;border:none}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6;cursor:not-allowed}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#e0a800}.cancel-btn[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})};var ho=class i{constructor(t){this.http=t}apiUrl=pi.apiUrl;obtenerCompras(){return this.http.get(`${this.apiUrl}/compras`)}obtenerComprasDesc(){return this.http.get(`${this.apiUrl}/compras/ordenadas`)}obtenerCompraPorId(t){return this.http.get(`${this.apiUrl}/compras/${t}`)}crearCompra(t){let e=lt({},t);return delete e.id,this.http.post(`${this.apiUrl}/compras`,e)}actualizarCompra(t,e){return this.http.put(`${this.apiUrl}/compras/${t}`,e)}cambiarEstadoCompra(t,e){return this.http.patch(`${this.apiUrl}/compras/${t}/estado`,{estado:e})}eliminarCompra(t){return this.http.delete(`${this.apiUrl}/compras/${t}`)}getComprasConFiltros(t){let e=new $s;return t.fechaInicio&&(e=e.append("fechaInicio",t.fechaInicio)),t.fechaFin&&(e=e.append("fechaFin",t.fechaFin)),t.tipo&&(e=e.append("tipoProveedor",t.tipo)),t.estado&&(e=e.append("estadoCompra",t.estado)),e=e.append("page","0"),e=e.append("size","1000"),this.http.get(`${this.apiUrl}/compras/filtradas`,{params:e})}static \u0275fac=function(e){return new(e||i)(Et(ui))};static \u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"})};var y8=(i,t,e,r)=>({"bg-primary text-white":i,"bg-info text-dark":t,"bg-secondary text-white":e,"bg-success text-white":r}),C8=(i,t,e)=>({"btn-warning text-dark":i,"btn-success text-white":t,"btn-danger text-white":e});function w8(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),p(2),l(),c(3,"td"),p(4),Kt(5,"date"),l(),c(6,"td",26),p(7),l(),c(8,"td")(9,"span",27),p(10),l()(),c(11,"td")(12,"div",28)(13,"button",29),p(14),l(),c(15,"ul",30)(16,"li")(17,"button",31),H("click",function(){let n=N(e).$implicit,o=Q();return D(o.cambiarEstado(n.id,"PENDIENTE"))}),p(18," Pendiente "),l()(),c(19,"li")(20,"button",31),H("click",function(){let n=N(e).$implicit,o=Q();return D(o.cambiarEstado(n.id,"APROBADO"))}),p(21," Aprobado "),l()(),c(22,"li")(23,"button",31),H("click",function(){let n=N(e).$implicit,o=Q();return D(o.cambiarEstado(n.id,"CANCELADA"))}),p(24," Cancelada "),l()()()()(),c(25,"td",22)(26,"button",32),H("click",function(){let n,o=N(e).$implicit,a=Q();return D(a.irAVerDetalleCompra((n=o.id)!==null&&n!==void 0?n:0,o.proveedor.tipoProveedor))}),Ee(27,"i",33),p(28," Ver detalle "),l(),c(29,"button",34),H("click",function(){let n,o=N(e).$implicit,a=Q();return D(a.irAEditarCompra((n=o.id)!==null&&n!==void 0?n:0))}),Ee(30,"i",35),p(31," Editar "),l(),c(32,"button",36),H("click",function(){let n,o=N(e).$implicit,a=Q();return D(a.confirmarEliminarCompra((n=o.id)!==null&&n!==void 0?n:0))}),Ee(33,"i",37),p(34," Cancelar "),l()()()}if(i&2){let e=t.$implicit;g(2),Te(e.numeroCompra),g(2),Te(Dn(5,7,e.fecha,"dd-MM-yyyy")),g(3),Te(e.total),g(2),M("ngClass",Wa(10,y8,e.proveedor.tipoProveedor==="MATERIAL",e.proveedor.tipoProveedor==="EQUIPO",e.proveedor.tipoProveedor==="SERVICIO",e.proveedor.tipoProveedor==="OTROS")),g(),Ke(" ",e.proveedor.tipoProveedor==null?null:e.proveedor.tipoProveedor.toLowerCase()," "),g(3),M("ngClass",cf(15,C8,e.estadoCompra==="PENDIENTE",e.estadoCompra==="APROBADO",e.estadoCompra==="CANCELADA")),g(),Ke(" ",e.estadoCompra.toLowerCase()," ")}}var Km=class i{constructor(t,e,r,n){this.compraService=t;this.router=e;this.filterService=r;this.paginationService=n}compras=[];comprasFiltrados=[];comprasPaginados=[];textoBusqueda="";paginaActual=1;elementosPorPagina=6;totalPaginas=0;ngOnInit(){this.obtenerCompras()}obtenerCompras(){this.compraService.obtenerComprasDesc().subscribe(t=>{console.log("Compras",t),this.compras=t,this.filtrarcCompras()})}cambiarEstado(t,e){confirm(`\xBFEst\xE1s seguro de cambiar el estado a ${e.toLowerCase()}?`)&&this.compraService.cambiarEstadoCompra(t,e).subscribe({next:()=>{this.obtenerCompras()},error:r=>{console.error("Error al cambiar el estado:",r)}})}filtrarcCompras(){let t=[...this.compras];t=this.filterService.filtrar(t,this.textoBusqueda),this.comprasFiltrados=t,this.paginaActual=1,this.calcularPaginacionCompras()}calcularPaginacionCompras(){let t=this.paginationService.paginate(this.comprasFiltrados,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.comprasPaginados=t.paginatedData}cambiarPaginaCompras(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarComprasPaginados()}actualizarComprasPaginados(){let t=this.paginationService.paginate(this.comprasFiltrados,this.paginaActual,this.elementosPorPagina);this.comprasPaginados=t.paginatedData}irACrearCompra(){this.router.navigate(["/compra-create"])}irACrearCompraMaterial(){this.router.navigate(["/compra-material-create"])}irACrearCompraEquipo(){this.router.navigate(["/compra-equipo-create"])}irACrearCompraServicio(){this.router.navigate(["/compra-servicio-create"])}irAVerDetalleCompra(t,e){console.log("Navegar a detalle compra"),this.router.navigate([`/compra-detalle/${t}/${e}`])}irAEditarCompra(t){console.log("Navegar a editar compra"),this.router.navigate([`/compra-update/${t}`])}confirmarEliminarCompra(t){console.log("Navegar a eliminar compra")}irAReportes(){this.router.navigate(["/compra-reportes"])}static \u0275fac=function(e){return new(e||i)(ie(ho),ie(ht),ie(zi),ie(Yi))};static \u0275cmp=ot({type:i,selectors:[["app-compra-list"]],standalone:!0,features:[st],decls:51,vars:6,consts:[[1,"content"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"card","shadow-sm"],[1,"card-body"],[1,"row","mb-3"],[1,"col-12","col-md-6"],[1,"m-0"],[1,"col-12","col-md-6","text-md-end"],[1,"btn","btn-primary","me-2",3,"click"],[1,"bi","bi-box-seam"],[1,"bi","bi-pc-display"],[1,"bi","bi-tools"],[1,"btn","btn-secondary",3,"click"],[1,"bi","bi-file-earmark-text"],["id","material","role","tabpanel","aria-labelledby","material-tab",1,"tab-pane","fade","show","active"],[1,"mb-3"],["type","text","placeholder","Buscar compras...",1,"form-control",3,"ngModelChange","input","ngModel"],[2,"max-height","400px","overflow-y","auto"],[1,"table","table-bordered","table-striped"],[1,"table-primary"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"paginacion"],[3,"click","disabled"],[1,"text-end"],[1,"badge","rounded-pill",3,"ngClass"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-sm","dropdown-toggle",3,"ngClass"],[1,"dropdown-menu"],[1,"dropdown-item",3,"click"],[1,"btn","btn-info","btn-sm","me-1",3,"click"],[1,"bi","bi-eye"],[1,"btn","btn-warning","btn-sm","me-1",3,"click"],[1,"bi","bi-eyedropper"],["hidden","",1,"btn","btn-danger","btn-sm","me-1",3,"click"],[1,"bi","bi-x-circle"]],template:function(e,r){e&1&&(c(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h4",8),p(9,"Gesti\xF3n de Compras"),l()(),c(10,"div",9)(11,"button",10),H("click",function(){return r.irACrearCompraMaterial()}),Ee(12,"i",11),p(13," Material "),l(),c(14,"button",10),H("click",function(){return r.irACrearCompraEquipo()}),Ee(15,"i",12),p(16," Equipo "),l(),c(17,"button",10),H("click",function(){return r.irACrearCompraServicio()}),Ee(18,"i",13),p(19," Servicio "),l(),c(20,"button",14),H("click",function(){return r.irAReportes()}),Ee(21,"i",15),p(22," Reportes "),l()()(),c(23,"div",16)(24,"div",17)(25,"input",18),pe("ngModelChange",function(o){return ue(r.textoBusqueda,o)||(r.textoBusqueda=o),o}),H("input",function(){return r.filtrarcCompras()}),l()(),c(26,"div",19)(27,"table",20)(28,"thead",21)(29,"tr")(30,"th"),p(31,"Nro Compra"),l(),c(32,"th"),p(33,"Fecha"),l(),c(34,"th"),p(35,"Total ($us)"),l(),c(36,"th"),p(37,"Tipo Compra"),l(),c(38,"th"),p(39,"Estado"),l(),c(40,"th",22),p(41,"Acciones"),l()()(),c(42,"tbody"),B(43,w8,35,19,"tr",23),l()()(),c(44,"div",24)(45,"button",25),H("click",function(){return r.cambiarPaginaCompras("previous")}),p(46," \u2190 Anterior "),l(),c(47,"span"),p(48),l(),c(49,"button",25),H("click",function(){return r.cambiarPaginaCompras("next")}),p(50," Siguiente \u2192 "),l()()()()()()()()()),e&2&&(g(25),de("ngModel",r.textoBusqueda),g(18),M("ngForOf",r.comprasPaginados),g(2),M("disabled",r.paginaActual===1),g(3),Di("P\xE1gina ",r.paginaActual," de ",r.totalPaginas,""),g(),M("disabled",r.paginaActual===r.totalPaginas))},dependencies:[ct,Rn,Bt,cn,ji,Mt,kt,Pt,Tt]})};var go=class i{constructor(t){this.http=t}apiUrl=pi.apiUrl;obtenerProveedores(){return this.http.get(`${this.apiUrl}/proveedores`)}obtenerProveedoresPorTipoEquipo(){return this.http.get(`${this.apiUrl}/proveedores/tipo?tipo=EQUIPO`)}obtenerProveedoresPorTipoMaterial(){return this.http.get(`${this.apiUrl}/proveedores/tipo?tipo=MATERIAL`)}obtenerProveedoresPorTipoServicio(){return this.http.get(`${this.apiUrl}/proveedores/tipo?tipo=SERVICIO`)}obtenerProveedorPorId(t){return this.http.get(`${this.apiUrl}/proveedores/${t}`)}obtenerProveedorPorNitCi(t){return this.http.get(`${this.apiUrl}/proveedores/nitci/${t}`)}crearProveedor(t){let e=lt({},t);return delete e.id,this.http.post(`${this.apiUrl}/proveedores`,e)}actualizarProveedor(t,e){return this.http.put(`${this.apiUrl}/proveedores/${t}`,e)}eliminarProveedor(t){return this.http.delete(`${this.apiUrl}/proveedores/${t}`)}static \u0275fac=function(e){return new(e||i)(Et(ui))};static \u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"})};var Ic=class i{constructor(t){this.http=t}apiUrl=pi.apiUrl;obtenerCompraMaterial(){return this.http.get(`${this.apiUrl}/compra-material`)}obtenerCompraMaterialPorId(t){return this.http.get(`${this.apiUrl}/compra-material/${t}`)}crearCompraMaterial(t){return this.http.post(`${this.apiUrl}/compra-material`,t)}actualizarCompraMaterial(t,e){return this.http.put(`${this.apiUrl}/compra-material/${t}`,e)}eliminarCompraMaterial(t){return this.http.delete(`${this.apiUrl}/compra-material/${t}`)}obtenerComprasPorId(t){return this.http.get(`${this.apiUrl}/compra-material/compras/${t}`)}static \u0275fac=function(e){return new(e||i)(Et(ui))};static \u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"})};var S8=(i,t,e,r)=>({"bg-primary text-white":i,"bg-info text-dark":t,"bg-success text-white":e,"bg-secondary text-white":r});function E8(i,t){if(i&1&&(c(0,"span",55),p(1),l()),i&2){let e=Q().$implicit;g(),Ke("M\xEDn: ",e.stockMinimo,"")}}function P8(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),p(2),l(),c(3,"td"),p(4),l(),c(5,"td"),p(6),l(),c(7,"td"),p(8),Kt(9,"currency"),l(),c(10,"td"),p(11),B(12,E8,2,1,"span",52),l(),c(13,"td",27)(14,"button",53),H("click",function(){let n=N(e).$implicit,o=Q();return D(o.agregarACarrito(n,"material"))}),Ee(15,"i",54),p(16," Comprar "),l()()()}if(i&2){let e=t.$implicit;g(2),Te(e.codigoInventario),g(2),Te(e.nombre),g(2),Te(e.unidadMedida),g(2),Te(bi(9,8,e.precioUnitario)),g(2),_l("text-danger",e.stockActual<e.stockMinimo),g(),Ke(" ",e.stockActual," "),g(),M("ngIf",e.stockActual<e.stockMinimo)}}function M8(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),p(2),l(),c(3,"td"),p(4),l(),c(5,"td"),p(6),l(),c(7,"td"),p(8),Kt(9,"currency"),l(),c(10,"td",27)(11,"button",53),H("click",function(){let n=N(e).$implicit,o=Q();return D(o.agregarACarrito(n,"equipo"))}),Ee(12,"i",54),p(13," Comprar "),l()()()}if(i&2){let e=t.$implicit;g(2),Te(e.codigoActivo),g(2),Te(e.nombre),g(2),Te(e.tipoEquipo),g(2),Te(bi(9,4,e.precioUnitario))}}function T8(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),p(2),l(),c(3,"td"),p(4),l(),c(5,"td"),p(6),l(),c(7,"td"),p(8),Kt(9,"currency"),l(),c(10,"td",27)(11,"button",53),H("click",function(){let n=N(e).$implicit,o=Q();return D(o.agregarACarrito(n,"servicio"))}),Ee(12,"i",54),p(13," Contratar "),l()()()}if(i&2){let e=t.$implicit;g(2),Te(e.codigoServicio),g(2),Te(e.nombre),g(2),Ke("",e.duracionEstimada," dia/s"),g(2),Te(bi(9,4,e.precioUnitario))}}function k8(i,t){if(i&1){let e=Je();c(0,"div",56)(1,"button",57),H("click",function(){N(e);let n=Q();return D(n.seleccionarProveedor())}),Ee(2,"i",58),p(3," Seleccionar proveedor "),l()()}}function A8(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),p(2),Kt(3,"titlecase"),l(),c(4,"td"),p(5),l(),c(6,"td")(7,"input",69),pe("ngModelChange",function(n){let o=N(e).$implicit;return ue(o.cantidad,n)||(o.cantidad=n),D(n)}),H("change",function(){let n=N(e).$implicit,o=Q(2);return D(o.actualizarSubtotal(n))}),l()(),c(8,"td"),p(9),Kt(10,"currency"),l(),c(11,"td"),p(12),Kt(13,"currency"),l(),c(14,"td",27)(15,"button",70),H("click",function(){let n=N(e).index,o=Q(2);return D(o.eliminarDelCarrito(n))}),Ee(16,"i",71),l()()()}if(i&2){let e=t.$implicit;g(2),Te(bi(3,5,e.tipo)),g(3),Te(e.nombre),g(2),de("ngModel",e.cantidad),g(2),Te(bi(10,7,e.precioUnitario)),g(3),Te(bi(13,9,e.subtotal))}}function I8(i,t){if(i&1){let e=Je();c(0,"div",59)(1,"div",60)(2,"h5",8),Ee(3,"i",61),p(4," Carrito de Compras "),l()(),c(5,"div",5)(6,"div",62)(7,"table",63)(8,"thead")(9,"tr")(10,"th"),p(11,"Tipo"),l(),c(12,"th"),p(13,"Item"),l(),c(14,"th"),p(15,"Cantidad"),l(),c(16,"th"),p(17,"Precio Unitario"),l(),c(18,"th"),p(19,"Subtotal"),l(),Ee(20,"th"),l()(),c(21,"tbody"),B(22,A8,17,11,"tr",28),l(),c(23,"tfoot")(24,"tr")(25,"td",64),p(26,"Total:"),l(),c(27,"td",65),p(28),Kt(29,"currency"),l()()()()(),c(30,"div",66)(31,"button",67),H("click",function(){N(e);let n=Q();return D(n.confirmarCompra())}),Ee(32,"i",58),p(33," Confirmar Compra "),l(),c(34,"button",10),H("click",function(){N(e);let n=Q();return D(n.vaciarCarrito())}),Ee(35,"i",68),p(36," Cancelar "),l()()()()}if(i&2){let e=Q();g(22),M("ngForOf",e.carrito),g(6),Ke(" ",bi(29,2,e.calcularTotal())," ")}}function O8(i,t){if(i&1&&(c(0,"div",72),p(1),l()),i&2){let e=Q();g(),Ke(" Proveedor seleccionado: ",e.proveedorID," ")}}function F8(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),p(2),l(),c(3,"td"),p(4),l(),c(5,"td")(6,"span",73),p(7),l()(),c(8,"td",27)(9,"button",74),H("click",function(){let n,o=N(e).$implicit,a=Q();return D(a.seleccionarProveedorID((n=o.id)!==null&&n!==void 0?n:0))}),Ee(10,"i",75),p(11," OK "),l()()()}if(i&2){let e=t.$implicit;g(2),Te(e.id),g(2),Te(e.empresa),g(2),M("ngClass",Wa(4,S8,e.tipoProveedor==="MATERIAL",e.tipoProveedor==="EQUIPO",e.tipoProveedor==="SERVICIO",e.tipoProveedor==="OTROS")),g(),Ke(" ",e.tipoProveedor==null?null:e.tipoProveedor.toLowerCase()," ")}}var Jm=class i{constructor(t,e,r,n,o,a,d,u,m){this.materialService=t;this.equipoService=e;this.servicioService=r;this.proveedorService=n;this.compraService=o;this.compraMaterialService=a;this.router=d;this.filterService=u;this.paginationService=m}materiales=[];materialesFiltrados=[];materialesPaginados=[];equipos=[];equiposFiltrados=[];equiposPaginados=[];servicios=[];serviciosFiltrados=[];serviciosPaginados=[];textoBusqueda="";paginaActual=1;elementosPorPagina=5;totalPaginas=0;proveedores=[];proveedoresFiltrados=[];proveedoresPaginados=[];estadoSeleccionado="Todos";mostrarModal=!1;compraID=null;proveedorID=null;total=null;proveedorSeleccionado={id:0,nombreCompleto:"",nitCi:"",telefono:"",correo:"",direccion:"",ciudad:"",pais:"",empresa:"",tipoProveedor:"",estado:""};hoy=new Date().toISOString().split("T")[0];compra={numeroCompra:0,fecha:this.hoy,total:0,estadoCompra:"APROBADO",proveedor:{id:0,nombreCompleto:"",nitCi:"",telefono:"",correo:"",direccion:"",ciudad:"",pais:"",empresa:"",tipoProveedor:"",estado:""}};ngOnInit(){this.obtenerMateriales(),this.obtenerEquipos(),this.obtenerServicios(),this.obtenerProveedores()}obtenerMateriales(){this.materialService.obtenerMateriales().subscribe(t=>{console.log("Materiales",t),this.materiales=t,this.filtrarMateriales()})}filtrarMateriales(){let t=[...this.materiales];t=this.filterService.filtrar(t,this.textoBusqueda),this.materialesFiltrados=t,this.paginaActual=1,this.calcularPaginacionMateriales()}calcularPaginacionMateriales(){let t=this.paginationService.paginate(this.materialesFiltrados,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.materialesPaginados=t.paginatedData}cambiarPaginaMateriales(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarmaterialesPaginados()}actualizarmaterialesPaginados(){let t=this.paginationService.paginate(this.materialesFiltrados,this.paginaActual,this.elementosPorPagina);this.materialesPaginados=t.paginatedData}obtenerEquipos(){this.equipoService.obtenerEquipos().subscribe(t=>{this.equipos=t,this.filtrarEquipos()})}filtrarEquipos(){let t=[...this.equipos];t=this.filterService.filtrar(t,this.textoBusqueda),this.equiposFiltrados=t,this.paginaActual=1,this.calcularPaginacionEquipos()}calcularPaginacionEquipos(){let t=this.paginationService.paginate(this.equiposFiltrados,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.equiposPaginados=t.paginatedData}cambiarPaginaEquipos(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarequiposPaginados()}actualizarequiposPaginados(){let t=this.paginationService.paginate(this.equiposFiltrados,this.paginaActual,this.elementosPorPagina);this.equiposPaginados=t.paginatedData}obtenerServicios(){this.servicioService.obtenerServicios().subscribe(t=>{this.servicios=t,this.filtrarServicios()})}filtrarServicios(){let t=[...this.servicios];t=this.filterService.filtrar(t,this.textoBusqueda),this.serviciosFiltrados=t,this.paginaActual=1,this.calcularPaginacionServicios()}calcularPaginacionServicios(){let t=this.paginationService.paginate(this.serviciosFiltrados,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.serviciosPaginados=t.paginatedData}cambiarPaginaServicios(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarserviciosPaginados()}actualizarserviciosPaginados(){let t=this.paginationService.paginate(this.serviciosFiltrados,this.paginaActual,this.elementosPorPagina);this.serviciosPaginados=t.paginatedData}obtenerProveedores(){this.proveedorService.obtenerProveedores().subscribe(t=>{this.proveedores=t,this.filtrarProveedores()})}filtrarProveedores(){let t=[...this.proveedores];t=this.filterService.filtrar(t,this.textoBusqueda),this.proveedoresFiltrados=t,this.paginaActual=1,this.calcularPaginacionProveedores()}calcularPaginacionProveedores(){let t=this.paginationService.paginate(this.proveedoresFiltrados,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.proveedoresPaginados=t.paginatedData}cambiarPaginaProveedores(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarProveedoresPaginados()}actualizarProveedoresPaginados(){let t=this.paginationService.paginate(this.proveedoresFiltrados,this.paginaActual,this.elementosPorPagina);this.proveedoresPaginados=t.paginatedData}carrito=[];agregarACarrito(t,e){let r=this.carrito.find(n=>n.id===t.id&&n.tipo===e);r?(r.cantidad+=1,r.subtotal=r.cantidad*r.precioUnitario):this.carrito.push(Ki(lt({},t),{tipo:e,cantidad:1,subtotal:t.precioUnitario}))}eliminarDelCarrito(t){this.carrito.splice(t,1)}actualizarSubtotal(t){t.subtotal=t.cantidad*t.precioUnitario}calcularTotal(){let t=this.carrito.reduce((e,r)=>e+r.subtotal,0);return this.total=t,t}vaciarCarrito(){this.carrito=[]}confirmarCompra(){console.log("Compra confirmada:",this.carrito),console.log("Total:",this.total),console.log("IDProveedor:",this.proveedorID),this.cargarCompra(),this.crearCompra()}cargarCompra(){this.compra.total=this.total,this.compra.proveedorId=this.proveedorID,this.compra.proveedor.id=this.proveedorSeleccionado.id,this.compra.proveedor.ciudad=this.proveedorSeleccionado.ciudad,this.compra.proveedor.correo=this.proveedorSeleccionado.correo,this.compra.proveedor.direccion=this.proveedorSeleccionado.direccion,this.compra.proveedor.empresa=this.proveedorSeleccionado.empresa,this.compra.proveedor.estado=this.proveedorSeleccionado.estado,this.compra.proveedor.nitCi=this.proveedorSeleccionado.nitCi,this.compra.proveedor.nombreCompleto=this.proveedorSeleccionado.nombreCompleto,this.compra.proveedor.pais=this.proveedorSeleccionado.pais,this.compra.proveedor.telefono=this.proveedorSeleccionado.telefono,this.compra.proveedor.tipoProveedor=this.proveedorSeleccionado.tipoProveedor}compraNueva;material;crearCompra(){this.compraService.crearCompra(this.compra).subscribe(t=>{this.compraNueva=t,this.carrito.forEach(e=>{let r={id:e.id,codigoInventario:e.codigoInventario,nombre:e.nombre,descripcion:e.descripcion,unidadMedida:e.unidadMedida,precioUnitario:e.precioUnitario,stockActual:e.stockActual,stockMinimo:e.stockMinimo,categoria:e.categoria},n={compra:this.compraNueva,material:r,precioUnitario:e.precioUnitario,cantidad:e.cantidad,subTotal:e.subtotal};this.compraMaterialService.crearCompraMaterial(n).subscribe(()=>{console.log("CompraMaterial creada para material",e.nombre)})}),console.log("Compra creada:",this.compraNueva)})}irACrearCompra(){console.log("Navegar a crear compra")}irACompras(){this.router.navigate(["/compra"])}seleccionarProveedor(){this.mostrarModal=!0}seleccionarProveedorID(t){this.proveedorID=t,this.obtenerProveedorPorId(t)}obtenerProveedorPorId(t){this.proveedorService.obtenerProveedorPorId(t).subscribe(e=>{this.proveedorSeleccionado=e})}proveedorConfirmado(){this.proveedorID!==null&&this.cerrarModal()}cerrarModal(){this.mostrarModal=!1}static \u0275fac=function(e){return new(e||i)(ie(Vn),ie(fo),ie(mo),ie(go),ie(ho),ie(Ic),ie(ht),ie(zi),ie(Yi))};static \u0275cmp=ot({type:i,selectors:[["app-compra-create"]],standalone:!0,features:[st],decls:150,vars:27,consts:[[1,"content"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"card","shadow-sm"],[1,"card-body"],[1,"row","mb-3"],[1,"col-12","col-md-6"],[1,"m-0"],[1,"col-12","col-md-6","text-md-end"],[1,"btn","btn-secondary",3,"click"],[1,"bi","bi-arrow-return-left"],["id","comprasTabs","role","tablist",1,"nav","nav-tabs","mb-3"],["role","presentation",1,"nav-item"],["id","material-tab","data-bs-toggle","tab","data-bs-target","#material","type","button","role","tab","aria-controls","material","aria-selected","true",1,"nav-link","active"],[1,"bi","bi-box-seam"],["id","equipo-tab","data-bs-toggle","tab","data-bs-target","#equipo","type","button","role","tab","aria-controls","equipo","aria-selected","false",1,"nav-link"],[1,"bi","bi-pc-display"],["id","servicio-tab","data-bs-toggle","tab","data-bs-target","#servicio","type","button","role","tab","aria-controls","servicio","aria-selected","false",1,"nav-link"],[1,"bi","bi-tools"],["id","comprasTabsContent",1,"tab-content"],["id","material","role","tabpanel","aria-labelledby","material-tab",1,"tab-pane","fade","show","active"],[1,"mb-3"],["type","text","placeholder","Buscar materiales...",1,"form-control",3,"ngModelChange","input","ngModel"],[2,"max-height","400px","overflow-y","auto"],[1,"table","table-bordered","table-striped"],[1,"table-primary"],[1,"text-center"],[4,"ngFor","ngForOf"],["hidden","",1,"paginacion"],[3,"click","disabled"],["id","equipo","role","tabpanel","aria-labelledby","equipo-tab",1,"tab-pane","fade"],["type","text","placeholder","Buscar equipos...",1,"form-control",3,"ngModelChange","input","ngModel"],["id","servicio","role","tabpanel","aria-labelledby","servicio-tab",1,"tab-pane","fade"],["type","text","placeholder","Buscar servicios...",1,"form-control",3,"ngModelChange","input","ngModel"],["class","col-12 text-md-end",4,"ngIf"],["class","card mt-4",4,"ngIf"],["id","proveedorModal","tabindex","-1","aria-labelledby","proveedorModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","proveedorModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["id","proveedor","role","tabpanel","aria-labelledby","material-tab",1,"tab-pane","fade","show","active"],["type","text","placeholder","Buscar proveedor...",1,"form-control",3,"ngModelChange","input","ngModel"],["class","alert alert-success","role","alert",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"bi","bi-x-circle","mr-1"],["type","button","data-bs-dismiss","modal",1,"btn","btn-success",3,"click"],[1,"bi","bi-check-circle","mr-1"],["class","badge bg-warning",4,"ngIf"],[1,"btn","btn-primary","btn-sm","me-1",3,"click"],[1,"bi","bi-cart-plus"],[1,"badge","bg-warning"],[1,"col-12","text-md-end"],["data-bs-toggle","modal","data-bs-target","#proveedorModal",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-check-circle"],[1,"card","mt-4"],[1,"card-header","bg-primary","text-white"],[1,"bi","bi-cart"],[1,"table-responsive"],[1,"table"],["colspan","4",1,"text-end","fw-bold"],["colspan","2",1,"fw-bold"],[1,"d-flex","justify-content-end","mt-3"],[1,"btn","btn-success","me-2",3,"click"],[1,"bi","bi-x-circle"],["type","number","min","1",1,"form-control","form-control-sm",2,"width","80px",3,"ngModelChange","change","ngModel"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"bi","bi-trash"],["role","alert",1,"alert","alert-success"],[1,"badge","rounded-pill",3,"ngClass"],[1,"btn","btn-outline-success","btn-sm","me-1",3,"click"],[1,"bi","bi-check"]],template:function(e,r){e&1&&(c(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h4",8),p(9,"Realizar Compras"),l()(),c(10,"div",9)(11,"button",10),H("click",function(){return r.irACompras()}),Ee(12,"i",11),p(13," Volver "),l()()(),c(14,"ul",12)(15,"li",13)(16,"button",14),Ee(17,"i",15),p(18," Materiales "),l()(),c(19,"li",13)(20,"button",16),Ee(21,"i",17),p(22," Equipos "),l()(),c(23,"li",13)(24,"button",18),Ee(25,"i",19),p(26," Servicios "),l()()(),c(27,"div",20)(28,"div",21)(29,"div",22)(30,"input",23),pe("ngModelChange",function(o){return ue(r.textoBusqueda,o)||(r.textoBusqueda=o),o}),H("input",function(){return r.filtrarMateriales()}),l()(),c(31,"div",24)(32,"table",25)(33,"thead",26)(34,"tr")(35,"th"),p(36,"C\xF3d. Inventario"),l(),c(37,"th"),p(38,"Nombre"),l(),c(39,"th"),p(40,"Unidad Medida"),l(),c(41,"th"),p(42,"Precio Unitario"),l(),c(43,"th"),p(44,"Stock Actual"),l(),c(45,"th",27),p(46,"Acciones"),l()()(),c(47,"tbody"),B(48,P8,17,10,"tr",28),l()()(),c(49,"div",29)(50,"button",30),H("click",function(){return r.cambiarPaginaMateriales("previous")}),p(51," \u2190 Anterior "),l(),c(52,"span"),p(53),l(),c(54,"button",30),H("click",function(){return r.cambiarPaginaMateriales("next")}),p(55," Siguiente \u2192 "),l()()(),c(56,"div",31)(57,"div",22)(58,"input",32),pe("ngModelChange",function(o){return ue(r.textoBusqueda,o)||(r.textoBusqueda=o),o}),H("input",function(){return r.filtrarEquipos()}),l()(),c(59,"div",24)(60,"table",25)(61,"thead",26)(62,"tr")(63,"th"),p(64,"C\xF3d. Activo"),l(),c(65,"th"),p(66,"Nombre"),l(),c(67,"th"),p(68,"Tipo"),l(),c(69,"th"),p(70,"Precio Unitario"),l(),c(71,"th",27),p(72,"Acciones"),l()()(),c(73,"tbody"),B(74,M8,14,6,"tr",28),l()()(),c(75,"div",29)(76,"button",30),H("click",function(){return r.cambiarPaginaEquipos("previous")}),p(77," \u2190 Anterior "),l(),c(78,"span"),p(79),l(),c(80,"button",30),H("click",function(){return r.cambiarPaginaEquipos("next")}),p(81," Siguiente \u2192 "),l()()(),c(82,"div",33)(83,"div",22)(84,"input",34),pe("ngModelChange",function(o){return ue(r.textoBusqueda,o)||(r.textoBusqueda=o),o}),H("input",function(){return r.filtrarServicios()}),l()(),c(85,"div",24)(86,"table",25)(87,"thead",26)(88,"tr")(89,"th"),p(90,"C\xF3d. Servicio"),l(),c(91,"th"),p(92,"Nombre"),l(),c(93,"th"),p(94,"Duraci\xF3n"),l(),c(95,"th"),p(96,"Precio Unitario"),l(),c(97,"th",27),p(98,"Acciones"),l()()(),c(99,"tbody"),B(100,T8,14,6,"tr",28),l()()(),c(101,"div",29)(102,"button",30),H("click",function(){return r.cambiarPaginaServicios("previous")}),p(103," \u2190 Anterior "),l(),c(104,"span"),p(105),l(),c(106,"button",30),H("click",function(){return r.cambiarPaginaServicios("next")}),p(107," Siguiente \u2192 "),l()()()(),B(108,k8,4,0,"div",35)(109,I8,37,4,"div",36),l()()()()()(),c(110,"div",37)(111,"div",38)(112,"div",39)(113,"div",40)(114,"h5",41),p(115," Seleccione un Proveedor "),l(),Ee(116,"button",42),l(),c(117,"div",43)(118,"div",44)(119,"div",22)(120,"input",45),pe("ngModelChange",function(o){return ue(r.textoBusqueda,o)||(r.textoBusqueda=o),o}),H("input",function(){return r.filtrarProveedores()}),l()(),B(121,O8,2,1,"div",46),c(122,"div",24)(123,"table",25)(124,"thead",26)(125,"tr")(126,"th"),p(127,"ID"),l(),c(128,"th"),p(129,"Proveedor"),l(),c(130,"th"),p(131,"Tipo"),l(),c(132,"th",27),p(133,"Acciones"),l()()(),c(134,"tbody"),B(135,F8,12,9,"tr",28),l()()(),c(136,"div",29)(137,"button",30),H("click",function(){return r.cambiarPaginaProveedores("previous")}),p(138," \u2190 Anterior "),l(),c(139,"span"),p(140),l(),c(141,"button",30),H("click",function(){return r.cambiarPaginaProveedores("next")}),p(142," Siguiente \u2192 "),l()()()(),c(143,"div",47)(144,"button",48),Ee(145,"i",49),p(146," Cancelar "),l(),c(147,"button",50),H("click",function(){return r.proveedorConfirmado()}),Ee(148,"i",51),p(149," Confirmar "),l()()()()()),e&2&&(g(30),de("ngModel",r.textoBusqueda),g(18),M("ngForOf",r.materialesFiltrados),g(2),M("disabled",r.paginaActual===1),g(3),Di("P\xE1gina ",r.paginaActual," de ",r.totalPaginas,""),g(),M("disabled",r.paginaActual===r.totalPaginas),g(4),de("ngModel",r.textoBusqueda),g(16),M("ngForOf",r.equiposFiltrados),g(2),M("disabled",r.paginaActual===1),g(3),Di("P\xE1gina ",r.paginaActual," de ",r.totalPaginas,""),g(),M("disabled",r.paginaActual===r.totalPaginas),g(4),de("ngModel",r.textoBusqueda),g(16),M("ngForOf",r.serviciosFiltrados),g(2),M("disabled",r.paginaActual===1),g(3),Di("P\xE1gina ",r.paginaActual," de ",r.totalPaginas,""),g(),M("disabled",r.paginaActual===r.totalPaginas),g(2),M("ngIf",r.carrito.length>0),g(),M("ngIf",r.carrito.length>0),g(11),de("ngModel",r.textoBusqueda),g(),M("ngIf",r.proveedorID!=null),g(14),M("ngForOf",r.proveedoresFiltrados),g(2),M("disabled",r.paginaActual===1),g(3),Di("P\xE1gina ",r.paginaActual," de ",r.totalPaginas,""),g(),M("disabled",r.paginaActual===r.totalPaginas))},dependencies:[ct,Rn,Bt,yt,Gs,ea,ji,Mt,kt,Qi,Pt,yr,Tt]})};var N8=["modalCrearMaterial"],L8=(i,t,e,r)=>({"bg-primary text-white":i,"bg-info text-dark":t,"bg-success text-white":e,"bg-secondary text-white":r});function D8(i,t){if(i&1&&(c(0,"span",76),p(1),l()),i&2){let e=Q().$implicit;g(),Ke("M\xEDn: ",e.stockMinimo,"")}}function R8(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),p(2),l(),c(3,"td"),p(4),l(),c(5,"td"),p(6),l(),c(7,"td"),p(8),Kt(9,"currency"),l(),c(10,"td"),p(11),B(12,D8,2,1,"span",73),l(),c(13,"td",29)(14,"button",74),H("click",function(){let n=N(e).$implicit,o=Q();return D(o.agregarACarrito(n,"material"))}),Ee(15,"i",75),p(16," Comprar "),l()()()}if(i&2){let e=t.$implicit;g(2),Te(e.codigoInventario),g(2),Te(e.nombre),g(2),Te(e.unidadMedida),g(2),Te(bi(9,8,e.precioUnitario)),g(2),_l("text-danger",e.stockActual<e.stockMinimo),g(),Ke(" ",e.stockActual," "),g(),M("ngIf",e.stockActual<e.stockMinimo)}}function B8(i,t){if(i&1){let e=Je();c(0,"div",77)(1,"button",78),H("click",function(){N(e);let n=Q();return D(n.seleccionarProveedor())}),Ee(2,"i",79),p(3," Seleccionar proveedor "),l()()}}function U8(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),p(2),Kt(3,"titlecase"),l(),c(4,"td"),p(5),l(),c(6,"td")(7,"input",91),pe("ngModelChange",function(n){let o=N(e).$implicit;return ue(o.cantidad,n)||(o.cantidad=n),D(n)}),H("change",function(){let n=N(e).$implicit,o=Q(2);return D(o.actualizarSubtotal(n))}),l()(),c(8,"td"),p(9),Kt(10,"currency"),l(),c(11,"td"),p(12),Kt(13,"currency"),l(),c(14,"td",29)(15,"button",92),H("click",function(){let n=N(e).index,o=Q(2);return D(o.eliminarDelCarrito(n))}),Ee(16,"i",93),l()()()}if(i&2){let e=t.$implicit;g(2),Te(bi(3,5,e.tipo)),g(3),Te(e.nombre),g(2),de("ngModel",e.cantidad),g(2),Te(bi(10,7,e.precioUnitario)),g(3),Te(bi(13,9,e.subtotal))}}function V8(i,t){if(i&1){let e=Je();c(0,"div",80)(1,"div",81)(2,"h6",18),Ee(3,"i",82),p(4," Carrito de Compras "),l()(),c(5,"div",15)(6,"div",83)(7,"table",84)(8,"thead")(9,"tr")(10,"th"),p(11,"Tipo"),l(),c(12,"th"),p(13,"Item"),l(),c(14,"th"),p(15,"Cantidad"),l(),c(16,"th"),p(17,"Precio Unitario"),l(),c(18,"th"),p(19,"Subtotal"),l(),Ee(20,"th"),l()(),c(21,"tbody"),B(22,U8,17,11,"tr",30),l(),c(23,"tfoot")(24,"tr")(25,"td",85),p(26,"Total:"),l(),c(27,"td",86),p(28),Kt(29,"currency"),l()()()()(),c(30,"div",87)(31,"button",88),H("click",function(){N(e);let n=Q();return D(n.confirmarCompra())}),Ee(32,"i",79),p(33," Confirmar Compra "),l(),c(34,"button",89),H("click",function(){N(e);let n=Q();return D(n.vaciarCarrito())}),Ee(35,"i",90),p(36," Cancelar "),l()()()()}if(i&2){let e=Q();g(22),M("ngForOf",e.carrito),g(6),Ke(" ",bi(29,2,e.calcularTotal())," ")}}function q8(i,t){if(i&1&&(c(0,"div",94),p(1),l()),i&2){let e=Q();g(),Ke(" Proveedor seleccionado: ",e.proveedorID," ")}}function j8(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),p(2),l(),c(3,"td"),p(4),l(),c(5,"td")(6,"span",95),p(7),l()(),c(8,"td",29)(9,"button",96),H("click",function(){let n,o=N(e).$implicit,a=Q();return D(a.seleccionarProveedorID((n=o.id)!==null&&n!==void 0?n:0))}),Ee(10,"i",97),p(11," OK "),l()()()}if(i&2){let e=t.$implicit;g(2),Te(e.id),g(2),Te(e.empresa),g(2),M("ngClass",Wa(4,L8,e.tipoProveedor==="MATERIAL",e.tipoProveedor==="EQUIPO",e.tipoProveedor==="SERVICIO",e.tipoProveedor==="OTROS")),g(),Ke(" ",e.tipoProveedor==null?null:e.tipoProveedor.toLowerCase()," ")}}function z8(i,t){i&1&&(c(0,"div",98),p(1," Este campo es obligatorio. "),l())}function W8(i,t){i&1&&(c(0,"div",98),p(1," Este campo es obligatorio. "),l())}function H8(i,t){i&1&&(c(0,"div",98),p(1," Este campo es obligatorio. "),l())}function G8(i,t){i&1&&(c(0,"div",98),p(1," Este campo es obligatorio. "),l())}function $8(i,t){i&1&&(c(0,"div",98),p(1," Debe ser mayor a 0. "),l())}function X8(i,t){i&1&&(c(0,"div",98),p(1," Debe ser mayor a 0. "),l())}function Z8(i,t){i&1&&(c(0,"div",98),p(1," Debe ser mayor a 0. "),l())}function Y8(i,t){i&1&&(c(0,"div",98),p(1," Este campo es obligatorio. "),l())}var Qm=class i{constructor(t,e,r,n,o,a,d){this.materialService=t;this.proveedorService=e;this.compraService=r;this.compraMaterialService=n;this.router=o;this.filterService=a;this.paginationService=d}modalCrearMaterial;materiales=[];materialesFiltrados=[];materialesPaginados=[];textoBusqueda="";paginaActual=1;elementosPorPagina=5;totalPaginas=0;proveedores=[];proveedoresFiltrados=[];proveedoresPaginados=[];estadoSeleccionado="Todos";mostrarModal=!1;proveedorID=null;total=null;proveedorSeleccionado={id:0,nombreCompleto:"",nitCi:"",telefono:"",correo:"",direccion:"",ciudad:"",pais:"",empresa:"",tipoProveedor:"",estado:""};hoy=new Date().toISOString().split("T")[0];compra={numeroCompra:0,fecha:this.hoy,total:0,estadoCompra:"APROBADO",proveedor:{id:0,nombreCompleto:"",nitCi:"",telefono:"",correo:"",direccion:"",ciudad:"",pais:"",empresa:"",tipoProveedor:"",estado:""}};nuevoMaterial={codigoInventario:"",nombre:"",descripcion:"",unidadMedida:"",precioUnitario:0,stockActual:0,stockMinimo:0,categoria:""};ngOnInit(){this.obtenerMateriales(),this.obtenerProveedores()}validarYCrearMaterial(t){if(t.invalid){alert("Todos los campos son obligatorios!!!"),console.warn("Formulario inv\xE1lido");return}this.crearMaterial(),console.log("Material creado: crearMaterial"),this.cerrarModalCrearMaterial(),console.log("Material creado: cerrarModalCrearMaterial"),this.obtenerMateriales(),console.log("Material creado: obtenerMateriales"),this.limpiarFormularioMaterial(t),console.log("Material creado: limpiarFormularioMaterial")}crearMaterial(){this.materialService.crearMaterial(this.nuevoMaterial).subscribe({next:t=>{console.log("Material creado:",t)},error:t=>{console.error("Error al crear el material:",t)}})}limpiarFormularioMaterial(t){t.resetForm(),this.nuevoMaterial={codigoInventario:"",nombre:"",descripcion:"",unidadMedida:"",precioUnitario:0,stockActual:0,stockMinimo:0,categoria:""}}cerrarModalCrearMaterial(){bootstrap.Modal.getInstance(this.modalCrearMaterial.nativeElement).hide()}obtenerMateriales(){this.materialService.obtenerMateriales().subscribe(t=>{this.materiales=t,this.filtrarMateriales()})}filtrarMateriales(){let t=[...this.materiales];t=this.filterService.filtrar(t,this.textoBusqueda),this.materialesFiltrados=t,this.paginaActual=1,this.calcularPaginacionMateriales()}calcularPaginacionMateriales(){let t=this.paginationService.paginate(this.materialesFiltrados,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.materialesPaginados=t.paginatedData}cambiarPaginaMateriales(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarmaterialesPaginados()}actualizarmaterialesPaginados(){let t=this.paginationService.paginate(this.materialesFiltrados,this.paginaActual,this.elementosPorPagina);this.materialesPaginados=t.paginatedData}obtenerProveedores(){this.proveedorService.obtenerProveedoresPorTipoMaterial().subscribe(t=>{this.proveedores=t,this.filtrarProveedores()})}filtrarProveedores(){let t=[...this.proveedores];t=this.filterService.filtrar(t,this.textoBusqueda),this.proveedoresFiltrados=t,this.paginaActual=1,this.calcularPaginacionProveedores()}calcularPaginacionProveedores(){let t=this.paginationService.paginate(this.proveedoresFiltrados,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.proveedoresPaginados=t.paginatedData}cambiarPaginaProveedores(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarProveedoresPaginados()}actualizarProveedoresPaginados(){let t=this.paginationService.paginate(this.proveedoresFiltrados,this.paginaActual,this.elementosPorPagina);this.proveedoresPaginados=t.paginatedData}carrito=[];agregarACarrito(t,e){let r=this.carrito.find(n=>n.id===t.id&&n.tipo===e);r?(r.cantidad+=1,r.subtotal=r.cantidad*r.precioUnitario):this.carrito.push(Ki(lt({},t),{tipo:e,cantidad:1,subtotal:t.precioUnitario}))}eliminarDelCarrito(t){this.carrito.splice(t,1)}actualizarSubtotal(t){t.subtotal=t.cantidad*t.precioUnitario}calcularTotal(){let t=this.carrito.reduce((e,r)=>e+r.subtotal,0);return this.total=t,t}vaciarCarrito(){this.carrito=[]}confirmarCompra(){console.log("Carrito confirmada:",this.carrito),console.log("Total:",this.total),console.log("IDProveedor:",this.proveedorID),this.proveedorID==null?alert("Debe seleccionar un Proveedor"):(this.cargarCompra(),this.crearCompra(),alert("Compra registrada correctamente"),this.router.navigate(["/compra"]))}cargarCompra(){this.compra.total=this.total,this.compra.proveedor=this.proveedorSeleccionado}compraNueva;crearCompra(){this.compraService.crearCompra(this.compra).subscribe(t=>{this.compraNueva=t,this.carrito.forEach(e=>{let r={id:e.id,codigoInventario:e.codigoInventario,nombre:e.nombre,descripcion:e.descripcion,unidadMedida:e.unidadMedida,precioUnitario:e.precioUnitario,stockActual:e.stockActual,stockMinimo:e.stockMinimo,categoria:e.categoria},n={compra:this.compraNueva,material:r,precioUnitario:e.precioUnitario,cantidad:e.cantidad,subTotal:e.subtotal};this.compraMaterialService.crearCompraMaterial(n).subscribe(()=>{console.log("CompraMaterial creada para material",e.nombre)})}),console.log("Compra creada:",this.compraNueva)})}volverACompras(){this.router.navigate(["/compra"])}seleccionarProveedor(){this.mostrarModal=!0}seleccionarProveedorID(t){this.proveedorID=t,this.obtenerProveedorPorId(t)}obtenerProveedorPorId(t){this.proveedorService.obtenerProveedorPorId(t).subscribe(e=>{this.proveedorSeleccionado=e})}proveedorConfirmado(){this.proveedorID!==null&&this.cerrarModal()}cerrarModal(){this.mostrarModal=!1}static \u0275fac=function(e){return new(e||i)(ie(Vn),ie(go),ie(ho),ie(Ic),ie(ht),ie(zi),ie(Yi))};static \u0275cmp=ot({type:i,selectors:[["app-compra-material-create"]],viewQuery:function(e,r){if(e&1&&u0(N8,5),e&2){let n;bl(n=xl())&&(r.modalCrearMaterial=n.first)}},standalone:!0,features:[st],decls:151,vars:31,consts:[["modalCrearMaterial",""],["form","ngForm"],["codigoInventario","ngModel"],["nombre","ngModel"],["descripcion","ngModel"],["unidadMedida","ngModel"],["precioUnitario","ngModel"],["stockActual","ngModel"],["stockMinimo","ngModel"],["categoria","ngModel"],[1,"content"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"card","shadow-sm"],[1,"card-body"],[1,"row","mb-3"],[1,"col-12","col-md-6"],[1,"m-0"],[1,"col-12","col-md-6","text-md-end"],[1,"btn","btn-secondary","me-2",3,"click"],[1,"bi","bi-arrow-left"],["data-bs-toggle","modal","data-bs-target","#staticBackdrop",1,"btn","btn-primary"],[1,"bi","bi-plus-circle"],[1,"mb-3"],["type","text","placeholder","Buscar materiales...",1,"form-control",3,"ngModelChange","input","ngModel"],[2,"max-height","400px","overflow-y","auto"],[1,"table","table-bordered","table-striped"],[1,"table-primary"],[1,"text-center"],[4,"ngFor","ngForOf"],["hidden","",1,"paginacion"],[3,"click","disabled"],["class","col-12 text-md-end",4,"ngIf"],["class","card mt-4",4,"ngIf"],["id","proveedorModal","tabindex","-1","aria-labelledby","proveedorModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","proveedorModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["id","proveedor","role","tabpanel","aria-labelledby","material-tab",1,"tab-pane","fade","show","active"],["type","text","placeholder","Buscar proveedor...",1,"form-control",3,"ngModelChange","input","ngModel"],["class","alert alert-success","role","alert",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"bi","bi-x-circle","mr-1"],["type","button","data-bs-dismiss","modal",1,"btn","btn-success",3,"click"],[1,"bi","bi-check-circle","mr-1"],["id","staticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[3,"ngSubmit"],["id","staticBackdropLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],["for","codigoInventario",1,"form-label"],["type","text","id","codigoInventario","name","codigoInventario","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger",4,"ngIf"],["for","nombre",1,"form-label"],["type","text","id","nombre","name","nombre","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","descripcion",1,"form-label"],["id","descripcion","name","descripcion","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","unidadMedida",1,"form-label"],["type","text","id","unidadMedida","name","unidadMedida","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","precioUnitario",1,"form-label"],["type","number","id","precioUnitario","name","precioUnitario","required","","min","0.01","step","0.01",1,"form-control",3,"ngModelChange","ngModel"],["for","stockActual",1,"form-label"],["type","number","id","stockActual","name","stockActual","required","","min","0.01","step","0.01",1,"form-control",3,"ngModelChange","ngModel"],["for","stockMinimo",1,"form-label"],["type","number","id","stockMinimo","name","stockMinimo","required","","min","0.01","step","0.01",1,"form-control",3,"ngModelChange","ngModel"],["for","categoria",1,"form-label"],["type","text","id","categoria","name","categoria","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary"],["class","badge bg-warning",4,"ngIf"],[1,"btn","btn-primary","btn-sm","me-1",3,"click"],[1,"bi","bi-cart-plus"],[1,"badge","bg-warning"],[1,"col-12","text-md-end"],["data-bs-toggle","modal","data-bs-target","#proveedorModal",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-check-circle"],[1,"card","mt-4"],[1,"card-header","bg-primary","text-white"],[1,"bi","bi-cart"],[1,"table-responsive"],[1,"table"],["colspan","4",1,"text-end","fw-bold"],["colspan","2",1,"fw-bold"],[1,"d-flex","justify-content-end","mt-3"],[1,"btn","btn-success","me-2",3,"click"],[1,"btn","btn-secondary",3,"click"],[1,"bi","bi-x-circle"],["type","number","min","1",1,"form-control","form-control-sm",2,"width","80px",3,"ngModelChange","change","ngModel"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"bi","bi-trash"],["role","alert",1,"alert","alert-success"],[1,"badge","rounded-pill",3,"ngClass"],[1,"btn","btn-outline-success","btn-sm","me-1",3,"click"],[1,"bi","bi-check"],[1,"text-danger"]],template:function(e,r){if(e&1){let n=Je();c(0,"section",10)(1,"div",11)(2,"div",12)(3,"div",13)(4,"div",14)(5,"div",15)(6,"div",16)(7,"div",17)(8,"h4",18),p(9,"Compra de Materiales"),l()(),c(10,"div",19)(11,"button",20),H("click",function(){return N(n),D(r.volverACompras())}),Ee(12,"i",21),p(13," Volver "),l(),c(14,"button",22),Ee(15,"i",23),p(16," Crear Material "),l()()(),c(17,"div")(18,"div",24)(19,"input",25),pe("ngModelChange",function(a){return N(n),ue(r.textoBusqueda,a)||(r.textoBusqueda=a),D(a)}),H("input",function(){return N(n),D(r.filtrarMateriales())}),l()(),c(20,"div",26)(21,"table",27)(22,"thead",28)(23,"tr")(24,"th"),p(25,"C\xF3d. Inventario"),l(),c(26,"th"),p(27,"Nombre"),l(),c(28,"th"),p(29,"Unidad Medida"),l(),c(30,"th"),p(31,"Precio Unitario"),l(),c(32,"th"),p(33,"Stock Actual"),l(),c(34,"th",29),p(35,"Acciones"),l()()(),c(36,"tbody"),B(37,R8,17,10,"tr",30),l()()(),c(38,"div",31)(39,"button",32),H("click",function(){return N(n),D(r.cambiarPaginaMateriales("previous"))}),p(40," \u2190 Anterior "),l(),c(41,"span"),p(42),l(),c(43,"button",32),H("click",function(){return N(n),D(r.cambiarPaginaMateriales("next"))}),p(44," Siguiente \u2192 "),l()()(),B(45,B8,4,0,"div",33)(46,V8,37,4,"div",34),l()()()()()(),c(47,"div",35)(48,"div",36)(49,"div",37)(50,"div",38)(51,"h5",39),p(52," Seleccione un Proveedor "),l(),Ee(53,"button",40),l(),c(54,"div",41)(55,"div",42)(56,"div",24)(57,"input",43),pe("ngModelChange",function(a){return N(n),ue(r.textoBusqueda,a)||(r.textoBusqueda=a),D(a)}),H("input",function(){return N(n),D(r.filtrarProveedores())}),l()(),B(58,q8,2,1,"div",44),c(59,"div",26)(60,"table",27)(61,"thead",28)(62,"tr")(63,"th"),p(64,"ID"),l(),c(65,"th"),p(66,"Proveedor"),l(),c(67,"th"),p(68,"Tipo"),l(),c(69,"th",29),p(70,"Acciones"),l()()(),c(71,"tbody"),B(72,j8,12,9,"tr",30),l()()(),c(73,"div",31)(74,"button",32),H("click",function(){return N(n),D(r.cambiarPaginaProveedores("previous"))}),p(75," \u2190 Anterior "),l(),c(76,"span"),p(77),l(),c(78,"button",32),H("click",function(){return N(n),D(r.cambiarPaginaProveedores("next"))}),p(79," Siguiente \u2192 "),l()()()(),c(80,"div",45)(81,"button",46),Ee(82,"i",47),p(83," Cancelar "),l(),c(84,"button",48),H("click",function(){return N(n),D(r.proveedorConfirmado())}),Ee(85,"i",49),p(86," Confirmar "),l()()()()(),c(87,"div",50,0)(89,"div",36)(90,"div",37)(91,"form",51,1),H("ngSubmit",function(){N(n);let a=ae(92);return D(r.validarYCrearMaterial(a))}),c(93,"div",38)(94,"h1",52),p(95," Registrar Material "),l(),c(96,"button",53),H("click",function(){N(n);let a=ae(92);return D(r.limpiarFormularioMaterial(a))}),l()(),c(97,"div",41)(98,"div",24)(99,"label",54),p(100,"C\xF3digo de Inventario"),l(),c(101,"input",55,2),pe("ngModelChange",function(a){return N(n),ue(r.nuevoMaterial.codigoInventario,a)||(r.nuevoMaterial.codigoInventario=a),D(a)}),l(),B(103,z8,2,0,"div",56),l(),c(104,"div",24)(105,"label",57),p(106,"Nombre"),l(),c(107,"input",58,3),pe("ngModelChange",function(a){return N(n),ue(r.nuevoMaterial.nombre,a)||(r.nuevoMaterial.nombre=a),D(a)}),l(),B(109,W8,2,0,"div",56),l(),c(110,"div",24)(111,"label",59),p(112,"Descripci\xF3n"),l(),c(113,"textarea",60,4),pe("ngModelChange",function(a){return N(n),ue(r.nuevoMaterial.descripcion,a)||(r.nuevoMaterial.descripcion=a),D(a)}),l(),B(115,H8,2,0,"div",56),l(),c(116,"div",24)(117,"label",61),p(118,"Unidad de Medida"),l(),c(119,"input",62,5),pe("ngModelChange",function(a){return N(n),ue(r.nuevoMaterial.unidadMedida,a)||(r.nuevoMaterial.unidadMedida=a),D(a)}),l(),B(121,G8,2,0,"div",56),l(),c(122,"div",24)(123,"label",63),p(124,"Precio Unitario"),l(),c(125,"input",64,6),pe("ngModelChange",function(a){return N(n),ue(r.nuevoMaterial.precioUnitario,a)||(r.nuevoMaterial.precioUnitario=a),D(a)}),l(),B(127,$8,2,0,"div",56),l(),c(128,"div",24)(129,"label",65),p(130,"Stock Actual"),l(),c(131,"input",66,7),pe("ngModelChange",function(a){return N(n),ue(r.nuevoMaterial.stockActual,a)||(r.nuevoMaterial.stockActual=a),D(a)}),l(),B(133,X8,2,0,"div",56),l(),c(134,"div",24)(135,"label",67),p(136,"Stock Minimo"),l(),c(137,"input",68,8),pe("ngModelChange",function(a){return N(n),ue(r.nuevoMaterial.stockMinimo,a)||(r.nuevoMaterial.stockMinimo=a),D(a)}),l(),B(139,Z8,2,0,"div",56),l(),c(140,"div",24)(141,"label",69),p(142,"Categoria"),l(),c(143,"input",70,9),pe("ngModelChange",function(a){return N(n),ue(r.nuevoMaterial.categoria,a)||(r.nuevoMaterial.categoria=a),D(a)}),l(),B(145,Y8,2,0,"div",56),l()(),c(146,"div",45)(147,"button",71),H("click",function(){N(n);let a=ae(92);return D(r.limpiarFormularioMaterial(a))}),p(148," Cancelar "),l(),c(149,"button",72),p(150,"Guardar"),l()()()()()()}if(e&2){let n=ae(102),o=ae(108),a=ae(114),d=ae(120),u=ae(126),m=ae(132),v=ae(138),y=ae(144);g(19),de("ngModel",r.textoBusqueda),g(18),M("ngForOf",r.materialesFiltrados),g(2),M("disabled",r.paginaActual===1),g(3),Di("P\xE1gina ",r.paginaActual," de ",r.totalPaginas,""),g(),M("disabled",r.paginaActual===r.totalPaginas),g(2),M("ngIf",r.carrito.length>0),g(),M("ngIf",r.carrito.length>0),g(11),de("ngModel",r.textoBusqueda),g(),M("ngIf",r.proveedorID!=null),g(14),M("ngForOf",r.proveedoresFiltrados),g(2),M("disabled",r.paginaActual===1),g(3),Di("P\xE1gina ",r.paginaActual," de ",r.totalPaginas,""),g(),M("disabled",r.paginaActual===r.totalPaginas),g(23),de("ngModel",r.nuevoMaterial.codigoInventario),g(2),M("ngIf",n.invalid&&n.touched),g(4),de("ngModel",r.nuevoMaterial.nombre),g(2),M("ngIf",o.invalid&&o.touched),g(4),de("ngModel",r.nuevoMaterial.descripcion),g(2),M("ngIf",a.invalid&&a.touched),g(4),de("ngModel",r.nuevoMaterial.unidadMedida),g(2),M("ngIf",d.invalid&&d.touched),g(4),de("ngModel",r.nuevoMaterial.precioUnitario),g(2),M("ngIf",u.invalid&&u.touched),g(4),de("ngModel",r.nuevoMaterial.stockActual),g(2),M("ngIf",m.invalid&&m.touched),g(4),de("ngModel",r.nuevoMaterial.stockMinimo),g(2),M("ngIf",v.invalid&&v.touched),g(4),de("ngModel",r.nuevoMaterial.categoria),g(2),M("ngIf",y.invalid&&y.touched)}},dependencies:[ct,Rn,Bt,yt,Gs,ea,ji,Mt,Qt,kt,Qi,Pt,Jt,ri,yr,Tt,ei]})};var F0=class i{constructor(t){this.http=t}apiUrl=pi.apiUrl;obtenerCompraEquipo(){return this.http.get(`${this.apiUrl}/compra-equipo`)}obtenerCompraEquipoPorId(t){return this.http.get(`${this.apiUrl}/compra-equipo/${t}`)}crearCompraEquipo(t){return this.http.post(`${this.apiUrl}/compra-equipo`,t)}actualizarCompraEquipo(t,e){return this.http.put(`${this.apiUrl}/compra-equipo/${t}`,e)}eliminarCompraEquipo(t){return this.http.delete(`${this.apiUrl}/compra-equipo/${t}`)}obtenerComprasPorId(t){return this.http.get(`${this.apiUrl}/compra-equipo/compras/${t}`)}static \u0275fac=function(e){return new(e||i)(Et(ui))};static \u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"})};var K8=["modalCrearEquipo"],J8=(i,t,e,r)=>({"bg-primary text-white":i,"bg-info text-dark":t,"bg-success text-white":e,"bg-secondary text-white":r});function Q8(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),p(2),l(),c(3,"td"),p(4),l(),c(5,"td"),p(6),l(),c(7,"td"),p(8),Kt(9,"currency"),l(),c(10,"td",27)(11,"button",69),H("click",function(){let n=N(e).$implicit,o=Q();return D(o.agregarACarrito(n,"equipo"))}),Ee(12,"i",70),p(13," Comprar "),l()()()}if(i&2){let e=t.$implicit;g(2),Te(e.codigoActivo),g(2),Te(e.nombre),g(2),Te(e.tipoEquipo),g(2),Te(bi(9,4,e.precioUnitario))}}function eI(i,t){if(i&1){let e=Je();c(0,"div",71)(1,"button",72),H("click",function(){N(e);let n=Q();return D(n.seleccionarProveedor())}),Ee(2,"i",73),p(3," Seleccionar proveedor "),l()()}}function tI(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),p(2),Kt(3,"titlecase"),l(),c(4,"td"),p(5),l(),c(6,"td")(7,"input",85),pe("ngModelChange",function(n){let o=N(e).$implicit;return ue(o.cantidad,n)||(o.cantidad=n),D(n)}),H("change",function(){let n=N(e).$implicit,o=Q(2);return D(o.actualizarSubtotal(n))}),l()(),c(8,"td"),p(9),Kt(10,"currency"),l(),c(11,"td"),p(12),Kt(13,"currency"),l(),c(14,"td",27)(15,"button",86),H("click",function(){let n=N(e).index,o=Q(2);return D(o.eliminarDelCarrito(n))}),Ee(16,"i",87),l()()()}if(i&2){let e=t.$implicit;g(2),Te(bi(3,5,e.tipo)),g(3),Te(e.nombre),g(2),de("ngModel",e.cantidad),g(2),Te(bi(10,7,e.precioUnitario)),g(3),Te(bi(13,9,e.subtotal))}}function iI(i,t){if(i&1){let e=Je();c(0,"div",74)(1,"div",75)(2,"h6",16),Ee(3,"i",76),p(4," Carrito de Compras "),l()(),c(5,"div",13)(6,"div",77)(7,"table",78)(8,"thead")(9,"tr")(10,"th"),p(11,"Tipo"),l(),c(12,"th"),p(13,"Item"),l(),c(14,"th"),p(15,"Cantidad"),l(),c(16,"th"),p(17,"Precio Unitario"),l(),c(18,"th"),p(19,"Subtotal"),l(),Ee(20,"th"),l()(),c(21,"tbody"),B(22,tI,17,11,"tr",28),l(),c(23,"tfoot")(24,"tr")(25,"td",79),p(26,"Total:"),l(),c(27,"td",80),p(28),Kt(29,"currency"),l()()()()(),c(30,"div",81)(31,"button",82),H("click",function(){N(e);let n=Q();return D(n.confirmarCompra())}),Ee(32,"i",73),p(33," Confirmar Compra "),l(),c(34,"button",83),H("click",function(){N(e);let n=Q();return D(n.vaciarCarrito())}),Ee(35,"i",84),p(36," Cancelar "),l()()()()}if(i&2){let e=Q();g(22),M("ngForOf",e.carrito),g(6),Ke(" ",bi(29,2,e.calcularTotal())," ")}}function rI(i,t){if(i&1&&(c(0,"div",88),p(1),l()),i&2){let e=Q();g(),Ke(" Proveedor seleccionado: ",e.proveedorID," ")}}function nI(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),p(2),l(),c(3,"td"),p(4),l(),c(5,"td")(6,"span",89),p(7),l()(),c(8,"td",27)(9,"button",90),H("click",function(){let n,o=N(e).$implicit,a=Q();return D(a.seleccionarProveedorID((n=o.id)!==null&&n!==void 0?n:0))}),Ee(10,"i",91),p(11," OK "),l()()()}if(i&2){let e=t.$implicit;g(2),Te(e.id),g(2),Te(e.empresa),g(2),M("ngClass",Wa(4,J8,e.tipoProveedor==="MATERIAL",e.tipoProveedor==="EQUIPO",e.tipoProveedor==="SERVICIO",e.tipoProveedor==="OTROS")),g(),Ke(" ",e.tipoProveedor==null?null:e.tipoProveedor.toLowerCase()," ")}}function oI(i,t){i&1&&(c(0,"div",92),p(1," Este campo es obligatorio. "),l())}function aI(i,t){i&1&&(c(0,"div",92),p(1," Este campo es obligatorio. "),l())}function sI(i,t){i&1&&(c(0,"div",92),p(1," Este campo es obligatorio. "),l())}function lI(i,t){i&1&&(c(0,"div",92),p(1," Este campo es obligatorio. "),l())}function cI(i,t){i&1&&(c(0,"div",92),p(1," Este campo es obligatorio. "),l())}function dI(i,t){i&1&&(c(0,"div",92),p(1," Debe ser mayor a 0. "),l())}var eh=class i{constructor(t,e,r,n,o,a,d){this.equipoService=t;this.proveedorService=e;this.compraService=r;this.compraEquipoService=n;this.router=o;this.filterService=a;this.paginationService=d}modalCrearEquipo;equipos=[];equiposFiltrados=[];equiposPaginados=[];textoBusqueda="";paginaActual=1;elementosPorPagina=5;totalPaginas=0;proveedores=[];proveedoresFiltrados=[];proveedoresPaginados=[];estadoSeleccionado="Todos";mostrarModal=!1;compraID=null;proveedorID=null;total=null;proveedorSeleccionado={id:0,nombreCompleto:"",nitCi:"",telefono:"",correo:"",direccion:"",ciudad:"",pais:"",empresa:"",tipoProveedor:"",estado:""};hoy=new Date().toISOString().split("T")[0];compra={numeroCompra:0,fecha:this.hoy,total:0,estadoCompra:"APROBADO",proveedor:{id:0,nombreCompleto:"",nitCi:"",telefono:"",correo:"",direccion:"",ciudad:"",pais:"",empresa:"",tipoProveedor:"",estado:""}};nuevoEquipo={codigoActivo:"",nombre:"",descripcion:"",unidadMedida:"",tipoEquipo:"",precioUnitario:0,fechaAdquisicion:this.hoy};ngOnInit(){this.obtenerEquipos(),this.obtenerProveedores()}validarYCrearEquipo(t){if(t.invalid){alert("Todos los campos son obligatorios!!!"),console.warn("Formulario inv\xE1lido");return}this.crearEquipo(),console.log("Equipo creado: crearEquipo"),this.cerrarModalCrearEqipo(),console.log("Equipo creado: cerrarModalCrearEqipo"),this.obtenerEquipos(),console.log("Equipo creado: obtenerEquipos"),this.limpiarFormularioEquipo(t),console.log("Equipo creado: limpiarFormularioEquipo")}crearEquipo(){this.equipoService.crearEquipo(this.nuevoEquipo).subscribe({next:t=>{console.log("Equipo creado:",t)},error:t=>{console.error("Error al crear el equipo:",t)}})}limpiarFormularioEquipo(t){t.resetForm(),this.nuevoEquipo={codigoActivo:"",nombre:"",descripcion:"",unidadMedida:"",tipoEquipo:"",precioUnitario:0,fechaAdquisicion:this.hoy}}cerrarModalCrearEqipo(){bootstrap.Modal.getInstance(this.modalCrearEquipo.nativeElement).hide()}obtenerEquipos(){this.equipoService.obtenerEquipos().subscribe(t=>{this.equipos=t,this.filtrarEquipos()})}filtrarEquipos(){let t=[...this.equipos];t=this.filterService.filtrar(t,this.textoBusqueda),this.equiposFiltrados=t,this.paginaActual=1,this.calcularPaginacionEquipos()}calcularPaginacionEquipos(){let t=this.paginationService.paginate(this.equiposFiltrados,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.equiposPaginados=t.paginatedData}cambiarPaginaEquipos(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarequiposPaginados()}actualizarequiposPaginados(){let t=this.paginationService.paginate(this.equiposFiltrados,this.paginaActual,this.elementosPorPagina);this.equiposPaginados=t.paginatedData}obtenerProveedores(){this.proveedorService.obtenerProveedoresPorTipoEquipo().subscribe(t=>{this.proveedores=t,this.filtrarProveedores()})}filtrarProveedores(){let t=[...this.proveedores];t=this.filterService.filtrar(t,this.textoBusqueda),this.proveedoresFiltrados=t,this.paginaActual=1,this.calcularPaginacionProveedores()}calcularPaginacionProveedores(){let t=this.paginationService.paginate(this.proveedoresFiltrados,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.proveedoresPaginados=t.paginatedData}cambiarPaginaProveedores(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarProveedoresPaginados()}actualizarProveedoresPaginados(){let t=this.paginationService.paginate(this.proveedoresFiltrados,this.paginaActual,this.elementosPorPagina);this.proveedoresPaginados=t.paginatedData}carrito=[];agregarACarrito(t,e){let r=this.carrito.find(n=>n.id===t.id&&n.tipo===e);r?(r.cantidad+=1,r.subtotal=r.cantidad*r.precioUnitario):this.carrito.push(Ki(lt({},t),{tipo:e,cantidad:1,subtotal:t.precioUnitario}))}eliminarDelCarrito(t){this.carrito.splice(t,1)}actualizarSubtotal(t){t.subtotal=t.cantidad*t.precioUnitario}calcularTotal(){let t=this.carrito.reduce((e,r)=>e+r.subtotal,0);return this.total=t,t}vaciarCarrito(){this.carrito=[]}confirmarCompra(){console.log("Compra confirmada:",this.carrito),console.log("Total:",this.total),console.log("IDProveedor:",this.proveedorID),this.proveedorID==null?alert("Debe seleccionar un proveedor"):(this.cargarCompra(),this.crearCompra(),alert("Compraregistrada correctamente"),this.router.navigate(["/compra"]))}cargarCompra(){this.compra.total=this.total,this.compra.proveedor=this.proveedorSeleccionado}compraNueva;crearCompra(){this.compraService.crearCompra(this.compra).subscribe(t=>{this.compraNueva=t,this.carrito.forEach(e=>{let r={compra:this.compraNueva,equipo:{id:e.id,codigoActivo:e.codigoActivo,nombre:e.nombre,descripcion:e.descripcion,unidadMedida:e.unidadMedida,tipoEquipo:e.tipoEquipo,precioUnitario:e.precioUnitario,fechaAdquisicion:e.fechaAdquisicion},precioUnitario:e.precioUnitario,cantidad:e.cantidad,subTotal:e.subtotal};this.compraEquipoService.crearCompraEquipo(r).subscribe(()=>{console.log("CompraEquipo creada para equipo",e.nombre)})}),console.log("Compra creada:",this.compraNueva)})}volverACompras(){this.router.navigate(["/compra"])}seleccionarProveedor(){this.mostrarModal=!0}seleccionarProveedorID(t){this.proveedorID=t,this.obtenerProveedorPorId(t)}obtenerProveedorPorId(t){this.proveedorService.obtenerProveedorPorId(t).subscribe(e=>{this.proveedorSeleccionado=e})}proveedorConfirmado(){this.proveedorID!==null&&this.cerrarModal()}cerrarModal(){this.mostrarModal=!1}static \u0275fac=function(e){return new(e||i)(ie(fo),ie(go),ie(ho),ie(F0),ie(ht),ie(zi),ie(Yi))};static \u0275cmp=ot({type:i,selectors:[["app-compra-equipo-create"]],viewQuery:function(e,r){if(e&1&&u0(K8,5),e&2){let n;bl(n=xl())&&(r.modalCrearEquipo=n.first)}},standalone:!0,features:[st],decls:141,vars:29,consts:[["modalCrearEquipo",""],["form","ngForm"],["codigoActivo","ngModel"],["nombre","ngModel"],["descripcion","ngModel"],["unidadMedida","ngModel"],["tipoEquipo","ngModel"],["precioUnitario","ngModel"],[1,"content"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"card","shadow-sm"],[1,"card-body"],[1,"row","mb-3"],[1,"col-12","col-md-6"],[1,"m-0"],[1,"col-12","col-md-6","text-md-end"],[1,"btn","btn-secondary","me-2",3,"click"],[1,"bi","bi-arrow-left"],["data-bs-toggle","modal","data-bs-target","#staticBackdrop",1,"btn","btn-primary"],[1,"bi","bi-plus-circle"],[1,"mb-3"],["type","text","placeholder","Buscar equipos...",1,"form-control",3,"ngModelChange","input","ngModel"],[2,"max-height","400px","overflow-y","auto"],[1,"table","table-bordered","table-striped"],[1,"table-primary"],[1,"text-center"],[4,"ngFor","ngForOf"],["hidden","",1,"paginacion"],[3,"click","disabled"],["class","col-12 text-md-end",4,"ngIf"],["class","card mt-4",4,"ngIf"],["id","proveedorModal","tabindex","-1","aria-labelledby","proveedorModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","proveedorModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["id","proveedor","role","tabpanel","aria-labelledby","material-tab",1,"tab-pane","fade","show","active"],["type","text","placeholder","Buscar proveedor...",1,"form-control",3,"ngModelChange","input","ngModel"],["class","alert alert-success","role","alert",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"bi","bi-x-circle","mr-1"],["type","button","data-bs-dismiss","modal",1,"btn","btn-success",3,"click"],[1,"bi","bi-check-circle","mr-1"],["id","staticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[3,"ngSubmit"],["id","staticBackdropLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],["for","codigoActivo",1,"form-label"],["type","text","id","codigoActivo","name","codigoActivo","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger",4,"ngIf"],["for","nombre",1,"form-label"],["type","text","id","nombre","name","nombre","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","descripcion",1,"form-label"],["id","descripcion","name","descripcion","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","unidadMedida",1,"form-label"],["type","text","id","unidadMedida","name","unidadMedida","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","tipoEquipo",1,"form-label"],["type","text","id","tipoEquipo","name","tipoEquipo","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","precioUnitario",1,"form-label"],["type","number","id","precioUnitario","name","precioUnitario","required","","min","0.01","step","0.01",1,"form-control",3,"ngModelChange","ngModel"],["for","fechaAdquisicion",1,"form-label"],["type","date","id","fechaAdquisicion","name","fechaAdquisicion","required","",1,"form-control",3,"ngModelChange","ngModel","max"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary"],[1,"btn","btn-primary","btn-sm","me-1",3,"click"],[1,"bi","bi-cart-plus"],[1,"col-12","text-md-end"],["data-bs-toggle","modal","data-bs-target","#proveedorModal",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-check-circle"],[1,"card","mt-4"],[1,"card-header","bg-primary","text-white"],[1,"bi","bi-cart"],[1,"table-responsive"],[1,"table"],["colspan","4",1,"text-end","fw-bold"],["colspan","2",1,"fw-bold"],[1,"d-flex","justify-content-end","mt-3"],[1,"btn","btn-success","me-2",3,"click"],[1,"btn","btn-secondary",3,"click"],[1,"bi","bi-x-circle"],["type","number","min","1",1,"form-control","form-control-sm",2,"width","80px",3,"ngModelChange","change","ngModel"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"bi","bi-trash"],["role","alert",1,"alert","alert-success"],[1,"badge","rounded-pill",3,"ngClass"],[1,"btn","btn-outline-success","btn-sm","me-1",3,"click"],[1,"bi","bi-check"],[1,"text-danger"]],template:function(e,r){if(e&1){let n=Je();c(0,"section",8)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"div",13)(6,"div",14)(7,"div",15)(8,"h4",16),p(9,"Compra de Equipos"),l()(),c(10,"div",17)(11,"button",18),H("click",function(){return N(n),D(r.volverACompras())}),Ee(12,"i",19),p(13," Volver "),l(),c(14,"button",20),Ee(15,"i",21),p(16," Crear Equipo "),l()()(),c(17,"div")(18,"div",22)(19,"input",23),pe("ngModelChange",function(a){return N(n),ue(r.textoBusqueda,a)||(r.textoBusqueda=a),D(a)}),H("input",function(){return N(n),D(r.filtrarEquipos())}),l()(),c(20,"div",24)(21,"table",25)(22,"thead",26)(23,"tr")(24,"th"),p(25,"C\xF3d. Activo"),l(),c(26,"th"),p(27,"Nombre"),l(),c(28,"th"),p(29,"Tipo"),l(),c(30,"th"),p(31,"Precio Unitario"),l(),c(32,"th",27),p(33,"Acciones"),l()()(),c(34,"tbody"),B(35,Q8,14,6,"tr",28),l()()(),c(36,"div",29)(37,"button",30),H("click",function(){return N(n),D(r.cambiarPaginaEquipos("previous"))}),p(38," \u2190 Anterior "),l(),c(39,"span"),p(40),l(),c(41,"button",30),H("click",function(){return N(n),D(r.cambiarPaginaEquipos("next"))}),p(42," Siguiente \u2192 "),l()()(),B(43,eI,4,0,"div",31)(44,iI,37,4,"div",32),l()()()()()(),c(45,"div",33)(46,"div",34)(47,"div",35)(48,"div",36)(49,"h5",37),p(50," Seleccione un Proveedor "),l(),Ee(51,"button",38),l(),c(52,"div",39)(53,"div",40)(54,"div",22)(55,"input",41),pe("ngModelChange",function(a){return N(n),ue(r.textoBusqueda,a)||(r.textoBusqueda=a),D(a)}),H("input",function(){return N(n),D(r.filtrarProveedores())}),l()(),B(56,rI,2,1,"div",42),c(57,"div",24)(58,"table",25)(59,"thead",26)(60,"tr")(61,"th"),p(62,"ID"),l(),c(63,"th"),p(64,"Proveedor"),l(),c(65,"th"),p(66,"Tipo"),l(),c(67,"th",27),p(68,"Acciones"),l()()(),c(69,"tbody"),B(70,nI,12,9,"tr",28),l()()(),c(71,"div",29)(72,"button",30),H("click",function(){return N(n),D(r.cambiarPaginaProveedores("previous"))}),p(73," \u2190 Anterior "),l(),c(74,"span"),p(75),l(),c(76,"button",30),H("click",function(){return N(n),D(r.cambiarPaginaProveedores("next"))}),p(77," Siguiente \u2192 "),l()()()(),c(78,"div",43)(79,"button",44),Ee(80,"i",45),p(81," Cancelar "),l(),c(82,"button",46),H("click",function(){return N(n),D(r.proveedorConfirmado())}),Ee(83,"i",47),p(84," Confirmar "),l()()()()(),c(85,"div",48,0)(87,"div",34)(88,"div",35)(89,"form",49,1),H("ngSubmit",function(){N(n);let a=ae(90);return D(r.validarYCrearEquipo(a))}),c(91,"div",36)(92,"h1",50),p(93," Registrar Equipo "),l(),c(94,"button",51),H("click",function(){N(n);let a=ae(90);return D(r.limpiarFormularioEquipo(a))}),l()(),c(95,"div",39)(96,"div",22)(97,"label",52),p(98,"C\xF3digo Activo"),l(),c(99,"input",53,2),pe("ngModelChange",function(a){return N(n),ue(r.nuevoEquipo.codigoActivo,a)||(r.nuevoEquipo.codigoActivo=a),D(a)}),l(),B(101,oI,2,0,"div",54),l(),c(102,"div",22)(103,"label",55),p(104,"Nombre"),l(),c(105,"input",56,3),pe("ngModelChange",function(a){return N(n),ue(r.nuevoEquipo.nombre,a)||(r.nuevoEquipo.nombre=a),D(a)}),l(),B(107,aI,2,0,"div",54),l(),c(108,"div",22)(109,"label",57),p(110,"Descripci\xF3n"),l(),c(111,"textarea",58,4),pe("ngModelChange",function(a){return N(n),ue(r.nuevoEquipo.descripcion,a)||(r.nuevoEquipo.descripcion=a),D(a)}),l(),B(113,sI,2,0,"div",54),l(),c(114,"div",22)(115,"label",59),p(116,"Unidad de Medida"),l(),c(117,"input",60,5),pe("ngModelChange",function(a){return N(n),ue(r.nuevoEquipo.unidadMedida,a)||(r.nuevoEquipo.unidadMedida=a),D(a)}),l(),B(119,lI,2,0,"div",54),l(),c(120,"div",22)(121,"label",61),p(122,"Tipo de Equipo"),l(),c(123,"input",62,6),pe("ngModelChange",function(a){return N(n),ue(r.nuevoEquipo.tipoEquipo,a)||(r.nuevoEquipo.tipoEquipo=a),D(a)}),l(),B(125,cI,2,0,"div",54),l(),c(126,"div",22)(127,"label",63),p(128,"Precio Unitario"),l(),c(129,"input",64,7),pe("ngModelChange",function(a){return N(n),ue(r.nuevoEquipo.precioUnitario,a)||(r.nuevoEquipo.precioUnitario=a),D(a)}),l(),B(131,dI,2,0,"div",54),l(),c(132,"div",22)(133,"label",65),p(134,"Fecha de Adquisici\xF3n"),l(),c(135,"input",66),pe("ngModelChange",function(a){return N(n),ue(r.nuevoEquipo.fechaAdquisicion,a)||(r.nuevoEquipo.fechaAdquisicion=a),D(a)}),l()()(),c(136,"div",43)(137,"button",67),H("click",function(){N(n);let a=ae(90);return D(r.limpiarFormularioEquipo(a))}),p(138," Cancelar "),l(),c(139,"button",68),p(140,"Guardar"),l()()()()()()}if(e&2){let n=ae(100),o=ae(106),a=ae(112),d=ae(118),u=ae(124),m=ae(130);g(19),de("ngModel",r.textoBusqueda),g(16),M("ngForOf",r.equiposFiltrados),g(2),M("disabled",r.paginaActual===1),g(3),Di("P\xE1gina ",r.paginaActual," de ",r.totalPaginas,""),g(),M("disabled",r.paginaActual===r.totalPaginas),g(2),M("ngIf",r.carrito.length>0),g(),M("ngIf",r.carrito.length>0),g(11),de("ngModel",r.textoBusqueda),g(),M("ngIf",r.proveedorID!=null),g(14),M("ngForOf",r.proveedoresFiltrados),g(2),M("disabled",r.paginaActual===1),g(3),Di("P\xE1gina ",r.paginaActual," de ",r.totalPaginas,""),g(),M("disabled",r.paginaActual===r.totalPaginas),g(23),de("ngModel",r.nuevoEquipo.codigoActivo),g(2),M("ngIf",n.invalid&&n.touched),g(4),de("ngModel",r.nuevoEquipo.nombre),g(2),M("ngIf",o.invalid&&o.touched),g(4),de("ngModel",r.nuevoEquipo.descripcion),g(2),M("ngIf",a.invalid&&a.touched),g(4),de("ngModel",r.nuevoEquipo.unidadMedida),g(2),M("ngIf",d.invalid&&d.touched),g(4),de("ngModel",r.nuevoEquipo.tipoEquipo),g(2),M("ngIf",u.invalid&&u.touched),g(4),de("ngModel",r.nuevoEquipo.precioUnitario),g(2),M("ngIf",m.invalid&&m.touched),g(4),de("ngModel",r.nuevoEquipo.fechaAdquisicion),M("max",r.hoy)}},dependencies:[ct,Rn,Bt,yt,Gs,ea,ji,Mt,Qt,kt,Qi,Pt,Jt,ri,yr,Tt,ei]})};var N0=class i{constructor(t){this.http=t}apiUrl=pi.apiUrl;obtenerCompraServicio(){return this.http.get(`${this.apiUrl}/compra-servicio`)}obtenerCompraServicioPorId(t){return this.http.get(`${this.apiUrl}/compra-servicio/${t}`)}crearCompraServicio(t){return this.http.post(`${this.apiUrl}/compra-servicio`,t)}actualizarCompraServicio(t,e){return this.http.put(`${this.apiUrl}/compra-servicio/${t}`,e)}eliminarCompraServicio(t){return this.http.delete(`${this.apiUrl}/compra-servicio/${t}`)}obtenerComprasPorId(t){return this.http.get(`${this.apiUrl}/compra-servicio/compras/${t}`)}static \u0275fac=function(e){return new(e||i)(Et(ui))};static \u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"})};var uI=["modalCrearServicio"],pI=(i,t,e,r)=>({"bg-primary text-white":i,"bg-info text-dark":t,"bg-success text-white":e,"bg-secondary text-white":r});function fI(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),p(2),l(),c(3,"td"),p(4),l(),c(5,"td"),p(6),l(),c(7,"td"),p(8),Kt(9,"currency"),l(),c(10,"td",26)(11,"button",64),H("click",function(){let n=N(e).$implicit,o=Q();return D(o.agregarACarrito(n,"servicio"))}),Ee(12,"i",65),p(13," Contratar "),l()()()}if(i&2){let e=t.$implicit;g(2),Te(e.codigoServicio),g(2),Te(e.nombre),g(2),Ke("",e.duracionEstimada," dia/s"),g(2),Te(bi(9,4,e.precioUnitario))}}function mI(i,t){if(i&1){let e=Je();c(0,"div",66)(1,"button",67),H("click",function(){N(e);let n=Q();return D(n.seleccionarProveedor())}),Ee(2,"i",68),p(3," Seleccionar proveedor "),l()()}}function hI(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),p(2),Kt(3,"titlecase"),l(),c(4,"td"),p(5),l(),c(6,"td")(7,"input",80),pe("ngModelChange",function(n){let o=N(e).$implicit;return ue(o.cantidad,n)||(o.cantidad=n),D(n)}),H("change",function(){let n=N(e).$implicit,o=Q(2);return D(o.actualizarSubtotal(n))}),l()(),c(8,"td"),p(9),Kt(10,"currency"),l(),c(11,"td"),p(12),Kt(13,"currency"),l(),c(14,"td",26)(15,"button",81),H("click",function(){let n=N(e).index,o=Q(2);return D(o.eliminarDelCarrito(n))}),Ee(16,"i",82),l()()()}if(i&2){let e=t.$implicit;g(2),Te(bi(3,5,e.tipo)),g(3),Te(e.nombre),g(2),de("ngModel",e.cantidad),g(2),Te(bi(10,7,e.precioUnitario)),g(3),Te(bi(13,9,e.subtotal))}}function gI(i,t){if(i&1){let e=Je();c(0,"div",69)(1,"div",70)(2,"h6",15),Ee(3,"i",71),p(4," Carrito de Compras "),l()(),c(5,"div",12)(6,"div",72)(7,"table",73)(8,"thead")(9,"tr")(10,"th"),p(11,"Tipo"),l(),c(12,"th"),p(13,"Item"),l(),c(14,"th"),p(15,"Cantidad"),l(),c(16,"th"),p(17,"Precio Unitario"),l(),c(18,"th"),p(19,"Subtotal"),l(),Ee(20,"th"),l()(),c(21,"tbody"),B(22,hI,17,11,"tr",27),l(),c(23,"tfoot")(24,"tr")(25,"td",74),p(26,"Total:"),l(),c(27,"td",75),p(28),Kt(29,"currency"),l()()()()(),c(30,"div",76)(31,"button",77),H("click",function(){N(e);let n=Q();return D(n.confirmarCompra())}),Ee(32,"i",68),p(33," Confirmar Compra "),l(),c(34,"button",78),H("click",function(){N(e);let n=Q();return D(n.vaciarCarrito())}),Ee(35,"i",79),p(36," Cancelar "),l()()()()}if(i&2){let e=Q();g(22),M("ngForOf",e.carrito),g(6),Ke(" ",bi(29,2,e.calcularTotal())," ")}}function vI(i,t){if(i&1&&(c(0,"div",83),p(1),l()),i&2){let e=Q();g(),Ke(" Proveedor seleccionado: ",e.proveedorID," ")}}function _I(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),p(2),l(),c(3,"td"),p(4),l(),c(5,"td")(6,"span",84),p(7),l()(),c(8,"td",26)(9,"button",85),H("click",function(){let n,o=N(e).$implicit,a=Q();return D(a.seleccionarProveedorID((n=o.id)!==null&&n!==void 0?n:0))}),Ee(10,"i",86),p(11," OK "),l()()()}if(i&2){let e=t.$implicit;g(2),Te(e.id),g(2),Te(e.empresa),g(2),M("ngClass",Wa(4,pI,e.tipoProveedor==="MATERIAL",e.tipoProveedor==="EQUIPO",e.tipoProveedor==="SERVICIO",e.tipoProveedor==="OTROS")),g(),Ke(" ",e.tipoProveedor==null?null:e.tipoProveedor.toLowerCase()," ")}}function bI(i,t){i&1&&(c(0,"div",87),p(1," Este campo es obligatorio. "),l())}function xI(i,t){i&1&&(c(0,"div",87),p(1," Este campo es obligatorio. "),l())}function yI(i,t){i&1&&(c(0,"div",87),p(1," Este campo es obligatorio. "),l())}function CI(i,t){i&1&&(c(0,"div",87),p(1," Debe ser mayor a 0. "),l())}function wI(i,t){i&1&&(c(0,"div",87),p(1," Debe ser mayor a 0. "),l())}var th=class i{constructor(t,e,r,n,o,a,d){this.servicioService=t;this.proveedorService=e;this.compraService=r;this.compraServicioService=n;this.router=o;this.filterService=a;this.paginationService=d}modalCrearServicio;servicios=[];serviciosFiltrados=[];serviciosPaginados=[];textoBusqueda="";paginaActual=1;elementosPorPagina=5;totalPaginas=0;proveedores=[];proveedoresFiltrados=[];proveedoresPaginados=[];estadoSeleccionado="Todos";mostrarModal=!1;proveedorID=null;total=null;proveedorSeleccionado={id:0,nombreCompleto:"",nitCi:"",telefono:"",correo:"",direccion:"",ciudad:"",pais:"",empresa:"",tipoProveedor:"",estado:""};hoy=new Date().toISOString().split("T")[0];compra={numeroCompra:0,fecha:this.hoy,total:0,estadoCompra:"APROBADO",proveedor:{id:0,nombreCompleto:"",nitCi:"",telefono:"",correo:"",direccion:"",ciudad:"",pais:"",empresa:"",tipoProveedor:"",estado:""}};nuevoServicio={codigoServicio:"",nombre:"",descripcion:"",precioUnitario:0,duracionEstimada:0};ngOnInit(){this.obtenerServicios(),this.obtenerProveedores()}validarYCrearServicio(t){if(t.invalid){alert("Todos los campos son obligatorios!!!"),console.warn("Formulario inv\xE1lido");return}this.crearServicio(),console.log("Servicio creado: crearServicio"),this.cerrarModalCrearServicio(),console.log("Servicio creado: cerrarModalCrearServicio"),this.obtenerServicios(),console.log("Servicio creado: obtenerServicio"),this.limpiarFormularioServicio(t),console.log("Servicio creado: limpiarFormularioServicio")}crearServicio(){this.servicioService.crearServicio(this.nuevoServicio).subscribe({next:t=>{console.log("Servicio creado:",t)},error:t=>{console.error("Error al crear el material:",t)}})}limpiarFormularioServicio(t){t.resetForm(),this.nuevoServicio={codigoServicio:"",nombre:"",descripcion:"",precioUnitario:0,duracionEstimada:0}}cerrarModalCrearServicio(){bootstrap.Modal.getInstance(this.modalCrearServicio.nativeElement).hide()}obtenerServicios(){this.servicioService.obtenerServicios().subscribe(t=>{this.servicios=t,this.filtrarServicios()})}filtrarServicios(){let t=[...this.servicios];t=this.filterService.filtrar(t,this.textoBusqueda),this.serviciosFiltrados=t,this.paginaActual=1,this.calcularPaginacionServicios()}calcularPaginacionServicios(){let t=this.paginationService.paginate(this.serviciosFiltrados,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.serviciosPaginados=t.paginatedData}cambiarPaginaServicios(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarserviciosPaginados()}actualizarserviciosPaginados(){let t=this.paginationService.paginate(this.serviciosFiltrados,this.paginaActual,this.elementosPorPagina);this.serviciosPaginados=t.paginatedData}obtenerProveedores(){this.proveedorService.obtenerProveedoresPorTipoServicio().subscribe(t=>{this.proveedores=t,this.filtrarProveedores()})}filtrarProveedores(){let t=[...this.proveedores];t=this.filterService.filtrar(t,this.textoBusqueda),this.proveedoresFiltrados=t,this.paginaActual=1,this.calcularPaginacionProveedores()}calcularPaginacionProveedores(){let t=this.paginationService.paginate(this.proveedoresFiltrados,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.proveedoresPaginados=t.paginatedData}cambiarPaginaProveedores(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarProveedoresPaginados()}actualizarProveedoresPaginados(){let t=this.paginationService.paginate(this.proveedoresFiltrados,this.paginaActual,this.elementosPorPagina);this.proveedoresPaginados=t.paginatedData}carrito=[];agregarACarrito(t,e){let r=this.carrito.find(n=>n.id===t.id&&n.tipo===e);r?(r.cantidad+=1,r.subtotal=r.cantidad*r.precioUnitario):this.carrito.push(Ki(lt({},t),{tipo:e,cantidad:1,subtotal:t.precioUnitario}))}eliminarDelCarrito(t){this.carrito.splice(t,1)}actualizarSubtotal(t){t.subtotal=t.cantidad*t.precioUnitario}calcularTotal(){let t=this.carrito.reduce((e,r)=>e+r.subtotal,0);return this.total=t,t}vaciarCarrito(){this.carrito=[]}confirmarCompra(){console.log("Compra confirmada:",this.carrito),console.log("Total:",this.total),console.log("IDProveedor:",this.proveedorID),this.proveedorID==null?alert("Debe seleccionar un Proveedor"):(this.cargarCompra(),this.crearCompra(),alert("Compra registrada correctamente"),this.router.navigate(["/compra"]))}cargarCompra(){this.compra.total=this.total,this.compra.proveedor=this.proveedorSeleccionado}compraNueva;crearCompra(){this.compraService.crearCompra(this.compra).subscribe(t=>{this.compraNueva=t,this.carrito.forEach(e=>{let r={compra:this.compraNueva,servicio:{id:e.id,codigoServicio:e.codigoServicio,nombre:e.nombre,descripcion:e.descripcion,precioUnitario:e.precioUnitario,duracionEstimada:e.duracionEstimada},precioUnitario:e.precioUnitario,cantidad:e.cantidad,subTotal:e.subtotal};this.compraServicioService.crearCompraServicio(r).subscribe(()=>{console.log("CompraServicio creada para servicio",e.nombre)})}),console.log("Compra creada:",this.compraNueva)})}volverACompras(){this.router.navigate(["/compra"])}seleccionarProveedor(){this.mostrarModal=!0}seleccionarProveedorID(t){this.proveedorID=t,this.obtenerProveedorPorId(t)}obtenerProveedorPorId(t){this.proveedorService.obtenerProveedorPorId(t).subscribe(e=>{this.proveedorSeleccionado=e})}proveedorConfirmado(){this.proveedorID!==null&&this.cerrarModal()}cerrarModal(){this.mostrarModal=!1}static \u0275fac=function(e){return new(e||i)(ie(mo),ie(go),ie(ho),ie(N0),ie(ht),ie(zi),ie(Yi))};static \u0275cmp=ot({type:i,selectors:[["app-compra-servicio-create"]],viewQuery:function(e,r){if(e&1&&u0(uI,5),e&2){let n;bl(n=xl())&&(r.modalCrearServicio=n.first)}},standalone:!0,features:[st],decls:131,vars:25,consts:[["modalCrearServicio",""],["form","ngForm"],["codigoServicio","ngModel"],["nombre","ngModel"],["descripcion","ngModel"],["precioUnitario","ngModel"],["duracionEstimada","ngModel"],[1,"content"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"card","shadow-sm"],[1,"card-body"],[1,"row","mb-3"],[1,"col-12","col-md-6"],[1,"m-0"],[1,"col-12","col-md-6","text-md-end"],[1,"btn","btn-secondary","me-2",3,"click"],[1,"bi","bi-arrow-left"],["data-bs-toggle","modal","data-bs-target","#staticBackdrop",1,"btn","btn-primary"],[1,"bi","bi-plus-circle"],[1,"mb-3"],["type","text","placeholder","Buscar servicios...",1,"form-control",3,"ngModelChange","input","ngModel"],[2,"max-height","400px","overflow-y","auto"],[1,"table","table-bordered","table-striped"],[1,"table-primary"],[1,"text-center"],[4,"ngFor","ngForOf"],["hidden","",1,"paginacion"],[3,"click","disabled"],["class","col-12 text-md-end",4,"ngIf"],["class","card mt-4",4,"ngIf"],["id","proveedorModal","tabindex","-1","aria-labelledby","proveedorModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","proveedorModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["id","proveedor","role","tabpanel","aria-labelledby","material-tab",1,"tab-pane","fade","show","active"],["type","text","placeholder","Buscar proveedor...",1,"form-control",3,"ngModelChange","input","ngModel"],["class","alert alert-success","role","alert",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"bi","bi-x-circle","mr-1"],["type","button","data-bs-dismiss","modal",1,"btn","btn-success",3,"click"],[1,"bi","bi-check-circle","mr-1"],["id","staticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[3,"ngSubmit"],["id","staticBackdropLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],["for","codigoServicio",1,"form-label"],["type","text","id","codigoServicio","name","codigoServicio","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger",4,"ngIf"],["for","nombre",1,"form-label"],["type","text","id","nombre","name","nombre","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","descripcion",1,"form-label"],["id","descripcion","name","descripcion","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","precioUnitario",1,"form-label"],["type","number","id","precioUnitario","name","precioUnitario","required","","min","0.01","step","0.01",1,"form-control",3,"ngModelChange","ngModel"],["for","duracionEstimada",1,"form-label"],["type","number","id","duracionEstimada","name","duracionEstimada","required","","min","0.01","step","0.01",1,"form-control",3,"ngModelChange","ngModel"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary"],[1,"btn","btn-primary","btn-sm","me-1",3,"click"],[1,"bi","bi-cart-plus"],[1,"col-12","text-md-end"],["data-bs-toggle","modal","data-bs-target","#proveedorModal",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-check-circle"],[1,"card","mt-4"],[1,"card-header","bg-primary","text-white"],[1,"bi","bi-cart"],[1,"table-responsive"],[1,"table"],["colspan","4",1,"text-end","fw-bold"],["colspan","2",1,"fw-bold"],[1,"d-flex","justify-content-end","mt-3"],[1,"btn","btn-success","me-2",3,"click"],[1,"btn","btn-secondary",3,"click"],[1,"bi","bi-x-circle"],["type","number","min","1",1,"form-control","form-control-sm",2,"width","80px",3,"ngModelChange","change","ngModel"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"bi","bi-trash"],["role","alert",1,"alert","alert-success"],[1,"badge","rounded-pill",3,"ngClass"],[1,"btn","btn-outline-success","btn-sm","me-1",3,"click"],[1,"bi","bi-check"],[1,"text-danger"]],template:function(e,r){if(e&1){let n=Je();c(0,"section",7)(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11)(5,"div",12)(6,"div",13)(7,"div",14)(8,"h4",15),p(9,"Compra de Servicios"),l()(),c(10,"div",16)(11,"button",17),H("click",function(){return N(n),D(r.volverACompras())}),Ee(12,"i",18),p(13," Volver "),l(),c(14,"button",19),Ee(15,"i",20),p(16," Crear Servicio "),l()()(),c(17,"div")(18,"div",21)(19,"input",22),pe("ngModelChange",function(a){return N(n),ue(r.textoBusqueda,a)||(r.textoBusqueda=a),D(a)}),H("input",function(){return N(n),D(r.filtrarServicios())}),l()(),c(20,"div",23)(21,"table",24)(22,"thead",25)(23,"tr")(24,"th"),p(25,"C\xF3d. Servicio"),l(),c(26,"th"),p(27,"Nombre"),l(),c(28,"th"),p(29,"Duraci\xF3n"),l(),c(30,"th"),p(31,"Precio Unitario"),l(),c(32,"th",26),p(33,"Acciones"),l()()(),c(34,"tbody"),B(35,fI,14,6,"tr",27),l()()(),c(36,"div",28)(37,"button",29),H("click",function(){return N(n),D(r.cambiarPaginaServicios("previous"))}),p(38," \u2190 Anterior "),l(),c(39,"span"),p(40),l(),c(41,"button",29),H("click",function(){return N(n),D(r.cambiarPaginaServicios("next"))}),p(42," Siguiente \u2192 "),l()()(),B(43,mI,4,0,"div",30)(44,gI,37,4,"div",31),l()()()()()(),c(45,"div",32)(46,"div",33)(47,"div",34)(48,"div",35)(49,"h5",36),p(50," Seleccione un Proveedor "),l(),Ee(51,"button",37),l(),c(52,"div",38)(53,"div",39)(54,"div",21)(55,"input",40),pe("ngModelChange",function(a){return N(n),ue(r.textoBusqueda,a)||(r.textoBusqueda=a),D(a)}),H("input",function(){return N(n),D(r.filtrarProveedores())}),l()(),B(56,vI,2,1,"div",41),c(57,"div",23)(58,"table",24)(59,"thead",25)(60,"tr")(61,"th"),p(62,"ID"),l(),c(63,"th"),p(64,"Proveedor"),l(),c(65,"th"),p(66,"Tipo"),l(),c(67,"th",26),p(68,"Acciones"),l()()(),c(69,"tbody"),B(70,_I,12,9,"tr",27),l()()(),c(71,"div",28)(72,"button",29),H("click",function(){return N(n),D(r.cambiarPaginaProveedores("previous"))}),p(73," \u2190 Anterior "),l(),c(74,"span"),p(75),l(),c(76,"button",29),H("click",function(){return N(n),D(r.cambiarPaginaProveedores("next"))}),p(77," Siguiente \u2192 "),l()()()(),c(78,"div",42)(79,"button",43),Ee(80,"i",44),p(81," Cancelar "),l(),c(82,"button",45),H("click",function(){return N(n),D(r.proveedorConfirmado())}),Ee(83,"i",46),p(84," Confirmar "),l()()()()(),c(85,"div",47,0)(87,"div",33)(88,"div",34)(89,"form",48,1),H("ngSubmit",function(){N(n);let a=ae(90);return D(r.validarYCrearServicio(a))}),c(91,"div",35)(92,"h1",49),p(93," Registrar Servicio "),l(),c(94,"button",50),H("click",function(){N(n);let a=ae(90);return D(r.limpiarFormularioServicio(a))}),l()(),c(95,"div",38)(96,"div",21)(97,"label",51),p(98,"C\xF3digo de Servicio"),l(),c(99,"input",52,2),pe("ngModelChange",function(a){return N(n),ue(r.nuevoServicio.codigoServicio,a)||(r.nuevoServicio.codigoServicio=a),D(a)}),l(),B(101,bI,2,0,"div",53),l(),c(102,"div",21)(103,"label",54),p(104,"Nombre"),l(),c(105,"input",55,3),pe("ngModelChange",function(a){return N(n),ue(r.nuevoServicio.nombre,a)||(r.nuevoServicio.nombre=a),D(a)}),l(),B(107,xI,2,0,"div",53),l(),c(108,"div",21)(109,"label",56),p(110,"Descripci\xF3n"),l(),c(111,"textarea",57,4),pe("ngModelChange",function(a){return N(n),ue(r.nuevoServicio.descripcion,a)||(r.nuevoServicio.descripcion=a),D(a)}),l(),B(113,yI,2,0,"div",53),l(),c(114,"div",21)(115,"label",58),p(116,"Precio Unitario"),l(),c(117,"input",59,5),pe("ngModelChange",function(a){return N(n),ue(r.nuevoServicio.precioUnitario,a)||(r.nuevoServicio.precioUnitario=a),D(a)}),l(),B(119,CI,2,0,"div",53),l(),c(120,"div",21)(121,"label",60),p(122,"Duracion Estimada (d\xEDas)"),l(),c(123,"input",61,6),pe("ngModelChange",function(a){return N(n),ue(r.nuevoServicio.duracionEstimada,a)||(r.nuevoServicio.duracionEstimada=a),D(a)}),l(),B(125,wI,2,0,"div",53),l()(),c(126,"div",42)(127,"button",62),H("click",function(){N(n);let a=ae(90);return D(r.limpiarFormularioServicio(a))}),p(128," Cancelar "),l(),c(129,"button",63),p(130,"Guardar"),l()()()()()()}if(e&2){let n=ae(100),o=ae(106),a=ae(112),d=ae(118),u=ae(124);g(19),de("ngModel",r.textoBusqueda),g(16),M("ngForOf",r.serviciosFiltrados),g(2),M("disabled",r.paginaActual===1),g(3),Di("P\xE1gina ",r.paginaActual," de ",r.totalPaginas,""),g(),M("disabled",r.paginaActual===r.totalPaginas),g(2),M("ngIf",r.carrito.length>0),g(),M("ngIf",r.carrito.length>0),g(11),de("ngModel",r.textoBusqueda),g(),M("ngIf",r.proveedorID!=null),g(14),M("ngForOf",r.proveedoresFiltrados),g(2),M("disabled",r.paginaActual===1),g(3),Di("P\xE1gina ",r.paginaActual," de ",r.totalPaginas,""),g(),M("disabled",r.paginaActual===r.totalPaginas),g(23),de("ngModel",r.nuevoServicio.codigoServicio),g(2),M("ngIf",n.invalid&&n.touched),g(4),de("ngModel",r.nuevoServicio.nombre),g(2),M("ngIf",o.invalid&&o.touched),g(4),de("ngModel",r.nuevoServicio.descripcion),g(2),M("ngIf",a.invalid&&a.touched),g(4),de("ngModel",r.nuevoServicio.precioUnitario),g(2),M("ngIf",d.invalid&&d.touched),g(4),de("ngModel",r.nuevoServicio.duracionEstimada),g(2),M("ngIf",u.invalid&&u.touched)}},dependencies:[ct,Rn,Bt,yt,Gs,ea,ji,Mt,Qt,kt,Qi,Pt,Jt,ri,yr,Tt,ei]})};var Ep={};Ep.version="0.18.5";var Fd=1200,H0=1252,SI=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],EI={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},Ly=function(i){SI.indexOf(i)!=-1&&(H0=EI[0]=i)};function PI(){Ly(1252)}var Pp=function(i){Fd=i,Ly(i)};function MI(){Pp(1200),PI()}function TI(i){for(var t=[],e=0;e<i.length>>1;++e)t[e]=String.fromCharCode(i.charCodeAt(2*e+1)+(i.charCodeAt(2*e)<<8));return t.join("")}var ih=function(t){return String.fromCharCode(t)},Zx=function(t){return String.fromCharCode(t)},Dr;var Qs=null,vp=!0,Fc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Mp(i){for(var t="",e=0,r=0,n=0,o=0,a=0,d=0,u=0,m=0;m<i.length;)e=i.charCodeAt(m++),o=e>>2,r=i.charCodeAt(m++),a=(e&3)<<4|r>>4,n=i.charCodeAt(m++),d=(r&15)<<2|n>>6,u=n&63,isNaN(r)?d=u=64:isNaN(n)&&(u=64),t+=Fc.charAt(o)+Fc.charAt(a)+Fc.charAt(d)+Fc.charAt(u);return t}function Il(i){var t="",e=0,r=0,n=0,o=0,a=0,d=0,u=0;i=i.replace(/[^\w\+\/\=]/g,"");for(var m=0;m<i.length;)o=Fc.indexOf(i.charAt(m++)),a=Fc.indexOf(i.charAt(m++)),e=o<<2|a>>4,t+=String.fromCharCode(e),d=Fc.indexOf(i.charAt(m++)),r=(a&15)<<4|d>>2,d!==64&&(t+=String.fromCharCode(r)),u=Fc.indexOf(i.charAt(m++)),n=(d&3)<<6|u,u!==64&&(t+=String.fromCharCode(n));return t}var ur=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Fl=function(){if(typeof Buffer<"u"){var i=!Buffer.from;if(!i)try{Buffer.from("foo","utf8")}catch{i=!0}return i?function(t,e){return e?new Buffer(t,e):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Ld(i){return ur?Buffer.alloc?Buffer.alloc(i):new Buffer(i):typeof Uint8Array<"u"?new Uint8Array(i):new Array(i)}function Yx(i){return ur?Buffer.allocUnsafe?Buffer.allocUnsafe(i):new Buffer(i):typeof Uint8Array<"u"?new Uint8Array(i):new Array(i)}var xs=function(t){return ur?Fl(t,"binary"):t.split("").map(function(e){return e.charCodeAt(0)&255})};function Sh(i){if(typeof ArrayBuffer>"u")return xs(i);for(var t=new ArrayBuffer(i.length),e=new Uint8Array(t),r=0;r!=i.length;++r)e[r]=i.charCodeAt(r)&255;return t}function Op(i){if(Array.isArray(i))return i.map(function(r){return String.fromCharCode(r)}).join("");for(var t=[],e=0;e<i.length;++e)t[e]=String.fromCharCode(i[e]);return t.join("")}function kI(i){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(i)}var to=ur?function(i){return Buffer.concat(i.map(function(t){return Buffer.isBuffer(t)?t:Fl(t)}))}:function(i){if(typeof Uint8Array<"u"){var t=0,e=0;for(t=0;t<i.length;++t)e+=i[t].length;var r=new Uint8Array(e),n=0;for(t=0,e=0;t<i.length;e+=n,++t)if(n=i[t].length,i[t]instanceof Uint8Array)r.set(i[t],e);else{if(typeof i[t]=="string")throw"wtf";r.set(new Uint8Array(i[t]),e)}return r}return[].concat.apply([],i.map(function(o){return Array.isArray(o)?o:[].slice.call(o)}))};function AI(i){for(var t=[],e=0,r=i.length+250,n=Ld(i.length+255),o=0;o<i.length;++o){var a=i.charCodeAt(o);if(a<128)n[e++]=a;else if(a<2048)n[e++]=192|a>>6&31,n[e++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var d=i.charCodeAt(++o)&1023;n[e++]=240|a>>8&7,n[e++]=128|a>>2&63,n[e++]=128|d>>6&15|(a&3)<<4,n[e++]=128|d&63}else n[e++]=224|a>>12&15,n[e++]=128|a>>6&63,n[e++]=128|a&63;e>r&&(t.push(n.slice(0,e)),e=0,n=Ld(65535),r=65530)}return t.push(n.slice(0,e)),to(t)}var V0=/\u0000/g,rh=/[\u0001-\u0006]/g;function q0(i){for(var t="",e=i.length-1;e>=0;)t+=i.charAt(e--);return t}function ys(i,t){var e=""+i;return e.length>=t?e:dn("0",t-e.length)+e}function wv(i,t){var e=""+i;return e.length>=t?e:dn(" ",t-e.length)+e}function uh(i,t){var e=""+i;return e.length>=t?e:e+dn(" ",t-e.length)}function II(i,t){var e=""+Math.round(i);return e.length>=t?e:dn("0",t-e.length)+e}function OI(i,t){var e=""+i;return e.length>=t?e:dn("0",t-e.length)+e}var Kx=Math.pow(2,32);function L0(i,t){if(i>Kx||i<-Kx)return II(i,t);var e=Math.round(i);return OI(e,t)}function ph(i,t){return t=t||0,i.length>=7+t&&(i.charCodeAt(t)|32)===103&&(i.charCodeAt(t+1)|32)===101&&(i.charCodeAt(t+2)|32)===110&&(i.charCodeAt(t+3)|32)===101&&(i.charCodeAt(t+4)|32)===114&&(i.charCodeAt(t+5)|32)===97&&(i.charCodeAt(t+6)|32)===108}var Jx=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],uv=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function FI(i){return i||(i={}),i[0]="General",i[1]="0",i[2]="0.00",i[3]="#,##0",i[4]="#,##0.00",i[9]="0%",i[10]="0.00%",i[11]="0.00E+00",i[12]="# ?/?",i[13]="# ??/??",i[14]="m/d/yy",i[15]="d-mmm-yy",i[16]="d-mmm",i[17]="mmm-yy",i[18]="h:mm AM/PM",i[19]="h:mm:ss AM/PM",i[20]="h:mm",i[21]="h:mm:ss",i[22]="m/d/yy h:mm",i[37]="#,##0 ;(#,##0)",i[38]="#,##0 ;[Red](#,##0)",i[39]="#,##0.00;(#,##0.00)",i[40]="#,##0.00;[Red](#,##0.00)",i[45]="mm:ss",i[46]="[h]:mm:ss",i[47]="mmss.0",i[48]="##0.0E+0",i[49]="@",i[56]='"\u4E0A\u5348/\u4E0B\u5348 "hh"\u6642"mm"\u5206"ss"\u79D2 "',i}var un={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4E0A\u5348/\u4E0B\u5348 "hh"\u6642"mm"\u5206"ss"\u79D2 "'},Qx={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},NI={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function fh(i,t,e){for(var r=i<0?-1:1,n=i*r,o=0,a=1,d=0,u=1,m=0,v=0,y=Math.floor(n);m<t&&(y=Math.floor(n),d=y*a+o,v=y*m+u,!(n-y<5e-8));)n=1/(n-y),o=a,a=d,u=m,m=v;if(v>t&&(m>t?(v=u,d=o):(v=m,d=a)),!e)return[0,r*d,v];var w=Math.floor(r*d/v);return[w,r*d-w*v,v]}function nh(i,t,e){if(i>2958465||i<0)return null;var r=i|0,n=Math.floor(86400*(i-r)),o=0,a=[],d={D:r,T:n,u:86400*(i-r)-n,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(d.u)<1e-6&&(d.u=0),t&&t.date1904&&(r+=1462),d.u>.9999&&(d.u=0,++n==86400&&(d.T=n=0,++r,++d.D)),r===60)a=e?[1317,10,29]:[1900,2,29],o=3;else if(r===0)a=e?[1317,8,29]:[1900,1,0],o=6;else{r>60&&--r;var u=new Date(1900,0,1);u.setDate(u.getDate()+r-1),a=[u.getFullYear(),u.getMonth()+1,u.getDate()],o=u.getDay(),r<60&&(o=(o+6)%7),e&&(o=qI(u,a))}return d.y=a[0],d.m=a[1],d.d=a[2],d.S=n%60,n=Math.floor(n/60),d.M=n%60,n=Math.floor(n/60),d.H=n,d.q=o,d}var Dy=new Date(1899,11,31,0,0,0),LI=Dy.getTime(),DI=new Date(1900,2,1,0,0,0);function Ry(i,t){var e=i.getTime();return t?e-=1461*24*60*60*1e3:i>=DI&&(e+=24*60*60*1e3),(e-(LI+(i.getTimezoneOffset()-Dy.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function Sv(i){return i.indexOf(".")==-1?i:i.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function RI(i){return i.indexOf("E")==-1?i:i.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function BI(i){var t=i<0?12:11,e=Sv(i.toFixed(12));return e.length<=t||(e=i.toPrecision(10),e.length<=t)?e:i.toExponential(5)}function UI(i){var t=Sv(i.toFixed(11));return t.length>(i<0?12:11)||t==="0"||t==="-0"?i.toPrecision(6):t}function VI(i){var t=Math.floor(Math.log(Math.abs(i))*Math.LOG10E),e;return t>=-4&&t<=-1?e=i.toPrecision(10+t):Math.abs(t)<=9?e=BI(i):t===10?e=i.toFixed(10).substr(0,12):e=UI(i),Sv(RI(e.toUpperCase()))}function bv(i,t){switch(typeof i){case"string":return i;case"boolean":return i?"TRUE":"FALSE";case"number":return(i|0)===i?i.toString(10):VI(i);case"undefined":return"";case"object":if(i==null)return"";if(i instanceof Date)return Lc(14,Ry(i,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+i)}function qI(i,t){t[0]-=581;var e=i.getDay();return i<60&&(e=(e+6)%7),e}function jI(i,t,e,r){var n="",o=0,a=0,d=e.y,u,m=0;switch(i){case 98:d=e.y+543;case 121:switch(t.length){case 1:case 2:u=d%100,m=2;break;default:u=d%1e4,m=4;break}break;case 109:switch(t.length){case 1:case 2:u=e.m,m=t.length;break;case 3:return uv[e.m-1][1];case 5:return uv[e.m-1][0];default:return uv[e.m-1][2]}break;case 100:switch(t.length){case 1:case 2:u=e.d,m=t.length;break;case 3:return Jx[e.q][0];default:return Jx[e.q][1]}break;case 104:switch(t.length){case 1:case 2:u=1+(e.H+11)%12,m=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:u=e.H,m=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:u=e.M,m=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return e.u===0&&(t=="s"||t=="ss")?ys(e.S,t.length):(r>=2?a=r===3?1e3:100:a=r===1?10:1,o=Math.round(a*(e.S+e.u)),o>=60*a&&(o=0),t==="s"?o===0?"0":""+o/a:(n=ys(o,2+r),t==="ss"?n.substr(0,2):"."+n.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":u=e.D*24+e.H;break;case"[m]":case"[mm]":u=(e.D*24+e.H)*60+e.M;break;case"[s]":case"[ss]":u=((e.D*24+e.H)*60+e.M)*60+Math.round(e.S+e.u);break;default:throw"bad abstime format: "+t}m=t.length===3?1:2;break;case 101:u=d,m=1;break}var v=m>0?ys(u,m):"";return v}function Nc(i){var t=3;if(i.length<=t)return i;for(var e=i.length%t,r=i.substr(0,e);e!=i.length;e+=t)r+=(r.length>0?",":"")+i.substr(e,t);return r}var By=/%/g;function zI(i,t,e){var r=t.replace(By,""),n=t.length-r.length;return Tl(i,r,e*Math.pow(10,2*n))+dn("%",n)}function WI(i,t,e){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return Tl(i,t.substr(0,r),e/Math.pow(10,3*(t.length-r)))}function Uy(i,t){var e,r=i.indexOf("E")-i.indexOf(".")-1;if(i.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Uy(i,-t);var n=i.indexOf(".");n===-1&&(n=i.indexOf("E"));var o=Math.floor(Math.log(t)*Math.LOG10E)%n;if(o<0&&(o+=n),e=(t/Math.pow(10,o)).toPrecision(r+1+(n+o)%n),e.indexOf("e")===-1){var a=Math.floor(Math.log(t)*Math.LOG10E);for(e.indexOf(".")===-1?e=e.charAt(0)+"."+e.substr(1)+"E+"+(a-e.length+o):e+="E+"+(a-o);e.substr(0,2)==="0.";)e=e.charAt(0)+e.substr(2,n)+"."+e.substr(2+n),e=e.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");e=e.replace(/\+-/,"-")}e=e.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(d,u,m,v){return u+m+v.substr(0,(n+o)%n)+"."+v.substr(o)+"E"})}else e=t.toExponential(r);return i.match(/E\+00$/)&&e.match(/e[+-]\d$/)&&(e=e.substr(0,e.length-1)+"0"+e.charAt(e.length-1)),i.match(/E\-/)&&e.match(/e\+/)&&(e=e.replace(/e\+/,"e")),e.replace("e","E")}var Vy=/# (\?+)( ?)\/( ?)(\d+)/;function HI(i,t,e){var r=parseInt(i[4],10),n=Math.round(t*r),o=Math.floor(n/r),a=n-o*r,d=r;return e+(o===0?"":""+o)+" "+(a===0?dn(" ",i[1].length+1+i[4].length):wv(a,i[1].length)+i[2]+"/"+i[3]+ys(d,i[4].length))}function GI(i,t,e){return e+(t===0?"":""+t)+dn(" ",i[1].length+2+i[4].length)}var qy=/^#*0*\.([0#]+)/,jy=/\).*[0#]/,zy=/\(###\) ###\\?-####/;function Ro(i){for(var t="",e,r=0;r!=i.length;++r)switch(e=i.charCodeAt(r)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(e)}return t}function ey(i,t){var e=Math.pow(10,t);return""+Math.round(i*e)/e}function ty(i,t){var e=i-Math.floor(i),r=Math.pow(10,t);return t<(""+Math.round(e*r)).length?0:Math.round(e*r)}function $I(i,t){return t<(""+Math.round((i-Math.floor(i))*Math.pow(10,t))).length?1:0}function XI(i){return i<2147483647&&i>-2147483648?""+(i>=0?i|0:i-1|0):""+Math.floor(i)}function Ya(i,t,e){if(i.charCodeAt(0)===40&&!t.match(jy)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return e>=0?Ya("n",r,e):"("+Ya("n",r,-e)+")"}if(t.charCodeAt(t.length-1)===44)return WI(i,t,e);if(t.indexOf("%")!==-1)return zI(i,t,e);if(t.indexOf("E")!==-1)return Uy(t,e);if(t.charCodeAt(0)===36)return"$"+Ya(i,t.substr(t.charAt(1)==" "?2:1),e);var n,o,a,d,u=Math.abs(e),m=e<0?"-":"";if(t.match(/^00+$/))return m+L0(u,t.length);if(t.match(/^[#?]+$/))return n=L0(e,0),n==="0"&&(n=""),n.length>t.length?n:Ro(t.substr(0,t.length-n.length))+n;if(o=t.match(Vy))return HI(o,u,m);if(t.match(/^#+0+$/))return m+L0(u,t.length-t.indexOf("0"));if(o=t.match(qy))return n=ey(e,o[1].length).replace(/^([^\.]+)$/,"$1."+Ro(o[1])).replace(/\.$/,"."+Ro(o[1])).replace(/\.(\d*)$/,function(T,E){return"."+E+dn("0",Ro(o[1]).length-E.length)}),t.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),o=t.match(/^(0*)\.(#*)$/))return m+ey(u,o[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=t.match(/^#{1,3},##0(\.?)$/))return m+Nc(L0(u,0));if(o=t.match(/^#,##0\.([#0]*0)$/))return e<0?"-"+Ya(i,t,-e):Nc(""+(Math.floor(e)+$I(e,o[1].length)))+"."+ys(ty(e,o[1].length),o[1].length);if(o=t.match(/^#,#*,#0/))return Ya(i,t.replace(/^#,#*,/,""),e);if(o=t.match(/^([0#]+)(\\?-([0#]+))+$/))return n=q0(Ya(i,t.replace(/[\\-]/g,""),e)),a=0,q0(q0(t.replace(/\\/g,"")).replace(/[0#]/g,function(T){return a<n.length?n.charAt(a++):T==="0"?"0":""}));if(t.match(zy))return n=Ya(i,"##########",e),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var v="";if(o=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(o[4].length,7),d=fh(u,Math.pow(10,a)-1,!1),n=""+m,v=Tl("n",o[1],d[1]),v.charAt(v.length-1)==" "&&(v=v.substr(0,v.length-1)+"0"),n+=v+o[2]+"/"+o[3],v=uh(d[2],a),v.length<o[4].length&&(v=Ro(o[4].substr(o[4].length-v.length))+v),n+=v,n;if(o=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(o[1].length,o[4].length),7),d=fh(u,Math.pow(10,a)-1,!0),m+(d[0]||(d[1]?"":"0"))+" "+(d[1]?wv(d[1],a)+o[2]+"/"+o[3]+uh(d[2],a):dn(" ",2*a+1+o[2].length+o[3].length));if(o=t.match(/^[#0?]+$/))return n=L0(e,0),t.length<=n.length?n:Ro(t.substr(0,t.length-n.length))+n;if(o=t.match(/^([#0?]+)\.([#0]+)$/)){n=""+e.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),a=n.indexOf(".");var y=t.indexOf(".")-a,w=t.length-n.length-y;return Ro(t.substr(0,y)+n+t.substr(t.length-w))}if(o=t.match(/^00,000\.([#0]*0)$/))return a=ty(e,o[1].length),e<0?"-"+Ya(i,t,-e):Nc(XI(e)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(T){return"00,"+(T.length<3?ys(0,3-T.length):"")+T})+"."+ys(a,o[1].length);switch(t){case"###,##0.00":return Ya(i,"#,##0.00",e);case"###,###":case"##,###":case"#,###":var x=Nc(L0(u,0));return x!=="0"?m+x:"";case"###,###.00":return Ya(i,"###,##0.00",e).replace(/^0\./,".");case"#,###.00":return Ya(i,"#,##0.00",e).replace(/^0\./,".");default:}throw new Error("unsupported format |"+t+"|")}function ZI(i,t,e){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return Tl(i,t.substr(0,r),e/Math.pow(10,3*(t.length-r)))}function YI(i,t,e){var r=t.replace(By,""),n=t.length-r.length;return Tl(i,r,e*Math.pow(10,2*n))+dn("%",n)}function Wy(i,t){var e,r=i.indexOf("E")-i.indexOf(".")-1;if(i.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Wy(i,-t);var n=i.indexOf(".");n===-1&&(n=i.indexOf("E"));var o=Math.floor(Math.log(t)*Math.LOG10E)%n;if(o<0&&(o+=n),e=(t/Math.pow(10,o)).toPrecision(r+1+(n+o)%n),!e.match(/[Ee]/)){var a=Math.floor(Math.log(t)*Math.LOG10E);e.indexOf(".")===-1?e=e.charAt(0)+"."+e.substr(1)+"E+"+(a-e.length+o):e+="E+"+(a-o),e=e.replace(/\+-/,"-")}e=e.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(d,u,m,v){return u+m+v.substr(0,(n+o)%n)+"."+v.substr(o)+"E"})}else e=t.toExponential(r);return i.match(/E\+00$/)&&e.match(/e[+-]\d$/)&&(e=e.substr(0,e.length-1)+"0"+e.charAt(e.length-1)),i.match(/E\-/)&&e.match(/e\+/)&&(e=e.replace(/e\+/,"e")),e.replace("e","E")}function Ks(i,t,e){if(i.charCodeAt(0)===40&&!t.match(jy)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return e>=0?Ks("n",r,e):"("+Ks("n",r,-e)+")"}if(t.charCodeAt(t.length-1)===44)return ZI(i,t,e);if(t.indexOf("%")!==-1)return YI(i,t,e);if(t.indexOf("E")!==-1)return Wy(t,e);if(t.charCodeAt(0)===36)return"$"+Ks(i,t.substr(t.charAt(1)==" "?2:1),e);var n,o,a,d,u=Math.abs(e),m=e<0?"-":"";if(t.match(/^00+$/))return m+ys(u,t.length);if(t.match(/^[#?]+$/))return n=""+e,e===0&&(n=""),n.length>t.length?n:Ro(t.substr(0,t.length-n.length))+n;if(o=t.match(Vy))return GI(o,u,m);if(t.match(/^#+0+$/))return m+ys(u,t.length-t.indexOf("0"));if(o=t.match(qy))return n=(""+e).replace(/^([^\.]+)$/,"$1."+Ro(o[1])).replace(/\.$/,"."+Ro(o[1])),n=n.replace(/\.(\d*)$/,function(T,E){return"."+E+dn("0",Ro(o[1]).length-E.length)}),t.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),o=t.match(/^(0*)\.(#*)$/))return m+(""+u).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=t.match(/^#{1,3},##0(\.?)$/))return m+Nc(""+u);if(o=t.match(/^#,##0\.([#0]*0)$/))return e<0?"-"+Ks(i,t,-e):Nc(""+e)+"."+dn("0",o[1].length);if(o=t.match(/^#,#*,#0/))return Ks(i,t.replace(/^#,#*,/,""),e);if(o=t.match(/^([0#]+)(\\?-([0#]+))+$/))return n=q0(Ks(i,t.replace(/[\\-]/g,""),e)),a=0,q0(q0(t.replace(/\\/g,"")).replace(/[0#]/g,function(T){return a<n.length?n.charAt(a++):T==="0"?"0":""}));if(t.match(zy))return n=Ks(i,"##########",e),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var v="";if(o=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(o[4].length,7),d=fh(u,Math.pow(10,a)-1,!1),n=""+m,v=Tl("n",o[1],d[1]),v.charAt(v.length-1)==" "&&(v=v.substr(0,v.length-1)+"0"),n+=v+o[2]+"/"+o[3],v=uh(d[2],a),v.length<o[4].length&&(v=Ro(o[4].substr(o[4].length-v.length))+v),n+=v,n;if(o=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(o[1].length,o[4].length),7),d=fh(u,Math.pow(10,a)-1,!0),m+(d[0]||(d[1]?"":"0"))+" "+(d[1]?wv(d[1],a)+o[2]+"/"+o[3]+uh(d[2],a):dn(" ",2*a+1+o[2].length+o[3].length));if(o=t.match(/^[#0?]+$/))return n=""+e,t.length<=n.length?n:Ro(t.substr(0,t.length-n.length))+n;if(o=t.match(/^([#0]+)\.([#0]+)$/)){n=""+e.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),a=n.indexOf(".");var y=t.indexOf(".")-a,w=t.length-n.length-y;return Ro(t.substr(0,y)+n+t.substr(t.length-w))}if(o=t.match(/^00,000\.([#0]*0)$/))return e<0?"-"+Ks(i,t,-e):Nc(""+e).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(T){return"00,"+(T.length<3?ys(0,3-T.length):"")+T})+"."+ys(0,o[1].length);switch(t){case"###,###":case"##,###":case"#,###":var x=Nc(""+u);return x!=="0"?m+x:"";default:if(t.match(/\.[0#?]*$/))return Ks(i,t.slice(0,t.lastIndexOf(".")),e)+Ro(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Tl(i,t,e){return(e|0)===e?Ks(i,t,e):Ya(i,t,e)}function KI(i){for(var t=[],e=!1,r=0,n=0;r<i.length;++r)switch(i.charCodeAt(r)){case 34:e=!e;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=i.substr(n,r-n),n=r+1}if(t[t.length]=i.substr(n),e===!0)throw new Error("Format |"+i+"| unterminated string ");return t}var Hy=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Gy(i){for(var t=0,e="",r="";t<i.length;)switch(e=i.charAt(t)){case"G":ph(i,t)&&(t+=6),t++;break;case'"':for(;i.charCodeAt(++t)!==34&&t<i.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(i.charAt(t+1)==="1"||i.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4E0A":if(i.substr(t,3).toUpperCase()==="A/P"||i.substr(t,5).toUpperCase()==="AM/PM"||i.substr(t,5).toUpperCase()==="\u4E0A\u5348/\u4E0B\u5348")return!0;++t;break;case"[":for(r=e;i.charAt(t++)!=="]"&&t<i.length;)r+=i.charAt(t);if(r.match(Hy))return!0;break;case".":case"0":case"#":for(;t<i.length&&("0#?.,E+-%".indexOf(e=i.charAt(++t))>-1||e=="\\"&&i.charAt(t+1)=="-"&&"0#".indexOf(i.charAt(t+2))>-1););break;case"?":for(;i.charAt(++t)===e;);break;case"*":++t,(i.charAt(t)==" "||i.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<i.length&&"0123456789".indexOf(i.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function JI(i,t,e,r){for(var n=[],o="",a=0,d="",u="t",m,v,y,w="H";a<i.length;)switch(d=i.charAt(a)){case"G":if(!ph(i,a))throw new Error("unrecognized character "+d+" in "+i);n[n.length]={t:"G",v:"General"},a+=7;break;case'"':for(o="";(y=i.charCodeAt(++a))!==34&&a<i.length;)o+=String.fromCharCode(y);n[n.length]={t:"t",v:o},++a;break;case"\\":var x=i.charAt(++a),T=x==="("||x===")"?x:"t";n[n.length]={t:T,v:x},++a;break;case"_":n[n.length]={t:"t",v:" "},a+=2;break;case"@":n[n.length]={t:"T",v:t},++a;break;case"B":case"b":if(i.charAt(a+1)==="1"||i.charAt(a+1)==="2"){if(m==null&&(m=nh(t,e,i.charAt(a+1)==="2"),m==null))return"";n[n.length]={t:"X",v:i.substr(a,2)},u=d,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":d=d.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||m==null&&(m=nh(t,e),m==null))return"";for(o=d;++a<i.length&&i.charAt(a).toLowerCase()===d;)o+=d;d==="m"&&u.toLowerCase()==="h"&&(d="M"),d==="h"&&(d=w),n[n.length]={t:d,v:o},u=d;break;case"A":case"a":case"\u4E0A":var E={t:d,v:d};if(m==null&&(m=nh(t,e)),i.substr(a,3).toUpperCase()==="A/P"?(m!=null&&(E.v=m.H>=12?"P":"A"),E.t="T",w="h",a+=3):i.substr(a,5).toUpperCase()==="AM/PM"?(m!=null&&(E.v=m.H>=12?"PM":"AM"),E.t="T",a+=5,w="h"):i.substr(a,5).toUpperCase()==="\u4E0A\u5348/\u4E0B\u5348"?(m!=null&&(E.v=m.H>=12?"\u4E0B\u5348":"\u4E0A\u5348"),E.t="T",a+=5,w="h"):(E.t="t",++a),m==null&&E.t==="T")return"";n[n.length]=E,u=d;break;case"[":for(o=d;i.charAt(a++)!=="]"&&a<i.length;)o+=i.charAt(a);if(o.slice(-1)!=="]")throw'unterminated "[" block: |'+o+"|";if(o.match(Hy)){if(m==null&&(m=nh(t,e),m==null))return"";n[n.length]={t:"Z",v:o.toLowerCase()},u=o.charAt(1)}else o.indexOf("$")>-1&&(o=(o.match(/\$([^-\[\]]*)/)||[])[1]||"$",Gy(i)||(n[n.length]={t:"t",v:o}));break;case".":if(m!=null){for(o=d;++a<i.length&&(d=i.charAt(a))==="0";)o+=d;n[n.length]={t:"s",v:o};break}case"0":case"#":for(o=d;++a<i.length&&"0#?.,E+-%".indexOf(d=i.charAt(a))>-1;)o+=d;n[n.length]={t:"n",v:o};break;case"?":for(o=d;i.charAt(++a)===d;)o+=d;n[n.length]={t:d,v:o},u=d;break;case"*":++a,(i.charAt(a)==" "||i.charAt(a)=="*")&&++a;break;case"(":case")":n[n.length]={t:r===1?"t":d,v:d},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(o=d;a<i.length&&"0123456789".indexOf(i.charAt(++a))>-1;)o+=i.charAt(a);n[n.length]={t:"D",v:o};break;case" ":n[n.length]={t:d,v:d},++a;break;case"$":n[n.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=\u20ACacfijklopqrtuvwxzP".indexOf(d)===-1)throw new Error("unrecognized character "+d+" in "+i);n[n.length]={t:"t",v:d},++a;break}var k=0,F=0,U;for(a=n.length-1,u="t";a>=0;--a)switch(n[a].t){case"h":case"H":n[a].t=w,u="h",k<1&&(k=1);break;case"s":(U=n[a].v.match(/\.0+$/))&&(F=Math.max(F,U[0].length-1)),k<3&&(k=3);case"d":case"y":case"M":case"e":u=n[a].t;break;case"m":u==="s"&&(n[a].t="M",k<2&&(k=2));break;case"X":break;case"Z":k<1&&n[a].v.match(/[Hh]/)&&(k=1),k<2&&n[a].v.match(/[Mm]/)&&(k=2),k<3&&n[a].v.match(/[Ss]/)&&(k=3)}switch(k){case 0:break;case 1:m.u>=.5&&(m.u=0,++m.S),m.S>=60&&(m.S=0,++m.M),m.M>=60&&(m.M=0,++m.H);break;case 2:m.u>=.5&&(m.u=0,++m.S),m.S>=60&&(m.S=0,++m.M);break}var Y="",ve;for(a=0;a<n.length;++a)switch(n[a].t){case"t":case"T":case" ":case"D":break;case"X":n[a].v="",n[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":n[a].v=jI(n[a].t.charCodeAt(0),n[a].v,m,F),n[a].t="t";break;case"n":case"?":for(ve=a+1;n[ve]!=null&&((d=n[ve].t)==="?"||d==="D"||(d===" "||d==="t")&&n[ve+1]!=null&&(n[ve+1].t==="?"||n[ve+1].t==="t"&&n[ve+1].v==="/")||n[a].t==="("&&(d===" "||d==="n"||d===")")||d==="t"&&(n[ve].v==="/"||n[ve].v===" "&&n[ve+1]!=null&&n[ve+1].t=="?"));)n[a].v+=n[ve].v,n[ve]={v:"",t:";"},++ve;Y+=n[a].v,a=ve-1;break;case"G":n[a].t="t",n[a].v=bv(t,e);break}var we="",Ue,ne;if(Y.length>0){Y.charCodeAt(0)==40?(Ue=t<0&&Y.charCodeAt(0)===45?-t:t,ne=Tl("n",Y,Ue)):(Ue=t<0&&r>1?-t:t,ne=Tl("n",Y,Ue),Ue<0&&n[0]&&n[0].t=="t"&&(ne=ne.substr(1),n[0].v="-"+n[0].v)),ve=ne.length-1;var re=n.length;for(a=0;a<n.length;++a)if(n[a]!=null&&n[a].t!="t"&&n[a].v.indexOf(".")>-1){re=a;break}var ce=n.length;if(re===n.length&&ne.indexOf("E")===-1){for(a=n.length-1;a>=0;--a)n[a]==null||"n?".indexOf(n[a].t)===-1||(ve>=n[a].v.length-1?(ve-=n[a].v.length,n[a].v=ne.substr(ve+1,n[a].v.length)):ve<0?n[a].v="":(n[a].v=ne.substr(0,ve+1),ve=-1),n[a].t="t",ce=a);ve>=0&&ce<n.length&&(n[ce].v=ne.substr(0,ve+1)+n[ce].v)}else if(re!==n.length&&ne.indexOf("E")===-1){for(ve=ne.indexOf(".")-1,a=re;a>=0;--a)if(!(n[a]==null||"n?".indexOf(n[a].t)===-1)){for(v=n[a].v.indexOf(".")>-1&&a===re?n[a].v.indexOf(".")-1:n[a].v.length-1,we=n[a].v.substr(v+1);v>=0;--v)ve>=0&&(n[a].v.charAt(v)==="0"||n[a].v.charAt(v)==="#")&&(we=ne.charAt(ve--)+we);n[a].v=we,n[a].t="t",ce=a}for(ve>=0&&ce<n.length&&(n[ce].v=ne.substr(0,ve+1)+n[ce].v),ve=ne.indexOf(".")+1,a=re;a<n.length;++a)if(!(n[a]==null||"n?(".indexOf(n[a].t)===-1&&a!==re)){for(v=n[a].v.indexOf(".")>-1&&a===re?n[a].v.indexOf(".")+1:0,we=n[a].v.substr(0,v);v<n[a].v.length;++v)ve<ne.length&&(we+=ne.charAt(ve++));n[a].v=we,n[a].t="t",ce=a}}}for(a=0;a<n.length;++a)n[a]!=null&&"n?".indexOf(n[a].t)>-1&&(Ue=r>1&&t<0&&a>0&&n[a-1].v==="-"?-t:t,n[a].v=Tl(n[a].t,n[a].v,Ue),n[a].t="t");var Ce="";for(a=0;a!==n.length;++a)n[a]!=null&&(Ce+=n[a].v);return Ce}var iy=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function ry(i,t){if(t==null)return!1;var e=parseFloat(t[2]);switch(t[1]){case"=":if(i==e)return!0;break;case">":if(i>e)return!0;break;case"<":if(i<e)return!0;break;case"<>":if(i!=e)return!0;break;case">=":if(i>=e)return!0;break;case"<=":if(i<=e)return!0;break}return!1}function QI(i,t){var e=KI(i),r=e.length,n=e[r-1].indexOf("@");if(r<4&&n>-1&&--r,e.length>4)throw new Error("cannot find right format for |"+e.join("|")+"|");if(typeof t!="number")return[4,e.length===4||n>-1?e[e.length-1]:"@"];switch(e.length){case 1:e=n>-1?["General","General","General",e[0]]:[e[0],e[0],e[0],"@"];break;case 2:e=n>-1?[e[0],e[0],e[0],e[1]]:[e[0],e[1],e[0],"@"];break;case 3:e=n>-1?[e[0],e[1],e[0],e[2]]:[e[0],e[1],e[2],"@"];break;case 4:break}var o=t>0?e[0]:t<0?e[1]:e[2];if(e[0].indexOf("[")===-1&&e[1].indexOf("[")===-1)return[r,o];if(e[0].match(/\[[=<>]/)!=null||e[1].match(/\[[=<>]/)!=null){var a=e[0].match(iy),d=e[1].match(iy);return ry(t,a)?[r,e[0]]:ry(t,d)?[r,e[1]]:[r,e[a!=null&&d!=null?2:1]]}return[r,o]}function Lc(i,t,e){e==null&&(e={});var r="";switch(typeof i){case"string":i=="m/d/yy"&&e.dateNF?r=e.dateNF:r=i;break;case"number":i==14&&e.dateNF?r=e.dateNF:r=(e.table!=null?e.table:un)[i],r==null&&(r=e.table&&e.table[Qx[i]]||un[Qx[i]]),r==null&&(r=NI[i]||"General");break}if(ph(r,0))return bv(t,e);t instanceof Date&&(t=Ry(t,e.date1904));var n=QI(r,t);if(ph(n[1]))return bv(t,e);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return JI(n[1],t,e,n[0])}function $y(i,t){if(typeof t!="number"){t=+t||-1;for(var e=0;e<392;++e){if(un[e]==null){t<0&&(t=e);continue}if(un[e]==i){t=e;break}}t<0&&(t=391)}return un[t]=i,t}function Eh(i){for(var t=0;t!=392;++t)i[t]!==void 0&&$y(i[t],t)}function Ph(){un=FI()}var Xy=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function eO(i){var t=typeof i=="number"?un[i]:i;return t=t.replace(Xy,"(\\d+)"),new RegExp("^"+t+"$")}function tO(i,t,e){var r=-1,n=-1,o=-1,a=-1,d=-1,u=-1;(t.match(Xy)||[]).forEach(function(y,w){var x=parseInt(e[w+1],10);switch(y.toLowerCase().charAt(0)){case"y":r=x;break;case"d":o=x;break;case"h":a=x;break;case"s":u=x;break;case"m":a>=0?d=x:n=x;break}}),u>=0&&d==-1&&n>=0&&(d=n,n=-1);var m=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(n>=1?n:1)).slice(-2)+"-"+("00"+(o>=1?o:1)).slice(-2);m.length==7&&(m="0"+m),m.length==8&&(m="20"+m);var v=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2);return a==-1&&d==-1&&u==-1?m:r==-1&&n==-1&&o==-1?v:m+"T"+v}var iO=function(){var i={};i.version="1.2.0";function t(){for(var ne=0,re=new Array(256),ce=0;ce!=256;++ce)ne=ce,ne=ne&1?-306674912^ne>>>1:ne>>>1,ne=ne&1?-306674912^ne>>>1:ne>>>1,ne=ne&1?-306674912^ne>>>1:ne>>>1,ne=ne&1?-306674912^ne>>>1:ne>>>1,ne=ne&1?-306674912^ne>>>1:ne>>>1,ne=ne&1?-306674912^ne>>>1:ne>>>1,ne=ne&1?-306674912^ne>>>1:ne>>>1,ne=ne&1?-306674912^ne>>>1:ne>>>1,re[ce]=ne;return typeof Int32Array<"u"?new Int32Array(re):re}var e=t();function r(ne){var re=0,ce=0,Ce=0,W=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(Ce=0;Ce!=256;++Ce)W[Ce]=ne[Ce];for(Ce=0;Ce!=256;++Ce)for(ce=ne[Ce],re=256+Ce;re<4096;re+=256)ce=W[re]=ce>>>8^ne[ce&255];var G=[];for(Ce=1;Ce!=16;++Ce)G[Ce-1]=typeof Int32Array<"u"?W.subarray(Ce*256,Ce*256+256):W.slice(Ce*256,Ce*256+256);return G}var n=r(e),o=n[0],a=n[1],d=n[2],u=n[3],m=n[4],v=n[5],y=n[6],w=n[7],x=n[8],T=n[9],E=n[10],k=n[11],F=n[12],U=n[13],Y=n[14];function ve(ne,re){for(var ce=re^-1,Ce=0,W=ne.length;Ce<W;)ce=ce>>>8^e[(ce^ne.charCodeAt(Ce++))&255];return~ce}function we(ne,re){for(var ce=re^-1,Ce=ne.length-15,W=0;W<Ce;)ce=Y[ne[W++]^ce&255]^U[ne[W++]^ce>>8&255]^F[ne[W++]^ce>>16&255]^k[ne[W++]^ce>>>24]^E[ne[W++]]^T[ne[W++]]^x[ne[W++]]^w[ne[W++]]^y[ne[W++]]^v[ne[W++]]^m[ne[W++]]^u[ne[W++]]^d[ne[W++]]^a[ne[W++]]^o[ne[W++]]^e[ne[W++]];for(Ce+=15;W<Ce;)ce=ce>>>8^e[(ce^ne[W++])&255];return~ce}function Ue(ne,re){for(var ce=re^-1,Ce=0,W=ne.length,G=0,xe=0;Ce<W;)G=ne.charCodeAt(Ce++),G<128?ce=ce>>>8^e[(ce^G)&255]:G<2048?(ce=ce>>>8^e[(ce^(192|G>>6&31))&255],ce=ce>>>8^e[(ce^(128|G&63))&255]):G>=55296&&G<57344?(G=(G&1023)+64,xe=ne.charCodeAt(Ce++)&1023,ce=ce>>>8^e[(ce^(240|G>>8&7))&255],ce=ce>>>8^e[(ce^(128|G>>2&63))&255],ce=ce>>>8^e[(ce^(128|xe>>6&15|(G&3)<<4))&255],ce=ce>>>8^e[(ce^(128|xe&63))&255]):(ce=ce>>>8^e[(ce^(224|G>>12&15))&255],ce=ce>>>8^e[(ce^(128|G>>6&63))&255],ce=ce>>>8^e[(ce^(128|G&63))&255]);return~ce}return i.table=e,i.bstr=ve,i.buf=we,i.str=Ue,i}(),Fr=function(){var t={};t.version="1.2.1";function e(X,he){for(var oe=X.split("/"),se=he.split("/"),me=0,ge=0,ze=Math.min(oe.length,se.length);me<ze;++me){if(ge=oe[me].length-se[me].length)return ge;if(oe[me]!=se[me])return oe[me]<se[me]?-1:1}return oe.length-se.length}function r(X){if(X.charAt(X.length-1)=="/")return X.slice(0,-1).indexOf("/")===-1?X:r(X.slice(0,-1));var he=X.lastIndexOf("/");return he===-1?X:X.slice(0,he+1)}function n(X){if(X.charAt(X.length-1)=="/")return n(X.slice(0,-1));var he=X.lastIndexOf("/");return he===-1?X:X.slice(he+1)}function o(X,he){typeof he=="string"&&(he=new Date(he));var oe=he.getHours();oe=oe<<6|he.getMinutes(),oe=oe<<5|he.getSeconds()>>>1,X.write_shift(2,oe);var se=he.getFullYear()-1980;se=se<<4|he.getMonth()+1,se=se<<5|he.getDate(),X.write_shift(2,se)}function a(X){var he=X.read_shift(2)&65535,oe=X.read_shift(2)&65535,se=new Date,me=oe&31;oe>>>=5;var ge=oe&15;oe>>>=4,se.setMilliseconds(0),se.setFullYear(oe+1980),se.setMonth(ge-1),se.setDate(me);var ze=he&31;he>>>=5;var tt=he&63;return he>>>=6,se.setHours(he),se.setMinutes(tt),se.setSeconds(ze<<1),se}function d(X){wa(X,0);for(var he={},oe=0;X.l<=X.length-4;){var se=X.read_shift(2),me=X.read_shift(2),ge=X.l+me,ze={};switch(se){case 21589:oe=X.read_shift(1),oe&1&&(ze.mtime=X.read_shift(4)),me>5&&(oe&2&&(ze.atime=X.read_shift(4)),oe&4&&(ze.ctime=X.read_shift(4))),ze.mtime&&(ze.mt=new Date(ze.mtime*1e3));break}X.l=ge,he[se]=ze}return he}var u;function m(){return u||(u={})}function v(X,he){if(X[0]==80&&X[1]==75)return Mr(X,he);if((X[0]|32)==109&&(X[1]|32)==105)return jo(X,he);if(X.length<512)throw new Error("CFB file size "+X.length+" < 512");var oe=3,se=512,me=0,ge=0,ze=0,tt=0,We=0,He=[],Ze=X.slice(0,512);wa(Ze,0);var Ct=y(Ze);switch(oe=Ct[0],oe){case 3:se=512;break;case 4:se=4096;break;case 0:if(Ct[1]==0)return Mr(X,he);default:throw new Error("Major Version: Expected 3 or 4 saw "+oe)}se!==512&&(Ze=X.slice(0,se),wa(Ze,28));var Ot=X.slice(0,se);w(Ze,oe);var Xt=Ze.read_shift(4,"i");if(oe===3&&Xt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Xt);Ze.l+=4,ze=Ze.read_shift(4,"i"),Ze.l+=4,Ze.chk("00100000","Mini Stream Cutoff Size: "),tt=Ze.read_shift(4,"i"),me=Ze.read_shift(4,"i"),We=Ze.read_shift(4,"i"),ge=Ze.read_shift(4,"i");for(var Nt=-1,Rt=0;Rt<109&&(Nt=Ze.read_shift(4,"i"),!(Nt<0));++Rt)He[Rt]=Nt;var yi=x(X,se);k(We,ge,yi,se,He);var ar=U(yi,ze,He,se);ar[ze].name="!Directory",me>0&&tt!==xe&&(ar[tt].name="!MiniFAT"),ar[He[0]].name="!FAT",ar.fat_addrs=He,ar.ssz=se;var Jr={},fr=[],rn=[],Ma=[];Y(ze,ar,yi,fr,me,Jr,rn,tt),T(rn,Ma,fr),fr.shift();var ao={FileIndex:rn,FullPaths:Ma};return he&&he.raw&&(ao.raw={header:Ot,sectors:yi}),ao}function y(X){if(X[X.l]==80&&X[X.l+1]==75)return[0,0];X.chk(ye,"Header Signature: "),X.l+=16;var he=X.read_shift(2,"u");return[X.read_shift(2,"u"),he]}function w(X,he){var oe=9;switch(X.l+=2,oe=X.read_shift(2)){case 9:if(he!=3)throw new Error("Sector Shift: Expected 9 saw "+oe);break;case 12:if(he!=4)throw new Error("Sector Shift: Expected 12 saw "+oe);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+oe)}X.chk("0600","Mini Sector Shift: "),X.chk("000000000000","Reserved: ")}function x(X,he){for(var oe=Math.ceil(X.length/he)-1,se=[],me=1;me<oe;++me)se[me-1]=X.slice(me*he,(me+1)*he);return se[oe-1]=X.slice(oe*he),se}function T(X,he,oe){for(var se=0,me=0,ge=0,ze=0,tt=0,We=oe.length,He=[],Ze=[];se<We;++se)He[se]=Ze[se]=se,he[se]=oe[se];for(;tt<Ze.length;++tt)se=Ze[tt],me=X[se].L,ge=X[se].R,ze=X[se].C,He[se]===se&&(me!==-1&&He[me]!==me&&(He[se]=He[me]),ge!==-1&&He[ge]!==ge&&(He[se]=He[ge])),ze!==-1&&(He[ze]=se),me!==-1&&se!=He[se]&&(He[me]=He[se],Ze.lastIndexOf(me)<tt&&Ze.push(me)),ge!==-1&&se!=He[se]&&(He[ge]=He[se],Ze.lastIndexOf(ge)<tt&&Ze.push(ge));for(se=1;se<We;++se)He[se]===se&&(ge!==-1&&He[ge]!==ge?He[se]=He[ge]:me!==-1&&He[me]!==me&&(He[se]=He[me]));for(se=1;se<We;++se)if(X[se].type!==0){if(tt=se,tt!=He[tt])do tt=He[tt],he[se]=he[tt]+"/"+he[se];while(tt!==0&&He[tt]!==-1&&tt!=He[tt]);He[se]=-1}for(he[0]+="/",se=1;se<We;++se)X[se].type!==2&&(he[se]+="/")}function E(X,he,oe){for(var se=X.start,me=X.size,ge=[],ze=se;oe&&me>0&&ze>=0;)ge.push(he.slice(ze*G,ze*G+G)),me-=G,ze=Od(oe,ze*4);return ge.length===0?nt(0):to(ge).slice(0,X.size)}function k(X,he,oe,se,me){var ge=xe;if(X===xe){if(he!==0)throw new Error("DIFAT chain shorter than expected")}else if(X!==-1){var ze=oe[X],tt=(se>>>2)-1;if(!ze)return;for(var We=0;We<tt&&(ge=Od(ze,We*4))!==xe;++We)me.push(ge);k(Od(ze,se-4),he-1,oe,se,me)}}function F(X,he,oe,se,me){var ge=[],ze=[];me||(me=[]);var tt=se-1,We=0,He=0;for(We=he;We>=0;){me[We]=!0,ge[ge.length]=We,ze.push(X[We]);var Ze=oe[Math.floor(We*4/se)];if(He=We*4&tt,se<4+He)throw new Error("FAT boundary crossed: "+We+" 4 "+se);if(!X[Ze])break;We=Od(X[Ze],He)}return{nodes:ge,data:uy([ze])}}function U(X,he,oe,se){var me=X.length,ge=[],ze=[],tt=[],We=[],He=se-1,Ze=0,Ct=0,Ot=0,Xt=0;for(Ze=0;Ze<me;++Ze)if(tt=[],Ot=Ze+he,Ot>=me&&(Ot-=me),!ze[Ot]){We=[];var Nt=[];for(Ct=Ot;Ct>=0;){Nt[Ct]=!0,ze[Ct]=!0,tt[tt.length]=Ct,We.push(X[Ct]);var Rt=oe[Math.floor(Ct*4/se)];if(Xt=Ct*4&He,se<4+Xt)throw new Error("FAT boundary crossed: "+Ct+" 4 "+se);if(!X[Rt]||(Ct=Od(X[Rt],Xt),Nt[Ct]))break}ge[Ot]={nodes:tt,data:uy([We])}}return ge}function Y(X,he,oe,se,me,ge,ze,tt){for(var We=0,He=se.length?2:0,Ze=he[X].data,Ct=0,Ot=0,Xt;Ct<Ze.length;Ct+=128){var Nt=Ze.slice(Ct,Ct+128);wa(Nt,64),Ot=Nt.read_shift(2),Xt=kh(Nt,0,Ot-He),se.push(Xt);var Rt={name:Xt,type:Nt.read_shift(1),color:Nt.read_shift(1),L:Nt.read_shift(4,"i"),R:Nt.read_shift(4,"i"),C:Nt.read_shift(4,"i"),clsid:Nt.read_shift(16),state:Nt.read_shift(4,"i"),start:0,size:0},yi=Nt.read_shift(2)+Nt.read_shift(2)+Nt.read_shift(2)+Nt.read_shift(2);yi!==0&&(Rt.ct=ve(Nt,Nt.l-8));var ar=Nt.read_shift(2)+Nt.read_shift(2)+Nt.read_shift(2)+Nt.read_shift(2);ar!==0&&(Rt.mt=ve(Nt,Nt.l-8)),Rt.start=Nt.read_shift(4,"i"),Rt.size=Nt.read_shift(4,"i"),Rt.size<0&&Rt.start<0&&(Rt.size=Rt.type=0,Rt.start=xe,Rt.name=""),Rt.type===5?(We=Rt.start,me>0&&We!==xe&&(he[We].name="!StreamData")):Rt.size>=4096?(Rt.storage="fat",he[Rt.start]===void 0&&(he[Rt.start]=F(oe,Rt.start,he.fat_addrs,he.ssz)),he[Rt.start].name=Rt.name,Rt.content=he[Rt.start].data.slice(0,Rt.size)):(Rt.storage="minifat",Rt.size<0?Rt.size=0:We!==xe&&Rt.start!==xe&&he[We]&&(Rt.content=E(Rt,he[We].data,(he[tt]||{}).data))),Rt.content&&wa(Rt.content,0),ge[Xt]=Rt,ze.push(Rt)}}function ve(X,he){return new Date((qn(X,he+4)/1e7*Math.pow(2,32)+qn(X,he)/1e7-11644473600)*1e3)}function we(X,he){return m(),v(u.readFileSync(X),he)}function Ue(X,he){var oe=he&&he.type;switch(oe||ur&&Buffer.isBuffer(X)&&(oe="buffer"),oe||"base64"){case"file":return we(X,he);case"base64":return v(xs(Il(X)),he);case"binary":return v(xs(X),he)}return v(X,he)}function ne(X,he){var oe=he||{},se=oe.root||"Root Entry";if(X.FullPaths||(X.FullPaths=[]),X.FileIndex||(X.FileIndex=[]),X.FullPaths.length!==X.FileIndex.length)throw new Error("inconsistent CFB structure");X.FullPaths.length===0&&(X.FullPaths[0]=se+"/",X.FileIndex[0]={name:se,type:5}),oe.CLSID&&(X.FileIndex[0].clsid=oe.CLSID),re(X)}function re(X){var he="Sh33tJ5";if(!Fr.find(X,"/"+he)){var oe=nt(4);oe[0]=55,oe[1]=oe[3]=50,oe[2]=54,X.FileIndex.push({name:he,type:2,content:oe,size:4,L:69,R:69,C:69}),X.FullPaths.push(X.FullPaths[0]+he),ce(X)}}function ce(X,he){ne(X);for(var oe=!1,se=!1,me=X.FullPaths.length-1;me>=0;--me){var ge=X.FileIndex[me];switch(ge.type){case 0:se?oe=!0:(X.FileIndex.pop(),X.FullPaths.pop());break;case 1:case 2:case 5:se=!0,isNaN(ge.R*ge.L*ge.C)&&(oe=!0),ge.R>-1&&ge.L>-1&&ge.R==ge.L&&(oe=!0);break;default:oe=!0;break}}if(!(!oe&&!he)){var ze=new Date(1987,1,19),tt=0,We=Object.create?Object.create(null):{},He=[];for(me=0;me<X.FullPaths.length;++me)We[X.FullPaths[me]]=!0,X.FileIndex[me].type!==0&&He.push([X.FullPaths[me],X.FileIndex[me]]);for(me=0;me<He.length;++me){var Ze=r(He[me][0]);se=We[Ze],se||(He.push([Ze,{name:n(Ze).replace("/",""),type:1,clsid:Ie,ct:ze,mt:ze,content:null}]),We[Ze]=!0)}for(He.sort(function(Xt,Nt){return e(Xt[0],Nt[0])}),X.FullPaths=[],X.FileIndex=[],me=0;me<He.length;++me)X.FullPaths[me]=He[me][0],X.FileIndex[me]=He[me][1];for(me=0;me<He.length;++me){var Ct=X.FileIndex[me],Ot=X.FullPaths[me];if(Ct.name=n(Ot).replace("/",""),Ct.L=Ct.R=Ct.C=-(Ct.color=1),Ct.size=Ct.content?Ct.content.length:0,Ct.start=0,Ct.clsid=Ct.clsid||Ie,me===0)Ct.C=He.length>1?1:-1,Ct.size=0,Ct.type=5;else if(Ot.slice(-1)=="/"){for(tt=me+1;tt<He.length&&r(X.FullPaths[tt])!=Ot;++tt);for(Ct.C=tt>=He.length?-1:tt,tt=me+1;tt<He.length&&r(X.FullPaths[tt])!=r(Ot);++tt);Ct.R=tt>=He.length?-1:tt,Ct.type=1}else r(X.FullPaths[me+1]||"")==r(Ot)&&(Ct.R=me+1),Ct.type=2}}}function Ce(X,he){var oe=he||{};if(oe.fileType=="mad")return mi(X,oe);switch(ce(X),oe.fileType){case"zip":return la(X,oe)}var se=function(Xt){for(var Nt=0,Rt=0,yi=0;yi<Xt.FileIndex.length;++yi){var ar=Xt.FileIndex[yi];if(ar.content){var Jr=ar.content.length;Jr>0&&(Jr<4096?Nt+=Jr+63>>6:Rt+=Jr+511>>9)}}for(var fr=Xt.FullPaths.length+3>>2,rn=Nt+7>>3,Ma=Nt+127>>7,ao=rn+Rt+fr+Ma,Oi=ao+127>>7,sr=Oi<=109?0:Math.ceil((Oi-109)/127);ao+Oi+sr+127>>7>Oi;)sr=++Oi<=109?0:Math.ceil((Oi-109)/127);var In=[1,sr,Oi,Ma,fr,Rt,Nt,0];return Xt.FileIndex[0].size=Nt<<6,In[7]=(Xt.FileIndex[0].start=In[0]+In[1]+In[2]+In[3]+In[4]+In[5])+(In[6]+7>>3),In}(X),me=nt(se[7]<<9),ge=0,ze=0;{for(ge=0;ge<8;++ge)me.write_shift(1,Le[ge]);for(ge=0;ge<8;++ge)me.write_shift(2,0);for(me.write_shift(2,62),me.write_shift(2,3),me.write_shift(2,65534),me.write_shift(2,9),me.write_shift(2,6),ge=0;ge<3;++ge)me.write_shift(2,0);for(me.write_shift(4,0),me.write_shift(4,se[2]),me.write_shift(4,se[0]+se[1]+se[2]+se[3]-1),me.write_shift(4,0),me.write_shift(4,4096),me.write_shift(4,se[3]?se[0]+se[1]+se[2]-1:xe),me.write_shift(4,se[3]),me.write_shift(-4,se[1]?se[0]-1:xe),me.write_shift(4,se[1]),ge=0;ge<109;++ge)me.write_shift(-4,ge<se[2]?se[1]+ge:-1)}if(se[1])for(ze=0;ze<se[1];++ze){for(;ge<236+ze*127;++ge)me.write_shift(-4,ge<se[2]?se[1]+ge:-1);me.write_shift(-4,ze===se[1]-1?xe:ze+1)}var tt=function(Xt){for(ze+=Xt;ge<ze-1;++ge)me.write_shift(-4,ge+1);Xt&&(++ge,me.write_shift(-4,xe))};for(ze=ge=0,ze+=se[1];ge<ze;++ge)me.write_shift(-4,Ye.DIFSECT);for(ze+=se[2];ge<ze;++ge)me.write_shift(-4,Ye.FATSECT);tt(se[3]),tt(se[4]);for(var We=0,He=0,Ze=X.FileIndex[0];We<X.FileIndex.length;++We)Ze=X.FileIndex[We],Ze.content&&(He=Ze.content.length,!(He<4096)&&(Ze.start=ze,tt(He+511>>9)));for(tt(se[6]+7>>3);me.l&511;)me.write_shift(-4,Ye.ENDOFCHAIN);for(ze=ge=0,We=0;We<X.FileIndex.length;++We)Ze=X.FileIndex[We],Ze.content&&(He=Ze.content.length,!(!He||He>=4096)&&(Ze.start=ze,tt(He+63>>6)));for(;me.l&511;)me.write_shift(-4,Ye.ENDOFCHAIN);for(ge=0;ge<se[4]<<2;++ge){var Ct=X.FullPaths[ge];if(!Ct||Ct.length===0){for(We=0;We<17;++We)me.write_shift(4,0);for(We=0;We<3;++We)me.write_shift(4,-1);for(We=0;We<12;++We)me.write_shift(4,0);continue}Ze=X.FileIndex[ge],ge===0&&(Ze.start=Ze.size?Ze.start-1:xe);var Ot=ge===0&&oe.root||Ze.name;if(He=2*(Ot.length+1),me.write_shift(64,Ot,"utf16le"),me.write_shift(2,He),me.write_shift(1,Ze.type),me.write_shift(1,Ze.color),me.write_shift(-4,Ze.L),me.write_shift(-4,Ze.R),me.write_shift(-4,Ze.C),Ze.clsid)me.write_shift(16,Ze.clsid,"hex");else for(We=0;We<4;++We)me.write_shift(4,0);me.write_shift(4,Ze.state||0),me.write_shift(4,0),me.write_shift(4,0),me.write_shift(4,0),me.write_shift(4,0),me.write_shift(4,Ze.start),me.write_shift(4,Ze.size),me.write_shift(4,0)}for(ge=1;ge<X.FileIndex.length;++ge)if(Ze=X.FileIndex[ge],Ze.size>=4096)if(me.l=Ze.start+1<<9,ur&&Buffer.isBuffer(Ze.content))Ze.content.copy(me,me.l,0,Ze.size),me.l+=Ze.size+511&-512;else{for(We=0;We<Ze.size;++We)me.write_shift(1,Ze.content[We]);for(;We&511;++We)me.write_shift(1,0)}for(ge=1;ge<X.FileIndex.length;++ge)if(Ze=X.FileIndex[ge],Ze.size>0&&Ze.size<4096)if(ur&&Buffer.isBuffer(Ze.content))Ze.content.copy(me,me.l,0,Ze.size),me.l+=Ze.size+63&-64;else{for(We=0;We<Ze.size;++We)me.write_shift(1,Ze.content[We]);for(;We&63;++We)me.write_shift(1,0)}if(ur)me.l=me.length;else for(;me.l<me.length;)me.write_shift(1,0);return me}function W(X,he){var oe=X.FullPaths.map(function(We){return We.toUpperCase()}),se=oe.map(function(We){var He=We.split("/");return He[He.length-(We.slice(-1)=="/"?2:1)]}),me=!1;he.charCodeAt(0)===47?(me=!0,he=oe[0].slice(0,-1)+he):me=he.indexOf("/")!==-1;var ge=he.toUpperCase(),ze=me===!0?oe.indexOf(ge):se.indexOf(ge);if(ze!==-1)return X.FileIndex[ze];var tt=!ge.match(rh);for(ge=ge.replace(V0,""),tt&&(ge=ge.replace(rh,"!")),ze=0;ze<oe.length;++ze)if((tt?oe[ze].replace(rh,"!"):oe[ze]).replace(V0,"")==ge||(tt?se[ze].replace(rh,"!"):se[ze]).replace(V0,"")==ge)return X.FileIndex[ze];return null}var G=64,xe=-2,ye="d0cf11e0a1b11ae1",Le=[208,207,17,224,161,177,26,225],Ie="00000000000000000000000000000000",Ye={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:xe,FREESECT:-1,HEADER_SIGNATURE:ye,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Ie,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ke(X,he,oe){m();var se=Ce(X,oe);u.writeFileSync(he,se)}function qe(X){for(var he=new Array(X.length),oe=0;oe<X.length;++oe)he[oe]=String.fromCharCode(X[oe]);return he.join("")}function Xe(X,he){var oe=Ce(X,he);switch(he&&he.type||"buffer"){case"file":return m(),u.writeFileSync(he.filename,oe),oe;case"binary":return typeof oe=="string"?oe:qe(oe);case"base64":return Mp(typeof oe=="string"?oe:qe(oe));case"buffer":if(ur)return Buffer.isBuffer(oe)?oe:Fl(oe);case"array":return typeof oe=="string"?xs(oe):oe}return oe}var St;function A(X){try{var he=X.InflateRaw,oe=new he;if(oe._processChunk(new Uint8Array([3,0]),oe._finishFlushFlag),oe.bytesRead)St=X;else throw new Error("zlib does not expose bytesRead")}catch(se){console.error("cannot use native zlib: "+(se.message||se))}}function j(X,he){if(!St)return tr(X,he);var oe=St.InflateRaw,se=new oe,me=se._processChunk(X.slice(X.l),se._finishFlushFlag);return X.l+=se.bytesRead,me}function R(X){return St?St.deflateRawSync(X):Ri(X)}var z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],le=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Pe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ne(X){var he=(X<<1|X<<11)&139536|(X<<5|X<<15)&558144;return(he>>16|he>>8|he)&255}for(var Ae=typeof Uint8Array<"u",Be=Ae?new Uint8Array(256):[],at=0;at<256;++at)Be[at]=Ne(at);function mt(X,he){var oe=Be[X&255];return he<=8?oe>>>8-he:(oe=oe<<8|Be[X>>8&255],he<=16?oe>>>16-he:(oe=oe<<8|Be[X>>16&255],oe>>>24-he))}function At(X,he){var oe=he&7,se=he>>>3;return(X[se]|(oe<=6?0:X[se+1]<<8))>>>oe&3}function Lt(X,he){var oe=he&7,se=he>>>3;return(X[se]|(oe<=5?0:X[se+1]<<8))>>>oe&7}function et(X,he){var oe=he&7,se=he>>>3;return(X[se]|(oe<=4?0:X[se+1]<<8))>>>oe&15}function be(X,he){var oe=he&7,se=he>>>3;return(X[se]|(oe<=3?0:X[se+1]<<8))>>>oe&31}function gt(X,he){var oe=he&7,se=he>>>3;return(X[se]|(oe<=1?0:X[se+1]<<8))>>>oe&127}function Wt(X,he,oe){var se=he&7,me=he>>>3,ge=(1<<oe)-1,ze=X[me]>>>se;return oe<8-se||(ze|=X[me+1]<<8-se,oe<16-se)||(ze|=X[me+2]<<16-se,oe<24-se)||(ze|=X[me+3]<<24-se),ze&ge}function vt(X,he,oe){var se=he&7,me=he>>>3;return se<=5?X[me]|=(oe&7)<<se:(X[me]|=oe<<se&255,X[me+1]=(oe&7)>>8-se),he+3}function Ft(X,he,oe){var se=he&7,me=he>>>3;return oe=(oe&1)<<se,X[me]|=oe,he+1}function Vt(X,he,oe){var se=he&7,me=he>>>3;return oe<<=se,X[me]|=oe&255,oe>>>=8,X[me+1]=oe,he+8}function qt(X,he,oe){var se=he&7,me=he>>>3;return oe<<=se,X[me]|=oe&255,oe>>>=8,X[me+1]=oe&255,X[me+2]=oe>>>8,he+16}function ni(X,he){var oe=X.length,se=2*oe>he?2*oe:he+5,me=0;if(oe>=he)return X;if(ur){var ge=Yx(se);if(X.copy)X.copy(ge);else for(;me<X.length;++me)ge[me]=X[me];return ge}else if(Ae){var ze=new Uint8Array(se);if(ze.set)ze.set(X);else for(;me<oe;++me)ze[me]=X[me];return ze}return X.length=se,X}function ai(X){for(var he=new Array(X),oe=0;oe<X;++oe)he[oe]=0;return he}function wi(X,he,oe){var se=1,me=0,ge=0,ze=0,tt=0,We=X.length,He=Ae?new Uint16Array(32):ai(32);for(ge=0;ge<32;++ge)He[ge]=0;for(ge=We;ge<oe;++ge)X[ge]=0;We=X.length;var Ze=Ae?new Uint16Array(We):ai(We);for(ge=0;ge<We;++ge)He[me=X[ge]]++,se<me&&(se=me),Ze[ge]=0;for(He[0]=0,ge=1;ge<=se;++ge)He[ge+16]=tt=tt+He[ge-1]<<1;for(ge=0;ge<We;++ge)tt=X[ge],tt!=0&&(Ze[ge]=He[tt+16]++);var Ct=0;for(ge=0;ge<We;++ge)if(Ct=X[ge],Ct!=0)for(tt=mt(Ze[ge],se)>>se-Ct,ze=(1<<se+4-Ct)-1;ze>=0;--ze)he[tt|ze<<Ct]=Ct&15|ge<<4;return se}var ki=Ae?new Uint16Array(512):ai(512),Hi=Ae?new Uint16Array(32):ai(32);if(!Ae){for(var Gi=0;Gi<512;++Gi)ki[Gi]=0;for(Gi=0;Gi<32;++Gi)Hi[Gi]=0}(function(){for(var X=[],he=0;he<32;he++)X.push(5);wi(X,Hi,32);var oe=[];for(he=0;he<=143;he++)oe.push(8);for(;he<=255;he++)oe.push(9);for(;he<=279;he++)oe.push(7);for(;he<=287;he++)oe.push(8);wi(oe,ki,288)})();var vi=function(){for(var he=Ae?new Uint8Array(32768):[],oe=0,se=0;oe<Pe.length-1;++oe)for(;se<Pe[oe+1];++se)he[se]=oe;for(;se<32768;++se)he[se]=29;var me=Ae?new Uint8Array(259):[];for(oe=0,se=0;oe<le.length-1;++oe)for(;se<le[oe+1];++se)me[se]=oe;function ge(tt,We){for(var He=0;He<tt.length;){var Ze=Math.min(65535,tt.length-He),Ct=He+Ze==tt.length;for(We.write_shift(1,+Ct),We.write_shift(2,Ze),We.write_shift(2,~Ze&65535);Ze-- >0;)We[We.l++]=tt[He++]}return We.l}function ze(tt,We){for(var He=0,Ze=0,Ct=Ae?new Uint16Array(32768):[];Ze<tt.length;){var Ot=Math.min(65535,tt.length-Ze);if(Ot<10){for(He=vt(We,He,+(Ze+Ot==tt.length)),He&7&&(He+=8-(He&7)),We.l=He/8|0,We.write_shift(2,Ot),We.write_shift(2,~Ot&65535);Ot-- >0;)We[We.l++]=tt[Ze++];He=We.l*8;continue}He=vt(We,He,+(Ze+Ot==tt.length)+2);for(var Xt=0;Ot-- >0;){var Nt=tt[Ze];Xt=(Xt<<5^Nt)&32767;var Rt=-1,yi=0;if((Rt=Ct[Xt])&&(Rt|=Ze&-32768,Rt>Ze&&(Rt-=32768),Rt<Ze))for(;tt[Rt+yi]==tt[Ze+yi]&&yi<250;)++yi;if(yi>2){Nt=me[yi],Nt<=22?He=Vt(We,He,Be[Nt+1]>>1)-1:(Vt(We,He,3),He+=5,Vt(We,He,Be[Nt-23]>>5),He+=3);var ar=Nt<8?0:Nt-4>>2;ar>0&&(qt(We,He,yi-le[Nt]),He+=ar),Nt=he[Ze-Rt],He=Vt(We,He,Be[Nt]>>3),He-=3;var Jr=Nt<4?0:Nt-2>>1;Jr>0&&(qt(We,He,Ze-Rt-Pe[Nt]),He+=Jr);for(var fr=0;fr<yi;++fr)Ct[Xt]=Ze&32767,Xt=(Xt<<5^tt[Ze])&32767,++Ze;Ot-=yi-1}else Nt<=143?Nt=Nt+48:He=Ft(We,He,1),He=Vt(We,He,Be[Nt]),Ct[Xt]=Ze&32767,++Ze}He=Vt(We,He,0)-1}return We.l=(He+7)/8|0,We.l}return function(We,He){return We.length<8?ge(We,He):ze(We,He)}}();function Ri(X){var he=nt(50+Math.floor(X.length*1.1)),oe=vi(X,he);return he.slice(0,oe)}var zt=Ae?new Uint16Array(32768):ai(32768),Yr=Ae?new Uint16Array(32768):ai(32768),Xi=Ae?new Uint16Array(128):ai(128),oo=1,er=1;function Pr(X,he){var oe=be(X,he)+257;he+=5;var se=be(X,he)+1;he+=5;var me=et(X,he)+4;he+=4;for(var ge=0,ze=Ae?new Uint8Array(19):ai(19),tt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],We=1,He=Ae?new Uint8Array(8):ai(8),Ze=Ae?new Uint8Array(8):ai(8),Ct=ze.length,Ot=0;Ot<me;++Ot)ze[z[Ot]]=ge=Lt(X,he),We<ge&&(We=ge),He[ge]++,he+=3;var Xt=0;for(He[0]=0,Ot=1;Ot<=We;++Ot)Ze[Ot]=Xt=Xt+He[Ot-1]<<1;for(Ot=0;Ot<Ct;++Ot)(Xt=ze[Ot])!=0&&(tt[Ot]=Ze[Xt]++);var Nt=0;for(Ot=0;Ot<Ct;++Ot)if(Nt=ze[Ot],Nt!=0){Xt=Be[tt[Ot]]>>8-Nt;for(var Rt=(1<<7-Nt)-1;Rt>=0;--Rt)Xi[Xt|Rt<<Nt]=Nt&7|Ot<<3}var yi=[];for(We=1;yi.length<oe+se;)switch(Xt=Xi[gt(X,he)],he+=Xt&7,Xt>>>=3){case 16:for(ge=3+At(X,he),he+=2,Xt=yi[yi.length-1];ge-- >0;)yi.push(Xt);break;case 17:for(ge=3+Lt(X,he),he+=3;ge-- >0;)yi.push(0);break;case 18:for(ge=11+gt(X,he),he+=7;ge-- >0;)yi.push(0);break;default:yi.push(Xt),We<Xt&&(We=Xt);break}var ar=yi.slice(0,oe),Jr=yi.slice(oe);for(Ot=oe;Ot<286;++Ot)ar[Ot]=0;for(Ot=se;Ot<30;++Ot)Jr[Ot]=0;return oo=wi(ar,zt,286),er=wi(Jr,Yr,30),he}function Vo(X,he){if(X[0]==3&&!(X[1]&3))return[Ld(he),2];for(var oe=0,se=0,me=Yx(he||1<<18),ge=0,ze=me.length>>>0,tt=0,We=0;!(se&1);){if(se=Lt(X,oe),oe+=3,se>>>1)se>>1==1?(tt=9,We=5):(oe=Pr(X,oe),tt=oo,We=er);else{oe&7&&(oe+=8-(oe&7));var He=X[oe>>>3]|X[(oe>>>3)+1]<<8;if(oe+=32,He>0)for(!he&&ze<ge+He&&(me=ni(me,ge+He),ze=me.length);He-- >0;)me[ge++]=X[oe>>>3],oe+=8;continue}for(;;){!he&&ze<ge+32767&&(me=ni(me,ge+32767),ze=me.length);var Ze=Wt(X,oe,tt),Ct=se>>>1==1?ki[Ze]:zt[Ze];if(oe+=Ct&15,Ct>>>=4,!(Ct>>>8&255))me[ge++]=Ct;else{if(Ct==256)break;Ct-=257;var Ot=Ct<8?0:Ct-4>>2;Ot>5&&(Ot=0);var Xt=ge+le[Ct];Ot>0&&(Xt+=Wt(X,oe,Ot),oe+=Ot),Ze=Wt(X,oe,We),Ct=se>>>1==1?Hi[Ze]:Yr[Ze],oe+=Ct&15,Ct>>>=4;var Nt=Ct<4?0:Ct-2>>1,Rt=Pe[Ct];for(Nt>0&&(Rt+=Wt(X,oe,Nt),oe+=Nt),!he&&ze<Xt&&(me=ni(me,Xt+100),ze=me.length);ge<Xt;)me[ge]=me[ge-Rt],++ge}}}return he?[me,oe+7>>>3]:[me.slice(0,ge),oe+7>>>3]}function tr(X,he){var oe=X.slice(X.l||0),se=Vo(oe,he);return X.l+=se[1],se[0]}function sa(X,he){if(X)typeof console<"u"&&console.error(he);else throw new Error(he)}function Mr(X,he){var oe=X;wa(oe,0);var se=[],me=[],ge={FileIndex:se,FullPaths:me};ne(ge,{root:he.root});for(var ze=oe.length-4;(oe[ze]!=80||oe[ze+1]!=75||oe[ze+2]!=5||oe[ze+3]!=6)&&ze>=0;)--ze;oe.l=ze+4,oe.l+=4;var tt=oe.read_shift(2);oe.l+=6;var We=oe.read_shift(4);for(oe.l=We,ze=0;ze<tt;++ze){oe.l+=20;var He=oe.read_shift(4),Ze=oe.read_shift(4),Ct=oe.read_shift(2),Ot=oe.read_shift(2),Xt=oe.read_shift(2);oe.l+=8;var Nt=oe.read_shift(4),Rt=d(oe.slice(oe.l+Ct,oe.l+Ct+Ot));oe.l+=Ct+Ot+Xt;var yi=oe.l;oe.l=Nt+4,So(oe,He,Ze,ge,Rt),oe.l=yi}return ge}function So(X,he,oe,se,me){X.l+=2;var ge=X.read_shift(2),ze=X.read_shift(2),tt=a(X);if(ge&8257)throw new Error("Unsupported ZIP encryption");for(var We=X.read_shift(4),He=X.read_shift(4),Ze=X.read_shift(4),Ct=X.read_shift(2),Ot=X.read_shift(2),Xt="",Nt=0;Nt<Ct;++Nt)Xt+=String.fromCharCode(X[X.l++]);if(Ot){var Rt=d(X.slice(X.l,X.l+Ot));(Rt[21589]||{}).mt&&(tt=Rt[21589].mt),((me||{})[21589]||{}).mt&&(tt=me[21589].mt)}X.l+=Ot;var yi=X.slice(X.l,X.l+He);switch(ze){case 8:yi=j(X,Ze);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ze)}var ar=!1;ge&8&&(We=X.read_shift(4),We==134695760&&(We=X.read_shift(4),ar=!0),He=X.read_shift(4),Ze=X.read_shift(4)),He!=he&&sa(ar,"Bad compressed size: "+he+" != "+He),Ze!=oe&&sa(ar,"Bad uncompressed size: "+oe+" != "+Ze),Vr(se,Xt,yi,{unsafe:!0,mt:tt})}function la(X,he){var oe=he||{},se=[],me=[],ge=nt(1),ze=oe.compression?8:0,tt=0,We=!1;We&&(tt|=8);var He=0,Ze=0,Ct=0,Ot=0,Xt=X.FullPaths[0],Nt=Xt,Rt=X.FileIndex[0],yi=[],ar=0;for(He=1;He<X.FullPaths.length;++He)if(Nt=X.FullPaths[He].slice(Xt.length),Rt=X.FileIndex[He],!(!Rt.size||!Rt.content||Nt=="Sh33tJ5")){var Jr=Ct,fr=nt(Nt.length);for(Ze=0;Ze<Nt.length;++Ze)fr.write_shift(1,Nt.charCodeAt(Ze)&127);fr=fr.slice(0,fr.l),yi[Ot]=iO.buf(Rt.content,0);var rn=Rt.content;ze==8&&(rn=R(rn)),ge=nt(30),ge.write_shift(4,67324752),ge.write_shift(2,20),ge.write_shift(2,tt),ge.write_shift(2,ze),Rt.mt?o(ge,Rt.mt):ge.write_shift(4,0),ge.write_shift(-4,tt&8?0:yi[Ot]),ge.write_shift(4,tt&8?0:rn.length),ge.write_shift(4,tt&8?0:Rt.content.length),ge.write_shift(2,fr.length),ge.write_shift(2,0),Ct+=ge.length,se.push(ge),Ct+=fr.length,se.push(fr),Ct+=rn.length,se.push(rn),tt&8&&(ge=nt(12),ge.write_shift(-4,yi[Ot]),ge.write_shift(4,rn.length),ge.write_shift(4,Rt.content.length),Ct+=ge.l,se.push(ge)),ge=nt(46),ge.write_shift(4,33639248),ge.write_shift(2,0),ge.write_shift(2,20),ge.write_shift(2,tt),ge.write_shift(2,ze),ge.write_shift(4,0),ge.write_shift(-4,yi[Ot]),ge.write_shift(4,rn.length),ge.write_shift(4,Rt.content.length),ge.write_shift(2,fr.length),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(4,0),ge.write_shift(4,Jr),ar+=ge.l,me.push(ge),ar+=fr.length,me.push(fr),++Ot}return ge=nt(22),ge.write_shift(4,101010256),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(2,Ot),ge.write_shift(2,Ot),ge.write_shift(4,ar),ge.write_shift(4,Ct),ge.write_shift(2,0),to([to(se),to(me),ge])}var _r={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Ei(X,he){if(X.ctype)return X.ctype;var oe=X.name||"",se=oe.match(/\.([^\.]+)$/);return se&&_r[se[1]]||he&&(se=(oe=he).match(/[\.\\]([^\.\\])+$/),se&&_r[se[1]])?_r[se[1]]:"application/octet-stream"}function or(X){for(var he=Mp(X),oe=[],se=0;se<he.length;se+=76)oe.push(he.slice(se,se+76));return oe.join(`\r
`)+`\r
`}function es(X){var he=X.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(He){var Ze=He.charCodeAt(0).toString(16).toUpperCase();return"="+(Ze.length==1?"0"+Ze:Ze)});he=he.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),he.charAt(0)==`
`&&(he="=0D"+he.slice(1)),he=he.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var oe=[],se=he.split(`\r
`),me=0;me<se.length;++me){var ge=se[me];if(ge.length==0){oe.push("");continue}for(var ze=0;ze<ge.length;){var tt=76,We=ge.slice(ze,ze+tt);We.charAt(tt-1)=="="?tt--:We.charAt(tt-2)=="="?tt-=2:We.charAt(tt-3)=="="&&(tt-=3),We=ge.slice(ze,ze+tt),ze+=tt,ze<ge.length&&(We+="="),oe.push(We)}}return oe.join(`\r
`)}function Kr(X){for(var he=[],oe=0;oe<X.length;++oe){for(var se=X[oe];oe<=X.length&&se.charAt(se.length-1)=="=";)se=se.slice(0,se.length-1)+X[++oe];he.push(se)}for(var me=0;me<he.length;++me)he[me]=he[me].replace(/[=][0-9A-Fa-f]{2}/g,function(ge){return String.fromCharCode(parseInt(ge.slice(1),16))});return xs(he.join(`\r
`))}function qo(X,he,oe){for(var se="",me="",ge="",ze,tt=0;tt<10;++tt){var We=he[tt];if(!We||We.match(/^\s*$/))break;var He=We.match(/^(.*?):\s*([^\s].*)$/);if(He)switch(He[1].toLowerCase()){case"content-location":se=He[2].trim();break;case"content-type":ge=He[2].trim();break;case"content-transfer-encoding":me=He[2].trim();break}}switch(++tt,me.toLowerCase()){case"base64":ze=xs(Il(he.slice(tt).join("")));break;case"quoted-printable":ze=Kr(he.slice(tt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+me)}var Ze=Vr(X,se.slice(oe.length),ze,{unsafe:!0});ge&&(Ze.ctype=ge)}function jo(X,he){if(qe(X.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var oe=he&&he.root||"",se=(ur&&Buffer.isBuffer(X)?X.toString("binary"):qe(X)).split(`\r
`),me=0,ge="";for(me=0;me<se.length;++me)if(ge=se[me],!!/^Content-Location:/i.test(ge)&&(ge=ge.slice(ge.indexOf("file")),oe||(oe=ge.slice(0,ge.lastIndexOf("/")+1)),ge.slice(0,oe.length)!=oe))for(;oe.length>0&&(oe=oe.slice(0,oe.length-1),oe=oe.slice(0,oe.lastIndexOf("/")+1),ge.slice(0,oe.length)!=oe););var ze=(se[1]||"").match(/boundary="(.*?)"/);if(!ze)throw new Error("MAD cannot find boundary");var tt="--"+(ze[1]||""),We=[],He=[],Ze={FileIndex:We,FullPaths:He};ne(Ze);var Ct,Ot=0;for(me=0;me<se.length;++me){var Xt=se[me];Xt!==tt&&Xt!==tt+"--"||(Ot++&&qo(Ze,se.slice(Ct,me),oe),Ct=me)}return Ze}function mi(X,he){var oe=he||{},se=oe.boundary||"SheetJS";se="------="+se;for(var me=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+se.slice(2)+'"',"","",""],ge=X.FullPaths[0],ze=ge,tt=X.FileIndex[0],We=1;We<X.FullPaths.length;++We)if(ze=X.FullPaths[We].slice(ge.length),tt=X.FileIndex[We],!(!tt.size||!tt.content||ze=="Sh33tJ5")){ze=ze.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(yi){return"_x"+yi.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(yi){return"_u"+yi.charCodeAt(0).toString(16)+"_"});for(var He=tt.content,Ze=ur&&Buffer.isBuffer(He)?He.toString("binary"):qe(He),Ct=0,Ot=Math.min(1024,Ze.length),Xt=0,Nt=0;Nt<=Ot;++Nt)(Xt=Ze.charCodeAt(Nt))>=32&&Xt<128&&++Ct;var Rt=Ct>=Ot*4/5;me.push(se),me.push("Content-Location: "+(oe.root||"file:///C:/SheetJS/")+ze),me.push("Content-Transfer-Encoding: "+(Rt?"quoted-printable":"base64")),me.push("Content-Type: "+Ei(tt,ze)),me.push(""),me.push(Rt?es(Ze):or(Ze))}return me.push(se+`--\r
`),me.join(`\r
`)}function Eo(X){var he={};return ne(he,X),he}function Vr(X,he,oe,se){var me=se&&se.unsafe;me||ne(X);var ge=!me&&Fr.find(X,he);if(!ge){var ze=X.FullPaths[0];he.slice(0,ze.length)==ze?ze=he:(ze.slice(-1)!="/"&&(ze+="/"),ze=(ze+he).replace("//","/")),ge={name:n(he),type:2},X.FileIndex.push(ge),X.FullPaths.push(ze),me||Fr.utils.cfb_gc(X)}return ge.content=oe,ge.size=oe?oe.length:0,se&&(se.CLSID&&(ge.clsid=se.CLSID),se.mt&&(ge.mt=se.mt),se.ct&&(ge.ct=se.ct)),ge}function $t(X,he){ne(X);var oe=Fr.find(X,he);if(oe){for(var se=0;se<X.FileIndex.length;++se)if(X.FileIndex[se]==oe)return X.FileIndex.splice(se,1),X.FullPaths.splice(se,1),!0}return!1}function Hr(X,he,oe){ne(X);var se=Fr.find(X,he);if(se){for(var me=0;me<X.FileIndex.length;++me)if(X.FileIndex[me]==se)return X.FileIndex[me].name=n(oe),X.FullPaths[me]=oe,!0}return!1}function qr(X){ce(X,!0)}return t.find=W,t.read=Ue,t.parse=v,t.write=Xe,t.writeFile=ke,t.utils={cfb_new:Eo,cfb_add:Vr,cfb_del:$t,cfb_mov:Hr,cfb_gc:qr,ReadShift:yp,CheckField:sC,prep_blob:wa,bconcat:to,use_zlib:A,_deflateRaw:Ri,_inflateRaw:tr,consts:Ye},t}(),oh;function rO(i){return typeof i=="string"?Sh(i):Array.isArray(i)?kI(i):i}function Fp(i,t,e){if(typeof oh<"u"&&oh.writeFileSync)return e?oh.writeFileSync(i,t,e):oh.writeFileSync(i,t);if(typeof Deno<"u"){if(e&&typeof t=="string")switch(e){case"utf8":t=new TextEncoder(e).encode(t);break;case"binary":t=Sh(t);break;default:throw new Error("Unsupported encoding "+e)}return Deno.writeFileSync(i,t)}var r=e=="utf8"?Ml(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,i);if(typeof Blob<"u"){var n=new Blob([rO(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(n,i);if(typeof saveAs<"u")return saveAs(n,i);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var o=URL.createObjectURL(n);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),chrome.downloads.download({url:o,filename:i,saveAs:!0});var a=document.createElement("a");if(a.download!=null)return a.download=i,a.href=o,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),o}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var d=File(i);return d.open("w"),d.encoding="binary",Array.isArray(t)&&(t=Op(t)),d.write(t),d.close(),t}catch(u){if(!u.message||!u.message.match(/onstruct/))throw u}throw new Error("cannot save file "+i)}function no(i){for(var t=Object.keys(i),e=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(i,t[r])&&e.push(t[r]);return e}function ny(i,t){for(var e=[],r=no(i),n=0;n!==r.length;++n)e[i[r[n]][t]]==null&&(e[i[r[n]][t]]=r[n]);return e}function Ev(i){for(var t=[],e=no(i),r=0;r!==e.length;++r)t[i[e[r]]]=e[r];return t}function Mh(i){for(var t=[],e=no(i),r=0;r!==e.length;++r)t[i[e[r]]]=parseInt(e[r],10);return t}function nO(i){for(var t=[],e=no(i),r=0;r!==e.length;++r)t[i[e[r]]]==null&&(t[i[e[r]]]=[]),t[i[e[r]]].push(e[r]);return t}var mh=new Date(1899,11,30,0,0,0);function na(i,t){var e=i.getTime();t&&(e-=1462*24*60*60*1e3);var r=mh.getTime()+(i.getTimezoneOffset()-mh.getTimezoneOffset())*6e4;return(e-r)/(24*60*60*1e3)}var Zy=new Date,oO=mh.getTime()+(Zy.getTimezoneOffset()-mh.getTimezoneOffset())*6e4,oy=Zy.getTimezoneOffset();function Yy(i){var t=new Date;return t.setTime(i*24*60*60*1e3+oO),t.getTimezoneOffset()!==oy&&t.setTime(t.getTime()+(t.getTimezoneOffset()-oy)*6e4),t}var ay=new Date("2017-02-19T19:06:09.000Z"),Ky=isNaN(ay.getFullYear())?new Date("2/19/17"):ay,aO=Ky.getFullYear()==2017;function Uo(i,t){var e=new Date(i);if(aO)return t>0?e.setTime(e.getTime()+e.getTimezoneOffset()*60*1e3):t<0&&e.setTime(e.getTime()-e.getTimezoneOffset()*60*1e3),e;if(i instanceof Date)return i;if(Ky.getFullYear()==1917&&!isNaN(e.getFullYear())){var r=e.getFullYear();return i.indexOf(""+r)>-1||e.setFullYear(e.getFullYear()+100),e}var n=i.match(/\d+/g)||["2017","2","19","0","0","0"],o=new Date(+n[0],+n[1]-1,+n[2],+n[3]||0,+n[4]||0,+n[5]||0);return i.indexOf("Z")>-1&&(o=new Date(o.getTime()-o.getTimezoneOffset()*60*1e3)),o}function Th(i,t){if(ur&&Buffer.isBuffer(i)){if(t){if(i[0]==255&&i[1]==254)return Ml(i.slice(2).toString("utf16le"));if(i[1]==254&&i[2]==255)return Ml(TI(i.slice(2).toString("binary")))}return i.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(i[0]==255&&i[1]==254)return Ml(new TextDecoder("utf-16le").decode(i.slice(2)));if(i[0]==254&&i[1]==255)return Ml(new TextDecoder("utf-16be").decode(i.slice(2)))}var e={"\u20AC":"\x80","\u201A":"\x82",\u0192:"\x83","\u201E":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87","\u02C6":"\x88","\u2030":"\x89",\u0160:"\x8A","\u2039":"\x8B",\u0152:"\x8C",\u017D:"\x8E","\u2018":"\x91","\u2019":"\x92","\u201C":"\x93","\u201D":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02DC":"\x98","\u2122":"\x99",\u0161:"\x9A","\u203A":"\x9B",\u0153:"\x9C",\u017E:"\x9E",\u0178:"\x9F"};return Array.isArray(i)&&(i=new Uint8Array(i)),new TextDecoder("latin1").decode(i).replace(/[]/g,function(o){return e[o]||o})}catch{}for(var r=[],n=0;n!=i.length;++n)r.push(String.fromCharCode(i[n]));return r.join("")}function oa(i){if(typeof JSON<"u"&&!Array.isArray(i))return JSON.parse(JSON.stringify(i));if(typeof i!="object"||i==null)return i;if(i instanceof Date)return new Date(i.getTime());var t={};for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=oa(i[e]));return t}function dn(i,t){for(var e="";e.length<t;)e+=i;return e}function kl(i){var t=Number(i);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(i))return t;var e=1,r=i.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return e*=100,""});return!isNaN(t=Number(r))||(r=r.replace(/[(](.*)[)]/,function(n,o){return e=-e,o}),!isNaN(t=Number(r)))?t/e:t}var sO=["january","february","march","april","may","june","july","august","september","october","november","december"];function Tp(i){var t=new Date(i),e=new Date(NaN),r=t.getYear(),n=t.getMonth(),o=t.getDate();if(isNaN(o))return e;var a=i.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&sO.indexOf(a)==-1)return e}else if(a.match(/[a-z]/))return e;return r<0||r>8099?e:(n>0||o>1)&&r!=101?t:i.match(/[^-0-9:,\/\\]/)?e:t}function Wi(i,t,e){if(i.FullPaths){if(typeof e=="string"){var r;return ur?r=Fl(e):r=AI(e),Fr.utils.cfb_add(i,t,r)}Fr.utils.cfb_add(i,t,e)}else i.file(t,e)}function Pv(){return Fr.utils.cfb_new()}var Pn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`;var lO={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Mv=Ev(lO);var Tv=/[&<>'"]/g,cO=/[\u0000-\u0008\u000b-\u001f]/g;function Sr(i){var t=i+"";return t.replace(Tv,function(e){return Mv[e]}).replace(cO,function(e){return"_x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+"_"})}function sy(i){return Sr(i).replace(/ /g,"_x0020_")}var Jy=/[\u0000-\u001f]/g;function dO(i){var t=i+"";return t.replace(Tv,function(e){return Mv[e]}).replace(/\n/g,"<br/>").replace(Jy,function(e){return"&#x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+";"})}function uO(i){var t=i+"";return t.replace(Tv,function(e){return Mv[e]}).replace(Jy,function(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"})}function pO(i){return i.replace(/(\r\n|[\r\n])/g,"&#10;")}function fO(i){switch(i){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function pv(i){for(var t="",e=0,r=0,n=0,o=0,a=0,d=0;e<i.length;){if(r=i.charCodeAt(e++),r<128){t+=String.fromCharCode(r);continue}if(n=i.charCodeAt(e++),r>191&&r<224){a=(r&31)<<6,a|=n&63,t+=String.fromCharCode(a);continue}if(o=i.charCodeAt(e++),r<240){t+=String.fromCharCode((r&15)<<12|(n&63)<<6|o&63);continue}a=i.charCodeAt(e++),d=((r&7)<<18|(n&63)<<12|(o&63)<<6|a&63)-65536,t+=String.fromCharCode(55296+(d>>>10&1023)),t+=String.fromCharCode(56320+(d&1023))}return t}function ly(i){var t=Ld(2*i.length),e,r,n=1,o=0,a=0,d;for(r=0;r<i.length;r+=n)n=1,(d=i.charCodeAt(r))<128?e=d:d<224?(e=(d&31)*64+(i.charCodeAt(r+1)&63),n=2):d<240?(e=(d&15)*4096+(i.charCodeAt(r+1)&63)*64+(i.charCodeAt(r+2)&63),n=3):(n=4,e=(d&7)*262144+(i.charCodeAt(r+1)&63)*4096+(i.charCodeAt(r+2)&63)*64+(i.charCodeAt(r+3)&63),e-=65536,a=55296+(e>>>10&1023),e=56320+(e&1023)),a!==0&&(t[o++]=a&255,t[o++]=a>>>8,a=0),t[o++]=e%256,t[o++]=e>>>8;return t.slice(0,o).toString("ucs2")}function cy(i){return Fl(i,"binary").toString("utf8")}var ah="foo bar baz\xE2\x98\x83\xF0\x9F\x8D\xA3",xp=ur&&(cy(ah)==pv(ah)&&cy||ly(ah)==pv(ah)&&ly)||pv,Ml=ur?function(i){return Fl(i,"utf8").toString("binary")}:function(i){for(var t=[],e=0,r=0,n=0;e<i.length;)switch(r=i.charCodeAt(e++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,n=i.charCodeAt(e++)-56320+(r<<10),t.push(String.fromCharCode(240+(n>>18&7))),t.push(String.fromCharCode(144+(n>>12&63))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(r&63)))}return t.join("")};var mO=function(){var i=[["nbsp"," "],["middot","\xB7"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(e){for(var r=e.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),n=0;n<i.length;++n)r=r.replace(i[n][0],i[n][1]);return r}}();var Qy=/(^\s|\s$|\n)/;function io(i,t){return"<"+i+(t.match(Qy)?' xml:space="preserve"':"")+">"+t+"</"+i+">"}function kp(i){return no(i).map(function(t){return" "+t+'="'+i[t]+'"'}).join("")}function Dt(i,t,e){return"<"+i+(e!=null?kp(e):"")+(t!=null?(t.match(Qy)?' xml:space="preserve"':"")+">"+t+"</"+i:"/")+">"}function xv(i,t){try{return i.toISOString().replace(/\.\d*/,"")}catch(e){if(t)throw e}return""}function hO(i,t){switch(typeof i){case"string":var e=Dt("vt:lpwstr",Sr(i));return t&&(e=e.replace(/&quot;/g,"_x0022_")),e;case"number":return Dt((i|0)==i?"vt:i4":"vt:r8",Sr(String(i)));case"boolean":return Dt("vt:bool",i?"true":"false")}if(i instanceof Date)return Dt("vt:filetime",xv(i));throw new Error("Unable to serialize "+i)}var jn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},$0=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Sa={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function gO(i,t){for(var e=1-2*(i[t+7]>>>7),r=((i[t+7]&127)<<4)+(i[t+6]>>>4&15),n=i[t+6]&15,o=5;o>=0;--o)n=n*256+i[t+o];return r==2047?n==0?e*(1/0):NaN:(r==0?r=-1022:(r-=1023,n+=Math.pow(2,52)),e*Math.pow(2,r-52)*n)}function vO(i,t,e){var r=(t<0||1/t==-1/0?1:0)<<7,n=0,o=0,a=r?-t:t;isFinite(a)?a==0?n=o=0:(n=Math.floor(Math.log(a)/Math.LN2),o=a*Math.pow(2,52-n),n<=-1023&&(!isFinite(o)||o<Math.pow(2,52))?n=-1022:(o-=Math.pow(2,52),n+=1023)):(n=2047,o=isNaN(t)?26985:0);for(var d=0;d<=5;++d,o/=256)i[e+d]=o&255;i[e+6]=(n&15)<<4|o&15,i[e+7]=n>>4|r}var dy=function(i){for(var t=[],e=10240,r=0;r<i[0].length;++r)if(i[0][r])for(var n=0,o=i[0][r].length;n<o;n+=e)t.push.apply(t,i[0][r].slice(n,n+e));return t},uy=ur?function(i){return i[0].length>0&&Buffer.isBuffer(i[0][0])?Buffer.concat(i[0].map(function(t){return Buffer.isBuffer(t)?t:Fl(t)})):dy(i)}:dy,py=function(i,t,e){for(var r=[],n=t;n<e;n+=2)r.push(String.fromCharCode(bp(i,n)));return r.join("").replace(V0,"")},kh=ur?function(i,t,e){return Buffer.isBuffer(i)?i.toString("utf16le",t,e).replace(V0,""):py(i,t,e)}:py,fy=function(i,t,e){for(var r=[],n=t;n<t+e;++n)r.push(("0"+i[n].toString(16)).slice(-2));return r.join("")},eC=ur?function(i,t,e){return Buffer.isBuffer(i)?i.toString("hex",t,t+e):fy(i,t,e)}:fy,my=function(i,t,e){for(var r=[],n=t;n<e;n++)r.push(String.fromCharCode(B0(i,n)));return r.join("")},X0=ur?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf8",e,r):my(t,e,r)}:my,tC=function(i,t){var e=qn(i,t);return e>0?X0(i,t+4,t+4+e-1):""},kv=tC,iC=function(i,t){var e=qn(i,t);return e>0?X0(i,t+4,t+4+e-1):""},Av=iC,rC=function(i,t){var e=2*qn(i,t);return e>0?X0(i,t+4,t+4+e-1):""},Iv=rC,nC=function(t,e){var r=qn(t,e);return r>0?kh(t,e+4,e+4+r):""},Ov=nC,oC=function(i,t){var e=qn(i,t);return e>0?X0(i,t+4,t+4+e):""},Fv=oC,aC=function(i,t){return gO(i,t)},hh=aC,Nv=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};ur&&(kv=function(t,e){if(!Buffer.isBuffer(t))return tC(t,e);var r=t.readUInt32LE(e);return r>0?t.toString("utf8",e+4,e+4+r-1):""},Av=function(t,e){if(!Buffer.isBuffer(t))return iC(t,e);var r=t.readUInt32LE(e);return r>0?t.toString("utf8",e+4,e+4+r-1):""},Iv=function(t,e){if(!Buffer.isBuffer(t))return rC(t,e);var r=2*t.readUInt32LE(e);return t.toString("utf16le",e+4,e+4+r-1)},Ov=function(t,e){if(!Buffer.isBuffer(t))return nC(t,e);var r=t.readUInt32LE(e);return t.toString("utf16le",e+4,e+4+r)},Fv=function(t,e){if(!Buffer.isBuffer(t))return oC(t,e);var r=t.readUInt32LE(e);return t.toString("utf8",e+4,e+4+r)},hh=function(t,e){return Buffer.isBuffer(t)?t.readDoubleLE(e):aC(t,e)},Nv=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});function _O(){kh=function(i,t,e){return Dr.utils.decode(1200,i.slice(t,e)).replace(V0,"")},X0=function(i,t,e){return Dr.utils.decode(65001,i.slice(t,e))},kv=function(i,t){var e=qn(i,t);return e>0?Dr.utils.decode(H0,i.slice(t+4,t+4+e-1)):""},Av=function(i,t){var e=qn(i,t);return e>0?Dr.utils.decode(Fd,i.slice(t+4,t+4+e-1)):""},Iv=function(i,t){var e=2*qn(i,t);return e>0?Dr.utils.decode(1200,i.slice(t+4,t+4+e-1)):""},Ov=function(i,t){var e=qn(i,t);return e>0?Dr.utils.decode(1200,i.slice(t+4,t+4+e)):""},Fv=function(i,t){var e=qn(i,t);return e>0?Dr.utils.decode(65001,i.slice(t+4,t+4+e)):""}}typeof Dr<"u"&&_O();var B0=function(i,t){return i[t]},bp=function(i,t){return i[t+1]*256+i[t]},bO=function(i,t){var e=i[t+1]*256+i[t];return e<32768?e:(65535-e+1)*-1},qn=function(i,t){return i[t+3]*(1<<24)+(i[t+2]<<16)+(i[t+1]<<8)+i[t]},Od=function(i,t){return i[t+3]<<24|i[t+2]<<16|i[t+1]<<8|i[t]},xO=function(i,t){return i[t]<<24|i[t+1]<<16|i[t+2]<<8|i[t+3]};function yp(i,t){var e="",r,n,o=[],a,d,u,m;switch(t){case"dbcs":if(m=this.l,ur&&Buffer.isBuffer(this))e=this.slice(this.l,this.l+2*i).toString("utf16le");else for(u=0;u<i;++u)e+=String.fromCharCode(bp(this,m)),m+=2;i*=2;break;case"utf8":e=X0(this,this.l,this.l+i);break;case"utf16le":i*=2,e=kh(this,this.l,this.l+i);break;case"wstr":if(typeof Dr<"u")e=Dr.utils.decode(Fd,this.slice(this.l,this.l+2*i));else return yp.call(this,i,"dbcs");i=2*i;break;case"lpstr-ansi":e=kv(this,this.l),i=4+qn(this,this.l);break;case"lpstr-cp":e=Av(this,this.l),i=4+qn(this,this.l);break;case"lpwstr":e=Iv(this,this.l),i=4+2*qn(this,this.l);break;case"lpp4":i=4+qn(this,this.l),e=Ov(this,this.l),i&2&&(i+=2);break;case"8lpp4":i=4+qn(this,this.l),e=Fv(this,this.l),i&3&&(i+=4-(i&3));break;case"cstr":for(i=0,e="";(a=B0(this,this.l+i++))!==0;)o.push(ih(a));e=o.join("");break;case"_wstr":for(i=0,e="";(a=bp(this,this.l+i))!==0;)o.push(ih(a)),i+=2;i+=2,e=o.join("");break;case"dbcs-cont":for(e="",m=this.l,u=0;u<i;++u){if(this.lens&&this.lens.indexOf(m)!==-1)return a=B0(this,m),this.l=m+1,d=yp.call(this,i-u,a?"dbcs-cont":"sbcs-cont"),o.join("")+d;o.push(ih(bp(this,m))),m+=2}e=o.join(""),i*=2;break;case"cpstr":if(typeof Dr<"u"){e=Dr.utils.decode(Fd,this.slice(this.l,this.l+i));break}case"sbcs-cont":for(e="",m=this.l,u=0;u!=i;++u){if(this.lens&&this.lens.indexOf(m)!==-1)return a=B0(this,m),this.l=m+1,d=yp.call(this,i-u,a?"dbcs-cont":"sbcs-cont"),o.join("")+d;o.push(ih(B0(this,m))),m+=1}e=o.join("");break;default:switch(i){case 1:return r=B0(this,this.l),this.l++,r;case 2:return r=(t==="i"?bO:bp)(this,this.l),this.l+=2,r;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(r=(i>0?Od:xO)(this,this.l),this.l+=4,r):(n=qn(this,this.l),this.l+=4,n);case 8:case-8:if(t==="f")return i==8?n=hh(this,this.l):n=hh([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,n;i=8;case 16:e=eC(this,this.l,i);break}}return this.l+=i,e}var yO=function(i,t,e){i[e]=t&255,i[e+1]=t>>>8&255,i[e+2]=t>>>16&255,i[e+3]=t>>>24&255},CO=function(i,t,e){i[e]=t&255,i[e+1]=t>>8&255,i[e+2]=t>>16&255,i[e+3]=t>>24&255},wO=function(i,t,e){i[e]=t&255,i[e+1]=t>>>8&255};function SO(i,t,e){var r=0,n=0;if(e==="dbcs"){for(n=0;n!=t.length;++n)wO(this,t.charCodeAt(n),this.l+2*n);r=2*t.length}else if(e==="sbcs"){if(typeof Dr<"u"&&H0==874)for(n=0;n!=t.length;++n){var o=Dr.utils.encode(H0,t.charAt(n));this[this.l+n]=o[0]}else for(t=t.replace(/[^\x00-\x7F]/g,"_"),n=0;n!=t.length;++n)this[this.l+n]=t.charCodeAt(n)&255;r=t.length}else if(e==="hex"){for(;n<i;++n)this[this.l++]=parseInt(t.slice(2*n,2*n+2),16)||0;return this}else if(e==="utf16le"){var a=Math.min(this.l+i,this.length);for(n=0;n<Math.min(t.length,i);++n){var d=t.charCodeAt(n);this[this.l++]=d&255,this[this.l++]=d>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(i){case 1:r=1,this[this.l]=t&255;break;case 2:r=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:r=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:r=4,yO(this,t,this.l);break;case 8:if(r=8,e==="f"){vO(this,t,this.l);break}case 16:break;case-4:r=4,CO(this,t,this.l);break}return this.l+=r,this}function sC(i,t){var e=eC(this,this.l,i.length>>1);if(e!==i)throw new Error(t+"Expected "+i+" saw "+e);this.l+=i.length>>1}function wa(i,t){i.l=t,i.read_shift=yp,i.chk=sC,i.write_shift=SO}function el(i,t){i.l+=t}function nt(i){var t=Ld(i);return wa(t,0),t}function ra(){var i=[],t=ur?256:2048,e=function(m){var v=nt(m);return wa(v,0),v},r=e(t),n=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&i.push(r),r=null)},o=function(m){return r&&m<r.length-r.l?r:(n(),r=e(Math.max(m+1,t)))},a=function(){return n(),to(i)},d=function(m){n(),r=m,r.l==null&&(r.l=r.length),o(t)};return{next:o,push:d,end:a,_bufs:i}}function _t(i,t,e,r){var n=+t,o;if(!isNaN(n)){r||(r=vR[n].p||(e||[]).length||0),o=1+(n>=128?1:0)+1,r>=128&&++o,r>=16384&&++o,r>=2097152&&++o;var a=i.next(o);n<=127?a.write_shift(1,n):(a.write_shift(1,(n&127)+128),a.write_shift(1,n>>7));for(var d=0;d!=4;++d)if(r>=128)a.write_shift(1,(r&127)+128),r>>=7;else{a.write_shift(1,r);break}r>0&&Nv(e)&&i.push(e)}}function Cp(i,t,e){var r=oa(i);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!e||e.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function hy(i,t,e){var r=oa(i);return r.s=Cp(r.s,t.s,e),r.e=Cp(r.e,t.s,e),r}function wp(i,t){if(i.cRel&&i.c<0)for(i=oa(i);i.c<0;)i.c+=t>8?16384:256;if(i.rRel&&i.r<0)for(i=oa(i);i.r<0;)i.r+=t>8?1048576:t>5?65536:16384;var e=Er(i);return!i.cRel&&i.cRel!=null&&(e=MO(e)),!i.rRel&&i.rRel!=null&&(e=EO(e)),e}function fv(i,t){return i.s.r==0&&!i.s.rRel&&i.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!i.e.rRel?(i.s.cRel?"":"$")+vo(i.s.c)+":"+(i.e.cRel?"":"$")+vo(i.e.c):i.s.c==0&&!i.s.cRel&&i.e.c==(t.biff>=12?16383:255)&&!i.e.cRel?(i.s.rRel?"":"$")+ro(i.s.r)+":"+(i.e.rRel?"":"$")+ro(i.e.r):wp(i.s,t.biff)+":"+wp(i.e,t.biff)}function Lv(i){return parseInt(PO(i),10)-1}function ro(i){return""+(i+1)}function EO(i){return i.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function PO(i){return i.replace(/\$(\d+)$/,"$1")}function Dv(i){for(var t=TO(i),e=0,r=0;r!==t.length;++r)e=26*e+t.charCodeAt(r)-64;return e-1}function vo(i){if(i<0)throw new Error("invalid column "+i);var t="";for(++i;i;i=Math.floor((i-1)/26))t=String.fromCharCode((i-1)%26+65)+t;return t}function MO(i){return i.replace(/^([A-Z])/,"$$$1")}function TO(i){return i.replace(/^\$([A-Z])/,"$1")}function kO(i){return i.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function zn(i){for(var t=0,e=0,r=0;r<i.length;++r){var n=i.charCodeAt(r);n>=48&&n<=57?t=10*t+(n-48):n>=65&&n<=90&&(e=26*e+(n-64))}return{c:e-1,r:t-1}}function Er(i){for(var t=i.c+1,e="";t;t=(t-1)/26|0)e=String.fromCharCode((t-1)%26+65)+e;return e+(i.r+1)}function Ea(i){var t=i.indexOf(":");return t==-1?{s:zn(i),e:zn(i)}:{s:zn(i.slice(0,t)),e:zn(i.slice(t+1))}}function En(i,t){return typeof t>"u"||typeof t=="number"?En(i.s,i.e):(typeof i!="string"&&(i=Er(i)),typeof t!="string"&&(t=Er(t)),i==t?i:i+":"+t)}function Wr(i){var t={s:{c:0,r:0},e:{c:0,r:0}},e=0,r=0,n=0,o=i.length;for(e=0;r<o&&!((n=i.charCodeAt(r)-64)<1||n>26);++r)e=26*e+n;for(t.s.c=--e,e=0;r<o&&!((n=i.charCodeAt(r)-48)<0||n>9);++r)e=10*e+n;if(t.s.r=--e,r===o||n!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,e=0;r!=o&&!((n=i.charCodeAt(r)-64)<1||n>26);++r)e=26*e+n;for(t.e.c=--e,e=0;r!=o&&!((n=i.charCodeAt(r)-48)<0||n>9);++r)e=10*e+n;return t.e.r=--e,t}function gy(i,t){var e=i.t=="d"&&t instanceof Date;if(i.z!=null)try{return i.w=Lc(i.z,e?na(t):t)}catch{}try{return i.w=Lc((i.XF||{}).numFmtId||(e?14:0),e?na(t):t)}catch{return""+t}}function Ol(i,t,e){return i==null||i.t==null||i.t=="z"?"":i.w!==void 0?i.w:(i.t=="d"&&!i.z&&e&&e.dateNF&&(i.z=e.dateNF),i.t=="e"?Np[i.v]||i.v:t==null?gy(i,i.v):gy(i,t))}function Bd(i,t){var e=t&&t.sheet?t.sheet:"Sheet1",r={};return r[e]=i,{SheetNames:[e],Sheets:r}}function lC(i,t,e){var r=e||{},n=i?Array.isArray(i):r.dense;Qs!=null&&n==null&&(n=Qs);var o=i||(n?[]:{}),a=0,d=0;if(o&&r.origin!=null){if(typeof r.origin=="number")a=r.origin;else{var u=typeof r.origin=="string"?zn(r.origin):r.origin;a=u.r,d=u.c}o["!ref"]||(o["!ref"]="A1:A1")}var m={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(o["!ref"]){var v=Wr(o["!ref"]);m.s.c=v.s.c,m.s.r=v.s.r,m.e.c=Math.max(m.e.c,v.e.c),m.e.r=Math.max(m.e.r,v.e.r),a==-1&&(m.e.r=a=v.e.r+1)}for(var y=0;y!=t.length;++y)if(t[y]){if(!Array.isArray(t[y]))throw new Error("aoa_to_sheet expects an array of arrays");for(var w=0;w!=t[y].length;++w)if(!(typeof t[y][w]>"u")){var x={v:t[y][w]},T=a+y,E=d+w;if(m.s.r>T&&(m.s.r=T),m.s.c>E&&(m.s.c=E),m.e.r<T&&(m.e.r=T),m.e.c<E&&(m.e.c=E),t[y][w]&&typeof t[y][w]=="object"&&!Array.isArray(t[y][w])&&!(t[y][w]instanceof Date))x=t[y][w];else if(Array.isArray(x.v)&&(x.f=t[y][w][1],x.v=x.v[0]),x.v===null)if(x.f)x.t="n";else if(r.nullError)x.t="e",x.v=0;else if(r.sheetStubs)x.t="z";else continue;else typeof x.v=="number"?x.t="n":typeof x.v=="boolean"?x.t="b":x.v instanceof Date?(x.z=r.dateNF||un[14],r.cellDates?(x.t="d",x.w=Lc(x.z,na(x.v))):(x.t="n",x.v=na(x.v),x.w=Lc(x.z,x.v))):x.t="s";if(n)o[T]||(o[T]=[]),o[T][E]&&o[T][E].z&&(x.z=o[T][E].z),o[T][E]=x;else{var k=Er({c:E,r:T});o[k]&&o[k].z&&(x.z=o[k].z),o[k]=x}}}return m.s.c<1e7&&(o["!ref"]=En(m)),o}function Z0(i,t){return lC(null,i,t)}function AO(i){return i.read_shift(4,"i")}function Cs(i,t){return t||(t=nt(4)),t.write_shift(4,i),t}function _o(i){var t=i.read_shift(4);return t===0?"":i.read_shift(t,"dbcs")}function Wn(i,t){var e=!1;return t==null&&(e=!0,t=nt(4+2*i.length)),t.write_shift(4,i.length),i.length>0&&t.write_shift(0,i,"dbcs"),e?t.slice(0,t.l):t}function IO(i){return{ich:i.read_shift(2),ifnt:i.read_shift(2)}}function OO(i,t){return t||(t=nt(4)),t.write_shift(2,i.ich||0),t.write_shift(2,i.ifnt||0),t}function Rv(i,t){var e=i.l,r=i.read_shift(1),n=_o(i),o=[],a={t:n,h:n};if(r&1){for(var d=i.read_shift(4),u=0;u!=d;++u)o.push(IO(i));a.r=o}else a.r=[{ich:0,ifnt:0}];return i.l=e+t,a}function FO(i,t){var e=!1;return t==null&&(e=!0,t=nt(15+4*i.t.length)),t.write_shift(1,0),Wn(i.t,t),e?t.slice(0,t.l):t}var NO=Rv;function LO(i,t){var e=!1;return t==null&&(e=!0,t=nt(23+4*i.t.length)),t.write_shift(1,1),Wn(i.t,t),t.write_shift(4,1),OO({ich:0,ifnt:0},t),e?t.slice(0,t.l):t}function Ja(i){var t=i.read_shift(4),e=i.read_shift(2);return e+=i.read_shift(1)<<16,i.l++,{c:t,iStyleRef:e}}function Ud(i,t){return t==null&&(t=nt(8)),t.write_shift(-4,i.c),t.write_shift(3,i.iStyleRef||i.s),t.write_shift(1,0),t}function Vd(i){var t=i.read_shift(2);return t+=i.read_shift(1)<<16,i.l++,{c:-1,iStyleRef:t}}function qd(i,t){return t==null&&(t=nt(4)),t.write_shift(3,i.iStyleRef||i.s),t.write_shift(1,0),t}var DO=_o,cC=Wn;function Bv(i){var t=i.read_shift(4);return t===0||t===4294967295?"":i.read_shift(t,"dbcs")}function gh(i,t){var e=!1;return t==null&&(e=!0,t=nt(127)),t.write_shift(4,i.length>0?i.length:4294967295),i.length>0&&t.write_shift(0,i,"dbcs"),e?t.slice(0,t.l):t}var RO=_o,yv=Bv,Uv=gh;function dC(i){var t=i.slice(i.l,i.l+4),e=t[0]&1,r=t[0]&2;i.l+=4;var n=r===0?hh([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Od(t,0)>>2;return e?n/100:n}function uC(i,t){t==null&&(t=nt(4));var e=0,r=0,n=i*100;if(i==(i|0)&&i>=-(1<<29)&&i<1<<29?r=1:n==(n|0)&&n>=-(1<<29)&&n<1<<29&&(r=1,e=1),r)t.write_shift(-4,((e?n:i)<<2)+(e+2));else throw new Error("unsupported RkNumber "+i)}function pC(i){var t={s:{},e:{}};return t.s.r=i.read_shift(4),t.e.r=i.read_shift(4),t.s.c=i.read_shift(4),t.e.c=i.read_shift(4),t}function BO(i,t){return t||(t=nt(16)),t.write_shift(4,i.s.r),t.write_shift(4,i.e.r),t.write_shift(4,i.s.c),t.write_shift(4,i.e.c),t}var jd=pC,Y0=BO;function K0(i){if(i.length-i.l<8)throw"XLS Xnum Buffer underflow";return i.read_shift(8,"f")}function Dd(i,t){return(t||nt(8)).write_shift(8,i,"f")}function UO(i){var t={},e=i.read_shift(1),r=e>>>1,n=i.read_shift(1),o=i.read_shift(2,"i"),a=i.read_shift(1),d=i.read_shift(1),u=i.read_shift(1);switch(i.l++,r){case 0:t.auto=1;break;case 1:t.index=n;var m=XO[n];m&&(t.rgb=My(m));break;case 2:t.rgb=My([a,d,u]);break;case 3:t.theme=n;break}return o!=0&&(t.tint=o>0?o/32767:o/32768),t}function vh(i,t){if(t||(t=nt(8)),!i||i.auto)return t.write_shift(4,0),t.write_shift(4,0),t;i.index!=null?(t.write_shift(1,2),t.write_shift(1,i.index)):i.theme!=null?(t.write_shift(1,6),t.write_shift(1,i.theme)):(t.write_shift(1,5),t.write_shift(1,0));var e=i.tint||0;if(e>0?e*=32767:e<0&&(e*=32768),t.write_shift(2,e),!i.rgb||i.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var r=i.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),t.write_shift(1,parseInt(r.slice(0,2),16)),t.write_shift(1,parseInt(r.slice(2,4),16)),t.write_shift(1,parseInt(r.slice(4,6),16)),t.write_shift(1,255)}return t}function VO(i){var t=i.read_shift(1);i.l++;var e={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return e}function qO(i,t){t||(t=nt(2));var e=(i.italic?2:0)|(i.strike?8:0)|(i.outline?16:0)|(i.shadow?32:0)|(i.condense?64:0)|(i.extend?128:0);return t.write_shift(1,e),t.write_shift(1,0),t}var fC=2,Ca=3,sh=11;var _h=19;var lh=64,jO=65,zO=71;var WO=4108,HO=4126,eo=80;var vy={1:{n:"CodePage",t:fC},2:{n:"Category",t:eo},3:{n:"PresentationFormat",t:eo},4:{n:"ByteCount",t:Ca},5:{n:"LineCount",t:Ca},6:{n:"ParagraphCount",t:Ca},7:{n:"SlideCount",t:Ca},8:{n:"NoteCount",t:Ca},9:{n:"HiddenCount",t:Ca},10:{n:"MultimediaClipCount",t:Ca},11:{n:"ScaleCrop",t:sh},12:{n:"HeadingPairs",t:WO},13:{n:"TitlesOfParts",t:HO},14:{n:"Manager",t:eo},15:{n:"Company",t:eo},16:{n:"LinksUpToDate",t:sh},17:{n:"CharacterCount",t:Ca},19:{n:"SharedDoc",t:sh},22:{n:"HyperlinksChanged",t:sh},23:{n:"AppVersion",t:Ca,p:"version"},24:{n:"DigSig",t:jO},26:{n:"ContentType",t:eo},27:{n:"ContentStatus",t:eo},28:{n:"Language",t:eo},29:{n:"Version",t:eo},255:{},2147483648:{n:"Locale",t:_h},2147483651:{n:"Behavior",t:_h},1919054434:{}},_y={1:{n:"CodePage",t:fC},2:{n:"Title",t:eo},3:{n:"Subject",t:eo},4:{n:"Author",t:eo},5:{n:"Keywords",t:eo},6:{n:"Comments",t:eo},7:{n:"Template",t:eo},8:{n:"LastAuthor",t:eo},9:{n:"RevNumber",t:eo},10:{n:"EditTime",t:lh},11:{n:"LastPrinted",t:lh},12:{n:"CreatedDate",t:lh},13:{n:"ModifiedDate",t:lh},14:{n:"PageCount",t:Ca},15:{n:"WordCount",t:Ca},16:{n:"CharCount",t:Ca},17:{n:"Thumbnail",t:zO},18:{n:"Application",t:eo},19:{n:"DocSecurity",t:Ca},255:{},2147483648:{n:"Locale",t:_h},2147483651:{n:"Behavior",t:_h},1919054434:{}};function GO(i){return i.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var $O=GO([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),XO=oa($O),Np={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"};var ZO={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},ch={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function mC(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function hC(i,t){var e=nO(ZO),r=[],n;r[r.length]=Pn,r[r.length]=Dt("Types",null,{xmlns:jn.CT,"xmlns:xsd":jn.xsd,"xmlns:xsi":jn.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(u){return Dt("Default",null,{Extension:u[0],ContentType:u[1]})}));var o=function(u){i[u]&&i[u].length>0&&(n=i[u][0],r[r.length]=Dt("Override",null,{PartName:(n[0]=="/"?"":"/")+n,ContentType:ch[u][t.bookType]||ch[u].xlsx}))},a=function(u){(i[u]||[]).forEach(function(m){r[r.length]=Dt("Override",null,{PartName:(m[0]=="/"?"":"/")+m,ContentType:ch[u][t.bookType]||ch[u].xlsx})})},d=function(u){(i[u]||[]).forEach(function(m){r[r.length]=Dt("Override",null,{PartName:(m[0]=="/"?"":"/")+m,ContentType:e[u][0]})})};return o("workbooks"),a("sheets"),a("charts"),d("themes"),["strs","styles"].forEach(o),["coreprops","extprops","custprops"].forEach(d),d("vba"),d("comments"),d("threadedcomments"),d("drawings"),a("metadata"),d("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var cr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function gC(i){var t=i.lastIndexOf("/");return i.slice(0,t+1)+"_rels/"+i.slice(t+1)+".rels"}function j0(i){var t=[Pn,Dt("Relationships",null,{xmlns:jn.RELS})];return no(i["!id"]).forEach(function(e){t[t.length]=Dt("Relationship",null,i["!id"][e])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function wr(i,t,e,r,n,o){if(n||(n={}),i["!id"]||(i["!id"]={}),i["!idx"]||(i["!idx"]=1),t<0)for(t=i["!idx"];i["!id"]["rId"+t];++t);if(i["!idx"]=t+1,n.Id="rId"+t,n.Type=r,n.Target=e,o?n.TargetMode=o:[cr.HLINK,cr.XPATH,cr.XMISS].indexOf(n.Type)>-1&&(n.TargetMode="External"),i["!id"][n.Id])throw new Error("Cannot rewrite rId "+t);return i["!id"][n.Id]=n,i[("/"+n.Target).replace("//","/")]=n,t}function YO(i){var t=[Pn];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var e=0;e<i.length;++e)t.push('  <manifest:file-entry manifest:full-path="'+i[e][0]+'" manifest:media-type="'+i[e][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function by(i,t,e){return['  <rdf:Description rdf:about="'+i+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(e||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function KO(i,t){return['  <rdf:Description rdf:about="'+i+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function JO(i){var t=[Pn];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var e=0;e!=i.length;++e)t.push(by(i[e][0],i[e][1])),t.push(KO("",i[e][0]));return t.push(by("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function vC(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Ep.version+"</meta:generator></office:meta></office:document-meta>"}var Nd=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function mv(i,t,e,r,n){n[i]!=null||t==null||t===""||(n[i]=t,t=Sr(t),r[r.length]=e?Dt(i,t,e):io(i,t))}function _C(i,t){var e=t||{},r=[Pn,Dt("cp:coreProperties",null,{"xmlns:cp":jn.CORE_PROPS,"xmlns:dc":jn.dc,"xmlns:dcterms":jn.dcterms,"xmlns:dcmitype":jn.dcmitype,"xmlns:xsi":jn.xsi})],n={};if(!i&&!e.Props)return r.join("");i&&(i.CreatedDate!=null&&mv("dcterms:created",typeof i.CreatedDate=="string"?i.CreatedDate:xv(i.CreatedDate,e.WTF),{"xsi:type":"dcterms:W3CDTF"},r,n),i.ModifiedDate!=null&&mv("dcterms:modified",typeof i.ModifiedDate=="string"?i.ModifiedDate:xv(i.ModifiedDate,e.WTF),{"xsi:type":"dcterms:W3CDTF"},r,n));for(var o=0;o!=Nd.length;++o){var a=Nd[o],d=e.Props&&e.Props[a[1]]!=null?e.Props[a[1]]:i?i[a[1]]:null;d===!0?d="1":d===!1?d="0":typeof d=="number"&&(d=String(d)),d!=null&&mv(a[0],d,null,r,n)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var z0=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],bC=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function xC(i){var t=[],e=Dt;return i||(i={}),i.Application="SheetJS",t[t.length]=Pn,t[t.length]=Dt("Properties",null,{xmlns:jn.EXT_PROPS,"xmlns:vt":jn.vt}),z0.forEach(function(r){if(i[r[1]]!==void 0){var n;switch(r[2]){case"string":n=Sr(String(i[r[1]]));break;case"bool":n=i[r[1]]?"true":"false";break}n!==void 0&&(t[t.length]=e(r[0],n))}}),t[t.length]=e("HeadingPairs",e("vt:vector",e("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+e("vt:variant",e("vt:i4",String(i.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=e("TitlesOfParts",e("vt:vector",i.SheetNames.map(function(r){return"<vt:lpstr>"+Sr(r)+"</vt:lpstr>"}).join(""),{size:i.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function yC(i){var t=[Pn,Dt("Properties",null,{xmlns:jn.CUST_PROPS,"xmlns:vt":jn.vt})];if(!i)return t.join("");var e=1;return no(i).forEach(function(n){++e,t[t.length]=Dt("property",hO(i[n],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e,name:Sr(n)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var xy={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function QO(i,t){var e=[];return no(xy).map(function(r){for(var n=0;n<Nd.length;++n)if(Nd[n][1]==r)return Nd[n];for(n=0;n<z0.length;++n)if(z0[n][1]==r)return z0[n];throw r}).forEach(function(r){if(i[r[1]]!=null){var n=t&&t.Props&&t.Props[r[1]]!=null?t.Props[r[1]]:i[r[1]];switch(r[2]){case"date":n=new Date(n).toISOString().replace(/\.\d*Z/,"Z");break}typeof n=="number"?n=String(n):n===!0||n===!1?n=n?"1":"0":n instanceof Date&&(n=new Date(n).toISOString().replace(/\.\d*Z/,"")),e.push(io(xy[r[1]]||r[1],n))}}),Dt("DocumentProperties",e.join(""),{xmlns:Sa.o})}function eF(i,t){var e=["Worksheets","SheetNames"],r="CustomDocumentProperties",n=[];return i&&no(i).forEach(function(o){if(Object.prototype.hasOwnProperty.call(i,o)){for(var a=0;a<Nd.length;++a)if(o==Nd[a][1])return;for(a=0;a<z0.length;++a)if(o==z0[a][1])return;for(a=0;a<e.length;++a)if(o==e[a])return;var d=i[o],u="string";typeof d=="number"?(u="float",d=String(d)):d===!0||d===!1?(u="boolean",d=d?"1":"0"):d=String(d),n.push(Dt(sy(o),d,{"dt:dt":u}))}}),t&&no(t).forEach(function(o){if(Object.prototype.hasOwnProperty.call(t,o)&&!(i&&Object.prototype.hasOwnProperty.call(i,o))){var a=t[o],d="string";typeof a=="number"?(d="float",a=String(a)):a===!0||a===!1?(d="boolean",a=a?"1":"0"):a instanceof Date?(d="dateTime.tz",a=a.toISOString()):a=String(a),n.push(Dt(sy(o),a,{"dt:dt":d}))}}),"<"+r+' xmlns="'+Sa.o+'">'+n.join("")+"</"+r+">"}function tF(i){var t=typeof i=="string"?new Date(Date.parse(i)):i,e=t.getTime()/1e3+11644473600,r=e%Math.pow(2,32),n=(e-r)/Math.pow(2,32);r*=1e7,n*=1e7;var o=r/Math.pow(2,32)|0;o>0&&(r=r%Math.pow(2,32),n+=o);var a=nt(8);return a.write_shift(4,r),a.write_shift(4,n),a}function yy(i,t){var e=nt(4),r=nt(4);switch(e.write_shift(4,i==80?31:i),i){case 3:r.write_shift(-4,t);break;case 5:r=nt(8),r.write_shift(8,t,"f");break;case 11:r.write_shift(4,t?1:0);break;case 64:r=tF(t);break;case 31:case 80:for(r=nt(4+2*(t.length+1)+(t.length%2?0:2)),r.write_shift(4,t.length+1),r.write_shift(0,t,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+i+" "+t)}return to([e,r])}var CC=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function iF(i){switch(typeof i){case"boolean":return 11;case"number":return(i|0)==i?3:5;case"string":return 31;case"object":if(i instanceof Date)return 64;break}return-1}function Cy(i,t,e){var r=nt(8),n=[],o=[],a=8,d=0,u=nt(8),m=nt(8);if(u.write_shift(4,2),u.write_shift(4,1200),m.write_shift(4,1),o.push(u),n.push(m),a+=8+u.length,!t){m=nt(8),m.write_shift(4,0),n.unshift(m);var v=[nt(4)];for(v[0].write_shift(4,i.length),d=0;d<i.length;++d){var y=i[d][0];for(u=nt(8+2*(y.length+1)+(y.length%2?0:2)),u.write_shift(4,d+2),u.write_shift(4,y.length+1),u.write_shift(0,y,"dbcs");u.l!=u.length;)u.write_shift(1,0);v.push(u)}u=to(v),o.unshift(u),a+=8+u.length}for(d=0;d<i.length;++d)if(!(t&&!t[i[d][0]])&&!(CC.indexOf(i[d][0])>-1||bC.indexOf(i[d][0])>-1)&&i[d][1]!=null){var w=i[d][1],x=0;if(t){x=+t[i[d][0]];var T=e[x];if(T.p=="version"&&typeof w=="string"){var E=w.split(".");w=(+E[0]<<16)+(+E[1]||0)}u=yy(T.t,w)}else{var k=iF(w);k==-1&&(k=31,w=String(w)),u=yy(k,w)}o.push(u),m=nt(8),m.write_shift(4,t?x:2+d),n.push(m),a+=8+u.length}var F=8*(o.length+1);for(d=0;d<o.length;++d)n[d].write_shift(4,F),F+=o[d].length;return r.write_shift(4,a),r.write_shift(4,o.length),to([r].concat(n).concat(o))}function wy(i,t,e,r,n,o){var a=nt(n?68:48),d=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,Fr.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,n?2:1),a.write_shift(16,t,"hex"),a.write_shift(4,n?68:48);var u=Cy(i,e,r);if(d.push(u),n){var m=Cy(n,null,null);a.write_shift(16,o,"hex"),a.write_shift(4,68+u.length),d.push(m)}return to(d)}function rF(i,t){t||(t=nt(i));for(var e=0;e<i;++e)t.write_shift(1,0);return t}function nF(i,t){return i.read_shift(t)===1}function Bo(i,t){return t||(t=nt(2)),t.write_shift(2,+!!i),t}function wC(i){return i.read_shift(2,"u")}function Ka(i,t){return t||(t=nt(2)),t.write_shift(2,i),t}function SC(i,t,e){return e||(e=nt(2)),e.write_shift(1,t=="e"?+i:+!!i),e.write_shift(1,t=="e"?1:0),e}function EC(i,t,e){var r=i.read_shift(e&&e.biff>=12?2:1),n="sbcs-cont",o=Fd;if(e&&e.biff>=8&&(Fd=1200),!e||e.biff==8){var a=i.read_shift(1);a&&(n="dbcs-cont")}else e.biff==12&&(n="wstr");e.biff>=2&&e.biff<=5&&(n="cpstr");var d=r?i.read_shift(r,n):"";return Fd=o,d}function oF(i){var t=i.t||"",e=1,r=nt(3+(e>1?2:0));r.write_shift(2,t.length),r.write_shift(1,(e>1?8:0)|1),e>1&&r.write_shift(2,e);var n=nt(2*t.length);n.write_shift(2*t.length,t,"utf16le");var o=[r,n];return to(o)}function aF(i,t,e){var r;if(e){if(e.biff>=2&&e.biff<=5)return i.read_shift(t,"cpstr");if(e.biff>=12)return i.read_shift(t,"dbcs-cont")}var n=i.read_shift(1);return n===0?r=i.read_shift(t,"sbcs-cont"):r=i.read_shift(t,"dbcs-cont"),r}function sF(i,t,e){var r=i.read_shift(e&&e.biff==2?1:2);return r===0?(i.l++,""):aF(i,r,e)}function lF(i,t,e){if(e.biff>5)return sF(i,t,e);var r=i.read_shift(1);return r===0?(i.l++,""):i.read_shift(r,e.biff<=4||!i.lens?"cpstr":"sbcs-cont")}function PC(i,t,e){return e||(e=nt(3+2*i.length)),e.write_shift(2,i.length),e.write_shift(1,1),e.write_shift(31,i,"utf16le"),e}function Sy(i,t){t||(t=nt(6+i.length*2)),t.write_shift(4,1+i.length);for(var e=0;e<i.length;++e)t.write_shift(2,i.charCodeAt(e));return t.write_shift(2,0),t}function cF(i){var t=nt(512),e=0,r=i.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var n=r.indexOf("#"),o=n>-1?31:23;switch(r.charAt(0)){case"#":o=28;break;case".":o&=-3;break}t.write_shift(4,2),t.write_shift(4,o);var a=[8,6815827,6619237,4849780,83];for(e=0;e<a.length;++e)t.write_shift(4,a[e]);if(o==28)r=r.slice(1),Sy(r,t);else if(o&2){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),e=0;e<a.length;++e)t.write_shift(1,parseInt(a[e],16));var d=n>-1?r.slice(0,n):r;for(t.write_shift(4,2*(d.length+1)),e=0;e<d.length;++e)t.write_shift(2,d.charCodeAt(e));t.write_shift(2,0),o&8&&Sy(n>-1?r.slice(n+1):"",t)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),e=0;e<a.length;++e)t.write_shift(1,parseInt(a[e],16));for(var u=0;r.slice(u*3,u*3+3)=="../"||r.slice(u*3,u*3+3)=="..\\";)++u;for(t.write_shift(2,u),t.write_shift(4,r.length-3*u+1),e=0;e<r.length-3*u;++e)t.write_shift(1,r.charCodeAt(e+3*u)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),e=0;e<6;++e)t.write_shift(4,0)}return t.slice(0,t.l)}function Rd(i,t,e,r){return r||(r=nt(6)),r.write_shift(2,i),r.write_shift(2,t),r.write_shift(2,e||0),r}function dF(i,t,e){var r=e.biff>8?4:2,n=i.read_shift(r),o=i.read_shift(r,"i"),a=i.read_shift(r,"i");return[n,o,a]}function uF(i){var t=i.read_shift(2),e=i.read_shift(2),r=i.read_shift(2),n=i.read_shift(2);return{s:{c:r,r:t},e:{c:n,r:e}}}function MC(i,t){return t||(t=nt(8)),t.write_shift(2,i.s.r),t.write_shift(2,i.e.r),t.write_shift(2,i.s.c),t.write_shift(2,i.e.c),t}function Vv(i,t,e){var r=1536,n=16;switch(e.bookType){case"biff8":break;case"biff5":r=1280,n=8;break;case"biff4":r=4,n=6;break;case"biff3":r=3,n=6;break;case"biff2":r=2,n=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var o=nt(n);return o.write_shift(2,r),o.write_shift(2,t),n>4&&o.write_shift(2,29282),n>6&&o.write_shift(2,1997),n>8&&(o.write_shift(2,49161),o.write_shift(2,1),o.write_shift(2,1798),o.write_shift(2,0)),o}function pF(i,t){var e=!t||t.biff==8,r=nt(e?112:54);for(r.write_shift(t.biff==8?2:1,7),e&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(e?0:536870912));r.l<r.length;)r.write_shift(1,e?0:32);return r}function fF(i,t){var e=!t||t.biff>=8?2:1,r=nt(8+e*i.name.length);r.write_shift(4,i.pos),r.write_shift(1,i.hs||0),r.write_shift(1,i.dt),r.write_shift(1,i.name.length),t.biff>=8&&r.write_shift(1,1),r.write_shift(e*i.name.length,i.name,t.biff<8?"sbcs":"utf16le");var n=r.slice(0,r.l);return n.l=r.l,n}function mF(i,t){var e=nt(8);e.write_shift(4,i.Count),e.write_shift(4,i.Unique);for(var r=[],n=0;n<i.length;++n)r[n]=oF(i[n],t);var o=to([e].concat(r));return o.parts=[e.length].concat(r.map(function(a){return a.length})),o}function hF(){var i=nt(18);return i.write_shift(2,0),i.write_shift(2,0),i.write_shift(2,29280),i.write_shift(2,17600),i.write_shift(2,56),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(2,1),i.write_shift(2,500),i}function gF(i){var t=nt(18),e=1718;return i&&i.RTL&&(e|=64),t.write_shift(2,e),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function vF(i,t){var e=i.name||"Arial",r=t&&t.biff==5,n=r?15+e.length:16+2*e.length,o=nt(n);return o.write_shift(2,(i.sz||12)*20),o.write_shift(4,0),o.write_shift(2,400),o.write_shift(4,0),o.write_shift(2,0),o.write_shift(1,e.length),r||o.write_shift(1,1),o.write_shift((r?1:2)*e.length,e,r?"sbcs":"utf16le"),o}function _F(i,t,e,r){var n=nt(10);return Rd(i,t,r,n),n.write_shift(4,e),n}function bF(i,t,e,r,n){var o=!n||n.biff==8,a=nt(8+ +o+(1+o)*e.length);return Rd(i,t,r,a),a.write_shift(2,e.length),o&&a.write_shift(1,1),a.write_shift((1+o)*e.length,e,o?"utf16le":"sbcs"),a}function xF(i,t,e,r){var n=e&&e.biff==5;r||(r=nt(n?3+t.length:5+2*t.length)),r.write_shift(2,i),r.write_shift(n?1:2,t.length),n||r.write_shift(1,1),r.write_shift((n?1:2)*t.length,t,n?"sbcs":"utf16le");var o=r.length>r.l?r.slice(0,r.l):r;return o.l==null&&(o.l=o.length),o}function yF(i,t){var e=t.biff==8||!t.biff?4:2,r=nt(2*e+6);return r.write_shift(e,i.s.r),r.write_shift(e,i.e.r+1),r.write_shift(2,i.s.c),r.write_shift(2,i.e.c+1),r.write_shift(2,0),r}function Ey(i,t,e,r){var n=e&&e.biff==5;r||(r=nt(n?16:20)),r.write_shift(2,0),i.style?(r.write_shift(2,i.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,i.numFmtId||0),r.write_shift(2,t<<4));var o=0;return i.numFmtId>0&&n&&(o|=1024),r.write_shift(4,o),r.write_shift(4,0),n||r.write_shift(4,0),r.write_shift(2,0),r}function CF(i){var t=nt(8);return t.write_shift(4,0),t.write_shift(2,i[0]?i[0]+1:0),t.write_shift(2,i[1]?i[1]+1:0),t}function wF(i,t,e,r,n,o){var a=nt(8);return Rd(i,t,r,a),SC(e,o,a),a}function SF(i,t,e,r){var n=nt(14);return Rd(i,t,r,n),Dd(e,n),n}function EF(i,t,e){if(e.biff<8)return PF(i,t,e);for(var r=[],n=i.l+t,o=i.read_shift(e.biff>8?4:2);o--!==0;)r.push(dF(i,e.biff>8?12:6,e));if(i.l!=n)throw new Error("Bad ExternSheet: "+i.l+" != "+n);return r}function PF(i,t,e){i[i.l+1]==3&&i[i.l]++;var r=EC(i,t,e);return r.charCodeAt(0)==3?r.slice(1):r}function MF(i){var t=nt(2+i.length*8);t.write_shift(2,i.length);for(var e=0;e<i.length;++e)MC(i[e],t);return t}function TF(i){var t=nt(24),e=zn(i[0]);t.write_shift(2,e.r),t.write_shift(2,e.r),t.write_shift(2,e.c),t.write_shift(2,e.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<16;++n)t.write_shift(1,parseInt(r[n],16));return to([t,cF(i[1])])}function kF(i){var t=i[1].Tooltip,e=nt(10+2*(t.length+1));e.write_shift(2,2048);var r=zn(i[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n=0;n<t.length;++n)e.write_shift(2,t.charCodeAt(n));return e.write_shift(2,0),e}function AF(i){return i||(i=nt(4)),i.write_shift(2,1),i.write_shift(2,1),i}function IF(i,t,e){if(!e.cellStyles)return el(i,t);var r=e&&e.biff>=12?4:2,n=i.read_shift(r),o=i.read_shift(r),a=i.read_shift(r),d=i.read_shift(r),u=i.read_shift(2);r==2&&(i.l+=2);var m={s:n,e:o,w:a,ixfe:d,flags:u};return(e.biff>=5||!e.biff)&&(m.level=u>>8&7),m}function OF(i,t){var e=nt(12);e.write_shift(2,t),e.write_shift(2,t),e.write_shift(2,i.width*256),e.write_shift(2,0);var r=0;return i.hidden&&(r|=1),e.write_shift(1,r),r=i.level||0,e.write_shift(1,r),e.write_shift(2,0),e}function FF(i){for(var t=nt(2*i),e=0;e<i;++e)t.write_shift(2,e+1);return t}function NF(i,t,e){var r=nt(15);return Dp(r,i,t),r.write_shift(8,e,"f"),r}function LF(i,t,e){var r=nt(9);return Dp(r,i,t),r.write_shift(2,e),r}var DF=function(){var i={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=Ev({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function e(d,u){var m=[],v=Ld(1);switch(u.type){case"base64":v=xs(Il(d));break;case"binary":v=xs(d);break;case"buffer":case"array":v=d;break}wa(v,0);var y=v.read_shift(1),w=!!(y&136),x=!1,T=!1;switch(y){case 2:break;case 3:break;case 48:x=!0,w=!0;break;case 49:x=!0,w=!0;break;case 131:break;case 139:break;case 140:T=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+y.toString(16))}var E=0,k=521;y==2&&(E=v.read_shift(2)),v.l+=3,y!=2&&(E=v.read_shift(4)),E>1048576&&(E=1e6),y!=2&&(k=v.read_shift(2));var F=v.read_shift(2),U=u.codepage||1252;y!=2&&(v.l+=16,v.read_shift(1),v[v.l]!==0&&(U=i[v[v.l]]),v.l+=1,v.l+=2),T&&(v.l+=36);for(var Y=[],ve={},we=Math.min(v.length,y==2?521:k-10-(x?264:0)),Ue=T?32:11;v.l<we&&v[v.l]!=13;)switch(ve={},ve.name=Dr.utils.decode(U,v.slice(v.l,v.l+Ue)).replace(/[\u0000\r\n].*$/g,""),v.l+=Ue,ve.type=String.fromCharCode(v.read_shift(1)),y!=2&&!T&&(ve.offset=v.read_shift(4)),ve.len=v.read_shift(1),y==2&&(ve.offset=v.read_shift(2)),ve.dec=v.read_shift(1),ve.name.length&&Y.push(ve),y!=2&&(v.l+=T?13:14),ve.type){case"B":(!x||ve.len!=8)&&u.WTF&&console.log("Skipping "+ve.name+":"+ve.type);break;case"G":case"P":u.WTF&&console.log("Skipping "+ve.name+":"+ve.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+ve.type)}if(v[v.l]!==13&&(v.l=k-1),v.read_shift(1)!==13)throw new Error("DBF Terminator not found "+v.l+" "+v[v.l]);v.l=k;var ne=0,re=0;for(m[0]=[],re=0;re!=Y.length;++re)m[0][re]=Y[re].name;for(;E-- >0;){if(v[v.l]===42){v.l+=F;continue}for(++v.l,m[++ne]=[],re=0,re=0;re!=Y.length;++re){var ce=v.slice(v.l,v.l+Y[re].len);v.l+=Y[re].len,wa(ce,0);var Ce=Dr.utils.decode(U,ce);switch(Y[re].type){case"C":Ce.trim().length&&(m[ne][re]=Ce.replace(/\s+$/,""));break;case"D":Ce.length===8?m[ne][re]=new Date(+Ce.slice(0,4),+Ce.slice(4,6)-1,+Ce.slice(6,8)):m[ne][re]=Ce;break;case"F":m[ne][re]=parseFloat(Ce.trim());break;case"+":case"I":m[ne][re]=T?ce.read_shift(-4,"i")^2147483648:ce.read_shift(4,"i");break;case"L":switch(Ce.trim().toUpperCase()){case"Y":case"T":m[ne][re]=!0;break;case"N":case"F":m[ne][re]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+Ce+"|")}break;case"M":if(!w)throw new Error("DBF Unexpected MEMO for type "+y.toString(16));m[ne][re]="##MEMO##"+(T?parseInt(Ce.trim(),10):ce.read_shift(4));break;case"N":Ce=Ce.replace(/\u0000/g,"").trim(),Ce&&Ce!="."&&(m[ne][re]=+Ce||0);break;case"@":m[ne][re]=new Date(ce.read_shift(-8,"f")-621356832e5);break;case"T":m[ne][re]=new Date((ce.read_shift(4)-2440588)*864e5+ce.read_shift(4));break;case"Y":m[ne][re]=ce.read_shift(4,"i")/1e4+ce.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":m[ne][re]=-ce.read_shift(-8,"f");break;case"B":if(x&&Y[re].len==8){m[ne][re]=ce.read_shift(8,"f");break}case"G":case"P":ce.l+=Y[re].len;break;case"0":if(Y[re].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+Y[re].type)}}}if(y!=2&&v.l<v.length&&v[v.l++]!=26)throw new Error("DBF EOF Marker missing "+(v.l-1)+" of "+v.length+" "+v[v.l-1].toString(16));return u&&u.sheetRows&&(m=m.slice(0,u.sheetRows)),u.DBF=Y,m}function r(d,u){var m=u||{};m.dateNF||(m.dateNF="yyyymmdd");var v=Z0(e(d,m),m);return v["!cols"]=m.DBF.map(function(y){return{wch:y.len,DBF:y}}),delete m.DBF,v}function n(d,u){try{return Bd(r(d,u),u)}catch(m){if(u&&u.WTF)throw m}return{SheetNames:[],Sheets:{}}}var o={B:8,C:250,L:1,D:8,"?":0,"":0};function a(d,u){var m=u||{};if(+m.codepage>=0&&Pp(+m.codepage),m.type=="string")throw new Error("Cannot write DBF to JS string");var v=ra(),y=wh(d,{header:1,raw:!0,cellDates:!0}),w=y[0],x=y.slice(1),T=d["!cols"]||[],E=0,k=0,F=0,U=1;for(E=0;E<w.length;++E){if(((T[E]||{}).DBF||{}).name){w[E]=T[E].DBF.name,++F;continue}if(w[E]!=null){if(++F,typeof w[E]=="number"&&(w[E]=w[E].toString(10)),typeof w[E]!="string")throw new Error("DBF Invalid column name "+w[E]+" |"+typeof w[E]+"|");if(w.indexOf(w[E])!==E){for(k=0;k<1024;++k)if(w.indexOf(w[E]+"_"+k)==-1){w[E]+="_"+k;break}}}}var Y=Wr(d["!ref"]),ve=[],we=[],Ue=[];for(E=0;E<=Y.e.c-Y.s.c;++E){var ne="",re="",ce=0,Ce=[];for(k=0;k<x.length;++k)x[k][E]!=null&&Ce.push(x[k][E]);if(Ce.length==0||w[E]==null){ve[E]="?";continue}for(k=0;k<Ce.length;++k){switch(typeof Ce[k]){case"number":re="B";break;case"string":re="C";break;case"boolean":re="L";break;case"object":re=Ce[k]instanceof Date?"D":"C";break;default:re="C"}ce=Math.max(ce,String(Ce[k]).length),ne=ne&&ne!=re?"C":re}ce>250&&(ce=250),re=((T[E]||{}).DBF||{}).type,re=="C"&&T[E].DBF.len>ce&&(ce=T[E].DBF.len),ne=="B"&&re=="N"&&(ne="N",Ue[E]=T[E].DBF.dec,ce=T[E].DBF.len),we[E]=ne=="C"||re=="N"?ce:o[ne]||0,U+=we[E],ve[E]=ne}var W=v.next(32);for(W.write_shift(4,318902576),W.write_shift(4,x.length),W.write_shift(2,296+32*F),W.write_shift(2,U),E=0;E<4;++E)W.write_shift(4,0);for(W.write_shift(4,0|(+t[H0]||3)<<8),E=0,k=0;E<w.length;++E)if(w[E]!=null){var G=v.next(32),xe=(w[E].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);G.write_shift(1,xe,"sbcs"),G.write_shift(1,ve[E]=="?"?"C":ve[E],"sbcs"),G.write_shift(4,k),G.write_shift(1,we[E]||o[ve[E]]||0),G.write_shift(1,Ue[E]||0),G.write_shift(1,2),G.write_shift(4,0),G.write_shift(1,0),G.write_shift(4,0),G.write_shift(4,0),k+=we[E]||o[ve[E]]||0}var ye=v.next(264);for(ye.write_shift(4,13),E=0;E<65;++E)ye.write_shift(4,0);for(E=0;E<x.length;++E){var Le=v.next(U);for(Le.write_shift(1,0),k=0;k<w.length;++k)if(w[k]!=null)switch(ve[k]){case"L":Le.write_shift(1,x[E][k]==null?63:x[E][k]?84:70);break;case"B":Le.write_shift(8,x[E][k]||0,"f");break;case"N":var Ie="0";for(typeof x[E][k]=="number"&&(Ie=x[E][k].toFixed(Ue[k]||0)),F=0;F<we[k]-Ie.length;++F)Le.write_shift(1,32);Le.write_shift(1,Ie,"sbcs");break;case"D":x[E][k]?(Le.write_shift(4,("0000"+x[E][k].getFullYear()).slice(-4),"sbcs"),Le.write_shift(2,("00"+(x[E][k].getMonth()+1)).slice(-2),"sbcs"),Le.write_shift(2,("00"+x[E][k].getDate()).slice(-2),"sbcs")):Le.write_shift(8,"00000000","sbcs");break;case"C":var Ye=String(x[E][k]!=null?x[E][k]:"").slice(0,we[k]);for(Le.write_shift(1,Ye,"sbcs"),F=0;F<we[k]-Ye.length;++F)Le.write_shift(1,32);break}}return v.next(1).write_shift(1,26),v.end()}return{to_workbook:n,to_sheet:r,from_sheet:a}}(),RF=function(){var i={AA:"\xC0",BA:"\xC1",CA:"\xC2",DA:195,HA:"\xC4",JA:197,AE:"\xC8",BE:"\xC9",CE:"\xCA",HE:"\xCB",AI:"\xCC",BI:"\xCD",CI:"\xCE",HI:"\xCF",AO:"\xD2",BO:"\xD3",CO:"\xD4",DO:213,HO:"\xD6",AU:"\xD9",BU:"\xDA",CU:"\xDB",HU:"\xDC",Aa:"\xE0",Ba:"\xE1",Ca:"\xE2",Da:227,Ha:"\xE4",Ja:229,Ae:"\xE8",Be:"\xE9",Ce:"\xEA",He:"\xEB",Ai:"\xEC",Bi:"\xED",Ci:"\xEE",Hi:"\xEF",Ao:"\xF2",Bo:"\xF3",Co:"\xF4",Do:245,Ho:"\xF6",Au:"\xF9",Bu:"\xFA",Cu:"\xFB",Hu:"\xFC",KC:"\xC7",Kc:"\xE7",q:"\xE6",z:"\u0153",a:"\xC6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+no(i).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),e=function(w,x){var T=i[x];return typeof T=="number"?Zx(T):T},r=function(w,x,T){var E=x.charCodeAt(0)-32<<4|T.charCodeAt(0)-48;return E==59?w:Zx(E)};i["|"]=254;function n(w,x){switch(x.type){case"base64":return o(Il(w),x);case"binary":return o(w,x);case"buffer":return o(ur&&Buffer.isBuffer(w)?w.toString("binary"):Op(w),x);case"array":return o(Th(w),x)}throw new Error("Unrecognized type "+x.type)}function o(w,x){var T=w.split(/[\n\r]+/),E=-1,k=-1,F=0,U=0,Y=[],ve=[],we=null,Ue={},ne=[],re=[],ce=[],Ce=0,W;for(+x.codepage>=0&&Pp(+x.codepage);F!==T.length;++F){Ce=0;var G=T[F].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,e),xe=G.replace(/;;/g,"\0").split(";").map(function(z){return z.replace(/\u0000/g,";")}),ye=xe[0],Le;if(G.length>0)switch(ye){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":xe[1].charAt(0)=="P"&&ve.push(G.slice(3).replace(/;;/g,";"));break;case"C":var Ie=!1,Ye=!1,ke=!1,qe=!1,Xe=-1,St=-1;for(U=1;U<xe.length;++U)switch(xe[U].charAt(0)){case"A":break;case"X":k=parseInt(xe[U].slice(1))-1,Ye=!0;break;case"Y":for(E=parseInt(xe[U].slice(1))-1,Ye||(k=0),W=Y.length;W<=E;++W)Y[W]=[];break;case"K":Le=xe[U].slice(1),Le.charAt(0)==='"'?Le=Le.slice(1,Le.length-1):Le==="TRUE"?Le=!0:Le==="FALSE"?Le=!1:isNaN(kl(Le))?isNaN(Tp(Le).getDate())||(Le=Uo(Le)):(Le=kl(Le),we!==null&&Gy(we)&&(Le=Yy(Le))),typeof Dr<"u"&&typeof Le=="string"&&(x||{}).type!="string"&&(x||{}).codepage&&(Le=Dr.utils.decode(x.codepage,Le)),Ie=!0;break;case"E":qe=!0;var A=L7(xe[U].slice(1),{r:E,c:k});Y[E][k]=[Y[E][k],A];break;case"S":ke=!0,Y[E][k]=[Y[E][k],"S5S"];break;case"G":break;case"R":Xe=parseInt(xe[U].slice(1))-1;break;case"C":St=parseInt(xe[U].slice(1))-1;break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+G)}if(Ie&&(Y[E][k]&&Y[E][k].length==2?Y[E][k][0]=Le:Y[E][k]=Le,we=null),ke){if(qe)throw new Error("SYLK shared formula cannot have own formula");var j=Xe>-1&&Y[Xe][St];if(!j||!j[1])throw new Error("SYLK shared formula cannot find base");Y[E][k][1]=D7(j[1],{r:E-Xe,c:k-St})}break;case"F":var R=0;for(U=1;U<xe.length;++U)switch(xe[U].charAt(0)){case"X":k=parseInt(xe[U].slice(1))-1,++R;break;case"Y":for(E=parseInt(xe[U].slice(1))-1,W=Y.length;W<=E;++W)Y[W]=[];break;case"M":Ce=parseInt(xe[U].slice(1))/20;break;case"F":break;case"G":break;case"P":we=ve[parseInt(xe[U].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(ce=xe[U].slice(1).split(" "),W=parseInt(ce[0],10);W<=parseInt(ce[1],10);++W)Ce=parseInt(ce[2],10),re[W-1]=Ce===0?{hidden:!0}:{wch:Ce},qv(re[W-1]);break;case"C":k=parseInt(xe[U].slice(1))-1,re[k]||(re[k]={});break;case"R":E=parseInt(xe[U].slice(1))-1,ne[E]||(ne[E]={}),Ce>0?(ne[E].hpt=Ce,ne[E].hpx=OC(Ce)):Ce===0&&(ne[E].hidden=!0);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+G)}R<1&&(we=null);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+G)}}return ne.length>0&&(Ue["!rows"]=ne),re.length>0&&(Ue["!cols"]=re),x&&x.sheetRows&&(Y=Y.slice(0,x.sheetRows)),[Y,Ue]}function a(w,x){var T=n(w,x),E=T[0],k=T[1],F=Z0(E,x);return no(k).forEach(function(U){F[U]=k[U]}),F}function d(w,x){return Bd(a(w,x),x)}function u(w,x,T,E){var k="C;Y"+(T+1)+";X"+(E+1)+";K";switch(w.t){case"n":k+=w.v||0,w.f&&!w.F&&(k+=";E"+zv(w.f,{r:T,c:E}));break;case"b":k+=w.v?"TRUE":"FALSE";break;case"e":k+=w.w||w.v;break;case"d":k+='"'+(w.w||w.v)+'"';break;case"s":k+='"'+w.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return k}function m(w,x){x.forEach(function(T,E){var k="F;W"+(E+1)+" "+(E+1)+" ";T.hidden?k+="0":(typeof T.width=="number"&&!T.wpx&&(T.wpx=bh(T.width)),typeof T.wpx=="number"&&!T.wch&&(T.wch=xh(T.wpx)),typeof T.wch=="number"&&(k+=Math.round(T.wch))),k.charAt(k.length-1)!=" "&&w.push(k)})}function v(w,x){x.forEach(function(T,E){var k="F;";T.hidden?k+="M0;":T.hpt?k+="M"+20*T.hpt+";":T.hpx&&(k+="M"+20*yh(T.hpx)+";"),k.length>2&&w.push(k+"R"+(E+1))})}function y(w,x){var T=["ID;PWXL;N;E"],E=[],k=Wr(w["!ref"]),F,U=Array.isArray(w),Y=`\r
`;T.push("P;PGeneral"),T.push("F;P0;DG0G8;M255"),w["!cols"]&&m(T,w["!cols"]),w["!rows"]&&v(T,w["!rows"]),T.push("B;Y"+(k.e.r-k.s.r+1)+";X"+(k.e.c-k.s.c+1)+";D"+[k.s.c,k.s.r,k.e.c,k.e.r].join(" "));for(var ve=k.s.r;ve<=k.e.r;++ve)for(var we=k.s.c;we<=k.e.c;++we){var Ue=Er({r:ve,c:we});F=U?(w[ve]||[])[we]:w[Ue],!(!F||F.v==null&&(!F.f||F.F))&&E.push(u(F,w,ve,we,x))}return T.join(Y)+Y+E.join(Y)+Y+"E"+Y}return{to_workbook:d,to_sheet:a,from_sheet:y}}(),BF=function(){function i(o,a){switch(a.type){case"base64":return t(Il(o),a);case"binary":return t(o,a);case"buffer":return t(ur&&Buffer.isBuffer(o)?o.toString("binary"):Op(o),a);case"array":return t(Th(o),a)}throw new Error("Unrecognized type "+a.type)}function t(o,a){for(var d=o.split(`
`),u=-1,m=-1,v=0,y=[];v!==d.length;++v){if(d[v].trim()==="BOT"){y[++u]=[],m=0;continue}if(!(u<0)){var w=d[v].trim().split(","),x=w[0],T=w[1];++v;for(var E=d[v]||"";(E.match(/["]/g)||[]).length&1&&v<d.length-1;)E+=`
`+d[++v];switch(E=E.trim(),+x){case-1:if(E==="BOT"){y[++u]=[],m=0;continue}else if(E!=="EOD")throw new Error("Unrecognized DIF special command "+E);break;case 0:E==="TRUE"?y[u][m]=!0:E==="FALSE"?y[u][m]=!1:isNaN(kl(T))?isNaN(Tp(T).getDate())?y[u][m]=T:y[u][m]=Uo(T):y[u][m]=kl(T),++m;break;case 1:E=E.slice(1,E.length-1),E=E.replace(/""/g,'"'),vp&&E&&E.match(/^=".*"$/)&&(E=E.slice(2,-1)),y[u][m++]=E!==""?E:null;break}if(E==="EOD")break}}return a&&a.sheetRows&&(y=y.slice(0,a.sheetRows)),y}function e(o,a){return Z0(i(o,a),a)}function r(o,a){return Bd(e(o,a),a)}var n=function(){var o=function(u,m,v,y,w){u.push(m),u.push(v+","+y),u.push('"'+w.replace(/"/g,'""')+'"')},a=function(u,m,v,y){u.push(m+","+v),u.push(m==1?'"'+y.replace(/"/g,'""')+'"':y)};return function(u){var m=[],v=Wr(u["!ref"]),y,w=Array.isArray(u);o(m,"TABLE",0,1,"sheetjs"),o(m,"VECTORS",0,v.e.r-v.s.r+1,""),o(m,"TUPLES",0,v.e.c-v.s.c+1,""),o(m,"DATA",0,0,"");for(var x=v.s.r;x<=v.e.r;++x){a(m,-1,0,"BOT");for(var T=v.s.c;T<=v.e.c;++T){var E=Er({r:x,c:T});if(y=w?(u[x]||[])[T]:u[E],!y){a(m,1,0,"");continue}switch(y.t){case"n":var k=vp?y.w:y.v;!k&&y.v!=null&&(k=y.v),k==null?vp&&y.f&&!y.F?a(m,1,0,"="+y.f):a(m,1,0,""):a(m,0,k,"V");break;case"b":a(m,0,y.v?1:0,y.v?"TRUE":"FALSE");break;case"s":a(m,1,0,!vp||isNaN(y.v)?y.v:'="'+y.v+'"');break;case"d":y.w||(y.w=Lc(y.z||un[14],na(Uo(y.v)))),vp?a(m,0,y.w,"V"):a(m,1,0,y.w);break;default:a(m,1,0,"")}}}a(m,-1,0,"EOD");var F=`\r
`,U=m.join(F);return U}}();return{to_workbook:r,to_sheet:e,from_sheet:n}}(),TC=function(){function i(y){return y.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(y){return y.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function e(y,w){for(var x=y.split(`
`),T=-1,E=-1,k=0,F=[];k!==x.length;++k){var U=x[k].trim().split(":");if(U[0]==="cell"){var Y=zn(U[1]);if(F.length<=Y.r)for(T=F.length;T<=Y.r;++T)F[T]||(F[T]=[]);switch(T=Y.r,E=Y.c,U[2]){case"t":F[T][E]=i(U[3]);break;case"v":F[T][E]=+U[3];break;case"vtf":var ve=U[U.length-1];case"vtc":switch(U[3]){case"nl":F[T][E]=!!+U[4];break;default:F[T][E]=+U[4];break}U[2]=="vtf"&&(F[T][E]=[F[T][E],ve])}}}return w&&w.sheetRows&&(F=F.slice(0,w.sheetRows)),F}function r(y,w){return Z0(e(y,w),w)}function n(y,w){return Bd(r(y,w),w)}var o=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,d=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),u="--SocialCalcSpreadsheetControlSave--";function m(y){if(!y||!y["!ref"])return"";for(var w=[],x=[],T,E="",k=Ea(y["!ref"]),F=Array.isArray(y),U=k.s.r;U<=k.e.r;++U)for(var Y=k.s.c;Y<=k.e.c;++Y)if(E=Er({r:U,c:Y}),T=F?(y[U]||[])[Y]:y[E],!(!T||T.v==null||T.t==="z")){switch(x=["cell",E,"t"],T.t){case"s":case"str":x.push(t(T.v));break;case"n":T.f?(x[2]="vtf",x[3]="n",x[4]=T.v,x[5]=t(T.f)):(x[2]="v",x[3]=T.v);break;case"b":x[2]="vt"+(T.f?"f":"c"),x[3]="nl",x[4]=T.v?"1":"0",x[5]=t(T.f||(T.v?"TRUE":"FALSE"));break;case"d":var ve=na(Uo(T.v));x[2]="vtc",x[3]="nd",x[4]=""+ve,x[5]=T.w||Lc(T.z||un[14],ve);break;case"e":continue}w.push(x.join(":"))}return w.push("sheet:c:"+(k.e.c-k.s.c+1)+":r:"+(k.e.r-k.s.r+1)+":tvf:1"),w.push("valueformat:1:text-wiki"),w.join(`
`)}function v(y){return[o,a,d,a,m(y),u].join(`
`)}return{to_workbook:n,to_sheet:r,from_sheet:v}}(),UF=function(){function i(v,y,w,x,T){T.raw?y[w][x]=v:v===""||(v==="TRUE"?y[w][x]=!0:v==="FALSE"?y[w][x]=!1:isNaN(kl(v))?isNaN(Tp(v).getDate())?y[w][x]=v:y[w][x]=Uo(v):y[w][x]=kl(v))}function t(v,y){var w=y||{},x=[];if(!v||v.length===0)return x;for(var T=v.split(/[\r\n]/),E=T.length-1;E>=0&&T[E].length===0;)--E;for(var k=10,F=0,U=0;U<=E;++U)F=T[U].indexOf(" "),F==-1?F=T[U].length:F++,k=Math.max(k,F);for(U=0;U<=E;++U){x[U]=[];var Y=0;for(i(T[U].slice(0,k).trim(),x,U,Y,w),Y=1;Y<=(T[U].length-k)/10+1;++Y)i(T[U].slice(k+(Y-1)*10,k+Y*10).trim(),x,U,Y,w)}return w.sheetRows&&(x=x.slice(0,w.sheetRows)),x}var e={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function n(v){for(var y={},w=!1,x=0,T=0;x<v.length;++x)(T=v.charCodeAt(x))==34?w=!w:!w&&T in e&&(y[T]=(y[T]||0)+1);T=[];for(x in y)Object.prototype.hasOwnProperty.call(y,x)&&T.push([y[x],x]);if(!T.length){y=r;for(x in y)Object.prototype.hasOwnProperty.call(y,x)&&T.push([y[x],x])}return T.sort(function(E,k){return E[0]-k[0]||r[E[1]]-r[k[1]]}),e[T.pop()[1]]||44}function o(v,y){var w=y||{},x="";Qs!=null&&w.dense==null&&(w.dense=Qs);var T=w.dense?[]:{},E={s:{c:0,r:0},e:{c:0,r:0}};v.slice(0,4)=="sep="?v.charCodeAt(5)==13&&v.charCodeAt(6)==10?(x=v.charAt(4),v=v.slice(7)):v.charCodeAt(5)==13||v.charCodeAt(5)==10?(x=v.charAt(4),v=v.slice(6)):x=n(v.slice(0,1024)):w&&w.FS?x=w.FS:x=n(v.slice(0,1024));var k=0,F=0,U=0,Y=0,ve=0,we=x.charCodeAt(0),Ue=!1,ne=0,re=v.charCodeAt(0);v=v.replace(/\r\n/mg,`
`);var ce=w.dateNF!=null?eO(w.dateNF):null;function Ce(){var W=v.slice(Y,ve),G={};if(W.charAt(0)=='"'&&W.charAt(W.length-1)=='"'&&(W=W.slice(1,-1).replace(/""/g,'"')),W.length===0)G.t="z";else if(w.raw)G.t="s",G.v=W;else if(W.trim().length===0)G.t="s",G.v=W;else if(W.charCodeAt(0)==61)W.charCodeAt(1)==34&&W.charCodeAt(W.length-1)==34?(G.t="s",G.v=W.slice(2,-1).replace(/""/g,'"')):R7(W)?(G.t="n",G.f=W.slice(1)):(G.t="s",G.v=W);else if(W=="TRUE")G.t="b",G.v=!0;else if(W=="FALSE")G.t="b",G.v=!1;else if(!isNaN(U=kl(W)))G.t="n",w.cellText!==!1&&(G.w=W),G.v=U;else if(!isNaN(Tp(W).getDate())||ce&&W.match(ce)){G.z=w.dateNF||un[14];var xe=0;ce&&W.match(ce)&&(W=tO(W,w.dateNF,W.match(ce)||[]),xe=1),w.cellDates?(G.t="d",G.v=Uo(W,xe)):(G.t="n",G.v=na(Uo(W,xe))),w.cellText!==!1&&(G.w=Lc(G.z,G.v instanceof Date?na(G.v):G.v)),w.cellNF||delete G.z}else G.t="s",G.v=W;if(G.t=="z"||(w.dense?(T[k]||(T[k]=[]),T[k][F]=G):T[Er({c:F,r:k})]=G),Y=ve+1,re=v.charCodeAt(Y),E.e.c<F&&(E.e.c=F),E.e.r<k&&(E.e.r=k),ne==we)++F;else if(F=0,++k,w.sheetRows&&w.sheetRows<=k)return!0}e:for(;ve<v.length;++ve)switch(ne=v.charCodeAt(ve)){case 34:re===34&&(Ue=!Ue);break;case we:case 10:case 13:if(!Ue&&Ce())break e;break;default:break}return ve-Y>0&&Ce(),T["!ref"]=En(E),T}function a(v,y){return!(y&&y.PRN)||y.FS||v.slice(0,4)=="sep="||v.indexOf("	")>=0||v.indexOf(",")>=0||v.indexOf(";")>=0?o(v,y):Z0(t(v,y),y)}function d(v,y){var w="",x=y.type=="string"?[0,0,0,0]:KR(v,y);switch(y.type){case"base64":w=Il(v);break;case"binary":w=v;break;case"buffer":y.codepage==65001?w=v.toString("utf8"):y.codepage&&typeof Dr<"u"?w=Dr.utils.decode(y.codepage,v):w=ur&&Buffer.isBuffer(v)?v.toString("binary"):Op(v);break;case"array":w=Th(v);break;case"string":w=v;break;default:throw new Error("Unrecognized type "+y.type)}return x[0]==239&&x[1]==187&&x[2]==191?w=xp(w.slice(3)):y.type!="string"&&y.type!="buffer"&&y.codepage==65001?w=xp(w):y.type=="binary"&&typeof Dr<"u"&&y.codepage&&(w=Dr.utils.decode(y.codepage,Dr.utils.encode(28591,w))),w.slice(0,19)=="socialcalc:version:"?TC.to_sheet(y.type=="string"?w:xp(w),y):a(w,y)}function u(v,y){return Bd(d(v,y),y)}function m(v){for(var y=[],w=Wr(v["!ref"]),x,T=Array.isArray(v),E=w.s.r;E<=w.e.r;++E){for(var k=[],F=w.s.c;F<=w.e.c;++F){var U=Er({r:E,c:F});if(x=T?(v[E]||[])[F]:v[U],!x||x.v==null){k.push("          ");continue}for(var Y=(x.w||(Ol(x),x.w)||"").slice(0,10);Y.length<10;)Y+=" ";k.push(Y+(F===0?" ":""))}y.push(k.join(""))}return y.join(`
`)}return{to_workbook:u,to_sheet:d,from_sheet:m}}();var Py=function(){function i(A,j,R){if(A){wa(A,A.l||0);for(var z=R.Enum||Xe;A.l<A.length;){var le=A.read_shift(2),Pe=z[le]||z[65535],Ne=A.read_shift(2),Ae=A.l+Ne,Be=Pe.f&&Pe.f(A,Ne,R);if(A.l=Ae,j(Be,Pe,le))return}}}function t(A,j){switch(j.type){case"base64":return e(xs(Il(A)),j);case"binary":return e(xs(A),j);case"buffer":case"array":return e(A,j)}throw"Unsupported type "+j.type}function e(A,j){if(!A)return A;var R=j||{};Qs!=null&&R.dense==null&&(R.dense=Qs);var z=R.dense?[]:{},le="Sheet1",Pe="",Ne=0,Ae={},Be=[],at=[],mt={s:{r:0,c:0},e:{r:0,c:0}},At=R.sheetRows||0;if(A[2]==0&&(A[3]==8||A[3]==9)&&A.length>=16&&A[14]==5&&A[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(A[2]==2)R.Enum=Xe,i(A,function(gt,Wt,vt){switch(vt){case 0:R.vers=gt,gt>=4096&&(R.qpro=!0);break;case 6:mt=gt;break;case 204:gt&&(Pe=gt);break;case 222:Pe=gt;break;case 15:case 51:R.qpro||(gt[1].v=gt[1].v.slice(1));case 13:case 14:case 16:vt==14&&(gt[2]&112)==112&&(gt[2]&15)>1&&(gt[2]&15)<15&&(gt[1].z=R.dateNF||un[14],R.cellDates&&(gt[1].t="d",gt[1].v=Yy(gt[1].v))),R.qpro&&gt[3]>Ne&&(z["!ref"]=En(mt),Ae[le]=z,Be.push(le),z=R.dense?[]:{},mt={s:{r:0,c:0},e:{r:0,c:0}},Ne=gt[3],le=Pe||"Sheet"+(Ne+1),Pe="");var Ft=R.dense?(z[gt[0].r]||[])[gt[0].c]:z[Er(gt[0])];if(Ft){Ft.t=gt[1].t,Ft.v=gt[1].v,gt[1].z!=null&&(Ft.z=gt[1].z),gt[1].f!=null&&(Ft.f=gt[1].f);break}R.dense?(z[gt[0].r]||(z[gt[0].r]=[]),z[gt[0].r][gt[0].c]=gt[1]):z[Er(gt[0])]=gt[1];break;default:}},R);else if(A[2]==26||A[2]==14)R.Enum=St,A[2]==14&&(R.qpro=!0,A.l=0),i(A,function(gt,Wt,vt){switch(vt){case 204:le=gt;break;case 22:gt[1].v=gt[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(gt[3]>Ne&&(z["!ref"]=En(mt),Ae[le]=z,Be.push(le),z=R.dense?[]:{},mt={s:{r:0,c:0},e:{r:0,c:0}},Ne=gt[3],le="Sheet"+(Ne+1)),At>0&&gt[0].r>=At)break;R.dense?(z[gt[0].r]||(z[gt[0].r]=[]),z[gt[0].r][gt[0].c]=gt[1]):z[Er(gt[0])]=gt[1],mt.e.c<gt[0].c&&(mt.e.c=gt[0].c),mt.e.r<gt[0].r&&(mt.e.r=gt[0].r);break;case 27:gt[14e3]&&(at[gt[14e3][0]]=gt[14e3][1]);break;case 1537:at[gt[0]]=gt[1],gt[0]==Ne&&(le=gt[1]);break;default:break}},R);else throw new Error("Unrecognized LOTUS BOF "+A[2]);if(z["!ref"]=En(mt),Ae[Pe||le]=z,Be.push(Pe||le),!at.length)return{SheetNames:Be,Sheets:Ae};for(var Lt={},et=[],be=0;be<at.length;++be)Ae[Be[be]]?(et.push(at[be]||Be[be]),Lt[at[be]]=Ae[at[be]]||Ae[Be[be]]):(et.push(at[be]),Lt[at[be]]={"!ref":"A1"});return{SheetNames:et,Sheets:Lt}}function r(A,j){var R=j||{};if(+R.codepage>=0&&Pp(+R.codepage),R.type=="string")throw new Error("Cannot write WK1 to JS string");var z=ra(),le=Wr(A["!ref"]),Pe=Array.isArray(A),Ne=[];Ut(z,0,o(1030)),Ut(z,6,u(le));for(var Ae=Math.min(le.e.r,8191),Be=le.s.r;Be<=Ae;++Be)for(var at=ro(Be),mt=le.s.c;mt<=le.e.c;++mt){Be===le.s.r&&(Ne[mt]=vo(mt));var At=Ne[mt]+at,Lt=Pe?(A[Be]||[])[mt]:A[At];if(!(!Lt||Lt.t=="z"))if(Lt.t=="n")(Lt.v|0)==Lt.v&&Lt.v>=-32768&&Lt.v<=32767?Ut(z,13,x(Be,mt,Lt.v)):Ut(z,14,E(Be,mt,Lt.v));else{var et=Ol(Lt);Ut(z,15,y(Be,mt,et.slice(0,239)))}}return Ut(z,1),z.end()}function n(A,j){var R=j||{};if(+R.codepage>=0&&Pp(+R.codepage),R.type=="string")throw new Error("Cannot write WK3 to JS string");var z=ra();Ut(z,0,a(A));for(var le=0,Pe=0;le<A.SheetNames.length;++le)(A.Sheets[A.SheetNames[le]]||{})["!ref"]&&Ut(z,27,qe(A.SheetNames[le],Pe++));var Ne=0;for(le=0;le<A.SheetNames.length;++le){var Ae=A.Sheets[A.SheetNames[le]];if(!(!Ae||!Ae["!ref"])){for(var Be=Wr(Ae["!ref"]),at=Array.isArray(Ae),mt=[],At=Math.min(Be.e.r,8191),Lt=Be.s.r;Lt<=At;++Lt)for(var et=ro(Lt),be=Be.s.c;be<=Be.e.c;++be){Lt===Be.s.r&&(mt[be]=vo(be));var gt=mt[be]+et,Wt=at?(Ae[Lt]||[])[be]:Ae[gt];if(!(!Wt||Wt.t=="z"))if(Wt.t=="n")Ut(z,23,Ce(Lt,be,Ne,Wt.v));else{var vt=Ol(Wt);Ut(z,22,ne(Lt,be,Ne,vt.slice(0,239)))}}++Ne}}return Ut(z,1),z.end()}function o(A){var j=nt(2);return j.write_shift(2,A),j}function a(A){var j=nt(26);j.write_shift(2,4096),j.write_shift(2,4),j.write_shift(4,0);for(var R=0,z=0,le=0,Pe=0;Pe<A.SheetNames.length;++Pe){var Ne=A.SheetNames[Pe],Ae=A.Sheets[Ne];if(!(!Ae||!Ae["!ref"])){++le;var Be=Ea(Ae["!ref"]);R<Be.e.r&&(R=Be.e.r),z<Be.e.c&&(z=Be.e.c)}}return R>8191&&(R=8191),j.write_shift(2,R),j.write_shift(1,le),j.write_shift(1,z),j.write_shift(2,0),j.write_shift(2,0),j.write_shift(1,1),j.write_shift(1,2),j.write_shift(4,0),j.write_shift(4,0),j}function d(A,j,R){var z={s:{c:0,r:0},e:{c:0,r:0}};return j==8&&R.qpro?(z.s.c=A.read_shift(1),A.l++,z.s.r=A.read_shift(2),z.e.c=A.read_shift(1),A.l++,z.e.r=A.read_shift(2),z):(z.s.c=A.read_shift(2),z.s.r=A.read_shift(2),j==12&&R.qpro&&(A.l+=2),z.e.c=A.read_shift(2),z.e.r=A.read_shift(2),j==12&&R.qpro&&(A.l+=2),z.s.c==65535&&(z.s.c=z.e.c=z.s.r=z.e.r=0),z)}function u(A){var j=nt(8);return j.write_shift(2,A.s.c),j.write_shift(2,A.s.r),j.write_shift(2,A.e.c),j.write_shift(2,A.e.r),j}function m(A,j,R){var z=[{c:0,r:0},{t:"n",v:0},0,0];return R.qpro&&R.vers!=20768?(z[0].c=A.read_shift(1),z[3]=A.read_shift(1),z[0].r=A.read_shift(2),A.l+=2):(z[2]=A.read_shift(1),z[0].c=A.read_shift(2),z[0].r=A.read_shift(2)),z}function v(A,j,R){var z=A.l+j,le=m(A,j,R);if(le[1].t="s",R.vers==20768){A.l++;var Pe=A.read_shift(1);return le[1].v=A.read_shift(Pe,"utf8"),le}return R.qpro&&A.l++,le[1].v=A.read_shift(z-A.l,"cstr"),le}function y(A,j,R){var z=nt(7+R.length);z.write_shift(1,255),z.write_shift(2,j),z.write_shift(2,A),z.write_shift(1,39);for(var le=0;le<z.length;++le){var Pe=R.charCodeAt(le);z.write_shift(1,Pe>=128?95:Pe)}return z.write_shift(1,0),z}function w(A,j,R){var z=m(A,j,R);return z[1].v=A.read_shift(2,"i"),z}function x(A,j,R){var z=nt(7);return z.write_shift(1,255),z.write_shift(2,j),z.write_shift(2,A),z.write_shift(2,R,"i"),z}function T(A,j,R){var z=m(A,j,R);return z[1].v=A.read_shift(8,"f"),z}function E(A,j,R){var z=nt(13);return z.write_shift(1,255),z.write_shift(2,j),z.write_shift(2,A),z.write_shift(8,R,"f"),z}function k(A,j,R){var z=A.l+j,le=m(A,j,R);if(le[1].v=A.read_shift(8,"f"),R.qpro)A.l=z;else{var Pe=A.read_shift(2);ve(A.slice(A.l,A.l+Pe),le),A.l+=Pe}return le}function F(A,j,R){var z=j&32768;return j&=-32769,j=(z?A:0)+(j>=8192?j-16384:j),(z?"":"$")+(R?vo(j):ro(j))}var U={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},Y=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function ve(A,j){wa(A,0);for(var R=[],z=0,le="",Pe="",Ne="",Ae="";A.l<A.length;){var Be=A[A.l++];switch(Be){case 0:R.push(A.read_shift(8,"f"));break;case 1:Pe=F(j[0].c,A.read_shift(2),!0),le=F(j[0].r,A.read_shift(2),!1),R.push(Pe+le);break;case 2:{var at=F(j[0].c,A.read_shift(2),!0),mt=F(j[0].r,A.read_shift(2),!1);Pe=F(j[0].c,A.read_shift(2),!0),le=F(j[0].r,A.read_shift(2),!1),R.push(at+mt+":"+Pe+le)}break;case 3:if(A.l<A.length){console.error("WK1 premature formula end");return}break;case 4:R.push("("+R.pop()+")");break;case 5:R.push(A.read_shift(2));break;case 6:{for(var At="";Be=A[A.l++];)At+=String.fromCharCode(Be);R.push('"'+At.replace(/"/g,'""')+'"')}break;case 8:R.push("-"+R.pop());break;case 23:R.push("+"+R.pop());break;case 22:R.push("NOT("+R.pop()+")");break;case 20:case 21:Ae=R.pop(),Ne=R.pop(),R.push(["AND","OR"][Be-20]+"("+Ne+","+Ae+")");break;default:if(Be<32&&Y[Be])Ae=R.pop(),Ne=R.pop(),R.push(Ne+Y[Be]+Ae);else if(U[Be]){if(z=U[Be][1],z==69&&(z=A[A.l++]),z>R.length){console.error("WK1 bad formula parse 0x"+Be.toString(16)+":|"+R.join("|")+"|");return}var Lt=R.slice(-z);R.length-=z,R.push(U[Be][0]+"("+Lt.join(",")+")")}else return Be<=7?console.error("WK1 invalid opcode "+Be.toString(16)):Be<=24?console.error("WK1 unsupported op "+Be.toString(16)):Be<=30?console.error("WK1 invalid opcode "+Be.toString(16)):Be<=115?console.error("WK1 unsupported function opcode "+Be.toString(16)):console.error("WK1 unrecognized opcode "+Be.toString(16))}}R.length==1?j[1].f=""+R[0]:console.error("WK1 bad formula parse |"+R.join("|")+"|")}function we(A){var j=[{c:0,r:0},{t:"n",v:0},0];return j[0].r=A.read_shift(2),j[3]=A[A.l++],j[0].c=A[A.l++],j}function Ue(A,j){var R=we(A,j);return R[1].t="s",R[1].v=A.read_shift(j-4,"cstr"),R}function ne(A,j,R,z){var le=nt(6+z.length);le.write_shift(2,A),le.write_shift(1,R),le.write_shift(1,j),le.write_shift(1,39);for(var Pe=0;Pe<z.length;++Pe){var Ne=z.charCodeAt(Pe);le.write_shift(1,Ne>=128?95:Ne)}return le.write_shift(1,0),le}function re(A,j){var R=we(A,j);R[1].v=A.read_shift(2);var z=R[1].v>>1;if(R[1].v&1)switch(z&7){case 0:z=(z>>3)*5e3;break;case 1:z=(z>>3)*500;break;case 2:z=(z>>3)/20;break;case 3:z=(z>>3)/200;break;case 4:z=(z>>3)/2e3;break;case 5:z=(z>>3)/2e4;break;case 6:z=(z>>3)/16;break;case 7:z=(z>>3)/64;break}return R[1].v=z,R}function ce(A,j){var R=we(A,j),z=A.read_shift(4),le=A.read_shift(4),Pe=A.read_shift(2);if(Pe==65535)return z===0&&le===3221225472?(R[1].t="e",R[1].v=15):z===0&&le===3489660928?(R[1].t="e",R[1].v=42):R[1].v=0,R;var Ne=Pe&32768;return Pe=(Pe&32767)-16446,R[1].v=(1-Ne*2)*(le*Math.pow(2,Pe+32)+z*Math.pow(2,Pe)),R}function Ce(A,j,R,z){var le=nt(14);if(le.write_shift(2,A),le.write_shift(1,R),le.write_shift(1,j),z==0)return le.write_shift(4,0),le.write_shift(4,0),le.write_shift(2,65535),le;var Pe=0,Ne=0,Ae=0,Be=0;return z<0&&(Pe=1,z=-z),Ne=Math.log2(z)|0,z/=Math.pow(2,Ne-31),Be=z>>>0,Be&2147483648||(z/=2,++Ne,Be=z>>>0),z-=Be,Be|=2147483648,Be>>>=0,z*=Math.pow(2,32),Ae=z>>>0,le.write_shift(4,Ae),le.write_shift(4,Be),Ne+=16383+(Pe?32768:0),le.write_shift(2,Ne),le}function W(A,j){var R=ce(A,14);return A.l+=j-14,R}function G(A,j){var R=we(A,j),z=A.read_shift(4);return R[1].v=z>>6,R}function xe(A,j){var R=we(A,j),z=A.read_shift(8,"f");return R[1].v=z,R}function ye(A,j){var R=xe(A,14);return A.l+=j-10,R}function Le(A,j){return A[A.l+j-1]==0?A.read_shift(j,"cstr"):""}function Ie(A,j){var R=A[A.l++];R>j-1&&(R=j-1);for(var z="";z.length<R;)z+=String.fromCharCode(A[A.l++]);return z}function Ye(A,j,R){if(!(!R.qpro||j<21)){var z=A.read_shift(1);A.l+=17,A.l+=1,A.l+=2;var le=A.read_shift(j-21,"cstr");return[z,le]}}function ke(A,j){for(var R={},z=A.l+j;A.l<z;){var le=A.read_shift(2);if(le==14e3){for(R[le]=[0,""],R[le][0]=A.read_shift(2);A[A.l];)R[le][1]+=String.fromCharCode(A[A.l]),A.l++;A.l++}}return R}function qe(A,j){var R=nt(5+A.length);R.write_shift(2,14e3),R.write_shift(2,j);for(var z=0;z<A.length;++z){var le=A.charCodeAt(z);R[R.l++]=le>127?95:le}return R[R.l++]=0,R}var Xe={0:{n:"BOF",f:wC},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:d},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:w},14:{n:"NUMBER",f:T},15:{n:"LABEL",f:v},16:{n:"FORMULA",f:k},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:v},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Le},222:{n:"SHEETNAMELP",f:Ie},65535:{n:""}},St={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:Ue},23:{n:"NUMBER17",f:ce},24:{n:"NUMBER18",f:re},25:{n:"FORMULA19",f:W},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ke},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:G},38:{n:"??"},39:{n:"NUMBER27",f:xe},40:{n:"FORMULA28",f:ye},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Le},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Ye},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:n,to_workbook:t}}();var VF=/^\s|\s$|[\t\n\r]/;function kC(i,t){if(!t.bookSST)return"";var e=[Pn];e[e.length]=Dt("sst",null,{xmlns:$0[0],count:i.Count,uniqueCount:i.Unique});for(var r=0;r!=i.length;++r)if(i[r]!=null){var n=i[r],o="<si>";n.r?o+=n.r:(o+="<t",n.t||(n.t=""),n.t.match(VF)&&(o+=' xml:space="preserve"'),o+=">"+Sr(n.t)+"</t>"),o+="</si>",e[e.length]=o}return e.length>2&&(e[e.length]="</sst>",e[1]=e[1].replace("/>",">")),e.join("")}function qF(i){return[i.read_shift(4),i.read_shift(4)]}function jF(i,t){return t||(t=nt(8)),t.write_shift(4,i.Count),t.write_shift(4,i.Unique),t}var zF=FO;function WF(i){var t=ra();_t(t,159,jF(i));for(var e=0;e<i.length;++e)_t(t,19,zF(i[e]));return _t(t,160),t.end()}function HF(i){if(typeof Dr<"u")return Dr.utils.encode(H0,i);for(var t=[],e=i.split(""),r=0;r<e.length;++r)t[r]=e[r].charCodeAt(0);return t}function AC(i){var t=0,e,r=HF(i),n=r.length+1,o,a,d,u,m;for(e=Ld(n),e[0]=r.length,o=1;o!=n;++o)e[o]=r[o-1];for(o=n-1;o>=0;--o)a=e[o],d=t&16384?1:0,u=t<<1&32767,m=d|u,t=m^a;return t^52811}var GF=function(){function i(n,o){switch(o.type){case"base64":return t(Il(n),o);case"binary":return t(n,o);case"buffer":return t(ur&&Buffer.isBuffer(n)?n.toString("binary"):Op(n),o);case"array":return t(Th(n),o)}throw new Error("Unrecognized type "+o.type)}function t(n,o){var a=o||{},d=a.dense?[]:{},u=n.match(/\\trowd.*?\\row\b/g);if(!u.length)throw new Error("RTF missing table");var m={s:{c:0,r:0},e:{c:0,r:u.length-1}};return u.forEach(function(v,y){Array.isArray(d)&&(d[y]=[]);for(var w=/\\\w+\b/g,x=0,T,E=-1;T=w.exec(v);){switch(T[0]){case"\\cell":var k=v.slice(x,w.lastIndex-T[0].length);if(k[0]==" "&&(k=k.slice(1)),++E,k.length){var F={v:k,t:"s"};Array.isArray(d)?d[y][E]=F:d[Er({r:y,c:E})]=F}break}x=w.lastIndex}E>m.e.c&&(m.e.c=E)}),d["!ref"]=En(m),d}function e(n,o){return Bd(i(n,o),o)}function r(n){for(var o=["{\\rtf1\\ansi"],a=Wr(n["!ref"]),d,u=Array.isArray(n),m=a.s.r;m<=a.e.r;++m){o.push("\\trowd\\trautofit1");for(var v=a.s.c;v<=a.e.c;++v)o.push("\\cellx"+(v+1));for(o.push("\\pard\\intbl"),v=a.s.c;v<=a.e.c;++v){var y=Er({r:m,c:v});d=u?(n[m]||[])[v]:n[y],!(!d||d.v==null&&(!d.f||d.F))&&(o.push(" "+(d.w||(Ol(d),d.w))),o.push("\\cell"))}o.push("\\pard\\intbl\\row")}return o.join("")+"}"}return{to_workbook:e,to_sheet:i,from_sheet:r}}();function My(i){for(var t=0,e=1;t!=3;++t)e=e*256+(i[t]>255?255:i[t]<0?0:i[t]);return e.toString(16).toUpperCase().slice(1)}var $F=6;var Al=$F;function bh(i){return Math.floor((i+Math.round(128/Al)/256)*Al)}function xh(i){return Math.floor((i-5)/Al*100+.5)/100}function Cv(i){return Math.round((i*Al+5)/Al*256)/256}function qv(i){i.width?(i.wpx=bh(i.width),i.wch=xh(i.wpx),i.MDW=Al):i.wpx?(i.wch=xh(i.wpx),i.width=Cv(i.wch),i.MDW=Al):typeof i.wch=="number"&&(i.width=Cv(i.wch),i.wpx=bh(i.width),i.MDW=Al),i.customWidth&&delete i.customWidth}var XF=96,IC=XF;function yh(i){return i*96/IC}function OC(i){return i*IC/96}function ZF(i){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(e){for(var r=e[0];r<=e[1];++r)i[r]!=null&&(t[t.length]=Dt("numFmt",null,{numFmtId:r,formatCode:Sr(i[r])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Dt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function YF(i){var t=[];return t[t.length]=Dt("cellXfs",null),i.forEach(function(e){t[t.length]=Dt("xf",null,e)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Dt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function FC(i,t){var e=[Pn,Dt("styleSheet",null,{xmlns:$0[0],"xmlns:vt":jn.vt})],r;return i.SSF&&(r=ZF(i.SSF))!=null&&(e[e.length]=r),e[e.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',e[e.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',e[e.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',e[e.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=YF(t.cellXfs))&&(e[e.length]=r),e[e.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',e[e.length]='<dxfs count="0"/>',e[e.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',e.length>2&&(e[e.length]="</styleSheet>",e[1]=e[1].replace("/>",">")),e.join("")}function KF(i,t){var e=i.read_shift(2),r=_o(i,t-2);return[e,r]}function JF(i,t,e){e||(e=nt(6+4*t.length)),e.write_shift(2,i),Wn(t,e);var r=e.length>e.l?e.slice(0,e.l):e;return e.l==null&&(e.l=e.length),r}function QF(i,t,e){var r={};r.sz=i.read_shift(2)/20;var n=VO(i,2,e);n.fItalic&&(r.italic=1),n.fCondense&&(r.condense=1),n.fExtend&&(r.extend=1),n.fShadow&&(r.shadow=1),n.fOutline&&(r.outline=1),n.fStrikeout&&(r.strike=1);var o=i.read_shift(2);switch(o===700&&(r.bold=1),i.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var a=i.read_shift(1);a!=0&&(r.underline=a);var d=i.read_shift(1);d>0&&(r.family=d);var u=i.read_shift(1);switch(u>0&&(r.charset=u),i.l++,r.color=UO(i,8),i.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=_o(i,t-21),r}function e7(i,t){t||(t=nt(25+4*32)),t.write_shift(2,i.sz*20),qO(i,t),t.write_shift(2,i.bold?700:400);var e=0;i.vertAlign=="superscript"?e=1:i.vertAlign=="subscript"&&(e=2),t.write_shift(2,e),t.write_shift(1,i.underline||0),t.write_shift(1,i.family||0),t.write_shift(1,i.charset||0),t.write_shift(1,0),vh(i.color,t);var r=0;return i.scheme=="major"&&(r=1),i.scheme=="minor"&&(r=2),t.write_shift(1,r),Wn(i.name,t),t.length>t.l?t.slice(0,t.l):t}var t7=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],hv,i7=el;function Ty(i,t){t||(t=nt(4*3+8*7+16*1)),hv||(hv=Ev(t7));var e=hv[i.patternType];e==null&&(e=40),t.write_shift(4,e);var r=0;if(e!=40)for(vh({auto:1},t),vh({auto:1},t);r<12;++r)t.write_shift(4,0);else{for(;r<4;++r)t.write_shift(4,0);for(;r<12;++r)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function r7(i,t){var e=i.l+t,r=i.read_shift(2),n=i.read_shift(2);return i.l=e,{ixfe:r,numFmtId:n}}function NC(i,t,e){e||(e=nt(16)),e.write_shift(2,t||0),e.write_shift(2,i.numFmtId||0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);var r=0;return e.write_shift(1,r),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(1,0),e}function _p(i,t){return t||(t=nt(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var n7=el;function o7(i,t){return t||(t=nt(51)),t.write_shift(1,0),_p(null,t),_p(null,t),_p(null,t),_p(null,t),_p(null,t),t.length>t.l?t.slice(0,t.l):t}function a7(i,t){return t||(t=nt(12+4*10)),t.write_shift(4,i.xfId),t.write_shift(2,1),t.write_shift(1,+i.builtinId),t.write_shift(1,0),gh(i.name||"",t),t.length>t.l?t.slice(0,t.l):t}function s7(i,t,e){var r=nt(2052);return r.write_shift(4,i),gh(t,r),gh(e,r),r.length>r.l?r.slice(0,r.l):r}function l7(i,t){if(t){var e=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&++e}),e!=0&&(_t(i,615,Cs(e)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&_t(i,44,JF(n,t[n]))}),_t(i,616))}}function c7(i){var t=1;t!=0&&(_t(i,611,Cs(t)),_t(i,43,e7({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),_t(i,612))}function d7(i){var t=2;t!=0&&(_t(i,603,Cs(t)),_t(i,45,Ty({patternType:"none"})),_t(i,45,Ty({patternType:"gray125"})),_t(i,604))}function u7(i){var t=1;t!=0&&(_t(i,613,Cs(t)),_t(i,46,o7({})),_t(i,614))}function p7(i){var t=1;_t(i,626,Cs(t)),_t(i,47,NC({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),_t(i,627)}function f7(i,t){_t(i,617,Cs(t.length)),t.forEach(function(e){_t(i,47,NC(e,0))}),_t(i,618)}function m7(i){var t=1;_t(i,619,Cs(t)),_t(i,48,a7({xfId:0,builtinId:0,name:"Normal"})),_t(i,620)}function h7(i){var t=0;_t(i,505,Cs(t)),_t(i,506)}function g7(i){var t=0;_t(i,508,s7(t,"TableStyleMedium9","PivotStyleMedium4")),_t(i,509)}function v7(i,t){var e=ra();return _t(e,278),l7(e,i.SSF),c7(e,i),d7(e,i),u7(e,i),p7(e,i),f7(e,t.cellXfs),m7(e,i),h7(e,i),g7(e,i),_t(e,279),e.end()}function LC(i,t){if(t&&t.themeXLSX)return t.themeXLSX;if(i&&typeof i.raw=="string")return i.raw;var e=[Pn];return e[e.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',e[e.length]="<a:themeElements>",e[e.length]='<a:clrScheme name="Office">',e[e.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',e[e.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',e[e.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',e[e.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',e[e.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',e[e.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',e[e.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',e[e.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',e[e.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',e[e.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',e[e.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',e[e.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',e[e.length]="</a:clrScheme>",e[e.length]='<a:fontScheme name="Office">',e[e.length]="<a:majorFont>",e[e.length]='<a:latin typeface="Cambria"/>',e[e.length]='<a:ea typeface=""/>',e[e.length]='<a:cs typeface=""/>',e[e.length]='<a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/>',e[e.length]='<a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/>',e[e.length]='<a:font script="Hans" typeface="\u5B8B\u4F53"/>',e[e.length]='<a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/>',e[e.length]='<a:font script="Arab" typeface="Times New Roman"/>',e[e.length]='<a:font script="Hebr" typeface="Times New Roman"/>',e[e.length]='<a:font script="Thai" typeface="Tahoma"/>',e[e.length]='<a:font script="Ethi" typeface="Nyala"/>',e[e.length]='<a:font script="Beng" typeface="Vrinda"/>',e[e.length]='<a:font script="Gujr" typeface="Shruti"/>',e[e.length]='<a:font script="Khmr" typeface="MoolBoran"/>',e[e.length]='<a:font script="Knda" typeface="Tunga"/>',e[e.length]='<a:font script="Guru" typeface="Raavi"/>',e[e.length]='<a:font script="Cans" typeface="Euphemia"/>',e[e.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',e[e.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',e[e.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',e[e.length]='<a:font script="Thaa" typeface="MV Boli"/>',e[e.length]='<a:font script="Deva" typeface="Mangal"/>',e[e.length]='<a:font script="Telu" typeface="Gautami"/>',e[e.length]='<a:font script="Taml" typeface="Latha"/>',e[e.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',e[e.length]='<a:font script="Orya" typeface="Kalinga"/>',e[e.length]='<a:font script="Mlym" typeface="Kartika"/>',e[e.length]='<a:font script="Laoo" typeface="DokChampa"/>',e[e.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',e[e.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',e[e.length]='<a:font script="Viet" typeface="Times New Roman"/>',e[e.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',e[e.length]='<a:font script="Geor" typeface="Sylfaen"/>',e[e.length]="</a:majorFont>",e[e.length]="<a:minorFont>",e[e.length]='<a:latin typeface="Calibri"/>',e[e.length]='<a:ea typeface=""/>',e[e.length]='<a:cs typeface=""/>',e[e.length]='<a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/>',e[e.length]='<a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/>',e[e.length]='<a:font script="Hans" typeface="\u5B8B\u4F53"/>',e[e.length]='<a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/>',e[e.length]='<a:font script="Arab" typeface="Arial"/>',e[e.length]='<a:font script="Hebr" typeface="Arial"/>',e[e.length]='<a:font script="Thai" typeface="Tahoma"/>',e[e.length]='<a:font script="Ethi" typeface="Nyala"/>',e[e.length]='<a:font script="Beng" typeface="Vrinda"/>',e[e.length]='<a:font script="Gujr" typeface="Shruti"/>',e[e.length]='<a:font script="Khmr" typeface="DaunPenh"/>',e[e.length]='<a:font script="Knda" typeface="Tunga"/>',e[e.length]='<a:font script="Guru" typeface="Raavi"/>',e[e.length]='<a:font script="Cans" typeface="Euphemia"/>',e[e.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',e[e.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',e[e.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',e[e.length]='<a:font script="Thaa" typeface="MV Boli"/>',e[e.length]='<a:font script="Deva" typeface="Mangal"/>',e[e.length]='<a:font script="Telu" typeface="Gautami"/>',e[e.length]='<a:font script="Taml" typeface="Latha"/>',e[e.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',e[e.length]='<a:font script="Orya" typeface="Kalinga"/>',e[e.length]='<a:font script="Mlym" typeface="Kartika"/>',e[e.length]='<a:font script="Laoo" typeface="DokChampa"/>',e[e.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',e[e.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',e[e.length]='<a:font script="Viet" typeface="Arial"/>',e[e.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',e[e.length]='<a:font script="Geor" typeface="Sylfaen"/>',e[e.length]="</a:minorFont>",e[e.length]="</a:fontScheme>",e[e.length]='<a:fmtScheme name="Office">',e[e.length]="<a:fillStyleLst>",e[e.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:lin ang="16200000" scaled="1"/>',e[e.length]="</a:gradFill>",e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:lin ang="16200000" scaled="0"/>',e[e.length]="</a:gradFill>",e[e.length]="</a:fillStyleLst>",e[e.length]="<a:lnStyleLst>",e[e.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]="</a:lnStyleLst>",e[e.length]="<a:effectStyleLst>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]="</a:effectStyle>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]="</a:effectStyle>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',e[e.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',e[e.length]="</a:effectStyle>",e[e.length]="</a:effectStyleLst>",e[e.length]="<a:bgFillStyleLst>",e[e.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',e[e.length]="</a:gradFill>",e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',e[e.length]="</a:gradFill>",e[e.length]="</a:bgFillStyleLst>",e[e.length]="</a:fmtScheme>",e[e.length]="</a:themeElements>",e[e.length]="<a:objectDefaults>",e[e.length]="<a:spDef>",e[e.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',e[e.length]="</a:spDef>",e[e.length]="<a:lnDef>",e[e.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',e[e.length]="</a:lnDef>",e[e.length]="</a:objectDefaults>",e[e.length]="<a:extraClrSchemeLst/>",e[e.length]="</a:theme>",e.join("")}function _7(i,t){return{flags:i.read_shift(4),version:i.read_shift(4),name:_o(i,t-8)}}function b7(i){var t=nt(12+2*i.name.length);return t.write_shift(4,i.flags),t.write_shift(4,i.version),Wn(i.name,t),t.slice(0,t.l)}function x7(i){for(var t=[],e=i.read_shift(4);e-- >0;)t.push([i.read_shift(4),i.read_shift(4)]);return t}function y7(i){var t=nt(4+8*i.length);t.write_shift(4,i.length);for(var e=0;e<i.length;++e)t.write_shift(4,i[e][0]),t.write_shift(4,i[e][1]);return t}function C7(i,t){var e=nt(8+2*t.length);return e.write_shift(4,i),Wn(t,e),e.slice(0,e.l)}function w7(i){return i.l+=4,i.read_shift(4)!=0}function S7(i,t){var e=nt(8);return e.write_shift(4,i),e.write_shift(4,t?1:0),e}function E7(){var i=ra();return _t(i,332),_t(i,334,Cs(1)),_t(i,335,b7({name:"XLDAPR",version:12e4,flags:3496657072})),_t(i,336),_t(i,339,C7(1,"XLDAPR")),_t(i,52),_t(i,35,Cs(514)),_t(i,4096,Cs(0)),_t(i,4097,Ka(1)),_t(i,36),_t(i,53),_t(i,340),_t(i,337,S7(1,!0)),_t(i,51,y7([[1,0]])),_t(i,338),_t(i,333),i.end()}function DC(){var i=[Pn];return i.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),i.join("")}function P7(i){var t={};t.i=i.read_shift(4);var e={};e.r=i.read_shift(4),e.c=i.read_shift(4),t.r=Er(e);var r=i.read_shift(1);return r&2&&(t.l="1"),r&8&&(t.a="1"),t}var U0=1024;function RC(i,t){for(var e=[21600,21600],r=["m0,0l0",e[1],e[0],e[1],e[0],"0xe"].join(","),n=[Dt("xml",null,{"xmlns:v":Sa.v,"xmlns:o":Sa.o,"xmlns:x":Sa.x,"xmlns:mv":Sa.mv}).replace(/\/>/,">"),Dt("o:shapelayout",Dt("o:idmap",null,{"v:ext":"edit",data:i}),{"v:ext":"edit"}),Dt("v:shapetype",[Dt("v:stroke",null,{joinstyle:"miter"}),Dt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:e.join(","),path:r})];U0<i*1e3;)U0+=1e3;return t.forEach(function(o){var a=zn(o[0]),d={color2:"#BEFF82",type:"gradient"};d.type=="gradient"&&(d.angle="-180");var u=d.type=="gradient"?Dt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,m=Dt("v:fill",u,d),v={on:"t",obscured:"t"};++U0,n=n.concat(["<v:shape"+kp({id:"_x0000_s"+U0,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(o[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",m,Dt("v:shadow",null,v),Dt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",io("x:Anchor",[a.c+1,0,a.r+1,0,a.c+3,20,a.r+5,20].join(",")),io("x:AutoFill","False"),io("x:Row",String(a.r)),io("x:Column",String(a.c)),o[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),n.push("</xml>"),n.join("")}function BC(i){var t=[Pn,Dt("comments",null,{xmlns:$0[0]})],e=[];return t.push("<authors>"),i.forEach(function(r){r[1].forEach(function(n){var o=Sr(n.a);e.indexOf(o)==-1&&(e.push(o),t.push("<author>"+o+"</author>")),n.T&&n.ID&&e.indexOf("tc="+n.ID)==-1&&(e.push("tc="+n.ID),t.push("<author>tc="+n.ID+"</author>"))})}),e.length==0&&(e.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),i.forEach(function(r){var n=0,o=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?n=e.indexOf("tc="+r[1][0].ID):r[1].forEach(function(u){u.a&&(n=e.indexOf(Sr(u.a))),o.push(u.t||"")}),t.push('<comment ref="'+r[0]+'" authorId="'+n+'"><text>'),o.length<=1)t.push(io("t",Sr(o[0]||"")));else{for(var a=`Comment:
    `+o[0]+`
`,d=1;d<o.length;++d)a+=`Reply:
    `+o[d]+`
`;t.push(io("t",Sr(a)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function M7(i,t,e){var r=[Pn,Dt("ThreadedComments",null,{xmlns:jn.TCMNT}).replace(/[\/]>/,">")];return i.forEach(function(n){var o="";(n[1]||[]).forEach(function(a,d){if(!a.T){delete a.ID;return}a.a&&t.indexOf(a.a)==-1&&t.push(a.a);var u={ref:n[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+e.tcid++).slice(-12)+"}"};d==0?o=u.id:u.parentId=o,a.ID=u.id,a.a&&(u.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(a.a)).slice(-12)+"}"),r.push(Dt("threadedComment",io("text",a.t||""),u))})}),r.push("</ThreadedComments>"),r.join("")}function T7(i){var t=[Pn,Dt("personList",null,{xmlns:jn.TCMNT,"xmlns:x":$0[0]}).replace(/[\/]>/,">")];return i.forEach(function(e,r){t.push(Dt("person",null,{displayName:e,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:e,providerId:"None"}))}),t.push("</personList>"),t.join("")}function k7(i){var t={};t.iauthor=i.read_shift(4);var e=jd(i,16);return t.rfx=e.s,t.ref=Er(e.s),i.l+=16,t}function A7(i,t){return t==null&&(t=nt(36)),t.write_shift(4,i[1].iauthor),Y0(i[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var I7=_o;function O7(i){return Wn(i.slice(0,54))}function F7(i){var t=ra(),e=[];return _t(t,628),_t(t,630),i.forEach(function(r){r[1].forEach(function(n){e.indexOf(n.a)>-1||(e.push(n.a.slice(0,54)),_t(t,632,O7(n.a)))})}),_t(t,631),_t(t,633),i.forEach(function(r){r[1].forEach(function(n){n.iauthor=e.indexOf(n.a);var o={s:zn(r[0]),e:zn(r[0])};_t(t,635,A7([o,n])),n.t&&n.t.length>0&&_t(t,637,LO(n)),_t(t,636),delete n.iauthor})}),_t(t,634),_t(t,629),t.end()}function N7(i,t){t.FullPaths.forEach(function(e,r){if(r!=0){var n=e.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");n.slice(-1)!=="/"&&Fr.utils.cfb_add(i,n,t.FileIndex[r].content)}})}var UC=["xlsb","xlsm","xlam","biff8","xla"];var L7=function(){var i=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function e(r,n,o,a){var d=!1,u=!1;o.length==0?u=!0:o.charAt(0)=="["&&(u=!0,o=o.slice(1,-1)),a.length==0?d=!0:a.charAt(0)=="["&&(d=!0,a=a.slice(1,-1));var m=o.length>0?parseInt(o,10)|0:0,v=a.length>0?parseInt(a,10)|0:0;return d?v+=t.c:--v,u?m+=t.r:--m,n+(d?"":"$")+vo(v)+(u?"":"$")+ro(m)}return function(n,o){return t=o,n.replace(i,e)}}(),jv=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,zv=function(){return function(t,e){return t.replace(jv,function(r,n,o,a,d,u){var m=Dv(a)-(o?0:e.c),v=Lv(u)-(d?0:e.r),y=v==0?"":d?v+1:"["+v+"]",w=m==0?"":o?m+1:"["+m+"]";return n+"R"+y+"C"+w})}}();function D7(i,t){return i.replace(jv,function(e,r,n,o,a,d){return r+(n=="$"?n+o:vo(Dv(o)+t.c))+(a=="$"?a+d:ro(Lv(d)+t.r))})}function R7(i){return i.length!=1}function Sn(i){i.l+=1}function Dc(i,t){var e=i.read_shift(t==1?1:2);return[e&16383,e>>14&1,e>>15&1]}function VC(i,t,e){var r=2;if(e){if(e.biff>=2&&e.biff<=5)return qC(i,t,e);e.biff==12&&(r=4)}var n=i.read_shift(r),o=i.read_shift(r),a=Dc(i,2),d=Dc(i,2);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:o,c:d[0],cRel:d[1],rRel:d[2]}}}function qC(i){var t=Dc(i,2),e=Dc(i,2),r=i.read_shift(1),n=i.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:e[0],c:n,cRel:e[1],rRel:e[2]}}}function B7(i,t,e){if(e.biff<8)return qC(i,t,e);var r=i.read_shift(e.biff==12?4:2),n=i.read_shift(e.biff==12?4:2),o=Dc(i,2),a=Dc(i,2);return{s:{r,c:o[0],cRel:o[1],rRel:o[2]},e:{r:n,c:a[0],cRel:a[1],rRel:a[2]}}}function jC(i,t,e){if(e&&e.biff>=2&&e.biff<=5)return U7(i,t,e);var r=i.read_shift(e&&e.biff==12?4:2),n=Dc(i,2);return{r,c:n[0],cRel:n[1],rRel:n[2]}}function U7(i){var t=Dc(i,2),e=i.read_shift(1);return{r:t[0],c:e,cRel:t[1],rRel:t[2]}}function V7(i){var t=i.read_shift(2),e=i.read_shift(2);return{r:t,c:e&255,fQuoted:!!(e&16384),cRel:e>>15,rRel:e>>15}}function q7(i,t,e){var r=e&&e.biff?e.biff:8;if(r>=2&&r<=5)return j7(i,t,e);var n=i.read_shift(r>=12?4:2),o=i.read_shift(2),a=(o&16384)>>14,d=(o&32768)>>15;if(o&=16383,d==1)for(;n>524287;)n-=1048576;if(a==1)for(;o>8191;)o=o-16384;return{r:n,c:o,cRel:a,rRel:d}}function j7(i){var t=i.read_shift(2),e=i.read_shift(1),r=(t&32768)>>15,n=(t&16384)>>14;return t&=16383,r==1&&t>=8192&&(t=t-16384),n==1&&e>=128&&(e=e-256),{r:t,c:e,cRel:n,rRel:r}}function z7(i,t,e){var r=(i[i.l++]&96)>>5,n=VC(i,e.biff>=2&&e.biff<=5?6:8,e);return[r,n]}function W7(i,t,e){var r=(i[i.l++]&96)>>5,n=i.read_shift(2,"i"),o=8;if(e)switch(e.biff){case 5:i.l+=12,o=6;break;case 12:o=12;break}var a=VC(i,o,e);return[r,n,a]}function H7(i,t,e){var r=(i[i.l++]&96)>>5;return i.l+=e&&e.biff>8?12:e.biff<8?6:8,[r]}function G7(i,t,e){var r=(i[i.l++]&96)>>5,n=i.read_shift(2),o=8;if(e)switch(e.biff){case 5:i.l+=12,o=6;break;case 12:o=12;break}return i.l+=o,[r,n]}function $7(i,t,e){var r=(i[i.l++]&96)>>5,n=B7(i,t-1,e);return[r,n]}function X7(i,t,e){var r=(i[i.l++]&96)>>5;return i.l+=e.biff==2?6:e.biff==12?14:7,[r]}function ky(i){var t=i[i.l+1]&1,e=1;return i.l+=4,[t,e]}function Z7(i,t,e){i.l+=2;for(var r=i.read_shift(e&&e.biff==2?1:2),n=[],o=0;o<=r;++o)n.push(i.read_shift(e&&e.biff==2?1:2));return n}function Y7(i,t,e){var r=i[i.l+1]&255?1:0;return i.l+=2,[r,i.read_shift(e&&e.biff==2?1:2)]}function K7(i,t,e){var r=i[i.l+1]&255?1:0;return i.l+=2,[r,i.read_shift(e&&e.biff==2?1:2)]}function J7(i){var t=i[i.l+1]&255?1:0;return i.l+=2,[t,i.read_shift(2)]}function Q7(i,t,e){var r=i[i.l+1]&255?1:0;return i.l+=e&&e.biff==2?3:4,[r]}function zC(i){var t=i.read_shift(1),e=i.read_shift(1);return[t,e]}function eN(i){return i.read_shift(2),zC(i,2)}function tN(i){return i.read_shift(2),zC(i,2)}function iN(i,t,e){var r=(i[i.l]&96)>>5;i.l+=1;var n=jC(i,0,e);return[r,n]}function rN(i,t,e){var r=(i[i.l]&96)>>5;i.l+=1;var n=q7(i,0,e);return[r,n]}function nN(i,t,e){var r=(i[i.l]&96)>>5;i.l+=1;var n=i.read_shift(2);e&&e.biff==5&&(i.l+=12);var o=jC(i,0,e);return[r,n,o]}function oN(i,t,e){var r=(i[i.l]&96)>>5;i.l+=1;var n=i.read_shift(e&&e.biff<=3?1:2);return[oL[n],GC[n],r]}function aN(i,t,e){var r=i[i.l++],n=i.read_shift(1),o=e&&e.biff<=3?[r==88?-1:0,i.read_shift(1)]:sN(i);return[n,(o[0]===0?GC:nL)[o[1]]]}function sN(i){return[i[i.l+1]>>7,i.read_shift(2)&32767]}function lN(i,t,e){i.l+=e&&e.biff==2?3:4}function cN(i,t,e){if(i.l++,e&&e.biff==12)return[i.read_shift(4,"i"),0];var r=i.read_shift(2),n=i.read_shift(e&&e.biff==2?1:2);return[r,n]}function dN(i){return i.l++,Np[i.read_shift(1)]}function uN(i){return i.l++,i.read_shift(2)}function pN(i){return i.l++,i.read_shift(1)!==0}function fN(i){return i.l++,K0(i,8)}function mN(i,t,e){return i.l++,EC(i,t-1,e)}function hN(i,t){var e=[i.read_shift(1)];if(t==12)switch(e[0]){case 2:e[0]=4;break;case 4:e[0]=16;break;case 0:e[0]=1;break;case 1:e[0]=2;break}switch(e[0]){case 4:e[1]=nF(i,1)?"TRUE":"FALSE",t!=12&&(i.l+=7);break;case 37:case 16:e[1]=Np[i[i.l]],i.l+=t==12?4:8;break;case 0:i.l+=8;break;case 1:e[1]=K0(i,8);break;case 2:e[1]=lF(i,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+e[0])}return e}function gN(i,t,e){for(var r=i.read_shift(e.biff==12?4:2),n=[],o=0;o!=r;++o)n.push((e.biff==12?jd:uF)(i,8));return n}function vN(i,t,e){var r=0,n=0;e.biff==12?(r=i.read_shift(4),n=i.read_shift(4)):(n=1+i.read_shift(1),r=1+i.read_shift(2)),e.biff>=2&&e.biff<8&&(--r,--n==0&&(n=256));for(var o=0,a=[];o!=r&&(a[o]=[]);++o)for(var d=0;d!=n;++d)a[o][d]=hN(i,e.biff);return a}function _N(i,t,e){var r=i.read_shift(1)>>>5&3,n=!e||e.biff>=8?4:2,o=i.read_shift(n);switch(e.biff){case 2:i.l+=5;break;case 3:case 4:i.l+=8;break;case 5:i.l+=12;break}return[r,0,o]}function bN(i,t,e){if(e.biff==5)return xN(i,t,e);var r=i.read_shift(1)>>>5&3,n=i.read_shift(2),o=i.read_shift(4);return[r,n,o]}function xN(i){var t=i.read_shift(1)>>>5&3,e=i.read_shift(2,"i");i.l+=8;var r=i.read_shift(2);return i.l+=12,[t,e,r]}function yN(i,t,e){var r=i.read_shift(1)>>>5&3;i.l+=e&&e.biff==2?3:4;var n=i.read_shift(e&&e.biff==2?1:2);return[r,n]}function CN(i,t,e){var r=i.read_shift(1)>>>5&3,n=i.read_shift(e&&e.biff==2?1:2);return[r,n]}function wN(i,t,e){var r=i.read_shift(1)>>>5&3;return i.l+=4,e.biff<8&&i.l--,e.biff==12&&(i.l+=2),[r]}function SN(i,t,e){var r=(i[i.l++]&96)>>5,n=i.read_shift(2),o=4;if(e)switch(e.biff){case 5:o=15;break;case 12:o=6;break}return i.l+=o,[r,n]}var EN=el,PN=el,MN=el;function Lp(i,t,e){return i.l+=2,[V7(i,4,e)]}function Wv(i){return i.l+=6,[]}var TN=Lp,kN=Wv,AN=Wv,IN=Lp;function WC(i){return i.l+=2,[wC(i),i.read_shift(2)&1]}var ON=Lp,FN=WC,NN=Wv,LN=Lp,DN=Lp,RN=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function BN(i){i.l+=2;var t=i.read_shift(2),e=i.read_shift(2),r=i.read_shift(4),n=i.read_shift(2),o=i.read_shift(2),a=RN[e>>2&31];return{ixti:t,coltype:e&3,rt:a,idx:r,c:n,C:o}}function UN(i){return i.l+=2,[i.read_shift(4)]}function VN(i,t,e){return i.l+=5,i.l+=2,i.l+=e.biff==2?1:4,["PTGSHEET"]}function qN(i,t,e){return i.l+=e.biff==2?4:5,["PTGENDSHEET"]}function jN(i){var t=i.read_shift(1)>>>5&3,e=i.read_shift(2);return[t,e]}function zN(i){var t=i.read_shift(1)>>>5&3,e=i.read_shift(2);return[t,e]}function WN(i){return i.l+=4,[0,0]}var Ay={1:{n:"PtgExp",f:cN},2:{n:"PtgTbl",f:MN},3:{n:"PtgAdd",f:Sn},4:{n:"PtgSub",f:Sn},5:{n:"PtgMul",f:Sn},6:{n:"PtgDiv",f:Sn},7:{n:"PtgPower",f:Sn},8:{n:"PtgConcat",f:Sn},9:{n:"PtgLt",f:Sn},10:{n:"PtgLe",f:Sn},11:{n:"PtgEq",f:Sn},12:{n:"PtgGe",f:Sn},13:{n:"PtgGt",f:Sn},14:{n:"PtgNe",f:Sn},15:{n:"PtgIsect",f:Sn},16:{n:"PtgUnion",f:Sn},17:{n:"PtgRange",f:Sn},18:{n:"PtgUplus",f:Sn},19:{n:"PtgUminus",f:Sn},20:{n:"PtgPercent",f:Sn},21:{n:"PtgParen",f:Sn},22:{n:"PtgMissArg",f:Sn},23:{n:"PtgStr",f:mN},26:{n:"PtgSheet",f:VN},27:{n:"PtgEndSheet",f:qN},28:{n:"PtgErr",f:dN},29:{n:"PtgBool",f:pN},30:{n:"PtgInt",f:uN},31:{n:"PtgNum",f:fN},32:{n:"PtgArray",f:X7},33:{n:"PtgFunc",f:oN},34:{n:"PtgFuncVar",f:aN},35:{n:"PtgName",f:_N},36:{n:"PtgRef",f:iN},37:{n:"PtgArea",f:z7},38:{n:"PtgMemArea",f:yN},39:{n:"PtgMemErr",f:EN},40:{n:"PtgMemNoMem",f:PN},41:{n:"PtgMemFunc",f:CN},42:{n:"PtgRefErr",f:wN},43:{n:"PtgAreaErr",f:H7},44:{n:"PtgRefN",f:rN},45:{n:"PtgAreaN",f:$7},46:{n:"PtgMemAreaN",f:jN},47:{n:"PtgMemNoMemN",f:zN},57:{n:"PtgNameX",f:bN},58:{n:"PtgRef3d",f:nN},59:{n:"PtgArea3d",f:W7},60:{n:"PtgRefErr3d",f:SN},61:{n:"PtgAreaErr3d",f:G7},255:{}},HN={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},GN={1:{n:"PtgElfLel",f:WC},2:{n:"PtgElfRw",f:LN},3:{n:"PtgElfCol",f:TN},6:{n:"PtgElfRwV",f:DN},7:{n:"PtgElfColV",f:IN},10:{n:"PtgElfRadical",f:ON},11:{n:"PtgElfRadicalS",f:NN},13:{n:"PtgElfColS",f:kN},15:{n:"PtgElfColSV",f:AN},16:{n:"PtgElfRadicalLel",f:FN},25:{n:"PtgList",f:BN},29:{n:"PtgSxName",f:UN},255:{}},$N={0:{n:"PtgAttrNoop",f:WN},1:{n:"PtgAttrSemi",f:Q7},2:{n:"PtgAttrIf",f:K7},4:{n:"PtgAttrChoose",f:Z7},8:{n:"PtgAttrGoto",f:Y7},16:{n:"PtgAttrSum",f:lN},32:{n:"PtgAttrBaxcel",f:ky},33:{n:"PtgAttrBaxcel",f:ky},64:{n:"PtgAttrSpace",f:eN},65:{n:"PtgAttrSpaceSemi",f:tN},128:{n:"PtgAttrIfError",f:J7},255:{}};function XN(i,t,e,r){if(r.biff<8)return el(i,t);for(var n=i.l+t,o=[],a=0;a!==e.length;++a)switch(e[a][0]){case"PtgArray":e[a][1]=vN(i,0,r),o.push(e[a][1]);break;case"PtgMemArea":e[a][2]=gN(i,e[a][1],r),o.push(e[a][2]);break;case"PtgExp":r&&r.biff==12&&(e[a][1][1]=i.read_shift(4),o.push(e[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+e[a][0];default:break}return t=n-i.l,t!==0&&o.push(el(i,t)),o}function ZN(i,t,e){for(var r=i.l+t,n,o,a=[];r!=i.l;)t=r-i.l,o=i[i.l],n=Ay[o]||Ay[HN[o]],(o===24||o===25)&&(n=(o===24?GN:$N)[i[i.l+1]]),!n||!n.f?el(i,t):a.push([n.n,n.f(i,t,e)]);return a}function YN(i){for(var t=[],e=0;e<i.length;++e){for(var r=i[e],n=[],o=0;o<r.length;++o){var a=r[o];if(a)switch(a[0]){case 2:n.push('"'+a[1].replace(/"/g,'""')+'"');break;default:n.push(a[1])}else n.push("")}t.push(n.join(","))}return t.join(";")}var KN={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function JN(i,t){if(!i&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(i)?"'"+i+"'":i}function HC(i,t,e){if(!i)return"SH33TJSERR0";if(e.biff>8&&(!i.XTI||!i.XTI[t]))return i.SheetNames[t];if(!i.XTI)return"SH33TJSERR6";var r=i.XTI[t];if(e.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":i.XTI[t-1];if(!r)return"SH33TJSERR1";var n="";if(e.biff>8)switch(i[r[0]][0]){case 357:return n=r[1]==-1?"#REF":i.SheetNames[r[1]],r[1]==r[2]?n:n+":"+i.SheetNames[r[2]];case 358:return e.SID!=null?i.SheetNames[e.SID]:"SH33TJSSAME"+i[r[0]][0];case 355:default:return"SH33TJSSRC"+i[r[0]][0]}switch(i[r[0]][0][0]){case 1025:return n=r[1]==-1?"#REF":i.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?n:n+":"+i.SheetNames[r[2]];case 14849:return i[r[0]].slice(1).map(function(o){return o.Name}).join(";;");default:return i[r[0]][0][3]?(n=r[1]==-1?"#REF":i[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?n:n+":"+i[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function Iy(i,t,e){var r=HC(i,t,e);return r=="#REF"?r:JN(r,e)}function G0(i,t,e,r,n){var o=n&&n.biff||8,a={s:{c:0,r:0},e:{c:0,r:0}},d=[],u,m,v,y=0,w=0,x,T="";if(!i[0]||!i[0][0])return"";for(var E=-1,k="",F=0,U=i[0].length;F<U;++F){var Y=i[0][F];switch(Y[0]){case"PtgUminus":d.push("-"+d.pop());break;case"PtgUplus":d.push("+"+d.pop());break;case"PtgPercent":d.push(d.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(u=d.pop(),m=d.pop(),E>=0){switch(i[0][E][1][0]){case 0:k=dn(" ",i[0][E][1][1]);break;case 1:k=dn("\r",i[0][E][1][1]);break;default:if(k="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+i[0][E][1][0])}m=m+k,E=-1}d.push(m+KN[Y[0]]+u);break;case"PtgIsect":u=d.pop(),m=d.pop(),d.push(m+" "+u);break;case"PtgUnion":u=d.pop(),m=d.pop(),d.push(m+","+u);break;case"PtgRange":u=d.pop(),m=d.pop(),d.push(m+":"+u);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":v=Cp(Y[1][1],a,n),d.push(wp(v,o));break;case"PtgRefN":v=e?Cp(Y[1][1],e,n):Y[1][1],d.push(wp(v,o));break;case"PtgRef3d":y=Y[1][1],v=Cp(Y[1][2],a,n),T=Iy(r,y,n);var ve=T;d.push(T+"!"+wp(v,o));break;case"PtgFunc":case"PtgFuncVar":var we=Y[1][0],Ue=Y[1][1];we||(we=0),we&=127;var ne=we==0?[]:d.slice(-we);d.length-=we,Ue==="User"&&(Ue=ne.shift()),d.push(Ue+"("+ne.join(",")+")");break;case"PtgBool":d.push(Y[1]?"TRUE":"FALSE");break;case"PtgInt":d.push(Y[1]);break;case"PtgNum":d.push(String(Y[1]));break;case"PtgStr":d.push('"'+Y[1].replace(/"/g,'""')+'"');break;case"PtgErr":d.push(Y[1]);break;case"PtgAreaN":x=hy(Y[1][1],e?{s:e}:a,n),d.push(fv(x,n));break;case"PtgArea":x=hy(Y[1][1],a,n),d.push(fv(x,n));break;case"PtgArea3d":y=Y[1][1],x=Y[1][2],T=Iy(r,y,n),d.push(T+"!"+fv(x,n));break;case"PtgAttrSum":d.push("SUM("+d.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":w=Y[1][2];var re=(r.names||[])[w-1]||(r[0]||[])[w],ce=re?re.Name:"SH33TJSNAME"+String(w);ce&&ce.slice(0,6)=="_xlfn."&&!n.xlfn&&(ce=ce.slice(6)),d.push(ce);break;case"PtgNameX":var Ce=Y[1][1];w=Y[1][2];var W;if(n.biff<=5)Ce<0&&(Ce=-Ce),r[Ce]&&(W=r[Ce][w]);else{var G="";if(((r[Ce]||[])[0]||[])[0]==14849||(((r[Ce]||[])[0]||[])[0]==1025?r[Ce][w]&&r[Ce][w].itab>0&&(G=r.SheetNames[r[Ce][w].itab-1]+"!"):G=r.SheetNames[w-1]+"!"),r[Ce]&&r[Ce][w])G+=r[Ce][w].Name;else if(r[0]&&r[0][w])G+=r[0][w].Name;else{var xe=(HC(r,Ce,n)||"").split(";;");xe[w-1]?G=xe[w-1]:G+="SH33TJSERRX"}d.push(G);break}W||(W={Name:"SH33TJSERRY"}),d.push(W.Name);break;case"PtgParen":var ye="(",Le=")";if(E>=0){switch(k="",i[0][E][1][0]){case 2:ye=dn(" ",i[0][E][1][1])+ye;break;case 3:ye=dn("\r",i[0][E][1][1])+ye;break;case 4:Le=dn(" ",i[0][E][1][1])+Le;break;case 5:Le=dn("\r",i[0][E][1][1])+Le;break;default:if(n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+i[0][E][1][0])}E=-1}d.push(ye+d.pop()+Le);break;case"PtgRefErr":d.push("#REF!");break;case"PtgRefErr3d":d.push("#REF!");break;case"PtgExp":v={c:Y[1][1],r:Y[1][0]};var Ie={c:e.c,r:e.r};if(r.sharedf[Er(v)]){var Ye=r.sharedf[Er(v)];d.push(G0(Ye,a,Ie,r,n))}else{var ke=!1;for(u=0;u!=r.arrayf.length;++u)if(m=r.arrayf[u],!(v.c<m[0].s.c||v.c>m[0].e.c)&&!(v.r<m[0].s.r||v.r>m[0].e.r)){d.push(G0(m[1],a,Ie,r,n)),ke=!0;break}ke||d.push(Y[1])}break;case"PtgArray":d.push("{"+YN(Y[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":E=F;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":d.push("");break;case"PtgAreaErr":d.push("#REF!");break;case"PtgAreaErr3d":d.push("#REF!");break;case"PtgList":d.push("Table"+Y[1].idx+"[#"+Y[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(Y));default:throw new Error("Unrecognized Formula Token: "+String(Y))}var qe=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(n.biff!=3&&E>=0&&qe.indexOf(i[0][F][0])==-1){Y=i[0][E];var Xe=!0;switch(Y[1][0]){case 4:Xe=!1;case 0:k=dn(" ",Y[1][1]);break;case 5:Xe=!1;case 1:k=dn("\r",Y[1][1]);break;default:if(k="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+Y[1][0])}d.push((Xe?k:"")+d.pop()+(Xe?"":k)),E=-1}}if(d.length>1&&n.WTF)throw new Error("bad formula stack");return d[0]}function QN(i){if(i==null){var t=nt(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof i=="number")return Dd(i);return Dd(0)}function eL(i,t,e,r,n){var o=Rd(t,e,n),a=QN(i.v),d=nt(6),u=33;d.write_shift(2,u),d.write_shift(4,0);for(var m=nt(i.bf.length),v=0;v<i.bf.length;++v)m[v]=i.bf[v];var y=to([o,a,d,m]);return y}function Ah(i,t,e){var r=i.read_shift(4),n=ZN(i,r,e),o=i.read_shift(4),a=o>0?XN(i,o,n,e):null;return[n,a]}var tL=Ah,Ih=Ah,iL=Ah,rL=Ah,nL={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},GC={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},oL={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function aL(i){var t="of:="+i.replace(jv,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function sL(i){return i.replace(/\./,"!")}var Sp=typeof Map<"u";function Hv(i,t,e){var r=0,n=i.length;if(e){if(Sp?e.has(t):Object.prototype.hasOwnProperty.call(e,t)){for(var o=Sp?e.get(t):e[t];r<o.length;++r)if(i[o[r]].t===t)return i.Count++,o[r]}}else for(;r<n;++r)if(i[r].t===t)return i.Count++,r;return i[n]={t},i.Count++,i.Unique++,e&&(Sp?(e.has(t)||e.set(t,[]),e.get(t).push(n)):(Object.prototype.hasOwnProperty.call(e,t)||(e[t]=[]),e[t].push(n))),n}function Oh(i,t){var e={min:i+1,max:i+1},r=-1;return t.MDW&&(Al=t.MDW),t.width!=null?e.customWidth=1:t.wpx!=null?r=xh(t.wpx):t.wch!=null&&(r=t.wch),r>-1?(e.width=Cv(r),e.customWidth=1):t.width!=null&&(e.width=t.width),t.hidden&&(e.hidden=!0),t.level!=null&&(e.outlineLevel=e.level=t.level),e}function $C(i,t){if(i){var e=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(e=[1,1,1,1,.5,.5]),i.left==null&&(i.left=e[0]),i.right==null&&(i.right=e[1]),i.top==null&&(i.top=e[2]),i.bottom==null&&(i.bottom=e[3]),i.header==null&&(i.header=e[4]),i.footer==null&&(i.footer=e[5])}}function Bc(i,t,e){var r=e.revssf[t.z!=null?t.z:"General"],n=60,o=i.length;if(r==null&&e.ssf){for(;n<392;++n)if(e.ssf[n]==null){$y(t.z,n),e.ssf[n]=t.z,e.revssf[t.z]=r=n;break}}for(n=0;n!=o;++n)if(i[n].numFmtId===r)return n;return i[o]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},o}function lL(i,t,e){if(i&&i["!ref"]){var r=Wr(i["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+e+"): "+i["!ref"])}}function cL(i){if(i.length===0)return"";for(var t='<mergeCells count="'+i.length+'">',e=0;e!=i.length;++e)t+='<mergeCell ref="'+En(i[e])+'"/>';return t+"</mergeCells>"}function dL(i,t,e,r,n){var o=!1,a={},d=null;if(r.bookType!=="xlsx"&&t.vbaraw){var u=t.SheetNames[e];try{t.Workbook&&(u=t.Workbook.Sheets[e].CodeName||u)}catch{}o=!0,a.codeName=Ml(Sr(u))}if(i&&i["!outline"]){var m={summaryBelow:1,summaryRight:1};i["!outline"].above&&(m.summaryBelow=0),i["!outline"].left&&(m.summaryRight=0),d=(d||"")+Dt("outlinePr",null,m)}!o&&!d||(n[n.length]=Dt("sheetPr",d,a))}var uL=["objects","scenarios","selectLockedCells","selectUnlockedCells"],pL=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function fL(i){var t={sheet:1};return uL.forEach(function(e){i[e]!=null&&i[e]&&(t[e]="1")}),pL.forEach(function(e){i[e]!=null&&!i[e]&&(t[e]="0")}),i.password&&(t.password=AC(i.password).toString(16).toUpperCase()),Dt("sheetProtection",null,t)}function mL(i){return $C(i),Dt("pageMargins",null,i)}function hL(i,t){for(var e=["<cols>"],r,n=0;n!=t.length;++n)(r=t[n])&&(e[e.length]=Dt("col",null,Oh(n,r)));return e[e.length]="</cols>",e.join("")}function gL(i,t,e,r){var n=typeof i.ref=="string"?i.ref:En(i.ref);e.Workbook||(e.Workbook={Sheets:[]}),e.Workbook.Names||(e.Workbook.Names=[]);var o=e.Workbook.Names,a=Ea(n);a.s.r==a.e.r&&(a.e.r=Ea(t["!ref"]).e.r,n=En(a));for(var d=0;d<o.length;++d){var u=o[d];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==r){u.Ref="'"+e.SheetNames[r]+"'!"+n;break}}return d==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+e.SheetNames[r]+"'!"+n}),Dt("autoFilter",null,{ref:n})}function vL(i,t,e,r){var n={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(n.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Dt("sheetViews",Dt("sheetView",null,n),{})}function _L(i,t,e,r){if(i.c&&e["!comments"].push([t,i.c]),i.v===void 0&&typeof i.f!="string"||i.t==="z"&&!i.f)return"";var n="",o=i.t,a=i.v;if(i.t!=="z")switch(i.t){case"b":n=i.v?"1":"0";break;case"n":n=""+i.v;break;case"e":n=Np[i.v];break;case"d":r&&r.cellDates?n=Uo(i.v,-1).toISOString():(i=oa(i),i.t="n",n=""+(i.v=na(Uo(i.v)))),typeof i.z>"u"&&(i.z=un[14]);break;default:n=i.v;break}var d=io("v",Sr(n)),u={r:t},m=Bc(r.cellXfs,i,r);switch(m!==0&&(u.s=m),i.t){case"n":break;case"d":u.t="d";break;case"b":u.t="b";break;case"e":u.t="e";break;case"z":break;default:if(i.v==null){delete i.t;break}if(i.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){d=io("v",""+Hv(r.Strings,i.v,r.revStrings)),u.t="s";break}u.t="str";break}if(i.t!=o&&(i.t=o,i.v=a),typeof i.f=="string"&&i.f){var v=i.F&&i.F.slice(0,t.length)==t?{t:"array",ref:i.F}:null;d=Dt("f",Sr(i.f),v)+(i.v!=null?d:"")}return i.l&&e["!links"].push([t,i.l]),i.D&&(u.cm=1),Dt("c",d,u)}function bL(i,t,e,r){var n=[],o=[],a=Wr(i["!ref"]),d="",u,m="",v=[],y=0,w=0,x=i["!rows"],T=Array.isArray(i),E={r:m},k,F=-1;for(w=a.s.c;w<=a.e.c;++w)v[w]=vo(w);for(y=a.s.r;y<=a.e.r;++y){for(o=[],m=ro(y),w=a.s.c;w<=a.e.c;++w){u=v[w]+m;var U=T?(i[y]||[])[w]:i[u];U!==void 0&&(d=_L(U,u,i,t,e,r))!=null&&o.push(d)}(o.length>0||x&&x[y])&&(E={r:m},x&&x[y]&&(k=x[y],k.hidden&&(E.hidden=1),F=-1,k.hpx?F=yh(k.hpx):k.hpt&&(F=k.hpt),F>-1&&(E.ht=F,E.customHeight=1),k.level&&(E.outlineLevel=k.level)),n[n.length]=Dt("row",o.join(""),E))}if(x)for(;y<x.length;++y)x&&x[y]&&(E={r:y+1},k=x[y],k.hidden&&(E.hidden=1),F=-1,k.hpx?F=yh(k.hpx):k.hpt&&(F=k.hpt),F>-1&&(E.ht=F,E.customHeight=1),k.level&&(E.outlineLevel=k.level),n[n.length]=Dt("row","",E));return n.join("")}function XC(i,t,e,r){var n=[Pn,Dt("worksheet",null,{xmlns:$0[0],"xmlns:r":jn.r})],o=e.SheetNames[i],a=0,d="",u=e.Sheets[o];u==null&&(u={});var m=u["!ref"]||"A1",v=Wr(m);if(v.e.c>16383||v.e.r>1048575){if(t.WTF)throw new Error("Range "+m+" exceeds format limit A1:XFD1048576");v.e.c=Math.min(v.e.c,16383),v.e.r=Math.min(v.e.c,1048575),m=En(v)}r||(r={}),u["!comments"]=[];var y=[];dL(u,e,i,t,n),n[n.length]=Dt("dimension",null,{ref:m}),n[n.length]=vL(u,t,i,e),t.sheetFormat&&(n[n.length]=Dt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),u["!cols"]!=null&&u["!cols"].length>0&&(n[n.length]=hL(u,u["!cols"])),n[a=n.length]="<sheetData/>",u["!links"]=[],u["!ref"]!=null&&(d=bL(u,t,i,e,r),d.length>0&&(n[n.length]=d)),n.length>a+1&&(n[n.length]="</sheetData>",n[a]=n[a].replace("/>",">")),u["!protect"]&&(n[n.length]=fL(u["!protect"])),u["!autofilter"]!=null&&(n[n.length]=gL(u["!autofilter"],u,e,i)),u["!merges"]!=null&&u["!merges"].length>0&&(n[n.length]=cL(u["!merges"]));var w=-1,x,T=-1;return u["!links"].length>0&&(n[n.length]="<hyperlinks>",u["!links"].forEach(function(E){E[1].Target&&(x={ref:E[0]},E[1].Target.charAt(0)!="#"&&(T=wr(r,-1,Sr(E[1].Target).replace(/#.*$/,""),cr.HLINK),x["r:id"]="rId"+T),(w=E[1].Target.indexOf("#"))>-1&&(x.location=Sr(E[1].Target.slice(w+1))),E[1].Tooltip&&(x.tooltip=Sr(E[1].Tooltip)),n[n.length]=Dt("hyperlink",null,x))}),n[n.length]="</hyperlinks>"),delete u["!links"],u["!margins"]!=null&&(n[n.length]=mL(u["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(n[n.length]=io("ignoredErrors",Dt("ignoredError",null,{numberStoredAsText:1,sqref:m}))),y.length>0&&(T=wr(r,-1,"../drawings/drawing"+(i+1)+".xml",cr.DRAW),n[n.length]=Dt("drawing",null,{"r:id":"rId"+T}),u["!drawing"]=y),u["!comments"].length>0&&(T=wr(r,-1,"../drawings/vmlDrawing"+(i+1)+".vml",cr.VML),n[n.length]=Dt("legacyDrawing",null,{"r:id":"rId"+T}),u["!legacy"]=T),n.length>1&&(n[n.length]="</worksheet>",n[1]=n[1].replace("/>",">")),n.join("")}function xL(i,t){var e={},r=i.l+t;e.r=i.read_shift(4),i.l+=4;var n=i.read_shift(2);i.l+=1;var o=i.read_shift(1);return i.l=r,o&7&&(e.level=o&7),o&16&&(e.hidden=!0),o&32&&(e.hpt=n/20),e}function yL(i,t,e){var r=nt(145),n=(e["!rows"]||[])[i]||{};r.write_shift(4,i),r.write_shift(4,0);var o=320;n.hpx?o=yh(n.hpx)*20:n.hpt&&(o=n.hpt*20),r.write_shift(2,o),r.write_shift(1,0);var a=0;n.level&&(a|=n.level),n.hidden&&(a|=16),(n.hpx||n.hpt)&&(a|=32),r.write_shift(1,a),r.write_shift(1,0);var d=0,u=r.l;r.l+=4;for(var m={r:i,c:0},v=0;v<16;++v)if(!(t.s.c>v+1<<10||t.e.c<v<<10)){for(var y=-1,w=-1,x=v<<10;x<v+1<<10;++x){m.c=x;var T=Array.isArray(e)?(e[m.r]||[])[m.c]:e[Er(m)];T&&(y<0&&(y=x),w=x)}y<0||(++d,r.write_shift(4,y),r.write_shift(4,w))}var E=r.l;return r.l=u,r.write_shift(4,d),r.l=E,r.length>r.l?r.slice(0,r.l):r}function CL(i,t,e,r){var n=yL(r,e,t);(n.length>17||(t["!rows"]||[])[r])&&_t(i,0,n)}var wL=jd,SL=Y0;function EL(){}function PL(i,t){var e={},r=i[i.l];return++i.l,e.above=!(r&64),e.left=!(r&128),i.l+=18,e.name=DO(i,t-19),e}function ML(i,t,e){e==null&&(e=nt(84+4*i.length));var r=192;t&&(t.above&&(r&=-65),t.left&&(r&=-129)),e.write_shift(1,r);for(var n=1;n<3;++n)e.write_shift(1,0);return vh({auto:1},e),e.write_shift(-4,-1),e.write_shift(-4,-1),cC(i,e),e.slice(0,e.l)}function TL(i){var t=Ja(i);return[t]}function kL(i,t,e){return e==null&&(e=nt(8)),Ud(t,e)}function AL(i){var t=Vd(i);return[t]}function IL(i,t,e){return e==null&&(e=nt(4)),qd(t,e)}function OL(i){var t=Ja(i),e=i.read_shift(1);return[t,e,"b"]}function FL(i,t,e){return e==null&&(e=nt(9)),Ud(t,e),e.write_shift(1,i.v?1:0),e}function NL(i){var t=Vd(i),e=i.read_shift(1);return[t,e,"b"]}function LL(i,t,e){return e==null&&(e=nt(5)),qd(t,e),e.write_shift(1,i.v?1:0),e}function DL(i){var t=Ja(i),e=i.read_shift(1);return[t,e,"e"]}function RL(i,t,e){return e==null&&(e=nt(9)),Ud(t,e),e.write_shift(1,i.v),e}function BL(i){var t=Vd(i),e=i.read_shift(1);return[t,e,"e"]}function UL(i,t,e){return e==null&&(e=nt(8)),qd(t,e),e.write_shift(1,i.v),e.write_shift(2,0),e.write_shift(1,0),e}function VL(i){var t=Ja(i),e=i.read_shift(4);return[t,e,"s"]}function qL(i,t,e){return e==null&&(e=nt(12)),Ud(t,e),e.write_shift(4,t.v),e}function jL(i){var t=Vd(i),e=i.read_shift(4);return[t,e,"s"]}function zL(i,t,e){return e==null&&(e=nt(8)),qd(t,e),e.write_shift(4,t.v),e}function WL(i){var t=Ja(i),e=K0(i);return[t,e,"n"]}function HL(i,t,e){return e==null&&(e=nt(16)),Ud(t,e),Dd(i.v,e),e}function GL(i){var t=Vd(i),e=K0(i);return[t,e,"n"]}function $L(i,t,e){return e==null&&(e=nt(12)),qd(t,e),Dd(i.v,e),e}function XL(i){var t=Ja(i),e=dC(i);return[t,e,"n"]}function ZL(i,t,e){return e==null&&(e=nt(12)),Ud(t,e),uC(i.v,e),e}function YL(i){var t=Vd(i),e=dC(i);return[t,e,"n"]}function KL(i,t,e){return e==null&&(e=nt(8)),qd(t,e),uC(i.v,e),e}function JL(i){var t=Ja(i),e=Rv(i);return[t,e,"is"]}function QL(i){var t=Ja(i),e=_o(i);return[t,e,"str"]}function eD(i,t,e){return e==null&&(e=nt(12+4*i.v.length)),Ud(t,e),Wn(i.v,e),e.length>e.l?e.slice(0,e.l):e}function tD(i){var t=Vd(i),e=_o(i);return[t,e,"str"]}function iD(i,t,e){return e==null&&(e=nt(8+4*i.v.length)),qd(t,e),Wn(i.v,e),e.length>e.l?e.slice(0,e.l):e}function rD(i,t,e){var r=i.l+t,n=Ja(i);n.r=e["!row"];var o=i.read_shift(1),a=[n,o,"b"];if(e.cellFormula){i.l+=2;var d=Ih(i,r-i.l,e);a[3]=G0(d,null,n,e.supbooks,e)}else i.l=r;return a}function nD(i,t,e){var r=i.l+t,n=Ja(i);n.r=e["!row"];var o=i.read_shift(1),a=[n,o,"e"];if(e.cellFormula){i.l+=2;var d=Ih(i,r-i.l,e);a[3]=G0(d,null,n,e.supbooks,e)}else i.l=r;return a}function oD(i,t,e){var r=i.l+t,n=Ja(i);n.r=e["!row"];var o=K0(i),a=[n,o,"n"];if(e.cellFormula){i.l+=2;var d=Ih(i,r-i.l,e);a[3]=G0(d,null,n,e.supbooks,e)}else i.l=r;return a}function aD(i,t,e){var r=i.l+t,n=Ja(i);n.r=e["!row"];var o=_o(i),a=[n,o,"str"];if(e.cellFormula){i.l+=2;var d=Ih(i,r-i.l,e);a[3]=G0(d,null,n,e.supbooks,e)}else i.l=r;return a}var sD=jd,lD=Y0;function cD(i,t){return t==null&&(t=nt(4)),t.write_shift(4,i),t}function dD(i,t){var e=i.l+t,r=jd(i,16),n=Bv(i),o=_o(i),a=_o(i),d=_o(i);i.l=e;var u={rfx:r,relId:n,loc:o,display:d};return a&&(u.Tooltip=a),u}function uD(i,t){var e=nt(50+4*(i[1].Target.length+(i[1].Tooltip||"").length));Y0({s:zn(i[0]),e:zn(i[0])},e),Uv("rId"+t,e);var r=i[1].Target.indexOf("#"),n=r==-1?"":i[1].Target.slice(r+1);return Wn(n||"",e),Wn(i[1].Tooltip||"",e),Wn("",e),e.slice(0,e.l)}function pD(){}function fD(i,t,e){var r=i.l+t,n=pC(i,16),o=i.read_shift(1),a=[n];if(a[2]=o,e.cellFormula){var d=tL(i,r-i.l,e);a[1]=d}else i.l=r;return a}function mD(i,t,e){var r=i.l+t,n=jd(i,16),o=[n];if(e.cellFormula){var a=rL(i,r-i.l,e);o[1]=a,i.l=r}else i.l=r;return o}function hD(i,t,e){e==null&&(e=nt(18));var r=Oh(i,t);e.write_shift(-4,i),e.write_shift(-4,i),e.write_shift(4,(r.width||10)*256),e.write_shift(4,0);var n=0;return t.hidden&&(n|=1),typeof r.width=="number"&&(n|=2),t.level&&(n|=t.level<<8),e.write_shift(2,n),e}var ZC=["left","right","top","bottom","header","footer"];function gD(i){var t={};return ZC.forEach(function(e){t[e]=K0(i,8)}),t}function vD(i,t){return t==null&&(t=nt(6*8)),$C(i),ZC.forEach(function(e){Dd(i[e],t)}),t}function _D(i){var t=i.read_shift(2);return i.l+=28,{RTL:t&32}}function bD(i,t,e){e==null&&(e=nt(30));var r=924;return(((t||{}).Views||[])[0]||{}).RTL&&(r|=32),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,100),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(4,0),e}function xD(i){var t=nt(24);return t.write_shift(4,4),t.write_shift(4,1),Y0(i,t),t}function yD(i,t){return t==null&&(t=nt(16*4+2)),t.write_shift(2,i.password?AC(i.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(e){e[1]?t.write_shift(4,i[e[0]]!=null&&!i[e[0]]?1:0):t.write_shift(4,i[e[0]]!=null&&i[e[0]]?0:1)}),t}function CD(){}function wD(){}function SD(i,t,e,r,n,o,a){if(t.v===void 0)return!1;var d="";switch(t.t){case"b":d=t.v?"1":"0";break;case"d":t=oa(t),t.z=t.z||un[14],t.v=na(Uo(t.v)),t.t="n";break;case"n":case"e":d=""+t.v;break;default:d=t.v;break}var u={r:e,c:r};switch(u.s=Bc(n.cellXfs,t,n),t.l&&o["!links"].push([Er(u),t.l]),t.c&&o["!comments"].push([Er(u),t.c]),t.t){case"s":case"str":return n.bookSST?(d=Hv(n.Strings,t.v,n.revStrings),u.t="s",u.v=d,a?_t(i,18,zL(t,u)):_t(i,7,qL(t,u))):(u.t="str",a?_t(i,17,iD(t,u)):_t(i,6,eD(t,u))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?a?_t(i,13,KL(t,u)):_t(i,2,ZL(t,u)):a?_t(i,16,$L(t,u)):_t(i,5,HL(t,u)),!0;case"b":return u.t="b",a?_t(i,15,LL(t,u)):_t(i,4,FL(t,u)),!0;case"e":return u.t="e",a?_t(i,14,UL(t,u)):_t(i,3,RL(t,u)),!0}return a?_t(i,12,IL(t,u)):_t(i,1,kL(t,u)),!0}function ED(i,t,e,r){var n=Wr(t["!ref"]||"A1"),o,a="",d=[];_t(i,145);var u=Array.isArray(t),m=n.e.r;t["!rows"]&&(m=Math.max(n.e.r,t["!rows"].length-1));for(var v=n.s.r;v<=m;++v){a=ro(v),CL(i,t,n,v);var y=!1;if(v<=n.e.r)for(var w=n.s.c;w<=n.e.c;++w){v===n.s.r&&(d[w]=vo(w)),o=d[w]+a;var x=u?(t[v]||[])[w]:t[o];if(!x){y=!1;continue}y=SD(i,x,v,w,r,t,y)}}_t(i,146)}function PD(i,t){!t||!t["!merges"]||(_t(i,177,cD(t["!merges"].length)),t["!merges"].forEach(function(e){_t(i,176,lD(e))}),_t(i,178))}function MD(i,t){!t||!t["!cols"]||(_t(i,390),t["!cols"].forEach(function(e,r){e&&_t(i,60,hD(r,e))}),_t(i,391))}function TD(i,t){!t||!t["!ref"]||(_t(i,648),_t(i,649,xD(Wr(t["!ref"]))),_t(i,650))}function kD(i,t,e){t["!links"].forEach(function(r){if(r[1].Target){var n=wr(e,-1,r[1].Target.replace(/#.*$/,""),cr.HLINK);_t(i,494,uD(r,n))}}),delete t["!links"]}function AD(i,t,e,r){if(t["!comments"].length>0){var n=wr(r,-1,"../drawings/vmlDrawing"+(e+1)+".vml",cr.VML);_t(i,551,Uv("rId"+n)),t["!legacy"]=n}}function ID(i,t,e,r){if(t["!autofilter"]){var n=t["!autofilter"],o=typeof n.ref=="string"?n.ref:En(n.ref);e.Workbook||(e.Workbook={Sheets:[]}),e.Workbook.Names||(e.Workbook.Names=[]);var a=e.Workbook.Names,d=Ea(o);d.s.r==d.e.r&&(d.e.r=Ea(t["!ref"]).e.r,o=En(d));for(var u=0;u<a.length;++u){var m=a[u];if(m.Name=="_xlnm._FilterDatabase"&&m.Sheet==r){m.Ref="'"+e.SheetNames[r]+"'!"+o;break}}u==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+e.SheetNames[r]+"'!"+o}),_t(i,161,Y0(Wr(o))),_t(i,162)}}function OD(i,t,e){_t(i,133),_t(i,137,bD(t,e)),_t(i,138),_t(i,134)}function FD(i,t){t["!protect"]&&_t(i,535,yD(t["!protect"]))}function ND(i,t,e,r){var n=ra(),o=e.SheetNames[i],a=e.Sheets[o]||{},d=o;try{e&&e.Workbook&&(d=e.Workbook.Sheets[i].CodeName||d)}catch{}var u=Wr(a["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],_t(n,129),(e.vbaraw||a["!outline"])&&_t(n,147,ML(d,a["!outline"])),_t(n,148,SL(u)),OD(n,a,e.Workbook),MD(n,a,i,t,e),ED(n,a,i,t,e),FD(n,a),ID(n,a,e,i),PD(n,a),kD(n,a,r),a["!margins"]&&_t(n,476,vD(a["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&TD(n,a),AD(n,a,i,r),_t(n,130),n.end()}function LD(i,t){i.l+=10;var e=_o(i,t-10);return{name:e}}var DD=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function RD(i){return!i.Workbook||!i.Workbook.WBProps?"false":fO(i.Workbook.WBProps.date1904)?"true":"false"}var BD="][*?/\\".split("");function YC(i,t){if(i.length>31){if(t)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var e=!0;return BD.forEach(function(r){if(i.indexOf(r)!=-1){if(!t)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");e=!1}}),e}function UD(i,t,e){i.forEach(function(r,n){YC(r);for(var o=0;o<n;++o)if(r==i[o])throw new Error("Duplicate Sheet Name: "+r);if(e){var a=t&&t[n]&&t[n].CodeName||r;if(a.charCodeAt(0)==95&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}})}function VD(i){if(!i||!i.SheetNames||!i.Sheets)throw new Error("Invalid Workbook");if(!i.SheetNames.length)throw new Error("Workbook is empty");var t=i.Workbook&&i.Workbook.Sheets||[];UD(i.SheetNames,t,!!i.vbaraw);for(var e=0;e<i.SheetNames.length;++e)lL(i.Sheets[i.SheetNames[e]],i.SheetNames[e],e)}function KC(i){var t=[Pn];t[t.length]=Dt("workbook",null,{xmlns:$0[0],"xmlns:r":jn.r});var e=i.Workbook&&(i.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};i.Workbook&&i.Workbook.WBProps&&(DD.forEach(function(d){i.Workbook.WBProps[d[0]]!=null&&i.Workbook.WBProps[d[0]]!=d[1]&&(r[d[0]]=i.Workbook.WBProps[d[0]])}),i.Workbook.WBProps.CodeName&&(r.codeName=i.Workbook.WBProps.CodeName,delete r.CodeName)),t[t.length]=Dt("workbookPr",null,r);var n=i.Workbook&&i.Workbook.Sheets||[],o=0;if(n&&n[0]&&n[0].Hidden){for(t[t.length]="<bookViews>",o=0;o!=i.SheetNames.length&&!(!n[o]||!n[o].Hidden);++o);o==i.SheetNames.length&&(o=0),t[t.length]='<workbookView firstSheet="'+o+'" activeTab="'+o+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",o=0;o!=i.SheetNames.length;++o){var a={name:Sr(i.SheetNames[o].slice(0,31))};if(a.sheetId=""+(o+1),a["r:id"]="rId"+(o+1),n[o])switch(n[o].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden";break}t[t.length]=Dt("sheet",null,a)}return t[t.length]="</sheets>",e&&(t[t.length]="<definedNames>",i.Workbook&&i.Workbook.Names&&i.Workbook.Names.forEach(function(d){var u={name:d.Name};d.Comment&&(u.comment=d.Comment),d.Sheet!=null&&(u.localSheetId=""+d.Sheet),d.Hidden&&(u.hidden="1"),d.Ref&&(t[t.length]=Dt("definedName",Sr(d.Ref),u))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function qD(i,t){var e={};return e.Hidden=i.read_shift(4),e.iTabID=i.read_shift(4),e.strRelID=yv(i,t-8),e.name=_o(i),e}function jD(i,t){return t||(t=nt(127)),t.write_shift(4,i.Hidden),t.write_shift(4,i.iTabID),Uv(i.strRelID,t),Wn(i.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function zD(i,t){var e={},r=i.read_shift(4);e.defaultThemeVersion=i.read_shift(4);var n=t>8?_o(i):"";return n.length>0&&(e.CodeName=n),e.autoCompressPictures=!!(r&65536),e.backupFile=!!(r&64),e.checkCompatibility=!!(r&4096),e.date1904=!!(r&1),e.filterPrivacy=!!(r&8),e.hidePivotFieldList=!!(r&1024),e.promptedSolutions=!!(r&16),e.publishItems=!!(r&2048),e.refreshAllConnections=!!(r&262144),e.saveExternalLinkValues=!!(r&128),e.showBorderUnselectedTables=!!(r&4),e.showInkAnnotation=!!(r&32),e.showObjects=["all","placeholders","none"][r>>13&3],e.showPivotChartFilter=!!(r&32768),e.updateLinks=["userSet","never","always"][r>>8&3],e}function WD(i,t){t||(t=nt(72));var e=0;return i&&i.filterPrivacy&&(e|=8),t.write_shift(4,e),t.write_shift(4,0),cC(i&&i.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function HD(i,t,e){var r=i.l+t;i.l+=4,i.l+=1;var n=i.read_shift(4),o=RO(i),a=iL(i,0,e),d=Bv(i);i.l=r;var u={Name:o,Ptg:a};return n<268435455&&(u.Sheet=n),d&&(u.Comment=d),u}function GD(i,t){_t(i,143);for(var e=0;e!=t.SheetNames.length;++e){var r=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[e]&&t.Workbook.Sheets[e].Hidden||0,n={Hidden:r,iTabID:e+1,strRelID:"rId"+(e+1),name:t.SheetNames[e]};_t(i,156,jD(n))}_t(i,144)}function $D(i,t){t||(t=nt(127));for(var e=0;e!=4;++e)t.write_shift(4,0);return Wn("SheetJS",t),Wn(Ep.version,t),Wn(Ep.version,t),Wn("7262",t),t.length>t.l?t.slice(0,t.l):t}function XD(i,t){t||(t=nt(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,i),t.write_shift(4,i);var e=120;return t.write_shift(1,e),t.length>t.l?t.slice(0,t.l):t}function ZD(i,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var e=t.Workbook.Sheets,r=0,n=-1,o=-1;r<e.length;++r)!e[r]||!e[r].Hidden&&n==-1?n=r:e[r].Hidden==1&&o==-1&&(o=r);o>n||(_t(i,135),_t(i,158,XD(n)),_t(i,136))}}function YD(i,t){var e=ra();return _t(e,131),_t(e,128,$D()),_t(e,153,WD(i.Workbook&&i.Workbook.WBProps||null)),ZD(e,i,t),GD(e,i,t),_t(e,132),e.end()}function KD(i,t,e){return(t.slice(-4)===".bin"?YD:KC)(i,e)}function JD(i,t,e,r,n){return(t.slice(-4)===".bin"?ND:XC)(i,e,r,n)}function QD(i,t,e){return(t.slice(-4)===".bin"?v7:FC)(i,e)}function eR(i,t,e){return(t.slice(-4)===".bin"?WF:kC)(i,e)}function tR(i,t,e){return(t.slice(-4)===".bin"?F7:BC)(i,e)}function iR(i){return(i.slice(-4)===".bin"?E7:DC)()}function rR(i,t){var e=[];return i.Props&&e.push(QO(i.Props,t)),i.Custprops&&e.push(eF(i.Props,i.Custprops,t)),e.join("")}function nR(){return""}function oR(i,t){var e=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(r,n){var o=[];o.push(Dt("NumberFormat",null,{"ss:Format":Sr(un[r.numFmtId])}));var a={"ss:ID":"s"+(21+n)};e.push(Dt("Style",o.join(""),a))}),Dt("Styles",e.join(""))}function JC(i){return Dt("NamedRange",null,{"ss:Name":i.Name,"ss:RefersTo":"="+zv(i.Ref,{r:0,c:0})})}function aR(i){if(!((i||{}).Workbook||{}).Names)return"";for(var t=i.Workbook.Names,e=[],r=0;r<t.length;++r){var n=t[r];n.Sheet==null&&(n.Name.match(/^_xlfn\./)||e.push(JC(n)))}return Dt("Names",e.join(""))}function sR(i,t,e,r){if(!i||!((r||{}).Workbook||{}).Names)return"";for(var n=r.Workbook.Names,o=[],a=0;a<n.length;++a){var d=n[a];d.Sheet==e&&(d.Name.match(/^_xlfn\./)||o.push(JC(d)))}return o.join("")}function lR(i,t,e,r){if(!i)return"";var n=[];if(i["!margins"]&&(n.push("<PageSetup>"),i["!margins"].header&&n.push(Dt("Header",null,{"x:Margin":i["!margins"].header})),i["!margins"].footer&&n.push(Dt("Footer",null,{"x:Margin":i["!margins"].footer})),n.push(Dt("PageMargins",null,{"x:Bottom":i["!margins"].bottom||"0.75","x:Left":i["!margins"].left||"0.7","x:Right":i["!margins"].right||"0.7","x:Top":i["!margins"].top||"0.75"})),n.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[e])if(r.Workbook.Sheets[e].Hidden)n.push(Dt("Visible",r.Workbook.Sheets[e].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var o=0;o<e&&!(r.Workbook.Sheets[o]&&!r.Workbook.Sheets[o].Hidden);++o);o==e&&n.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&n.push("<DisplayRightToLeft/>"),i["!protect"]&&(n.push(io("ProtectContents","True")),i["!protect"].objects&&n.push(io("ProtectObjects","True")),i["!protect"].scenarios&&n.push(io("ProtectScenarios","True")),i["!protect"].selectLockedCells!=null&&!i["!protect"].selectLockedCells?n.push(io("EnableSelection","NoSelection")):i["!protect"].selectUnlockedCells!=null&&!i["!protect"].selectUnlockedCells&&n.push(io("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(a){i["!protect"][a[0]]&&n.push("<"+a[1]+"/>")})),n.length==0?"":Dt("WorksheetOptions",n.join(""),{xmlns:Sa.x})}function cR(i){return i.map(function(t){var e=pO(t.t||""),r=Dt("ss:Data",e,{xmlns:"http://www.w3.org/TR/REC-html40"});return Dt("Comment",r,{"ss:Author":t.a})}).join("")}function dR(i,t,e,r,n,o,a){if(!i||i.v==null&&i.f==null)return"";var d={};if(i.f&&(d["ss:Formula"]="="+Sr(zv(i.f,a))),i.F&&i.F.slice(0,t.length)==t){var u=zn(i.F.slice(t.length+1));d["ss:ArrayRange"]="RC:R"+(u.r==a.r?"":"["+(u.r-a.r)+"]")+"C"+(u.c==a.c?"":"["+(u.c-a.c)+"]")}if(i.l&&i.l.Target&&(d["ss:HRef"]=Sr(i.l.Target),i.l.Tooltip&&(d["x:HRefScreenTip"]=Sr(i.l.Tooltip))),e["!merges"])for(var m=e["!merges"],v=0;v!=m.length;++v)m[v].s.c!=a.c||m[v].s.r!=a.r||(m[v].e.c>m[v].s.c&&(d["ss:MergeAcross"]=m[v].e.c-m[v].s.c),m[v].e.r>m[v].s.r&&(d["ss:MergeDown"]=m[v].e.r-m[v].s.r));var y="",w="";switch(i.t){case"z":if(!r.sheetStubs)return"";break;case"n":y="Number",w=String(i.v);break;case"b":y="Boolean",w=i.v?"1":"0";break;case"e":y="Error",w=Np[i.v];break;case"d":y="DateTime",w=new Date(i.v).toISOString(),i.z==null&&(i.z=i.z||un[14]);break;case"s":y="String",w=uO(i.v||"");break}var x=Bc(r.cellXfs,i,r);d["ss:StyleID"]="s"+(21+x),d["ss:Index"]=a.c+1;var T=i.v!=null?w:"",E=i.t=="z"?"":'<Data ss:Type="'+y+'">'+T+"</Data>";return(i.c||[]).length>0&&(E+=cR(i.c)),Dt("Cell",E,d)}function uR(i,t){var e='<Row ss:Index="'+(i+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=OC(t.hpt)),t.hpx&&(e+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(e+=' ss:Hidden="1"')),e+">"}function pR(i,t,e,r){if(!i["!ref"])return"";var n=Wr(i["!ref"]),o=i["!merges"]||[],a=0,d=[];i["!cols"]&&i["!cols"].forEach(function(k,F){qv(k);var U=!!k.width,Y=Oh(F,k),ve={"ss:Index":F+1};U&&(ve["ss:Width"]=bh(Y.width)),k.hidden&&(ve["ss:Hidden"]="1"),d.push(Dt("Column",null,ve))});for(var u=Array.isArray(i),m=n.s.r;m<=n.e.r;++m){for(var v=[uR(m,(i["!rows"]||[])[m])],y=n.s.c;y<=n.e.c;++y){var w=!1;for(a=0;a!=o.length;++a)if(!(o[a].s.c>y)&&!(o[a].s.r>m)&&!(o[a].e.c<y)&&!(o[a].e.r<m)){(o[a].s.c!=y||o[a].s.r!=m)&&(w=!0);break}if(!w){var x={r:m,c:y},T=Er(x),E=u?(i[m]||[])[y]:i[T];v.push(dR(E,T,i,t,e,r,x))}}v.push("</Row>"),v.length>2&&d.push(v.join(""))}return d.join("")}function fR(i,t,e){var r=[],n=e.SheetNames[i],o=e.Sheets[n],a=o?sR(o,t,i,e):"";return a.length>0&&r.push("<Names>"+a+"</Names>"),a=o?pR(o,t,i,e):"",a.length>0&&r.push("<Table>"+a+"</Table>"),r.push(lR(o,t,i,e)),r.join("")}function mR(i,t){t||(t={}),i.SSF||(i.SSF=oa(un)),i.SSF&&(Ph(),Eh(i.SSF),t.revssf=Mh(i.SSF),t.revssf[i.SSF[65535]]=0,t.ssf=i.SSF,t.cellXfs=[],Bc(t.cellXfs,{},{revssf:{General:0}}));var e=[];e.push(rR(i,t)),e.push(nR(i,t)),e.push(""),e.push("");for(var r=0;r<i.SheetNames.length;++r)e.push(Dt("Worksheet",fR(r,t,i),{"ss:Name":Sr(i.SheetNames[r])}));return e[2]=oR(i,t),e[3]=aR(i,t),Pn+Dt("Workbook",e.join(""),{xmlns:Sa.ss,"xmlns:o":Sa.o,"xmlns:x":Sa.x,"xmlns:ss":Sa.ss,"xmlns:dt":Sa.dt,"xmlns:html":Sa.html})}var gv={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function hR(i,t){var e=[],r=[],n=[],o=0,a,d=ny(vy,"n"),u=ny(_y,"n");if(i.Props)for(a=no(i.Props),o=0;o<a.length;++o)(Object.prototype.hasOwnProperty.call(d,a[o])?e:Object.prototype.hasOwnProperty.call(u,a[o])?r:n).push([a[o],i.Props[a[o]]]);if(i.Custprops)for(a=no(i.Custprops),o=0;o<a.length;++o)Object.prototype.hasOwnProperty.call(i.Props||{},a[o])||(Object.prototype.hasOwnProperty.call(d,a[o])?e:Object.prototype.hasOwnProperty.call(u,a[o])?r:n).push([a[o],i.Custprops[a[o]]]);var m=[];for(o=0;o<n.length;++o)CC.indexOf(n[o][0])>-1||bC.indexOf(n[o][0])>-1||n[o][1]!=null&&m.push(n[o]);r.length&&Fr.utils.cfb_add(t,"/SummaryInformation",wy(r,gv.SI,u,_y)),(e.length||m.length)&&Fr.utils.cfb_add(t,"/DocumentSummaryInformation",wy(e,gv.DSI,d,vy,m.length?m:null,gv.UDI))}function gR(i,t){var e=t||{},r=Fr.utils.cfb_new({root:"R"}),n="/Workbook";switch(e.bookType||"xls"){case"xls":e.bookType="biff8";case"xla":e.bookType||(e.bookType="xla");case"biff8":n="/Workbook",e.biff=8;break;case"biff5":n="/Book",e.biff=5;break;default:throw new Error("invalid type "+e.bookType+" for XLS CFB")}return Fr.utils.cfb_add(r,n,QC(i,e)),e.biff==8&&(i.Props||i.Custprops)&&hR(i,r),e.biff==8&&i.vbaraw&&N7(r,Fr.read(i.vbaraw,{type:typeof i.vbaraw=="string"?"binary":"buffer"})),r}var vR={0:{f:xL},1:{f:TL},2:{f:XL},3:{f:DL},4:{f:OL},5:{f:WL},6:{f:QL},7:{f:VL},8:{f:aD},9:{f:oD},10:{f:rD},11:{f:nD},12:{f:AL},13:{f:YL},14:{f:BL},15:{f:NL},16:{f:GL},17:{f:tD},18:{f:jL},19:{f:Rv},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:HD},40:{},42:{},43:{f:QF},44:{f:KF},45:{f:i7},46:{f:n7},47:{f:r7},48:{},49:{f:AO},50:{},51:{f:x7},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:IF},62:{f:JL},63:{f:P7},64:{f:CD},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:el,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:_D},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:PL},148:{f:wL,p:16},151:{f:pD},152:{},153:{f:zD},154:{},155:{},156:{f:qD},157:{},158:{},159:{T:1,f:qF},160:{T:-1},161:{T:1,f:jd},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:sD},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:_7},336:{T:-1},337:{f:w7,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:yv},357:{},358:{},359:{},360:{T:1},361:{},362:{f:EF},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:fD},427:{f:mD},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:gD},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:EL},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:dD},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:yv},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:I7},633:{T:1},634:{T:-1},635:{T:1,f:k7},636:{T:-1},637:{f:NO},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:LD},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:wD},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Ut(i,t,e,r){var n=t;if(!isNaN(n)){var o=r||(e||[]).length||0,a=i.next(4);a.write_shift(2,n),a.write_shift(2,o),o>0&&Nv(e)&&i.push(e)}}function _R(i,t,e,r){var n=r||(e||[]).length||0;if(n<=8224)return Ut(i,t,e,n);var o=t;if(!isNaN(o)){for(var a=e.parts||[],d=0,u=0,m=0;m+(a[d]||8224)<=8224;)m+=a[d]||8224,d++;var v=i.next(4);for(v.write_shift(2,o),v.write_shift(2,m),i.push(e.slice(u,u+m)),u+=m;u<n;){for(v=i.next(4),v.write_shift(2,60),m=0;m+(a[d]||8224)<=8224;)m+=a[d]||8224,d++;v.write_shift(2,m),i.push(e.slice(u,u+m)),u+=m}}}function Dp(i,t,e){return i||(i=nt(7)),i.write_shift(2,t),i.write_shift(2,e),i.write_shift(2,0),i.write_shift(1,0),i}function bR(i,t,e,r){var n=nt(9);return Dp(n,i,t),SC(e,r||"b",n),n}function xR(i,t,e){var r=nt(8+2*e.length);return Dp(r,i,t),r.write_shift(1,e.length),r.write_shift(e.length,e,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function yR(i,t,e,r){if(t.v!=null)switch(t.t){case"d":case"n":var n=t.t=="d"?na(Uo(t.v)):t.v;n==(n|0)&&n>=0&&n<65536?Ut(i,2,LF(e,r,n)):Ut(i,3,NF(e,r,n));return;case"b":case"e":Ut(i,5,bR(e,r,t.v,t.t));return;case"s":case"str":Ut(i,4,xR(e,r,(t.v||"").slice(0,255)));return}Ut(i,1,Dp(null,e,r))}function CR(i,t,e,r){var n=Array.isArray(t),o=Wr(t["!ref"]||"A1"),a,d="",u=[];if(o.e.c>255||o.e.r>16383){if(r.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");o.e.c=Math.min(o.e.c,255),o.e.r=Math.min(o.e.c,16383),a=En(o)}for(var m=o.s.r;m<=o.e.r;++m){d=ro(m);for(var v=o.s.c;v<=o.e.c;++v){m===o.s.r&&(u[v]=vo(v)),a=u[v]+d;var y=n?(t[m]||[])[v]:t[a];y&&yR(i,y,m,v,r)}}}function wR(i,t){var e=t||{};Qs!=null&&e.dense==null&&(e.dense=Qs);for(var r=ra(),n=0,o=0;o<i.SheetNames.length;++o)i.SheetNames[o]==e.sheet&&(n=o);if(n==0&&e.sheet&&i.SheetNames[0]!=e.sheet)throw new Error("Sheet not found: "+e.sheet);return Ut(r,e.biff==4?1033:e.biff==3?521:9,Vv(i,16,e)),CR(r,i.Sheets[i.SheetNames[n]],n,e,i),Ut(r,10),r.end()}function SR(i,t,e){Ut(i,49,vF({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},e))}function ER(i,t,e){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&Ut(i,1054,xF(n,t[n],e))})}function PR(i,t){var e=nt(19);e.write_shift(4,2151),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(2,3),e.write_shift(1,1),e.write_shift(4,0),Ut(i,2151,e),e=nt(39),e.write_shift(4,2152),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(2,3),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(2,1),e.write_shift(4,4),e.write_shift(2,0),MC(Wr(t["!ref"]||"A1"),e),e.write_shift(4,4),Ut(i,2152,e)}function MR(i,t){for(var e=0;e<16;++e)Ut(i,224,Ey({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(r){Ut(i,224,Ey(r,0,t))})}function TR(i,t){for(var e=0;e<t["!links"].length;++e){var r=t["!links"][e];Ut(i,440,TF(r)),r[1].Tooltip&&Ut(i,2048,kF(r))}delete t["!links"]}function kR(i,t){if(t){var e=0;t.forEach(function(r,n){++e<=256&&r&&Ut(i,125,OF(Oh(n,r),n))})}}function AR(i,t,e,r,n){var o=16+Bc(n.cellXfs,t,n);if(t.v==null&&!t.bf){Ut(i,513,Rd(e,r,o));return}if(t.bf)Ut(i,6,eL(t,e,r,n,o));else switch(t.t){case"d":case"n":var a=t.t=="d"?na(Uo(t.v)):t.v;Ut(i,515,SF(e,r,a,o,n));break;case"b":case"e":Ut(i,517,wF(e,r,t.v,o,n,t.t));break;case"s":case"str":if(n.bookSST){var d=Hv(n.Strings,t.v,n.revStrings);Ut(i,253,_F(e,r,d,o,n))}else Ut(i,516,bF(e,r,(t.v||"").slice(0,255),o,n));break;default:Ut(i,513,Rd(e,r,o))}}function IR(i,t,e){var r=ra(),n=e.SheetNames[i],o=e.Sheets[n]||{},a=(e||{}).Workbook||{},d=(a.Sheets||[])[i]||{},u=Array.isArray(o),m=t.biff==8,v,y="",w=[],x=Wr(o["!ref"]||"A1"),T=m?65536:16384;if(x.e.c>255||x.e.r>=T){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:IV16384");x.e.c=Math.min(x.e.c,255),x.e.r=Math.min(x.e.c,T-1)}Ut(r,2057,Vv(e,16,t)),Ut(r,13,Ka(1)),Ut(r,12,Ka(100)),Ut(r,15,Bo(!0)),Ut(r,17,Bo(!1)),Ut(r,16,Dd(.001)),Ut(r,95,Bo(!0)),Ut(r,42,Bo(!1)),Ut(r,43,Bo(!1)),Ut(r,130,Ka(1)),Ut(r,128,CF([0,0])),Ut(r,131,Bo(!1)),Ut(r,132,Bo(!1)),m&&kR(r,o["!cols"]),Ut(r,512,yF(x,t)),m&&(o["!links"]=[]);for(var E=x.s.r;E<=x.e.r;++E){y=ro(E);for(var k=x.s.c;k<=x.e.c;++k){E===x.s.r&&(w[k]=vo(k)),v=w[k]+y;var F=u?(o[E]||[])[k]:o[v];F&&(AR(r,F,E,k,t),m&&F.l&&o["!links"].push([v,F.l]))}}var U=d.CodeName||d.name||n;return m&&Ut(r,574,gF((a.Views||[])[0])),m&&(o["!merges"]||[]).length&&Ut(r,229,MF(o["!merges"])),m&&TR(r,o),Ut(r,442,PC(U,t)),m&&PR(r,o),Ut(r,10),r.end()}function OR(i,t,e){var r=ra(),n=(i||{}).Workbook||{},o=n.Sheets||[],a=n.WBProps||{},d=e.biff==8,u=e.biff==5;if(Ut(r,2057,Vv(i,5,e)),e.bookType=="xla"&&Ut(r,135),Ut(r,225,d?Ka(1200):null),Ut(r,193,rF(2)),u&&Ut(r,191),u&&Ut(r,192),Ut(r,226),Ut(r,92,pF("SheetJS",e)),Ut(r,66,Ka(d?1200:1252)),d&&Ut(r,353,Ka(0)),d&&Ut(r,448),Ut(r,317,FF(i.SheetNames.length)),d&&i.vbaraw&&Ut(r,211),d&&i.vbaraw){var m=a.CodeName||"ThisWorkbook";Ut(r,442,PC(m,e))}Ut(r,156,Ka(17)),Ut(r,25,Bo(!1)),Ut(r,18,Bo(!1)),Ut(r,19,Ka(0)),d&&Ut(r,431,Bo(!1)),d&&Ut(r,444,Ka(0)),Ut(r,61,hF(e)),Ut(r,64,Bo(!1)),Ut(r,141,Ka(0)),Ut(r,34,Bo(RD(i)=="true")),Ut(r,14,Bo(!0)),d&&Ut(r,439,Bo(!1)),Ut(r,218,Ka(0)),SR(r,i,e),ER(r,i.SSF,e),MR(r,e),d&&Ut(r,352,Bo(!1));var v=r.end(),y=ra();d&&Ut(y,140,AF()),d&&e.Strings&&_R(y,252,mF(e.Strings,e)),Ut(y,10);var w=y.end(),x=ra(),T=0,E=0;for(E=0;E<i.SheetNames.length;++E)T+=(d?12:11)+(d?2:1)*i.SheetNames[E].length;var k=v.length+T+w.length;for(E=0;E<i.SheetNames.length;++E){var F=o[E]||{};Ut(x,133,fF({pos:k,hs:F.Hidden||0,dt:0,name:i.SheetNames[E]},e)),k+=t[E].length}var U=x.end();if(T!=U.length)throw new Error("BS8 "+T+" != "+U.length);var Y=[];return v.length&&Y.push(v),U.length&&Y.push(U),w.length&&Y.push(w),to(Y)}function FR(i,t){var e=t||{},r=[];i&&!i.SSF&&(i.SSF=oa(un)),i&&i.SSF&&(Ph(),Eh(i.SSF),e.revssf=Mh(i.SSF),e.revssf[i.SSF[65535]]=0,e.ssf=i.SSF),e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Gv(e),e.cellXfs=[],Bc(e.cellXfs,{},{revssf:{General:0}}),i.Props||(i.Props={});for(var n=0;n<i.SheetNames.length;++n)r[r.length]=IR(n,e,i);return r.unshift(OR(i,r,e)),to(r)}function QC(i,t){for(var e=0;e<=i.SheetNames.length;++e){var r=i.Sheets[i.SheetNames[e]];if(!(!r||!r["!ref"])){var n=Ea(r["!ref"]);n.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+i.SheetNames[e]+"' extends beyond column IV (255).  Data may be lost.")}}var o=t||{};switch(o.biff||2){case 8:case 5:return FR(i,t);case 4:case 3:case 2:return wR(i,t)}throw new Error("invalid type "+o.bookType+" for BIFF")}function NR(i,t,e,r){for(var n=i["!merges"]||[],o=[],a=t.s.c;a<=t.e.c;++a){for(var d=0,u=0,m=0;m<n.length;++m)if(!(n[m].s.r>e||n[m].s.c>a)&&!(n[m].e.r<e||n[m].e.c<a)){if(n[m].s.r<e||n[m].s.c<a){d=-1;break}d=n[m].e.r-n[m].s.r+1,u=n[m].e.c-n[m].s.c+1;break}if(!(d<0)){var v=Er({r:e,c:a}),y=r.dense?(i[e]||[])[a]:i[v],w=y&&y.v!=null&&(y.h||dO(y.w||(Ol(y),y.w)||""))||"",x={};d>1&&(x.rowspan=d),u>1&&(x.colspan=u),r.editable?w='<span contenteditable="true">'+w+"</span>":y&&(x["data-t"]=y&&y.t||"z",y.v!=null&&(x["data-v"]=y.v),y.z!=null&&(x["data-z"]=y.z),y.l&&(y.l.Target||"#").charAt(0)!="#"&&(w='<a href="'+y.l.Target+'">'+w+"</a>")),x.id=(r.id||"sjs")+"-"+v,o.push(Dt("td",w,x))}}var T="<tr>";return T+o.join("")+"</tr>"}var LR='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',DR="</body></html>";function RR(i,t,e){var r=[];return r.join("")+"<table"+(e&&e.id?' id="'+e.id+'"':"")+">"}function ew(i,t){var e=t||{},r=e.header!=null?e.header:LR,n=e.footer!=null?e.footer:DR,o=[r],a=Ea(i["!ref"]);e.dense=Array.isArray(i),o.push(RR(i,a,e));for(var d=a.s.r;d<=a.e.r;++d)o.push(NR(i,a,d,e));return o.push("</table>"+n),o.join("")}function tw(i,t,e){var r=e||{};Qs!=null&&(r.dense=Qs);var n=0,o=0;if(r.origin!=null)if(typeof r.origin=="number")n=r.origin;else{var a=typeof r.origin=="string"?zn(r.origin):r.origin;n=a.r,o=a.c}var d=t.getElementsByTagName("tr"),u=Math.min(r.sheetRows||1e7,d.length),m={s:{r:0,c:0},e:{r:n,c:o}};if(i["!ref"]){var v=Ea(i["!ref"]);m.s.r=Math.min(m.s.r,v.s.r),m.s.c=Math.min(m.s.c,v.s.c),m.e.r=Math.max(m.e.r,v.e.r),m.e.c=Math.max(m.e.c,v.e.c),n==-1&&(m.e.r=n=v.e.r+1)}var y=[],w=0,x=i["!rows"]||(i["!rows"]=[]),T=0,E=0,k=0,F=0,U=0,Y=0;for(i["!cols"]||(i["!cols"]=[]);T<d.length&&E<u;++T){var ve=d[T];if(Oy(ve)){if(r.display)continue;x[E]={hidden:!0}}var we=ve.children;for(k=F=0;k<we.length;++k){var Ue=we[k];if(!(r.display&&Oy(Ue))){var ne=Ue.hasAttribute("data-v")?Ue.getAttribute("data-v"):Ue.hasAttribute("v")?Ue.getAttribute("v"):mO(Ue.innerHTML),re=Ue.getAttribute("data-z")||Ue.getAttribute("z");for(w=0;w<y.length;++w){var ce=y[w];ce.s.c==F+o&&ce.s.r<E+n&&E+n<=ce.e.r&&(F=ce.e.c+1-o,w=-1)}Y=+Ue.getAttribute("colspan")||1,((U=+Ue.getAttribute("rowspan")||1)>1||Y>1)&&y.push({s:{r:E+n,c:F+o},e:{r:E+n+(U||1)-1,c:F+o+(Y||1)-1}});var Ce={t:"s",v:ne},W=Ue.getAttribute("data-t")||Ue.getAttribute("t")||"";ne!=null&&(ne.length==0?Ce.t=W||"z":r.raw||ne.trim().length==0||W=="s"||(ne==="TRUE"?Ce={t:"b",v:!0}:ne==="FALSE"?Ce={t:"b",v:!1}:isNaN(kl(ne))?isNaN(Tp(ne).getDate())||(Ce={t:"d",v:Uo(ne)},r.cellDates||(Ce={t:"n",v:na(Ce.v)}),Ce.z=r.dateNF||un[14]):Ce={t:"n",v:kl(ne)})),Ce.z===void 0&&re!=null&&(Ce.z=re);var G="",xe=Ue.getElementsByTagName("A");if(xe&&xe.length)for(var ye=0;ye<xe.length&&!(xe[ye].hasAttribute("href")&&(G=xe[ye].getAttribute("href"),G.charAt(0)!="#"));++ye);G&&G.charAt(0)!="#"&&(Ce.l={Target:G}),r.dense?(i[E+n]||(i[E+n]=[]),i[E+n][F+o]=Ce):i[Er({c:F+o,r:E+n})]=Ce,m.e.c<F+o&&(m.e.c=F+o),F+=Y}}++E}return y.length&&(i["!merges"]=(i["!merges"]||[]).concat(y)),m.e.r=Math.max(m.e.r,E-1+n),i["!ref"]=En(m),E>=u&&(i["!fullref"]=En((m.e.r=d.length-T+E-1+n,m))),i}function iw(i,t){var e=t||{},r=e.dense?[]:{};return tw(r,i,t)}function BR(i,t){return Bd(iw(i,t),t)}function Oy(i){var t="",e=UR(i);return e&&(t=e(i).getPropertyValue("display")),t||(t=i.style&&i.style.display),t==="none"}function UR(i){return i.ownerDocument.defaultView&&typeof i.ownerDocument.defaultView.getComputedStyle=="function"?i.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var VR=function(){var i=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+kp({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+i+"</office:document-styles>";return function(){return Pn+t}}(),Fy=function(){var i=function(o){return Sr(o).replace(/  +/g,function(a){return'<text:s text:c="'+a.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,e=`          <table:covered-table-cell/>
`,r=function(o,a,d){var u=[];u.push('      <table:table table:name="'+Sr(a.SheetNames[d])+`" table:style-name="ta1">
`);var m=0,v=0,y=Ea(o["!ref"]||"A1"),w=o["!merges"]||[],x=0,T=Array.isArray(o);if(o["!cols"])for(v=0;v<=y.e.c;++v)u.push("        <table:table-column"+(o["!cols"][v]?' table:style-name="co'+o["!cols"][v].ods+'"':"")+`></table:table-column>
`);var E="",k=o["!rows"]||[];for(m=0;m<y.s.r;++m)E=k[m]?' table:style-name="ro'+k[m].ods+'"':"",u.push("        <table:table-row"+E+`></table:table-row>
`);for(;m<=y.e.r;++m){for(E=k[m]?' table:style-name="ro'+k[m].ods+'"':"",u.push("        <table:table-row"+E+`>
`),v=0;v<y.s.c;++v)u.push(t);for(;v<=y.e.c;++v){var F=!1,U={},Y="";for(x=0;x!=w.length;++x)if(!(w[x].s.c>v)&&!(w[x].s.r>m)&&!(w[x].e.c<v)&&!(w[x].e.r<m)){(w[x].s.c!=v||w[x].s.r!=m)&&(F=!0),U["table:number-columns-spanned"]=w[x].e.c-w[x].s.c+1,U["table:number-rows-spanned"]=w[x].e.r-w[x].s.r+1;break}if(F){u.push(e);continue}var ve=Er({r:m,c:v}),we=T?(o[m]||[])[v]:o[ve];if(we&&we.f&&(U["table:formula"]=Sr(aL(we.f)),we.F&&we.F.slice(0,ve.length)==ve)){var Ue=Ea(we.F);U["table:number-matrix-columns-spanned"]=Ue.e.c-Ue.s.c+1,U["table:number-matrix-rows-spanned"]=Ue.e.r-Ue.s.r+1}if(!we){u.push(t);continue}switch(we.t){case"b":Y=we.v?"TRUE":"FALSE",U["office:value-type"]="boolean",U["office:boolean-value"]=we.v?"true":"false";break;case"n":Y=we.w||String(we.v||0),U["office:value-type"]="float",U["office:value"]=we.v||0;break;case"s":case"str":Y=we.v==null?"":we.v,U["office:value-type"]="string";break;case"d":Y=we.w||Uo(we.v).toISOString(),U["office:value-type"]="date",U["office:date-value"]=Uo(we.v).toISOString(),U["table:style-name"]="ce1";break;default:u.push(t);continue}var ne=i(Y);if(we.l&&we.l.Target){var re=we.l.Target;re=re.charAt(0)=="#"?"#"+sL(re.slice(1)):re,re.charAt(0)!="#"&&!re.match(/^\w+:/)&&(re="../"+re),ne=Dt("text:a",ne,{"xlink:href":re.replace(/&/g,"&amp;")})}u.push("          "+Dt("table:table-cell",Dt("text:p",ne,{}),U)+`
`)}u.push(`        </table:table-row>
`)}return u.push(`      </table:table>
`),u.join("")},n=function(o,a){o.push(` <office:automatic-styles>
`),o.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),o.push(`   <number:month number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:day number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:year/>
`),o.push(`  </number:date-style>
`);var d=0;a.SheetNames.map(function(m){return a.Sheets[m]}).forEach(function(m){if(m&&m["!cols"]){for(var v=0;v<m["!cols"].length;++v)if(m["!cols"][v]){var y=m["!cols"][v];if(y.width==null&&y.wpx==null&&y.wch==null)continue;qv(y),y.ods=d;var w=m["!cols"][v].wpx+"px";o.push('  <style:style style:name="co'+d+`" style:family="table-column">
`),o.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+w+`"/>
`),o.push(`  </style:style>
`),++d}}});var u=0;a.SheetNames.map(function(m){return a.Sheets[m]}).forEach(function(m){if(m&&m["!rows"]){for(var v=0;v<m["!rows"].length;++v)if(m["!rows"][v]){m["!rows"][v].ods=u;var y=m["!rows"][v].hpx+"px";o.push('  <style:style style:name="ro'+u+`" style:family="table-row">
`),o.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+y+`"/>
`),o.push(`  </style:style>
`),++u}}}),o.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),o.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),o.push(`  </style:style>
`),o.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),o.push(` </office:automatic-styles>
`)};return function(a,d){var u=[Pn],m=kp({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),v=kp({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});d.bookType=="fods"?(u.push("<office:document"+m+v+`>
`),u.push(vC().replace(/office:document-meta/g,"office:meta"))):u.push("<office:document-content"+m+`>
`),n(u,a),u.push(`  <office:body>
`),u.push(`    <office:spreadsheet>
`);for(var y=0;y!=a.SheetNames.length;++y)u.push(r(a.Sheets[a.SheetNames[y]],a,y,d));return u.push(`    </office:spreadsheet>
`),u.push(`  </office:body>
`),d.bookType=="fods"?u.push("</office:document>"):u.push("</office:document-content>"),u.join("")}}();function rw(i,t){if(t.bookType=="fods")return Fy(i,t);var e=Pv(),r="",n=[],o=[];return r="mimetype",Wi(e,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",Wi(e,r,Fy(i,t)),n.push([r,"text/xml"]),o.push([r,"ContentFile"]),r="styles.xml",Wi(e,r,VR(i,t)),n.push([r,"text/xml"]),o.push([r,"StylesFile"]),r="meta.xml",Wi(e,r,Pn+vC()),n.push([r,"text/xml"]),o.push([r,"MetadataFile"]),r="manifest.rdf",Wi(e,r,JO(o)),n.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",Wi(e,r,YO(n)),e}function Ch(i){return new DataView(i.buffer,i.byteOffset,i.byteLength)}function qR(i){return typeof TextEncoder<"u"?new TextEncoder().encode(i):xs(Ml(i))}function jR(i,t){e:for(var e=0;e<=i.length-t.length;++e){for(var r=0;r<t.length;++r)if(i[e+r]!=t[r])continue e;return!0}return!1}function Rc(i){var t=i.reduce(function(n,o){return n+o.length},0),e=new Uint8Array(t),r=0;return i.forEach(function(n){e.set(n,r),r+=n.length}),e}function zR(i,t,e){var r=Math.floor(e==0?0:Math.LOG10E*Math.log(Math.abs(e)))+6176-20,n=e/Math.pow(10,r-6176);i[t+15]|=r>>7,i[t+14]|=(r&127)<<1;for(var o=0;n>=1;++o,n/=256)i[t+o]=n&255;i[t+15]|=e>=0?0:128}function Ap(i,t){var e=t?t[0]:0,r=i[e]&127;e:if(i[e++]>=128&&(r|=(i[e]&127)<<7,i[e++]<128||(r|=(i[e]&127)<<14,i[e++]<128)||(r|=(i[e]&127)<<21,i[e++]<128)||(r+=(i[e]&127)*Math.pow(2,28),++e,i[e++]<128)||(r+=(i[e]&127)*Math.pow(2,35),++e,i[e++]<128)||(r+=(i[e]&127)*Math.pow(2,42),++e,i[e++]<128)))break e;return t&&(t[0]=e),r}function Cr(i){var t=new Uint8Array(7);t[0]=i&127;var e=1;e:if(i>127){if(t[e-1]|=128,t[e]=i>>7&127,++e,i<=16383||(t[e-1]|=128,t[e]=i>>14&127,++e,i<=2097151)||(t[e-1]|=128,t[e]=i>>21&127,++e,i<=268435455)||(t[e-1]|=128,t[e]=i/256>>>21&127,++e,i<=34359738367)||(t[e-1]|=128,t[e]=i/65536>>>21&127,++e,i<=4398046511103))break e;t[e-1]|=128,t[e]=i/16777216>>>21&127,++e}return t.slice(0,e)}function W0(i){var t=0,e=i[t]&127;e:if(i[t++]>=128){if(e|=(i[t]&127)<<7,i[t++]<128||(e|=(i[t]&127)<<14,i[t++]<128)||(e|=(i[t]&127)<<21,i[t++]<128))break e;e|=(i[t]&127)<<28}return e}function An(i){for(var t=[],e=[0];e[0]<i.length;){var r=e[0],n=Ap(i,e),o=n&7;n=Math.floor(n/8);var a=0,d;if(n==0)break;switch(o){case 0:{for(var u=e[0];i[e[0]++]>=128;);d=i.slice(u,e[0])}break;case 5:a=4,d=i.slice(e[0],e[0]+a),e[0]+=a;break;case 1:a=8,d=i.slice(e[0],e[0]+a),e[0]+=a;break;case 2:a=Ap(i,e),d=i.slice(e[0],e[0]+a),e[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(o," for Field ").concat(n," at offset ").concat(r))}var m={data:d,type:o};t[n]==null?t[n]=[m]:t[n].push(m)}return t}function Qn(i){var t=[];return i.forEach(function(e,r){e.forEach(function(n){n.data&&(t.push(Cr(r*8+n.type)),n.type==2&&t.push(Cr(n.data.length)),t.push(n.data))})}),Rc(t)}function _s(i){for(var t,e=[],r=[0];r[0]<i.length;){var n=Ap(i,r),o=An(i.slice(r[0],r[0]+n));r[0]+=n;var a={id:W0(o[1][0].data),messages:[]};o[2].forEach(function(d){var u=An(d.data),m=W0(u[3][0].data);a.messages.push({meta:u,data:i.slice(r[0],r[0]+m)}),r[0]+=m}),(t=o[3])!=null&&t[0]&&(a.merge=W0(o[3][0].data)>>>0>0),e.push(a)}return e}function D0(i){var t=[];return i.forEach(function(e){var r=[];r[1]=[{data:Cr(e.id),type:0}],r[2]=[],e.merge!=null&&(r[3]=[{data:Cr(+!!e.merge),type:0}]);var n=[];e.messages.forEach(function(a){n.push(a.data),a.meta[3]=[{type:0,data:Cr(a.data.length)}],r[2].push({data:Qn(a.meta),type:2})});var o=Qn(r);t.push(Cr(o.length)),t.push(o),n.forEach(function(a){return t.push(a)})}),Rc(t)}function WR(i,t){if(i!=0)throw new Error("Unexpected Snappy chunk type ".concat(i));for(var e=[0],r=Ap(t,e),n=[];e[0]<t.length;){var o=t[e[0]]&3;if(o==0){var a=t[e[0]++]>>2;if(a<60)++a;else{var d=a-59;a=t[e[0]],d>1&&(a|=t[e[0]+1]<<8),d>2&&(a|=t[e[0]+2]<<16),d>3&&(a|=t[e[0]+3]<<24),a>>>=0,a++,e[0]+=d}n.push(t.slice(e[0],e[0]+a)),e[0]+=a;continue}else{var u=0,m=0;if(o==1?(m=(t[e[0]]>>2&7)+4,u=(t[e[0]++]&224)<<3,u|=t[e[0]++]):(m=(t[e[0]++]>>2)+1,o==2?(u=t[e[0]]|t[e[0]+1]<<8,e[0]+=2):(u=(t[e[0]]|t[e[0]+1]<<8|t[e[0]+2]<<16|t[e[0]+3]<<24)>>>0,e[0]+=4)),n=[Rc(n)],u==0)throw new Error("Invalid offset 0");if(u>n[0].length)throw new Error("Invalid offset beyond length");if(m>=u)for(n.push(n[0].slice(-u)),m-=u;m>=n[n.length-1].length;)n.push(n[n.length-1]),m-=n[n.length-1].length;n.push(n[0].slice(-u,-u+m))}}var v=Rc(n);if(v.length!=r)throw new Error("Unexpected length: ".concat(v.length," != ").concat(r));return v}function bs(i){for(var t=[],e=0;e<i.length;){var r=i[e++],n=i[e]|i[e+1]<<8|i[e+2]<<16;e+=3,t.push(WR(r,i.slice(e,e+n))),e+=n}if(e!==i.length)throw new Error("data is not a valid framed stream!");return Rc(t)}function R0(i){for(var t=[],e=0;e<i.length;){var r=Math.min(i.length-e,268435455),n=new Uint8Array(4);t.push(n);var o=Cr(r),a=o.length;t.push(o),r<=60?(a++,t.push(new Uint8Array([r-1<<2]))):r<=256?(a+=2,t.push(new Uint8Array([240,r-1&255]))):r<=65536?(a+=3,t.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(a+=4,t.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(a+=5,t.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),t.push(i.slice(e,e+r)),a+=r,n[0]=0,n[1]=a&255,n[2]=a>>8&255,n[3]=a>>16&255,e+=r}return Rc(t)}function vv(i,t){var e=new Uint8Array(32),r=Ch(e),n=12,o=0;switch(e[0]=5,i.t){case"n":e[1]=2,zR(e,n,i.v),o|=1,n+=16;break;case"b":e[1]=6,r.setFloat64(n,i.v?1:0,!0),o|=2,n+=8;break;case"s":if(t.indexOf(i.v)==-1)throw new Error("Value ".concat(i.v," missing from SST!"));e[1]=3,r.setUint32(n,t.indexOf(i.v),!0),o|=8,n+=4;break;default:throw"unsupported cell type "+i.t}return r.setUint32(8,o,!0),e.slice(0,n)}function _v(i,t){var e=new Uint8Array(32),r=Ch(e),n=12,o=0;switch(e[0]=3,i.t){case"n":e[2]=2,r.setFloat64(n,i.v,!0),o|=32,n+=8;break;case"b":e[2]=6,r.setFloat64(n,i.v?1:0,!0),o|=32,n+=8;break;case"s":if(t.indexOf(i.v)==-1)throw new Error("Value ".concat(i.v," missing from SST!"));e[2]=3,r.setUint32(n,t.indexOf(i.v),!0),o|=16,n+=4;break;default:throw"unsupported cell type "+i.t}return r.setUint32(4,o,!0),e.slice(0,n)}function Oc(i){var t=An(i);return Ap(t[1][0].data)}function HR(i,t,e){var r,n,o,a;if(!((r=i[6])!=null&&r[0])||!((n=i[7])!=null&&n[0]))throw"Mutation only works on post-BNC storages!";var d=((a=(o=i[8])==null?void 0:o[0])==null?void 0:a.data)&&W0(i[8][0].data)>0||!1;if(d)throw"Math only works with normal offsets";for(var u=0,m=Ch(i[7][0].data),v=0,y=[],w=Ch(i[4][0].data),x=0,T=[],E=0;E<t.length;++E){if(t[E]==null){m.setUint16(E*2,65535,!0),w.setUint16(E*2,65535);continue}m.setUint16(E*2,v,!0),w.setUint16(E*2,x,!0);var k,F;switch(typeof t[E]){case"string":k=vv({t:"s",v:t[E]},e),F=_v({t:"s",v:t[E]},e);break;case"number":k=vv({t:"n",v:t[E]},e),F=_v({t:"n",v:t[E]},e);break;case"boolean":k=vv({t:"b",v:t[E]},e),F=_v({t:"b",v:t[E]},e);break;default:throw new Error("Unsupported value "+t[E])}y.push(k),v+=k.length,T.push(F),x+=F.length,++u}for(i[2][0].data=Cr(u);E<i[7][0].data.length/2;++E)m.setUint16(E*2,65535,!0),w.setUint16(E*2,65535,!0);return i[6][0].data=Rc(y),i[3][0].data=Rc(T),u}function GR(i,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var e=i.Sheets[i.SheetNames[0]];i.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=Ea(e["!ref"]);r.s.r=r.s.c=0;var n=!1;r.e.c>9&&(n=!0,r.e.c=9),r.e.r>49&&(n=!0,r.e.r=49),n&&console.error("The Numbers writer is currently limited to ".concat(En(r)));var o=wh(e,{range:r,header:1}),a=["~Sh33tJ5~"];o.forEach(function(R){return R.forEach(function(z){typeof z=="string"&&a.push(z)})});var d={},u=[],m=Fr.read(t.numbers,{type:"base64"});m.FileIndex.map(function(R,z){return[R,m.FullPaths[z]]}).forEach(function(R){var z=R[0],le=R[1];if(z.type==2&&z.name.match(/\.iwa/)){var Pe=z.content,Ne=bs(Pe),Ae=_s(Ne);Ae.forEach(function(Be){u.push(Be.id),d[Be.id]={deps:[],location:le,type:W0(Be.messages[0].meta[1][0].data)}})}}),u.sort(function(R,z){return R-z});var v=u.filter(function(R){return R>1}).map(function(R){return[R,Cr(R)]});m.FileIndex.map(function(R,z){return[R,m.FullPaths[z]]}).forEach(function(R){var z=R[0],le=R[1];if(z.name.match(/\.iwa/)){var Pe=_s(bs(z.content));Pe.forEach(function(Ne){Ne.messages.forEach(function(Ae){v.forEach(function(Be){Ne.messages.some(function(at){return W0(at.meta[1][0].data)!=11006&&jR(at.data,Be[1])})&&d[Be[0]].deps.push(Ne.id)})})})}});function y(){for(var R=927262;R<2e6;++R)if(!d[R])return R;throw new Error("Too many messages")}for(var w=Fr.find(m,d[1].location),x=_s(bs(w.content)),T,E=0;E<x.length;++E){var k=x[E];k.id==1&&(T=k)}var F=Oc(An(T.messages[0].data)[1][0].data);for(w=Fr.find(m,d[F].location),x=_s(bs(w.content)),E=0;E<x.length;++E)k=x[E],k.id==F&&(T=k);for(F=Oc(An(T.messages[0].data)[2][0].data),w=Fr.find(m,d[F].location),x=_s(bs(w.content)),E=0;E<x.length;++E)k=x[E],k.id==F&&(T=k);for(F=Oc(An(T.messages[0].data)[2][0].data),w=Fr.find(m,d[F].location),x=_s(bs(w.content)),E=0;E<x.length;++E)k=x[E],k.id==F&&(T=k);var U=An(T.messages[0].data);{U[6][0].data=Cr(r.e.r+1),U[7][0].data=Cr(r.e.c+1);var Y=Oc(U[46][0].data),ve=Fr.find(m,d[Y].location),we=_s(bs(ve.content));{for(var Ue=0;Ue<we.length&&we[Ue].id!=Y;++Ue);if(we[Ue].id!=Y)throw"Bad ColumnRowUIDMapArchive";var ne=An(we[Ue].messages[0].data);ne[1]=[],ne[2]=[],ne[3]=[];for(var re=0;re<=r.e.c;++re){var ce=[];ce[1]=ce[2]=[{type:0,data:Cr(re+420690)}],ne[1].push({type:2,data:Qn(ce)}),ne[2].push({type:0,data:Cr(re)}),ne[3].push({type:0,data:Cr(re)})}ne[4]=[],ne[5]=[],ne[6]=[];for(var Ce=0;Ce<=r.e.r;++Ce)ce=[],ce[1]=ce[2]=[{type:0,data:Cr(Ce+726270)}],ne[4].push({type:2,data:Qn(ce)}),ne[5].push({type:0,data:Cr(Ce)}),ne[6].push({type:0,data:Cr(Ce)});we[Ue].messages[0].data=Qn(ne)}ve.content=R0(D0(we)),ve.size=ve.content.length,delete U[46];var W=An(U[4][0].data);{W[7][0].data=Cr(r.e.r+1);var G=An(W[1][0].data),xe=Oc(G[2][0].data);ve=Fr.find(m,d[xe].location),we=_s(bs(ve.content));{if(we[0].id!=xe)throw"Bad HeaderStorageBucket";var ye=An(we[0].messages[0].data);for(Ce=0;Ce<o.length;++Ce){var Le=An(ye[2][0].data);Le[1][0].data=Cr(Ce),Le[4][0].data=Cr(o[Ce].length),ye[2][Ce]={type:ye[2][0].type,data:Qn(Le)}}we[0].messages[0].data=Qn(ye)}ve.content=R0(D0(we)),ve.size=ve.content.length;var Ie=Oc(W[2][0].data);ve=Fr.find(m,d[Ie].location),we=_s(bs(ve.content));{if(we[0].id!=Ie)throw"Bad HeaderStorageBucket";for(ye=An(we[0].messages[0].data),re=0;re<=r.e.c;++re)Le=An(ye[2][0].data),Le[1][0].data=Cr(re),Le[4][0].data=Cr(r.e.r+1),ye[2][re]={type:ye[2][0].type,data:Qn(Le)};we[0].messages[0].data=Qn(ye)}ve.content=R0(D0(we)),ve.size=ve.content.length;var Ye=Oc(W[4][0].data);(function(){for(var R=Fr.find(m,d[Ye].location),z=_s(bs(R.content)),le,Pe=0;Pe<z.length;++Pe){var Ne=z[Pe];Ne.id==Ye&&(le=Ne)}var Ae=An(le.messages[0].data);{Ae[3]=[];var Be=[];a.forEach(function(At,Lt){Be[1]=[{type:0,data:Cr(Lt)}],Be[2]=[{type:0,data:Cr(1)}],Be[3]=[{type:2,data:qR(At)}],Ae[3].push({type:2,data:Qn(Be)})})}le.messages[0].data=Qn(Ae);var at=D0(z),mt=R0(at);R.content=mt,R.size=R.content.length})();var ke=An(W[3][0].data);{var qe=ke[1][0];delete ke[2];var Xe=An(qe.data);{var St=Oc(Xe[2][0].data);(function(){for(var R=Fr.find(m,d[St].location),z=_s(bs(R.content)),le,Pe=0;Pe<z.length;++Pe){var Ne=z[Pe];Ne.id==St&&(le=Ne)}var Ae=An(le.messages[0].data);{delete Ae[6],delete ke[7];var Be=new Uint8Array(Ae[5][0].data);Ae[5]=[];for(var at=0,mt=0;mt<=r.e.r;++mt){var At=An(Be);at+=HR(At,o[mt],a),At[1][0].data=Cr(mt),Ae[5].push({data:Qn(At),type:2})}Ae[1]=[{type:0,data:Cr(r.e.c+1)}],Ae[2]=[{type:0,data:Cr(r.e.r+1)}],Ae[3]=[{type:0,data:Cr(at)}],Ae[4]=[{type:0,data:Cr(r.e.r+1)}]}le.messages[0].data=Qn(Ae);var Lt=D0(z),et=R0(Lt);R.content=et,R.size=R.content.length})()}qe.data=Qn(Xe)}W[3][0].data=Qn(ke)}U[4][0].data=Qn(W)}T.messages[0].data=Qn(U);var A=D0(x),j=R0(A);return w.content=j,w.size=w.content.length,m}function $R(i){return function(e){for(var r=0;r!=i.length;++r){var n=i[r];e[n[0]]===void 0&&(e[n[0]]=n[1]),n[2]==="n"&&(e[n[0]]=Number(e[n[0]]))}}}function Gv(i){$R([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(i)}function XR(i,t){return t.bookType=="ods"?rw(i,t):t.bookType=="numbers"?GR(i,t):t.bookType=="xlsb"?ZR(i,t):YR(i,t)}function ZR(i,t){U0=1024,i&&!i.SSF&&(i.SSF=oa(un)),i&&i.SSF&&(Ph(),Eh(i.SSF),t.revssf=Mh(i.SSF),t.revssf[i.SSF[65535]]=0,t.ssf=i.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Sp?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var e=t.bookType=="xlsb"?"bin":"xml",r=UC.indexOf(t.bookType)>-1,n=mC();Gv(t=t||{});var o=Pv(),a="",d=0;if(t.cellXfs=[],Bc(t.cellXfs,{},{revssf:{General:0}}),i.Props||(i.Props={}),a="docProps/core.xml",Wi(o,a,_C(i.Props,t)),n.coreprops.push(a),wr(t.rels,2,a,cr.CORE_PROPS),a="docProps/app.xml",!(i.Props&&i.Props.SheetNames))if(!i.Workbook||!i.Workbook.Sheets)i.Props.SheetNames=i.SheetNames;else{for(var u=[],m=0;m<i.SheetNames.length;++m)(i.Workbook.Sheets[m]||{}).Hidden!=2&&u.push(i.SheetNames[m]);i.Props.SheetNames=u}for(i.Props.Worksheets=i.Props.SheetNames.length,Wi(o,a,xC(i.Props,t)),n.extprops.push(a),wr(t.rels,3,a,cr.EXT_PROPS),i.Custprops!==i.Props&&no(i.Custprops||{}).length>0&&(a="docProps/custom.xml",Wi(o,a,yC(i.Custprops,t)),n.custprops.push(a),wr(t.rels,4,a,cr.CUST_PROPS)),d=1;d<=i.SheetNames.length;++d){var v={"!id":{}},y=i.Sheets[i.SheetNames[d-1]],w=(y||{})["!type"]||"sheet";switch(w){case"chart":default:a="xl/worksheets/sheet"+d+"."+e,Wi(o,a,JD(d-1,a,t,i,v)),n.sheets.push(a),wr(t.wbrels,-1,"worksheets/sheet"+d+"."+e,cr.WS[0])}if(y){var x=y["!comments"],T=!1,E="";x&&x.length>0&&(E="xl/comments"+d+"."+e,Wi(o,E,tR(x,E,t)),n.comments.push(E),wr(v,-1,"../comments"+d+"."+e,cr.CMNT),T=!0),y["!legacy"]&&T&&Wi(o,"xl/drawings/vmlDrawing"+d+".vml",RC(d,y["!comments"])),delete y["!comments"],delete y["!legacy"]}v["!id"].rId1&&Wi(o,gC(a),j0(v))}return t.Strings!=null&&t.Strings.length>0&&(a="xl/sharedStrings."+e,Wi(o,a,eR(t.Strings,a,t)),n.strs.push(a),wr(t.wbrels,-1,"sharedStrings."+e,cr.SST)),a="xl/workbook."+e,Wi(o,a,KD(i,a,t)),n.workbooks.push(a),wr(t.rels,1,a,cr.WB),a="xl/theme/theme1.xml",Wi(o,a,LC(i.Themes,t)),n.themes.push(a),wr(t.wbrels,-1,"theme/theme1.xml",cr.THEME),a="xl/styles."+e,Wi(o,a,QD(i,a,t)),n.styles.push(a),wr(t.wbrels,-1,"styles."+e,cr.STY),i.vbaraw&&r&&(a="xl/vbaProject.bin",Wi(o,a,i.vbaraw),n.vba.push(a),wr(t.wbrels,-1,"vbaProject.bin",cr.VBA)),a="xl/metadata."+e,Wi(o,a,iR(a)),n.metadata.push(a),wr(t.wbrels,-1,"metadata."+e,cr.XLMETA),Wi(o,"[Content_Types].xml",hC(n,t)),Wi(o,"_rels/.rels",j0(t.rels)),Wi(o,"xl/_rels/workbook."+e+".rels",j0(t.wbrels)),delete t.revssf,delete t.ssf,o}function YR(i,t){U0=1024,i&&!i.SSF&&(i.SSF=oa(un)),i&&i.SSF&&(Ph(),Eh(i.SSF),t.revssf=Mh(i.SSF),t.revssf[i.SSF[65535]]=0,t.ssf=i.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Sp?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var e="xml",r=UC.indexOf(t.bookType)>-1,n=mC();Gv(t=t||{});var o=Pv(),a="",d=0;if(t.cellXfs=[],Bc(t.cellXfs,{},{revssf:{General:0}}),i.Props||(i.Props={}),a="docProps/core.xml",Wi(o,a,_C(i.Props,t)),n.coreprops.push(a),wr(t.rels,2,a,cr.CORE_PROPS),a="docProps/app.xml",!(i.Props&&i.Props.SheetNames))if(!i.Workbook||!i.Workbook.Sheets)i.Props.SheetNames=i.SheetNames;else{for(var u=[],m=0;m<i.SheetNames.length;++m)(i.Workbook.Sheets[m]||{}).Hidden!=2&&u.push(i.SheetNames[m]);i.Props.SheetNames=u}i.Props.Worksheets=i.Props.SheetNames.length,Wi(o,a,xC(i.Props,t)),n.extprops.push(a),wr(t.rels,3,a,cr.EXT_PROPS),i.Custprops!==i.Props&&no(i.Custprops||{}).length>0&&(a="docProps/custom.xml",Wi(o,a,yC(i.Custprops,t)),n.custprops.push(a),wr(t.rels,4,a,cr.CUST_PROPS));var v=["SheetJ5"];for(t.tcid=0,d=1;d<=i.SheetNames.length;++d){var y={"!id":{}},w=i.Sheets[i.SheetNames[d-1]],x=(w||{})["!type"]||"sheet";switch(x){case"chart":default:a="xl/worksheets/sheet"+d+"."+e,Wi(o,a,XC(d-1,t,i,y)),n.sheets.push(a),wr(t.wbrels,-1,"worksheets/sheet"+d+"."+e,cr.WS[0])}if(w){var T=w["!comments"],E=!1,k="";if(T&&T.length>0){var F=!1;T.forEach(function(U){U[1].forEach(function(Y){Y.T==!0&&(F=!0)})}),F&&(k="xl/threadedComments/threadedComment"+d+"."+e,Wi(o,k,M7(T,v,t)),n.threadedcomments.push(k),wr(y,-1,"../threadedComments/threadedComment"+d+"."+e,cr.TCMNT)),k="xl/comments"+d+"."+e,Wi(o,k,BC(T,t)),n.comments.push(k),wr(y,-1,"../comments"+d+"."+e,cr.CMNT),E=!0}w["!legacy"]&&E&&Wi(o,"xl/drawings/vmlDrawing"+d+".vml",RC(d,w["!comments"])),delete w["!comments"],delete w["!legacy"]}y["!id"].rId1&&Wi(o,gC(a),j0(y))}return t.Strings!=null&&t.Strings.length>0&&(a="xl/sharedStrings."+e,Wi(o,a,kC(t.Strings,t)),n.strs.push(a),wr(t.wbrels,-1,"sharedStrings."+e,cr.SST)),a="xl/workbook."+e,Wi(o,a,KC(i,t)),n.workbooks.push(a),wr(t.rels,1,a,cr.WB),a="xl/theme/theme1.xml",Wi(o,a,LC(i.Themes,t)),n.themes.push(a),wr(t.wbrels,-1,"theme/theme1.xml",cr.THEME),a="xl/styles."+e,Wi(o,a,FC(i,t)),n.styles.push(a),wr(t.wbrels,-1,"styles."+e,cr.STY),i.vbaraw&&r&&(a="xl/vbaProject.bin",Wi(o,a,i.vbaraw),n.vba.push(a),wr(t.wbrels,-1,"vbaProject.bin",cr.VBA)),a="xl/metadata."+e,Wi(o,a,DC()),n.metadata.push(a),wr(t.wbrels,-1,"metadata."+e,cr.XLMETA),v.length>1&&(a="xl/persons/person.xml",Wi(o,a,T7(v,t)),n.people.push(a),wr(t.wbrels,-1,"persons/person.xml",cr.PEOPLE)),Wi(o,"[Content_Types].xml",hC(n,t)),Wi(o,"_rels/.rels",j0(t.rels)),Wi(o,"xl/_rels/workbook."+e+".rels",j0(t.wbrels)),delete t.revssf,delete t.ssf,o}function KR(i,t){var e="";switch((t||{}).type||"base64"){case"buffer":return[i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7]];case"base64":e=Il(i.slice(0,12));break;case"binary":e=i;break;case"array":return[i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3),e.charCodeAt(4),e.charCodeAt(5),e.charCodeAt(6),e.charCodeAt(7)]}function nw(i,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Fp(t.file,Fr.write(i,{type:ur?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Fr.write(i,t)}function JR(i,t){var e=oa(t||{}),r=XR(i,e);return QR(r,e)}function QR(i,t){var e={},r=ur?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(e.compression="DEFLATE"),t.password)e.type=r;else switch(t.type){case"base64":e.type="base64";break;case"binary":e.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":e.type=r;break;default:throw new Error("Unrecognized type "+t.type)}var n=i.FullPaths?Fr.write(i,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[e.type]||e.type,compression:!!t.compression}):i.generate(e);if(typeof Deno<"u"&&typeof n=="string"){if(t.type=="binary"||t.type=="base64")return n;n=new Uint8Array(Sh(n))}return t.password&&typeof encrypt_agile<"u"?nw(encrypt_agile(n,t.password),t):t.type==="file"?Fp(t.file,n):t.type=="string"?xp(n):n}function e9(i,t){var e=t||{},r=gR(i,e);return nw(r,e)}function Js(i,t,e){e||(e="");var r=e+i;switch(t.type){case"base64":return Mp(Ml(r));case"binary":return Ml(r);case"string":return i;case"file":return Fp(t.file,r,"utf8");case"buffer":return ur?Fl(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):Js(r,{type:"binary"}).split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function t9(i,t){switch(t.type){case"base64":return Mp(i);case"binary":return i;case"string":return i;case"file":return Fp(t.file,i,"binary");case"buffer":return ur?Fl(i,"binary"):i.split("").map(function(e){return e.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function dh(i,t){switch(t.type){case"string":case"base64":case"binary":for(var e="",r=0;r<i.length;++r)e+=String.fromCharCode(i[r]);return t.type=="base64"?Mp(e):t.type=="string"?xp(e):e;case"file":return Fp(t.file,i);case"buffer":return i;default:throw new Error("Unrecognized type "+t.type)}}function Uc(i,t){MI(),VD(i);var e=oa(t||{});if(e.cellStyles&&(e.cellNF=!0,e.sheetStubs=!0),e.type=="array"){e.type="binary";var r=Uc(i,e);return e.type="array",Sh(r)}var n=0;if(e.sheet&&(typeof e.sheet=="number"?n=e.sheet:n=i.SheetNames.indexOf(e.sheet),!i.SheetNames[n]))throw new Error("Sheet not found: "+e.sheet+" : "+typeof e.sheet);switch(e.bookType||"xlsb"){case"xml":case"xlml":return Js(mR(i,e),e);case"slk":case"sylk":return Js(RF.from_sheet(i.Sheets[i.SheetNames[n]],e),e);case"htm":case"html":return Js(ew(i.Sheets[i.SheetNames[n]],e),e);case"txt":return t9(ow(i.Sheets[i.SheetNames[n]],e),e);case"csv":return Js($v(i.Sheets[i.SheetNames[n]],e),e,"\uFEFF");case"dif":return Js(BF.from_sheet(i.Sheets[i.SheetNames[n]],e),e);case"dbf":return dh(DF.from_sheet(i.Sheets[i.SheetNames[n]],e),e);case"prn":return Js(UF.from_sheet(i.Sheets[i.SheetNames[n]],e),e);case"rtf":return Js(GF.from_sheet(i.Sheets[i.SheetNames[n]],e),e);case"eth":return Js(TC.from_sheet(i.Sheets[i.SheetNames[n]],e),e);case"fods":return Js(rw(i,e),e);case"wk1":return dh(Py.sheet_to_wk1(i.Sheets[i.SheetNames[n]],e),e);case"wk3":return dh(Py.book_to_wk3(i,e),e);case"biff2":e.biff||(e.biff=2);case"biff3":e.biff||(e.biff=3);case"biff4":return e.biff||(e.biff=4),dh(QC(i,e),e);case"biff5":e.biff||(e.biff=5);case"biff8":case"xla":case"xls":return e.biff||(e.biff=8),e9(i,e);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return JR(i,e);default:throw new Error("Unrecognized bookType |"+e.bookType+"|")}}function i9(i){if(!i.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},e=i.file.slice(i.file.lastIndexOf(".")).toLowerCase();e.match(/^\.[a-z]+$/)&&(i.bookType=e.slice(1)),i.bookType=t[i.bookType]||i.bookType}}function J0(i,t,e){var r=e||{};return r.type="file",r.file=t,i9(r),Uc(i,r)}function r9(i,t,e,r,n,o,a,d){var u=ro(e),m=d.defval,v=d.raw||!Object.prototype.hasOwnProperty.call(d,"raw"),y=!0,w=n===1?[]:{};if(n!==1)if(Object.defineProperty)try{Object.defineProperty(w,"__rowNum__",{value:e,enumerable:!1})}catch{w.__rowNum__=e}else w.__rowNum__=e;if(!a||i[e])for(var x=t.s.c;x<=t.e.c;++x){var T=a?i[e][x]:i[r[x]+u];if(T===void 0||T.t===void 0){if(m===void 0)continue;o[x]!=null&&(w[o[x]]=m);continue}var E=T.v;switch(T.t){case"z":if(E==null)break;continue;case"e":E=E==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+T.t)}if(o[x]!=null){if(E==null)if(T.t=="e"&&E===null)w[o[x]]=null;else if(m!==void 0)w[o[x]]=m;else if(v&&E===null)w[o[x]]=null;else continue;else w[o[x]]=v&&(T.t!=="n"||T.t==="n"&&d.rawNumbers!==!1)?E:Ol(T,E,d);E!=null&&(y=!1)}}return{row:w,isempty:y}}function wh(i,t){if(i==null||i["!ref"]==null)return[];var e={t:"n",v:0},r=0,n=1,o=[],a=0,d="",u={s:{r:0,c:0},e:{r:0,c:0}},m=t||{},v=m.range!=null?m.range:i["!ref"];switch(m.header===1?r=1:m.header==="A"?r=2:Array.isArray(m.header)?r=3:m.header==null&&(r=0),typeof v){case"string":u=Wr(v);break;case"number":u=Wr(i["!ref"]),u.s.r=v;break;default:u=v}r>0&&(n=0);var y=ro(u.s.r),w=[],x=[],T=0,E=0,k=Array.isArray(i),F=u.s.r,U=0,Y={};k&&!i[F]&&(i[F]=[]);var ve=m.skipHidden&&i["!cols"]||[],we=m.skipHidden&&i["!rows"]||[];for(U=u.s.c;U<=u.e.c;++U)if(!(ve[U]||{}).hidden)switch(w[U]=vo(U),e=k?i[F][U]:i[w[U]+y],r){case 1:o[U]=U-u.s.c;break;case 2:o[U]=w[U];break;case 3:o[U]=m.header[U-u.s.c];break;default:if(e==null&&(e={w:"__EMPTY",t:"s"}),d=a=Ol(e,null,m),E=Y[a]||0,!E)Y[a]=1;else{do d=a+"_"+E++;while(Y[d]);Y[a]=E,Y[d]=1}o[U]=d}for(F=u.s.r+n;F<=u.e.r;++F)if(!(we[F]||{}).hidden){var Ue=r9(i,u,F,w,r,o,k,m);(Ue.isempty===!1||(r===1?m.blankrows!==!1:m.blankrows))&&(x[T++]=Ue.row)}return x.length=T,x}var Ny=/"/g;function n9(i,t,e,r,n,o,a,d){for(var u=!0,m=[],v="",y=ro(e),w=t.s.c;w<=t.e.c;++w)if(r[w]){var x=d.dense?(i[e]||[])[w]:i[r[w]+y];if(x==null)v="";else if(x.v!=null){u=!1,v=""+(d.rawNumbers&&x.t=="n"?x.v:Ol(x,null,d));for(var T=0,E=0;T!==v.length;++T)if((E=v.charCodeAt(T))===n||E===o||E===34||d.forceQuotes){v='"'+v.replace(Ny,'""')+'"';break}v=="ID"&&(v='"ID"')}else x.f!=null&&!x.F?(u=!1,v="="+x.f,v.indexOf(",")>=0&&(v='"'+v.replace(Ny,'""')+'"')):v="";m.push(v)}return d.blankrows===!1&&u?null:m.join(a)}function $v(i,t){var e=[],r=t??{};if(i==null||i["!ref"]==null)return"";var n=Wr(i["!ref"]),o=r.FS!==void 0?r.FS:",",a=o.charCodeAt(0),d=r.RS!==void 0?r.RS:`
`,u=d.charCodeAt(0),m=new RegExp((o=="|"?"\\|":o)+"+$"),v="",y=[];r.dense=Array.isArray(i);for(var w=r.skipHidden&&i["!cols"]||[],x=r.skipHidden&&i["!rows"]||[],T=n.s.c;T<=n.e.c;++T)(w[T]||{}).hidden||(y[T]=vo(T));for(var E=0,k=n.s.r;k<=n.e.r;++k)(x[k]||{}).hidden||(v=n9(i,n,k,y,a,u,o,r),v!=null&&(r.strip&&(v=v.replace(m,"")),(v||r.blankrows!==!1)&&e.push((E++?d:"")+v)));return delete r.dense,e.join("")}function ow(i,t){t||(t={}),t.FS="	",t.RS=`
`;var e=$v(i,t);if(typeof Dr>"u"||t.type=="string")return e;var r=Dr.utils.encode(1200,e,"str");return"\xFF\xFE"+r}function o9(i){var t="",e,r="";if(i==null||i["!ref"]==null)return[];var n=Wr(i["!ref"]),o="",a=[],d,u=[],m=Array.isArray(i);for(d=n.s.c;d<=n.e.c;++d)a[d]=vo(d);for(var v=n.s.r;v<=n.e.r;++v)for(o=ro(v),d=n.s.c;d<=n.e.c;++d)if(t=a[d]+o,e=m?(i[v]||[])[d]:i[t],r="",e!==void 0){if(e.F!=null){if(t=e.F,!e.f)continue;r=e.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(e.f!=null)r=e.f;else{if(e.t=="z")continue;if(e.t=="n"&&e.v!=null)r=""+e.v;else if(e.t=="b")r=e.v?"TRUE":"FALSE";else if(e.w!==void 0)r="'"+e.w;else{if(e.v===void 0)continue;e.t=="s"?r="'"+e.v:r=""+e.v}}u[u.length]=t+"="+r}return u}function aw(i,t,e){var r=e||{},n=+!r.skipHeader,o=i||{},a=0,d=0;if(o&&r.origin!=null)if(typeof r.origin=="number")a=r.origin;else{var u=typeof r.origin=="string"?zn(r.origin):r.origin;a=u.r,d=u.c}var m,v={s:{c:0,r:0},e:{c:d,r:a+t.length-1+n}};if(o["!ref"]){var y=Wr(o["!ref"]);v.e.c=Math.max(v.e.c,y.e.c),v.e.r=Math.max(v.e.r,y.e.r),a==-1&&(a=y.e.r+1,v.e.r=a+t.length-1+n)}else a==-1&&(a=0,v.e.r=t.length-1+n);var w=r.header||[],x=0;t.forEach(function(E,k){no(E).forEach(function(F){(x=w.indexOf(F))==-1&&(w[x=w.length]=F);var U=E[F],Y="z",ve="",we=Er({c:d+x,r:a+k+n});m=Ip(o,we),U&&typeof U=="object"&&!(U instanceof Date)?o[we]=U:(typeof U=="number"?Y="n":typeof U=="boolean"?Y="b":typeof U=="string"?Y="s":U instanceof Date?(Y="d",r.cellDates||(Y="n",U=na(U)),ve=r.dateNF||un[14]):U===null&&r.nullError&&(Y="e",U=0),m?(m.t=Y,m.v=U,delete m.w,delete m.R,ve&&(m.z=ve)):o[we]=m={t:Y,v:U},ve&&(m.z=ve))})}),v.e.c=Math.max(v.e.c,d+w.length-1);var T=ro(a);if(n)for(x=0;x<w.length;++x)o[vo(x+d)+T]={t:"s",v:w[x]};return o["!ref"]=En(v),o}function a9(i,t){return aw(null,i,t)}function Ip(i,t,e){if(typeof t=="string"){if(Array.isArray(i)){var r=zn(t);return i[r.r]||(i[r.r]=[]),i[r.r][r.c]||(i[r.r][r.c]={t:"z"})}return i[t]||(i[t]={t:"z"})}return typeof t!="number"?Ip(i,Er(t)):Ip(i,Er({r:t,c:e||0}))}function s9(i,t){if(typeof t=="number"){if(t>=0&&i.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var e=i.SheetNames.indexOf(t);if(e>-1)return e;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function l9(){return{SheetNames:[],Sheets:{}}}function c9(i,t,e,r){var n=1;if(!e)for(;n<=65535&&i.SheetNames.indexOf(e="Sheet"+n)!=-1;++n,e=void 0);if(!e||i.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&i.SheetNames.indexOf(e)>=0){var o=e.match(/(^.*?)(\d+)$/);n=o&&+o[2]||0;var a=o&&o[1]||e;for(++n;n<=65535&&i.SheetNames.indexOf(e=a+n)!=-1;++n);}if(YC(e),i.SheetNames.indexOf(e)>=0)throw new Error("Worksheet with name |"+e+"| already exists!");return i.SheetNames.push(e),i.Sheets[e]=t,e}function d9(i,t,e){i.Workbook||(i.Workbook={}),i.Workbook.Sheets||(i.Workbook.Sheets=[]);var r=s9(i,t);switch(i.Workbook.Sheets[r]||(i.Workbook.Sheets[r]={}),e){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+e)}i.Workbook.Sheets[r].Hidden=e}function u9(i,t){return i.z=t,i}function sw(i,t,e){return t?(i.l={Target:t},e&&(i.l.Tooltip=e)):delete i.l,i}function p9(i,t,e){return sw(i,"#"+t,e)}function f9(i,t,e){i.c||(i.c=[]),i.c.push({t,a:e||"SheetJS"})}function m9(i,t,e,r){for(var n=typeof t!="string"?t:Wr(t),o=typeof t=="string"?t:En(t),a=n.s.r;a<=n.e.r;++a)for(var d=n.s.c;d<=n.e.c;++d){var u=Ip(i,a,d);u.t="n",u.F=o,delete u.v,a==n.s.r&&d==n.s.c&&(u.f=e,r&&(u.D=!0))}return i}var Hn={encode_col:vo,encode_row:ro,encode_cell:Er,encode_range:En,decode_col:Dv,decode_row:Lv,split_cell:kO,decode_cell:zn,decode_range:Ea,format_cell:Ol,sheet_add_aoa:lC,sheet_add_json:aw,sheet_add_dom:tw,aoa_to_sheet:Z0,json_to_sheet:a9,table_to_sheet:iw,table_to_book:BR,sheet_to_csv:$v,sheet_to_txt:ow,sheet_to_json:wh,sheet_to_html:ew,sheet_to_formulae:o9,sheet_to_row_object_array:wh,sheet_get_cell:Ip,book_new:l9,book_append_sheet:c9,book_set_sheet_visibility:d9,cell_set_number_format:u9,cell_set_hyperlink:sw,cell_set_internal_link:p9,cell_add_comment:f9,sheet_set_array_formula:m9,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};var YH=Ep.version;var bo=Uint8Array,Pa=Uint16Array,t_=Int32Array,Fh=new bo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Nh=new bo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Kv=new bo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),uw=function(i,t){for(var e=new Pa(31),r=0;r<31;++r)e[r]=t+=1<<i[r-1];for(var n=new t_(e[30]),r=1;r<30;++r)for(var o=e[r];o<e[r+1];++o)n[o]=o-e[r]<<5|r;return{b:e,r:n}},pw=uw(Fh,2),fw=pw.b,Jv=pw.r;fw[28]=258,Jv[258]=28;var mw=uw(Nh,0),h9=mw.b,lw=mw.r,Qv=new Pa(32768);for(pr=0;pr<32768;++pr)Nl=(pr&43690)>>1|(pr&21845)<<1,Nl=(Nl&52428)>>2|(Nl&13107)<<2,Nl=(Nl&61680)>>4|(Nl&3855)<<4,Qv[pr]=((Nl&65280)>>8|(Nl&255)<<8)>>1;var Nl,pr,tl=function(i,t,e){for(var r=i.length,n=0,o=new Pa(t);n<r;++n)i[n]&&++o[i[n]-1];var a=new Pa(t);for(n=1;n<t;++n)a[n]=a[n-1]+o[n-1]<<1;var d;if(e){d=new Pa(1<<t);var u=15-t;for(n=0;n<r;++n)if(i[n])for(var m=n<<4|i[n],v=t-i[n],y=a[i[n]-1]++<<v,w=y|(1<<v)-1;y<=w;++y)d[Qv[y]>>u]=m}else for(d=new Pa(r),n=0;n<r;++n)i[n]&&(d[n]=Qv[a[i[n]-1]++]>>15-i[n]);return d},Vc=new bo(288);for(pr=0;pr<144;++pr)Vc[pr]=8;var pr;for(pr=144;pr<256;++pr)Vc[pr]=9;var pr;for(pr=256;pr<280;++pr)Vc[pr]=7;var pr;for(pr=280;pr<288;++pr)Vc[pr]=8;var pr,Up=new bo(32);for(pr=0;pr<32;++pr)Up[pr]=5;var pr,g9=tl(Vc,9,0),v9=tl(Vc,9,1),_9=tl(Up,5,0),b9=tl(Up,5,1),Xv=function(i){for(var t=i[0],e=1;e<i.length;++e)i[e]>t&&(t=i[e]);return t},ws=function(i,t,e){var r=t/8|0;return(i[r]|i[r+1]<<8)>>(t&7)&e},Zv=function(i,t){var e=t/8|0;return(i[e]|i[e+1]<<8|i[e+2]<<16)>>(t&7)},i_=function(i){return(i+7)/8|0},hw=function(i,t,e){return(t==null||t<0)&&(t=0),(e==null||e>i.length)&&(e=i.length),new bo(i.subarray(t,e))};var x9=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ss=function(i,t,e){var r=new Error(t||x9[i]);if(r.code=i,Error.captureStackTrace&&Error.captureStackTrace(r,Ss),!e)throw r;return r},y9=function(i,t,e,r){var n=i.length,o=r?r.length:0;if(!n||t.f&&!t.l)return e||new bo(0);var a=!e,d=a||t.i!=2,u=t.i;a&&(e=new bo(n*3));var m=function(at){var mt=e.length;if(at>mt){var At=new bo(Math.max(mt*2,at));At.set(e),e=At}},v=t.f||0,y=t.p||0,w=t.b||0,x=t.l,T=t.d,E=t.m,k=t.n,F=n*8;do{if(!x){v=ws(i,y,1);var U=ws(i,y+1,3);if(y+=3,U)if(U==1)x=v9,T=b9,E=9,k=5;else if(U==2){var Ue=ws(i,y,31)+257,ne=ws(i,y+10,15)+4,re=Ue+ws(i,y+5,31)+1;y+=14;for(var ce=new bo(re),Ce=new bo(19),W=0;W<ne;++W)Ce[Kv[W]]=ws(i,y+W*3,7);y+=ne*3;for(var G=Xv(Ce),xe=(1<<G)-1,ye=tl(Ce,G,1),W=0;W<re;){var Le=ye[ws(i,y,xe)];y+=Le&15;var Y=Le>>4;if(Y<16)ce[W++]=Y;else{var Ie=0,Ye=0;for(Y==16?(Ye=3+ws(i,y,3),y+=2,Ie=ce[W-1]):Y==17?(Ye=3+ws(i,y,7),y+=3):Y==18&&(Ye=11+ws(i,y,127),y+=7);Ye--;)ce[W++]=Ie}}var ke=ce.subarray(0,Ue),qe=ce.subarray(Ue);E=Xv(ke),k=Xv(qe),x=tl(ke,E,1),T=tl(qe,k,1)}else Ss(1);else{var Y=i_(y)+4,ve=i[Y-4]|i[Y-3]<<8,we=Y+ve;if(we>n){u&&Ss(0);break}d&&m(w+ve),e.set(i.subarray(Y,we),w),t.b=w+=ve,t.p=y=we*8,t.f=v;continue}if(y>F){u&&Ss(0);break}}d&&m(w+131072);for(var Xe=(1<<E)-1,St=(1<<k)-1,A=y;;A=y){var Ie=x[Zv(i,y)&Xe],j=Ie>>4;if(y+=Ie&15,y>F){u&&Ss(0);break}if(Ie||Ss(2),j<256)e[w++]=j;else if(j==256){A=y,x=null;break}else{var R=j-254;if(j>264){var W=j-257,z=Fh[W];R=ws(i,y,(1<<z)-1)+fw[W],y+=z}var le=T[Zv(i,y)&St],Pe=le>>4;le||Ss(3),y+=le&15;var qe=h9[Pe];if(Pe>3){var z=Nh[Pe];qe+=Zv(i,y)&(1<<z)-1,y+=z}if(y>F){u&&Ss(0);break}d&&m(w+131072);var Ne=w+R;if(w<qe){var Ae=o-qe,Be=Math.min(qe,Ne);for(Ae+w<0&&Ss(3);w<Be;++w)e[w]=r[Ae+w]}for(;w<Ne;++w)e[w]=e[w-qe]}}t.l=x,t.p=A,t.b=w,t.f=v,x&&(v=1,t.m=E,t.d=T,t.n=k)}while(!v);return w!=e.length&&a?hw(e,0,w):e.subarray(0,w)},Ll=function(i,t,e){e<<=t&7;var r=t/8|0;i[r]|=e,i[r+1]|=e>>8},Rp=function(i,t,e){e<<=t&7;var r=t/8|0;i[r]|=e,i[r+1]|=e>>8,i[r+2]|=e>>16},Yv=function(i,t){for(var e=[],r=0;r<i.length;++r)i[r]&&e.push({s:r,f:i[r]});var n=e.length,o=e.slice();if(!n)return{t:vw,l:0};if(n==1){var a=new bo(e[0].s+1);return a[e[0].s]=1,{t:a,l:1}}e.sort(function(we,Ue){return we.f-Ue.f}),e.push({s:-1,f:25001});var d=e[0],u=e[1],m=0,v=1,y=2;for(e[0]={s:-1,f:d.f+u.f,l:d,r:u};v!=n-1;)d=e[e[m].f<e[y].f?m++:y++],u=e[m!=v&&e[m].f<e[y].f?m++:y++],e[v++]={s:-1,f:d.f+u.f,l:d,r:u};for(var w=o[0].s,r=1;r<n;++r)o[r].s>w&&(w=o[r].s);var x=new Pa(w+1),T=e_(e[v-1],x,0);if(T>t){var r=0,E=0,k=T-t,F=1<<k;for(o.sort(function(Ue,ne){return x[ne.s]-x[Ue.s]||Ue.f-ne.f});r<n;++r){var U=o[r].s;if(x[U]>t)E+=F-(1<<T-x[U]),x[U]=t;else break}for(E>>=k;E>0;){var Y=o[r].s;x[Y]<t?E-=1<<t-x[Y]++-1:++r}for(;r>=0&&E;--r){var ve=o[r].s;x[ve]==t&&(--x[ve],++E)}T=t}return{t:new bo(x),l:T}},e_=function(i,t,e){return i.s==-1?Math.max(e_(i.l,t,e+1),e_(i.r,t,e+1)):t[i.s]=e},cw=function(i){for(var t=i.length;t&&!i[--t];);for(var e=new Pa(++t),r=0,n=i[0],o=1,a=function(u){e[r++]=u},d=1;d<=t;++d)if(i[d]==n&&d!=t)++o;else{if(!n&&o>2){for(;o>138;o-=138)a(32754);o>2&&(a(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(a(n),--o;o>6;o-=6)a(8304);o>2&&(a(o-3<<5|8208),o=0)}for(;o--;)a(n);o=1,n=i[d]}return{c:e.subarray(0,r),n:t}},Bp=function(i,t){for(var e=0,r=0;r<t.length;++r)e+=i[r]*t[r];return e},gw=function(i,t,e){var r=e.length,n=i_(t+2);i[n]=r&255,i[n+1]=r>>8,i[n+2]=i[n]^255,i[n+3]=i[n+1]^255;for(var o=0;o<r;++o)i[n+o+4]=e[o];return(n+4+r)*8},dw=function(i,t,e,r,n,o,a,d,u,m,v){Ll(t,v++,e),++n[256];for(var y=Yv(n,15),w=y.t,x=y.l,T=Yv(o,15),E=T.t,k=T.l,F=cw(w),U=F.c,Y=F.n,ve=cw(E),we=ve.c,Ue=ve.n,ne=new Pa(19),re=0;re<U.length;++re)++ne[U[re]&31];for(var re=0;re<we.length;++re)++ne[we[re]&31];for(var ce=Yv(ne,7),Ce=ce.t,W=ce.l,G=19;G>4&&!Ce[Kv[G-1]];--G);var xe=m+5<<3,ye=Bp(n,Vc)+Bp(o,Up)+a,Le=Bp(n,w)+Bp(o,E)+a+14+3*G+Bp(ne,Ce)+2*ne[16]+3*ne[17]+7*ne[18];if(u>=0&&xe<=ye&&xe<=Le)return gw(t,v,i.subarray(u,u+m));var Ie,Ye,ke,qe;if(Ll(t,v,1+(Le<ye)),v+=2,Le<ye){Ie=tl(w,x,0),Ye=w,ke=tl(E,k,0),qe=E;var Xe=tl(Ce,W,0);Ll(t,v,Y-257),Ll(t,v+5,Ue-1),Ll(t,v+10,G-4),v+=14;for(var re=0;re<G;++re)Ll(t,v+3*re,Ce[Kv[re]]);v+=3*G;for(var St=[U,we],A=0;A<2;++A)for(var j=St[A],re=0;re<j.length;++re){var R=j[re]&31;Ll(t,v,Xe[R]),v+=Ce[R],R>15&&(Ll(t,v,j[re]>>5&127),v+=j[re]>>12)}}else Ie=g9,Ye=Vc,ke=_9,qe=Up;for(var re=0;re<d;++re){var z=r[re];if(z>255){var R=z>>18&31;Rp(t,v,Ie[R+257]),v+=Ye[R+257],R>7&&(Ll(t,v,z>>23&31),v+=Fh[R]);var le=z&31;Rp(t,v,ke[le]),v+=qe[le],le>3&&(Rp(t,v,z>>5&8191),v+=Nh[le])}else Rp(t,v,Ie[z]),v+=Ye[z]}return Rp(t,v,Ie[256]),v+Ye[256]},C9=new t_([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),vw=new bo(0),w9=function(i,t,e,r,n,o){var a=o.z||i.length,d=new bo(r+a+5*(1+Math.ceil(a/7e3))+n),u=d.subarray(r,d.length-n),m=o.l,v=(o.r||0)&7;if(t){v&&(u[0]=o.r>>3);for(var y=C9[t-1],w=y>>13,x=y&8191,T=(1<<e)-1,E=o.p||new Pa(32768),k=o.h||new Pa(T+1),F=Math.ceil(e/3),U=2*F,Y=function(Lt){return(i[Lt]^i[Lt+1]<<F^i[Lt+2]<<U)&T},ve=new t_(25e3),we=new Pa(288),Ue=new Pa(32),ne=0,re=0,ce=o.i||0,Ce=0,W=o.w||0,G=0;ce+2<a;++ce){var xe=Y(ce),ye=ce&32767,Le=k[xe];if(E[ye]=Le,k[xe]=ye,W<=ce){var Ie=a-ce;if((ne>7e3||Ce>24576)&&(Ie>423||!m)){v=dw(i,u,0,ve,we,Ue,re,Ce,G,ce-G,v),Ce=ne=re=0,G=ce;for(var Ye=0;Ye<286;++Ye)we[Ye]=0;for(var Ye=0;Ye<30;++Ye)Ue[Ye]=0}var ke=2,qe=0,Xe=x,St=ye-Le&32767;if(Ie>2&&xe==Y(ce-St))for(var A=Math.min(w,Ie)-1,j=Math.min(32767,ce),R=Math.min(258,Ie);St<=j&&--Xe&&ye!=Le;){if(i[ce+ke]==i[ce+ke-St]){for(var z=0;z<R&&i[ce+z]==i[ce+z-St];++z);if(z>ke){if(ke=z,qe=St,z>A)break;for(var le=Math.min(St,z-2),Pe=0,Ye=0;Ye<le;++Ye){var Ne=ce-St+Ye&32767,Ae=E[Ne],Be=Ne-Ae&32767;Be>Pe&&(Pe=Be,Le=Ne)}}}ye=Le,Le=E[ye],St+=ye-Le&32767}if(qe){ve[Ce++]=268435456|Jv[ke]<<18|lw[qe];var at=Jv[ke]&31,mt=lw[qe]&31;re+=Fh[at]+Nh[mt],++we[257+at],++Ue[mt],W=ce+ke,++ne}else ve[Ce++]=i[ce],++we[i[ce]]}}for(ce=Math.max(ce,W);ce<a;++ce)ve[Ce++]=i[ce],++we[i[ce]];v=dw(i,u,m,ve,we,Ue,re,Ce,G,ce-G,v),m||(o.r=v&7|u[v/8|0]<<3,v-=7,o.h=k,o.p=E,o.i=ce,o.w=W)}else{for(var ce=o.w||0;ce<a+m;ce+=65535){var At=ce+65535;At>=a&&(u[v/8|0]=m,At=a),v=gw(u,v+1,i.subarray(ce,At))}o.i=a}return hw(d,0,r+i_(v)+n)};var _w=function(){var i=1,t=0;return{p:function(e){for(var r=i,n=t,o=e.length|0,a=0;a!=o;){for(var d=Math.min(a+2655,o);a<d;++a)n+=r+=e[a];r=(r&65535)+15*(r>>16),n=(n&65535)+15*(n>>16)}i=r,t=n},d:function(){return i%=65521,t%=65521,(i&255)<<24|(i&65280)<<8|(t&255)<<8|t>>8}}},S9=function(i,t,e,r,n){if(!n&&(n={l:1},t.dictionary)){var o=t.dictionary.subarray(-32768),a=new bo(o.length+i.length);a.set(o),a.set(i,o.length),i=a,n.w=o.length}return w9(i,t.level==null?6:t.level,t.mem==null?n.l?Math.ceil(Math.max(8,Math.min(13,Math.log(i.length)))*1.5):20:12+t.mem,e,r,n)};var bw=function(i,t,e){for(;e;++t)i[t]=e,e>>>=8};var E9=function(i,t){var e=t.level,r=e==0?0:e<6?1:e==9?3:2;if(i[0]=120,i[1]=r<<6|(t.dictionary&&32),i[1]|=31-(i[0]<<8|i[1])%31,t.dictionary){var n=_w();n.p(t.dictionary),bw(i,2,n.d())}},P9=function(i,t){return((i[0]&15)!=8||i[0]>>4>7||(i[0]<<8|i[1])%31)&&Ss(6,"invalid zlib data"),(i[1]>>5&1)==+!t&&Ss(6,"invalid zlib data: "+(i[1]&32?"need":"unexpected")+" dictionary"),(i[1]>>3&4)+2};function Lh(i,t){t||(t={});var e=_w();e.p(i);var r=S9(i,t,t.dictionary?6:2,4);return E9(r,t),bw(r,r.length-4,e.d()),r}function xw(i,t){return y9(i.subarray(P9(i,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var M9=typeof TextDecoder<"u"&&new TextDecoder,T9=0;try{M9.decode(vw,{stream:!0}),T9=1}catch{}var Si=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function r_(){Si.console&&typeof Si.console.log=="function"&&Si.console.log.apply(Si.console,arguments)}var Rr={log:r_,warn:function(i){Si.console&&(typeof Si.console.warn=="function"?Si.console.warn.apply(Si.console,arguments):r_.call(null,arguments))},error:function(i){Si.console&&(typeof Si.console.error=="function"?Si.console.error.apply(Si.console,arguments):r_(i))}};function n_(i,t,e){var r=new XMLHttpRequest;r.open("GET",i),r.responseType="blob",r.onload=function(){zd(r.response,t,e)},r.onerror=function(){Rr.error("could not download file")},r.send()}function yw(i){var t=new XMLHttpRequest;t.open("HEAD",i,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Dh(i){try{i.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),i.dispatchEvent(t)}}var Vp,c_,zd=Si.saveAs||((typeof window>"u"?"undefined":Ir(window))!=="object"||window!==Si?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(i,t,e){var r=Si.URL||Si.webkitURL,n=document.createElement("a");t=t||i.name||"download",n.download=t,n.rel="noopener",typeof i=="string"?(n.href=i,n.origin!==location.origin?yw(n.href)?n_(i,t,e):Dh(n,n.target="_blank"):Dh(n)):(n.href=r.createObjectURL(i),setTimeout(function(){r.revokeObjectURL(n.href)},4e4),setTimeout(function(){Dh(n)},0))}:"msSaveOrOpenBlob"in navigator?function(i,t,e){if(t=t||i.name||"download",typeof i=="string")if(yw(i))n_(i,t,e);else{var r=document.createElement("a");r.href=i,r.target="_blank",setTimeout(function(){Dh(r)})}else navigator.msSaveOrOpenBlob(function(n,o){return o===void 0?o={autoBom:!1}:Ir(o)!=="object"&&(Rr.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob(["\uFEFF",n],{type:n.type}):n}(i,e),t)}:function(i,t,e,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof i=="string")return n_(i,t,e);var n=i.type==="application/octet-stream",o=/constructor/i.test(Si.HTMLElement)||Si.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||n&&o)&&(typeof FileReader>"u"?"undefined":Ir(FileReader))==="object"){var d=new FileReader;d.onloadend=function(){var v=d.result;v=a?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=v:location=v,r=null},d.readAsDataURL(i)}else{var u=Si.URL||Si.webkitURL,m=u.createObjectURL(i);r?r.location=m:location.href=m,r=null,setTimeout(function(){u.revokeObjectURL(m)},4e4)}});function Bw(i){var t;i=i||"",this.ok=!1,i.charAt(0)=="#"&&(i=i.substr(1,6)),i={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[i=(i=i.replace(/ /g,"")).toLowerCase()]||i;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(d){return[parseInt(d[1]),parseInt(d[2]),parseInt(d[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(d){return[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(d){return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)]}}],r=0;r<e.length;r++){var n=e[r].re,o=e[r].process,a=n.exec(i);a&&(t=o(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var d=this.r.toString(16),u=this.g.toString(16),m=this.b.toString(16);return d.length==1&&(d="0"+d),u.length==1&&(u="0"+u),m.length==1&&(m="0"+m),"#"+d+u+m}}function o_(i,t){var e=i[0],r=i[1],n=i[2],o=i[3];e=xo(e,r,n,o,t[0],7,-680876936),o=xo(o,e,r,n,t[1],12,-389564586),n=xo(n,o,e,r,t[2],17,606105819),r=xo(r,n,o,e,t[3],22,-1044525330),e=xo(e,r,n,o,t[4],7,-176418897),o=xo(o,e,r,n,t[5],12,1200080426),n=xo(n,o,e,r,t[6],17,-1473231341),r=xo(r,n,o,e,t[7],22,-45705983),e=xo(e,r,n,o,t[8],7,1770035416),o=xo(o,e,r,n,t[9],12,-1958414417),n=xo(n,o,e,r,t[10],17,-42063),r=xo(r,n,o,e,t[11],22,-1990404162),e=xo(e,r,n,o,t[12],7,1804603682),o=xo(o,e,r,n,t[13],12,-40341101),n=xo(n,o,e,r,t[14],17,-1502002290),e=yo(e,r=xo(r,n,o,e,t[15],22,1236535329),n,o,t[1],5,-165796510),o=yo(o,e,r,n,t[6],9,-1069501632),n=yo(n,o,e,r,t[11],14,643717713),r=yo(r,n,o,e,t[0],20,-373897302),e=yo(e,r,n,o,t[5],5,-701558691),o=yo(o,e,r,n,t[10],9,38016083),n=yo(n,o,e,r,t[15],14,-660478335),r=yo(r,n,o,e,t[4],20,-405537848),e=yo(e,r,n,o,t[9],5,568446438),o=yo(o,e,r,n,t[14],9,-1019803690),n=yo(n,o,e,r,t[3],14,-187363961),r=yo(r,n,o,e,t[8],20,1163531501),e=yo(e,r,n,o,t[13],5,-1444681467),o=yo(o,e,r,n,t[2],9,-51403784),n=yo(n,o,e,r,t[7],14,1735328473),e=Co(e,r=yo(r,n,o,e,t[12],20,-1926607734),n,o,t[5],4,-378558),o=Co(o,e,r,n,t[8],11,-2022574463),n=Co(n,o,e,r,t[11],16,1839030562),r=Co(r,n,o,e,t[14],23,-35309556),e=Co(e,r,n,o,t[1],4,-1530992060),o=Co(o,e,r,n,t[4],11,1272893353),n=Co(n,o,e,r,t[7],16,-155497632),r=Co(r,n,o,e,t[10],23,-1094730640),e=Co(e,r,n,o,t[13],4,681279174),o=Co(o,e,r,n,t[0],11,-358537222),n=Co(n,o,e,r,t[3],16,-722521979),r=Co(r,n,o,e,t[6],23,76029189),e=Co(e,r,n,o,t[9],4,-640364487),o=Co(o,e,r,n,t[12],11,-421815835),n=Co(n,o,e,r,t[15],16,530742520),e=wo(e,r=Co(r,n,o,e,t[2],23,-995338651),n,o,t[0],6,-198630844),o=wo(o,e,r,n,t[7],10,1126891415),n=wo(n,o,e,r,t[14],15,-1416354905),r=wo(r,n,o,e,t[5],21,-57434055),e=wo(e,r,n,o,t[12],6,1700485571),o=wo(o,e,r,n,t[3],10,-1894986606),n=wo(n,o,e,r,t[10],15,-1051523),r=wo(r,n,o,e,t[1],21,-2054922799),e=wo(e,r,n,o,t[8],6,1873313359),o=wo(o,e,r,n,t[15],10,-30611744),n=wo(n,o,e,r,t[6],15,-1560198380),r=wo(r,n,o,e,t[13],21,1309151649),e=wo(e,r,n,o,t[4],6,-145523070),o=wo(o,e,r,n,t[11],10,-1120210379),n=wo(n,o,e,r,t[2],15,718787259),r=wo(r,n,o,e,t[9],21,-343485551),i[0]=jc(e,i[0]),i[1]=jc(r,i[1]),i[2]=jc(n,i[2]),i[3]=jc(o,i[3])}function Gh(i,t,e,r,n,o){return t=jc(jc(t,i),jc(r,o)),jc(t<<n|t>>>32-n,e)}function xo(i,t,e,r,n,o,a){return Gh(t&e|~t&r,i,t,n,o,a)}function yo(i,t,e,r,n,o,a){return Gh(t&r|e&~r,i,t,n,o,a)}function Co(i,t,e,r,n,o,a){return Gh(t^e^r,i,t,n,o,a)}function wo(i,t,e,r,n,o,a){return Gh(e^(t|~r),i,t,n,o,a)}function Uw(i){var t,e=i.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=i.length;t+=64)o_(r,k9(i.substring(t-64,t)));i=i.substring(t-64);var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i.length;t++)n[t>>2]|=i.charCodeAt(t)<<(t%4<<3);if(n[t>>2]|=128<<(t%4<<3),t>55)for(o_(r,n),t=0;t<16;t++)n[t]=0;return n[14]=8*e,o_(r,n),r}function k9(i){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=i.charCodeAt(t)+(i.charCodeAt(t+1)<<8)+(i.charCodeAt(t+2)<<16)+(i.charCodeAt(t+3)<<24);return e}Vp=Si.atob.bind(Si),c_=Si.btoa.bind(Si);var Cw="0123456789abcdef".split("");function A9(i){for(var t="",e=0;e<4;e++)t+=Cw[i>>8*e+4&15]+Cw[i>>8*e&15];return t}function I9(i){return String.fromCharCode((255&i)>>0,(65280&i)>>8,(16711680&i)>>16,(4278190080&i)>>24)}function d_(i){return Uw(i).map(I9).join("")}var O9=function(i){for(var t=0;t<i.length;t++)i[t]=A9(i[t]);return i.join("")}(Uw("hello"))!="5d41402abc4b2a76b9719d911017c592";function jc(i,t){if(O9){var e=(65535&i)+(65535&t);return(i>>16)+(t>>16)+(e>>16)<<16|65535&e}return i+t&4294967295}function u_(i,t){var e,r,n,o;if(i!==e){for(var a=(n=i,o=1+(256/i.length>>0),new Array(o+1).join(n)),d=[],u=0;u<256;u++)d[u]=u;var m=0;for(u=0;u<256;u++){var v=d[u];m=(m+v+a.charCodeAt(u))%256,d[u]=d[m],d[m]=v}e=i,r=d}else d=r;var y=t.length,w=0,x=0,T="";for(u=0;u<y;u++)x=(x+(v=d[w=(w+1)%256]))%256,d[w]=d[x],d[x]=v,a=d[(d[w]+d[x])%256],T+=String.fromCharCode(t.charCodeAt(u)^a);return T}var ww={print:4,modify:8,copy:16,"annot-forms":32};function iu(i,t,e,r){this.v=1,this.r=2;var n=192;i.forEach(function(d){if(ww.perm!==void 0)throw new Error("Invalid permission: "+d);n+=ww[d]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var o=(t+this.padding).substr(0,32),a=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,a),this.P=-(1+(255^n)),this.encryptionKey=d_(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=u_(this.encryptionKey,this.padding)}function ru(i){if(/[^\u0000-\u00ff]/.test(i))throw new Error("Invalid PDF Name Object: "+i+", Only accept ASCII characters.");for(var t="",e=i.length,r=0;r<e;r++){var n=i.charCodeAt(r);n<33||n===35||n===37||n===40||n===41||n===47||n===60||n===62||n===91||n===93||n===123||n===125||n>126?t+="#"+("0"+n.toString(16)).slice(-2):t+=i[r]}return t}function Sw(i){if(Ir(i)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,r,n){if(n=n||!1,typeof e!="string"||typeof r!="function"||typeof n!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var o=Math.random().toString(35);return t[e][o]=[r,!!n],o},this.unsubscribe=function(e){for(var r in t)if(t[r][e])return delete t[r][e],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var r=Array.prototype.slice.call(arguments,1),n=[];for(var o in t[e]){var a=t[e][o];try{a[0].apply(i,r)}catch(d){Si.console&&Rr.error("jsPDF PubSub Error",d.message,d)}a[1]&&n.push(o)}n.length&&n.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Wh(i){if(!(this instanceof Wh))return new Wh(i);var t="opacity,stroke-opacity".split(",");for(var e in i)i.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=i[e]);this.id="",this.objectNumber=-1}function Vw(i,t){this.gState=i,this.matrix=t,this.id="",this.objectNumber=-1}function Wd(i,t,e,r,n){if(!(this instanceof Wd))return new Wd(i,t,e,r,n);this.type=i==="axial"?2:3,this.coords=t,this.colors=e,Vw.call(this,r,n)}function nu(i,t,e,r,n){if(!(this instanceof nu))return new nu(i,t,e,r,n);this.boundingBox=i,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,Vw.call(this,r,n)}function oi(i){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],n=arguments[2],o=arguments[3],a=[],d=1,u=16,m="S",v=null;Ir(i=i||{})==="object"&&(e=i.orientation,r=i.unit||r,n=i.format||n,o=i.compress||i.compressPdf||o,(v=i.encryption||null)!==null&&(v.userPassword=v.userPassword||"",v.ownerPassword=v.ownerPassword||"",v.userPermissions=v.userPermissions||[]),d=typeof i.userUnit=="number"?Math.abs(i.userUnit):1,i.precision!==void 0&&(t=i.precision),i.floatPrecision!==void 0&&(u=i.floatPrecision),m=i.defaultPathOperation||"S"),a=i.filters||(o===!0?["FlateEncode"]:a),r=r||"mm",e=(""+(e||"P")).toLowerCase();var y=i.putOnlyUsedFonts||!1,w={},x={internal:{},__private__:{}};x.__private__.PubSub=Sw;var T="1.3",E=x.__private__.getPdfVersion=function(){return T};x.__private__.setPdfVersion=function(C){T=C};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};x.__private__.getPageFormats=function(){return k};var F=x.__private__.getPageFormat=function(C){return k[C]};n=n||"a4";var U={COMPAT:"compat",ADVANCED:"advanced"},Y=U.COMPAT;function ve(){this.saveGraphicsState(),be(new mi(zt,0,0,-zt,0,Aa()*zt).toString()+" cm"),this.setFontSize(this.getFontSize()/zt),m="n",Y=U.ADVANCED}function we(){this.restoreGraphicsState(),m="S",Y=U.COMPAT}var Ue=x.__private__.combineFontStyleAndFontWeight=function(C,V){if(C=="bold"&&V=="normal"||C=="bold"&&V==400||C=="normal"&&V=="italic"||C=="bold"&&V=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return V&&(C=V==400||V==="normal"?C==="italic"?"italic":"normal":V!=700&&V!=="bold"||C!=="normal"?(V==700?"bold":V)+""+C:"bold"),C};x.advancedAPI=function(C){var V=Y===U.COMPAT;return V&&ve.call(this),typeof C!="function"||(C(this),V&&we.call(this)),this},x.compatAPI=function(C){var V=Y===U.ADVANCED;return V&&we.call(this),typeof C!="function"||(C(this),V&&ve.call(this)),this},x.isAdvancedAPI=function(){return Y===U.ADVANCED};var ne,re=function(C){if(Y!==U.ADVANCED)throw new Error(C+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ce=x.roundToPrecision=x.__private__.roundToPrecision=function(C,V){var _e=t||V;if(isNaN(C)||isNaN(_e))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return C.toFixed(_e).replace(/0+$/,"")};ne=x.hpf=x.__private__.hpf=typeof u=="number"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return ce(C,u)}:u==="smart"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return ce(C,C>-1&&C<1?16:5)}:function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return ce(C,16)};var Ce=x.f2=x.__private__.f2=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f2");return ce(C,2)},W=x.__private__.f3=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f3");return ce(C,3)},G=x.scale=x.__private__.scale=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.scale");return Y===U.COMPAT?C*zt:Y===U.ADVANCED?C:void 0},xe=function(C){return Y===U.COMPAT?Aa()-C:Y===U.ADVANCED?C:void 0},ye=function(C){return G(xe(C))};x.__private__.setPrecision=x.setPrecision=function(C){typeof parseInt(C,10)=="number"&&(t=parseInt(C,10))};var Le,Ie="00000000000000000000000000000000",Ye=x.__private__.getFileId=function(){return Ie},ke=x.__private__.setFileId=function(C){return Ie=C!==void 0&&/^[a-fA-F0-9]{32}$/.test(C)?C.toUpperCase():Ie.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),v!==null&&(_n=new iu(v.userPermissions,v.userPassword,v.ownerPassword,Ie)),Ie};x.setFileId=function(C){return ke(C),this},x.getFileId=function(){return Ye()};var qe=x.__private__.convertDateToPDFDate=function(C){var V=C.getTimezoneOffset(),_e=V<0?"+":"-",Me=Math.floor(Math.abs(V/60)),Ve=Math.abs(V%60),it=[_e,R(Me),"'",R(Ve),"'"].join("");return["D:",C.getFullYear(),R(C.getMonth()+1),R(C.getDate()),R(C.getHours()),R(C.getMinutes()),R(C.getSeconds()),it].join("")},Xe=x.__private__.convertPDFDateToDate=function(C){var V=parseInt(C.substr(2,4),10),_e=parseInt(C.substr(6,2),10)-1,Me=parseInt(C.substr(8,2),10),Ve=parseInt(C.substr(10,2),10),it=parseInt(C.substr(12,2),10),ut=parseInt(C.substr(14,2),10);return new Date(V,_e,Me,Ve,it,ut,0)},St=x.__private__.setCreationDate=function(C){var V;if(C===void 0&&(C=new Date),C instanceof Date)V=qe(C);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(C))throw new Error("Invalid argument passed to jsPDF.setCreationDate");V=C}return Le=V},A=x.__private__.getCreationDate=function(C){var V=Le;return C==="jsDate"&&(V=Xe(Le)),V};x.setCreationDate=function(C){return St(C),this},x.getCreationDate=function(C){return A(C)};var j,R=x.__private__.padd2=function(C){return("0"+parseInt(C)).slice(-2)},z=x.__private__.padd2Hex=function(C){return("00"+(C=C.toString())).substr(C.length)},le=0,Pe=[],Ne=[],Ae=0,Be=[],at=[],mt=!1,At=Ne,Lt=function(){le=0,Ae=0,Ne=[],Pe=[],Be=[],oe=qr(),se=qr()};x.__private__.setCustomOutputDestination=function(C){mt=!0,At=C};var et=function(C){mt||(At=C)};x.__private__.resetCustomOutputDestination=function(){mt=!1,At=Ne};var be=x.__private__.out=function(C){return C=C.toString(),Ae+=C.length+1,At.push(C),At},gt=x.__private__.write=function(C){return be(arguments.length===1?C.toString():Array.prototype.join.call(arguments," "))},Wt=x.__private__.getArrayBuffer=function(C){for(var V=C.length,_e=new ArrayBuffer(V),Me=new Uint8Array(_e);V--;)Me[V]=C.charCodeAt(V);return _e},vt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];x.__private__.getStandardFonts=function(){return vt};var Ft=i.fontSize||16;x.__private__.setFontSize=x.setFontSize=function(C){return Ft=Y===U.ADVANCED?C/zt:C,this};var Vt,qt=x.__private__.getFontSize=x.getFontSize=function(){return Y===U.COMPAT?Ft:Ft*zt},ni=i.R2L||!1;x.__private__.setR2L=x.setR2L=function(C){return ni=C,this},x.__private__.getR2L=x.getR2L=function(){return ni};var ai,wi=x.__private__.setZoomMode=function(C){var V=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(C))Vt=C;else if(isNaN(C)){if(V.indexOf(C)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+C+'" is not recognized.');Vt=C}else Vt=parseInt(C,10)};x.__private__.getZoomMode=function(){return Vt};var ki,Hi=x.__private__.setPageMode=function(C){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(C)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+C+'" is not recognized.');ai=C};x.__private__.getPageMode=function(){return ai};var Gi=x.__private__.setLayoutMode=function(C){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(C)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+C+'" is not recognized.');ki=C};x.__private__.getLayoutMode=function(){return ki},x.__private__.setDisplayMode=x.setDisplayMode=function(C,V,_e){return wi(C),Gi(V),Hi(_e),this};var vi={title:"",subject:"",author:"",keywords:"",creator:""};x.__private__.getDocumentProperty=function(C){if(Object.keys(vi).indexOf(C)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return vi[C]},x.__private__.getDocumentProperties=function(){return vi},x.__private__.setDocumentProperties=x.setProperties=x.setDocumentProperties=function(C){for(var V in vi)vi.hasOwnProperty(V)&&C[V]&&(vi[V]=C[V]);return this},x.__private__.setDocumentProperty=function(C,V){if(Object.keys(vi).indexOf(C)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return vi[C]=V};var Ri,zt,Yr,Xi,oo,er={},Pr={},Vo=[],tr={},sa={},Mr={},So={},la=null,_r=0,Ei=[],or=new Sw(x),es=i.hotfixes||[],Kr={},qo={},jo=[],mi=function C(V,_e,Me,Ve,it,ut){if(!(this instanceof C))return new C(V,_e,Me,Ve,it,ut);isNaN(V)&&(V=1),isNaN(_e)&&(_e=0),isNaN(Me)&&(Me=0),isNaN(Ve)&&(Ve=1),isNaN(it)&&(it=0),isNaN(ut)&&(ut=0),this._matrix=[V,_e,Me,Ve,it,ut]};Object.defineProperty(mi.prototype,"sx",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(mi.prototype,"shy",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(mi.prototype,"shx",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(mi.prototype,"sy",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(mi.prototype,"tx",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(mi.prototype,"ty",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(mi.prototype,"a",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(mi.prototype,"b",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(mi.prototype,"c",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(mi.prototype,"d",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(mi.prototype,"e",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(mi.prototype,"f",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(mi.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(mi.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(mi.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(mi.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),mi.prototype.join=function(C){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(ne).join(C)},mi.prototype.multiply=function(C){var V=C.sx*this.sx+C.shy*this.shx,_e=C.sx*this.shy+C.shy*this.sy,Me=C.shx*this.sx+C.sy*this.shx,Ve=C.shx*this.shy+C.sy*this.sy,it=C.tx*this.sx+C.ty*this.shx+this.tx,ut=C.tx*this.shy+C.ty*this.sy+this.ty;return new mi(V,_e,Me,Ve,it,ut)},mi.prototype.decompose=function(){var C=this.sx,V=this.shy,_e=this.shx,Me=this.sy,Ve=this.tx,it=this.ty,ut=Math.sqrt(C*C+V*V),Gt=(C/=ut)*_e+(V/=ut)*Me;_e-=C*Gt,Me-=V*Gt;var li=Math.sqrt(_e*_e+Me*Me);return Gt/=li,C*(Me/=li)<V*(_e/=li)&&(C=-C,V=-V,Gt=-Gt,ut=-ut),{scale:new mi(ut,0,0,li,0,0),translate:new mi(1,0,0,1,Ve,it),rotate:new mi(C,V,-V,C,0,0),skew:new mi(1,0,Gt,1,0,0)}},mi.prototype.toString=function(C){return this.join(" ")},mi.prototype.inversed=function(){var C=this.sx,V=this.shy,_e=this.shx,Me=this.sy,Ve=this.tx,it=this.ty,ut=1/(C*Me-V*_e),Gt=Me*ut,li=-V*ut,Ii=-_e*ut,Pi=C*ut;return new mi(Gt,li,Ii,Pi,-Gt*Ve-Ii*it,-li*Ve-Pi*it)},mi.prototype.applyToPoint=function(C){var V=C.x*this.sx+C.y*this.shx+this.tx,_e=C.x*this.shy+C.y*this.sy+this.ty;return new dl(V,_e)},mi.prototype.applyToRectangle=function(C){var V=this.applyToPoint(C),_e=this.applyToPoint(new dl(C.x+C.w,C.y+C.h));return new Hl(V.x,V.y,_e.x-V.x,_e.y-V.y)},mi.prototype.clone=function(){var C=this.sx,V=this.shy,_e=this.shx,Me=this.sy,Ve=this.tx,it=this.ty;return new mi(C,V,_e,Me,Ve,it)},x.Matrix=mi;var Eo=x.matrixMult=function(C,V){return V.multiply(C)},Vr=new mi(1,0,0,1,0,0);x.unitMatrix=x.identityMatrix=Vr;var $t=function(C,V){if(!sa[C]){var _e=(V instanceof Wd?"Sh":"P")+(Object.keys(tr).length+1).toString(10);V.id=_e,sa[C]=_e,tr[_e]=V,or.publish("addPattern",V)}};x.ShadingPattern=Wd,x.TilingPattern=nu,x.addShadingPattern=function(C,V){return re("addShadingPattern()"),$t(C,V),this},x.beginTilingPattern=function(C){re("beginTilingPattern()"),Yd(C.boundingBox[0],C.boundingBox[1],C.boundingBox[2]-C.boundingBox[0],C.boundingBox[3]-C.boundingBox[1],C.matrix)},x.endTilingPattern=function(C,V){re("endTilingPattern()"),V.stream=at[j].join(`
`),$t(C,V),or.publish("endTilingPattern",V),jo.pop().restore()};var Hr=x.__private__.newObject=function(){var C=qr();return X(C,!0),C},qr=x.__private__.newObjectDeferred=function(){return le++,Pe[le]=function(){return Ae},le},X=function(C,V){return V=typeof V=="boolean"&&V,Pe[C]=Ae,V&&be(C+" 0 obj"),C},he=x.__private__.newAdditionalObject=function(){var C={objId:qr(),content:""};return Be.push(C),C},oe=qr(),se=qr(),me=x.__private__.decodeColorString=function(C){var V=C.split(" ");if(V.length!==2||V[1]!=="g"&&V[1]!=="G")V.length===5&&(V[4]==="k"||V[4]==="K")&&(V=[(1-V[0])*(1-V[3]),(1-V[1])*(1-V[3]),(1-V[2])*(1-V[3]),"r"]);else{var _e=parseFloat(V[0]);V=[_e,_e,_e,"r"]}for(var Me="#",Ve=0;Ve<3;Ve++)Me+=("0"+Math.floor(255*parseFloat(V[Ve])).toString(16)).slice(-2);return Me},ge=x.__private__.encodeColorString=function(C){var V;typeof C=="string"&&(C={ch1:C});var _e=C.ch1,Me=C.ch2,Ve=C.ch3,it=C.ch4,ut=C.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof _e=="string"&&_e.charAt(0)!=="#"){var Gt=new Bw(_e);if(Gt.ok)_e=Gt.toHex();else if(!/^\d*\.?\d*$/.test(_e))throw new Error('Invalid color "'+_e+'" passed to jsPDF.encodeColorString.')}if(typeof _e=="string"&&/^#[0-9A-Fa-f]{3}$/.test(_e)&&(_e="#"+_e[1]+_e[1]+_e[2]+_e[2]+_e[3]+_e[3]),typeof _e=="string"&&/^#[0-9A-Fa-f]{6}$/.test(_e)){var li=parseInt(_e.substr(1),16);_e=li>>16&255,Me=li>>8&255,Ve=255&li}if(Me===void 0||it===void 0&&_e===Me&&Me===Ve)if(typeof _e=="string")V=_e+" "+ut[0];else switch(C.precision){case 2:V=Ce(_e/255)+" "+ut[0];break;case 3:default:V=W(_e/255)+" "+ut[0]}else if(it===void 0||Ir(it)==="object"){if(it&&!isNaN(it.a)&&it.a===0)return V=["1.","1.","1.",ut[1]].join(" ");if(typeof _e=="string")V=[_e,Me,Ve,ut[1]].join(" ");else switch(C.precision){case 2:V=[Ce(_e/255),Ce(Me/255),Ce(Ve/255),ut[1]].join(" ");break;default:case 3:V=[W(_e/255),W(Me/255),W(Ve/255),ut[1]].join(" ")}}else if(typeof _e=="string")V=[_e,Me,Ve,it,ut[2]].join(" ");else switch(C.precision){case 2:V=[Ce(_e),Ce(Me),Ce(Ve),Ce(it),ut[2]].join(" ");break;case 3:default:V=[W(_e),W(Me),W(Ve),W(it),ut[2]].join(" ")}return V},ze=x.__private__.getFilters=function(){return a},tt=x.__private__.putStream=function(C){var V=(C=C||{}).data||"",_e=C.filters||ze(),Me=C.alreadyAppliedFilters||[],Ve=C.addLength1||!1,it=V.length,ut=C.objectId,Gt=function(On){return On};if(v!==null&&ut===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");v!==null&&(Gt=_n.encryptor(ut,0));var li={};_e===!0&&(_e=["FlateEncode"]);var Ii=C.additionalKeyValues||[],Pi=(li=oi.API.processDataByFilters!==void 0?oi.API.processDataByFilters(V,_e):{data:V,reverseChain:[]}).reverseChain+(Array.isArray(Me)?Me.join(" "):Me.toString());if(li.data.length!==0&&(Ii.push({key:"Length",value:li.data.length}),Ve===!0&&Ii.push({key:"Length1",value:it})),Pi.length!=0)if(Pi.split("/").length-1==1)Ii.push({key:"Filter",value:Pi});else{Ii.push({key:"Filter",value:"["+Pi+"]"});for(var Zi=0;Zi<Ii.length;Zi+=1)if(Ii[Zi].key==="DecodeParms"){for(var jr=[],$r=0;$r<li.reverseChain.split("/").length-1;$r+=1)jr.push("null");jr.push(Ii[Zi].value),Ii[Zi].value="["+jr.join(" ")+"]"}}be("<<");for(var Qr=0;Qr<Ii.length;Qr++)be("/"+Ii[Qr].key+" "+Ii[Qr].value);be(">>"),li.data.length!==0&&(be("stream"),be(Gt(li.data)),be("endstream"))},We=x.__private__.putPage=function(C){var V=C.number,_e=C.data,Me=C.objId,Ve=C.contentsObjId;X(Me,!0),be("<</Type /Page"),be("/Parent "+C.rootDictionaryObjId+" 0 R"),be("/Resources "+C.resourceDictionaryObjId+" 0 R"),be("/MediaBox ["+parseFloat(ne(C.mediaBox.bottomLeftX))+" "+parseFloat(ne(C.mediaBox.bottomLeftY))+" "+ne(C.mediaBox.topRightX)+" "+ne(C.mediaBox.topRightY)+"]"),C.cropBox!==null&&be("/CropBox ["+ne(C.cropBox.bottomLeftX)+" "+ne(C.cropBox.bottomLeftY)+" "+ne(C.cropBox.topRightX)+" "+ne(C.cropBox.topRightY)+"]"),C.bleedBox!==null&&be("/BleedBox ["+ne(C.bleedBox.bottomLeftX)+" "+ne(C.bleedBox.bottomLeftY)+" "+ne(C.bleedBox.topRightX)+" "+ne(C.bleedBox.topRightY)+"]"),C.trimBox!==null&&be("/TrimBox ["+ne(C.trimBox.bottomLeftX)+" "+ne(C.trimBox.bottomLeftY)+" "+ne(C.trimBox.topRightX)+" "+ne(C.trimBox.topRightY)+"]"),C.artBox!==null&&be("/ArtBox ["+ne(C.artBox.bottomLeftX)+" "+ne(C.artBox.bottomLeftY)+" "+ne(C.artBox.topRightX)+" "+ne(C.artBox.topRightY)+"]"),typeof C.userUnit=="number"&&C.userUnit!==1&&be("/UserUnit "+C.userUnit),or.publish("putPage",{objId:Me,pageContext:Ei[V],pageNumber:V,page:_e}),be("/Contents "+Ve+" 0 R"),be(">>"),be("endobj");var it=_e.join(`
`);return Y===U.ADVANCED&&(it+=`
Q`),X(Ve,!0),tt({data:it,filters:ze(),objectId:Ve}),be("endobj"),Me},He=x.__private__.putPages=function(){var C,V,_e=[];for(C=1;C<=_r;C++)Ei[C].objId=qr(),Ei[C].contentsObjId=qr();for(C=1;C<=_r;C++)_e.push(We({number:C,data:at[C],objId:Ei[C].objId,contentsObjId:Ei[C].contentsObjId,mediaBox:Ei[C].mediaBox,cropBox:Ei[C].cropBox,bleedBox:Ei[C].bleedBox,trimBox:Ei[C].trimBox,artBox:Ei[C].artBox,userUnit:Ei[C].userUnit,rootDictionaryObjId:oe,resourceDictionaryObjId:se}));X(oe,!0),be("<</Type /Pages");var Me="/Kids [";for(V=0;V<_r;V++)Me+=_e[V]+" 0 R ";be(Me+"]"),be("/Count "+_r),be(">>"),be("endobj"),or.publish("postPutPages")},Ze=function(C){or.publish("putFont",{font:C,out:be,newObject:Hr,putStream:tt}),C.isAlreadyPutted!==!0&&(C.objectNumber=Hr(),be("<<"),be("/Type /Font"),be("/BaseFont /"+ru(C.postScriptName)),be("/Subtype /Type1"),typeof C.encoding=="string"&&be("/Encoding /"+C.encoding),be("/FirstChar 32"),be("/LastChar 255"),be(">>"),be("endobj"))},Ct=function(){for(var C in er)er.hasOwnProperty(C)&&(y===!1||y===!0&&w.hasOwnProperty(C))&&Ze(er[C])},Ot=function(C){C.objectNumber=Hr();var V=[];V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Form"}),V.push({key:"BBox",value:"["+[ne(C.x),ne(C.y),ne(C.x+C.width),ne(C.y+C.height)].join(" ")+"]"}),V.push({key:"Matrix",value:"["+C.matrix.toString()+"]"});var _e=C.pages[1].join(`
`);tt({data:_e,additionalKeyValues:V,objectId:C.objectNumber}),be("endobj")},Xt=function(){for(var C in Kr)Kr.hasOwnProperty(C)&&Ot(Kr[C])},Nt=function(C,V){var _e,Me=[],Ve=1/(V-1);for(_e=0;_e<1;_e+=Ve)Me.push(_e);if(Me.push(1),C[0].offset!=0){var it={offset:0,color:C[0].color};C.unshift(it)}if(C[C.length-1].offset!=1){var ut={offset:1,color:C[C.length-1].color};C.push(ut)}for(var Gt="",li=0,Ii=0;Ii<Me.length;Ii++){for(_e=Me[Ii];_e>C[li+1].offset;)li++;var Pi=C[li].offset,Zi=(_e-Pi)/(C[li+1].offset-Pi),jr=C[li].color,$r=C[li+1].color;Gt+=z(Math.round((1-Zi)*jr[0]+Zi*$r[0]).toString(16))+z(Math.round((1-Zi)*jr[1]+Zi*$r[1]).toString(16))+z(Math.round((1-Zi)*jr[2]+Zi*$r[2]).toString(16))}return Gt.trim()},Rt=function(C,V){V||(V=21);var _e=Hr(),Me=Nt(C.colors,V),Ve=[];Ve.push({key:"FunctionType",value:"0"}),Ve.push({key:"Domain",value:"[0.0 1.0]"}),Ve.push({key:"Size",value:"["+V+"]"}),Ve.push({key:"BitsPerSample",value:"8"}),Ve.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ve.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),tt({data:Me,additionalKeyValues:Ve,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:_e}),be("endobj"),C.objectNumber=Hr(),be("<< /ShadingType "+C.type),be("/ColorSpace /DeviceRGB");var it="/Coords ["+ne(parseFloat(C.coords[0]))+" "+ne(parseFloat(C.coords[1]))+" ";C.type===2?it+=ne(parseFloat(C.coords[2]))+" "+ne(parseFloat(C.coords[3])):it+=ne(parseFloat(C.coords[2]))+" "+ne(parseFloat(C.coords[3]))+" "+ne(parseFloat(C.coords[4]))+" "+ne(parseFloat(C.coords[5])),be(it+="]"),C.matrix&&be("/Matrix ["+C.matrix.toString()+"]"),be("/Function "+_e+" 0 R"),be("/Extend [true true]"),be(">>"),be("endobj")},yi=function(C,V){var _e=qr(),Me=Hr();V.push({resourcesOid:_e,objectOid:Me}),C.objectNumber=Me;var Ve=[];Ve.push({key:"Type",value:"/Pattern"}),Ve.push({key:"PatternType",value:"1"}),Ve.push({key:"PaintType",value:"1"}),Ve.push({key:"TilingType",value:"1"}),Ve.push({key:"BBox",value:"["+C.boundingBox.map(ne).join(" ")+"]"}),Ve.push({key:"XStep",value:ne(C.xStep)}),Ve.push({key:"YStep",value:ne(C.yStep)}),Ve.push({key:"Resources",value:_e+" 0 R"}),C.matrix&&Ve.push({key:"Matrix",value:"["+C.matrix.toString()+"]"}),tt({data:C.stream,additionalKeyValues:Ve,objectId:C.objectNumber}),be("endobj")},ar=function(C){var V;for(V in tr)tr.hasOwnProperty(V)&&(tr[V]instanceof Wd?Rt(tr[V]):tr[V]instanceof nu&&yi(tr[V],C))},Jr=function(C){for(var V in C.objectNumber=Hr(),be("<<"),C)switch(V){case"opacity":be("/ca "+Ce(C[V]));break;case"stroke-opacity":be("/CA "+Ce(C[V]))}be(">>"),be("endobj")},fr=function(){var C;for(C in Mr)Mr.hasOwnProperty(C)&&Jr(Mr[C])},rn=function(){for(var C in be("/XObject <<"),Kr)Kr.hasOwnProperty(C)&&Kr[C].objectNumber>=0&&be("/"+C+" "+Kr[C].objectNumber+" 0 R");or.publish("putXobjectDict"),be(">>")},Ma=function(){_n.oid=Hr(),be("<<"),be("/Filter /Standard"),be("/V "+_n.v),be("/R "+_n.r),be("/U <"+_n.toHexString(_n.U)+">"),be("/O <"+_n.toHexString(_n.O)+">"),be("/P "+_n.P),be(">>"),be("endobj")},ao=function(){for(var C in be("/Font <<"),er)er.hasOwnProperty(C)&&(y===!1||y===!0&&w.hasOwnProperty(C))&&be("/"+C+" "+er[C].objectNumber+" 0 R");be(">>")},Oi=function(){if(Object.keys(tr).length>0){for(var C in be("/Shading <<"),tr)tr.hasOwnProperty(C)&&tr[C]instanceof Wd&&tr[C].objectNumber>=0&&be("/"+C+" "+tr[C].objectNumber+" 0 R");or.publish("putShadingPatternDict"),be(">>")}},sr=function(C){if(Object.keys(tr).length>0){for(var V in be("/Pattern <<"),tr)tr.hasOwnProperty(V)&&tr[V]instanceof x.TilingPattern&&tr[V].objectNumber>=0&&tr[V].objectNumber<C&&be("/"+V+" "+tr[V].objectNumber+" 0 R");or.publish("putTilingPatternDict"),be(">>")}},In=function(){if(Object.keys(Mr).length>0){var C;for(C in be("/ExtGState <<"),Mr)Mr.hasOwnProperty(C)&&Mr[C].objectNumber>=0&&be("/"+C+" "+Mr[C].objectNumber+" 0 R");or.publish("putGStateDict"),be(">>")}},Tr=function(C){X(C.resourcesOid,!0),be("<<"),be("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ao(),Oi(),sr(C.objectOid),In(),rn(),be(">>"),be("endobj")},ts=function(){var C=[];Ct(),fr(),Xt(),ar(C),or.publish("putResources"),C.forEach(Tr),Tr({resourcesOid:se,objectOid:Number.MAX_SAFE_INTEGER}),or.publish("postPutResources")},Bl=function(){or.publish("putAdditionalObjects");for(var C=0;C<Be.length;C++){var V=Be[C];X(V.objId,!0),be(V.content),be("endobj")}or.publish("postPutAdditionalObjects")},Ai=function(C){Pr[C.fontName]=Pr[C.fontName]||{},Pr[C.fontName][C.fontStyle]=C.id},Nr=function(C,V,_e,Me,Ve){var it={id:"F"+(Object.keys(er).length+1).toString(10),postScriptName:C,fontName:V,fontStyle:_e,encoding:Me,isStandardFont:Ve||!1,metadata:{}};return or.publish("addFont",{font:it,instance:this}),er[it.id]=it,Ai(it),it.id},Wc=function(C){for(var V=0,_e=vt.length;V<_e;V++){var Me=Nr.call(this,C[V][0],C[V][1],C[V][2],vt[V][3],!0);y===!1&&(w[Me]=!0);var Ve=C[V][0].split("-");Ai({id:Me,fontName:Ve[0],fontStyle:Ve[1]||""})}or.publish("addFonts",{fonts:er,dictionary:Pr})},so=function(C){return C.foo=function(){try{return C.apply(this,arguments)}catch(Me){var V=Me.stack||"";~V.indexOf(" at ")&&(V=V.split(" at ")[1]);var _e="Error in function "+V.split(`
`)[0].split("<")[0]+": "+Me.message;if(!Si.console)throw new Error(_e);Si.console.error(_e,Me),Si.alert&&alert(_e)}},C.foo.bar=C,C.foo},Mn=function(C,V){var _e,Me,Ve,it,ut,Gt,li,Ii,Pi;if(Ve=(V=V||{}).sourceEncoding||"Unicode",ut=V.outputEncoding,(V.autoencode||ut)&&er[Ri].metadata&&er[Ri].metadata[Ve]&&er[Ri].metadata[Ve].encoding&&(it=er[Ri].metadata[Ve].encoding,!ut&&er[Ri].encoding&&(ut=er[Ri].encoding),!ut&&it.codePages&&(ut=it.codePages[0]),typeof ut=="string"&&(ut=it[ut]),ut)){for(li=!1,Gt=[],_e=0,Me=C.length;_e<Me;_e++)(Ii=ut[C.charCodeAt(_e)])?Gt.push(String.fromCharCode(Ii)):Gt.push(C[_e]),Gt[_e].charCodeAt(0)>>8&&(li=!0);C=Gt.join("")}for(_e=C.length;li===void 0&&_e!==0;)C.charCodeAt(_e-1)>>8&&(li=!0),_e--;if(!li)return C;for(Gt=V.noBOM?[]:[254,255],_e=0,Me=C.length;_e<Me;_e++){if((Pi=(Ii=C.charCodeAt(_e))>>8)>>8)throw new Error("Character at position "+_e+" of string '"+C+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Gt.push(Pi),Gt.push(Ii-(Pi<<8))}return String.fromCharCode.apply(void 0,Gt)},lo=x.__private__.pdfEscape=x.pdfEscape=function(C,V){return Mn(C,V).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ts=x.__private__.beginPage=function(C){at[++_r]=[],Ei[_r]={objId:0,contentsObjId:0,userUnit:Number(d),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(C[0]),topRightY:Number(C[1])}},ka(_r),et(at[j])},Ta=function(C,V){var _e,Me,Ve;switch(e=V||e,typeof C=="string"&&(_e=F(C.toLowerCase()),Array.isArray(_e)&&(Me=_e[0],Ve=_e[1])),Array.isArray(C)&&(Me=C[0]*zt,Ve=C[1]*zt),isNaN(Me)&&(Me=n[0],Ve=n[1]),(Me>14400||Ve>14400)&&(Rr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Me=Math.min(14400,Me),Ve=Math.min(14400,Ve)),n=[Me,Ve],e.substr(0,1)){case"l":Ve>Me&&(n=[Ve,Me]);break;case"p":Me>Ve&&(n=[Ve,Me])}Ts(n),$i(Zc),be(Ho),Qc!==0&&be(Qc+" J"),Wl!==0&&be(Wl+" j"),or.publish("addPage",{pageNumber:_r})},Gr=function(C){C>0&&C<=_r&&(at.splice(C,1),Ei.splice(C,1),_r--,j>_r&&(j=_r),this.setPage(j))},ka=function(C){C>0&&C<=_r&&(j=C)},ol=x.__private__.getNumberOfPages=x.getNumberOfPages=function(){return at.length-1},ks=function(C,V,_e){var Me,Ve=void 0;return _e=_e||{},C=C!==void 0?C:er[Ri].fontName,V=V!==void 0?V:er[Ri].fontStyle,Me=C.toLowerCase(),Pr[Me]!==void 0&&Pr[Me][V]!==void 0?Ve=Pr[Me][V]:Pr[C]!==void 0&&Pr[C][V]!==void 0?Ve=Pr[C][V]:_e.disableWarning===!1&&Rr.warn("Unable to look up font label for font '"+C+"', '"+V+"'. Refer to getFontList() for available fonts."),Ve||_e.noFallback||(Ve=Pr.times[V])==null&&(Ve=Pr.times.normal),Ve},Hc=x.__private__.putInfo=function(){var C=Hr(),V=function(Me){return Me};for(var _e in v!==null&&(V=_n.encryptor(C,0)),be("<<"),be("/Producer ("+lo(V("jsPDF "+oi.version))+")"),vi)vi.hasOwnProperty(_e)&&vi[_e]&&be("/"+_e.substr(0,1).toUpperCase()+_e.substr(1)+" ("+lo(V(vi[_e]))+")");be("/CreationDate ("+lo(V(Le))+")"),be(">>"),be("endobj")},is=x.__private__.putCatalog=function(C){var V=(C=C||{}).rootDictionaryObjId||oe;switch(Hr(),be("<<"),be("/Type /Catalog"),be("/Pages "+V+" 0 R"),Vt||(Vt="fullwidth"),Vt){case"fullwidth":be("/OpenAction [3 0 R /FitH null]");break;case"fullheight":be("/OpenAction [3 0 R /FitV null]");break;case"fullpage":be("/OpenAction [3 0 R /Fit]");break;case"original":be("/OpenAction [3 0 R /XYZ null null 1]");break;default:var _e=""+Vt;_e.substr(_e.length-1)==="%"&&(Vt=parseInt(Vt)/100),typeof Vt=="number"&&be("/OpenAction [3 0 R /XYZ null null "+Ce(Vt)+"]")}switch(ki||(ki="continuous"),ki){case"continuous":be("/PageLayout /OneColumn");break;case"single":be("/PageLayout /SinglePage");break;case"two":case"twoleft":be("/PageLayout /TwoColumnLeft");break;case"tworight":be("/PageLayout /TwoColumnRight")}ai&&be("/PageMode /"+ai),or.publish("putCatalog"),be(">>"),be("endobj")},Gc=x.__private__.putTrailer=function(){be("trailer"),be("<<"),be("/Size "+(le+1)),be("/Root "+le+" 0 R"),be("/Info "+(le-1)+" 0 R"),v!==null&&be("/Encrypt "+_n.oid+" 0 R"),be("/ID [ <"+Ie+"> <"+Ie+"> ]"),be(">>")},$c=x.__private__.putHeader=function(){be("%PDF-"+T),be("%\xBA\xDF\xAC\xE0")},Ul=x.__private__.putXRef=function(){var C="0000000000";be("xref"),be("0 "+(le+1)),be("0000000000 65535 f ");for(var V=1;V<=le;V++)typeof Pe[V]=="function"?be((C+Pe[V]()).slice(-10)+" 00000 n "):Pe[V]!==void 0?be((C+Pe[V]).slice(-10)+" 00000 n "):be("0000000000 00000 n ")},ca=x.__private__.buildDocument=function(){Lt(),et(Ne),or.publish("buildDocument"),$c(),He(),Bl(),ts(),v!==null&&Ma(),Hc(),is();var C=Ae;return Ul(),Gc(),be("startxref"),be(""+C),be("%%EOF"),et(at[j]),Ne.join(`
`)},As=x.__private__.getBlob=function(C){return new Blob([Wt(C)],{type:"application/pdf"})},rs=x.output=x.__private__.output=so(function(C,V){switch(typeof(V=V||{})=="string"?V={filename:V}:V.filename=V.filename||"generated.pdf",C){case void 0:return ca();case"save":x.save(V.filename);break;case"arraybuffer":return Wt(ca());case"blob":return As(ca());case"bloburi":case"bloburl":if(Si.URL!==void 0&&typeof Si.URL.createObjectURL=="function")return Si.URL&&Si.URL.createObjectURL(As(ca()))||void 0;Rr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var _e="",Me=ca();try{_e=c_(Me)}catch{_e=c_(unescape(encodeURIComponent(Me)))}return"data:application/pdf;filename="+V.filename+";base64,"+_e;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Si)==="[object Window]"){var Ve="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",it=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';V.pdfObjectUrl&&(Ve=V.pdfObjectUrl,it="");var ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ve+'"'+it+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(V)+");<\/script></body></html>",Gt=Si.open();return Gt!==null&&Gt.document.write(ut),Gt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Si)==="[object Window]"){var li='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(V.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+V.filename+'" width="500px" height="400px" /></body></html>',Ii=Si.open();if(Ii!==null){Ii.document.write(li);var Pi=this;Ii.document.documentElement.querySelector("#pdfViewer").onload=function(){Ii.document.title=V.filename,Ii.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Pi.output("bloburl"))}}return Ii}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Si)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Zi='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",V)+'"></iframe></body></html>',jr=Si.open();if(jr!==null&&(jr.document.write(Zi),jr.document.title=V.filename),jr||typeof safari>"u")return jr;break;case"datauri":case"dataurl":return Si.document.location.href=this.output("datauristring",V);default:return null}}),Xc=function(C){return Array.isArray(es)===!0&&es.indexOf(C)>-1};switch(r){case"pt":zt=1;break;case"mm":zt=72/25.4;break;case"cm":zt=72/2.54;break;case"in":zt=72;break;case"px":zt=Xc("px_scaling")==1?.75:96/72;break;case"pc":case"em":zt=12;break;case"ex":zt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);zt=r}var _n=null;St(),ke();var du=function(C){return v!==null?_n.encryptor(C,0):function(V){return V}},Mi=x.__private__.getPageInfo=x.getPageInfo=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ei[C].objId,pageNumber:C,pageContext:Ei[C]}},fi=x.__private__.getPageInfoByObjId=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var V in Ei)if(Ei[V].objId===C)break;return Mi(V)},mr=x.__private__.getCurrentPageInfo=x.getCurrentPageInfo=function(){return{objId:Ei[j].objId,pageNumber:j,pageContext:Ei[j]}};x.addPage=function(){return Ta.apply(this,arguments),this},x.setPage=function(){return ka.apply(this,arguments),et.call(this,at[j]),this},x.insertPage=function(C){return this.addPage(),this.movePage(j,C),this},x.movePage=function(C,V){var _e,Me;if(C>V){_e=at[C],Me=Ei[C];for(var Ve=C;Ve>V;Ve--)at[Ve]=at[Ve-1],Ei[Ve]=Ei[Ve-1];at[V]=_e,Ei[V]=Me,this.setPage(V)}else if(C<V){_e=at[C],Me=Ei[C];for(var it=C;it<V;it++)at[it]=at[it+1],Ei[it]=Ei[it+1];at[V]=_e,Ei[V]=Me,this.setPage(V)}return this},x.deletePage=function(){return Gr.apply(this,arguments),this},x.__private__.text=x.text=function(C,V,_e,Me,Ve){var it,ut,Gt,li,Ii,Pi,Zi,jr,$r,Qr=(Me=Me||{}).scope||this;if(typeof C=="number"&&typeof V=="number"&&(typeof _e=="string"||Array.isArray(_e))){var On=_e;_e=V,V=C,C=On}if(arguments[3]instanceof mi?(re("The transform parameter of text() with a Matrix value"),$r=Ve):(Gt=arguments[4],li=arguments[5],Ir(Zi=arguments[3])==="object"&&Zi!==null||(typeof Gt=="string"&&(li=Gt,Gt=null),typeof Zi=="string"&&(li=Zi,Zi=null),typeof Zi=="number"&&(Gt=Zi,Zi=null),Me={flags:Zi,angle:Gt,align:li})),isNaN(V)||isNaN(_e)||C==null)throw new Error("Invalid arguments passed to jsPDF.text");if(C.length===0)return Qr;var hr="",Fn=!1,Po=typeof Me.lineHeightFactor=="number"?Me.lineHeightFactor:os,bn=Qr.internal.scaleFactor;function Jd(kr){return kr=kr.split("	").join(Array(Me.TabLen||9).join(" ")),lo(kr,Zi)}function Ia(kr){for(var ir,Zr=kr.concat(),an=[],Io=Zr.length;Io--;)typeof(ir=Zr.shift())=="string"?an.push(ir):Array.isArray(kr)&&(ir.length===1||ir[1]===void 0&&ir[2]===void 0)?an.push(ir[0]):an.push([ir[0],ir[1],ir[2]]);return an}function id(kr,ir){var Zr;if(typeof kr=="string")Zr=ir(kr)[0];else if(Array.isArray(kr)){for(var an,Io,od=kr.concat(),ds=[],qs=od.length;qs--;)typeof(an=od.shift())=="string"?ds.push(ir(an)[0]):Array.isArray(an)&&typeof an[0]=="string"&&(Io=ir(an[0],an[1],an[2]),ds.push([Io[0],Io[1],Io[2]]));Zr=ds}return Zr}var Oa=!1,Gl=!0;if(typeof C=="string")Oa=!0;else if(Array.isArray(C)){var Ls=C.concat();ut=[];for(var $l,Br=Ls.length;Br--;)(typeof($l=Ls.shift())!="string"||Array.isArray($l)&&typeof $l[0]!="string")&&(Gl=!1);Oa=Gl}if(Oa===!1)throw new Error('Type of text must be string or Array. "'+C+'" is not recognized.');typeof C=="string"&&(C=C.match(/[\r?\n]/)?C.split(/\r\n|\r|\n/g):[C]);var ss=Ft/Qr.internal.scaleFactor,Xl=ss*(Po-1);switch(Me.baseline){case"bottom":_e-=Xl;break;case"top":_e+=ss-Xl;break;case"hanging":_e+=ss-2*Xl;break;case"middle":_e+=ss/2-Xl}if((Pi=Me.maxWidth||0)>0&&(typeof C=="string"?C=Qr.splitTextToSize(C,Pi):Object.prototype.toString.call(C)==="[object Array]"&&(C=C.reduce(function(kr,ir){return kr.concat(Qr.splitTextToSize(ir,Pi))},[]))),it={text:C,x:V,y:_e,options:Me,mutex:{pdfEscape:lo,activeFontKey:Ri,fonts:er,activeFontSize:Ft}},or.publish("preProcessText",it),C=it.text,Gt=(Me=it.options).angle,!($r instanceof mi)&&Gt&&typeof Gt=="number"){Gt*=Math.PI/180,Me.rotationDirection===0&&(Gt=-Gt),Y===U.ADVANCED&&(Gt=-Gt);var Ds=Math.cos(Gt),rd=Math.sin(Gt);$r=new mi(Ds,rd,-rd,Ds,0,0)}else Gt&&Gt instanceof mi&&($r=Gt);Y!==U.ADVANCED||$r||($r=Vr),(Ii=Me.charSpace||zl)!==void 0&&(hr+=ne(G(Ii))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(jr=Me.horizontalScale)!==void 0&&(hr+=ne(100*jr)+` Tz
`),Me.lang;var Xr=-1,uu=Me.renderingMode!==void 0?Me.renderingMode:Me.stroke,Fa=Qr.internal.getCurrentPageInfo().pageContext;switch(uu){case 0:case!1:case"fill":Xr=0;break;case 1:case!0:case"stroke":Xr=1;break;case 2:case"fillThenStroke":Xr=2;break;case 3:case"invisible":Xr=3;break;case 4:case"fillAndAddForClipping":Xr=4;break;case 5:case"strokeAndAddPathForClipping":Xr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Xr=6;break;case 7:case"addToPathForClipping":Xr=7}var Qd=Fa.usedRenderingMode!==void 0?Fa.usedRenderingMode:-1;Xr!==-1?hr+=Xr+` Tr
`:Qd!==-1&&(hr+=`0 Tr
`),Xr!==-1&&(Fa.usedRenderingMode=Xr),li=Me.align||"left";var nn,ls=Ft*Po,nd=Qr.internal.pageSize.getWidth(),Zl=er[Ri];Ii=Me.charSpace||zl,Pi=Me.maxWidth||0,Zi=Object.assign({autoencode:!0,noBOM:!0},Me.flags);var pa=[],cs=function(kr){return Qr.getStringUnitWidth(kr,{font:Zl,charSpace:Ii,fontSize:Ft,doKerning:!1})*Ft/bn};if(Object.prototype.toString.call(C)==="[object Array]"){var Tn;ut=Ia(C),li!=="left"&&(nn=ut.map(cs));var on,fa=0;if(li==="right"){V-=nn[0],C=[],Br=ut.length;for(var ma=0;ma<Br;ma++)ma===0?(on=da(V),Tn=as(_e)):(on=G(fa-nn[ma]),Tn=-ls),C.push([ut[ma],on,Tn]),fa=nn[ma]}else if(li==="center"){V-=nn[0]/2,C=[],Br=ut.length;for(var Na=0;Na<Br;Na++)Na===0?(on=da(V),Tn=as(_e)):(on=G((fa-nn[Na])/2),Tn=-ls),C.push([ut[Na],on,Tn]),fa=nn[Na]}else if(li==="left"){C=[],Br=ut.length;for(var Yl=0;Yl<Br;Yl++)C.push(ut[Yl])}else if(li==="justify"&&Zl.encoding==="Identity-H"){C=[],Br=ut.length,Pi=Pi!==0?Pi:nd;for(var $o=0,en=0;en<Br;en++)if(Tn=en===0?as(_e):-ls,on=en===0?da(V):$o,en<Br-1){var Kl=G((Pi-nn[en])/(ut[en].split(" ").length-1)),$n=ut[en].split(" ");C.push([$n[0]+" ",on,Tn]),$o=0;for(var Mo=1;Mo<$n.length;Mo++){var Jl=(cs($n[Mo-1]+" "+$n[Mo])-cs($n[Mo]))*bn+Kl;Mo==$n.length-1?C.push([$n[Mo],Jl,0]):C.push([$n[Mo]+" ",Jl,0]),$o-=Jl}}else C.push([ut[en],on,Tn]);C.push(["",$o,0])}else{if(li!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(C=[],Br=ut.length,Pi=Pi!==0?Pi:nd,en=0;en<Br;en++)Tn=en===0?as(_e):-ls,on=en===0?da(V):0,en<Br-1?pa.push(ne(G((Pi-nn[en])/(ut[en].split(" ").length-1)))):pa.push(0),C.push([ut[en],on,Tn])}}var To=typeof Me.R2L=="boolean"?Me.R2L:ni;To===!0&&(C=id(C,function(kr,ir,Zr){return[kr.split("").reverse().join(""),ir,Zr]})),it={text:C,x:V,y:_e,options:Me,mutex:{pdfEscape:lo,activeFontKey:Ri,fonts:er,activeFontSize:Ft}},or.publish("postProcessText",it),C=it.text,Fn=it.mutex.isHex||!1;var Rs=er[Ri].encoding;Rs!=="WinAnsiEncoding"&&Rs!=="StandardEncoding"||(C=id(C,function(kr,ir,Zr){return[Jd(kr),ir,Zr]})),ut=Ia(C),C=[];for(var ml,La,Bs,Us=0,Ql=1,ha=Array.isArray(ut[0])?Ql:Us,Vs="",Da=function(kr,ir,Zr){var an="";return Zr instanceof mi?(Zr=typeof Me.angle=="number"?Eo(Zr,new mi(1,0,0,1,kr,ir)):Eo(new mi(1,0,0,1,kr,ir),Zr),Y===U.ADVANCED&&(Zr=Eo(new mi(1,0,0,-1,0,0),Zr)),an=Zr.join(" ")+` Tm
`):an=ne(kr)+" "+ne(ir)+` Td
`,an},ko=0;ko<ut.length;ko++){switch(Vs="",ha){case Ql:Bs=(Fn?"<":"(")+ut[ko][0]+(Fn?">":")"),ml=parseFloat(ut[ko][1]),La=parseFloat(ut[ko][2]);break;case Us:Bs=(Fn?"<":"(")+ut[ko]+(Fn?">":")"),ml=da(V),La=as(_e)}pa!==void 0&&pa[ko]!==void 0&&(Vs=pa[ko]+` Tw
`),ko===0?C.push(Vs+Da(ml,La,$r)+Bs):ha===Us?C.push(Vs+Bs):ha===Ql&&C.push(Vs+Da(ml,La,$r)+Bs)}C=ha===Us?C.join(` Tj
T* `):C.join(` Tj
`),C+=` Tj
`;var Ao=`BT
/`;return Ao+=Ri+" "+Ft+` Tf
`,Ao+=ne(Ft*Po)+` TL
`,Ao+=cl+`
`,Ao+=hr,Ao+=C,be(Ao+="ET"),w[Ri]=!0,Qr};var $d=x.__private__.clip=x.clip=function(C){return be(C==="evenodd"?"W*":"W"),this};x.clipEvenOdd=function(){return $d("evenodd")},x.__private__.discardPath=x.discardPath=function(){return be("n"),this};var zo=x.__private__.isValidStyle=function(C){var V=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(C)!==-1&&(V=!0),V};x.__private__.setDefaultPathOperation=x.setDefaultPathOperation=function(C){return zo(C)&&(m=C),this};var Vl=x.__private__.getStyle=x.getStyle=function(C){var V=m;switch(C){case"D":case"S":V="S";break;case"F":V="f";break;case"FD":case"DF":V="B";break;case"f":case"f*":case"B":case"B*":V=C}return V},ql=x.close=function(){return be("h"),this};x.stroke=function(){return be("S"),this},x.fill=function(C){return Wo("f",C),this},x.fillEvenOdd=function(C){return Wo("f*",C),this},x.fillStroke=function(C){return Wo("B",C),this},x.fillStrokeEvenOdd=function(C){return Wo("B*",C),this};var Wo=function(C,V){Ir(V)==="object"?fn(V,C):be(C)},al=function(C){C===null||Y===U.ADVANCED&&C===void 0||(C=Vl(C),be(C))};function sl(C,V,_e,Me,Ve){var it=new nu(V||this.boundingBox,_e||this.xStep,Me||this.yStep,this.gState,Ve||this.matrix);it.stream=this.stream;var ut=C+"$$"+this.cloneIndex+++"$$";return $t(ut,it),it}var fn=function(C,V){var _e=sa[C.key],Me=tr[_e];if(Me instanceof Wd)be("q"),be(ns(V)),Me.gState&&x.setGState(Me.gState),be(C.matrix.toString()+" cm"),be("/"+_e+" sh"),be("Q");else if(Me instanceof nu){var Ve=new mi(1,0,0,-1,0,Aa());C.matrix&&(Ve=Ve.multiply(C.matrix||Vr),_e=sl.call(Me,C.key,C.boundingBox,C.xStep,C.yStep,Ve).id),be("q"),be("/Pattern cs"),be("/"+_e+" scn"),Me.gState&&x.setGState(Me.gState),be(V),be("Q")}},ns=function(C){switch(C){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},jl=x.moveTo=function(C,V){return be(ne(G(C))+" "+ne(ye(V))+" m"),this},Is=x.lineTo=function(C,V){return be(ne(G(C))+" "+ne(ye(V))+" l"),this},Os=x.curveTo=function(C,V,_e,Me,Ve,it){return be([ne(G(C)),ne(ye(V)),ne(G(_e)),ne(ye(Me)),ne(G(Ve)),ne(ye(it)),"c"].join(" ")),this};x.__private__.line=x.line=function(C,V,_e,Me,Ve){if(isNaN(C)||isNaN(V)||isNaN(_e)||isNaN(Me)||!zo(Ve))throw new Error("Invalid arguments passed to jsPDF.line");return Y===U.COMPAT?this.lines([[_e-C,Me-V]],C,V,[1,1],Ve||"S"):this.lines([[_e-C,Me-V]],C,V,[1,1]).stroke()},x.__private__.lines=x.lines=function(C,V,_e,Me,Ve,it){var ut,Gt,li,Ii,Pi,Zi,jr,$r,Qr,On,hr,Fn;if(typeof C=="number"&&(Fn=_e,_e=V,V=C,C=Fn),Me=Me||[1,1],it=it||!1,isNaN(V)||isNaN(_e)||!Array.isArray(C)||!Array.isArray(Me)||!zo(Ve)||typeof it!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(jl(V,_e),ut=Me[0],Gt=Me[1],Ii=C.length,On=V,hr=_e,li=0;li<Ii;li++)(Pi=C[li]).length===2?(On=Pi[0]*ut+On,hr=Pi[1]*Gt+hr,Is(On,hr)):(Zi=Pi[0]*ut+On,jr=Pi[1]*Gt+hr,$r=Pi[2]*ut+On,Qr=Pi[3]*Gt+hr,On=Pi[4]*ut+On,hr=Pi[5]*Gt+hr,Os(Zi,jr,$r,Qr,On,hr));return it&&ql(),al(Ve),this},x.path=function(C){for(var V=0;V<C.length;V++){var _e=C[V],Me=_e.c;switch(_e.op){case"m":jl(Me[0],Me[1]);break;case"l":Is(Me[0],Me[1]);break;case"c":Os.apply(this,Me);break;case"h":ql()}}return this},x.__private__.rect=x.rect=function(C,V,_e,Me,Ve){if(isNaN(C)||isNaN(V)||isNaN(_e)||isNaN(Me)||!zo(Ve))throw new Error("Invalid arguments passed to jsPDF.rect");return Y===U.COMPAT&&(Me=-Me),be([ne(G(C)),ne(ye(V)),ne(G(_e)),ne(G(Me)),"re"].join(" ")),al(Ve),this},x.__private__.triangle=x.triangle=function(C,V,_e,Me,Ve,it,ut){if(isNaN(C)||isNaN(V)||isNaN(_e)||isNaN(Me)||isNaN(Ve)||isNaN(it)||!zo(ut))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[_e-C,Me-V],[Ve-_e,it-Me],[C-Ve,V-it]],C,V,[1,1],ut,!0),this},x.__private__.roundedRect=x.roundedRect=function(C,V,_e,Me,Ve,it,ut){if(isNaN(C)||isNaN(V)||isNaN(_e)||isNaN(Me)||isNaN(Ve)||isNaN(it)||!zo(ut))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Gt=4/3*(Math.SQRT2-1);return Ve=Math.min(Ve,.5*_e),it=Math.min(it,.5*Me),this.lines([[_e-2*Ve,0],[Ve*Gt,0,Ve,it-it*Gt,Ve,it],[0,Me-2*it],[0,it*Gt,-Ve*Gt,it,-Ve,it],[2*Ve-_e,0],[-Ve*Gt,0,-Ve,-it*Gt,-Ve,-it],[0,2*it-Me],[0,-it*Gt,Ve*Gt,-it,Ve,-it]],C+Ve,V,[1,1],ut,!0),this},x.__private__.ellipse=x.ellipse=function(C,V,_e,Me,Ve){if(isNaN(C)||isNaN(V)||isNaN(_e)||isNaN(Me)||!zo(Ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var it=4/3*(Math.SQRT2-1)*_e,ut=4/3*(Math.SQRT2-1)*Me;return jl(C+_e,V),Os(C+_e,V-ut,C+it,V-Me,C,V-Me),Os(C-it,V-Me,C-_e,V-ut,C-_e,V),Os(C-_e,V+ut,C-it,V+Me,C,V+Me),Os(C+it,V+Me,C+_e,V+ut,C+_e,V),al(Ve),this},x.__private__.circle=x.circle=function(C,V,_e,Me){if(isNaN(C)||isNaN(V)||isNaN(_e)||!zo(Me))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(C,V,_e,_e,Me)},x.setFont=function(C,V,_e){return _e&&(V=Ue(V,_e)),Ri=ks(C,V,{disableWarning:!1}),this};var Xd=x.__private__.getFont=x.getFont=function(){return er[ks.apply(x,arguments)]};x.__private__.getFontList=x.getFontList=function(){var C,V,_e={};for(C in Pr)if(Pr.hasOwnProperty(C))for(V in _e[C]=[],Pr[C])Pr[C].hasOwnProperty(V)&&_e[C].push(V);return _e},x.addFont=function(C,V,_e,Me,Ve){var it=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&it.indexOf(arguments[3])!==-1?Ve=arguments[3]:arguments[3]&&it.indexOf(arguments[3])==-1&&(_e=Ue(_e,Me)),Ve=Ve||"Identity-H",Nr.call(this,C,V,_e,Ve)};var os,Zc=i.lineWidth||.200025,ll=x.__private__.getLineWidth=x.getLineWidth=function(){return Zc},$i=x.__private__.setLineWidth=x.setLineWidth=function(C){return Zc=C,be(ne(G(C))+" w"),this};x.__private__.setLineDash=oi.API.setLineDash=oi.API.setLineDashPattern=function(C,V){if(C=C||[],V=V||0,isNaN(V)||!Array.isArray(C))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return C=C.map(function(_e){return ne(G(_e))}).join(" "),V=ne(G(V)),be("["+C+"] "+V+" d"),this};var Zd=x.__private__.getLineHeight=x.getLineHeight=function(){return Ft*os};x.__private__.getLineHeight=x.getLineHeight=function(){return Ft*os};var co=x.__private__.setLineHeightFactor=x.setLineHeightFactor=function(C){return typeof(C=C||1.15)=="number"&&(os=C),this},Fs=x.__private__.getLineHeightFactor=x.getLineHeightFactor=function(){return os};co(i.lineHeight);var da=x.__private__.getHorizontalCoordinate=function(C){return G(C)},as=x.__private__.getVerticalCoordinate=function(C){return Y===U.ADVANCED?C:Ei[j].mediaBox.topRightY-Ei[j].mediaBox.bottomLeftY-G(C)},Yc=x.__private__.getHorizontalCoordinateString=x.getHorizontalCoordinateString=function(C){return ne(da(C))},Ns=x.__private__.getVerticalCoordinateString=x.getVerticalCoordinateString=function(C){return ne(as(C))},Ho=i.strokeColor||"0 G";x.__private__.getStrokeColor=x.getDrawColor=function(){return me(Ho)},x.__private__.setStrokeColor=x.setDrawColor=function(C,V,_e,Me){return Ho=ge({ch1:C,ch2:V,ch3:_e,ch4:Me,pdfColorType:"draw",precision:2}),be(Ho),this};var Kc=i.fillColor||"0 g";x.__private__.getFillColor=x.getFillColor=function(){return me(Kc)},x.__private__.setFillColor=x.setFillColor=function(C,V,_e,Me){return Kc=ge({ch1:C,ch2:V,ch3:_e,ch4:Me,pdfColorType:"fill",precision:2}),be(Kc),this};var cl=i.textColor||"0 g",Jc=x.__private__.getTextColor=x.getTextColor=function(){return me(cl)};x.__private__.setTextColor=x.setTextColor=function(C,V,_e,Me){return cl=ge({ch1:C,ch2:V,ch3:_e,ch4:Me,pdfColorType:"text",precision:3}),this};var zl=i.charSpace,Go=x.__private__.getCharSpace=x.getCharSpace=function(){return parseFloat(zl||0)};x.__private__.setCharSpace=x.setCharSpace=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return zl=C,this};var Qc=0;x.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},x.__private__.setLineCap=x.setLineCap=function(C){var V=x.CapJoinStyles[C];if(V===void 0)throw new Error("Line cap style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qc=V,be(V+" J"),this};var Wl=0;x.__private__.setLineJoin=x.setLineJoin=function(C){var V=x.CapJoinStyles[C];if(V===void 0)throw new Error("Line join style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Wl=V,be(V+" j"),this},x.__private__.setLineMiterLimit=x.__private__.setMiterLimit=x.setLineMiterLimit=x.setMiterLimit=function(C){if(C=C||0,isNaN(C))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return be(ne(G(C))+" M"),this},x.GState=Wh,x.setGState=function(C){(C=typeof C=="string"?Mr[So[C]]:ua(null,C)).equals(la)||(be("/"+C.id+" gs"),la=C)};var ua=function(C,V){if(!C||!So[C]){var _e=!1;for(var Me in Mr)if(Mr.hasOwnProperty(Me)&&Mr[Me].equals(V)){_e=!0;break}if(_e)V=Mr[Me];else{var Ve="GS"+(Object.keys(Mr).length+1).toString(10);Mr[Ve]=V,V.id=Ve}return C&&(So[C]=V.id),or.publish("addGState",V),V}};x.addGState=function(C,V){return ua(C,V),this},x.saveGraphicsState=function(){return be("q"),Vo.push({key:Ri,size:Ft,color:cl}),this},x.restoreGraphicsState=function(){be("Q");var C=Vo.pop();return Ri=C.key,Ft=C.size,cl=C.color,la=null,this},x.setCurrentTransformationMatrix=function(C){return be(C.toString()+" cm"),this},x.comment=function(C){return be("#"+C),this};var dl=function(C,V){var _e=C||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return _e},set:function(it){isNaN(it)||(_e=parseFloat(it))}});var Me=V||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Me},set:function(it){isNaN(it)||(Me=parseFloat(it))}});var Ve="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ve},set:function(it){Ve=it.toString()}}),this},Hl=function(C,V,_e,Me){dl.call(this,C,V),this.type="rect";var Ve=_e||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ve},set:function(ut){isNaN(ut)||(Ve=parseFloat(ut))}});var it=Me||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return it},set:function(ut){isNaN(ut)||(it=parseFloat(ut))}}),this},ul=function(){this.page=_r,this.currentPage=j,this.pages=at.slice(0),this.pagesContext=Ei.slice(0),this.x=Yr,this.y=Xi,this.matrix=oo,this.width=fl(j),this.height=Aa(j),this.outputDestination=At,this.id="",this.objectNumber=-1};ul.prototype.restore=function(){_r=this.page,j=this.currentPage,Ei=this.pagesContext,at=this.pages,Yr=this.x,Xi=this.y,oo=this.matrix,ed(j,this.width),td(j,this.height),At=this.outputDestination};var Yd=function(C,V,_e,Me,Ve){jo.push(new ul),_r=j=0,at=[],Yr=C,Xi=V,oo=Ve,Ts([_e,Me])},Kd=function(C){if(qo[C])jo.pop().restore();else{var V=new ul,_e="Xo"+(Object.keys(Kr).length+1).toString(10);V.id=_e,qo[C]=_e,Kr[_e]=V,or.publish("addFormObject",V),jo.pop().restore()}};for(var pl in x.beginFormObject=function(C,V,_e,Me,Ve){return Yd(C,V,_e,Me,Ve),this},x.endFormObject=function(C){return Kd(C),this},x.doFormObject=function(C,V){var _e=Kr[qo[C]];return be("q"),be(V.toString()+" cm"),be("/"+_e.id+" Do"),be("Q"),this},x.getFormObject=function(C){var V=Kr[qo[C]];return{x:V.x,y:V.y,width:V.width,height:V.height,matrix:V.matrix}},x.save=function(C,V){return C=C||"generated.pdf",(V=V||{}).returnPromise=V.returnPromise||!1,V.returnPromise===!1?(zd(As(ca()),C),typeof zd.unload=="function"&&Si.setTimeout&&setTimeout(zd.unload,911),this):new Promise(function(_e,Me){try{var Ve=zd(As(ca()),C);typeof zd.unload=="function"&&Si.setTimeout&&setTimeout(zd.unload,911),_e(Ve)}catch(it){Me(it.message)}})},oi.API)oi.API.hasOwnProperty(pl)&&(pl==="events"&&oi.API.events.length?function(C,V){var _e,Me,Ve;for(Ve=V.length-1;Ve!==-1;Ve--)_e=V[Ve][0],Me=V[Ve][1],C.subscribe.apply(C,[_e].concat(typeof Me=="function"?[Me]:Me))}(or,oi.API.events):x[pl]=oi.API[pl]);var fl=x.getPageWidth=function(C){return(Ei[C=C||j].mediaBox.topRightX-Ei[C].mediaBox.bottomLeftX)/zt},ed=x.setPageWidth=function(C,V){Ei[C].mediaBox.topRightX=V*zt+Ei[C].mediaBox.bottomLeftX},Aa=x.getPageHeight=function(C){return(Ei[C=C||j].mediaBox.topRightY-Ei[C].mediaBox.bottomLeftY)/zt},td=x.setPageHeight=function(C,V){Ei[C].mediaBox.topRightY=V*zt+Ei[C].mediaBox.bottomLeftY};return x.internal={pdfEscape:lo,getStyle:Vl,getFont:Xd,getFontSize:qt,getCharSpace:Go,getTextColor:Jc,getLineHeight:Zd,getLineHeightFactor:Fs,getLineWidth:ll,write:gt,getHorizontalCoordinate:da,getVerticalCoordinate:as,getCoordinateString:Yc,getVerticalCoordinateString:Ns,collections:{},newObject:Hr,newAdditionalObject:he,newObjectDeferred:qr,newObjectDeferredBegin:X,getFilters:ze,putStream:tt,events:or,scaleFactor:zt,pageSize:{getWidth:function(){return fl(j)},setWidth:function(C){ed(j,C)},getHeight:function(){return Aa(j)},setHeight:function(C){td(j,C)}},encryptionOptions:v,encryption:_n,getEncryptor:du,output:rs,getNumberOfPages:ol,pages:at,out:be,f2:Ce,f3:W,getPageInfo:Mi,getPageInfoByObjId:fi,getCurrentPageInfo:mr,getPDFVersion:E,Point:dl,Rectangle:Hl,Matrix:mi,hasHotfix:Xc},Object.defineProperty(x.internal.pageSize,"width",{get:function(){return fl(j)},set:function(C){ed(j,C)},enumerable:!0,configurable:!0}),Object.defineProperty(x.internal.pageSize,"height",{get:function(){return Aa(j)},set:function(C){td(j,C)},enumerable:!0,configurable:!0}),Wc.call(x,vt),Ri="F1",Ta(n,e),or.publish("initialized"),x}iu.prototype.lsbFirstWord=function(i){return String.fromCharCode(i>>0&255,i>>8&255,i>>16&255,i>>24&255)},iu.prototype.toHexString=function(i){return i.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},iu.prototype.hexToBytes=function(i){for(var t=[],e=0;e<i.length;e+=2)t.push(String.fromCharCode(parseInt(i.substr(e,2),16)));return t.join("")},iu.prototype.processOwnerPassword=function(i,t){return u_(d_(t).substr(0,5),i)},iu.prototype.encryptor=function(i,t){var e=d_(this.encryptionKey+String.fromCharCode(255&i,i>>8&255,i>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return u_(e,r)}},Wh.prototype.equals=function(i){var t,e="id,objectNumber,equals";if(!i||Ir(i)!==Ir(this))return!1;var r=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!i.hasOwnProperty(t)||this[t]!==i[t])return!1;r++}for(t in i)i.hasOwnProperty(t)&&e.indexOf(t)<0&&r--;return r===0},oi.API={events:[]},oi.version="3.0.1";var pn=oi.API,h_=1,Gd=function(i){return i.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},eu=function(i){return i.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Li=function(i){return i.toFixed(2)},qc=function(i){return i.toFixed(5)};pn.__acroform__={};var aa=function(i,t){i.prototype=Object.create(t.prototype),i.prototype.constructor=i},Ew=function(i){return i*h_},il=function(i){var t=new jw,e=ti.internal.getHeight(i)||0,r=ti.internal.getWidth(i)||0;return t.BBox=[0,0,Number(Li(r)),Number(Li(e))],t},F9=pn.__acroform__.setBit=function(i,t){if(i=i||0,t=t||0,isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return i|=1<<t},N9=pn.__acroform__.clearBit=function(i,t){if(i=i||0,t=t||0,isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return i&=~(1<<t)},L9=pn.__acroform__.getBit=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return i&1<<t?1:0},hn=pn.__acroform__.getBitForPdf=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return L9(i,t-1)},gn=pn.__acroform__.setBitForPdf=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return F9(i,t-1)},vn=pn.__acroform__.clearBitForPdf=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return N9(i,t-1)},D9=pn.__acroform__.calculateCoordinates=function(i,t){var e=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,n=i[0],o=i[1],a=i[2],d=i[3],u={};return u.lowerLeft_X=e(n)||0,u.lowerLeft_Y=r(o+d)||0,u.upperRight_X=e(n+a)||0,u.upperRight_Y=r(o)||0,[Number(Li(u.lowerLeft_X)),Number(Li(u.lowerLeft_Y)),Number(Li(u.upperRight_X)),Number(Li(u.upperRight_Y))]},R9=function(i){if(i.appearanceStreamContent)return i.appearanceStreamContent;if(i.V||i.DV){var t=[],e=i._V||i.DV,r=p_(i,e),n=i.scope.internal.getFont(i.fontName,i.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(i.scope.__private__.encodeColorString(i.color)),t.push("/"+n+" "+Li(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=il(i);return o.scope=i.scope,o.stream=t.join(`
`),o}},p_=function(i,t){var e=i.fontSize===0?i.maxFontSize:i.fontSize,r={text:"",fontSize:""},n=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");n=i.multiline?n.map(function(W){return W.split(`
`)}):n.map(function(W){return[W]});var o=e,a=ti.internal.getHeight(i)||0;a=a<0?-a:a;var d=ti.internal.getWidth(i)||0;d=d<0?-d:d;var u=function(W,G,xe){if(W+1<n.length){var ye=G+" "+n[W+1][0];return Rh(ye,i,xe).width<=d-4}return!1};o++;e:for(;o>0;){t="",o--;var m,v,y=Rh("3",i,o).height,w=i.multiline?a-o:(a-y)/2,x=w+=2,T=0,E=0,k=0;if(o<=0){t=`(...) Tj
`,t+="% Width of Text: "+Rh(t,i,o=12).width+", FieldWidth:"+d+`
`;break}for(var F="",U=0,Y=0;Y<n.length;Y++)if(n.hasOwnProperty(Y)){var ve=!1;if(n[Y].length!==1&&k!==n[Y].length-1){if((y+2)*(U+2)+2>a)continue e;F+=n[Y][k],ve=!0,E=Y,Y--}else{F=(F+=n[Y][k]+" ").substr(F.length-1)==" "?F.substr(0,F.length-1):F;var we=parseInt(Y),Ue=u(we,F,o),ne=Y>=n.length-1;if(Ue&&!ne){F+=" ",k=0;continue}if(Ue||ne){if(ne)E=we;else if(i.multiline&&(y+2)*(U+2)+2>a)continue e}else{if(!i.multiline||(y+2)*(U+2)+2>a)continue e;E=we}}for(var re="",ce=T;ce<=E;ce++){var Ce=n[ce];if(i.multiline){if(ce===E){re+=Ce[k]+" ",k=(k+1)%Ce.length;continue}if(ce===T){re+=Ce[Ce.length-1]+" ";continue}}re+=Ce[0]+" "}switch(re=re.substr(re.length-1)==" "?re.substr(0,re.length-1):re,v=Rh(re,i,o).width,i.textAlign){case"right":m=d-v-2;break;case"center":m=(d-v)/2;break;case"left":default:m=2}t+=Li(m)+" "+Li(x)+` Td
`,t+="("+Gd(re)+`) Tj
`,t+=-Li(m)+` 0 Td
`,x=-(o+2),v=0,T=ve?E:E+1,U++,F=""}break}return r.text=t,r.fontSize=o,r},Rh=function(i,t,e){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),n=t.scope.getStringUnitWidth(i,{font:r,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:n}},B9={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},U9=function(i,t){var e={type:"reference",object:i};t.internal.getPageInfo(i.page).pageContext.annotations.find(function(r){return r.type===e.type&&r.object===e.object})===void 0&&t.internal.getPageInfo(i.page).pageContext.annotations.push(e)},V9=function(i,t){for(var e in i)if(i.hasOwnProperty(e)){var r=e,n=i[e];t.internal.newObjectDeferredBegin(n.objId,!0),Ir(n)==="object"&&typeof n.putStream=="function"&&n.putStream(),delete i[r]}},q9=function(i,t){if(t.scope=i,i.internal!==void 0&&(i.internal.acroformPlugin===void 0||i.internal.acroformPlugin.isInitialized===!1)){if(Ps.FieldNum=0,i.internal.acroformPlugin=JSON.parse(JSON.stringify(B9)),i.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");h_=i.internal.scaleFactor,i.internal.acroformPlugin.acroFormDictionaryRoot=new zw,i.internal.acroformPlugin.acroFormDictionaryRoot.scope=i,i.internal.acroformPlugin.acroFormDictionaryRoot._eventID=i.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(i)}),i.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in r)if(r.hasOwnProperty(n)){var o=r[n];o.objId=void 0,o.hasAnnotation&&U9(o,e)}})(i)}),i.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(i)}),i.internal.events.subscribe("postPutPages",function(e){(function(r,n){var o=!r;for(var a in r||(n.internal.newObjectDeferredBegin(n.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),n.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||n.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var d=r[a],u=[],m=d.Rect;if(d.Rect&&(d.Rect=D9(d.Rect,n)),n.internal.newObjectDeferredBegin(d.objId,!0),d.DA=ti.createDefaultAppearanceStream(d),Ir(d)==="object"&&typeof d.getKeyValueListForStream=="function"&&(u=d.getKeyValueListForStream()),d.Rect=m,d.hasAppearanceStream&&!d.appearanceStreamContent){var v=R9(d);u.push({key:"AP",value:"<</N "+v+">>"}),n.internal.acroformPlugin.xForms.push(v)}if(d.appearanceStreamContent){var y="";for(var w in d.appearanceStreamContent)if(d.appearanceStreamContent.hasOwnProperty(w)){var x=d.appearanceStreamContent[w];if(y+="/"+w+" ",y+="<<",Object.keys(x).length>=1||Array.isArray(x)){for(var a in x)if(x.hasOwnProperty(a)){var T=x[a];typeof T=="function"&&(T=T.call(n,d)),y+="/"+a+" "+T+" ",n.internal.acroformPlugin.xForms.indexOf(T)>=0||n.internal.acroformPlugin.xForms.push(T)}}else typeof(T=x)=="function"&&(T=T.call(n,d)),y+="/"+a+" "+T,n.internal.acroformPlugin.xForms.indexOf(T)>=0||n.internal.acroformPlugin.xForms.push(T);y+=">>"}u.push({key:"AP",value:`<<
`+y+">>"})}n.internal.putStream({additionalKeyValues:u,objectId:d.objId}),n.internal.out("endobj")}o&&V9(n.internal.acroformPlugin.xForms,n)})(e,i)}),i.internal.acroformPlugin.isInitialized=!0}},qw=pn.__acroform__.arrayToPdfArray=function(i,t,e){var r=function(a){return a};if(Array.isArray(i)){for(var n="[",o=0;o<i.length;o++)switch(o!==0&&(n+=" "),Ir(i[o])){case"boolean":case"number":case"object":n+=i[o].toString();break;case"string":i[o].substr(0,1)!=="/"?(t!==void 0&&e&&(r=e.internal.getEncryptor(t)),n+="("+Gd(r(i[o].toString()))+")"):n+=i[o].toString()}return n+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},a_=function(i,t,e){var r=function(n){return n};return t!==void 0&&e&&(r=e.internal.getEncryptor(t)),(i=i||"").toString(),i="("+Gd(r(i))+")"},rl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(i){this._objId=i}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};rl.prototype.toString=function(){return this.objId+" 0 R"},rl.prototype.putStream=function(){var i=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:i,objectId:this.objId}),this.scope.internal.out("endobj")},rl.prototype.getKeyValueListForStream=function(){var i=[],t=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var r=t[e],n=this[r];n&&(Array.isArray(n)?i.push({key:r,value:qw(n,this.objId,this.scope)}):n instanceof rl?(n.scope=this.scope,i.push({key:r,value:n.objId+" 0 R"})):typeof n!="function"&&i.push({key:r,value:n}))}return i};var jw=function(){rl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var i,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){i=e.trim()},get:function(){return i||null}})};aa(jw,rl);var zw=function(){rl.call(this);var i,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(i){var e=function(r){return r};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+Gd(e(i))+")"}},set:function(e){i=e}})};aa(zw,rl);var Ps=function i(){rl.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(F){if(isNaN(F))throw new Error('Invalid value "'+F+'" for attribute F supplied.');t=F}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!hn(t,3)},set:function(F){F?this.F=gn(t,3):this.F=vn(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(F){if(isNaN(F))throw new Error('Invalid value "'+F+'" for attribute Ff supplied.');e=F}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(F){r=F!==void 0?F:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(F){r[0]=F}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(F){r[1]=F}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(F){r[2]=F}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(F){r[3]=F}});var n="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return n},set:function(F){switch(F){case"/Btn":case"/Tx":case"/Ch":case"/Sig":n=F;break;default:throw new Error('Invalid value "'+F+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Hh)return;o="FieldObject"+i.FieldNum++}var F=function(U){return U};return this.scope&&(F=this.scope.internal.getEncryptor(this.objId)),"("+Gd(F(o))+")"},set:function(F){o=F.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(F){o=F}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(F){a=F}});var d="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return d},set:function(F){d=F}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(F){u=F}});var m=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return m===void 0?50/h_:m},set:function(F){m=F}});var v="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return v},set:function(F){v=F}});var y="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!y||this instanceof Hh||this instanceof Hd))return a_(y,this.objId,this.scope)},set:function(F){F=F.toString(),y=F}});var w=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof Gn?w:a_(w,this.objId,this.scope)},set:function(F){F=F.toString(),w=this instanceof Gn?F:F.substr(0,1)==="("?eu(F.substr(1,F.length-2)):eu(F)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Gn?eu(w.substr(1,w.length-1)):w},set:function(F){F=F.toString(),w=this instanceof Gn?"/"+F:F}});var x=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(x)return x},set:function(F){this.V=F}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof Gn?x:a_(x,this.objId,this.scope)},set:function(F){F=F.toString(),x=this instanceof Gn?F:F.substr(0,1)==="("?eu(F.substr(1,F.length-2)):eu(F)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Gn?eu(x.substr(1,x.length-1)):x},set:function(F){F=F.toString(),x=this instanceof Gn?"/"+F:F}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var T,E=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return E},set:function(F){F=!!F,E=F}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(T)return T},set:function(F){T=F}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,1)},set:function(F){F?this.Ff=gn(this.Ff,1):this.Ff=vn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,2)},set:function(F){F?this.Ff=gn(this.Ff,2):this.Ff=vn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,3)},set:function(F){F?this.Ff=gn(this.Ff,3):this.Ff=vn(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(F){if([0,1,2].indexOf(F)===-1)throw new Error('Invalid value "'+F+'" for attribute Q supplied.');k=F}}),Object.defineProperty(this,"textAlign",{get:function(){var F;switch(k){case 0:default:F="left";break;case 1:F="center";break;case 2:F="right"}return F},configurable:!0,enumerable:!0,set:function(F){switch(F){case"right":case 2:k=2;break;case"center":case 1:k=1;break;case"left":case 0:default:k=0}}})};aa(Ps,rl);var ou=function(){Ps.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var i=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return i},set:function(e){i=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return qw(t,this.objId,this.scope)},set:function(e){var r,n;n=[],typeof(r=e)=="string"&&(n=function(o,a,d){d||(d=1);for(var u,m=[];u=a.exec(o);)m.push(u[d]);return m}(r,/\((.*?)\)/g)),t=n}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,r){for(r=r||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,18)},set:function(e){e?this.Ff=gn(this.Ff,18):this.Ff=vn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=gn(this.Ff,19):this.Ff=vn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,20)},set:function(e){e?(this.Ff=gn(this.Ff,20),t.sort()):this.Ff=vn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,22)},set:function(e){e?this.Ff=gn(this.Ff,22):this.Ff=vn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,23)},set:function(e){e?this.Ff=gn(this.Ff,23):this.Ff=vn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,27)},set:function(e){e?this.Ff=gn(this.Ff,27):this.Ff=vn(this.Ff,27)}}),this.hasAppearanceStream=!1};aa(ou,Ps);var au=function(){ou.call(this),this.fontName="helvetica",this.combo=!1};aa(au,ou);var su=function(){au.call(this),this.combo=!0};aa(su,au);var Vh=function(){su.call(this),this.edit=!0};aa(Vh,su);var Gn=function(){Ps.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,15)},set:function(e){e?this.Ff=gn(this.Ff,15):this.Ff=vn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,16)},set:function(e){e?this.Ff=gn(this.Ff,16):this.Ff=vn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,17)},set:function(e){e?this.Ff=gn(this.Ff,17):this.Ff=vn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,26)},set:function(e){e?this.Ff=gn(this.Ff,26):this.Ff=vn(this.Ff,26)}});var i,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(o){return o};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,n=[];for(r in n.push("<<"),t)n.push("/"+r+" ("+Gd(e(t[r]))+")");return n.push(">>"),n.join(`
`)}},set:function(e){Ir(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return i.substr(1,i.length-1)},set:function(e){i="/"+e}})};aa(Gn,Ps);var qh=function(){Gn.call(this),this.pushButton=!0};aa(qh,Gn);var lu=function(){Gn.call(this),this.radio=!0,this.pushButton=!1;var i=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return i},set:function(t){i=t!==void 0?t:[]}})};aa(lu,Gn);var Hh=function(){var i,t;Ps.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return i},set:function(n){i=n}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(n){t=n}});var e,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(d){return d};this.scope&&(n=this.scope.internal.getEncryptor(this.objId));var o,a=[];for(o in a.push("<<"),r)a.push("/"+o+" ("+Gd(n(r[o]))+")");return a.push(">>"),a.join(`
`)},set:function(n){Ir(n)==="object"&&(r=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(n){typeof n=="string"&&(r.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ti.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};aa(Hh,Ps),lu.prototype.setAppearance=function(i){if(!("createAppearanceStream"in i)||!("getCA"in i))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=i.createAppearanceStream(e.optionName),e.caption=i.getCA()}},lu.prototype.createOption=function(i){var t=new Hh;return t.Parent=this,t.optionName=i,this.Kids.push(t),j9.call(this.scope,t),t};var jh=function(){Gn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ti.CheckBox.createAppearanceStream()};aa(jh,Gn);var Hd=function(){Ps.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,13)},set:function(t){t?this.Ff=gn(this.Ff,13):this.Ff=vn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,21)},set:function(t){t?this.Ff=gn(this.Ff,21):this.Ff=vn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,23)},set:function(t){t?this.Ff=gn(this.Ff,23):this.Ff=vn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,24)},set:function(t){t?this.Ff=gn(this.Ff,24):this.Ff=vn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,25)},set:function(t){t?this.Ff=gn(this.Ff,25):this.Ff=vn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,26)},set:function(t){t?this.Ff=gn(this.Ff,26):this.Ff=vn(this.Ff,26)}});var i=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return i},set:function(t){i=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return i},set:function(t){Number.isInteger(t)&&(i=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};aa(Hd,Ps);var zh=function(){Hd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,14)},set:function(i){i?this.Ff=gn(this.Ff,14):this.Ff=vn(this.Ff,14)}}),this.password=!0};aa(zh,Hd);var ti={CheckBox:{createAppearanceStream:function(){return{N:{On:ti.CheckBox.YesNormal},D:{On:ti.CheckBox.YesPushDown,Off:ti.CheckBox.OffPushDown}}},YesPushDown:function(i){var t=il(i);t.scope=i.scope;var e=[],r=i.scope.internal.getFont(i.fontName,i.fontStyle).id,n=i.scope.__private__.encodeColorString(i.color),o=p_(i,i.caption);return e.push("0.749023 g"),e.push("0 0 "+Li(ti.internal.getWidth(i))+" "+Li(ti.internal.getHeight(i))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+r+" "+Li(o.fontSize)+" Tf "+n),e.push("BT"),e.push(o.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(i){var t=il(i);t.scope=i.scope;var e=i.scope.internal.getFont(i.fontName,i.fontStyle).id,r=i.scope.__private__.encodeColorString(i.color),n=[],o=ti.internal.getHeight(i),a=ti.internal.getWidth(i),d=p_(i,i.caption);return n.push("1 g"),n.push("0 0 "+Li(a)+" "+Li(o)+" re"),n.push("f"),n.push("q"),n.push("0 0 1 rg"),n.push("0 0 "+Li(a-1)+" "+Li(o-1)+" re"),n.push("W"),n.push("n"),n.push("0 g"),n.push("BT"),n.push("/"+e+" "+Li(d.fontSize)+" Tf "+r),n.push(d.text),n.push("ET"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(i){var t=il(i);t.scope=i.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Li(ti.internal.getWidth(i))+" "+Li(ti.internal.getHeight(i))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(i){var t={D:{Off:ti.RadioButton.Circle.OffPushDown},N:{}};return t.N[i]=ti.RadioButton.Circle.YesNormal,t.D[i]=ti.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(i){var t=il(i);t.scope=i.scope;var e=[],r=ti.internal.getWidth(i)<=ti.internal.getHeight(i)?ti.internal.getWidth(i)/4:ti.internal.getHeight(i)/4;r=Number((.9*r).toFixed(5));var n=ti.internal.Bezier_C,o=Number((r*n).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+qc(ti.internal.getWidth(i)/2)+" "+qc(ti.internal.getHeight(i)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),e.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),e.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),e.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(i){var t=il(i);t.scope=i.scope;var e=[],r=ti.internal.getWidth(i)<=ti.internal.getHeight(i)?ti.internal.getWidth(i)/4:ti.internal.getHeight(i)/4;r=Number((.9*r).toFixed(5));var n=Number((2*r).toFixed(5)),o=Number((n*ti.internal.Bezier_C).toFixed(5)),a=Number((r*ti.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+qc(ti.internal.getWidth(i)/2)+" "+qc(ti.internal.getHeight(i)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),e.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),e.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),e.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+qc(ti.internal.getWidth(i)/2)+" "+qc(ti.internal.getHeight(i)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),e.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),e.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),e.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(i){var t=il(i);t.scope=i.scope;var e=[],r=ti.internal.getWidth(i)<=ti.internal.getHeight(i)?ti.internal.getWidth(i)/4:ti.internal.getHeight(i)/4;r=Number((.9*r).toFixed(5));var n=Number((2*r).toFixed(5)),o=Number((n*ti.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+qc(ti.internal.getWidth(i)/2)+" "+qc(ti.internal.getHeight(i)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),e.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),e.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),e.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(i){var t={D:{Off:ti.RadioButton.Cross.OffPushDown},N:{}};return t.N[i]=ti.RadioButton.Cross.YesNormal,t.D[i]=ti.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(i){var t=il(i);t.scope=i.scope;var e=[],r=ti.internal.calculateCross(i);return e.push("q"),e.push("1 1 "+Li(ti.internal.getWidth(i)-2)+" "+Li(ti.internal.getHeight(i)-2)+" re"),e.push("W"),e.push("n"),e.push(Li(r.x1.x)+" "+Li(r.x1.y)+" m"),e.push(Li(r.x2.x)+" "+Li(r.x2.y)+" l"),e.push(Li(r.x4.x)+" "+Li(r.x4.y)+" m"),e.push(Li(r.x3.x)+" "+Li(r.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(i){var t=il(i);t.scope=i.scope;var e=ti.internal.calculateCross(i),r=[];return r.push("0.749023 g"),r.push("0 0 "+Li(ti.internal.getWidth(i))+" "+Li(ti.internal.getHeight(i))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Li(ti.internal.getWidth(i)-2)+" "+Li(ti.internal.getHeight(i)-2)+" re"),r.push("W"),r.push("n"),r.push(Li(e.x1.x)+" "+Li(e.x1.y)+" m"),r.push(Li(e.x2.x)+" "+Li(e.x2.y)+" l"),r.push(Li(e.x4.x)+" "+Li(e.x4.y)+" m"),r.push(Li(e.x3.x)+" "+Li(e.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(i){var t=il(i);t.scope=i.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Li(ti.internal.getWidth(i))+" "+Li(ti.internal.getHeight(i))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(i){var t=i.scope.internal.getFont(i.fontName,i.fontStyle).id,e=i.scope.__private__.encodeColorString(i.color);return"/"+t+" "+i.fontSize+" Tf "+e}};ti.internal={Bezier_C:.551915024494,calculateCross:function(i){var t=ti.internal.getWidth(i),e=ti.internal.getHeight(i),r=Math.min(t,e);return{x1:{x:(t-r)/2,y:(e-r)/2+r},x2:{x:(t-r)/2+r,y:(e-r)/2},x3:{x:(t-r)/2,y:(e-r)/2},x4:{x:(t-r)/2+r,y:(e-r)/2+r}}}},ti.internal.getWidth=function(i){var t=0;return Ir(i)==="object"&&(t=Ew(i.Rect[2])),t},ti.internal.getHeight=function(i){var t=0;return Ir(i)==="object"&&(t=Ew(i.Rect[3])),t};var j9=pn.addField=function(i){if(q9(this,i),!(i instanceof Ps))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=i).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),i.page=i.scope.internal.getCurrentPageInfo().pageNumber,this};pn.AcroFormChoiceField=ou,pn.AcroFormListBox=au,pn.AcroFormComboBox=su,pn.AcroFormEditBox=Vh,pn.AcroFormButton=Gn,pn.AcroFormPushButton=qh,pn.AcroFormRadioButton=lu,pn.AcroFormCheckBox=jh,pn.AcroFormTextField=Hd,pn.AcroFormPasswordField=zh,pn.AcroFormAppearance=ti,pn.AcroForm={ChoiceField:ou,ListBox:au,ComboBox:su,EditBox:Vh,Button:Gn,PushButton:qh,RadioButton:lu,CheckBox:jh,TextField:Hd,PasswordField:zh,Appearance:ti},oi.AcroForm={ChoiceField:ou,ListBox:au,ComboBox:su,EditBox:Vh,Button:Gn,PushButton:qh,RadioButton:lu,CheckBox:jh,TextField:Hd,PasswordField:zh,Appearance:ti};var eG=oi.AcroForm;function Ww(i){return i.reduce(function(t,e,r){return t[e]=r,t},{})}(function(i){i.__addimage__={};var t="UNKNOWN",e={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=i.__addimage__.getImageFileTypeByImageData=function(W,G){var xe,ye,Le,Ie,Ye,ke=t;if((G=G||t)==="RGBA"||W.data!==void 0&&W.data instanceof Uint8ClampedArray&&"height"in W&&"width"in W)return"RGBA";if(Ue(W))for(Ye in e)for(Le=e[Ye],xe=0;xe<Le.length;xe+=1){for(Ie=!0,ye=0;ye<Le[xe].length;ye+=1)if(Le[xe][ye]!==void 0&&Le[xe][ye]!==W[ye]){Ie=!1;break}if(Ie===!0){ke=Ye;break}}else for(Ye in e)for(Le=e[Ye],xe=0;xe<Le.length;xe+=1){for(Ie=!0,ye=0;ye<Le[xe].length;ye+=1)if(Le[xe][ye]!==void 0&&Le[xe][ye]!==W.charCodeAt(ye)){Ie=!1;break}if(Ie===!0){ke=Ye;break}}return ke===t&&G!==t&&(ke=G),ke},n=function W(G){for(var xe=this.internal.write,ye=this.internal.putStream,Le=(0,this.internal.getFilters)();Le.indexOf("FlateEncode")!==-1;)Le.splice(Le.indexOf("FlateEncode"),1);G.objectId=this.internal.newObject();var Ie=[];if(Ie.push({key:"Type",value:"/XObject"}),Ie.push({key:"Subtype",value:"/Image"}),Ie.push({key:"Width",value:G.width}),Ie.push({key:"Height",value:G.height}),G.colorSpace===k.INDEXED?Ie.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(G.palette.length/3-1)+" "+("sMask"in G&&G.sMask!==void 0?G.objectId+2:G.objectId+1)+" 0 R]"}):(Ie.push({key:"ColorSpace",value:"/"+G.colorSpace}),G.colorSpace===k.DEVICE_CMYK&&Ie.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Ie.push({key:"BitsPerComponent",value:G.bitsPerComponent}),"decodeParameters"in G&&G.decodeParameters!==void 0&&Ie.push({key:"DecodeParms",value:"<<"+G.decodeParameters+">>"}),"transparency"in G&&Array.isArray(G.transparency)){for(var Ye="",ke=0,qe=G.transparency.length;ke<qe;ke++)Ye+=G.transparency[ke]+" "+G.transparency[ke]+" ";Ie.push({key:"Mask",value:"["+Ye+"]"})}G.sMask!==void 0&&Ie.push({key:"SMask",value:G.objectId+1+" 0 R"});var Xe=G.filter!==void 0?["/"+G.filter]:void 0;if(ye({data:G.data,additionalKeyValues:Ie,alreadyAppliedFilters:Xe,objectId:G.objectId}),xe("endobj"),"sMask"in G&&G.sMask!==void 0){var St="/Predictor "+G.predictor+" /Colors 1 /BitsPerComponent "+G.bitsPerComponent+" /Columns "+G.width,A={width:G.width,height:G.height,colorSpace:"DeviceGray",bitsPerComponent:G.bitsPerComponent,decodeParameters:St,data:G.sMask};"filter"in G&&(A.filter=G.filter),W.call(this,A)}if(G.colorSpace===k.INDEXED){var j=this.internal.newObject();ye({data:re(new Uint8Array(G.palette)),objectId:j}),xe("endobj")}},o=function(){var W=this.internal.collections.addImage_images;for(var G in W)n.call(this,W[G])},a=function(){var W,G=this.internal.collections.addImage_images,xe=this.internal.write;for(var ye in G)xe("/I"+(W=G[ye]).index,W.objectId,"0","R")},d=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},u=function(){var W=this.internal.collections.addImage_images;return d.call(this),W},m=function(){return Object.keys(this.internal.collections.addImage_images).length},v=function(W){return typeof i["process"+W.toUpperCase()]=="function"},y=function(W){return Ir(W)==="object"&&W.nodeType===1},w=function(W,G){if(W.nodeName==="IMG"&&W.hasAttribute("src")){var xe=""+W.getAttribute("src");if(xe.indexOf("data:image/")===0)return Vp(unescape(xe).split("base64,").pop());var ye=i.loadFile(xe,!0);if(ye!==void 0)return ye}if(W.nodeName==="CANVAS"){if(W.width===0||W.height===0)throw new Error("Given canvas must have data. Canvas width: "+W.width+", height: "+W.height);var Le;switch(G){case"PNG":Le="image/png";break;case"WEBP":Le="image/webp";break;case"JPEG":case"JPG":default:Le="image/jpeg"}return Vp(W.toDataURL(Le,1).split("base64,").pop())}},x=function(W){var G=this.internal.collections.addImage_images;if(G){for(var xe in G)if(W===G[xe].alias)return G[xe]}},T=function(W,G,xe){return W||G||(W=-96,G=-96),W<0&&(W=-1*xe.width*72/W/this.internal.scaleFactor),G<0&&(G=-1*xe.height*72/G/this.internal.scaleFactor),W===0&&(W=G*xe.width/xe.height),G===0&&(G=W*xe.height/xe.width),[W,G]},E=function(W,G,xe,ye,Le,Ie){var Ye=T.call(this,xe,ye,Le),ke=this.internal.getCoordinateString,qe=this.internal.getVerticalCoordinateString,Xe=u.call(this);if(xe=Ye[0],ye=Ye[1],Xe[Le.index]=Le,Ie){Ie*=Math.PI/180;var St=Math.cos(Ie),A=Math.sin(Ie),j=function(z){return z.toFixed(4)},R=[j(St),j(A),j(-1*A),j(St),0,0,"cm"]}this.internal.write("q"),Ie?(this.internal.write([1,"0","0",1,ke(W),qe(G+ye),"cm"].join(" ")),this.internal.write(R.join(" ")),this.internal.write([ke(xe),"0","0",ke(ye),"0","0","cm"].join(" "))):this.internal.write([ke(xe),"0","0",ke(ye),ke(W),qe(G+ye),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Le.index+" Do"),this.internal.write("Q")},k=i.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};i.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var F=i.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},U=i.__addimage__.sHashCode=function(W){var G,xe,ye=0;if(typeof W=="string")for(xe=W.length,G=0;G<xe;G++)ye=(ye<<5)-ye+W.charCodeAt(G),ye|=0;else if(Ue(W))for(xe=W.byteLength/2,G=0;G<xe;G++)ye=(ye<<5)-ye+W[G],ye|=0;return ye},Y=i.__addimage__.validateStringAsBase64=function(W){(W=W||"").toString().trim();var G=!0;return W.length===0&&(G=!1),W.length%4!=0&&(G=!1),/^[A-Za-z0-9+/]+$/.test(W.substr(0,W.length-2))===!1&&(G=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(W.substr(-2))===!1&&(G=!1),G},ve=i.__addimage__.extractImageFromDataUrl=function(W){if(W==null||!(W=W.trim()).startsWith("data:"))return null;var G=W.indexOf(",");return G<0?null:W.substring(0,G).trim().endsWith("base64")?W.substring(G+1):null},we=i.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};i.__addimage__.isArrayBuffer=function(W){return we()&&W instanceof ArrayBuffer};var Ue=i.__addimage__.isArrayBufferView=function(W){return we()&&typeof Uint32Array<"u"&&(W instanceof Int8Array||W instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&W instanceof Uint8ClampedArray||W instanceof Int16Array||W instanceof Uint16Array||W instanceof Int32Array||W instanceof Uint32Array||W instanceof Float32Array||W instanceof Float64Array)},ne=i.__addimage__.binaryStringToUint8Array=function(W){for(var G=W.length,xe=new Uint8Array(G),ye=0;ye<G;ye++)xe[ye]=W.charCodeAt(ye);return xe},re=i.__addimage__.arrayBufferToBinaryString=function(W){for(var G="",xe=Ue(W)?W:new Uint8Array(W),ye=0;ye<xe.length;ye+=8192)G+=String.fromCharCode.apply(null,xe.subarray(ye,ye+8192));return G};i.addImage=function(){var W,G,xe,ye,Le,Ie,Ye,ke,qe;if(typeof arguments[1]=="number"?(G=t,xe=arguments[1],ye=arguments[2],Le=arguments[3],Ie=arguments[4],Ye=arguments[5],ke=arguments[6],qe=arguments[7]):(G=arguments[1],xe=arguments[2],ye=arguments[3],Le=arguments[4],Ie=arguments[5],Ye=arguments[6],ke=arguments[7],qe=arguments[8]),Ir(W=arguments[0])==="object"&&!y(W)&&"imageData"in W){var Xe=W;W=Xe.imageData,G=Xe.format||G||t,xe=Xe.x||xe||0,ye=Xe.y||ye||0,Le=Xe.w||Xe.width||Le,Ie=Xe.h||Xe.height||Ie,Ye=Xe.alias||Ye,ke=Xe.compression||ke,qe=Xe.rotation||Xe.angle||qe}var St=this.internal.getFilters();if(ke===void 0&&St.indexOf("FlateEncode")!==-1&&(ke="SLOW"),isNaN(xe)||isNaN(ye))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var A=ce.call(this,W,G,Ye,ke);return E.call(this,xe,ye,Le,Ie,A,qe),this};var ce=function(W,G,xe,ye){var Le,Ie,Ye;if(typeof W=="string"&&r(W)===t){W=unescape(W);var ke=Ce(W,!1);(ke!==""||(ke=i.loadFile(W,!0))!==void 0)&&(W=ke)}if(y(W)&&(W=w(W,G)),G=r(W,G),!v(G))throw new Error("addImage does not support files of type '"+G+"', please ensure that a plugin for '"+G+"' support is added.");if(((Ye=xe)==null||Ye.length===0)&&(xe=function(qe){return typeof qe=="string"||Ue(qe)?U(qe):Ue(qe.data)?U(qe.data):null}(W)),(Le=x.call(this,xe))||(we()&&(W instanceof Uint8Array||G==="RGBA"||(Ie=W,W=ne(W))),Le=this["process"+G.toUpperCase()](W,m.call(this),xe,function(qe){return qe&&typeof qe=="string"&&(qe=qe.toUpperCase()),qe in i.image_compression?qe:F.NONE}(ye),Ie)),!Le)throw new Error("An unknown error occurred whilst processing the image.");return Le},Ce=i.__addimage__.convertBase64ToBinaryString=function(W,G){G=typeof G!="boolean"||G;var xe,ye="";if(typeof W=="string"){var Le;xe=(Le=ve(W))!==null&&Le!==void 0?Le:W;try{ye=Vp(xe)}catch(Ie){if(G)throw Y(xe)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Ie.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ye};i.getImageProperties=function(W){var G,xe,ye="";if(y(W)&&(W=w(W)),typeof W=="string"&&r(W)===t&&((ye=Ce(W,!1))===""&&(ye=i.loadFile(W)||""),W=ye),xe=r(W),!v(xe))throw new Error("addImage does not support files of type '"+xe+"', please ensure that a plugin for '"+xe+"' support is added.");if(!we()||W instanceof Uint8Array||(W=ne(W)),!(G=this["process"+xe.toUpperCase()](W)))throw new Error("An unknown error occurred whilst processing the image");return G.fileType=xe,G}})(oi.API),function(i){var t=function(e){if(e!==void 0&&e!="")return!0};oi.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),i.events.push(["putPage",function(e){for(var r,n,o,a=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(e.objId),m=e.pageContext.annotations,v=!1,y=0;y<m.length&&!v;y++)switch((r=m[y]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(v=!0);break;case"reference":case"text":case"freetext":v=!0}if(v!=0){this.internal.write("/Annots [");for(var w=0;w<m.length;w++){r=m[w];var x=this.internal.pdfEscape,T=this.internal.getEncryptor(e.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var E=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),F=this.internal.getEncryptor(E.objId),U=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(n="/Rect ["+a(r.bounds.x)+" "+d(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+d(r.bounds.y)+"] ")+"/Contents ("+x(F(r.contents))+")",o+=" /Popup "+k.objId+" 0 R",o+=" /P "+u.objId+" 0 R",o+=" /T ("+x(F(U))+") >>",E.content=o;var Y=E.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+a(r.bounds.x+30)+" "+d(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+d(r.bounds.y)+"] ")+" /Parent "+Y,r.open&&(o+=" /Open true"),o+=" >>",k.content=o,this.internal.write(E.objId,"0 R",k.objId,"0 R");break;case"freetext":n="/Rect ["+a(r.bounds.x)+" "+d(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+d(r.bounds.y+r.bounds.h)+"] ";var ve=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+x(T(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+ve+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var we=this.annotations._nameMap[r.options.name];r.options.pageNumber=we.page,r.options.top=we.y}else r.options.top||(r.options.top=0);if(n="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+x(T(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var Ue=d(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+Ue+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),i.createAnnotation=function(e){var r=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":r.pageContext.annotations.push(e)}},i.link=function(e,r,n,o,a){var d=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,m=this.internal.getVerticalCoordinateString;d.pageContext.annotations.push({finalBounds:{x:u(e),y:m(r),w:u(e+n),h:m(r+o)},options:a,type:"link"})},i.textWithLink=function(e,r,n,o){var a,d,u=this.getTextWidth(e),m=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){d=o.maxWidth;var v=this.splitTextToSize(e,d).length;a=Math.ceil(m*v)}else d=u,a=m;return this.text(e,r,n,o),n+=.2*m,o.align==="center"&&(r-=u/2),o.align==="right"&&(r-=u),this.link(r,n-m,d,a,o),u},i.getTextWidth=function(e){var r=this.internal.getFontSize();return this.getStringUnitWidth(e)*r/this.internal.scaleFactor}}(oi.API),function(i){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},n=[1570,1571,1573,1575];i.__arabicParser__={};var o=i.__arabicParser__.isInArabicSubstitutionA=function(E){return t[E.charCodeAt(0)]!==void 0},a=i.__arabicParser__.isArabicLetter=function(E){return typeof E=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(E)},d=i.__arabicParser__.isArabicEndLetter=function(E){return a(E)&&o(E)&&t[E.charCodeAt(0)].length<=2},u=i.__arabicParser__.isArabicAlfLetter=function(E){return a(E)&&n.indexOf(E.charCodeAt(0))>=0};i.__arabicParser__.arabicLetterHasIsolatedForm=function(E){return a(E)&&o(E)&&t[E.charCodeAt(0)].length>=1};var m=i.__arabicParser__.arabicLetterHasFinalForm=function(E){return a(E)&&o(E)&&t[E.charCodeAt(0)].length>=2};i.__arabicParser__.arabicLetterHasInitialForm=function(E){return a(E)&&o(E)&&t[E.charCodeAt(0)].length>=3};var v=i.__arabicParser__.arabicLetterHasMedialForm=function(E){return a(E)&&o(E)&&t[E.charCodeAt(0)].length==4},y=i.__arabicParser__.resolveLigatures=function(E){var k=0,F=e,U="",Y=0;for(k=0;k<E.length;k+=1)F[E.charCodeAt(k)]!==void 0?(Y++,typeof(F=F[E.charCodeAt(k)])=="number"&&(U+=String.fromCharCode(F),F=e,Y=0),k===E.length-1&&(F=e,U+=E.charAt(k-(Y-1)),k-=Y-1,Y=0)):(F=e,U+=E.charAt(k-Y),k-=Y,Y=0);return U};i.__arabicParser__.isArabicDiacritic=function(E){return E!==void 0&&r[E.charCodeAt(0)]!==void 0};var w=i.__arabicParser__.getCorrectForm=function(E,k,F){return a(E)?o(E)===!1?-1:!m(E)||!a(k)&&!a(F)||!a(F)&&d(k)||d(E)&&!a(k)||d(E)&&u(k)||d(E)&&d(k)?0:v(E)&&a(k)&&!d(k)&&a(F)&&m(F)?3:d(E)||!a(F)?1:2:-1},x=function(E){var k=0,F=0,U=0,Y="",ve="",we="",Ue=(E=E||"").split("\\s+"),ne=[];for(k=0;k<Ue.length;k+=1){for(ne.push(""),F=0;F<Ue[k].length;F+=1)Y=Ue[k][F],ve=Ue[k][F-1],we=Ue[k][F+1],a(Y)?(U=w(Y,ve,we),ne[k]+=U!==-1?String.fromCharCode(t[Y.charCodeAt(0)][U]):Y):ne[k]+=Y;ne[k]=y(ne[k])}return ne.join(" ")},T=i.__arabicParser__.processArabic=i.processArabic=function(){var E,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,F=[];if(Array.isArray(k)){var U=0;for(F=[],U=0;U<k.length;U+=1)Array.isArray(k[U])?F.push([x(k[U][0]),k[U][1],k[U][2]]):F.push([x(k[U])]);E=F}else E=x(k);return typeof arguments[0]=="string"?E:(arguments[0].text=E,arguments[0])};i.events.push(["preProcessText",T])}(oi.API),oi.API.autoPrint=function(i){var t;switch((i=i||{}).variant=i.variant||"non-conform",i.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(i){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(d){e=d}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(d){r=isNaN(d)||Number.isInteger(d)===!1||d<0?150:d,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(d){n=isNaN(d)||Number.isInteger(d)===!1||d<0?300:d,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(d){o=d}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(d){a=d}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,r){var n;if((e=e||"2d")!=="2d")return null;for(n in r)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=r[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},i.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(oi.API),function(i){var t={left:0,top:0,bottom:0,right:0},e=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),n.call(this))},n=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(E){u=E}});var m=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return m},set:function(E){m=E}});var v=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return v},set:function(E){v=E}});var y=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return y},set:function(E){y=E}});var w=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return w},set:function(E){w=E}});var x=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return x},set:function(E){x=E}});var T=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return T},set:function(E){T=E}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},i.setHeaderFunction=function(u){return r.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},i.getTextDimensions=function(u,m){r.call(this);var v=(m=m||{}).fontSize||this.getFontSize(),y=m.font||this.getFont(),w=m.scaleFactor||this.internal.scaleFactor,x=0,T=0,E=0,k=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var F=m.maxWidth;F>0?typeof u=="string"?u=this.splitTextToSize(u,F):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(Y,ve){return Y.concat(k.splitTextToSize(ve,F))},[])):u=Array.isArray(u)?u:[u];for(var U=0;U<u.length;U++)x<(E=this.getStringUnitWidth(u[U],{font:y})*v)&&(x=E);return x!==0&&(T=u.length),{w:x/=w,h:Math.max((T*v*this.getLineHeightFactor()-v*(this.getLineHeightFactor()-1))/w,0)}},i.cellAddPage=function(){r.call(this),this.addPage();var u=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new o(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=i.cell=function(){var u;u=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var m=this.internal.__cell__.lastCell,v=this.internal.__cell__.padding,y=this.internal.__cell__.margins||t,w=this.internal.__cell__.tableHeaderRow,x=this.internal.__cell__.printHeaders;return m.lineNumber!==void 0&&(m.lineNumber===u.lineNumber?(u.x=(m.x||0)+(m.width||0),u.y=m.y||0):m.y+m.height+u.height+y.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=y.top,x&&w&&(this.printHeaderRow(u.lineNumber,!0),u.y+=w[0].height)):u.y=m.y+m.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,e===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-v,u.y+v,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+v,{align:"center",baseline:"top",maxWidth:u.width-v-v}):this.text(u.text,u.x+v,u.y+v,{align:"left",baseline:"top",maxWidth:u.width-v-v})),this.internal.__cell__.lastCell=u,this};i.table=function(u,m,v,y,w){if(r.call(this),!v)throw new Error("No data for PDF table.");var x,T,E,k,F=[],U=[],Y=[],ve={},we={},Ue=[],ne=[],re=(w=w||{}).autoSize||!1,ce=w.printHeaders!==!1,Ce=w.css&&w.css["font-size"]!==void 0?16*w.css["font-size"]:w.fontSize||12,W=w.margins||Object.assign({width:this.getPageWidth()},t),G=typeof w.padding=="number"?w.padding:3,xe=w.headerBackgroundColor||"#c8c8c8",ye=w.headerTextColor||"#000";if(n.call(this),this.internal.__cell__.printHeaders=ce,this.internal.__cell__.margins=W,this.internal.__cell__.table_font_size=Ce,this.internal.__cell__.padding=G,this.internal.__cell__.headerBackgroundColor=xe,this.internal.__cell__.headerTextColor=ye,this.setFontSize(Ce),y==null)U=F=Object.keys(v[0]),Y=F.map(function(){return"left"});else if(Array.isArray(y)&&Ir(y[0])==="object")for(F=y.map(function(Xe){return Xe.name}),U=y.map(function(Xe){return Xe.prompt||Xe.name||""}),Y=y.map(function(Xe){return Xe.align||"left"}),x=0;x<y.length;x+=1)we[y[x].name]=y[x].width*(19.049976/25.4);else Array.isArray(y)&&typeof y[0]=="string"&&(U=F=y,Y=F.map(function(){return"left"}));if(re||Array.isArray(y)&&typeof y[0]=="string")for(x=0;x<F.length;x+=1){for(ve[k=F[x]]=v.map(function(Xe){return Xe[k]}),this.setFont(void 0,"bold"),Ue.push(this.getTextDimensions(U[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),T=ve[k],this.setFont(void 0,"normal"),E=0;E<T.length;E+=1)Ue.push(this.getTextDimensions(T[E],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);we[k]=Math.max.apply(null,Ue)+G+G,Ue=[]}if(ce){var Le={};for(x=0;x<F.length;x+=1)Le[F[x]]={},Le[F[x]].text=U[x],Le[F[x]].align=Y[x];var Ie=d.call(this,Le,we);ne=F.map(function(Xe){return new o(u,m,we[Xe],Ie,Le[Xe].text,void 0,Le[Xe].align)}),this.setTableHeaderRow(ne),this.printHeaderRow(1,!1)}var Ye=y.reduce(function(Xe,St){return Xe[St.name]=St.align,Xe},{});for(x=0;x<v.length;x+=1){"rowStart"in w&&w.rowStart instanceof Function&&w.rowStart({row:x,data:v[x]},this);var ke=d.call(this,v[x],we);for(E=0;E<F.length;E+=1){var qe=v[x][F[E]];"cellStart"in w&&w.cellStart instanceof Function&&w.cellStart({row:x,col:E,data:qe},this),a.call(this,new o(u,m,we[F[E]],ke,qe,x+2,Ye[F[E]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=m,this};var d=function(u,m){var v=this.internal.__cell__.padding,y=this.internal.__cell__.table_font_size,w=this.internal.scaleFactor;return Object.keys(u).map(function(x){var T=u[x];return this.splitTextToSize(T.hasOwnProperty("text")?T.text:T,m[x]-v-v)},this).map(function(x){return this.getLineHeightFactor()*x.length*y/w+v+v},this).reduce(function(x,T){return Math.max(x,T)},0)};i.setTableHeaderRow=function(u){r.call(this),this.internal.__cell__.tableHeaderRow=u},i.printHeaderRow=function(u,m){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var v;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var y=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(y[0],y[1],y[2],y[3],void 0,-1)}this.setFont(void 0,"bold");for(var w=[],x=0;x<this.internal.__cell__.tableHeaderRow.length;x+=1){v=this.internal.__cell__.tableHeaderRow[x].clone(),m&&(v.y=this.internal.__cell__.margins.top||0,w.push(v)),v.lineNumber=u;var T=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,v),this.setTextColor(T)}w.length>0&&this.setTableHeaderRow(w),this.setFont(void 0,"normal"),e=!1}}(oi.API);var Hw={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Gw=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],f_=Ww(Gw),$w=[100,200,300,400,500,600,700,800,900],z9=Ww($w);function m_(i){var t=i.family.replace(/"|'/g,"").toLowerCase(),e=function(o){return Hw[o=o||"normal"]?o:"normal"}(i.style),r=function(o){if(!o)return 400;if(typeof o=="number")return o>=100&&o<=900&&o%100==0?o:400;if(/^\d00$/.test(o))return parseInt(o);switch(o){case"bold":return 700;case"normal":default:return 400}}(i.weight),n=function(o){return typeof f_[o=o||"normal"]=="number"?o:"normal"}(i.stretch);return{family:t,style:e,weight:r,stretch:n,src:i.src||[],ref:i.ref||{name:t,style:[n,e,r].join(" ")}}}function Pw(i,t,e,r){var n;for(n=e;n>=0&&n<t.length;n+=r)if(i[t[n]])return i[t[n]];for(n=e;n>=0&&n<t.length;n-=r)if(i[t[n]])return i[t[n]]}var W9={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Mw={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Tw(i){return[i.stretch,i.style,i.weight,i.family].join(" ")}function H9(i,t,e){for(var r=(e=e||{}).defaultFontFamily||"times",n=Object.assign({},W9,e.genericFontFamilies||{}),o=null,a=null,d=0;d<t.length;++d)if(n[(o=m_(t[d])).family]&&(o.family=n[o.family]),i.hasOwnProperty(o.family)){a=i[o.family];break}if(!(a=a||i[r]))throw new Error("Could not find a font-family for the rule '"+Tw(o)+"' and default family '"+r+"'.");if(a=function(u,m){if(m[u])return m[u];var v=f_[u],y=v<=f_.normal?-1:1,w=Pw(m,Gw,v,y);if(!w)throw new Error("Could not find a matching font-stretch value for "+u);return w}(o.stretch,a),a=function(u,m){if(m[u])return m[u];for(var v=Hw[u],y=0;y<v.length;++y)if(m[v[y]])return m[v[y]];throw new Error("Could not find a matching font-style for "+u)}(o.style,a),!(a=function(u,m){if(m[u])return m[u];if(u===400&&m[500])return m[500];if(u===500&&m[400])return m[400];var v=z9[u],y=Pw(m,$w,v,u<400?-1:1);if(!y)throw new Error("Could not find a matching font-weight for value "+u);return y}(o.weight,a)))throw new Error("Failed to resolve a font for the rule '"+Tw(o)+"'.");return a}function kw(i){return i.trimLeft()}function G9(i,t){for(var e=0;e<i.length;){if(i.charAt(e)===t)return[i.substring(0,e),i.substring(e+1)];e+=1}return null}function $9(i){var t=i.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],i.substring(t[0].length)]}var Bh,Aw,Iw,s_=["times"];(function(i){var t,e,r,n,o,a,d,u,m,v=function(A){return A=A||{},this.isStrokeTransparent=A.isStrokeTransparent||!1,this.strokeOpacity=A.strokeOpacity||1,this.strokeStyle=A.strokeStyle||"#000000",this.fillStyle=A.fillStyle||"#000000",this.isFillTransparent=A.isFillTransparent||!1,this.fillOpacity=A.fillOpacity||1,this.font=A.font||"10px sans-serif",this.textBaseline=A.textBaseline||"alphabetic",this.textAlign=A.textAlign||"left",this.lineWidth=A.lineWidth||1,this.lineJoin=A.lineJoin||"miter",this.lineCap=A.lineCap||"butt",this.path=A.path||[],this.transform=A.transform!==void 0?A.transform.clone():new u,this.globalCompositeOperation=A.globalCompositeOperation||"normal",this.globalAlpha=A.globalAlpha||1,this.clip_path=A.clip_path||[],this.currentPoint=A.currentPoint||new a,this.miterLimit=A.miterLimit||10,this.lastPoint=A.lastPoint||new a,this.lineDashOffset=A.lineDashOffset||0,this.lineDash=A.lineDash||[],this.margin=A.margin||[0,0,0,0],this.prevPageLastElemOffset=A.prevPageLastElemOffset||0,this.ignoreClearRect=typeof A.ignoreClearRect!="boolean"||A.ignoreClearRect,this};i.events.push(["initialized",function(){this.context2d=new y(this),t=this.internal.f2,e=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,n=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,a=this.internal.Point,d=this.internal.Rectangle,u=this.internal.Matrix,m=new v}]);var y=function(A){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var j=A;Object.defineProperty(this,"pdf",{get:function(){return j}});var R=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return R},set:function(et){R=!!et}});var z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return z},set:function(et){z=!!et}});var le=0;Object.defineProperty(this,"posX",{get:function(){return le},set:function(et){isNaN(et)||(le=et)}});var Pe=0;Object.defineProperty(this,"posY",{get:function(){return Pe},set:function(et){isNaN(et)||(Pe=et)}}),Object.defineProperty(this,"margin",{get:function(){return m.margin},set:function(et){var be;typeof et=="number"?be=[et,et,et,et]:((be=new Array(4))[0]=et[0],be[1]=et.length>=2?et[1]:be[0],be[2]=et.length>=3?et[2]:be[0],be[3]=et.length>=4?et[3]:be[1]),m.margin=be}});var Ne=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ne},set:function(et){Ne=et}});var Ae=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ae},set:function(et){Ae=et}});var Be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Be},set:function(et){Be=et}}),Object.defineProperty(this,"ctx",{get:function(){return m},set:function(et){et instanceof v&&(m=et)}}),Object.defineProperty(this,"path",{get:function(){return m.path},set:function(et){m.path=et}});var at=[];Object.defineProperty(this,"ctxStack",{get:function(){return at},set:function(et){at=et}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(et){var be;be=w(et),this.ctx.fillStyle=be.style,this.ctx.isFillTransparent=be.a===0,this.ctx.fillOpacity=be.a,this.pdf.setFillColor(be.r,be.g,be.b,{a:be.a}),this.pdf.setTextColor(be.r,be.g,be.b,{a:be.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(et){var be=w(et);this.ctx.strokeStyle=be.style,this.ctx.isStrokeTransparent=be.a===0,this.ctx.strokeOpacity=be.a,be.a===0?this.pdf.setDrawColor(255,255,255):(be.a,this.pdf.setDrawColor(be.r,be.g,be.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(et){["butt","round","square"].indexOf(et)!==-1&&(this.ctx.lineCap=et,this.pdf.setLineCap(et))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(et){isNaN(et)||(this.ctx.lineWidth=et,this.pdf.setLineWidth(et))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(et){["bevel","round","miter"].indexOf(et)!==-1&&(this.ctx.lineJoin=et,this.pdf.setLineJoin(et))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(et){isNaN(et)||(this.ctx.miterLimit=et,this.pdf.setMiterLimit(et))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(et){this.ctx.textBaseline=et}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(et){["right","end","center","left","start"].indexOf(et)!==-1&&(this.ctx.textAlign=et)}});var mt=null;function At(et,be){if(mt===null){var gt=function(Wt){var vt=[];return Object.keys(Wt).forEach(function(Ft){Wt[Ft].forEach(function(Vt){var qt=null;switch(Vt){case"bold":qt={family:Ft,weight:"bold"};break;case"italic":qt={family:Ft,style:"italic"};break;case"bolditalic":qt={family:Ft,weight:"bold",style:"italic"};break;case"":case"normal":qt={family:Ft}}qt!==null&&(qt.ref={name:Ft,style:Vt},vt.push(qt))})}),vt}(et.getFontList());mt=function(Wt){for(var vt={},Ft=0;Ft<Wt.length;++Ft){var Vt=m_(Wt[Ft]),qt=Vt.family,ni=Vt.stretch,ai=Vt.style,wi=Vt.weight;vt[qt]=vt[qt]||{},vt[qt][ni]=vt[qt][ni]||{},vt[qt][ni][ai]=vt[qt][ni][ai]||{},vt[qt][ni][ai][wi]=Vt}return vt}(gt.concat(be))}return mt}var Lt=null;Object.defineProperty(this,"fontFaces",{get:function(){return Lt},set:function(et){mt=null,Lt=et}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(et){var be;if(this.ctx.font=et,(be=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(et))!==null){var gt=be[1];be[2];var Wt=be[3],vt=be[4];be[5];var Ft=be[6],Vt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(vt)[2];vt=Math.floor(Vt==="px"?parseFloat(vt)*this.pdf.internal.scaleFactor:Vt==="em"?parseFloat(vt)*this.pdf.getFontSize():parseFloat(vt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(vt);var qt=function(vi){var Ri,zt,Yr=[],Xi=vi.trim();if(Xi==="")return s_;if(Xi in Mw)return[Mw[Xi]];for(;Xi!=="";){switch(zt=null,Ri=(Xi=kw(Xi)).charAt(0)){case'"':case"'":zt=G9(Xi.substring(1),Ri);break;default:zt=$9(Xi)}if(zt===null||(Yr.push(zt[0]),(Xi=kw(zt[1]))!==""&&Xi.charAt(0)!==","))return s_;Xi=Xi.replace(/^,/,"")}return Yr}(Ft);if(this.fontFaces){var ni=H9(At(this.pdf,this.fontFaces),qt.map(function(vi){return{family:vi,stretch:"normal",weight:Wt,style:gt}}));this.pdf.setFont(ni.ref.name,ni.ref.style)}else{var ai="";(Wt==="bold"||parseInt(Wt,10)>=700||gt==="bold")&&(ai="bold"),gt==="italic"&&(ai+="italic"),ai.length===0&&(ai="normal");for(var wi="",ki={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Hi=0;Hi<qt.length;Hi++){if(this.pdf.internal.getFont(qt[Hi],ai,{noFallback:!0,disableWarning:!0})!==void 0){wi=qt[Hi];break}if(ai==="bolditalic"&&this.pdf.internal.getFont(qt[Hi],"bold",{noFallback:!0,disableWarning:!0})!==void 0)wi=qt[Hi],ai="bold";else if(this.pdf.internal.getFont(qt[Hi],"normal",{noFallback:!0,disableWarning:!0})!==void 0){wi=qt[Hi],ai="normal";break}}if(wi===""){for(var Gi=0;Gi<qt.length;Gi++)if(ki[qt[Gi]]){wi=ki[qt[Gi]];break}}wi=wi===""?"Times":wi,this.pdf.setFont(wi,ai)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(et){this.ctx.globalCompositeOperation=et}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(et){this.ctx.globalAlpha=et}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(et){this.ctx.lineDashOffset=et,St.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(et){this.ctx.lineDash=et,St.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(et){this.ctx.ignoreClearRect=!!et}})};y.prototype.setLineDash=function(A){this.lineDash=A},y.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},y.prototype.fill=function(){ve.call(this,"fill",!1)},y.prototype.stroke=function(){ve.call(this,"stroke",!1)},y.prototype.beginPath=function(){this.path=[{type:"begin"}]},y.prototype.moveTo=function(A,j){if(isNaN(A)||isNaN(j))throw Rr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var R=this.ctx.transform.applyToPoint(new a(A,j));this.path.push({type:"mt",x:R.x,y:R.y}),this.ctx.lastPoint=new a(A,j)},y.prototype.closePath=function(){var A=new a(0,0),j=0;for(j=this.path.length-1;j!==-1;j--)if(this.path[j].type==="begin"&&Ir(this.path[j+1])==="object"&&typeof this.path[j+1].x=="number"){A=new a(this.path[j+1].x,this.path[j+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(A.x,A.y)},y.prototype.lineTo=function(A,j){if(isNaN(A)||isNaN(j))throw Rr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var R=this.ctx.transform.applyToPoint(new a(A,j));this.path.push({type:"lt",x:R.x,y:R.y}),this.ctx.lastPoint=new a(R.x,R.y)},y.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),ve.call(this,null,!0)},y.prototype.quadraticCurveTo=function(A,j,R,z){if(isNaN(R)||isNaN(z)||isNaN(A)||isNaN(j))throw Rr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var le=this.ctx.transform.applyToPoint(new a(R,z)),Pe=this.ctx.transform.applyToPoint(new a(A,j));this.path.push({type:"qct",x1:Pe.x,y1:Pe.y,x:le.x,y:le.y}),this.ctx.lastPoint=new a(le.x,le.y)},y.prototype.bezierCurveTo=function(A,j,R,z,le,Pe){if(isNaN(le)||isNaN(Pe)||isNaN(A)||isNaN(j)||isNaN(R)||isNaN(z))throw Rr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ne=this.ctx.transform.applyToPoint(new a(le,Pe)),Ae=this.ctx.transform.applyToPoint(new a(A,j)),Be=this.ctx.transform.applyToPoint(new a(R,z));this.path.push({type:"bct",x1:Ae.x,y1:Ae.y,x2:Be.x,y2:Be.y,x:Ne.x,y:Ne.y}),this.ctx.lastPoint=new a(Ne.x,Ne.y)},y.prototype.arc=function(A,j,R,z,le,Pe){if(isNaN(A)||isNaN(j)||isNaN(R)||isNaN(z)||isNaN(le))throw Rr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Pe=!!Pe,!this.ctx.transform.isIdentity){var Ne=this.ctx.transform.applyToPoint(new a(A,j));A=Ne.x,j=Ne.y;var Ae=this.ctx.transform.applyToPoint(new a(0,R)),Be=this.ctx.transform.applyToPoint(new a(0,0));R=Math.sqrt(Math.pow(Ae.x-Be.x,2)+Math.pow(Ae.y-Be.y,2))}Math.abs(le-z)>=2*Math.PI&&(z=0,le=2*Math.PI),this.path.push({type:"arc",x:A,y:j,radius:R,startAngle:z,endAngle:le,counterclockwise:Pe})},y.prototype.arcTo=function(A,j,R,z,le){throw new Error("arcTo not implemented.")},y.prototype.rect=function(A,j,R,z){if(isNaN(A)||isNaN(j)||isNaN(R)||isNaN(z))throw Rr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(A,j),this.lineTo(A+R,j),this.lineTo(A+R,j+z),this.lineTo(A,j+z),this.lineTo(A,j),this.lineTo(A+R,j),this.lineTo(A,j)},y.prototype.fillRect=function(A,j,R,z){if(isNaN(A)||isNaN(j)||isNaN(R)||isNaN(z))throw Rr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!x.call(this)){var le={};this.lineCap!=="butt"&&(le.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(le.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(A,j,R,z),this.fill(),le.hasOwnProperty("lineCap")&&(this.lineCap=le.lineCap),le.hasOwnProperty("lineJoin")&&(this.lineJoin=le.lineJoin)}},y.prototype.strokeRect=function(A,j,R,z){if(isNaN(A)||isNaN(j)||isNaN(R)||isNaN(z))throw Rr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");T.call(this)||(this.beginPath(),this.rect(A,j,R,z),this.stroke())},y.prototype.clearRect=function(A,j,R,z){if(isNaN(A)||isNaN(j)||isNaN(R)||isNaN(z))throw Rr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(A,j,R,z))},y.prototype.save=function(A){A=typeof A!="boolean"||A;for(var j=this.pdf.internal.getCurrentPageInfo().pageNumber,R=0;R<this.pdf.internal.getNumberOfPages();R++)this.pdf.setPage(R+1),this.pdf.internal.out("q");if(this.pdf.setPage(j),A){this.ctx.fontSize=this.pdf.internal.getFontSize();var z=new v(this.ctx);this.ctxStack.push(this.ctx),this.ctx=z}},y.prototype.restore=function(A){A=typeof A!="boolean"||A;for(var j=this.pdf.internal.getCurrentPageInfo().pageNumber,R=0;R<this.pdf.internal.getNumberOfPages();R++)this.pdf.setPage(R+1),this.pdf.internal.out("Q");this.pdf.setPage(j),A&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},y.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var w=function(A){var j,R,z,le;if(A.isCanvasGradient===!0&&(A=A.getColor()),!A)return{r:0,g:0,b:0,a:0,style:A};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(A))j=0,R=0,z=0,le=0;else{var Pe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(A);if(Pe!==null)j=parseInt(Pe[1]),R=parseInt(Pe[2]),z=parseInt(Pe[3]),le=1;else if((Pe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(A))!==null)j=parseInt(Pe[1]),R=parseInt(Pe[2]),z=parseInt(Pe[3]),le=parseFloat(Pe[4]);else{if(le=1,typeof A=="string"&&A.charAt(0)!=="#"){var Ne=new Bw(A);A=Ne.ok?Ne.toHex():"#000000"}A.length===4?(j=A.substring(1,2),j+=j,R=A.substring(2,3),R+=R,z=A.substring(3,4),z+=z):(j=A.substring(1,3),R=A.substring(3,5),z=A.substring(5,7)),j=parseInt(j,16),R=parseInt(R,16),z=parseInt(z,16)}}return{r:j,g:R,b:z,a:le,style:A}},x=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},T=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};y.prototype.fillText=function(A,j,R,z){if(isNaN(j)||isNaN(R)||typeof A!="string")throw Rr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(z=isNaN(z)?void 0:z,!x.call(this)){var le=ke(this.ctx.transform.rotation),Pe=this.ctx.transform.scaleX;G.call(this,{text:A,x:j,y:R,scale:Pe,angle:le,align:this.textAlign,maxWidth:z})}},y.prototype.strokeText=function(A,j,R,z){if(isNaN(j)||isNaN(R)||typeof A!="string")throw Rr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!T.call(this)){z=isNaN(z)?void 0:z;var le=ke(this.ctx.transform.rotation),Pe=this.ctx.transform.scaleX;G.call(this,{text:A,x:j,y:R,scale:Pe,renderingMode:"stroke",angle:le,align:this.textAlign,maxWidth:z})}},y.prototype.measureText=function(A){if(typeof A!="string")throw Rr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var j=this.pdf,R=this.pdf.internal.scaleFactor,z=j.internal.getFontSize(),le=j.getStringUnitWidth(A)*z/j.internal.scaleFactor,Pe=function(Ne){var Ae=(Ne=Ne||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ae}}),this};return new Pe({width:le*=Math.round(96*R/72*1e4)/1e4})},y.prototype.scale=function(A,j){if(isNaN(A)||isNaN(j))throw Rr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var R=new u(A,0,0,j,0,0);this.ctx.transform=this.ctx.transform.multiply(R)},y.prototype.rotate=function(A){if(isNaN(A))throw Rr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var j=new u(Math.cos(A),Math.sin(A),-Math.sin(A),Math.cos(A),0,0);this.ctx.transform=this.ctx.transform.multiply(j)},y.prototype.translate=function(A,j){if(isNaN(A)||isNaN(j))throw Rr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var R=new u(1,0,0,1,A,j);this.ctx.transform=this.ctx.transform.multiply(R)},y.prototype.transform=function(A,j,R,z,le,Pe){if(isNaN(A)||isNaN(j)||isNaN(R)||isNaN(z)||isNaN(le)||isNaN(Pe))throw Rr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ne=new u(A,j,R,z,le,Pe);this.ctx.transform=this.ctx.transform.multiply(Ne)},y.prototype.setTransform=function(A,j,R,z,le,Pe){A=isNaN(A)?1:A,j=isNaN(j)?0:j,R=isNaN(R)?0:R,z=isNaN(z)?1:z,le=isNaN(le)?0:le,Pe=isNaN(Pe)?0:Pe,this.ctx.transform=new u(A,j,R,z,le,Pe)};var E=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};y.prototype.drawImage=function(A,j,R,z,le,Pe,Ne,Ae,Be){var at=this.pdf.getImageProperties(A),mt=1,At=1,Lt=1,et=1;z!==void 0&&Ae!==void 0&&(Lt=Ae/z,et=Be/le,mt=at.width/z*Ae/z,At=at.height/le*Be/le),Pe===void 0&&(Pe=j,Ne=R,j=0,R=0),z!==void 0&&Ae===void 0&&(Ae=z,Be=le),z===void 0&&Ae===void 0&&(Ae=at.width,Be=at.height);for(var be,gt=this.ctx.transform.decompose(),Wt=ke(gt.rotate.shx),vt=new u,Ft=(vt=(vt=(vt=vt.multiply(gt.translate)).multiply(gt.skew)).multiply(gt.scale)).applyToRectangle(new d(Pe-j*Lt,Ne-R*et,z*mt,le*At)),Vt=k.call(this,Ft),qt=[],ni=0;ni<Vt.length;ni+=1)qt.indexOf(Vt[ni])===-1&&qt.push(Vt[ni]);if(Y(qt),this.autoPaging)for(var ai=qt[0],wi=qt[qt.length-1],ki=ai;ki<wi+1;ki++){this.pdf.setPage(ki);var Hi=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Gi=ki===1?this.posY+this.margin[0]:this.margin[0],vi=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ri=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],zt=ki===1?0:vi+(ki-2)*Ri;if(this.ctx.clip_path.length!==0){var Yr=this.path;be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=U(be,this.posX+this.margin[3],-zt+Gi+this.ctx.prevPageLastElemOffset),we.call(this,"fill",!0),this.path=Yr}var Xi=JSON.parse(JSON.stringify(Ft));Xi=U([Xi],this.posX+this.margin[3],-zt+Gi+this.ctx.prevPageLastElemOffset)[0];var oo=(ki>ai||ki<wi)&&E.call(this);oo&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Hi,Ri,null).clip().discardPath()),this.pdf.addImage(A,"JPEG",Xi.x,Xi.y,Xi.w,Xi.h,null,null,Wt),oo&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(A,"JPEG",Ft.x,Ft.y,Ft.w,Ft.h,null,null,Wt)};var k=function(A,j,R){var z=[];j=j||this.pdf.internal.pageSize.width,R=R||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var le=this.posY+this.ctx.prevPageLastElemOffset;switch(A.type){default:case"mt":case"lt":z.push(Math.floor((A.y+le)/R)+1);break;case"arc":z.push(Math.floor((A.y+le-A.radius)/R)+1),z.push(Math.floor((A.y+le+A.radius)/R)+1);break;case"qct":var Pe=qe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x,A.y);z.push(Math.floor((Pe.y+le)/R)+1),z.push(Math.floor((Pe.y+Pe.h+le)/R)+1);break;case"bct":var Ne=Xe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x2,A.y2,A.x,A.y);z.push(Math.floor((Ne.y+le)/R)+1),z.push(Math.floor((Ne.y+Ne.h+le)/R)+1);break;case"rect":z.push(Math.floor((A.y+le)/R)+1),z.push(Math.floor((A.y+A.h+le)/R)+1)}for(var Ae=0;Ae<z.length;Ae+=1)for(;this.pdf.internal.getNumberOfPages()<z[Ae];)F.call(this);return z},F=function(){var A=this.fillStyle,j=this.strokeStyle,R=this.font,z=this.lineCap,le=this.lineWidth,Pe=this.lineJoin;this.pdf.addPage(),this.fillStyle=A,this.strokeStyle=j,this.font=R,this.lineCap=z,this.lineWidth=le,this.lineJoin=Pe},U=function(A,j,R){for(var z=0;z<A.length;z++)switch(A[z].type){case"bct":A[z].x2+=j,A[z].y2+=R;case"qct":A[z].x1+=j,A[z].y1+=R;case"mt":case"lt":case"arc":default:A[z].x+=j,A[z].y+=R}return A},Y=function(A){return A.sort(function(j,R){return j-R})},ve=function(A,j){for(var R,z,le=this.fillStyle,Pe=this.strokeStyle,Ne=this.lineCap,Ae=this.lineWidth,Be=Math.abs(Ae*this.ctx.transform.scaleX),at=this.lineJoin,mt=JSON.parse(JSON.stringify(this.path)),At=JSON.parse(JSON.stringify(this.path)),Lt=[],et=0;et<At.length;et++)if(At[et].x!==void 0)for(var be=k.call(this,At[et]),gt=0;gt<be.length;gt+=1)Lt.indexOf(be[gt])===-1&&Lt.push(be[gt]);for(var Wt=0;Wt<Lt.length;Wt++)for(;this.pdf.internal.getNumberOfPages()<Lt[Wt];)F.call(this);if(Y(Lt),this.autoPaging)for(var vt=Lt[0],Ft=Lt[Lt.length-1],Vt=vt;Vt<Ft+1;Vt++){this.pdf.setPage(Vt),this.fillStyle=le,this.strokeStyle=Pe,this.lineCap=Ne,this.lineWidth=Be,this.lineJoin=at;var qt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ni=Vt===1?this.posY+this.margin[0]:this.margin[0],ai=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],wi=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ki=Vt===1?0:ai+(Vt-2)*wi;if(this.ctx.clip_path.length!==0){var Hi=this.path;R=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=U(R,this.posX+this.margin[3],-ki+ni+this.ctx.prevPageLastElemOffset),we.call(this,A,!0),this.path=Hi}if(z=JSON.parse(JSON.stringify(mt)),this.path=U(z,this.posX+this.margin[3],-ki+ni+this.ctx.prevPageLastElemOffset),j===!1||Vt===0){var Gi=(Vt>vt||Vt<Ft)&&E.call(this);Gi&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qt,wi,null).clip().discardPath()),we.call(this,A,j),Gi&&this.pdf.restoreGraphicsState()}this.lineWidth=Ae}else this.lineWidth=Be,we.call(this,A,j),this.lineWidth=Ae;this.path=mt},we=function(A,j){if((A!=="stroke"||j||!T.call(this))&&(A==="stroke"||j||!x.call(this))){for(var R,z,le=[],Pe=this.path,Ne=0;Ne<Pe.length;Ne++){var Ae=Pe[Ne];switch(Ae.type){case"begin":le.push({begin:!0});break;case"close":le.push({close:!0});break;case"mt":le.push({start:Ae,deltas:[],abs:[]});break;case"lt":var Be=le.length;if(Pe[Ne-1]&&!isNaN(Pe[Ne-1].x)&&(R=[Ae.x-Pe[Ne-1].x,Ae.y-Pe[Ne-1].y],Be>0)){for(;Be>=0;Be--)if(le[Be-1].close!==!0&&le[Be-1].begin!==!0){le[Be-1].deltas.push(R),le[Be-1].abs.push(Ae);break}}break;case"bct":R=[Ae.x1-Pe[Ne-1].x,Ae.y1-Pe[Ne-1].y,Ae.x2-Pe[Ne-1].x,Ae.y2-Pe[Ne-1].y,Ae.x-Pe[Ne-1].x,Ae.y-Pe[Ne-1].y],le[le.length-1].deltas.push(R);break;case"qct":var at=Pe[Ne-1].x+2/3*(Ae.x1-Pe[Ne-1].x),mt=Pe[Ne-1].y+2/3*(Ae.y1-Pe[Ne-1].y),At=Ae.x+2/3*(Ae.x1-Ae.x),Lt=Ae.y+2/3*(Ae.y1-Ae.y),et=Ae.x,be=Ae.y;R=[at-Pe[Ne-1].x,mt-Pe[Ne-1].y,At-Pe[Ne-1].x,Lt-Pe[Ne-1].y,et-Pe[Ne-1].x,be-Pe[Ne-1].y],le[le.length-1].deltas.push(R);break;case"arc":le.push({deltas:[],abs:[],arc:!0}),Array.isArray(le[le.length-1].abs)&&le[le.length-1].abs.push(Ae)}}z=j?null:A==="stroke"?"stroke":"fill";for(var gt=!1,Wt=0;Wt<le.length;Wt++)if(le[Wt].arc)for(var vt=le[Wt].abs,Ft=0;Ft<vt.length;Ft++){var Vt=vt[Ft];Vt.type==="arc"?re.call(this,Vt.x,Vt.y,Vt.radius,Vt.startAngle,Vt.endAngle,Vt.counterclockwise,void 0,j,!gt):xe.call(this,Vt.x,Vt.y),gt=!0}else if(le[Wt].close===!0)this.pdf.internal.out("h"),gt=!1;else if(le[Wt].begin!==!0){var qt=le[Wt].start.x,ni=le[Wt].start.y;ye.call(this,le[Wt].deltas,qt,ni),gt=!0}z&&ce.call(this,z),j&&Ce.call(this)}},Ue=function(A){var j=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,R=j*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return A-R;case"top":return A+j-R;case"hanging":return A+j-2*R;case"middle":return A+j/2-R;case"ideographic":return A;case"alphabetic":default:return A}},ne=function(A){return A+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};y.prototype.createLinearGradient=function(){var A=function(){};return A.colorStops=[],A.addColorStop=function(j,R){this.colorStops.push([j,R])},A.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},A.isCanvasGradient=!0,A},y.prototype.createPattern=function(){return this.createLinearGradient()},y.prototype.createRadialGradient=function(){return this.createLinearGradient()};var re=function(A,j,R,z,le,Pe,Ne,Ae,Be){for(var at=Ie.call(this,R,z,le,Pe),mt=0;mt<at.length;mt++){var At=at[mt];mt===0&&(Be?W.call(this,At.x1+A,At.y1+j):xe.call(this,At.x1+A,At.y1+j)),Le.call(this,A,j,At.x2,At.y2,At.x3,At.y3,At.x4,At.y4)}Ae?Ce.call(this):ce.call(this,Ne)},ce=function(A){switch(A){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Ce=function(){this.pdf.clip(),this.pdf.discardPath()},W=function(A,j){this.pdf.internal.out(e(A)+" "+r(j)+" m")},G=function(A){var j;switch(A.align){case"right":case"end":j="right";break;case"center":j="center";break;case"left":case"start":default:j="left"}var R=this.pdf.getTextDimensions(A.text),z=Ue.call(this,A.y),le=ne.call(this,z)-R.h,Pe=this.ctx.transform.applyToPoint(new a(A.x,z)),Ne=this.ctx.transform.decompose(),Ae=new u;Ae=(Ae=(Ae=Ae.multiply(Ne.translate)).multiply(Ne.skew)).multiply(Ne.scale);for(var Be,at,mt,At=this.ctx.transform.applyToRectangle(new d(A.x,z,R.w,R.h)),Lt=Ae.applyToRectangle(new d(A.x,le,R.w,R.h)),et=k.call(this,Lt),be=[],gt=0;gt<et.length;gt+=1)be.indexOf(et[gt])===-1&&be.push(et[gt]);if(Y(be),this.autoPaging)for(var Wt=be[0],vt=be[be.length-1],Ft=Wt;Ft<vt+1;Ft++){this.pdf.setPage(Ft);var Vt=Ft===1?this.posY+this.margin[0]:this.margin[0],qt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ni=this.pdf.internal.pageSize.height-this.margin[2],ai=ni-this.margin[0],wi=this.pdf.internal.pageSize.width-this.margin[1],ki=wi-this.margin[3],Hi=Ft===1?0:qt+(Ft-2)*ai;if(this.ctx.clip_path.length!==0){var Gi=this.path;Be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=U(Be,this.posX+this.margin[3],-1*Hi+Vt),we.call(this,"fill",!0),this.path=Gi}var vi=U([JSON.parse(JSON.stringify(Lt))],this.posX+this.margin[3],-Hi+Vt+this.ctx.prevPageLastElemOffset)[0];A.scale>=.01&&(at=this.pdf.internal.getFontSize(),this.pdf.setFontSize(at*A.scale),mt=this.lineWidth,this.lineWidth=mt*A.scale);var Ri=this.autoPaging!=="text";if(Ri||vi.y+vi.h<=ni){if(Ri||vi.y>=Vt&&vi.x<=wi){var zt=Ri?A.text:this.pdf.splitTextToSize(A.text,A.maxWidth||wi-vi.x)[0],Yr=U([JSON.parse(JSON.stringify(At))],this.posX+this.margin[3],-Hi+Vt+this.ctx.prevPageLastElemOffset)[0],Xi=Ri&&(Ft>Wt||Ft<vt)&&E.call(this);Xi&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ki,ai,null).clip().discardPath()),this.pdf.text(zt,Yr.x,Yr.y,{angle:A.angle,align:j,renderingMode:A.renderingMode}),Xi&&this.pdf.restoreGraphicsState()}}else vi.y<ni&&(this.ctx.prevPageLastElemOffset+=ni-vi.y);A.scale>=.01&&(this.pdf.setFontSize(at),this.lineWidth=mt)}else A.scale>=.01&&(at=this.pdf.internal.getFontSize(),this.pdf.setFontSize(at*A.scale),mt=this.lineWidth,this.lineWidth=mt*A.scale),this.pdf.text(A.text,Pe.x+this.posX,Pe.y+this.posY,{angle:A.angle,align:j,renderingMode:A.renderingMode,maxWidth:A.maxWidth}),A.scale>=.01&&(this.pdf.setFontSize(at),this.lineWidth=mt)},xe=function(A,j,R,z){R=R||0,z=z||0,this.pdf.internal.out(e(A+R)+" "+r(j+z)+" l")},ye=function(A,j,R){return this.pdf.lines(A,j,R,null,null)},Le=function(A,j,R,z,le,Pe,Ne,Ae){this.pdf.internal.out([t(n(R+A)),t(o(z+j)),t(n(le+A)),t(o(Pe+j)),t(n(Ne+A)),t(o(Ae+j)),"c"].join(" "))},Ie=function(A,j,R,z){for(var le=2*Math.PI,Pe=Math.PI/2;j>R;)j-=le;var Ne=Math.abs(R-j);Ne<le&&z&&(Ne=le-Ne);for(var Ae=[],Be=z?-1:1,at=j;Ne>1e-5;){var mt=at+Be*Math.min(Ne,Pe);Ae.push(Ye.call(this,A,at,mt)),Ne-=Math.abs(mt-at),at=mt}return Ae},Ye=function(A,j,R){var z=(R-j)/2,le=A*Math.cos(z),Pe=A*Math.sin(z),Ne=le,Ae=-Pe,Be=Ne*Ne+Ae*Ae,at=Be+Ne*le+Ae*Pe,mt=4/3*(Math.sqrt(2*Be*at)-at)/(Ne*Pe-Ae*le),At=Ne-mt*Ae,Lt=Ae+mt*Ne,et=At,be=-Lt,gt=z+j,Wt=Math.cos(gt),vt=Math.sin(gt);return{x1:A*Math.cos(j),y1:A*Math.sin(j),x2:At*Wt-Lt*vt,y2:At*vt+Lt*Wt,x3:et*Wt-be*vt,y3:et*vt+be*Wt,x4:A*Math.cos(R),y4:A*Math.sin(R)}},ke=function(A){return 180*A/Math.PI},qe=function(A,j,R,z,le,Pe){var Ne=A+.5*(R-A),Ae=j+.5*(z-j),Be=le+.5*(R-le),at=Pe+.5*(z-Pe),mt=Math.min(A,le,Ne,Be),At=Math.max(A,le,Ne,Be),Lt=Math.min(j,Pe,Ae,at),et=Math.max(j,Pe,Ae,at);return new d(mt,Lt,At-mt,et-Lt)},Xe=function(A,j,R,z,le,Pe,Ne,Ae){var Be,at,mt,At,Lt,et,be,gt,Wt,vt,Ft,Vt,qt,ni,ai=R-A,wi=z-j,ki=le-R,Hi=Pe-z,Gi=Ne-le,vi=Ae-Pe;for(at=0;at<41;at++)Wt=(be=(mt=A+(Be=at/40)*ai)+Be*((Lt=R+Be*ki)-mt))+Be*(Lt+Be*(le+Be*Gi-Lt)-be),vt=(gt=(At=j+Be*wi)+Be*((et=z+Be*Hi)-At))+Be*(et+Be*(Pe+Be*vi-et)-gt),at==0?(Ft=Wt,Vt=vt,qt=Wt,ni=vt):(Ft=Math.min(Ft,Wt),Vt=Math.min(Vt,vt),qt=Math.max(qt,Wt),ni=Math.max(ni,vt));return new d(Math.round(Ft),Math.round(Vt),Math.round(qt-Ft),Math.round(ni-Vt))},St=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var A,j,R=(A=this.ctx.lineDash,j=this.ctx.lineDashOffset,JSON.stringify({lineDash:A,lineDashOffset:j}));this.prevLineDash!==R&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=R)}}})(oi.API),function(i){var t=function(o){var a,d,u,m,v,y,w,x,T,E;for(/[^\x00-\xFF]/.test(o),d=[],u=0,m=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;m>u;u+=4)(v=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(y=(v=((v=((v=((v=(v-(E=v%85))/85)-(T=v%85))/85)-(x=v%85))/85)-(w=v%85))/85)%85,d.push(y+33,w+33,x+33,T+33,E+33)):d.push(122);return function(k,F){for(var U=F;U>0;U--)k.pop()}(d,a.length),String.fromCharCode.apply(String,d)+"~>"},e=function(o){var a,d,u,m,v,y=String,w="length",x=255,T="charCodeAt",E="slice",k="replace";for(o[E](-2),o=o[E](0,-2)[k](/\s/g,"")[k]("z","!!!!!"),u=[],m=0,v=(o+=a="uuuuu"[E](o[w]%5||5))[w];v>m;m+=5)d=52200625*(o[T](m)-33)+614125*(o[T](m+1)-33)+7225*(o[T](m+2)-33)+85*(o[T](m+3)-33)+(o[T](m+4)-33),u.push(x&d>>24,x&d>>16,x&d>>8,x&d);return function(F,U){for(var Y=U;Y>0;Y--)F.pop()}(u,a[w]),y.fromCharCode.apply(y,u)},r=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),a.test(o)===!1)return"";for(var d="",u=0;u<o.length;u+=2)d+=String.fromCharCode("0x"+(o[u]+o[u+1]));return d},n=function(o){for(var a=new Uint8Array(o.length),d=o.length;d--;)a[d]=o.charCodeAt(d);return o=(a=Lh(a)).reduce(function(u,m){return u+String.fromCharCode(m)},"")};i.processDataByFilters=function(o,a){var d=0,u=o||"",m=[];for(typeof(a=a||[])=="string"&&(a=[a]),d=0;d<a.length;d+=1)switch(a[d]){case"ASCII85Decode":case"/ASCII85Decode":u=e(u),m.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),m.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=r(u),m.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=u.split("").map(function(v){return("0"+v.charCodeAt().toString(16)).slice(-2)}).join("")+">",m.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=n(u),m.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[d]+'" is not implemented')}return{data:u,reverseChain:m.reverse().join(" ")}}}(oi.API),function(i){i.loadFile=function(t,e,r){return function(n,o,a){o=o!==!1,a=typeof a=="function"?a:function(){};var d=void 0;try{d=function(u,m,v){var y=new XMLHttpRequest,w=0,x=function(T){var E=T.length,k=[],F=String.fromCharCode;for(w=0;w<E;w+=1)k.push(F(255&T.charCodeAt(w)));return k.join("")};if(y.open("GET",u,!m),y.overrideMimeType("text/plain; charset=x-user-defined"),m===!1&&(y.onload=function(){y.status===200?v(x(this.responseText)):v(void 0)}),y.send(null),m&&y.status===200)return x(y.responseText)}(n,o,a)}catch{}return d}(t,e,r)},i.loadImageFile=i.loadFile}(oi.API),function(i){function t(){return(Si.html2canvas?Promise.resolve(Si.html2canvas):import("./chunk-SWBZ2T66.js")).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function e(){return(Si.DOMPurify?Promise.resolve(Si.DOMPurify):import("./chunk-TJOU6LZ6.js")).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var d=Ir(a);return d==="undefined"?"undefined":d==="string"||a instanceof String?"string":d==="number"||a instanceof Number?"number":d==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":d==="object"?"object":"unknown"},n=function(a,d){var u=document.createElement(a);for(var m in d.className&&(u.className=d.className),d.innerHTML&&d.dompurify&&(u.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)u.style[m]=d.style[m];return u},o=function a(d){var u=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),m=a.convert(Promise.resolve(),u);return m=(m=m.setProgress(1,a,1,[a])).set(d)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,d){return a.__proto__=d||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,d){return this.then(function(){switch(d=d||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(e).then(function(u){return this.set({src:n("div",{innerHTML:a,dompurify:u})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=function u(m,v){for(var y=m.nodeType===3?document.createTextNode(m.nodeValue):m.cloneNode(!1),w=m.firstChild;w;w=w.nextSibling)v!==!0&&w.nodeType===1&&w.nodeName==="SCRIPT"||y.appendChild(u(w,v));return m.nodeType===1&&(m.nodeName==="CANVAS"?(y.width=m.width,y.height=m.height,y.getContext("2d").drawImage(m,0,0)):m.nodeName!=="TEXTAREA"&&m.nodeName!=="SELECT"||(y.value=m.value),y.addEventListener("load",function(){y.scrollTop=m.scrollTop,y.scrollLeft=m.scrollLeft},!0)),y}(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=n("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=n("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(n("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(d){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,d(this.prop.container,u)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(d){var u=this.opt.jsPDF,m=this.opt.fontFaces,v=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:v,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=m,m)for(var w=0;w<m.length;++w){var x=m[w],T=x.src.find(function(E){return E.format==="truetype"});T&&u.addFont(T.url,x.ref.name,x.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,u.context2d.save(!0),d(this.prop.container,y)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,d,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(a,d):this.outputPdf(a,d)},o.prototype.outputPdf=function(a,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,d)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if(r(a)!=="object")return this;var d=Object.keys(a||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=a[u]};switch(u){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[u]=a[u]}}},this);return this.then(function(){return this.thenList(d)})},o.prototype.get=function(a,d){return this.then(function(){var u=a in o.template.prop?this.prop[a]:this.opt[a];return d?d(u):u})},o.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function d(u,m){return Math.floor(u*m/72*96)}return this.then(function(){(a=a||oi.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:d(a.inner.width,a.k),height:d(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,d,u,m){return a!=null&&(this.progress.val=a),d!=null&&(this.progress.state=d),u!=null&&(this.progress.n=u),m!=null&&(this.progress.stack=m),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,d,u,m){return this.setProgress(a?this.progress.val+a:null,d||null,u?this.progress.n+u:null,m?this.progress.stack.concat(m):null)},o.prototype.then=function(a,d){var u=this;return this.thenCore(a,d,function(m,v){return u.updateProgress(null,null,1,[m]),Promise.prototype.then.call(this,function(y){return u.updateProgress(null,m),y}).then(m,v).then(function(y){return u.updateProgress(1),y})})},o.prototype.thenCore=function(a,d,u){u=u||Promise.prototype.then,a&&(a=a.bind(this)),d&&(d=d.bind(this));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:o.convert(Object.assign({},this),Promise.prototype),v=u.call(m,a,d);return o.convert(v,this.__proto__)},o.prototype.thenExternal=function(a,d){return Promise.prototype.then.call(this,a,d)},o.prototype.thenList=function(a){var d=this;return a.forEach(function(u){d=d.thenCore(u)}),d},o.prototype.catch=function(a){a&&(a=a.bind(this));var d=Promise.prototype.catch.call(this,a);return o.convert(d,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,oi.getPageSize=function(a,d,u){if(Ir(a)==="object"){var m=a;a=m.orientation,d=m.unit||d,u=m.format||u}d=d||"mm",u=u||"a4",a=(""+(a||"P")).toLowerCase();var v,y=(""+u).toLowerCase(),w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":v=1;break;case"mm":v=72/25.4;break;case"cm":v=72/2.54;break;case"in":v=72;break;case"px":v=.75;break;case"pc":case"em":v=12;break;case"ex":v=6;break;default:throw"Invalid unit: "+d}var x,T=0,E=0;if(w.hasOwnProperty(y))T=w[y][1]/v,E=w[y][0]/v;else try{T=u[1],E=u[0]}catch{throw new Error("Invalid format: "+u)}if(a==="p"||a==="portrait")a="p",E>T&&(x=E,E=T,T=x);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",T>E&&(x=E,E=T,T=x)}return{width:E,height:T,unit:d,k:v,orientation:a}},i.html=function(a,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(m_):null;var u=new o(d);return d.worker?u:u.from(a).doCallback()}}(oi.API),oi.API.addJS=function(i){return Iw=i,this.internal.events.subscribe("postPutResources",function(){Bh=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Bh+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Aw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Iw+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Bh!==void 0&&Aw!==void 0&&this.internal.out("/Names <</JavaScript "+Bh+" 0 R>>")}),this},function(i){var t;i.events.push(["postPutResources",function(){var e=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n=e.outline.render().split(/\r\n/),o=0;o<n.length;o++){var a=n[o],d=r.exec(a);if(d!=null){var u=d[1];e.internal.newObjectDeferredBegin(u,!1)}e.internal.write(a)}if(this.outline.createNamedDestinations){var m=this.internal.pages.length,v=[];for(o=0;o<m;o++){var y=e.internal.newObject();v.push(y);var w=e.internal.getPageInfo(o+1);e.internal.write("<< /D["+w.objId+" 0 R /XYZ null null null]>> endobj")}var x=e.internal.newObject();for(e.internal.write("<< /Names [ "),o=0;o<v.length;o++)e.internal.write("(page_"+(o+1)+")"+v[o]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+x+" 0 R"),e.internal.write(">>","endobj")}}]),i.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),i.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(r,n,o){var a={title:n,options:o,children:[]};return r==null&&(r=this.root),r.children.push(a),a},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(r){r.id=e.internal.newObjectDeferred();for(var n=0;n<r.children.length;n++)this.genIds_r(r.children[n])},e.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},e.outline.renderItems=function(r){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var a=r.children[o];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var d=this.count=this.count_r({count:0},a);if(d>0&&this.line("/Count "+d),a.options&&a.options.pageNumber){var u=e.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var m=0;m<r.children.length;m++)this.renderItems(r.children[m])},e.outline.line=function(r){this.ctx.val+=r+`\r
`},e.outline.makeRef=function(r){return r.id+" 0 R"},e.outline.makeString=function(r){return"("+e.internal.pdfEscape(r)+")"},e.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(r,n){for(var o=0;o<n.children.length;o++)r.count++,this.count_r(r,n.children[o]);return r.count}}])}(oi.API),function(i){var t=[192,193,194,195,196,197,198,199];i.processJPEG=function(e,r,n,o,a,d){var u,m=this.decode.DCT_DECODE,v=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=a||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(u=function(y){for(var w,x=256*y.charCodeAt(4)+y.charCodeAt(5),T=y.length,E={width:0,height:0,numcomponents:1},k=4;k<T;k+=2){if(k+=x,t.indexOf(y.charCodeAt(k+1))!==-1){w=256*y.charCodeAt(k+5)+y.charCodeAt(k+6),E={width:256*y.charCodeAt(k+7)+y.charCodeAt(k+8),height:w,numcomponents:y.charCodeAt(k+9)};break}x=256*y.charCodeAt(k+2)+y.charCodeAt(k+3)}return E}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:d=this.color_spaces.DEVICE_GRAY;break;case 4:d=this.color_spaces.DEVICE_CMYK;break;case 3:d=this.color_spaces.DEVICE_RGB}v={data:e,width:u.width,height:u.height,colorSpace:d,bitsPerComponent:8,filter:m,index:r,alias:n}}return v}}(oi.API);var tu,Uh,Ow,Fw,Nw,X9=function(){var i,t,e;function r(o){var a,d,u,m,v,y,w,x,T,E,k,F,U,Y;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},y=null;;){switch(a=this.readUInt32(),T=function(){var ve,we;for(we=[],ve=0;ve<4;++ve)we.push(String.fromCharCode(this.data[this.pos++]));return we}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":y&&this.animation.frames.push(y),this.pos+=4,y={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},v=this.readUInt16(),m=this.readUInt16()||100,y.delay=1e3*v/m,y.disposeOp=this.data[this.pos++],y.blendOp=this.data[this.pos++],y.data=[];break;case"IDAT":case"fdAT":for(T==="fdAT"&&(this.pos+=4,a-=4),o=y?.data||this.imgData,F=0;0<=a?F<a:F>a;0<=a?++F:--F)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(u=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>u)throw new Error("More transparent colors than palette size");if((E=u-this.transparency.indexed.length)>0)for(U=0;0<=E?U<E:U>E;0<=E?++U:--U)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":w=(k=this.read(a)).indexOf(0),x=String.fromCharCode.apply(String,k.slice(0,w)),this.text[x]=String.fromCharCode.apply(String,k.slice(w+1));break;case"IEND":return y&&this.animation.frames.push(y),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=(Y=this.colorType)===4||Y===6,d=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*d,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(o){var a,d;for(d=[],a=0;0<=o?a<o:a>o;0<=o?++a:--a)d.push(this.data[this.pos++]);return d},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(o){var a=this.pixelBitlength/8,d=new Uint8Array(this.width*this.height*a),u=0,m=this;if(o==null&&(o=this.imgData),o.length===0)return new Uint8Array(0);function v(y,w,x,T){var E,k,F,U,Y,ve,we,Ue,ne,re,ce,Ce,W,G,xe,ye,Le,Ie,Ye,ke,qe,Xe=Math.ceil((m.width-y)/x),St=Math.ceil((m.height-w)/T),A=m.width==Xe&&m.height==St;for(G=a*Xe,Ce=A?d:new Uint8Array(G*St),ve=o.length,W=0,k=0;W<St&&u<ve;){switch(o[u++]){case 0:for(U=Le=0;Le<G;U=Le+=1)Ce[k++]=o[u++];break;case 1:for(U=Ie=0;Ie<G;U=Ie+=1)E=o[u++],Y=U<a?0:Ce[k-a],Ce[k++]=(E+Y)%256;break;case 2:for(U=Ye=0;Ye<G;U=Ye+=1)E=o[u++],F=(U-U%a)/a,xe=W&&Ce[(W-1)*G+F*a+U%a],Ce[k++]=(xe+E)%256;break;case 3:for(U=ke=0;ke<G;U=ke+=1)E=o[u++],F=(U-U%a)/a,Y=U<a?0:Ce[k-a],xe=W&&Ce[(W-1)*G+F*a+U%a],Ce[k++]=(E+Math.floor((Y+xe)/2))%256;break;case 4:for(U=qe=0;qe<G;U=qe+=1)E=o[u++],F=(U-U%a)/a,Y=U<a?0:Ce[k-a],W===0?xe=ye=0:(xe=Ce[(W-1)*G+F*a+U%a],ye=F&&Ce[(W-1)*G+(F-1)*a+U%a]),we=Y+xe-ye,Ue=Math.abs(we-Y),re=Math.abs(we-xe),ce=Math.abs(we-ye),ne=Ue<=re&&Ue<=ce?Y:re<=ce?xe:ye,Ce[k++]=(E+ne)%256;break;default:throw new Error("Invalid filter algorithm: "+o[u-1])}if(!A){var j=((w+W*T)*m.width+y)*a,R=W*G;for(U=0;U<Xe;U+=1){for(var z=0;z<a;z+=1)d[j++]=Ce[R++];j+=(x-1)*a}}W++}}return o=xw(o),m.interlaceMethod==1?(v(0,0,8,8),v(4,0,8,8),v(0,4,4,8),v(2,0,4,4),v(0,2,2,4),v(1,0,2,2),v(0,1,1,2)):v(0,0,1,1),d},r.prototype.decodePalette=function(){var o,a,d,u,m,v,y,w,x;for(d=this.palette,v=this.transparency.indexed||[],m=new Uint8Array((v.length||0)+d.length),u=0,o=0,a=y=0,w=d.length;y<w;a=y+=3)m[u++]=d[a],m[u++]=d[a+1],m[u++]=d[a+2],m[u++]=(x=v[o++])!=null?x:255;return m},r.prototype.copyToImageData=function(o,a){var d,u,m,v,y,w,x,T,E,k,F;if(u=this.colors,E=null,d=this.hasAlphaChannel,this.palette.length&&(E=(F=this._decodedPalette)!=null?F:this._decodedPalette=this.decodePalette(),u=4,d=!0),T=(m=o.data||o).length,y=E||a,v=w=0,u===1)for(;v<T;)x=E?4*a[v/4]:w,k=y[x++],m[v++]=k,m[v++]=k,m[v++]=k,m[v++]=d?y[x++]:255,w=x;else for(;v<T;)x=E?4*a[v/4]:w,m[v++]=y[x++],m[v++]=y[x++],m[v++]=y[x++],m[v++]=d?y[x++]:255,w=x},r.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var n=function(){if(Object.prototype.toString.call(Si)==="[object Window]"){try{t=Si.document.createElement("canvas"),e=t.getContext("2d")}catch{return!1}return!0}return!1};return n(),i=function(o){var a;if(n()===!0)return e.width=o.width,e.height=o.height,e.clearRect(0,0,o.width,o.height),e.putImageData(o,0,0),(a=new Image).src=t.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(o){var a,d,u,m,v,y,w,x;if(this.animation){for(x=[],d=v=0,y=(w=this.animation.frames).length;v<y;d=++v)a=w[d],u=o.createImageData(a.width,a.height),m=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(u,m),a.imageData=u,x.push(a.image=i(u));return x}},r.prototype.renderFrame=function(o,a){var d,u,m;return d=(u=this.animation.frames)[a],m=u[a-1],a===0&&o.clearRect(0,0,this.width,this.height),m?.disposeOp===1?o.clearRect(m.xOffset,m.yOffset,m.width,m.height):m?.disposeOp===2&&o.putImageData(m.imageData,m.xOffset,m.yOffset),d.blendOp===0&&o.clearRect(d.xOffset,d.yOffset,d.width,d.height),o.drawImage(d.image,d.xOffset,d.yOffset)},r.prototype.animate=function(o){var a,d,u,m,v,y,w=this;return d=0,y=this.animation,m=y.numFrames,u=y.frames,v=y.numPlays,(a=function(){var x,T;if(x=d++%m,T=u[x],w.renderFrame(o,x),m>1&&d/m<v)return w.animation._timeout=setTimeout(a,T.delay)})()},r.prototype.stopAnimation=function(){var o;return clearTimeout((o=this.animation)!=null?o._timeout:void 0)},r.prototype.render=function(o){var a,d;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,a=o.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(d=a.createImageData(this.width,this.height),this.copyToImageData(d,this.decodePixels()),a.putImageData(d,0,0))},r}();function Z9(i){var t=0;if(i[t++]!==71||i[t++]!==73||i[t++]!==70||i[t++]!==56||(i[t++]+1&253)!=56||i[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=i[t++]|i[t++]<<8,r=i[t++]|i[t++]<<8,n=i[t++],o=n>>7,a=1<<(7&n)+1;i[t++],i[t++];var d=null,u=null;o&&(d=t,u=a,t+=3*a);var m=!0,v=[],y=0,w=null,x=0,T=null;for(this.width=e,this.height=r;m&&t<i.length;)switch(i[t++]){case 33:switch(i[t++]){case 255:if(i[t]!==11||i[t+1]==78&&i[t+2]==69&&i[t+3]==84&&i[t+4]==83&&i[t+5]==67&&i[t+6]==65&&i[t+7]==80&&i[t+8]==69&&i[t+9]==50&&i[t+10]==46&&i[t+11]==48&&i[t+12]==3&&i[t+13]==1&&i[t+16]==0)t+=14,T=i[t++]|i[t++]<<8,t++;else for(t+=12;;){if(!((W=i[t++])>=0))throw Error("Invalid block size");if(W===0)break;t+=W}break;case 249:if(i[t++]!==4||i[t+4]!==0)throw new Error("Invalid graphics extension block.");var E=i[t++];y=i[t++]|i[t++]<<8,w=i[t++],!(1&E)&&(w=null),x=E>>2&7,t++;break;case 254:for(;;){if(!((W=i[t++])>=0))throw Error("Invalid block size");if(W===0)break;t+=W}break;default:throw new Error("Unknown graphic control label: 0x"+i[t-1].toString(16))}break;case 44:var k=i[t++]|i[t++]<<8,F=i[t++]|i[t++]<<8,U=i[t++]|i[t++]<<8,Y=i[t++]|i[t++]<<8,ve=i[t++],we=ve>>6&1,Ue=1<<(7&ve)+1,ne=d,re=u,ce=!1;ve>>7&&(ce=!0,ne=t,re=Ue,t+=3*Ue);var Ce=t;for(t++;;){var W;if(!((W=i[t++])>=0))throw Error("Invalid block size");if(W===0)break;t+=W}v.push({x:k,y:F,width:U,height:Y,has_local_palette:ce,palette_offset:ne,palette_size:re,data_offset:Ce,data_length:t-Ce,transparent_index:w,interlaced:!!we,delay:y,disposal:x});break;case 59:m=!1;break;default:throw new Error("Unknown gif block: 0x"+i[t-1].toString(16))}this.numFrames=function(){return v.length},this.loopCount=function(){return T},this.frameInfo=function(G){if(G<0||G>=v.length)throw new Error("Frame index out of range.");return v[G]},this.decodeAndBlitFrameBGRA=function(G,xe){var ye=this.frameInfo(G),Le=ye.width*ye.height,Ie=new Uint8Array(Le);Lw(i,ye.data_offset,Ie,Le);var Ye=ye.palette_offset,ke=ye.transparent_index;ke===null&&(ke=256);var qe=ye.width,Xe=e-qe,St=qe,A=4*(ye.y*e+ye.x),j=4*((ye.y+ye.height)*e+ye.x),R=A,z=4*Xe;ye.interlaced===!0&&(z+=4*e*7);for(var le=8,Pe=0,Ne=Ie.length;Pe<Ne;++Pe){var Ae=Ie[Pe];if(St===0&&(St=qe,(R+=z)>=j&&(z=4*Xe+4*e*(le-1),R=A+(qe+Xe)*(le<<1),le>>=1)),Ae===ke)R+=4;else{var Be=i[Ye+3*Ae],at=i[Ye+3*Ae+1],mt=i[Ye+3*Ae+2];xe[R++]=mt,xe[R++]=at,xe[R++]=Be,xe[R++]=255}--St}},this.decodeAndBlitFrameRGBA=function(G,xe){var ye=this.frameInfo(G),Le=ye.width*ye.height,Ie=new Uint8Array(Le);Lw(i,ye.data_offset,Ie,Le);var Ye=ye.palette_offset,ke=ye.transparent_index;ke===null&&(ke=256);var qe=ye.width,Xe=e-qe,St=qe,A=4*(ye.y*e+ye.x),j=4*((ye.y+ye.height)*e+ye.x),R=A,z=4*Xe;ye.interlaced===!0&&(z+=4*e*7);for(var le=8,Pe=0,Ne=Ie.length;Pe<Ne;++Pe){var Ae=Ie[Pe];if(St===0&&(St=qe,(R+=z)>=j&&(z=4*Xe+4*e*(le-1),R=A+(qe+Xe)*(le<<1),le>>=1)),Ae===ke)R+=4;else{var Be=i[Ye+3*Ae],at=i[Ye+3*Ae+1],mt=i[Ye+3*Ae+2];xe[R++]=Be,xe[R++]=at,xe[R++]=mt,xe[R++]=255}--St}}}function Lw(i,t,e,r){for(var n=i[t++],o=1<<n,a=o+1,d=a+1,u=n+1,m=(1<<u)-1,v=0,y=0,w=0,x=i[t++],T=new Int32Array(4096),E=null;;){for(;v<16&&x!==0;)y|=i[t++]<<v,v+=8,x===1?x=i[t++]:--x;if(v<u)break;var k=y&m;if(y>>=u,v-=u,k!==o){if(k===a)break;for(var F=k<d?k:E,U=0,Y=F;Y>o;)Y=T[Y]>>8,++U;var ve=Y;if(w+U+(F!==k?1:0)>r)return void Rr.log("Warning, gif stream longer than expected.");e[w++]=ve;var we=w+=U;for(F!==k&&(e[w++]=ve),Y=F;U--;)Y=T[Y],e[--we]=255&Y,Y>>=8;E!==null&&d<4096&&(T[d++]=E<<8|ve,d>=m+1&&u<12&&(++u,m=m<<1|1)),E=k}else d=a+1,m=(1<<(u=n+1))-1,E=null}return w!==r&&Rr.log("Warning, gif stream shorter than expected."),e}function l_(i){var t,e,r,n,o,a=Math.floor,d=new Array(64),u=new Array(64),m=new Array(64),v=new Array(64),y=new Array(65535),w=new Array(65535),x=new Array(64),T=new Array(64),E=[],k=0,F=7,U=new Array(64),Y=new Array(64),ve=new Array(64),we=new Array(256),Ue=new Array(2048),ne=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],re=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],ce=[0,1,2,3,4,5,6,7,8,9,10,11],Ce=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],W=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],G=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],xe=[0,1,2,3,4,5,6,7,8,9,10,11],ye=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Le=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ie(A,j){for(var R=0,z=0,le=new Array,Pe=1;Pe<=16;Pe++){for(var Ne=1;Ne<=A[Pe];Ne++)le[j[z]]=[],le[j[z]][0]=R,le[j[z]][1]=Pe,z++,R++;R*=2}return le}function Ye(A){for(var j=A[0],R=A[1]-1;R>=0;)j&1<<R&&(k|=1<<F),R--,--F<0&&(k==255?(ke(255),ke(0)):ke(k),F=7,k=0)}function ke(A){E.push(A)}function qe(A){ke(A>>8&255),ke(255&A)}function Xe(A,j,R,z,le){for(var Pe,Ne=le[0],Ae=le[240],Be=function(vt,Ft){var Vt,qt,ni,ai,wi,ki,Hi,Gi,vi,Ri,zt=0;for(vi=0;vi<8;++vi){Vt=vt[zt],qt=vt[zt+1],ni=vt[zt+2],ai=vt[zt+3],wi=vt[zt+4],ki=vt[zt+5],Hi=vt[zt+6];var Yr=Vt+(Gi=vt[zt+7]),Xi=Vt-Gi,oo=qt+Hi,er=qt-Hi,Pr=ni+ki,Vo=ni-ki,tr=ai+wi,sa=ai-wi,Mr=Yr+tr,So=Yr-tr,la=oo+Pr,_r=oo-Pr;vt[zt]=Mr+la,vt[zt+4]=Mr-la;var Ei=.707106781*(_r+So);vt[zt+2]=So+Ei,vt[zt+6]=So-Ei;var or=.382683433*((Mr=sa+Vo)-(_r=er+Xi)),es=.5411961*Mr+or,Kr=1.306562965*_r+or,qo=.707106781*(la=Vo+er),jo=Xi+qo,mi=Xi-qo;vt[zt+5]=mi+es,vt[zt+3]=mi-es,vt[zt+1]=jo+Kr,vt[zt+7]=jo-Kr,zt+=8}for(zt=0,vi=0;vi<8;++vi){Vt=vt[zt],qt=vt[zt+8],ni=vt[zt+16],ai=vt[zt+24],wi=vt[zt+32],ki=vt[zt+40],Hi=vt[zt+48];var Eo=Vt+(Gi=vt[zt+56]),Vr=Vt-Gi,$t=qt+Hi,Hr=qt-Hi,qr=ni+ki,X=ni-ki,he=ai+wi,oe=ai-wi,se=Eo+he,me=Eo-he,ge=$t+qr,ze=$t-qr;vt[zt]=se+ge,vt[zt+32]=se-ge;var tt=.707106781*(ze+me);vt[zt+16]=me+tt,vt[zt+48]=me-tt;var We=.382683433*((se=oe+X)-(ze=Hr+Vr)),He=.5411961*se+We,Ze=1.306562965*ze+We,Ct=.707106781*(ge=X+Hr),Ot=Vr+Ct,Xt=Vr-Ct;vt[zt+40]=Xt+He,vt[zt+24]=Xt-He,vt[zt+8]=Ot+Ze,vt[zt+56]=Ot-Ze,zt++}for(vi=0;vi<64;++vi)Ri=vt[vi]*Ft[vi],x[vi]=Ri>0?Ri+.5|0:Ri-.5|0;return x}(A,j),at=0;at<64;++at)T[ne[at]]=Be[at];var mt=T[0]-R;R=T[0],mt==0?Ye(z[0]):(Ye(z[w[Pe=32767+mt]]),Ye(y[Pe]));for(var At=63;At>0&&T[At]==0;)At--;if(At==0)return Ye(Ne),R;for(var Lt,et=1;et<=At;){for(var be=et;T[et]==0&&et<=At;)++et;var gt=et-be;if(gt>=16){Lt=gt>>4;for(var Wt=1;Wt<=Lt;++Wt)Ye(Ae);gt&=15}Pe=32767+T[et],Ye(le[(gt<<4)+w[Pe]]),Ye(y[Pe]),et++}return At!=63&&Ye(Ne),R}function St(A){A=Math.min(Math.max(A,1),100),o!=A&&(function(j){for(var R=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],z=0;z<64;z++){var le=a((R[z]*j+50)/100);le=Math.min(Math.max(le,1),255),d[ne[z]]=le}for(var Pe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ne=0;Ne<64;Ne++){var Ae=a((Pe[Ne]*j+50)/100);Ae=Math.min(Math.max(Ae,1),255),u[ne[Ne]]=Ae}for(var Be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],at=0,mt=0;mt<8;mt++)for(var At=0;At<8;At++)m[at]=1/(d[ne[at]]*Be[mt]*Be[At]*8),v[at]=1/(u[ne[at]]*Be[mt]*Be[At]*8),at++}(A<50?Math.floor(5e3/A):Math.floor(200-2*A)),o=A)}this.encode=function(A,j){j&&St(j),E=new Array,k=0,F=7,qe(65496),qe(65504),qe(16),ke(74),ke(70),ke(73),ke(70),ke(0),ke(1),ke(1),ke(0),qe(1),qe(1),ke(0),ke(0),function(){qe(65499),qe(132),ke(0);for(var qt=0;qt<64;qt++)ke(d[qt]);ke(1);for(var ni=0;ni<64;ni++)ke(u[ni])}(),function(qt,ni){qe(65472),qe(17),ke(8),qe(ni),qe(qt),ke(3),ke(1),ke(17),ke(0),ke(2),ke(17),ke(1),ke(3),ke(17),ke(1)}(A.width,A.height),function(){qe(65476),qe(418),ke(0);for(var qt=0;qt<16;qt++)ke(re[qt+1]);for(var ni=0;ni<=11;ni++)ke(ce[ni]);ke(16);for(var ai=0;ai<16;ai++)ke(Ce[ai+1]);for(var wi=0;wi<=161;wi++)ke(W[wi]);ke(1);for(var ki=0;ki<16;ki++)ke(G[ki+1]);for(var Hi=0;Hi<=11;Hi++)ke(xe[Hi]);ke(17);for(var Gi=0;Gi<16;Gi++)ke(ye[Gi+1]);for(var vi=0;vi<=161;vi++)ke(Le[vi])}(),qe(65498),qe(12),ke(3),ke(1),ke(0),ke(2),ke(17),ke(3),ke(17),ke(0),ke(63),ke(0);var R=0,z=0,le=0;k=0,F=7,this.encode.displayName="_encode_";for(var Pe,Ne,Ae,Be,at,mt,At,Lt,et,be=A.data,gt=A.width,Wt=A.height,vt=4*gt,Ft=0;Ft<Wt;){for(Pe=0;Pe<vt;){for(at=vt*Ft+Pe,At=-1,Lt=0,et=0;et<64;et++)mt=at+(Lt=et>>3)*vt+(At=4*(7&et)),Ft+Lt>=Wt&&(mt-=vt*(Ft+1+Lt-Wt)),Pe+At>=vt&&(mt-=Pe+At-vt+4),Ne=be[mt++],Ae=be[mt++],Be=be[mt++],U[et]=(Ue[Ne]+Ue[Ae+256>>0]+Ue[Be+512>>0]>>16)-128,Y[et]=(Ue[Ne+768>>0]+Ue[Ae+1024>>0]+Ue[Be+1280>>0]>>16)-128,ve[et]=(Ue[Ne+1280>>0]+Ue[Ae+1536>>0]+Ue[Be+1792>>0]>>16)-128;R=Xe(U,m,R,t,r),z=Xe(Y,v,z,e,n),le=Xe(ve,v,le,e,n),Pe+=32}Ft+=8}if(F>=0){var Vt=[];Vt[1]=F+1,Vt[0]=(1<<F+1)-1,Ye(Vt)}return qe(65497),new Uint8Array(E)},i=i||50,function(){for(var A=String.fromCharCode,j=0;j<256;j++)we[j]=A(j)}(),t=Ie(re,ce),e=Ie(G,xe),r=Ie(Ce,W),n=Ie(ye,Le),function(){for(var A=1,j=2,R=1;R<=15;R++){for(var z=A;z<j;z++)w[32767+z]=R,y[32767+z]=[],y[32767+z][1]=R,y[32767+z][0]=z;for(var le=-(j-1);le<=-A;le++)w[32767+le]=R,y[32767+le]=[],y[32767+le][1]=R,y[32767+le][0]=j-1+le;A<<=1,j<<=1}}(),function(){for(var A=0;A<256;A++)Ue[A]=19595*A,Ue[A+256>>0]=38470*A,Ue[A+512>>0]=7471*A+32768,Ue[A+768>>0]=-11059*A,Ue[A+1024>>0]=-21709*A,Ue[A+1280>>0]=32768*A+8421375,Ue[A+1536>>0]=-27439*A,Ue[A+1792>>0]=-5329*A}(),St(i)}function Es(i,t){if(this.pos=0,this.buffer=i,this.datav=new DataView(i.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Dw(i){function t(re){if(!re)throw Error("assert :P")}function e(re,ce,Ce){for(var W=0;4>W;W++)if(re[ce+W]!=Ce.charCodeAt(W))return!0;return!1}function r(re,ce,Ce,W,G){for(var xe=0;xe<G;xe++)re[ce+xe]=Ce[W+xe]}function n(re,ce,Ce,W){for(var G=0;G<W;G++)re[ce+G]=Ce}function o(re){return new Int32Array(re)}function a(re,ce){for(var Ce=[],W=0;W<re;W++)Ce.push(new ce);return Ce}function d(re,ce){var Ce=[];return function W(G,xe,ye){for(var Le=ye[xe],Ie=0;Ie<Le&&(G.push(ye.length>xe+1?[]:new ce),!(ye.length<xe+1));Ie++)W(G[Ie],xe+1,ye)}(Ce,0,re),Ce}var u=function(){var re=this;function ce(h,b){for(var P=1<<b-1>>>0;h&P;)P>>>=1;return P?(h&P-1)+P:h}function Ce(h,b,P,I,q){t(!(I%P));do h[b+(I-=P)]=q;while(0<I)}function W(h,b,P,I,q){if(t(2328>=q),512>=q)var Z=o(512);else if((Z=o(q))==null)return 0;return function(K,ee,te,fe,Oe,Ge){var $e,Re,ft=ee,rt=1<<te,Fe=o(16),De=o(16);for(t(Oe!=0),t(fe!=null),t(K!=null),t(0<te),Re=0;Re<Oe;++Re){if(15<fe[Re])return 0;++Fe[fe[Re]]}if(Fe[0]==Oe)return 0;for(De[1]=0,$e=1;15>$e;++$e){if(Fe[$e]>1<<$e)return 0;De[$e+1]=De[$e]+Fe[$e]}for(Re=0;Re<Oe;++Re)$e=fe[Re],0<fe[Re]&&(Ge[De[$e]++]=Re);if(De[15]==1)return(fe=new G).g=0,fe.value=Ge[0],Ce(K,ft,1,rt,fe),rt;var dt,xt=-1,pt=rt-1,Yt=0,jt=1,_i=1,Ht=1<<te;for(Re=0,$e=1,Oe=2;$e<=te;++$e,Oe<<=1){if(jt+=_i<<=1,0>(_i-=Fe[$e]))return 0;for(;0<Fe[$e];--Fe[$e])(fe=new G).g=$e,fe.value=Ge[Re++],Ce(K,ft+Yt,Oe,Ht,fe),Yt=ce(Yt,$e)}for($e=te+1,Oe=2;15>=$e;++$e,Oe<<=1){if(jt+=_i<<=1,0>(_i-=Fe[$e]))return 0;for(;0<Fe[$e];--Fe[$e]){if(fe=new G,(Yt&pt)!=xt){for(ft+=Ht,dt=1<<(xt=$e)-te;15>xt&&!(0>=(dt-=Fe[xt]));)++xt,dt<<=1;rt+=Ht=1<<(dt=xt-te),K[ee+(xt=Yt&pt)].g=dt+te,K[ee+xt].value=ft-ee-xt}fe.g=$e-te,fe.value=Ge[Re++],Ce(K,ft+(Yt>>te),Oe,Ht,fe),Yt=ce(Yt,$e)}}return jt!=2*De[15]-1?0:rt}(h,b,P,I,q,Z)}function G(){this.value=this.g=0}function xe(){this.value=this.g=0}function ye(){this.G=a(5,G),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Br,xe)}function Le(h,b,P,I){t(h!=null),t(b!=null),t(2147483648>I),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=b,h.pa=P,h.Jd=b,h.Yc=P+I,h.Zc=4<=I?P+I-4+1:P,Pe(h)}function Ie(h,b){for(var P=0;0<b--;)P|=Ae(h,128)<<b;return P}function Ye(h,b){var P=Ie(h,b);return Ne(h)?-P:P}function ke(h,b,P,I){var q,Z=0;for(t(h!=null),t(b!=null),t(4294967288>I),h.Sb=I,h.Ra=0,h.u=0,h.h=0,4<I&&(I=4),q=0;q<I;++q)Z+=b[P+q]<<8*q;h.Ra=Z,h.bb=I,h.oa=b,h.pa=P}function qe(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<Ds-8>>>0,++h.bb,h.u-=8;R(h)&&(h.h=1,h.u=0)}function Xe(h,b){if(t(0<=b),!h.h&&b<=Xl){var P=j(h)&ss[b];return h.u+=b,qe(h),P}return h.h=1,h.u=0}function St(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function A(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function j(h){return h.Ra>>>(h.u&Ds-1)>>>0}function R(h){return t(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>Ds}function z(h,b){h.u=b,h.h=R(h)}function le(h){h.u>=rd&&(t(h.u>=rd),qe(h))}function Pe(h){t(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(t(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function Ne(h){return Ie(h,1)}function Ae(h,b){var P=h.Ca;0>h.b&&Pe(h);var I=h.b,q=P*b>>>8,Z=(h.I>>>I>q)+0;for(Z?(P-=q,h.I-=q+1<<I>>>0):P=q+1,I=P,q=0;256<=I;)q+=8,I>>=8;return I=7^q+Xr[I],h.b-=I,h.Ca=(P<<I)-1,Z}function Be(h,b,P){h[b+0]=P>>24&255,h[b+1]=P>>16&255,h[b+2]=P>>8&255,h[b+3]=P>>0&255}function at(h,b){return h[b+0]<<0|h[b+1]<<8}function mt(h,b){return at(h,b)|h[b+2]<<16}function At(h,b){return at(h,b)|at(h,b+2)<<16}function Lt(h,b){var P=1<<b;return t(h!=null),t(0<b),h.X=o(P),h.X==null?0:(h.Mb=32-b,h.Xa=b,1)}function et(h,b){t(h!=null),t(b!=null),t(h.Xa==b.Xa),r(b.X,0,h.X,0,1<<b.Xa)}function be(){this.X=[],this.Xa=this.Mb=0}function gt(h,b,P,I){t(P!=null),t(I!=null);var q=P[0],Z=I[0];return q==0&&(q=(h*Z+b/2)/b),Z==0&&(Z=(b*q+h/2)/h),0>=q||0>=Z?0:(P[0]=q,I[0]=Z,1)}function Wt(h,b){return h+(1<<b)-1>>>b}function vt(h,b){return((4278255360&h)+(4278255360&b)>>>0&4278255360)+((16711935&h)+(16711935&b)>>>0&16711935)>>>0}function Ft(h,b){re[b]=function(P,I,q,Z,K,ee,te){var fe;for(fe=0;fe<K;++fe){var Oe=re[h](ee[te+fe-1],q,Z+fe);ee[te+fe]=vt(P[I+fe],Oe)}}}function Vt(){this.ud=this.hd=this.jd=0}function qt(h,b){return((4278124286&(h^b))>>>1)+(h&b)>>>0}function ni(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function ai(h,b){return ni(h+(h-b+.5>>1))}function wi(h,b,P){return Math.abs(b-P)-Math.abs(h-P)}function ki(h,b,P,I,q,Z,K){for(I=Z[K-1],P=0;P<q;++P)Z[K+P]=I=vt(h[b+P],I)}function Hi(h,b,P,I,q){var Z;for(Z=0;Z<P;++Z){var K=h[b+Z],ee=K>>8&255,te=16711935&(te=(te=16711935&K)+((ee<<16)+ee));I[q+Z]=(4278255360&K)+te>>>0}}function Gi(h,b){b.jd=h>>0&255,b.hd=h>>8&255,b.ud=h>>16&255}function vi(h,b,P,I,q,Z){var K;for(K=0;K<I;++K){var ee=b[P+K],te=ee>>>8,fe=ee,Oe=255&(Oe=(Oe=ee>>>16)+((h.jd<<24>>24)*(te<<24>>24)>>>5));fe=255&(fe=(fe=fe+((h.hd<<24>>24)*(te<<24>>24)>>>5))+((h.ud<<24>>24)*(Oe<<24>>24)>>>5)),q[Z+K]=(4278255360&ee)+(Oe<<16)+fe}}function Ri(h,b,P,I,q){re[b]=function(Z,K,ee,te,fe,Oe,Ge,$e,Re){for(te=Ge;te<$e;++te)for(Ge=0;Ge<Re;++Ge)fe[Oe++]=q(ee[I(Z[K++])])},re[h]=function(Z,K,ee,te,fe,Oe,Ge){var $e=8>>Z.b,Re=Z.Ea,ft=Z.K[0],rt=Z.w;if(8>$e)for(Z=(1<<Z.b)-1,rt=(1<<$e)-1;K<ee;++K){var Fe,De=0;for(Fe=0;Fe<Re;++Fe)Fe&Z||(De=I(te[fe++])),Oe[Ge++]=q(ft[De&rt]),De>>=$e}else re["VP8LMapColor"+P](te,fe,ft,rt,Oe,Ge,K,ee,Re)}}function zt(h,b,P,I,q){for(P=b+P;b<P;){var Z=h[b++];I[q++]=Z>>16&255,I[q++]=Z>>8&255,I[q++]=Z>>0&255}}function Yr(h,b,P,I,q){for(P=b+P;b<P;){var Z=h[b++];I[q++]=Z>>16&255,I[q++]=Z>>8&255,I[q++]=Z>>0&255,I[q++]=Z>>24&255}}function Xi(h,b,P,I,q){for(P=b+P;b<P;){var Z=(K=h[b++])>>16&240|K>>12&15,K=K>>0&240|K>>28&15;I[q++]=Z,I[q++]=K}}function oo(h,b,P,I,q){for(P=b+P;b<P;){var Z=(K=h[b++])>>16&248|K>>13&7,K=K>>5&224|K>>3&31;I[q++]=Z,I[q++]=K}}function er(h,b,P,I,q){for(P=b+P;b<P;){var Z=h[b++];I[q++]=Z>>0&255,I[q++]=Z>>8&255,I[q++]=Z>>16&255}}function Pr(h,b,P,I,q,Z){if(Z==0)for(P=b+P;b<P;)Be(I,((Z=h[b++])[0]>>24|Z[1]>>8&65280|Z[2]<<8&16711680|Z[3]<<24)>>>0),q+=32;else r(I,q,h,b,P)}function Vo(h,b){re[b][0]=re[h+"0"],re[b][1]=re[h+"1"],re[b][2]=re[h+"2"],re[b][3]=re[h+"3"],re[b][4]=re[h+"4"],re[b][5]=re[h+"5"],re[b][6]=re[h+"6"],re[b][7]=re[h+"7"],re[b][8]=re[h+"8"],re[b][9]=re[h+"9"],re[b][10]=re[h+"10"],re[b][11]=re[h+"11"],re[b][12]=re[h+"12"],re[b][13]=re[h+"13"],re[b][14]=re[h+"0"],re[b][15]=re[h+"0"]}function tr(h){return h==mu||h==s||h==f||h==_}function sa(){this.eb=[],this.size=this.A=this.fb=0}function Mr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function So(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new sa,this.f.kb=new Mr,this.sd=null}function la(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function _r(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ei(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function or(h,b){var P=h.T,I=b.ba.f.RGBA,q=I.eb,Z=I.fb+h.ka*I.A,K=Zo[b.ba.S],ee=h.y,te=h.O,fe=h.f,Oe=h.N,Ge=h.ea,$e=h.W,Re=b.cc,ft=b.dc,rt=b.Mc,Fe=b.Nc,De=h.ka,dt=h.ka+h.T,xt=h.U,pt=xt+1>>1;for(De==0?K(ee,te,null,null,fe,Oe,Ge,$e,fe,Oe,Ge,$e,q,Z,null,null,xt):(K(b.ec,b.fc,ee,te,Re,ft,rt,Fe,fe,Oe,Ge,$e,q,Z-I.A,q,Z,xt),++P);De+2<dt;De+=2)Re=fe,ft=Oe,rt=Ge,Fe=$e,Oe+=h.Rc,$e+=h.Rc,Z+=2*I.A,K(ee,(te+=2*h.fa)-h.fa,ee,te,Re,ft,rt,Fe,fe,Oe,Ge,$e,q,Z-I.A,q,Z,xt);return te+=h.fa,h.j+dt<h.o?(r(b.ec,b.fc,ee,te,xt),r(b.cc,b.dc,fe,Oe,pt),r(b.Mc,b.Nc,Ge,$e,pt),P--):1&dt||K(ee,te,null,null,fe,Oe,Ge,$e,fe,Oe,Ge,$e,q,Z+I.A,null,null,xt),P}function es(h,b,P){var I=h.F,q=[h.J];if(I!=null){var Z=h.U,K=b.ba.S,ee=K==t0||K==f;b=b.ba.f.RGBA;var te=[0],fe=h.ka;te[0]=h.T,h.Kb&&(fe==0?--te[0]:(--fe,q[0]-=h.width),h.j+h.ka+h.T==h.o&&(te[0]=h.o-h.j-fe));var Oe=b.eb;fe=b.fb+fe*b.A,h=ir(I,q[0],h.width,Z,te,Oe,fe+(ee?0:3),b.A),t(P==te),h&&tr(K)&&Ao(Oe,fe,ee,Z,te,b.A)}return 0}function Kr(h){var b=h.ma,P=b.ba.S,I=11>P,q=P==ld||P==cd||P==t0||P==i0||P==12||tr(P);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!Gl(b.Oa,h,q?11:12))return 0;if(q&&tr(P)&&ut(),h.da)alert("todo:use_scaling");else{if(I){if(b.Ib=Ei,h.Kb){if(P=h.U+1>>1,b.memory=o(h.U+2*P),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+h.U,b.Mc=b.cc,b.Nc=b.dc+P,b.Ib=or,ut()}}else alert("todo:EmitYUV");q&&(b.Jb=es,I&&Ve())}if(I&&!F_){for(h=0;256>h;++h)P5[h]=89858*(h-128)+Wp>>zp,k5[h]=-22014*(h-128)+Wp,T5[h]=-45773*(h-128),M5[h]=113618*(h-128)+Wp>>zp;for(h=vu;h<_g;++h)b=76283*(h-16)+Wp>>zp,A5[h-vu]=Po(b,255),I5[h-vu]=Po(b+8>>4,15);F_=1}return 1}function qo(h){var b=h.ma,P=h.U,I=h.T;return t(!(1&h.ka)),0>=P||0>=I?0:(P=b.Ib(h,b),b.Jb!=null&&b.Jb(h,b,P),b.Dc+=P,1)}function jo(h){h.ma.memory=null}function mi(h,b,P,I){return Xe(h,8)!=47?0:(b[0]=Xe(h,14)+1,P[0]=Xe(h,14)+1,I[0]=Xe(h,1),Xe(h,3)!=0?0:!h.h)}function Eo(h,b){if(4>h)return h+1;var P=h-2>>1;return(2+(1&h)<<P)+Xe(b,P)+1}function Vr(h,b){return 120<b?b-120:1<=(P=((P=Qe[b-1])>>4)*h+(8-(15&P)))?P:1;var P}function $t(h,b,P){var I=j(P),q=h[b+=255&I].g-8;return 0<q&&(z(P,P.u+8),I=j(P),b+=h[b].value,b+=I&(1<<q)-1),z(P,P.u+h[b].g),h[b].value}function Hr(h,b,P){return P.g+=h.g,P.value+=h.value<<b>>>0,t(8>=P.g),h.g}function qr(h,b,P){var I=h.xc;return t((b=I==0?0:h.vc[h.md*(P>>I)+(b>>I)])<h.Wb),h.Ya[b]}function X(h,b,P,I){var q=h.ab,Z=h.c*b,K=h.C;b=K+b;var ee=P,te=I;for(I=h.Ta,P=h.Ua;0<q--;){var fe=h.gc[q],Oe=K,Ge=b,$e=ee,Re=te,ft=(te=I,ee=P,fe.Ea);switch(t(Oe<Ge),t(Ge<=fe.nc),fe.hc){case 2:Qd($e,Re,(Ge-Oe)*ft,te,ee);break;case 0:var rt=Oe,Fe=Ge,De=te,dt=ee,xt=(Ht=fe).Ea;rt==0&&(uu($e,Re,null,null,1,De,dt),ki($e,Re+1,0,0,xt-1,De,dt+1),Re+=xt,dt+=xt,++rt);for(var pt=1<<Ht.b,Yt=pt-1,jt=Wt(xt,Ht.b),_i=Ht.K,Ht=Ht.w+(rt>>Ht.b)*jt;rt<Fe;){var dr=_i,br=Ht,lr=1;for(Fa($e,Re,De,dt-xt,1,De,dt);lr<xt;){var rr=(lr&~Yt)+pt;rr>xt&&(rr=xt),(0,pa[dr[br++]>>8&15])($e,Re+ +lr,De,dt+lr-xt,rr-lr,De,dt+lr),lr=rr}Re+=xt,dt+=xt,++rt&Yt||(Ht+=jt)}Ge!=fe.nc&&r(te,ee-ft,te,ee+(Ge-Oe-1)*ft,ft);break;case 1:for(ft=$e,Fe=Re,xt=($e=fe.Ea)-(dt=$e&~(De=(Re=1<<fe.b)-1)),rt=Wt($e,fe.b),pt=fe.K,fe=fe.w+(Oe>>fe.b)*rt;Oe<Ge;){for(Yt=pt,jt=fe,_i=new Vt,Ht=Fe+dt,dr=Fe+$e;Fe<Ht;)Gi(Yt[jt++],_i),cs(_i,ft,Fe,Re,te,ee),Fe+=Re,ee+=Re;Fe<dr&&(Gi(Yt[jt++],_i),cs(_i,ft,Fe,xt,te,ee),Fe+=xt,ee+=xt),++Oe&De||(fe+=rt)}break;case 3:if($e==te&&Re==ee&&0<fe.b){for(Fe=te,$e=ft=ee+(Ge-Oe)*ft-(dt=(Ge-Oe)*Wt(fe.Ea,fe.b)),Re=te,De=ee,rt=[],dt=(xt=dt)-1;0<=dt;--dt)rt[dt]=Re[De+dt];for(dt=xt-1;0<=dt;--dt)Fe[$e+dt]=rt[dt];nn(fe,Oe,Ge,te,ft,te,ee)}else nn(fe,Oe,Ge,$e,Re,te,ee)}ee=I,te=P}te!=P&&r(I,P,ee,te,Z)}function he(h,b){var P=h.V,I=h.Ba+h.c*h.C,q=b-h.C;if(t(b<=h.l.o),t(16>=q),0<q){var Z=h.l,K=h.Ta,ee=h.Ua,te=Z.width;if(X(h,q,P,I),q=ee=[ee],t((P=h.C)<(I=b)),t(Z.v<Z.va),I>Z.o&&(I=Z.o),P<Z.j){var fe=Z.j-P;P=Z.j,q[0]+=fe*te}if(P>=I?P=0:(q[0]+=4*Z.v,Z.ka=P-Z.j,Z.U=Z.va-Z.v,Z.T=I-P,P=1),P){if(ee=ee[0],11>(P=h.ca).S){var Oe=P.f.RGBA,Ge=(I=P.S,q=Z.U,Z=Z.T,fe=Oe.eb,Oe.A),$e=Z;for(Oe=Oe.fb+h.Ma*Oe.A;0<$e--;){var Re=K,ft=ee,rt=q,Fe=fe,De=Oe;switch(I){case sd:Tn(Re,ft,rt,Fe,De);break;case ld:on(Re,ft,rt,Fe,De);break;case mu:on(Re,ft,rt,Fe,De),Ao(Fe,De,0,rt,1,0);break;case pu:Na(Re,ft,rt,Fe,De);break;case cd:Pr(Re,ft,rt,Fe,De,1);break;case s:Pr(Re,ft,rt,Fe,De,1),Ao(Fe,De,0,rt,1,0);break;case t0:Pr(Re,ft,rt,Fe,De,0);break;case f:Pr(Re,ft,rt,Fe,De,0),Ao(Fe,De,1,rt,1,0);break;case i0:fa(Re,ft,rt,Fe,De);break;case _:fa(Re,ft,rt,Fe,De),kr(Fe,De,rt,1,0);break;case fu:ma(Re,ft,rt,Fe,De);break;default:t(0)}ee+=te,Oe+=Ge}h.Ma+=Z}else alert("todo:EmitRescaledRowsYUVA");t(h.Ma<=P.height)}}h.C=b,t(h.C<=h.i)}function oe(h){var b;if(0<h.ua)return 0;for(b=0;b<h.Wb;++b){var P=h.Ya[b].G,I=h.Ya[b].H;if(0<P[1][I[1]+0].g||0<P[2][I[2]+0].g||0<P[3][I[3]+0].g)return 0}return 1}function se(h,b,P,I,q,Z){if(h.Z!=0){var K=h.qd,ee=h.rd;for(t(js[h.Z]!=null);b<P;++b)js[h.Z](K,ee,I,q,I,q,Z),K=I,ee=q,q+=Z;h.qd=K,h.rd=ee}}function me(h,b){var P=h.l.ma,I=P.Z==0||P.Z==1?h.l.j:h.C;if(I=h.C<I?I:h.C,t(b<=h.l.o),b>I){var q=h.l.width,Z=P.ca,K=P.tb+q*I,ee=h.V,te=h.Ba+h.c*I,fe=h.gc;t(h.ab==1),t(fe[0].hc==3),nd(fe[0],I,b,ee,te,Z,K),se(P,I,b,Z,K,q)}h.C=h.Ma=b}function ge(h,b,P,I,q,Z,K){var ee=h.$/I,te=h.$%I,fe=h.m,Oe=h.s,Ge=P+h.$,$e=Ge;q=P+I*q;var Re=P+I*Z,ft=280+Oe.ua,rt=h.Pb?ee:16777216,Fe=0<Oe.ua?Oe.Wa:null,De=Oe.wc,dt=Ge<Re?qr(Oe,te,ee):null;t(h.C<Z),t(Re<=q);var xt=!1;e:for(;;){for(;xt||Ge<Re;){var pt=0;if(ee>=rt){var Yt=Ge-P;t((rt=h).Pb),rt.wd=rt.m,rt.xd=Yt,0<rt.s.ua&&et(rt.s.Wa,rt.s.vb),rt=ee+Zt}if(te&De||(dt=qr(Oe,te,ee)),t(dt!=null),dt.Qb&&(b[Ge]=dt.qb,xt=!0),!xt)if(le(fe),dt.jc){pt=fe,Yt=b;var jt=Ge,_i=dt.pd[j(pt)&Br-1];t(dt.jc),256>_i.g?(z(pt,pt.u+_i.g),Yt[jt]=_i.value,pt=0):(z(pt,pt.u+_i.g-256),t(256<=_i.value),pt=_i.value),pt==0&&(xt=!0)}else pt=$t(dt.G[0],dt.H[0],fe);if(fe.h)break;if(xt||256>pt){if(!xt)if(dt.nd)b[Ge]=(dt.qb|pt<<8)>>>0;else{if(le(fe),xt=$t(dt.G[1],dt.H[1],fe),le(fe),Yt=$t(dt.G[2],dt.H[2],fe),jt=$t(dt.G[3],dt.H[3],fe),fe.h)break;b[Ge]=(jt<<24|xt<<16|pt<<8|Yt)>>>0}if(xt=!1,++Ge,++te>=I&&(te=0,++ee,K!=null&&ee<=Z&&!(ee%16)&&K(h,ee),Fe!=null))for(;$e<Ge;)pt=b[$e++],Fe.X[(506832829*pt&4294967295)>>>Fe.Mb]=pt}else if(280>pt){if(pt=Eo(pt-256,fe),Yt=$t(dt.G[4],dt.H[4],fe),le(fe),Yt=Vr(I,Yt=Eo(Yt,fe)),fe.h)break;if(Ge-P<Yt||q-Ge<pt)break e;for(jt=0;jt<pt;++jt)b[Ge+jt]=b[Ge+jt-Yt];for(Ge+=pt,te+=pt;te>=I;)te-=I,++ee,K!=null&&ee<=Z&&!(ee%16)&&K(h,ee);if(t(Ge<=q),te&De&&(dt=qr(Oe,te,ee)),Fe!=null)for(;$e<Ge;)pt=b[$e++],Fe.X[(506832829*pt&4294967295)>>>Fe.Mb]=pt}else{if(!(pt<ft))break e;for(xt=pt-280,t(Fe!=null);$e<Ge;)pt=b[$e++],Fe.X[(506832829*pt&4294967295)>>>Fe.Mb]=pt;pt=Ge,t(!(xt>>>(Yt=Fe).Xa)),b[pt]=Yt.X[xt],xt=!0}xt||t(fe.h==R(fe))}if(h.Pb&&fe.h&&Ge<q)t(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&et(h.s.vb,h.s.Wa);else{if(fe.h)break e;K?.(h,ee>Z?Z:ee),h.a=0,h.$=Ge-P}return 1}return h.a=3,0}function ze(h){t(h!=null),h.vc=null,h.yc=null,h.Ya=null;var b=h.Wa;b!=null&&(b.X=null),h.vb=null,t(h!=null)}function tt(){var h=new Kd;return h==null?null:(h.a=0,h.xb=dd,Vo("Predictor","VP8LPredictors"),Vo("Predictor","VP8LPredictors_C"),Vo("PredictorAdd","VP8LPredictorsAdd"),Vo("PredictorAdd","VP8LPredictorsAdd_C"),Qd=Hi,cs=vi,Tn=zt,on=Yr,fa=Xi,ma=oo,Na=er,re.VP8LMapColor32b=ls,re.VP8LMapColor8b=Zl,h)}function We(h,b,P,I,q){var Z=1,K=[h],ee=[b],te=I.m,fe=I.s,Oe=null,Ge=0;e:for(;;){if(P)for(;Z&&Xe(te,1);){var $e=K,Re=ee,ft=I,rt=1,Fe=ft.m,De=ft.gc[ft.ab],dt=Xe(Fe,2);if(ft.Oc&1<<dt)Z=0;else{switch(ft.Oc|=1<<dt,De.hc=dt,De.Ea=$e[0],De.nc=Re[0],De.K=[null],++ft.ab,t(4>=ft.ab),dt){case 0:case 1:De.b=Xe(Fe,3)+2,rt=We(Wt(De.Ea,De.b),Wt(De.nc,De.b),0,ft,De.K),De.K=De.K[0];break;case 3:var xt,pt=Xe(Fe,8)+1,Yt=16<pt?0:4<pt?1:2<pt?2:3;if($e[0]=Wt(De.Ea,Yt),De.b=Yt,xt=rt=We(pt,1,0,ft,De.K)){var jt,_i=pt,Ht=De,dr=1<<(8>>Ht.b),br=o(dr);if(br==null)xt=0;else{var lr=Ht.K[0],rr=Ht.w;for(br[0]=Ht.K[0][0],jt=1;jt<1*_i;++jt)br[jt]=vt(lr[rr+jt],br[jt-1]);for(;jt<4*dr;++jt)br[jt]=0;Ht.K[0]=null,Ht.K[0]=br,xt=1}}rt=xt;break;case 2:break;default:t(0)}Z=rt}}if(K=K[0],ee=ee[0],Z&&Xe(te,1)&&!(Z=1<=(Ge=Xe(te,4))&&11>=Ge)){I.a=3;break e}var Lr;if(Lr=Z)t:{var Ar,Ui,yn,Yo=I,Cn=K,Ko=ee,xr=Ge,va=P,_a=Yo.m,Nn=Yo.s,Zn=[null],No=1,Ba=0,zs=bt[xr];i:for(;;){if(va&&Xe(_a,1)){var Ln=Xe(_a,3)+2,hl=Wt(Cn,Ln),ud=Wt(Ko,Ln),r0=hl*ud;if(!We(hl,ud,0,Yo,Zn))break i;for(Zn=Zn[0],Nn.xc=Ln,Ar=0;Ar<r0;++Ar){var tc=Zn[Ar]>>8&65535;Zn[Ar]=tc,tc>=No&&(No=tc+1)}}if(_a.h)break i;for(Ui=0;5>Ui;++Ui){var ln=J[Ui];!Ui&&0<xr&&(ln+=1<<xr),Ba<ln&&(Ba=ln)}var bg=a(No*zs,G),D_=No,R_=a(D_,ye);if(R_==null)var Gp=null;else t(65536>=D_),Gp=R_;var _u=o(Ba);if(Gp==null||_u==null||bg==null){Yo.a=1;break i}var $p=bg;for(Ar=yn=0;Ar<No;++Ar){var ps=Gp[Ar],n0=ps.G,o0=ps.H,B_=0,Xp=1,U_=0;for(Ui=0;5>Ui;++Ui){ln=J[Ui],n0[Ui]=$p,o0[Ui]=yn,!Ui&&0<xr&&(ln+=1<<xr);n:{var Zp,xg=ln,Yp=Yo,bu=_u,N5=$p,L5=yn,yg=0,ic=Yp.m,D5=Xe(ic,1);if(n(bu,0,0,xg),D5){var R5=Xe(ic,1)+1,B5=Xe(ic,1),V_=Xe(ic,B5==0?1:8);bu[V_]=1,R5==2&&(bu[V_=Xe(ic,8)]=1);var Kp=1}else{var q_=o(19),j_=Xe(ic,4)+4;if(19<j_){Yp.a=3;var Jp=0;break n}for(Zp=0;Zp<j_;++Zp)q_[je[Zp]]=Xe(ic,3);var Cg=void 0,xu=void 0,z_=Yp,U5=q_,Qp=xg,W_=bu,wg=0,rc=z_.m,H_=8,G_=a(128,G);r:for(;W(G_,0,7,U5,19);){if(Xe(rc,1)){var V5=2+2*Xe(rc,3);if((Cg=2+Xe(rc,V5))>Qp)break r}else Cg=Qp;for(xu=0;xu<Qp&&Cg--;){le(rc);var $_=G_[0+(127&j(rc))];z(rc,rc.u+$_.g);var a0=$_.value;if(16>a0)W_[xu++]=a0,a0!=0&&(H_=a0);else{var q5=a0==16,X_=a0-16,j5=O[X_],Z_=Xe(rc,S[X_])+j5;if(xu+Z_>Qp)break r;for(var z5=q5?H_:0;0<Z_--;)W_[xu++]=z5}}wg=1;break r}wg||(z_.a=3),Kp=wg}(Kp=Kp&&!ic.h)&&(yg=W(N5,L5,8,bu,xg)),Kp&&yg!=0?Jp=yg:(Yp.a=3,Jp=0)}if(Jp==0)break i;if(Xp&&Se[Ui]==1&&(Xp=$p[yn].g==0),B_+=$p[yn].g,yn+=Jp,3>=Ui){var yu,Sg=_u[0];for(yu=1;yu<ln;++yu)_u[yu]>Sg&&(Sg=_u[yu]);U_+=Sg}}if(ps.nd=Xp,ps.Qb=0,Xp&&(ps.qb=(n0[3][o0[3]+0].value<<24|n0[1][o0[1]+0].value<<16|n0[2][o0[2]+0].value)>>>0,B_==0&&256>n0[0][o0[0]+0].value&&(ps.Qb=1,ps.qb+=n0[0][o0[0]+0].value<<8)),ps.jc=!ps.Qb&&6>U_,ps.jc){var ef,gl=ps;for(ef=0;ef<Br;++ef){var nc=ef,oc=gl.pd[nc],tf=gl.G[0][gl.H[0]+nc];256<=tf.value?(oc.g=tf.g+256,oc.value=tf.value):(oc.g=0,oc.value=0,nc>>=Hr(tf,8,oc),nc>>=Hr(gl.G[1][gl.H[1]+nc],16,oc),nc>>=Hr(gl.G[2][gl.H[2]+nc],0,oc),Hr(gl.G[3][gl.H[3]+nc],24,oc))}}}Nn.vc=Zn,Nn.Wb=No,Nn.Ya=Gp,Nn.yc=bg,Lr=1;break t}Lr=0}if(!(Z=Lr)){I.a=3;break e}if(0<Ge){if(fe.ua=1<<Ge,!Lt(fe.Wa,Ge)){I.a=1,Z=0;break e}}else fe.ua=0;var Eg=I,Y_=K,W5=ee,Pg=Eg.s,Mg=Pg.xc;if(Eg.c=Y_,Eg.i=W5,Pg.md=Wt(Y_,Mg),Pg.wc=Mg==0?-1:(1<<Mg)-1,P){I.xb=sn;break e}if((Oe=o(K*ee))==null){I.a=1,Z=0;break e}Z=(Z=ge(I,Oe,0,K,ee,ee,null))&&!te.h;break e}return Z?(q!=null?q[0]=Oe:(t(Oe==null),t(P)),I.$=0,P||ze(fe)):ze(fe),Z}function He(h,b){var P=h.c*h.i,I=P+b+16*b;return t(h.c<=b),h.V=o(I),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+P+b,1)}function Ze(h,b){var P=h.C,I=b-P,q=h.V,Z=h.Ba+h.c*P;for(t(b<=h.l.o);0<I;){var K=16<I?16:I,ee=h.l.ma,te=h.l.width,fe=te*K,Oe=ee.ca,Ge=ee.tb+te*P,$e=h.Ta,Re=h.Ua;X(h,K,q,Z),Zr($e,Re,Oe,Ge,fe),se(ee,P,P+K,Oe,Ge,te),I-=K,q+=K*h.c,P+=K}t(P==b),h.C=h.Ma=b}function Ct(){this.ub=this.yd=this.td=this.Rb=0}function Ot(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Xt(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Nt(){this.Yb=function(){var h=[];return function b(P,I,q){for(var Z=q[I],K=0;K<Z&&(P.push(q.length>I+1?[]:0),!(q.length<I+1));K++)b(P[K],I+1,q)}(h,0,[3,11]),h}()}function Rt(){this.jb=o(3),this.Wc=d([4,8],Nt),this.Xc=d([4,17],Nt)}function yi(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function ar(){this.ld=this.La=this.dd=this.tc=0}function Jr(){this.Na=this.la=0}function fr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function rn(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ma(){this.uc=this.M=this.Nb=0,this.wa=Array(new ar),this.Y=0,this.ya=Array(new rn),this.aa=0,this.l=new sr}function ao(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Oi(){this.cb=this.a=0,this.sc="",this.m=new St,this.Od=new Ct,this.Kc=new Ot,this.ed=new yi,this.Qa=new Xt,this.Ic=this.$c=this.Aa=0,this.D=new Ma,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,St),this.ia=0,this.pb=a(4,fr),this.Pa=new Rt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ao),this.Hd=0,this.rb=Array(new Jr),this.sb=0,this.wa=Array(new ar),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new rn),this.L=this.aa=0,this.gd=d([4,2],ar),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function sr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function In(){var h=new Oi;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,mn||(mn=Ai)),h}function Tr(h,b,P){return h.a==0&&(h.a=b,h.sc=P,h.cb=0),0}function ts(h,b,P){return 3<=P&&h[b+0]==157&&h[b+1]==1&&h[b+2]==42}function Bl(h,b){if(h==null)return 0;if(h.a=0,h.sc="OK",b==null)return Tr(h,2,"null VP8Io passed to VP8GetHeaders()");var P=b.data,I=b.w,q=b.ha;if(4>q)return Tr(h,7,"Truncated header.");var Z=P[I+0]|P[I+1]<<8|P[I+2]<<16,K=h.Od;if(K.Rb=!(1&Z),K.td=Z>>1&7,K.yd=Z>>4&1,K.ub=Z>>5,3<K.td)return Tr(h,3,"Incorrect keyframe parameters.");if(!K.yd)return Tr(h,4,"Frame not displayable.");I+=3,q-=3;var ee=h.Kc;if(K.Rb){if(7>q)return Tr(h,7,"cannot parse picture header");if(!ts(P,I,q))return Tr(h,3,"Bad code word");ee.c=16383&(P[I+4]<<8|P[I+3]),ee.Td=P[I+4]>>6,ee.i=16383&(P[I+6]<<8|P[I+5]),ee.Ud=P[I+6]>>6,I+=7,q-=7,h.za=ee.c+15>>4,h.Ub=ee.i+15>>4,b.width=ee.c,b.height=ee.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,n((Z=h.Pa).jb,0,255,Z.jb.length),t((Z=h.Qa)!=null),Z.Cb=0,Z.Bb=0,Z.Fb=1,n(Z.Zb,0,0,Z.Zb.length),n(Z.Lb,0,0,Z.Lb)}if(K.ub>q)return Tr(h,7,"bad partition length");Le(Z=h.m,P,I,K.ub),I+=K.ub,q-=K.ub,K.Rb&&(ee.Ld=Ne(Z),ee.Kd=Ne(Z)),ee=h.Qa;var te,fe=h.Pa;if(t(Z!=null),t(ee!=null),ee.Cb=Ne(Z),ee.Cb){if(ee.Bb=Ne(Z),Ne(Z)){for(ee.Fb=Ne(Z),te=0;4>te;++te)ee.Zb[te]=Ne(Z)?Ye(Z,7):0;for(te=0;4>te;++te)ee.Lb[te]=Ne(Z)?Ye(Z,6):0}if(ee.Bb)for(te=0;3>te;++te)fe.jb[te]=Ne(Z)?Ie(Z,8):255}else ee.Bb=0;if(Z.Ka)return Tr(h,3,"cannot parse segment header");if((ee=h.ed).zd=Ne(Z),ee.Tb=Ie(Z,6),ee.wb=Ie(Z,3),ee.Pc=Ne(Z),ee.Pc&&Ne(Z)){for(fe=0;4>fe;++fe)Ne(Z)&&(ee.vd[fe]=Ye(Z,6));for(fe=0;4>fe;++fe)Ne(Z)&&(ee.od[fe]=Ye(Z,6))}if(h.L=ee.Tb==0?0:ee.zd?1:2,Z.Ka)return Tr(h,3,"cannot parse filter header");var Oe=q;if(q=te=I,I=te+Oe,ee=Oe,h.Xb=(1<<Ie(h.m,2))-1,Oe<3*(fe=h.Xb))P=7;else{for(te+=3*fe,ee-=3*fe,Oe=0;Oe<fe;++Oe){var Ge=P[q+0]|P[q+1]<<8|P[q+2]<<16;Ge>ee&&(Ge=ee),Le(h.Jc[+Oe],P,te,Ge),te+=Ge,ee-=Ge,q+=3}Le(h.Jc[+fe],P,te,ee),P=te<I?0:5}if(P!=0)return Tr(h,P,"cannot parse partitions");for(P=Ie(te=h.m,7),q=Ne(te)?Ye(te,4):0,I=Ne(te)?Ye(te,4):0,ee=Ne(te)?Ye(te,4):0,fe=Ne(te)?Ye(te,4):0,te=Ne(te)?Ye(te,4):0,Oe=h.Qa,Ge=0;4>Ge;++Ge){if(Oe.Cb){var $e=Oe.Zb[Ge];Oe.Fb||($e+=P)}else{if(0<Ge){h.pb[Ge]=h.pb[0];continue}$e=P}var Re=h.pb[Ge];Re.Sc[0]=gi[Po($e+q,127)],Re.Sc[1]=Bi[Po($e+0,127)],Re.Eb[0]=2*gi[Po($e+I,127)],Re.Eb[1]=101581*Bi[Po($e+ee,127)]>>16,8>Re.Eb[1]&&(Re.Eb[1]=8),Re.Qc[0]=gi[Po($e+fe,117)],Re.Qc[1]=Bi[Po($e+te,127)],Re.lc=$e+te}if(!K.Rb)return Tr(h,4,"Not a key frame.");for(Ne(Z),K=h.Pa,P=0;4>P;++P){for(q=0;8>q;++q)for(I=0;3>I;++I)for(ee=0;11>ee;++ee)fe=Ae(Z,hg[P][q][I][ee])?Ie(Z,8):ec[P][q][I][ee],K.Wc[P][q].Yb[I][ee]=fe;for(q=0;17>q;++q)K.Xc[P][q]=K.Wc[P][gg[q]]}return h.kc=Ne(Z),h.kc&&(h.Bd=Ie(Z,8)),h.cb=1}function Ai(h,b,P,I,q,Z,K){var ee=b[q].Yb[P];for(P=0;16>q;++q){if(!Ae(h,ee[P+0]))return q;for(;!Ae(h,ee[P+1]);)if(ee=b[++q].Yb[0],P=0,q==16)return 16;var te=b[q+1].Yb;if(Ae(h,ee[P+2])){var fe=h,Oe=0;if(Ae(fe,($e=ee)[(Ge=P)+3]))if(Ae(fe,$e[Ge+6])){for(ee=0,Ge=2*(Oe=Ae(fe,$e[Ge+8]))+($e=Ae(fe,$e[Ge+9+Oe])),Oe=0,$e=xn[Ge];$e[ee];++ee)Oe+=Oe+Ae(fe,$e[ee]);Oe+=3+(8<<Ge)}else Ae(fe,$e[Ge+7])?(Oe=7+2*Ae(fe,165),Oe+=Ae(fe,145)):Oe=5+Ae(fe,159);else Oe=Ae(fe,$e[Ge+4])?3+Ae(fe,$e[Ge+5]):2;ee=te[2]}else Oe=1,ee=te[1];te=K+Xo[q],0>(fe=h).b&&Pe(fe);var Ge,$e=fe.b,Re=(Ge=fe.Ca>>1)-(fe.I>>$e)>>31;--fe.b,fe.Ca+=Re,fe.Ca|=1,fe.I-=(Ge+1&Re)<<$e,Z[te]=((Oe^Re)-Re)*I[(0<q)+0]}return 16}function Nr(h){var b=h.rb[h.sb-1];b.la=0,b.Na=0,n(h.zc,0,0,h.zc.length),h.ja=0}function Wc(h,b){if(h==null)return 0;if(b==null)return Tr(h,2,"NULL VP8Io parameter in VP8Decode().");if(!h.cb&&!Bl(h,b))return 0;if(t(h.cb),b.ac==null||b.ac(b)){b.ob&&(h.L=0);var P=Hp[h.L];if(h.L==2?(h.yb=0,h.zb=0):(h.yb=b.v-P>>4,h.zb=b.j-P>>4,0>h.yb&&(h.yb=0),0>h.zb&&(h.zb=0)),h.Va=b.o+15+P>>4,h.Hb=b.va+15+P>>4,h.Hb>h.za&&(h.Hb=h.za),h.Va>h.Ub&&(h.Va=h.Ub),0<h.L){var I=h.ed;for(P=0;4>P;++P){var q;if(h.Qa.Cb){var Z=h.Qa.Lb[P];h.Qa.Fb||(Z+=I.Tb)}else Z=I.Tb;for(q=0;1>=q;++q){var K=h.gd[P][q],ee=Z;if(I.Pc&&(ee+=I.vd[0],q&&(ee+=I.od[0])),0<(ee=0>ee?0:63<ee?63:ee)){var te=ee;0<I.wb&&(te=4<I.wb?te>>2:te>>1)>9-I.wb&&(te=9-I.wb),1>te&&(te=1),K.dd=te,K.tc=2*ee+te,K.ld=40<=ee?2:15<=ee?1:0}else K.tc=0;K.La=q}}}P=0}else Tr(h,6,"Frame setup failed"),P=h.a;if(P=P==0){if(P){h.$c=0,0<h.Aa||(h.Ic=F5);e:{P=h.Ic,I=4*(te=h.za);var fe=32*te,Oe=te+1,Ge=0<h.L?te*(0<h.Aa?2:1):0,$e=(h.Aa==2?2:1)*te;if((K=I+832+(q=3*(16*P+Hp[h.L])/2*fe)+(Z=h.Fa!=null&&0<h.Fa.length?h.Kc.c*h.Kc.i:0))!=K)P=0;else{if(K>h.Vb){if(h.Vb=0,h.Ec=o(K),h.Fc=0,h.Ec==null){P=Tr(h,1,"no memory during frame initialization.");break e}h.Vb=K}K=h.Ec,ee=h.Fc,h.Ac=K,h.Bc=ee,ee+=I,h.Gd=a(fe,ao),h.Hd=0,h.rb=a(Oe+1,Jr),h.sb=1,h.wa=Ge?a(Ge,ar):null,h.Y=0,h.D.Nb=0,h.D.wa=h.wa,h.D.Y=h.Y,0<h.Aa&&(h.D.Y+=te),t(!0),h.oc=K,h.pc=ee,ee+=832,h.ya=a($e,rn),h.aa=0,h.D.ya=h.ya,h.D.aa=h.aa,h.Aa==2&&(h.D.aa+=te),h.R=16*te,h.B=8*te,te=(fe=Hp[h.L])*h.R,fe=fe/2*h.B,h.sa=K,h.ta=ee+te,h.qa=h.sa,h.ra=h.ta+16*P*h.R+fe,h.Ha=h.qa,h.Ia=h.ra+8*P*h.B+fe,h.$c=0,ee+=q,h.mb=Z?K:null,h.nb=Z?ee:null,t(ee+Z<=h.Fc+h.Vb),Nr(h),n(h.Ac,h.Bc,0,I),P=1}}if(P){if(b.ka=0,b.y=h.sa,b.O=h.ta,b.f=h.qa,b.N=h.ra,b.ea=h.Ha,b.Vd=h.Ia,b.fa=h.R,b.Rc=h.B,b.F=null,b.J=0,!qs){for(P=-255;255>=P;++P)an[255+P]=0>P?-P:P;for(P=-1020;1020>=P;++P)Io[1020+P]=-128>P?-128:127<P?127:P;for(P=-112;112>=P;++P)od[112+P]=-16>P?-16:15<P?15:P;for(P=-255;510>=P;++P)ds[255+P]=0>P?0:255<P?255:P;qs=1}Yl=Hc,$o=Gr,Kl=ka,$n=ol,Mo=ks,en=Ta,Jl=Kc,To=cl,Rs=Go,ml=Qc,La=Jc,Bs=zl,Us=Wl,Ql=ua,ha=Fs,Vs=da,Da=as,ko=Yc,ga[0]=zo,ga[1]=Gc,ga[2]=mr,ga[3]=$d,ga[4]=Vl,ga[5]=Wo,ga[6]=ql,ga[7]=al,ga[8]=fn,ga[9]=sl,us[0]=Xc,us[1]=Ul,us[2]=ca,us[3]=As,us[4]=_n,us[5]=du,us[6]=Mi,Ra[0]=Os,Ra[1]=$c,Ra[2]=ns,Ra[3]=jl,Ra[4]=os,Ra[5]=Xd,Ra[6]=Zc,P=1}else P=0}P&&(P=function(Re,ft){for(Re.M=0;Re.M<Re.Va;++Re.M){var rt,Fe=Re.Jc[Re.M&Re.Xb],De=Re.m,dt=Re;for(rt=0;rt<dt.za;++rt){var xt=De,pt=dt,Yt=pt.Ac,jt=pt.Bc+4*rt,_i=pt.zc,Ht=pt.ya[pt.aa+rt];if(pt.Qa.Bb?Ht.$b=Ae(xt,pt.Pa.jb[0])?2+Ae(xt,pt.Pa.jb[2]):Ae(xt,pt.Pa.jb[1]):Ht.$b=0,pt.kc&&(Ht.Ad=Ae(xt,pt.Bd)),Ht.Za=!Ae(xt,145)+0,Ht.Za){var dr=Ht.Ob,br=0;for(pt=0;4>pt;++pt){var lr,rr=_i[0+pt];for(lr=0;4>lr;++lr){rr=mg[Yt[jt+lr]][rr];for(var Lr=Xn[Ae(xt,rr[0])];0<Lr;)Lr=Xn[2*Lr+Ae(xt,rr[Lr])];rr=-Lr,Yt[jt+lr]=rr}r(dr,br,Yt,jt,4),br+=4,_i[0+pt]=rr}}else rr=Ae(xt,156)?Ae(xt,128)?1:3:Ae(xt,163)?2:0,Ht.Ob[0]=rr,n(Yt,jt,rr,4),n(_i,0,rr,4);Ht.Dd=Ae(xt,142)?Ae(xt,114)?Ae(xt,183)?1:3:2:0}if(dt.m.Ka)return Tr(Re,7,"Premature end-of-partition0 encountered.");for(;Re.ja<Re.za;++Re.ja){if(dt=Fe,xt=(De=Re).rb[De.sb-1],Yt=De.rb[De.sb+De.ja],rt=De.ya[De.aa+De.ja],jt=De.kc?rt.Ad:0)xt.la=Yt.la=0,rt.Za||(xt.Na=Yt.Na=0),rt.Hc=0,rt.Gc=0,rt.ia=0;else{var Ar,Ui;if(xt=Yt,Yt=dt,jt=De.Pa.Xc,_i=De.ya[De.aa+De.ja],Ht=De.pb[_i.$b],pt=_i.ad,dr=0,br=De.rb[De.sb-1],rr=lr=0,n(pt,dr,0,384),_i.Za)var yn=0,Yo=jt[3];else{Lr=o(16);var Cn=xt.Na+br.Na;if(Cn=mn(Yt,jt[1],Cn,Ht.Eb,0,Lr,0),xt.Na=br.Na=(0<Cn)+0,1<Cn)Yl(Lr,0,pt,dr);else{var Ko=Lr[0]+3>>3;for(Lr=0;256>Lr;Lr+=16)pt[dr+Lr]=Ko}yn=1,Yo=jt[0]}var xr=15&xt.la,va=15&br.la;for(Lr=0;4>Lr;++Lr){var _a=1&va;for(Ko=Ui=0;4>Ko;++Ko)xr=xr>>1|(_a=(Cn=mn(Yt,Yo,Cn=_a+(1&xr),Ht.Sc,yn,pt,dr))>yn)<<7,Ui=Ui<<2|(3<Cn?3:1<Cn?2:pt[dr+0]!=0),dr+=16;xr>>=4,va=va>>1|_a<<7,lr=(lr<<8|Ui)>>>0}for(Yo=xr,yn=va>>4,Ar=0;4>Ar;Ar+=2){for(Ui=0,xr=xt.la>>4+Ar,va=br.la>>4+Ar,Lr=0;2>Lr;++Lr){for(_a=1&va,Ko=0;2>Ko;++Ko)Cn=_a+(1&xr),xr=xr>>1|(_a=0<(Cn=mn(Yt,jt[2],Cn,Ht.Qc,0,pt,dr)))<<3,Ui=Ui<<2|(3<Cn?3:1<Cn?2:pt[dr+0]!=0),dr+=16;xr>>=2,va=va>>1|_a<<5}rr|=Ui<<4*Ar,Yo|=xr<<4<<Ar,yn|=(240&va)<<Ar}xt.la=Yo,br.la=yn,_i.Hc=lr,_i.Gc=rr,_i.ia=43690&rr?0:Ht.ia,jt=!(lr|rr)}if(0<De.L&&(De.wa[De.Y+De.ja]=De.gd[rt.$b][rt.Za],De.wa[De.Y+De.ja].La|=!jt),dt.Ka)return Tr(Re,7,"Premature end-of-file encountered.")}if(Nr(Re),De=ft,dt=1,rt=(Fe=Re).D,xt=0<Fe.L&&Fe.M>=Fe.zb&&Fe.M<=Fe.Va,Fe.Aa==0)e:{if(rt.M=Fe.M,rt.uc=xt,id(Fe,rt),dt=1,rt=(Ui=Fe.D).Nb,xt=(rr=Hp[Fe.L])*Fe.R,Yt=rr/2*Fe.B,Lr=16*rt*Fe.R,Ko=8*rt*Fe.B,jt=Fe.sa,_i=Fe.ta-xt+Lr,Ht=Fe.qa,pt=Fe.ra-Yt+Ko,dr=Fe.Ha,br=Fe.Ia-Yt+Ko,va=(xr=Ui.M)==0,lr=xr>=Fe.Va-1,Fe.Aa==2&&id(Fe,Ui),Ui.uc)for(_a=(Cn=Fe).D.M,t(Cn.D.uc),Ui=Cn.yb;Ui<Cn.Hb;++Ui){yn=Ui,Yo=_a;var Nn=(Zn=(ln=Cn).D).Nb;Ar=ln.R;var Zn=Zn.wa[Zn.Y+yn],No=ln.sa,Ba=ln.ta+16*Nn*Ar+16*yn,zs=Zn.dd,Ln=Zn.tc;if(Ln!=0)if(t(3<=Ln),ln.L==1)0<yn&&Vs(No,Ba,Ar,Ln+4),Zn.La&&ko(No,Ba,Ar,Ln),0<Yo&&ha(No,Ba,Ar,Ln+4),Zn.La&&Da(No,Ba,Ar,Ln);else{var hl=ln.B,ud=ln.qa,r0=ln.ra+8*Nn*hl+8*yn,tc=ln.Ha,ln=ln.Ia+8*Nn*hl+8*yn;Nn=Zn.ld,0<yn&&(To(No,Ba,Ar,Ln+4,zs,Nn),ml(ud,r0,tc,ln,hl,Ln+4,zs,Nn)),Zn.La&&(Bs(No,Ba,Ar,Ln,zs,Nn),Ql(ud,r0,tc,ln,hl,Ln,zs,Nn)),0<Yo&&(Jl(No,Ba,Ar,Ln+4,zs,Nn),Rs(ud,r0,tc,ln,hl,Ln+4,zs,Nn)),Zn.La&&(La(No,Ba,Ar,Ln,zs,Nn),Us(ud,r0,tc,ln,hl,Ln,zs,Nn))}}if(Fe.ia&&alert("todo:DitherRow"),De.put!=null){if(Ui=16*xr,xr=16*(xr+1),va?(De.y=Fe.sa,De.O=Fe.ta+Lr,De.f=Fe.qa,De.N=Fe.ra+Ko,De.ea=Fe.Ha,De.W=Fe.Ia+Ko):(Ui-=rr,De.y=jt,De.O=_i,De.f=Ht,De.N=pt,De.ea=dr,De.W=br),lr||(xr-=rr),xr>De.o&&(xr=De.o),De.F=null,De.J=null,Fe.Fa!=null&&0<Fe.Fa.length&&Ui<xr&&(De.J=td(Fe,De,Ui,xr-Ui),De.F=Fe.mb,De.F==null&&De.F.length==0)){dt=Tr(Fe,3,"Could not decode alpha data.");break e}Ui<De.j&&(rr=De.j-Ui,Ui=De.j,t(!(1&rr)),De.O+=Fe.R*rr,De.N+=Fe.B*(rr>>1),De.W+=Fe.B*(rr>>1),De.F!=null&&(De.J+=De.width*rr)),Ui<xr&&(De.O+=De.v,De.N+=De.v>>1,De.W+=De.v>>1,De.F!=null&&(De.J+=De.v),De.ka=Ui-De.j,De.U=De.va-De.v,De.T=xr-Ui,dt=De.put(De))}rt+1!=Fe.Ic||lr||(r(Fe.sa,Fe.ta-xt,jt,_i+16*Fe.R,xt),r(Fe.qa,Fe.ra-Yt,Ht,pt+8*Fe.B,Yt),r(Fe.Ha,Fe.Ia-Yt,dr,br+8*Fe.B,Yt))}if(!dt)return Tr(Re,6,"Output aborted.")}return 1}(h,b)),b.bc!=null&&b.bc(b),P&=1}return P?(h.cb=0,P):0}function so(h,b,P,I,q){q=h[b+P+32*I]+(q>>3),h[b+P+32*I]=-256&q?0>q?0:255:q}function Mn(h,b,P,I,q,Z){so(h,b,0,P,I+q),so(h,b,1,P,I+Z),so(h,b,2,P,I-Z),so(h,b,3,P,I-q)}function lo(h){return(20091*h>>16)+h}function Ts(h,b,P,I){var q,Z=0,K=o(16);for(q=0;4>q;++q){var ee=h[b+0]+h[b+8],te=h[b+0]-h[b+8],fe=(35468*h[b+4]>>16)-lo(h[b+12]),Oe=lo(h[b+4])+(35468*h[b+12]>>16);K[Z+0]=ee+Oe,K[Z+1]=te+fe,K[Z+2]=te-fe,K[Z+3]=ee-Oe,Z+=4,b++}for(q=Z=0;4>q;++q)ee=(h=K[Z+0]+4)+K[Z+8],te=h-K[Z+8],fe=(35468*K[Z+4]>>16)-lo(K[Z+12]),so(P,I,0,0,ee+(Oe=lo(K[Z+4])+(35468*K[Z+12]>>16))),so(P,I,1,0,te+fe),so(P,I,2,0,te-fe),so(P,I,3,0,ee-Oe),Z++,I+=32}function Ta(h,b,P,I){var q=h[b+0]+4,Z=35468*h[b+4]>>16,K=lo(h[b+4]),ee=35468*h[b+1]>>16;Mn(P,I,0,q+K,h=lo(h[b+1]),ee),Mn(P,I,1,q+Z,h,ee),Mn(P,I,2,q-Z,h,ee),Mn(P,I,3,q-K,h,ee)}function Gr(h,b,P,I,q){Ts(h,b,P,I),q&&Ts(h,b+16,P,I+4)}function ka(h,b,P,I){$o(h,b+0,P,I,1),$o(h,b+32,P,I+128,1)}function ol(h,b,P,I){var q;for(h=h[b+0]+4,q=0;4>q;++q)for(b=0;4>b;++b)so(P,I,b,q,h)}function ks(h,b,P,I){h[b+0]&&$n(h,b+0,P,I),h[b+16]&&$n(h,b+16,P,I+4),h[b+32]&&$n(h,b+32,P,I+128),h[b+48]&&$n(h,b+48,P,I+128+4)}function Hc(h,b,P,I){var q,Z=o(16);for(q=0;4>q;++q){var K=h[b+0+q]+h[b+12+q],ee=h[b+4+q]+h[b+8+q],te=h[b+4+q]-h[b+8+q],fe=h[b+0+q]-h[b+12+q];Z[0+q]=K+ee,Z[8+q]=K-ee,Z[4+q]=fe+te,Z[12+q]=fe-te}for(q=0;4>q;++q)K=(h=Z[0+4*q]+3)+Z[3+4*q],ee=Z[1+4*q]+Z[2+4*q],te=Z[1+4*q]-Z[2+4*q],fe=h-Z[3+4*q],P[I+0]=K+ee>>3,P[I+16]=fe+te>>3,P[I+32]=K-ee>>3,P[I+48]=fe-te>>3,I+=64}function is(h,b,P){var I,q=b-32,Z=Oo,K=255-h[q-1];for(I=0;I<P;++I){var ee,te=Z,fe=K+h[b-1];for(ee=0;ee<P;++ee)h[b+ee]=te[fe+h[q+ee]];b+=32}}function Gc(h,b){is(h,b,4)}function $c(h,b){is(h,b,8)}function Ul(h,b){is(h,b,16)}function ca(h,b){var P;for(P=0;16>P;++P)r(h,b+32*P,h,b-32,16)}function As(h,b){var P;for(P=16;0<P;--P)n(h,b,h[b-1],16),b+=32}function rs(h,b,P){var I;for(I=0;16>I;++I)n(b,P+32*I,h,16)}function Xc(h,b){var P,I=16;for(P=0;16>P;++P)I+=h[b-1+32*P]+h[b+P-32];rs(I>>5,h,b)}function _n(h,b){var P,I=8;for(P=0;16>P;++P)I+=h[b-1+32*P];rs(I>>4,h,b)}function du(h,b){var P,I=8;for(P=0;16>P;++P)I+=h[b+P-32];rs(I>>4,h,b)}function Mi(h,b){rs(128,h,b)}function fi(h,b,P){return h+2*b+P+2>>2}function mr(h,b){var P,I=b-32;for(I=new Uint8Array([fi(h[I-1],h[I+0],h[I+1]),fi(h[I+0],h[I+1],h[I+2]),fi(h[I+1],h[I+2],h[I+3]),fi(h[I+2],h[I+3],h[I+4])]),P=0;4>P;++P)r(h,b+32*P,I,0,I.length)}function $d(h,b){var P=h[b-1],I=h[b-1+32],q=h[b-1+64],Z=h[b-1+96];Be(h,b+0,16843009*fi(h[b-1-32],P,I)),Be(h,b+32,16843009*fi(P,I,q)),Be(h,b+64,16843009*fi(I,q,Z)),Be(h,b+96,16843009*fi(q,Z,Z))}function zo(h,b){var P,I=4;for(P=0;4>P;++P)I+=h[b+P-32]+h[b-1+32*P];for(I>>=3,P=0;4>P;++P)n(h,b+32*P,I,4)}function Vl(h,b){var P=h[b-1+0],I=h[b-1+32],q=h[b-1+64],Z=h[b-1-32],K=h[b+0-32],ee=h[b+1-32],te=h[b+2-32],fe=h[b+3-32];h[b+0+96]=fi(I,q,h[b-1+96]),h[b+1+96]=h[b+0+64]=fi(P,I,q),h[b+2+96]=h[b+1+64]=h[b+0+32]=fi(Z,P,I),h[b+3+96]=h[b+2+64]=h[b+1+32]=h[b+0+0]=fi(K,Z,P),h[b+3+64]=h[b+2+32]=h[b+1+0]=fi(ee,K,Z),h[b+3+32]=h[b+2+0]=fi(te,ee,K),h[b+3+0]=fi(fe,te,ee)}function ql(h,b){var P=h[b+1-32],I=h[b+2-32],q=h[b+3-32],Z=h[b+4-32],K=h[b+5-32],ee=h[b+6-32],te=h[b+7-32];h[b+0+0]=fi(h[b+0-32],P,I),h[b+1+0]=h[b+0+32]=fi(P,I,q),h[b+2+0]=h[b+1+32]=h[b+0+64]=fi(I,q,Z),h[b+3+0]=h[b+2+32]=h[b+1+64]=h[b+0+96]=fi(q,Z,K),h[b+3+32]=h[b+2+64]=h[b+1+96]=fi(Z,K,ee),h[b+3+64]=h[b+2+96]=fi(K,ee,te),h[b+3+96]=fi(ee,te,te)}function Wo(h,b){var P=h[b-1+0],I=h[b-1+32],q=h[b-1+64],Z=h[b-1-32],K=h[b+0-32],ee=h[b+1-32],te=h[b+2-32],fe=h[b+3-32];h[b+0+0]=h[b+1+64]=Z+K+1>>1,h[b+1+0]=h[b+2+64]=K+ee+1>>1,h[b+2+0]=h[b+3+64]=ee+te+1>>1,h[b+3+0]=te+fe+1>>1,h[b+0+96]=fi(q,I,P),h[b+0+64]=fi(I,P,Z),h[b+0+32]=h[b+1+96]=fi(P,Z,K),h[b+1+32]=h[b+2+96]=fi(Z,K,ee),h[b+2+32]=h[b+3+96]=fi(K,ee,te),h[b+3+32]=fi(ee,te,fe)}function al(h,b){var P=h[b+0-32],I=h[b+1-32],q=h[b+2-32],Z=h[b+3-32],K=h[b+4-32],ee=h[b+5-32],te=h[b+6-32],fe=h[b+7-32];h[b+0+0]=P+I+1>>1,h[b+1+0]=h[b+0+64]=I+q+1>>1,h[b+2+0]=h[b+1+64]=q+Z+1>>1,h[b+3+0]=h[b+2+64]=Z+K+1>>1,h[b+0+32]=fi(P,I,q),h[b+1+32]=h[b+0+96]=fi(I,q,Z),h[b+2+32]=h[b+1+96]=fi(q,Z,K),h[b+3+32]=h[b+2+96]=fi(Z,K,ee),h[b+3+64]=fi(K,ee,te),h[b+3+96]=fi(ee,te,fe)}function sl(h,b){var P=h[b-1+0],I=h[b-1+32],q=h[b-1+64],Z=h[b-1+96];h[b+0+0]=P+I+1>>1,h[b+2+0]=h[b+0+32]=I+q+1>>1,h[b+2+32]=h[b+0+64]=q+Z+1>>1,h[b+1+0]=fi(P,I,q),h[b+3+0]=h[b+1+32]=fi(I,q,Z),h[b+3+32]=h[b+1+64]=fi(q,Z,Z),h[b+3+64]=h[b+2+64]=h[b+0+96]=h[b+1+96]=h[b+2+96]=h[b+3+96]=Z}function fn(h,b){var P=h[b-1+0],I=h[b-1+32],q=h[b-1+64],Z=h[b-1+96],K=h[b-1-32],ee=h[b+0-32],te=h[b+1-32],fe=h[b+2-32];h[b+0+0]=h[b+2+32]=P+K+1>>1,h[b+0+32]=h[b+2+64]=I+P+1>>1,h[b+0+64]=h[b+2+96]=q+I+1>>1,h[b+0+96]=Z+q+1>>1,h[b+3+0]=fi(ee,te,fe),h[b+2+0]=fi(K,ee,te),h[b+1+0]=h[b+3+32]=fi(P,K,ee),h[b+1+32]=h[b+3+64]=fi(I,P,K),h[b+1+64]=h[b+3+96]=fi(q,I,P),h[b+1+96]=fi(Z,q,I)}function ns(h,b){var P;for(P=0;8>P;++P)r(h,b+32*P,h,b-32,8)}function jl(h,b){var P;for(P=0;8>P;++P)n(h,b,h[b-1],8),b+=32}function Is(h,b,P){var I;for(I=0;8>I;++I)n(b,P+32*I,h,8)}function Os(h,b){var P,I=8;for(P=0;8>P;++P)I+=h[b+P-32]+h[b-1+32*P];Is(I>>4,h,b)}function Xd(h,b){var P,I=4;for(P=0;8>P;++P)I+=h[b+P-32];Is(I>>3,h,b)}function os(h,b){var P,I=4;for(P=0;8>P;++P)I+=h[b-1+32*P];Is(I>>3,h,b)}function Zc(h,b){Is(128,h,b)}function ll(h,b,P){var I=h[b-P],q=h[b+0],Z=3*(q-I)+e0[1020+h[b-2*P]-h[b+P]],K=ad[112+(Z+4>>3)];h[b-P]=Oo[255+I+ad[112+(Z+3>>3)]],h[b+0]=Oo[255+q-K]}function $i(h,b,P,I){var q=h[b+0],Z=h[b+P];return Fo[255+h[b-2*P]-h[b-P]]>I||Fo[255+Z-q]>I}function Zd(h,b,P,I){return 4*Fo[255+h[b-P]-h[b+0]]+Fo[255+h[b-2*P]-h[b+P]]<=I}function co(h,b,P,I,q){var Z=h[b-3*P],K=h[b-2*P],ee=h[b-P],te=h[b+0],fe=h[b+P],Oe=h[b+2*P],Ge=h[b+3*P];return 4*Fo[255+ee-te]+Fo[255+K-fe]>I?0:Fo[255+h[b-4*P]-Z]<=q&&Fo[255+Z-K]<=q&&Fo[255+K-ee]<=q&&Fo[255+Ge-Oe]<=q&&Fo[255+Oe-fe]<=q&&Fo[255+fe-te]<=q}function Fs(h,b,P,I){var q=2*I+1;for(I=0;16>I;++I)Zd(h,b+I,P,q)&&ll(h,b+I,P)}function da(h,b,P,I){var q=2*I+1;for(I=0;16>I;++I)Zd(h,b+I*P,1,q)&&ll(h,b+I*P,1)}function as(h,b,P,I){var q;for(q=3;0<q;--q)Fs(h,b+=4*P,P,I)}function Yc(h,b,P,I){var q;for(q=3;0<q;--q)da(h,b+=4,P,I)}function Ns(h,b,P,I,q,Z,K,ee){for(Z=2*Z+1;0<q--;){if(co(h,b,P,Z,K))if($i(h,b,P,ee))ll(h,b,P);else{var te=h,fe=b,Oe=P,Ge=te[fe-2*Oe],$e=te[fe-Oe],Re=te[fe+0],ft=te[fe+Oe],rt=te[fe+2*Oe],Fe=27*(dt=e0[1020+3*(Re-$e)+e0[1020+Ge-ft]])+63>>7,De=18*dt+63>>7,dt=9*dt+63>>7;te[fe-3*Oe]=Oo[255+te[fe-3*Oe]+dt],te[fe-2*Oe]=Oo[255+Ge+De],te[fe-Oe]=Oo[255+$e+Fe],te[fe+0]=Oo[255+Re-Fe],te[fe+Oe]=Oo[255+ft-De],te[fe+2*Oe]=Oo[255+rt-dt]}b+=I}}function Ho(h,b,P,I,q,Z,K,ee){for(Z=2*Z+1;0<q--;){if(co(h,b,P,Z,K))if($i(h,b,P,ee))ll(h,b,P);else{var te=h,fe=b,Oe=P,Ge=te[fe-Oe],$e=te[fe+0],Re=te[fe+Oe],ft=ad[112+((rt=3*($e-Ge))+4>>3)],rt=ad[112+(rt+3>>3)],Fe=ft+1>>1;te[fe-2*Oe]=Oo[255+te[fe-2*Oe]+Fe],te[fe-Oe]=Oo[255+Ge+rt],te[fe+0]=Oo[255+$e-ft],te[fe+Oe]=Oo[255+Re-Fe]}b+=I}}function Kc(h,b,P,I,q,Z){Ns(h,b,P,1,16,I,q,Z)}function cl(h,b,P,I,q,Z){Ns(h,b,1,P,16,I,q,Z)}function Jc(h,b,P,I,q,Z){var K;for(K=3;0<K;--K)Ho(h,b+=4*P,P,1,16,I,q,Z)}function zl(h,b,P,I,q,Z){var K;for(K=3;0<K;--K)Ho(h,b+=4,1,P,16,I,q,Z)}function Go(h,b,P,I,q,Z,K,ee){Ns(h,b,q,1,8,Z,K,ee),Ns(P,I,q,1,8,Z,K,ee)}function Qc(h,b,P,I,q,Z,K,ee){Ns(h,b,1,q,8,Z,K,ee),Ns(P,I,1,q,8,Z,K,ee)}function Wl(h,b,P,I,q,Z,K,ee){Ho(h,b+4*q,q,1,8,Z,K,ee),Ho(P,I+4*q,q,1,8,Z,K,ee)}function ua(h,b,P,I,q,Z,K,ee){Ho(h,b+4,1,q,8,Z,K,ee),Ho(P,I+4,1,q,8,Z,K,ee)}function dl(){this.ba=new So,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new _r,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Hl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ul(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Yd(){this.ua=0,this.Wa=new be,this.vb=new be,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ye,this.yc=new G}function Kd(){this.xb=this.a=0,this.l=new sr,this.ca=new So,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new A,this.Pb=0,this.wd=new A,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Yd,this.ab=0,this.gc=a(4,ul),this.Oc=0}function pl(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new sr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function fl(h,b,P,I,q,Z,K){for(h=h==null?0:h[b+0],b=0;b<K;++b)q[Z+b]=h+P[I+b]&255,h=q[Z+b]}function ed(h,b,P,I,q,Z,K){var ee;if(h==null)fl(null,null,P,I,q,Z,K);else for(ee=0;ee<K;++ee)q[Z+ee]=h[b+ee]+P[I+ee]&255}function Aa(h,b,P,I,q,Z,K){if(h==null)fl(null,null,P,I,q,Z,K);else{var ee,te=h[b+0],fe=te,Oe=te;for(ee=0;ee<K;++ee)fe=Oe+(te=h[b+ee])-fe,Oe=P[I+ee]+(-256&fe?0>fe?0:255:fe)&255,fe=te,q[Z+ee]=Oe}}function td(h,b,P,I){var q=b.width,Z=b.o;if(t(h!=null&&b!=null),0>P||0>=I||P+I>Z)return null;if(!h.Cc){if(h.ga==null){var K;if(h.ga=new pl,(K=h.ga==null)||(K=b.width*b.o,t(h.Gb.length==0),h.Gb=o(K),h.Uc=0,h.Gb==null?K=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,K=1),K=!K),!K){K=h.ga;var ee=h.Fa,te=h.P,fe=h.qc,Oe=h.mb,Ge=h.nb,$e=te+1,Re=fe-1,ft=K.l;if(t(ee!=null&&Oe!=null&&b!=null),js[0]=null,js[1]=fl,js[2]=ed,js[3]=Aa,K.ca=Oe,K.tb=Ge,K.c=b.width,K.i=b.height,t(0<K.c&&0<K.i),1>=fe)b=0;else if(K.$a=ee[te+0]>>0&3,K.Z=ee[te+0]>>2&3,K.Lc=ee[te+0]>>4&3,te=ee[te+0]>>6&3,0>K.$a||1<K.$a||4<=K.Z||1<K.Lc||te)b=0;else if(ft.put=qo,ft.ac=Kr,ft.bc=jo,ft.ma=K,ft.width=b.width,ft.height=b.height,ft.Da=b.Da,ft.v=b.v,ft.va=b.va,ft.j=b.j,ft.o=b.o,K.$a)e:{t(K.$a==1),b=tt();t:for(;;){if(b==null){b=0;break e}if(t(K!=null),K.mc=b,b.c=K.c,b.i=K.i,b.l=K.l,b.l.ma=K,b.l.width=K.c,b.l.height=K.i,b.a=0,ke(b.m,ee,$e,Re),!We(K.c,K.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&oe(b.s)?(K.ic=1,ee=b.c*b.i,b.Ta=null,b.Ua=0,b.V=o(ee),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(K.ic=0,b=He(b,K.c)),!b))break t;b=1;break e}K.mc=null,b=0}else b=Re>=K.c*K.i;K=!b}if(K)return null;h.ga.Lc!=1?h.Ga=0:I=Z-P}t(h.ga!=null),t(P+I<=Z);e:{if(b=(ee=h.ga).c,Z=ee.l.o,ee.$a==0){if($e=h.rc,Re=h.Vc,ft=h.Fa,te=h.P+1+P*b,fe=h.mb,Oe=h.nb+P*b,t(te<=h.P+h.qc),ee.Z!=0)for(t(js[ee.Z]!=null),K=0;K<I;++K)js[ee.Z]($e,Re,ft,te,fe,Oe,b),$e=fe,Re=Oe,Oe+=b,te+=b;else for(K=0;K<I;++K)r(fe,Oe,ft,te,b),$e=fe,Re=Oe,Oe+=b,te+=b;h.rc=$e,h.Vc=Re}else{if(t(ee.mc!=null),b=P+I,t((K=ee.mc)!=null),t(b<=K.i),K.C>=b)b=1;else if(ee.ic||Ve(),ee.ic){ee=K.V,$e=K.Ba,Re=K.c;var rt=K.i,Fe=(ft=1,te=K.$/Re,fe=K.$%Re,Oe=K.m,Ge=K.s,K.$),De=Re*rt,dt=Re*b,xt=Ge.wc,pt=Fe<dt?qr(Ge,fe,te):null;t(Fe<=De),t(b<=rt),t(oe(Ge));t:for(;;){for(;!Oe.h&&Fe<dt;){if(fe&xt||(pt=qr(Ge,fe,te)),t(pt!=null),le(Oe),256>(rt=$t(pt.G[0],pt.H[0],Oe)))ee[$e+Fe]=rt,++Fe,++fe>=Re&&(fe=0,++te<=b&&!(te%16)&&me(K,te));else{if(!(280>rt)){ft=0;break t}rt=Eo(rt-256,Oe);var Yt,jt=$t(pt.G[4],pt.H[4],Oe);if(le(Oe),!(Fe>=(jt=Vr(Re,jt=Eo(jt,Oe)))&&De-Fe>=rt)){ft=0;break t}for(Yt=0;Yt<rt;++Yt)ee[$e+Fe+Yt]=ee[$e+Fe+Yt-jt];for(Fe+=rt,fe+=rt;fe>=Re;)fe-=Re,++te<=b&&!(te%16)&&me(K,te);Fe<dt&&fe&xt&&(pt=qr(Ge,fe,te))}t(Oe.h==R(Oe))}me(K,te>b?b:te);break t}!ft||Oe.h&&Fe<De?(ft=0,K.a=Oe.h?5:3):K.$=Fe,b=ft}else b=ge(K,K.V,K.Ba,K.c,K.i,b,Ze);if(!b){I=0;break e}}P+I>=Z&&(h.Cc=1),I=1}if(!I)return null;if(h.Cc&&((I=h.ga)!=null&&(I.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+P*q}function C(h,b,P,I,q,Z){for(;0<q--;){var K,ee=h,te=b+(P?1:0),fe=h,Oe=b+(P?0:3);for(K=0;K<I;++K){var Ge=fe[Oe+4*K];Ge!=255&&(Ge*=32897,ee[te+4*K+0]=ee[te+4*K+0]*Ge>>23,ee[te+4*K+1]=ee[te+4*K+1]*Ge>>23,ee[te+4*K+2]=ee[te+4*K+2]*Ge>>23)}b+=Z}}function V(h,b,P,I,q){for(;0<I--;){var Z;for(Z=0;Z<P;++Z){var K=h[b+2*Z+0],ee=15&(fe=h[b+2*Z+1]),te=4369*ee,fe=(240&fe|fe>>4)*te>>16;h[b+2*Z+0]=(240&K|K>>4)*te>>16&240|(15&K|K<<4)*te>>16>>4&15,h[b+2*Z+1]=240&fe|ee}b+=q}}function _e(h,b,P,I,q,Z,K,ee){var te,fe,Oe=255;for(fe=0;fe<q;++fe){for(te=0;te<I;++te){var Ge=h[b+te];Z[K+4*te]=Ge,Oe&=Ge}b+=P,K+=ee}return Oe!=255}function Me(h,b,P,I,q){var Z;for(Z=0;Z<q;++Z)P[I+Z]=h[b+Z]>>8}function Ve(){Ao=C,kr=V,ir=_e,Zr=Me}function it(h,b,P){re[h]=function(I,q,Z,K,ee,te,fe,Oe,Ge,$e,Re,ft,rt,Fe,De,dt,xt){var pt,Yt=xt-1>>1,jt=ee[te+0]|fe[Oe+0]<<16,_i=Ge[$e+0]|Re[ft+0]<<16;t(I!=null);var Ht=3*jt+_i+131074>>2;for(b(I[q+0],255&Ht,Ht>>16,rt,Fe),Z!=null&&(Ht=3*_i+jt+131074>>2,b(Z[K+0],255&Ht,Ht>>16,De,dt)),pt=1;pt<=Yt;++pt){var dr=ee[te+pt]|fe[Oe+pt]<<16,br=Ge[$e+pt]|Re[ft+pt]<<16,lr=jt+dr+_i+br+524296,rr=lr+2*(dr+_i)>>3;Ht=rr+jt>>1,jt=(lr=lr+2*(jt+br)>>3)+dr>>1,b(I[q+2*pt-1],255&Ht,Ht>>16,rt,Fe+(2*pt-1)*P),b(I[q+2*pt-0],255&jt,jt>>16,rt,Fe+(2*pt-0)*P),Z!=null&&(Ht=lr+_i>>1,jt=rr+br>>1,b(Z[K+2*pt-1],255&Ht,Ht>>16,De,dt+(2*pt-1)*P),b(Z[K+2*pt+0],255&jt,jt>>16,De,dt+(2*pt+0)*P)),jt=dr,_i=br}1&xt||(Ht=3*jt+_i+131074>>2,b(I[q+xt-1],255&Ht,Ht>>16,rt,Fe+(xt-1)*P),Z!=null&&(Ht=3*_i+jt+131074>>2,b(Z[K+xt-1],255&Ht,Ht>>16,De,dt+(xt-1)*P)))}}function ut(){Zo[sd]=vg,Zo[ld]=gu,Zo[pu]=hu,Zo[cd]=jp,Zo[t0]=A_,Zo[i0]=I_,Zo[fu]=S5,Zo[mu]=gu,Zo[s]=jp,Zo[f]=A_,Zo[_]=I_}function Gt(h){return h&~E5?0>h?0:255:h>>O_}function li(h,b){return Gt((19077*h>>8)+(26149*b>>8)-14234)}function Ii(h,b,P){return Gt((19077*h>>8)-(6419*b>>8)-(13320*P>>8)+8708)}function Pi(h,b){return Gt((19077*h>>8)+(33050*b>>8)-17685)}function Zi(h,b,P,I,q){I[q+0]=li(h,P),I[q+1]=Ii(h,b,P),I[q+2]=Pi(h,b)}function jr(h,b,P,I,q){I[q+0]=Pi(h,b),I[q+1]=Ii(h,b,P),I[q+2]=li(h,P)}function $r(h,b,P,I,q){var Z=Ii(h,b,P);b=Z<<3&224|Pi(h,b)>>3,I[q+0]=248&li(h,P)|Z>>5,I[q+1]=b}function Qr(h,b,P,I,q){var Z=240&Pi(h,b)|15;I[q+0]=240&li(h,P)|Ii(h,b,P)>>4,I[q+1]=Z}function On(h,b,P,I,q){I[q+0]=255,Zi(h,b,P,I,q+1)}function hr(h,b,P,I,q){jr(h,b,P,I,q),I[q+3]=255}function Fn(h,b,P,I,q){Zi(h,b,P,I,q),I[q+3]=255}function Po(h,b){return 0>h?0:h>b?b:h}function bn(h,b,P){re[h]=function(I,q,Z,K,ee,te,fe,Oe,Ge){for(var $e=Oe+(-2&Ge)*P;Oe!=$e;)b(I[q+0],Z[K+0],ee[te+0],fe,Oe),b(I[q+1],Z[K+0],ee[te+0],fe,Oe+P),q+=2,++K,++te,Oe+=2*P;1&Ge&&b(I[q+0],Z[K+0],ee[te+0],fe,Oe)}}function Jd(h,b,P){return P==0?h==0?b==0?6:5:b==0?4:0:P}function Ia(h,b,P,I,q){switch(h>>>30){case 3:$o(b,P,I,q,0);break;case 2:en(b,P,I,q);break;case 1:$n(b,P,I,q)}}function id(h,b){var P,I,q=b.M,Z=b.Nb,K=h.oc,ee=h.pc+40,te=h.oc,fe=h.pc+584,Oe=h.oc,Ge=h.pc+600;for(P=0;16>P;++P)K[ee+32*P-1]=129;for(P=0;8>P;++P)te[fe+32*P-1]=129,Oe[Ge+32*P-1]=129;for(0<q?K[ee-1-32]=te[fe-1-32]=Oe[Ge-1-32]=129:(n(K,ee-32-1,127,21),n(te,fe-32-1,127,9),n(Oe,Ge-32-1,127,9)),I=0;I<h.za;++I){var $e=b.ya[b.aa+I];if(0<I){for(P=-1;16>P;++P)r(K,ee+32*P-4,K,ee+32*P+12,4);for(P=-1;8>P;++P)r(te,fe+32*P-4,te,fe+32*P+4,4),r(Oe,Ge+32*P-4,Oe,Ge+32*P+4,4)}var Re=h.Gd,ft=h.Hd+I,rt=$e.ad,Fe=$e.Hc;if(0<q&&(r(K,ee-32,Re[ft].y,0,16),r(te,fe-32,Re[ft].f,0,8),r(Oe,Ge-32,Re[ft].ea,0,8)),$e.Za){var De=K,dt=ee-32+16;for(0<q&&(I>=h.za-1?n(De,dt,Re[ft].y[15],4):r(De,dt,Re[ft+1].y,0,4)),P=0;4>P;P++)De[dt+128+P]=De[dt+256+P]=De[dt+384+P]=De[dt+0+P];for(P=0;16>P;++P,Fe<<=2)De=K,dt=ee+N_[P],ga[$e.Ob[P]](De,dt),Ia(Fe,rt,16*+P,De,dt)}else if(De=Jd(I,q,$e.Ob[0]),us[De](K,ee),Fe!=0)for(P=0;16>P;++P,Fe<<=2)Ia(Fe,rt,16*+P,K,ee+N_[P]);for(P=$e.Gc,De=Jd(I,q,$e.Dd),Ra[De](te,fe),Ra[De](Oe,Ge),Fe=rt,De=te,dt=fe,255&($e=P>>0)&&(170&$e?Kl(Fe,256,De,dt):Mo(Fe,256,De,dt)),$e=Oe,Fe=Ge,255&(P>>=8)&&(170&P?Kl(rt,320,$e,Fe):Mo(rt,320,$e,Fe)),q<h.Ub-1&&(r(Re[ft].y,0,K,ee+480,16),r(Re[ft].f,0,te,fe+224,8),r(Re[ft].ea,0,Oe,Ge+224,8)),P=8*Z*h.B,Re=h.sa,ft=h.ta+16*I+16*Z*h.R,rt=h.qa,$e=h.ra+8*I+P,Fe=h.Ha,De=h.Ia+8*I+P,P=0;16>P;++P)r(Re,ft+P*h.R,K,ee+32*P,16);for(P=0;8>P;++P)r(rt,$e+P*h.B,te,fe+32*P,8),r(Fe,De+P*h.B,Oe,Ge+32*P,8)}}function Oa(h,b,P,I,q,Z,K,ee,te){var fe=[0],Oe=[0],Ge=0,$e=te!=null?te.kd:0,Re=te??new Hl;if(h==null||12>P)return 7;Re.data=h,Re.w=b,Re.ha=P,b=[b],P=[P],Re.gb=[Re.gb];e:{var ft=b,rt=P,Fe=Re.gb;if(t(h!=null),t(rt!=null),t(Fe!=null),Fe[0]=0,12<=rt[0]&&!e(h,ft[0],"RIFF")){if(e(h,ft[0]+8,"WEBP")){Fe=3;break e}var De=At(h,ft[0]+4);if(12>De||4294967286<De){Fe=3;break e}if($e&&De>rt[0]-8){Fe=7;break e}Fe[0]=De,ft[0]+=12,rt[0]-=12}Fe=0}if(Fe!=0)return Fe;for(De=0<Re.gb[0],P=P[0];;){e:{var dt=h;rt=b,Fe=P;var xt=fe,pt=Oe,Yt=ft=[0];if((Ht=Ge=[Ge])[0]=0,8>Fe[0])Fe=7;else{if(!e(dt,rt[0],"VP8X")){if(At(dt,rt[0]+4)!=10){Fe=3;break e}if(18>Fe[0]){Fe=7;break e}var jt=At(dt,rt[0]+8),_i=1+mt(dt,rt[0]+12);if(2147483648<=_i*(dt=1+mt(dt,rt[0]+15))){Fe=3;break e}Yt!=null&&(Yt[0]=jt),xt!=null&&(xt[0]=_i),pt!=null&&(pt[0]=dt),rt[0]+=18,Fe[0]-=18,Ht[0]=1}Fe=0}}if(Ge=Ge[0],ft=ft[0],Fe!=0)return Fe;if(rt=!!(2&ft),!De&&Ge)return 3;if(Z!=null&&(Z[0]=!!(16&ft)),K!=null&&(K[0]=rt),ee!=null&&(ee[0]=0),K=fe[0],ft=Oe[0],Ge&&rt&&te==null){Fe=0;break}if(4>P){Fe=7;break}if(De&&Ge||!De&&!Ge&&!e(h,b[0],"ALPH")){P=[P],Re.na=[Re.na],Re.P=[Re.P],Re.Sa=[Re.Sa];e:{jt=h,Fe=b,De=P;var Ht=Re.gb;xt=Re.na,pt=Re.P,Yt=Re.Sa,_i=22,t(jt!=null),t(De!=null),dt=Fe[0];var dr=De[0];for(t(xt!=null),t(Yt!=null),xt[0]=null,pt[0]=null,Yt[0]=0;;){if(Fe[0]=dt,De[0]=dr,8>dr){Fe=7;break e}var br=At(jt,dt+4);if(4294967286<br){Fe=3;break e}var lr=8+br+1&-2;if(_i+=lr,0<Ht&&_i>Ht){Fe=3;break e}if(!e(jt,dt,"VP8 ")||!e(jt,dt,"VP8L")){Fe=0;break e}if(dr[0]<lr){Fe=7;break e}e(jt,dt,"ALPH")||(xt[0]=jt,pt[0]=dt+8,Yt[0]=br),dt+=lr,dr-=lr}}if(P=P[0],Re.na=Re.na[0],Re.P=Re.P[0],Re.Sa=Re.Sa[0],Fe!=0)break}P=[P],Re.Ja=[Re.Ja],Re.xa=[Re.xa];e:if(Ht=h,Fe=b,De=P,xt=Re.gb[0],pt=Re.Ja,Yt=Re.xa,jt=Fe[0],dt=!e(Ht,jt,"VP8 "),_i=!e(Ht,jt,"VP8L"),t(Ht!=null),t(De!=null),t(pt!=null),t(Yt!=null),8>De[0])Fe=7;else{if(dt||_i){if(Ht=At(Ht,jt+4),12<=xt&&Ht>xt-12){Fe=3;break e}if($e&&Ht>De[0]-8){Fe=7;break e}pt[0]=Ht,Fe[0]+=8,De[0]-=8,Yt[0]=_i}else Yt[0]=5<=De[0]&&Ht[jt+0]==47&&!(Ht[jt+4]>>5),pt[0]=De[0];Fe=0}if(P=P[0],Re.Ja=Re.Ja[0],Re.xa=Re.xa[0],b=b[0],Fe!=0)break;if(4294967286<Re.Ja)return 3;if(ee==null||rt||(ee[0]=Re.xa?2:1),K=[K],ft=[ft],Re.xa){if(5>P){Fe=7;break}ee=K,$e=ft,rt=Z,h==null||5>P?h=0:5<=P&&h[b+0]==47&&!(h[b+4]>>5)?(De=[0],Ht=[0],xt=[0],ke(pt=new A,h,b,P),mi(pt,De,Ht,xt)?(ee!=null&&(ee[0]=De[0]),$e!=null&&($e[0]=Ht[0]),rt!=null&&(rt[0]=xt[0]),h=1):h=0):h=0}else{if(10>P){Fe=7;break}ee=ft,h==null||10>P||!ts(h,b+3,P-3)?h=0:($e=h[b+0]|h[b+1]<<8|h[b+2]<<16,rt=16383&(h[b+7]<<8|h[b+6]),h=16383&(h[b+9]<<8|h[b+8]),1&$e||3<($e>>1&7)||!($e>>4&1)||$e>>5>=Re.Ja||!rt||!h?h=0:(K&&(K[0]=rt),ee&&(ee[0]=h),h=1))}if(!h||(K=K[0],ft=ft[0],Ge&&(fe[0]!=K||Oe[0]!=ft)))return 3;te!=null&&(te[0]=Re,te.offset=b-te.w,t(4294967286>b-te.w),t(te.offset==te.ha-P));break}return Fe==0||Fe==7&&Ge&&te==null?(Z!=null&&(Z[0]|=Re.na!=null&&0<Re.na.length),I!=null&&(I[0]=K),q!=null&&(q[0]=ft),0):Fe}function Gl(h,b,P){var I=b.width,q=b.height,Z=0,K=0,ee=I,te=q;if(b.Da=h!=null&&0<h.Da,b.Da&&(ee=h.cd,te=h.bd,Z=h.v,K=h.j,11>P||(Z&=-2,K&=-2),0>Z||0>K||0>=ee||0>=te||Z+ee>I||K+te>q))return 0;if(b.v=Z,b.j=K,b.va=Z+ee,b.o=K+te,b.U=ee,b.T=te,b.da=h!=null&&0<h.da,b.da){if(!gt(ee,te,P=[h.ib],Z=[h.hb]))return 0;b.ib=P[0],b.hb=Z[0]}return b.ob=h!=null&&h.ob,b.Kb=h==null||!h.Sd,b.da&&(b.ob=b.ib<3*I/4&&b.hb<3*q/4,b.Kb=0),1}function Ls(h){if(h==null)return 2;if(11>h.S){var b=h.f.RGBA;b.fb+=(h.height-1)*b.A,b.A=-b.A}else b=h.f.kb,h=h.height,b.O+=(h-1)*b.fa,b.fa=-b.fa,b.N+=(h-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(h-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(h-1)*b.lb,b.lb=-b.lb);return 0}function $l(h,b,P,I){if(I==null||0>=h||0>=b)return 2;if(P!=null){if(P.Da){var q=P.cd,Z=P.bd,K=-2&P.v,ee=-2&P.j;if(0>K||0>ee||0>=q||0>=Z||K+q>h||ee+Z>b)return 2;h=q,b=Z}if(P.da){if(!gt(h,b,q=[P.ib],Z=[P.hb]))return 2;h=q[0],b=Z[0]}}I.width=h,I.height=b;e:{var te=I.width,fe=I.height;if(h=I.S,0>=te||0>=fe||!(h>=sd&&13>h))h=2;else{if(0>=I.Rd&&I.sd==null){K=Z=q=b=0;var Oe=(ee=te*L_[h])*fe;if(11>h||(Z=(fe+1)/2*(b=(te+1)/2),h==12&&(K=(q=te)*fe)),(fe=o(Oe+2*Z+K))==null){h=1;break e}I.sd=fe,11>h?((te=I.f.RGBA).eb=fe,te.fb=0,te.A=ee,te.size=Oe):((te=I.f.kb).y=fe,te.O=0,te.fa=ee,te.Fd=Oe,te.f=fe,te.N=0+Oe,te.Ab=b,te.Cd=Z,te.ea=fe,te.W=0+Oe+Z,te.Db=b,te.Ed=Z,h==12&&(te.F=fe,te.J=0+Oe+2*Z),te.Tc=K,te.lb=q)}if(b=1,q=I.S,Z=I.width,K=I.height,q>=sd&&13>q)if(11>q)h=I.f.RGBA,b&=(ee=Math.abs(h.A))*(K-1)+Z<=h.size,b&=ee>=Z*L_[q],b&=h.eb!=null;else{h=I.f.kb,ee=(Z+1)/2,Oe=(K+1)/2,te=Math.abs(h.fa),fe=Math.abs(h.Ab);var Ge=Math.abs(h.Db),$e=Math.abs(h.lb),Re=$e*(K-1)+Z;b&=te*(K-1)+Z<=h.Fd,b&=fe*(Oe-1)+ee<=h.Cd,b=(b&=Ge*(Oe-1)+ee<=h.Ed)&te>=Z&fe>=ee&Ge>=ee,b&=h.y!=null,b&=h.f!=null,b&=h.ea!=null,q==12&&(b&=$e>=Z,b&=Re<=h.Tc,b&=h.F!=null)}else b=0;h=b?0:2}}return h!=0||P!=null&&P.fd&&(h=Ls(I)),h}var Br=64,ss=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Xl=24,Ds=32,rd=8,Xr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ft("Predictor0","PredictorAdd0"),re.Predictor0=function(){return 4278190080},re.Predictor1=function(h){return h},re.Predictor2=function(h,b,P){return b[P+0]},re.Predictor3=function(h,b,P){return b[P+1]},re.Predictor4=function(h,b,P){return b[P-1]},re.Predictor5=function(h,b,P){return qt(qt(h,b[P+1]),b[P+0])},re.Predictor6=function(h,b,P){return qt(h,b[P-1])},re.Predictor7=function(h,b,P){return qt(h,b[P+0])},re.Predictor8=function(h,b,P){return qt(b[P-1],b[P+0])},re.Predictor9=function(h,b,P){return qt(b[P+0],b[P+1])},re.Predictor10=function(h,b,P){return qt(qt(h,b[P-1]),qt(b[P+0],b[P+1]))},re.Predictor11=function(h,b,P){var I=b[P+0];return 0>=wi(I>>24&255,h>>24&255,(b=b[P-1])>>24&255)+wi(I>>16&255,h>>16&255,b>>16&255)+wi(I>>8&255,h>>8&255,b>>8&255)+wi(255&I,255&h,255&b)?I:h},re.Predictor12=function(h,b,P){var I=b[P+0];return(ni((h>>24&255)+(I>>24&255)-((b=b[P-1])>>24&255))<<24|ni((h>>16&255)+(I>>16&255)-(b>>16&255))<<16|ni((h>>8&255)+(I>>8&255)-(b>>8&255))<<8|ni((255&h)+(255&I)-(255&b)))>>>0},re.Predictor13=function(h,b,P){var I=b[P-1];return(ai((h=qt(h,b[P+0]))>>24&255,I>>24&255)<<24|ai(h>>16&255,I>>16&255)<<16|ai(h>>8&255,I>>8&255)<<8|ai(h>>0&255,I>>0&255))>>>0};var uu=re.PredictorAdd0;re.PredictorAdd1=ki,Ft("Predictor2","PredictorAdd2"),Ft("Predictor3","PredictorAdd3"),Ft("Predictor4","PredictorAdd4"),Ft("Predictor5","PredictorAdd5"),Ft("Predictor6","PredictorAdd6"),Ft("Predictor7","PredictorAdd7"),Ft("Predictor8","PredictorAdd8"),Ft("Predictor9","PredictorAdd9"),Ft("Predictor10","PredictorAdd10"),Ft("Predictor11","PredictorAdd11"),Ft("Predictor12","PredictorAdd12"),Ft("Predictor13","PredictorAdd13");var Fa=re.PredictorAdd2;Ri("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),Ri("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var Qd,nn=re.ColorIndexInverseTransform,ls=re.MapARGB,nd=re.VP8LColorIndexInverseTransformAlpha,Zl=re.MapAlpha,pa=re.VP8LPredictorsAdd=[];pa.length=16,(re.VP8LPredictors=[]).length=16,(re.VP8LPredictorsAdd_C=[]).length=16,(re.VP8LPredictors_C=[]).length=16;var cs,Tn,on,fa,ma,Na,Yl,$o,en,Kl,$n,Mo,Jl,To,Rs,ml,La,Bs,Us,Ql,ha,Vs,Da,ko,Ao,kr,ir,Zr,an=o(511),Io=o(2041),od=o(225),ds=o(767),qs=0,e0=Io,ad=od,Oo=ds,Fo=an,sd=0,ld=1,pu=2,cd=3,t0=4,i0=5,fu=6,mu=7,s=8,f=9,_=10,S=[2,3,7],O=[3,3,11],J=[280,256,256,256,40],Se=[0,1,1,1,0],je=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Qe=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],bt=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Zt=8,gi=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Bi=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],mn=null,xn=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Xo=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Xn=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ec=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],mg=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],hg=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],gg=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],us=[],ga=[],Ra=[],sn=1,dd=2,js=[],Zo=[];it("UpsampleRgbLinePair",Zi,3),it("UpsampleBgrLinePair",jr,3),it("UpsampleRgbaLinePair",Fn,4),it("UpsampleBgraLinePair",hr,4),it("UpsampleArgbLinePair",On,4),it("UpsampleRgba4444LinePair",Qr,2),it("UpsampleRgb565LinePair",$r,2);var vg=re.UpsampleRgbLinePair,hu=re.UpsampleBgrLinePair,gu=re.UpsampleRgbaLinePair,jp=re.UpsampleBgraLinePair,A_=re.UpsampleArgbLinePair,I_=re.UpsampleRgba4444LinePair,S5=re.UpsampleRgb565LinePair,zp=16,Wp=1<<zp-1,vu=-227,_g=482,O_=6,E5=(256<<O_)-1,F_=0,P5=o(256),M5=o(256),T5=o(256),k5=o(256),A5=o(_g-vu),I5=o(_g-vu);bn("YuvToRgbRow",Zi,3),bn("YuvToBgrRow",jr,3),bn("YuvToRgbaRow",Fn,4),bn("YuvToBgraRow",hr,4),bn("YuvToArgbRow",On,4),bn("YuvToRgba4444Row",Qr,2),bn("YuvToRgb565Row",$r,2);var N_=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Hp=[0,2,8],O5=[8,7,6,4,4,2,2,2,1,1,1,1],F5=1;this.WebPDecodeRGBA=function(h,b,P,I,q){var Z=ld,K=new dl,ee=new So;K.ba=ee,ee.S=Z,ee.width=[ee.width],ee.height=[ee.height];var te=ee.width,fe=ee.height,Oe=new la;if(Oe==null||h==null)var Ge=2;else t(Oe!=null),Ge=Oa(h,b,P,Oe.width,Oe.height,Oe.Pd,Oe.Qd,Oe.format,null);if(Ge!=0?te=0:(te!=null&&(te[0]=Oe.width[0]),fe!=null&&(fe[0]=Oe.height[0]),te=1),te){ee.width=ee.width[0],ee.height=ee.height[0],I!=null&&(I[0]=ee.width),q!=null&&(q[0]=ee.height);e:{if(I=new sr,(q=new Hl).data=h,q.w=b,q.ha=P,q.kd=1,b=[0],t(q!=null),((h=Oa(q.data,q.w,q.ha,null,null,null,b,null,q))==0||h==7)&&b[0]&&(h=4),(b=h)==0){if(t(K!=null),I.data=q.data,I.w=q.w+q.offset,I.ha=q.ha-q.offset,I.put=qo,I.ac=Kr,I.bc=jo,I.ma=K,q.xa){if((h=tt())==null){K=1;break e}if(function($e,Re){var ft=[0],rt=[0],Fe=[0];t:for(;;){if($e==null)return 0;if(Re==null)return $e.a=2,0;if($e.l=Re,$e.a=0,ke($e.m,Re.data,Re.w,Re.ha),!mi($e.m,ft,rt,Fe)){$e.a=3;break t}if($e.xb=dd,Re.width=ft[0],Re.height=rt[0],!We(ft[0],rt[0],1,$e,null))break t;return 1}return t($e.a!=0),0}(h,I)){if(I=(b=$l(I.width,I.height,K.Oa,K.ba))==0){t:{I=h;i:for(;;){if(I==null){I=0;break t}if(t(I.s.yc!=null),t(I.s.Ya!=null),t(0<I.s.Wb),t((P=I.l)!=null),t((q=P.ma)!=null),I.xb!=0){if(I.ca=q.ba,I.tb=q.tb,t(I.ca!=null),!Gl(q.Oa,P,cd)){I.a=2;break i}if(!He(I,P.width)||P.da)break i;if((P.da||tr(I.ca.S))&&Ve(),11>I.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),I.ca.f.kb.F!=null&&Ve()),I.Pb&&0<I.s.ua&&I.s.vb.X==null&&!Lt(I.s.vb,I.s.Wa.Xa)){I.a=1;break i}I.xb=0}if(!ge(I,I.V,I.Ba,I.c,I.i,P.o,he))break i;q.Dc=I.Ma,I=1;break t}t(I.a!=0),I=0}I=!I}I&&(b=h.a)}else b=h.a}else{if((h=new In)==null){K=1;break e}if(h.Fa=q.na,h.P=q.P,h.qc=q.Sa,Bl(h,I)){if((b=$l(I.width,I.height,K.Oa,K.ba))==0){if(h.Aa=0,P=K.Oa,t((q=h)!=null),P!=null){if(0<(te=0>(te=P.Md)?0:100<te?255:255*te/100)){for(fe=Oe=0;4>fe;++fe)12>(Ge=q.pb[fe]).lc&&(Ge.ia=te*O5[0>Ge.lc?0:Ge.lc]>>3),Oe|=Ge.ia;Oe&&(alert("todo:VP8InitRandom"),q.ia=1)}q.Ga=P.Id,100<q.Ga?q.Ga=100:0>q.Ga&&(q.Ga=0)}Wc(h,I)||(b=h.a)}}else b=h.a}b==0&&K.Oa!=null&&K.Oa.fd&&(b=Ls(K.ba))}K=b}Z=K!=0?null:11>Z?ee.f.RGBA.eb:ee.f.kb.y}else Z=null;return Z};var L_=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function m(re,ce){for(var Ce="",W=0;W<4;W++)Ce+=String.fromCharCode(re[ce++]);return Ce}function v(re,ce){return(re[ce+0]<<0|re[ce+1]<<8|re[ce+2]<<16)>>>0}function y(re,ce){return(re[ce+0]<<0|re[ce+1]<<8|re[ce+2]<<16|re[ce+3]<<24)>>>0}new u;var w=[0],x=[0],T=[],E=new u,k=i,F=function(re,ce){var Ce={},W=0,G=!1,xe=0,ye=0;if(Ce.frames=[],!function(j,R,z,le){for(var Pe=0;Pe<le;Pe++)if(j[R+Pe]!=z.charCodeAt(Pe))return!0;return!1}(re,ce,"RIFF",4)){for(y(re,ce+=4),ce+=8;ce<re.length;){var Le=m(re,ce),Ie=y(re,ce+=4);ce+=4;var Ye=Ie+(1&Ie);switch(Le){case"VP8 ":case"VP8L":Ce.frames[W]===void 0&&(Ce.frames[W]={}),(Xe=Ce.frames[W]).src_off=G?ye:ce-8,Xe.src_size=xe+Ie+8,W++,G&&(G=!1,xe=0,ye=0);break;case"VP8X":(Xe=Ce.header={}).feature_flags=re[ce];var ke=ce+4;Xe.canvas_width=1+v(re,ke),ke+=3,Xe.canvas_height=1+v(re,ke),ke+=3;break;case"ALPH":G=!0,xe=Ye+8,ye=ce-8;break;case"ANIM":(Xe=Ce.header).bgcolor=y(re,ce),ke=ce+4,Xe.loop_count=(St=re)[(A=ke)+0]<<0|St[A+1]<<8,ke+=2;break;case"ANMF":var qe,Xe;(Xe=Ce.frames[W]={}).offset_x=2*v(re,ce),ce+=3,Xe.offset_y=2*v(re,ce),ce+=3,Xe.width=1+v(re,ce),ce+=3,Xe.height=1+v(re,ce),ce+=3,Xe.duration=v(re,ce),ce+=3,qe=re[ce++],Xe.dispose=1&qe,Xe.blend=qe>>1&1}Le!="ANMF"&&(ce+=Ye)}var St,A;return Ce}}(k,0);F.response=k,F.rgbaoutput=!0,F.dataurl=!1;var U=F.header?F.header:null,Y=F.frames?F.frames:null;if(U){U.loop_counter=U.loop_count,w=[U.canvas_height],x=[U.canvas_width];for(var ve=0;ve<Y.length&&Y[ve].blend!=0;ve++);}var we=Y[0],Ue=E.WebPDecodeRGBA(k,we.src_off,we.src_size,x,w);we.rgba=Ue,we.imgwidth=x[0],we.imgheight=w[0];for(var ne=0;ne<x[0]*w[0]*4;ne++)T[ne]=Ue[ne];return this.width=x,this.height=w,this.data=T,this}(function(i){var t=function(){return typeof Lh=="function"},e=function(w,x,T,E){var k=4,F=a;switch(E){case i.image_compression.FAST:k=1,F=o;break;case i.image_compression.MEDIUM:k=6,F=d;break;case i.image_compression.SLOW:k=9,F=u}w=r(w,x,T,F);var U=Lh(w,{level:k});return i.__addimage__.arrayBufferToBinaryString(U)},r=function(w,x,T,E){for(var k,F,U,Y=w.length/x,ve=new Uint8Array(w.length+Y),we=v(),Ue=0;Ue<Y;Ue+=1){if(U=Ue*x,k=w.subarray(U,U+x),E)ve.set(E(k,T,F),U+Ue);else{for(var ne,re=we.length,ce=[];ne<re;ne+=1)ce[ne]=we[ne](k,T,F);var Ce=y(ce.concat());ve.set(ce[Ce],U+Ue)}F=k}return ve},n=function(w){var x=Array.apply([],w);return x.unshift(0),x},o=function(w,x){var T,E=[],k=w.length;E[0]=1;for(var F=0;F<k;F+=1)T=w[F-x]||0,E[F+1]=w[F]-T+256&255;return E},a=function(w,x,T){var E,k=[],F=w.length;k[0]=2;for(var U=0;U<F;U+=1)E=T&&T[U]||0,k[U+1]=w[U]-E+256&255;return k},d=function(w,x,T){var E,k,F=[],U=w.length;F[0]=3;for(var Y=0;Y<U;Y+=1)E=w[Y-x]||0,k=T&&T[Y]||0,F[Y+1]=w[Y]+256-(E+k>>>1)&255;return F},u=function(w,x,T){var E,k,F,U,Y=[],ve=w.length;Y[0]=4;for(var we=0;we<ve;we+=1)E=w[we-x]||0,k=T&&T[we]||0,F=T&&T[we-x]||0,U=m(E,k,F),Y[we+1]=w[we]-U+256&255;return Y},m=function(w,x,T){if(w===x&&x===T)return w;var E=Math.abs(x-T),k=Math.abs(w-T),F=Math.abs(w+x-T-T);return E<=k&&E<=F?w:k<=F?x:T},v=function(){return[n,o,a,d,u]},y=function(w){var x=w.map(function(T){return T.reduce(function(E,k){return E+Math.abs(k)},0)});return x.indexOf(Math.min.apply(null,x))};i.processPNG=function(w,x,T,E){var k,F,U,Y,ve,we,Ue,ne,re,ce,Ce,W,G,xe,ye,Le=this.decode.FLATE_DECODE,Ie="";if(this.__addimage__.isArrayBuffer(w)&&(w=new Uint8Array(w)),this.__addimage__.isArrayBufferView(w)){if(w=(U=new X9(w)).imgData,F=U.bits,k=U.colorSpace,ve=U.colors,[4,6].indexOf(U.colorType)!==-1){if(U.bits===8){re=(ne=U.pixelBitlength==32?new Uint32Array(U.decodePixels().buffer):U.pixelBitlength==16?new Uint16Array(U.decodePixels().buffer):new Uint8Array(U.decodePixels().buffer)).length,Ce=new Uint8Array(re*U.colors),ce=new Uint8Array(re);var Ye,ke=U.pixelBitlength-U.bits;for(xe=0,ye=0;xe<re;xe++){for(G=ne[xe],Ye=0;Ye<ke;)Ce[ye++]=G>>>Ye&255,Ye+=U.bits;ce[xe]=G>>>Ye&255}}if(U.bits===16){re=(ne=new Uint32Array(U.decodePixels().buffer)).length,Ce=new Uint8Array(re*(32/U.pixelBitlength)*U.colors),ce=new Uint8Array(re*(32/U.pixelBitlength)),W=U.colors>1,xe=0,ye=0;for(var qe=0;xe<re;)G=ne[xe++],Ce[ye++]=G>>>0&255,W&&(Ce[ye++]=G>>>16&255,G=ne[xe++],Ce[ye++]=G>>>0&255),ce[qe++]=G>>>16&255;F=8}E!==i.image_compression.NONE&&t()?(w=e(Ce,U.width*U.colors,U.colors,E),Ue=e(ce,U.width,1,E)):(w=Ce,Ue=ce,Le=void 0)}if(U.colorType===3&&(k=this.color_spaces.INDEXED,we=U.palette,U.transparency.indexed)){var Xe=U.transparency.indexed,St=0;for(xe=0,re=Xe.length;xe<re;++xe)St+=Xe[xe];if((St/=255)===re-1&&Xe.indexOf(0)!==-1)Y=[Xe.indexOf(0)];else if(St!==re){for(ne=U.decodePixels(),ce=new Uint8Array(ne.length),xe=0,re=ne.length;xe<re;xe++)ce[xe]=Xe[ne[xe]];Ue=e(ce,U.width,1)}}var A=function(j){var R;switch(j){case i.image_compression.FAST:R=11;break;case i.image_compression.MEDIUM:R=13;break;case i.image_compression.SLOW:R=14;break;default:R=12}return R}(E);return Le===this.decode.FLATE_DECODE&&(Ie="/Predictor "+A+" "),Ie+="/Colors "+ve+" /BitsPerComponent "+F+" /Columns "+U.width,(this.__addimage__.isArrayBuffer(w)||this.__addimage__.isArrayBufferView(w))&&(w=this.__addimage__.arrayBufferToBinaryString(w)),(Ue&&this.__addimage__.isArrayBuffer(Ue)||this.__addimage__.isArrayBufferView(Ue))&&(Ue=this.__addimage__.arrayBufferToBinaryString(Ue)),{alias:T,data:w,index:x,filter:Le,decodeParameters:Ie,transparency:Y,palette:we,sMask:Ue,predictor:A,width:U.width,height:U.height,bitsPerComponent:F,colorSpace:k}}}})(oi.API),function(i){i.processGIF89A=function(t,e,r,n){var o=new Z9(t),a=o.width,d=o.height,u=[];o.decodeAndBlitFrameRGBA(0,u);var m={data:u,width:a,height:d},v=new l_(100).encode(m,100);return i.processJPEG.call(this,v,e,r,n)},i.processGIF87A=i.processGIF89A}(oi.API),Es.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var i=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(i);for(var t=0;t<i;t++){var e=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:n,green:r,blue:e,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Es.prototype.parseBGR=function(){this.pos=this.offset;try{var i="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[i]()}catch(e){Rr.log("bit decode error:"+e)}},Es.prototype.bit1=function(){var i,t=Math.ceil(this.width/8),e=t%4;for(i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,n=0;n<t;n++)for(var o=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*n*4,d=0;d<8&&8*n+d<this.width;d++){var u=this.palette[o>>7-d&1];this.data[a+4*d]=u.blue,this.data[a+4*d+1]=u.green,this.data[a+4*d+2]=u.red,this.data[a+4*d+3]=255}e!==0&&(this.pos+=4-e)}},Es.prototype.bit4=function(){for(var i=Math.ceil(this.width/2),t=i%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<i;n++){var o=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*n*4,d=o>>4,u=15&o,m=this.palette[d];if(this.data[a]=m.blue,this.data[a+1]=m.green,this.data[a+2]=m.red,this.data[a+3]=255,2*n+1>=this.width)break;m=this.palette[u],this.data[a+4]=m.blue,this.data[a+4+1]=m.green,this.data[a+4+2]=m.red,this.data[a+4+3]=255}t!==0&&(this.pos+=4-t)}},Es.prototype.bit8=function(){for(var i=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;if(n<this.palette.length){var a=this.palette[n];this.data[o]=a.red,this.data[o+1]=a.green,this.data[o+2]=a.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}i!==0&&(this.pos+=4-i)}},Es.prototype.bit15=function(){for(var i=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&t)/t*255|0,d=(o>>5&t)/t*255|0,u=(o>>10&t)/t*255|0,m=o>>15?255:0,v=r*this.width*4+4*n;this.data[v]=u,this.data[v+1]=d,this.data[v+2]=a,this.data[v+3]=m}this.pos+=i}},Es.prototype.bit16=function(){for(var i=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(a&t)/t*255|0,u=(a>>5&e)/e*255|0,m=(a>>11)/t*255|0,v=n*this.width*4+4*o;this.data[v]=m,this.data[v+1]=u,this.data[v+2]=d,this.data[v+3]=255}this.pos+=i}},Es.prototype.bit24=function(){for(var i=this.height-1;i>=0;i--){for(var t=this.bottom_up?i:this.height-1-i,e=0;e<this.width;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*e;this.data[a]=o,this.data[a+1]=n,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},Es.prototype.bit32=function(){for(var i=this.height-1;i>=0;i--)for(var t=this.bottom_up?i:this.height-1-i,e=0;e<this.width;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),d=t*this.width*4+4*e;this.data[d]=o,this.data[d+1]=n,this.data[d+2]=r,this.data[d+3]=a}},Es.prototype.getData=function(){return this.data},function(i){i.processBMP=function(t,e,r,n){var o=new Es(t,!1),a=o.width,d=o.height,u={data:o.getData(),width:a,height:d},m=new l_(100).encode(u,100);return i.processJPEG.call(this,m,e,r,n)}}(oi.API),Dw.prototype.getData=function(){return this.data},function(i){i.processWEBP=function(t,e,r,n){var o=new Dw(t),a=o.width,d=o.height,u={data:o.getData(),width:a,height:d},m=new l_(100).encode(u,100);return i.processJPEG.call(this,m,e,r,n)}}(oi.API),oi.API.processRGBA=function(i,t,e){for(var r=i.data,n=r.length,o=new Uint8Array(n/4*3),a=new Uint8Array(n/4),d=0,u=0,m=0;m<n;m+=4){var v=r[m],y=r[m+1],w=r[m+2],x=r[m+3];o[d++]=v,o[d++]=y,o[d++]=w,a[u++]=x}var T=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:T,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:i.width,height:i.height}},oi.API.setLanguage=function(i){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[i]!==void 0&&(this.internal.languageSettings.languageCode=i,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},tu=oi.API,Uh=tu.getCharWidthsArray=function(i,t){var e,r,n=(t=t||{}).font||this.internal.getFont(),o=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),d=t.widths?t.widths:n.metadata.Unicode.widths,u=d.fof?d.fof:1,m=t.kerning?t.kerning:n.metadata.Unicode.kerning,v=m.fof?m.fof:1,y=t.doKerning!==!1,w=0,x=i.length,T=0,E=d[0]||u,k=[];for(e=0;e<x;e++)r=i.charCodeAt(e),typeof n.metadata.widthOfString=="function"?k.push((n.metadata.widthOfGlyph(n.metadata.characterToGlyph(r))+a*(1e3/o)||0)/1e3):(w=y&&Ir(m[r])==="object"&&!isNaN(parseInt(m[r][T],10))?m[r][T]/v:0,k.push((d[r]||E)/u+w)),T=r;return k},Ow=tu.getStringUnitWidth=function(i,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),n=t.charSpace||this.internal.getCharSpace();return tu.processArabic&&(i=tu.processArabic(i)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(i,e,n)/e:Uh.apply(this,arguments).reduce(function(o,a){return o+a},0)},Fw=function(i,t,e,r){for(var n=[],o=0,a=i.length,d=0;o!==a&&d+t[o]<e;)d+=t[o],o++;n.push(i.slice(0,o));var u=o;for(d=0;o!==a;)d+t[o]>r&&(n.push(i.slice(u,o)),d=0,u=o),d+=t[o],o++;return u!==o&&n.push(i.slice(u,o)),n},Nw=function(i,t,e){e||(e={});var r,n,o,a,d,u,m,v=[],y=[v],w=e.textIndent||0,x=0,T=0,E=i.split(" "),k=Uh.apply(this,[" ",e])[0];if(u=e.lineIndent===-1?E[0].length+2:e.lineIndent||0){var F=Array(u).join(" "),U=[];E.map(function(ve){(ve=ve.split(/\s*\n/)).length>1?U=U.concat(ve.map(function(we,Ue){return(Ue&&we.length?`
`:"")+we})):U.push(ve[0])}),E=U,u=Ow.apply(this,[F,e])}for(o=0,a=E.length;o<a;o++){var Y=0;if(r=E[o],u&&r[0]==`
`&&(r=r.substr(1),Y=1),w+x+(T=(n=Uh.apply(this,[r,e])).reduce(function(ve,we){return ve+we},0))>t||Y){if(T>t){for(d=Fw.apply(this,[r,n,t-(w+x),t]),v.push(d.shift()),v=[d.pop()];d.length;)y.push([d.shift()]);T=n.slice(r.length-(v[0]?v[0].length:0)).reduce(function(ve,we){return ve+we},0)}else v=[r];y.push(v),w=T+u,x=k}else v.push(r),w+=x+T,x=k}return m=u?function(ve,we){return(we?F:"")+ve.join(" ")}:function(ve){return ve.join(" ")},y.map(m)},tu.splitTextToSize=function(i,t,e){var r,n=(e=e||{}).fontSize||this.internal.getFontSize(),o=function(v){if(v.widths&&v.kerning)return{widths:v.widths,kerning:v.kerning};var y=this.internal.getFont(v.fontName,v.fontStyle);return y.metadata.Unicode?{widths:y.metadata.Unicode.widths||{0:1},kerning:y.metadata.Unicode.kerning||{}}:{font:y.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,e);r=Array.isArray(i)?i:String(i).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/n;o.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/n:0,o.lineIndent=e.lineIndent;var d,u,m=[];for(d=0,u=r.length;d<u;d++)m=m.concat(Nw.apply(this,[r[d],a,o]));return m},function(i){i.__fontmetrics__=i.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",e={},r={},n=0;n<t.length;n++)e[t[n]]="0123456789abcdef"[n],r["0123456789abcdef"[n]]=t[n];var o=function(y){return"0x"+parseInt(y,10).toString(16)},a=i.__fontmetrics__.compress=function(y){var w,x,T,E,k=["{"];for(var F in y){if(w=y[F],isNaN(parseInt(F,10))?x="'"+F+"'":(F=parseInt(F,10),x=(x=o(F).slice(2)).slice(0,-1)+r[x.slice(-1)]),typeof w=="number")w<0?(T=o(w).slice(3),E="-"):(T=o(w).slice(2),E=""),T=E+T.slice(0,-1)+r[T.slice(-1)];else{if(Ir(w)!=="object")throw new Error("Don't know what to do with value type "+Ir(w)+".");T=a(w)}k.push(x+T)}return k.push("}"),k.join("")},d=i.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var w,x,T,E,k={},F=1,U=k,Y=[],ve="",we="",Ue=y.length-1,ne=1;ne<Ue;ne+=1)(E=y[ne])=="'"?w?(T=w.join(""),w=void 0):w=[]:w?w.push(E):E=="{"?(Y.push([U,T]),U={},T=void 0):E=="}"?((x=Y.pop())[0][x[1]]=U,T=void 0,U=x[0]):E=="-"?F=-1:T===void 0?e.hasOwnProperty(E)?(ve+=e[E],T=parseInt(ve,16)*F,F=1,ve=""):ve+=E:e.hasOwnProperty(E)?(we+=e[E],U[T]=parseInt(we,16)*F,F=1,T=void 0,we=""):we+=E;return k},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},m={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},v={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};i.events.push(["addFont",function(y){var w=y.font,x=v.Unicode[w.postScriptName];x&&(w.metadata.Unicode={},w.metadata.Unicode.widths=x.widths,w.metadata.Unicode.kerning=x.kerning);var T=m.Unicode[w.postScriptName];T&&(w.metadata.Unicode.encoding=T,w.encoding=T.codePages[0])}])}(oi.API),function(i){var t=function(e){for(var r=e.length,n=new Uint8Array(r),o=0;o<r;o++)n[o]=e.charCodeAt(o);return n};i.API.events.push(["addFont",function(e){var r=void 0,n=e.font,o=e.instance;if(!n.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");if(typeof(r=o.existsFileInVFS(n.postScriptName)===!1?o.loadFile(n.postScriptName):o.getFileFromVFS(n.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");(function(a,d){d=/^\x00\x01\x00\x00/.test(d)?t(d):t(Vp(d)),a.metadata=i.API.TTFFont.open(d),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(n,r)}}])}(oi),function(i){function t(){return(Si.canvg?Promise.resolve(Si.canvg):import("./chunk-L2OSWPB4.js")).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}oi.API.addSvgAsImage=function(e,r,n,o,a,d,u,m){if(isNaN(r)||isNaN(n))throw Rr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(a))throw Rr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var v=document.createElement("canvas");v.width=o,v.height=a;var y=v.getContext("2d");y.fillStyle="#fff",y.fillRect(0,0,v.width,v.height);var w={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},x=this;return t().then(function(T){return T.fromString(y,e,w)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(T){return T.render(w)}).then(function(){x.addImage(v.toDataURL("image/jpeg",1),r,n,o,a,u,m)})}}(),oi.API.putTotalPages=function(i){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(i,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(i,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var n=0;n<this.internal.pages[r].length;n++)this.internal.pages[r][n]=this.internal.pages[r][n].replace(t,e);return this},oi.API.viewerPreferences=function(i,t){var e;i=i||{},t=t||!1;var r,n,o,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},d=Object.keys(a),u=[],m=0,v=0,y=0;function w(T,E){var k,F=!1;for(k=0;k<T.length;k+=1)T[k]===E&&(F=!0);return F}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,i==="reset"||t===!0){var x=d.length;for(y=0;y<x;y+=1)e[d[y]].value=e[d[y]].defaultValue,e[d[y]].explicitSet=!1}if(Ir(i)==="object"){for(n in i)if(o=i[n],w(d,n)&&o!==void 0){if(e[n].type==="boolean"&&typeof o=="boolean")e[n].value=o;else if(e[n].type==="name"&&w(e[n].valueSet,o))e[n].value=o;else if(e[n].type==="integer"&&Number.isInteger(o))e[n].value=o;else if(e[n].type==="array"){for(m=0;m<o.length;m+=1)if(r=!0,o[m].length===1&&typeof o[m][0]=="number")u.push(String(o[m]-1));else if(o[m].length>1){for(v=0;v<o[m].length;v+=1)typeof o[m][v]!="number"&&(r=!1);r===!0&&u.push([o[m][0]-1,o[m][1]-1].join(" "))}e[n].value="["+u.join(" ")+"]"}else e[n].value=e[n].defaultValue;e[n].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var T,E=[];for(T in e)e[T].explicitSet===!0&&(e[T].type==="name"?E.push("/"+T+" /"+e[T].value):E.push("/"+T+" "+e[T].value));E.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+E.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},function(i){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',n=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),d=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),m=o.length+a.length+d.length+n.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+m+" >>"),this.internal.write("stream"),this.internal.write(n+o+a+d+u),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};i.addMetadata=function(r,n){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:n||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}}(oi.API),function(i){var t=i.API,e=t.pdfEscape16=function(o,a){for(var d,u=a.metadata.Unicode.widths,m=["","0","00","000","0000"],v=[""],y=0,w=o.length;y<w;++y){if(d=a.metadata.characterToGlyph(o.charCodeAt(y)),a.metadata.glyIdsUsed.push(d),a.metadata.toUnicode[d]=o.charCodeAt(y),u.indexOf(d)==-1&&(u.push(d),u.push([parseInt(a.metadata.widthOfGlyph(d),10)])),d=="0")return v.join("");d=d.toString(16),v.push(m[4-d.length],d)}return v.join("")},r=function(o){var a,d,u,m,v,y,w;for(v=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],y=0,w=(d=Object.keys(o).sort(function(x,T){return x-T})).length;y<w;y++)a=d[y],u.length>=100&&(v+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),o[a]!==void 0&&o[a]!==null&&typeof o[a].toString=="function"&&(m=("0000"+o[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),u.push("<"+a+"><"+m+">"));return u.length&&(v+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),v+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(o){(function(a){var d=a.font,u=a.out,m=a.newObject,v=a.putStream;if(d.metadata instanceof i.API.TTFFont&&d.encoding==="Identity-H"){for(var y=d.metadata.Unicode.widths,w=d.metadata.subset.encode(d.metadata.glyIdsUsed,1),x="",T=0;T<w.length;T++)x+=String.fromCharCode(w[T]);var E=m();v({data:x,addLength1:!0,objectId:E}),u("endobj");var k=m();v({data:r(d.metadata.toUnicode),addLength1:!0,objectId:k}),u("endobj");var F=m();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+ru(d.fontName)),u("/FontFile2 "+E+" 0 R"),u("/FontBBox "+i.API.PDFObject.convert(d.metadata.bbox)),u("/Flags "+d.metadata.flags),u("/StemV "+d.metadata.stemV),u("/ItalicAngle "+d.metadata.italicAngle),u("/Ascent "+d.metadata.ascender),u("/Descent "+d.metadata.decender),u("/CapHeight "+d.metadata.capHeight),u(">>"),u("endobj");var U=m();u("<<"),u("/Type /Font"),u("/BaseFont /"+ru(d.fontName)),u("/FontDescriptor "+F+" 0 R"),u("/W "+i.API.PDFObject.convert(y)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+d.encoding+")"),u(">>"),u(">>"),u("endobj"),d.objectNumber=m(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+k+" 0 R"),u("/BaseFont /"+ru(d.fontName)),u("/Encoding /"+d.encoding),u("/DescendantFonts ["+U+" 0 R]"),u(">>"),u("endobj"),d.isAlreadyPutted=!0}})(o)}]),t.events.push(["putFont",function(o){(function(a){var d=a.font,u=a.out,m=a.newObject,v=a.putStream;if(d.metadata instanceof i.API.TTFFont&&d.encoding==="WinAnsiEncoding"){for(var y=d.metadata.rawData,w="",x=0;x<y.length;x++)w+=String.fromCharCode(y[x]);var T=m();v({data:w,addLength1:!0,objectId:T}),u("endobj");var E=m();v({data:r(d.metadata.toUnicode),addLength1:!0,objectId:E}),u("endobj");var k=m();u("<<"),u("/Descent "+d.metadata.decender),u("/CapHeight "+d.metadata.capHeight),u("/StemV "+d.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+T+" 0 R"),u("/Flags 96"),u("/FontBBox "+i.API.PDFObject.convert(d.metadata.bbox)),u("/FontName /"+ru(d.fontName)),u("/ItalicAngle "+d.metadata.italicAngle),u("/Ascent "+d.metadata.ascender),u(">>"),u("endobj"),d.objectNumber=m();for(var F=0;F<d.metadata.hmtx.widths.length;F++)d.metadata.hmtx.widths[F]=parseInt(d.metadata.hmtx.widths[F]*(1e3/d.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+E+" 0 R/BaseFont/"+ru(d.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+d.encoding+" /FirstChar 29 /LastChar 255 /Widths "+i.API.PDFObject.convert(d.metadata.hmtx.widths)+">>"),u("endobj"),d.isAlreadyPutted=!0}})(o)}]);var n=function(o){var a,d=o.text||"",u=o.x,m=o.y,v=o.options||{},y=o.mutex||{},w=y.pdfEscape,x=y.activeFontKey,T=y.fonts,E=x,k="",F=0,U="",Y=T[E].encoding;if(T[E].encoding!=="Identity-H")return{text:d,x:u,y:m,options:v,mutex:y};for(U=d,E=x,Array.isArray(d)&&(U=d[0]),F=0;F<U.length;F+=1)T[E].metadata.hasOwnProperty("cmap")&&(a=T[E].metadata.cmap.unicode.codeMap[U[F].charCodeAt(0)]),a||U[F].charCodeAt(0)<256&&T[E].metadata.hasOwnProperty("Unicode")?k+=U[F]:k+="";var ve="";return parseInt(E.slice(1))<14||Y==="WinAnsiEncoding"?ve=w(k,E).split("").map(function(we){return we.charCodeAt(0).toString(16)}).join(""):Y==="Identity-H"&&(ve=e(k,T[E])),y.isHex=!0,{text:ve,x:u,y:m,options:v,mutex:y}};t.events.push(["postProcessText",function(o){var a=o.text||"",d=[],u={text:a,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(a)){var m=0;for(m=0;m<a.length;m+=1)Array.isArray(a[m])&&a[m].length===3?d.push([n(Object.assign({},u,{text:a[m][0]})).text,a[m][1],a[m][2]]):d.push(n(Object.assign({},u,{text:a[m]})).text);o.text=d}else o.text=n(Object.assign({},u,{text:a})).text}])}(oi),function(i){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};i.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},i.addFileToVFS=function(e,r){return t.call(this),this.internal.vFS[e]=r,this},i.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}}(oi.API),function(i){i.__bidiEngine__=i.prototype.__bidiEngine__=function(r){var n,o,a,d,u,m,v,y=t,w=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],x=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],T={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},E={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],F=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),U=!1,Y=0;this.__bidiEngine__={};var ve=function(W){var G=W.charCodeAt(),xe=G>>8,ye=E[xe];return ye!==void 0?y[256*ye+(255&G)]:xe===252||xe===253?"AL":F.test(xe)?"L":xe===8?"R":"N"},we=function(W){for(var G,xe=0;xe<W.length;xe++){if((G=ve(W.charAt(xe)))==="L")return!1;if(G==="R")return!0}return!1},Ue=function(W,G,xe,ye){var Le,Ie,Ye,ke,qe=G[ye];switch(qe){case"L":case"R":U=!1;break;case"N":case"AN":break;case"EN":U&&(qe="AN");break;case"AL":U=!0,qe="R";break;case"WS":qe="N";break;case"CS":ye<1||ye+1>=G.length||(Le=xe[ye-1])!=="EN"&&Le!=="AN"||(Ie=G[ye+1])!=="EN"&&Ie!=="AN"?qe="N":U&&(Ie="AN"),qe=Ie===Le?Ie:"N";break;case"ES":qe=(Le=ye>0?xe[ye-1]:"B")==="EN"&&ye+1<G.length&&G[ye+1]==="EN"?"EN":"N";break;case"ET":if(ye>0&&xe[ye-1]==="EN"){qe="EN";break}if(U){qe="N";break}for(Ye=ye+1,ke=G.length;Ye<ke&&G[Ye]==="ET";)Ye++;qe=Ye<ke&&G[Ye]==="EN"?"EN":"N";break;case"NSM":if(a&&!d){for(ke=G.length,Ye=ye+1;Ye<ke&&G[Ye]==="NSM";)Ye++;if(Ye<ke){var Xe=W[ye],St=Xe>=1425&&Xe<=2303||Xe===64286;if(Le=G[Ye],St&&(Le==="R"||Le==="AL")){qe="R";break}}}qe=ye<1||(Le=G[ye-1])==="B"?"N":xe[ye-1];break;case"B":U=!1,n=!0,qe=Y;break;case"S":o=!0,qe="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":U=!1;break;case"BN":qe="N"}return qe},ne=function(W,G,xe){var ye=W.split("");return xe&&re(ye,xe,{hiLevel:Y}),ye.reverse(),G&&G.reverse(),ye.join("")},re=function(W,G,xe){var ye,Le,Ie,Ye,ke,qe=-1,Xe=W.length,St=0,A=[],j=Y?x:w,R=[];for(U=!1,n=!1,o=!1,Le=0;Le<Xe;Le++)R[Le]=ve(W[Le]);for(Ie=0;Ie<Xe;Ie++){if(ke=St,A[Ie]=Ue(W,R,A,Ie),ye=240&(St=j[ke][T[A[Ie]]]),St&=15,G[Ie]=Ye=j[St][5],ye>0)if(ye===16){for(Le=qe;Le<Ie;Le++)G[Le]=1;qe=-1}else qe=-1;if(j[St][6])qe===-1&&(qe=Ie);else if(qe>-1){for(Le=qe;Le<Ie;Le++)G[Le]=Ye;qe=-1}R[Ie]==="B"&&(G[Ie]=0),xe.hiLevel|=Ye}o&&function(z,le,Pe){for(var Ne=0;Ne<Pe;Ne++)if(z[Ne]==="S"){le[Ne]=Y;for(var Ae=Ne-1;Ae>=0&&z[Ae]==="WS";Ae--)le[Ae]=Y}}(R,G,Xe)},ce=function(W,G,xe,ye,Le){if(!(Le.hiLevel<W)){if(W===1&&Y===1&&!n)return G.reverse(),void(xe&&xe.reverse());for(var Ie,Ye,ke,qe,Xe=G.length,St=0;St<Xe;){if(ye[St]>=W){for(ke=St+1;ke<Xe&&ye[ke]>=W;)ke++;for(qe=St,Ye=ke-1;qe<Ye;qe++,Ye--)Ie=G[qe],G[qe]=G[Ye],G[Ye]=Ie,xe&&(Ie=xe[qe],xe[qe]=xe[Ye],xe[Ye]=Ie);St=ke}St++}}},Ce=function(W,G,xe){var ye=W.split(""),Le={hiLevel:Y};return xe||(xe=[]),re(ye,xe,Le),function(Ie,Ye,ke){if(ke.hiLevel!==0&&v)for(var qe,Xe=0;Xe<Ie.length;Xe++)Ye[Xe]===1&&(qe=k.indexOf(Ie[Xe]))>=0&&(Ie[Xe]=k[qe+1])}(ye,xe,Le),ce(2,ye,G,xe,Le),ce(1,ye,G,xe,Le),ye.join("")};return this.__bidiEngine__.doBidiReorder=function(W,G,xe){if(function(Le,Ie){if(Ie)for(var Ye=0;Ye<Le.length;Ye++)Ie[Ye]=Ye;d===void 0&&(d=we(Le)),m===void 0&&(m=we(Le))}(W,G),a||!u||m)if(a&&u&&d^m)Y=d?1:0,W=ne(W,G,xe);else if(!a&&u&&m)Y=d?1:0,W=Ce(W,G,xe),W=ne(W,G);else if(!a||d||u||m){if(a&&!u&&d^m)W=ne(W,G),d?(Y=0,W=Ce(W,G,xe)):(Y=1,W=Ce(W,G,xe),W=ne(W,G));else if(a&&d&&!u&&m)Y=1,W=Ce(W,G,xe),W=ne(W,G);else if(!a&&!u&&d^m){var ye=v;d?(Y=1,W=Ce(W,G,xe),Y=0,v=!1,W=Ce(W,G,xe),v=ye):(Y=0,W=Ce(W,G,xe),W=ne(W,G),Y=1,v=!1,W=Ce(W,G,xe),v=ye,W=ne(W,G))}}else Y=0,W=Ce(W,G,xe);else Y=d?1:0,W=Ce(W,G,xe);return W},this.__bidiEngine__.setOptions=function(W){W&&(a=W.isInputVisual,u=W.isOutputVisual,d=W.isInputRtl,m=W.isOutputRtl,v=W.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new i.__bidiEngine__({isInputVisual:!0});i.API.events.push(["postProcessText",function(r){var n=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var a=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,e.setOptions(o),Object.prototype.toString.call(n)==="[object Array]"){var d=0;for(a=[],d=0;d<n.length;d+=1)Object.prototype.toString.call(n[d])==="[object Array]"?a.push([e.doBidiReorder(n[d][0]),n[d][1],n[d][2]]):a.push([e.doBidiReorder(n[d])]);r.text=a}else r.text=e.doBidiReorder(n);e.setOptions({isInputVisual:!0})}])}(oi),oi.API.TTFFont=function(){function i(t){var e;if(this.rawData=t,e=this.contents=new zc(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new dB(this),this.registerTTF()}return i.open=function(t){return new i(t)},i.prototype.parse=function(){return this.directory=new Y9(this.contents),this.head=new J9(this),this.name=new rB(this),this.cmap=new Xw(this),this.toUnicode={},this.hhea=new Q9(this),this.maxp=new nB(this),this.hmtx=new oB(this),this.post=new tB(this),this.os2=new eB(this),this.loca=new cB(this),this.glyf=new aB(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},i.prototype.registerTTF=function(){var t,e,r,n,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var a,d,u,m;for(m=[],a=0,d=(u=this.bbox).length;a<d;a++)t=u[a],m.push(Math.round(t*this.scaleFactor));return m}.call(this),this.stemV=0,this.post.exists?(r=255&(n=this.post.italic_angle),32768&(e=n>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},i.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},i.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},i.prototype.widthOfString=function(t,e,r){var n,o,a,d;for(a=0,o=0,d=(t=""+t).length;0<=d?o<d:o>d;o=0<=d?++o:--o)n=t.charCodeAt(o),a+=this.widthOfGlyph(this.characterToGlyph(n))+r*(1e3/e)||0;return a*(e/1e3)},i.prototype.lineHeight=function(t,e){var r;return e==null&&(e=!1),r=e?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},i}();var Ms,zc=function(){function i(t){this.data=t??[],this.pos=0,this.length=this.data.length}return i.prototype.readByte=function(){return this.data[this.pos++]},i.prototype.writeByte=function(t){return this.data[this.pos++]=t},i.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},i.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},i.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},i.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},i.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},i.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},i.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},i.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},i.prototype.readString=function(t){var e,r;for(r=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)r[e]=String.fromCharCode(this.readByte());return r.join("")},i.prototype.writeString=function(t){var e,r,n;for(n=[],e=0,r=t.length;0<=r?e<r:e>r;e=0<=r?++e:--e)n.push(this.writeByte(t.charCodeAt(e)));return n},i.prototype.readShort=function(){return this.readInt16()},i.prototype.writeShort=function(t){return this.writeInt16(t)},i.prototype.readLongLong=function(){var t,e,r,n,o,a,d,u;return t=this.readByte(),e=this.readByte(),r=this.readByte(),n=this.readByte(),o=this.readByte(),a=this.readByte(),d=this.readByte(),u=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^r)+4294967296*(255^n)+16777216*(255^o)+65536*(255^a)+256*(255^d)+(255^u)+1):72057594037927940*t+281474976710656*e+1099511627776*r+4294967296*n+16777216*o+65536*a+256*d+u},i.prototype.writeLongLong=function(t){var e,r;return e=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},i.prototype.readInt=function(){return this.readInt32()},i.prototype.writeInt=function(t){return this.writeInt32(t)},i.prototype.read=function(t){var e,r;for(e=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)e.push(this.readByte());return e},i.prototype.write=function(t){var e,r,n,o;for(o=[],r=0,n=t.length;r<n;r++)e=t[r],o.push(this.writeByte(e));return o},i}(),Y9=function(){var i;function t(e){var r,n,o;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},n=0,o=this.tableCount;0<=o?n<o:n>o;n=0<=o?++n:--n)r={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(e){var r,n,o,a,d,u,m,v,y,w,x,T,E;for(E in x=Object.keys(e).length,u=Math.log(2),y=16*Math.floor(Math.log(x)/u),a=Math.floor(y/u),v=16*x-y,(n=new zc).writeInt(this.scalarType),n.writeShort(x),n.writeShort(y),n.writeShort(a),n.writeShort(v),o=16*x,m=n.pos+o,d=null,T=[],e)for(w=e[E],n.writeString(E),n.writeInt(i(w)),n.writeInt(m),n.writeInt(w.length),T=T.concat(w),E==="head"&&(d=m),m+=w.length;m%4;)T.push(0),m++;return n.write(T),r=2981146554-i(n.data),n.pos=d+8,n.writeUInt32(r),n.data},i=function(e){var r,n,o,a;for(e=Zw.call(e);e.length%4;)e.push(0);for(o=new zc(e),n=0,r=0,a=e.length;r<a;r=r+=4)n+=o.readUInt32();return 4294967295&n},t}(),K9={}.hasOwnProperty,nl=function(i,t){for(var e in t)K9.call(t,e)&&(i[e]=t[e]);function r(){this.constructor=i}return r.prototype=t.prototype,i.prototype=new r,i.__super__=t.prototype,i};Ms=function(){function i(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return i.prototype.parse=function(){},i.prototype.encode=function(){},i.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},i}();var J9=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return nl(t,Ms),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new zc).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t}(),Rw=function(){function i(t,e){var r,n,o,a,d,u,m,v,y,w,x,T,E,k,F,U,Y;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),y=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=t.readByte();break;case 4:for(x=t.readUInt16(),w=x/2,t.pos+=6,o=function(){var ve,we;for(we=[],u=ve=0;0<=w?ve<w:ve>w;u=0<=w?++ve:--ve)we.push(t.readUInt16());return we}(),t.pos+=2,E=function(){var ve,we;for(we=[],u=ve=0;0<=w?ve<w:ve>w;u=0<=w?++ve:--ve)we.push(t.readUInt16());return we}(),m=function(){var ve,we;for(we=[],u=ve=0;0<=w?ve<w:ve>w;u=0<=w?++ve:--ve)we.push(t.readUInt16());return we}(),v=function(){var ve,we;for(we=[],u=ve=0;0<=w?ve<w:ve>w;u=0<=w?++ve:--ve)we.push(t.readUInt16());return we}(),n=(this.length-t.pos+this.offset)/2,d=function(){var ve,we;for(we=[],u=ve=0;0<=n?ve<n:ve>n;u=0<=n?++ve:--ve)we.push(t.readUInt16());return we}(),u=F=0,Y=o.length;F<Y;u=++F)for(k=o[u],r=U=T=E[u];T<=k?U<=k:U>=k;r=T<=k?++U:--U)v[u]===0?a=r+m[u]:(a=d[v[u]/2+(r-T)-(w-u)]||0)!==0&&(a+=m[u]),this.codeMap[r]=65535&a}t.pos=y}return i.encode=function(t,e){var r,n,o,a,d,u,m,v,y,w,x,T,E,k,F,U,Y,ve,we,Ue,ne,re,ce,Ce,W,G,xe,ye,Le,Ie,Ye,ke,qe,Xe,St,A,j,R,z,le,Pe,Ne,Ae,Be,at,mt;switch(ye=new zc,a=Object.keys(t).sort(function(At,Lt){return At-Lt}),e){case"macroman":for(E=0,k=function(){var At=[];for(T=0;T<256;++T)At.push(0);return At}(),U={0:0},o={},Le=0,qe=a.length;Le<qe;Le++)U[Ae=t[n=a[Le]]]==null&&(U[Ae]=++E),o[n]={old:t[n],new:U[t[n]]},k[n]=U[t[n]];return ye.writeUInt16(1),ye.writeUInt16(0),ye.writeUInt32(12),ye.writeUInt16(0),ye.writeUInt16(262),ye.writeUInt16(0),ye.write(k),{charMap:o,subtable:ye.data,maxGlyphID:E+1};case"unicode":for(G=[],y=[],Y=0,U={},r={},F=m=null,Ie=0,Xe=a.length;Ie<Xe;Ie++)U[we=t[n=a[Ie]]]==null&&(U[we]=++Y),r[n]={old:we,new:U[we]},d=U[we]-n,F!=null&&d===m||(F&&y.push(F),G.push(n),m=d),F=n;for(F&&y.push(F),y.push(65535),G.push(65535),Ce=2*(ce=G.length),re=2*Math.pow(Math.log(ce)/Math.LN2,2),w=Math.log(re/2)/Math.LN2,ne=2*ce-re,u=[],Ue=[],x=[],T=Ye=0,St=G.length;Ye<St;T=++Ye){if(W=G[T],v=y[T],W===65535){u.push(0),Ue.push(0);break}if(W-(xe=r[W].new)>=32768)for(u.push(0),Ue.push(2*(x.length+ce-T)),n=ke=W;W<=v?ke<=v:ke>=v;n=W<=v?++ke:--ke)x.push(r[n].new);else u.push(xe-W),Ue.push(0)}for(ye.writeUInt16(3),ye.writeUInt16(1),ye.writeUInt32(12),ye.writeUInt16(4),ye.writeUInt16(16+8*ce+2*x.length),ye.writeUInt16(0),ye.writeUInt16(Ce),ye.writeUInt16(re),ye.writeUInt16(w),ye.writeUInt16(ne),Pe=0,A=y.length;Pe<A;Pe++)n=y[Pe],ye.writeUInt16(n);for(ye.writeUInt16(0),Ne=0,j=G.length;Ne<j;Ne++)n=G[Ne],ye.writeUInt16(n);for(Be=0,R=u.length;Be<R;Be++)d=u[Be],ye.writeUInt16(d);for(at=0,z=Ue.length;at<z;at++)ve=Ue[at],ye.writeUInt16(ve);for(mt=0,le=x.length;mt<le;mt++)E=x[mt],ye.writeUInt16(E);return{charMap:r,subtable:ye.data,maxGlyphID:Y+1}}},i}(),Xw=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return nl(t,Ms),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,o;for(e.pos=this.offset,this.version=e.readUInt16(),o=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=o?n<o:n>o;n=0<=o?++n:--n)r=new Rw(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,o;return r==null&&(r="macroman"),n=Rw.encode(e,r),(o=new zc).writeUInt16(0),o.writeUInt16(1),n.table=o.data.concat(n.subtable),n},t}(),Q9=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return nl(t,Ms),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),eB=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return nl(t,Ms),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),tB=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return nl(t,Ms),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,o;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:break;case 131072:var a;for(n=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],o=[];e.pos<this.offset+this.length;)r=e.readByte(),o.push(this.names.push(e.readString(r)));return o;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 196608:break;case 262144:return this.map=function(){var d,u,m;for(m=[],a=d=0,u=this.file.maxp.numGlyphs;0<=u?d<u:d>u;a=0<=u?++d:--d)m.push(e.readUInt32());return m}.call(this)}},t}(),iB=function(i,t){this.raw=i,this.length=i.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},rB=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return nl(t,Ms),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,o,a,d,u,m,v,y,w,x;for(e.pos=this.offset,e.readShort(),r=e.readShort(),u=e.readShort(),n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+u+e.readShort()});for(m={},a=y=0,w=n.length;y<w;a=++y)o=n[a],e.pos=o.offset,v=e.readString(o.length),d=new iB(v,o),m[x=o.nameID]==null&&(m[x]=[]),m[o.nameID].push(d);this.strings=m,this.copyright=m[0],this.fontFamily=m[1],this.fontSubfamily=m[2],this.uniqueSubfamily=m[3],this.fontName=m[4],this.version=m[5];try{this.postscriptName=m[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=m[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=m[7],this.manufacturer=m[8],this.designer=m[9],this.description=m[10],this.vendorUrl=m[11],this.designerUrl=m[12],this.license=m[13],this.licenseUrl=m[14],this.preferredFamily=m[15],this.preferredSubfamily=m[17],this.compatibleFull=m[18],this.sampleText=m[19]},t}(),nB=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return nl(t,Ms),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),oB=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return nl(t,Ms),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,o,a,d,u,m;for(e.pos=this.offset,this.metrics=[],r=0,u=this.file.hhea.numberOfMetrics;0<=u?r<u:r>u;r=0<=u?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var v,y;for(y=[],r=v=0;0<=o?v<o:v>o;r=0<=o?++v:--v)y.push(e.readInt16());return y}(),this.widths=function(){var v,y,w,x;for(x=[],v=0,y=(w=this.metrics).length;v<y;v++)a=w[v],x.push(a.advance);return x}.call(this),n=this.widths[this.widths.length-1],m=[],r=d=0;0<=o?d<o:d>o;r=0<=o?++d:--d)m.push(this.widths.push(n));return m},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),Zw=[].slice,aB=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return nl(t,Ms),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,o,a,d,u,m,v,y,w;return e in this.cache?this.cache[e]:(a=this.file.loca,r=this.file.contents,n=a.indexOf(e),(o=a.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,d=(u=new zc(r.read(o))).readShort(),v=u.readShort(),w=u.readShort(),m=u.readShort(),y=u.readShort(),this.cache[e]=d===-1?new lB(u,v,w,m,y):new sB(u,d,v,w,m,y),this.cache[e]))},t.prototype.encode=function(e,r,n){var o,a,d,u,m;for(d=[],a=[],u=0,m=r.length;u<m;u++)o=e[r[u]],a.push(d.length),o&&(d=d.concat(o.encode(n)));return a.push(d.length),{table:d,offsets:a}},t}(),sB=function(){function i(t,e,r,n,o,a){this.raw=t,this.numberOfContours=e,this.xMin=r,this.yMin=n,this.xMax=o,this.yMax=a,this.compound=!1}return i.prototype.encode=function(){return this.raw.data},i}(),lB=function(){function i(t,e,r,n,o){var a,d;for(this.raw=t,this.xMin=e,this.yMin=r,this.xMax=n,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;d=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&d;)a.pos+=1&d?4:2,128&d?a.pos+=8:64&d?a.pos+=4:8&d&&(a.pos+=2)}return i.prototype.encode=function(){var t,e,r;for(e=new zc(Zw.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)e.pos=this.glyphOffsets[t];return e.data},i}(),cB=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return nl(t,Ms),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?function(){var o,a;for(a=[],n=0,o=this.length;n<o;n+=2)a.push(2*e.readUInt16());return a}.call(this):function(){var o,a;for(a=[],n=0,o=this.length;n<o;n+=4)a.push(e.readUInt32());return a}.call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),o=0,a=0,d=0;d<n.length;++d)if(n[d]=o,a<r.length&&r[a]==d){++a,n[d]=o;var u=this.offsets[d],m=this.offsets[d+1]-u;m>0&&(o+=m)}for(var v=new Array(4*n.length),y=0;y<n.length;++y)v[4*y+3]=255&n[y],v[4*y+2]=(65280&n[y])>>8,v[4*y+1]=(16711680&n[y])>>16,v[4*y]=(4278190080&n[y])>>24;return v},t}(),dB=function(){function i(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return i.prototype.generateCmap=function(){var t,e,r,n,o;for(e in n=this.font.cmap.tables[0].codeMap,t={},o=this.subset)r=o[e],t[e]=n[r];return t},i.prototype.glyphsFor=function(t){var e,r,n,o,a,d,u;for(n={},a=0,d=t.length;a<d;a++)n[o=t[a]]=this.font.glyf.glyphFor(o);for(o in e=[],n)(r=n[o])!=null&&r.compound&&e.push.apply(e,r.glyphIDs);if(e.length>0)for(o in u=this.glyphsFor(e))r=u[o],n[o]=r;return n},i.prototype.encode=function(t,e){var r,n,o,a,d,u,m,v,y,w,x,T,E,k,F;for(n in r=Xw.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(t),x={0:0},F=r.charMap)x[(u=F[n]).old]=u.new;for(T in w=r.maxGlyphID,a)T in x||(x[T]=w++);return v=function(U){var Y,ve;for(Y in ve={},U)ve[U[Y]]=Y;return ve}(x),y=Object.keys(v).sort(function(U,Y){return U-Y}),E=function(){var U,Y,ve;for(ve=[],U=0,Y=y.length;U<Y;U++)d=y[U],ve.push(v[d]);return ve}(),o=this.font.glyf.encode(a,E,x),m=this.font.loca.encode(o.offsets,E),k={cmap:this.font.cmap.raw(),glyf:o.table,loca:m,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},i}();oi.API.PDFObject=function(){var i;function t(){}return i=function(e,r){return(Array(r+1).join("0")+e).slice(-r)},t.convert=function(e){var r,n,o,a;if(Array.isArray(e))return"["+function(){var d,u,m;for(m=[],d=0,u=e.length;d<u;d++)r=e[d],m.push(t.convert(r));return m}().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e?.isString)return"("+e+")";if(e instanceof Date)return"(D:"+i(e.getUTCFullYear(),4)+i(e.getUTCMonth(),2)+i(e.getUTCDate(),2)+i(e.getUTCHours(),2)+i(e.getUTCMinutes(),2)+i(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(n in o=["<<"],e)a=e[n],o.push("/"+n+" "+t.convert(a));return o.push(">>"),o.join(`
`)}return""+e},t}();function t5(i,t,e,r,n){r=r||{};var o=1.15,a=n.internal.scaleFactor,d=n.internal.getFontSize()/a,u=n.getLineHeightFactor?n.getLineHeightFactor():o,m=d*u,v=/\r\n|\r|\n/g,y="",w=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(y=typeof i=="string"?i.split(v):i,w=y.length||1),e+=d*(2-o),r.valign==="middle"?e-=w/2*m:r.valign==="bottom"&&(e-=w*m),r.halign==="center"||r.halign==="right"){var x=d;if(r.halign==="center"&&(x*=.5),y&&w>=1){for(var T=0;T<y.length;T++)n.text(y[T],t-n.getStringUnitWidth(y[T])*x,e),e+=m;return n}t-=n.getStringUnitWidth(i)*x}return r.halign==="justify"?n.text(i,t,e,{maxWidth:r.maxWidth||100,align:"justify"}):n.text(i,t,e),n}var Yw={},cu=function(){function i(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return i.setDefaults=function(t,e){e===void 0&&(e=null),e?e.__autoTableDocumentDefaults=t:Yw=t},i.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},i.prototype.applyStyles=function(t,e){var r,n,o;e===void 0&&(e=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var a=this.jsPDFDocument.internal.getFont(),d=a.fontStyle,u=a.fontName;if(t.font&&(u=t.font),t.fontStyle){d=t.fontStyle;var m=this.getFontList()[u];m&&m.indexOf(d)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(m[0]),d=m[0])}if(this.jsPDFDocument.setFont(u,d),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!e){var v=i.unifyColor(t.fillColor);v&&(r=this.jsPDFDocument).setFillColor.apply(r,v),v=i.unifyColor(t.textColor),v&&(n=this.jsPDFDocument).setTextColor.apply(n,v),v=i.unifyColor(t.lineColor),v&&(o=this.jsPDFDocument).setDrawColor.apply(o,v),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},i.prototype.splitTextToSize=function(t,e,r){return this.jsPDFDocument.splitTextToSize(t,e,r)},i.prototype.rect=function(t,e,r,n,o){return this.jsPDFDocument.rect(t,e,r,n,o)},i.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},i.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},i.prototype.getDocument=function(){return this.jsPDFDocument},i.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},i.prototype.addPage=function(){return this.jsPDFDocument.addPage()},i.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},i.prototype.getGlobalOptions=function(){return Yw||{}},i.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},i.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},i.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},i.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},i.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},i.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},i}(),C_=function(i,t){return C_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])},C_(i,t)};function i5(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");C_(i,t);function e(){this.constructor=i}i.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var r5=function(i){i5(t,i);function t(e){var r=i.call(this)||this;return r._element=e,r}return t}(Array);function uB(i){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/i,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function pB(i){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[i]}function $h(i,t,e){e.applyStyles(t,!0);var r=Array.isArray(i)?i:[i],n=r.map(function(o){return e.getTextWidth(o)}).reduce(function(o,a){return Math.max(o,a)},0);return n}function n5(i,t,e,r){var n=t.settings.tableLineWidth,o=t.settings.tableLineColor;i.applyStyles({lineWidth:n,lineColor:o});var a=o5(n,!1);a&&i.rect(e.x,e.y,t.getWidth(i.pageSize().width),r.y-e.y,a)}function o5(i,t){var e=i>0,r=t||t===0;return e&&r?"DF":e?"S":r?"F":null}function Zh(i,t){var e,r,n,o;if(i=i||t,Array.isArray(i)){if(i.length>=4)return{top:i[0],right:i[1],bottom:i[2],left:i[3]};if(i.length===3)return{top:i[0],right:i[1],bottom:i[2],left:i[1]};if(i.length===2)return{top:i[0],right:i[1],bottom:i[0],left:i[1]};i.length===1?i=i[0]:i=t}return typeof i=="object"?(typeof i.vertical=="number"&&(i.top=i.vertical,i.bottom=i.vertical),typeof i.horizontal=="number"&&(i.right=i.horizontal,i.left=i.horizontal),{left:(e=i.left)!==null&&e!==void 0?e:t,top:(r=i.top)!==null&&r!==void 0?r:t,right:(n=i.right)!==null&&n!==void 0?n:t,bottom:(o=i.bottom)!==null&&o!==void 0?o:t}):(typeof i!="number"&&(i=t),{top:i,right:i,bottom:i,left:i})}function a5(i,t){var e=Zh(t.settings.margin,0);return i.pageSize().width-(e.left+e.right)}function fB(i,t,e,r,n){var o={},a=1.3333333333333333,d=g_(t,function(Y){return n.getComputedStyle(Y).backgroundColor});d!=null&&(o.fillColor=d);var u=g_(t,function(Y){return n.getComputedStyle(Y).color});u!=null&&(o.textColor=u);var m=hB(r,e);m&&(o.cellPadding=m);var v="borderTopColor",y=a*e,w=r.borderTopWidth;if(r.borderBottomWidth===w&&r.borderRightWidth===w&&r.borderLeftWidth===w){var x=(parseFloat(w)||0)/y;x&&(o.lineWidth=x)}else o.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/y,right:(parseFloat(r.borderRightWidth)||0)/y,bottom:(parseFloat(r.borderBottomWidth)||0)/y,left:(parseFloat(r.borderLeftWidth)||0)/y},o.lineWidth.top||(o.lineWidth.right?v="borderRightColor":o.lineWidth.bottom?v="borderBottomColor":o.lineWidth.left&&(v="borderLeftColor"));var T=g_(t,function(Y){return n.getComputedStyle(Y)[v]});T!=null&&(o.lineColor=T);var E=["left","right","center","justify"];E.indexOf(r.textAlign)!==-1&&(o.halign=r.textAlign),E=["middle","bottom","top"],E.indexOf(r.verticalAlign)!==-1&&(o.valign=r.verticalAlign);var k=parseInt(r.fontSize||"");isNaN(k)||(o.fontSize=k/a);var F=mB(r);F&&(o.fontStyle=F);var U=(r.fontFamily||"").toLowerCase();return i.indexOf(U)!==-1&&(o.font=U),o}function mB(i){var t="";return(i.fontWeight==="bold"||i.fontWeight==="bolder"||parseInt(i.fontWeight)>=700)&&(t="bold"),(i.fontStyle==="italic"||i.fontStyle==="oblique")&&(t+="italic"),t}function g_(i,t){var e=s5(i,t);if(!e)return null;var r=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var n=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],o=parseInt(r[4]);return o===0||isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function s5(i,t){var e=t(i);return e==="rgba(0, 0, 0, 0)"||e==="transparent"||e==="initial"||e==="inherit"?i.parentElement==null?null:s5(i.parentElement,t):e}function hB(i,t){var e=[i.paddingTop,i.paddingRight,i.paddingBottom,i.paddingLeft],r=96/(72/t),n=(parseInt(i.lineHeight)-parseInt(i.fontSize))/t/2,o=e.map(function(d){return parseInt(d||"0")/r}),a=Zh(o,0);return n>a.top&&(a.top=n),n>a.bottom&&(a.bottom=n),a}function l5(i,t,e,r,n){var o,a;r===void 0&&(r=!1),n===void 0&&(n=!1);var d;typeof t=="string"?d=e.document.querySelector(t):d=t;var u=Object.keys(i.getFontList()),m=i.scaleFactor(),v=[],y=[],w=[];if(!d)return console.error("Html table could not be found with input: ",t),{head:v,body:y,foot:w};for(var x=0;x<d.rows.length;x++){var T=d.rows[x],E=(a=(o=T?.parentElement)===null||o===void 0?void 0:o.tagName)===null||a===void 0?void 0:a.toLowerCase(),k=gB(u,m,e,T,r,n);k&&(E==="thead"?v.push(k):E==="tfoot"?w.push(k):y.push(k))}return{head:v,body:y,foot:w}}function gB(i,t,e,r,n,o){for(var a=new r5(r),d=0;d<r.cells.length;d++){var u=r.cells[d],m=e.getComputedStyle(u);if(n||m.display!=="none"){var v=void 0;o&&(v=fB(i,u,t,m,e)),a.push({rowSpan:u.rowSpan,colSpan:u.colSpan,styles:v,_element:u,content:vB(u)})}}var y=e.getComputedStyle(r);if(a.length>0&&(n||y.display!=="none"))return a}function vB(i){var t=i.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(e){return e.trim()}).join(`
`),t.innerText||t.textContent||""}function _B(i,t,e){for(var r=0,n=[i,t,e];r<n.length;r++){var o=n[r];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function Dl(i,t,e,r,n){if(i==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(i),a=1;a<arguments.length;a++){var d=arguments[a];if(d!=null)for(var u in d)Object.prototype.hasOwnProperty.call(d,u)&&(o[u]=d[u])}return o}function c5(i,t){var e=new cu(i),r=e.getDocumentOptions(),n=e.getGlobalOptions();_B(n,r,t);var o=Dl({},n,r,t),a;typeof window<"u"&&(a=window);var d=bB(n,r,t),u=xB(n,r,t),m=yB(e,o),v=wB(e,o,a);return{id:t.tableId,content:v,hooks:u,styles:d,settings:m}}function bB(i,t,e){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},n=function(u){if(u==="columnStyles"){var m=i[u],v=t[u],y=e[u];r.columnStyles=Dl({},m,v,y)}else{var w=[i,t,e],x=w.map(function(T){return T[u]||{}});r[u]=Dl({},x[0],x[1],x[2])}},o=0,a=Object.keys(r);o<a.length;o++){var d=a[o];n(d)}return r}function xB(i,t,e){for(var r=[i,t,e],n={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,a=r;o<a.length;o++){var d=a[o];d.didParseCell&&n.didParseCell.push(d.didParseCell),d.willDrawCell&&n.willDrawCell.push(d.willDrawCell),d.didDrawCell&&n.didDrawCell.push(d.didDrawCell),d.willDrawPage&&n.willDrawPage.push(d.willDrawPage),d.didDrawPage&&n.didDrawPage.push(d.didDrawPage)}return n}function yB(i,t){var e,r,n,o,a,d,u,m,v,y,w,x,T=Zh(t.margin,40/i.scaleFactor()),E=(e=CB(i,t.startY))!==null&&e!==void 0?e:T.top,k;t.showFoot===!0?k="everyPage":t.showFoot===!1?k="never":k=(r=t.showFoot)!==null&&r!==void 0?r:"everyPage";var F;t.showHead===!0?F="everyPage":t.showHead===!1?F="never":F=(n=t.showHead)!==null&&n!==void 0?n:"everyPage";var U=(o=t.useCss)!==null&&o!==void 0?o:!1,Y=t.theme||(U?"plain":"striped"),ve=!!t.horizontalPageBreak,we=(a=t.horizontalPageBreakRepeat)!==null&&a!==void 0?a:null;return{includeHiddenHtml:(d=t.includeHiddenHtml)!==null&&d!==void 0?d:!1,useCss:U,theme:Y,startY:E,margin:T,pageBreak:(u=t.pageBreak)!==null&&u!==void 0?u:"auto",rowPageBreak:(m=t.rowPageBreak)!==null&&m!==void 0?m:"auto",tableWidth:(v=t.tableWidth)!==null&&v!==void 0?v:"auto",showHead:F,showFoot:k,tableLineWidth:(y=t.tableLineWidth)!==null&&y!==void 0?y:0,tableLineColor:(w=t.tableLineColor)!==null&&w!==void 0?w:200,horizontalPageBreak:ve,horizontalPageBreakRepeat:we,horizontalPageBreakBehaviour:(x=t.horizontalPageBreakBehaviour)!==null&&x!==void 0?x:"afterAllRows"}}function CB(i,t){var e=i.getLastAutoTable(),r=i.scaleFactor(),n=i.pageNumber(),o=!1;if(e&&e.startPageNumber){var a=e.startPageNumber+e.pageNumber-1;o=a===n}return typeof t=="number"?t:(t==null||t===!1)&&o&&e?.finalY!=null?e.finalY+20/r:null}function wB(i,t,e){var r=t.head||[],n=t.body||[],o=t.foot||[];if(t.html){var a=t.includeHiddenHtml;if(e){var d=l5(i,t.html,e,a,t.useCss)||{};r=d.head||r,n=d.body||r,o=d.foot||r}else console.error("Cannot parse html in non browser environment")}var u=t.columns||SB(r,n,o);return{columns:u,head:r,body:n,foot:o}}function SB(i,t,e){var r=i[0]||t[0]||e[0]||[],n=[];return Object.keys(r).filter(function(o){return o!=="_element"}).forEach(function(o){var a=1,d;Array.isArray(r)?d=r[parseInt(o)]:d=r[o],typeof d=="object"&&!Array.isArray(d)&&(a=d?.colSpan||1);for(var u=0;u<a;u++){var m=void 0;Array.isArray(r)?m=n.length:m=o+(u>0?"_".concat(u):"");var v={dataKey:m};n.push(v)}}),n}var w_=function(){function i(t,e,r){this.table=e,this.pageNumber=e.pageNumber,this.settings=e.settings,this.cursor=r,this.doc=t.getDocument()}return i}(),EB=function(i){i5(t,i);function t(e,r,n,o,a,d){var u=i.call(this,e,r,d)||this;return u.cell=n,u.row=o,u.column=a,u.section=o.section,u}return t}(w_),PB=function(){function i(t,e){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=e.columns,this.head=e.head,this.body=e.body,this.foot=e.foot}return i.prototype.getHeadHeight=function(t){return this.head.reduce(function(e,r){return e+r.getMaxCellHeight(t)},0)},i.prototype.getFootHeight=function(t){return this.foot.reduce(function(e,r){return e+r.getMaxCellHeight(t)},0)},i.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},i.prototype.callCellHooks=function(t,e,r,n,o,a){for(var d=0,u=e;d<u.length;d++){var m=u[d],v=new EB(t,this,r,n,o,a),y=m(v)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],y)return!1}return!0},i.prototype.callEndPageHooks=function(t,e){t.applyStyles(t.userStyles);for(var r=0,n=this.hooks.didDrawPage;r<n.length;r++){var o=n[r];o(new w_(t,this,e))}},i.prototype.callWillDrawPageHooks=function(t,e){for(var r=0,n=this.hooks.willDrawPage;r<n.length;r++){var o=n[r];o(new w_(t,this,e))}},i.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var e=this.columns.reduce(function(n,o){return n+o.wrappedWidth},0);return e}else{var r=this.settings.margin;return t-r.left-r.right}},i}(),d5=function(){function i(t,e,r,n,o){o===void 0&&(o=!1),this.height=0,this.raw=t,t instanceof r5&&(this.raw=t._element,this.element=t._element),this.index=e,this.section=r,this.cells=n,this.spansMultiplePages=o}return i.prototype.getMaxCellHeight=function(t){var e=this;return t.reduce(function(r,n){var o;return Math.max(r,((o=e.cells[n.index])===null||o===void 0?void 0:o.height)||0)},0)},i.prototype.hasRowSpan=function(t){var e=this;return t.filter(function(r){var n=e.cells[r.index];return n?n.rowSpan>1:!1}).length>0},i.prototype.canEntireRowFit=function(t,e){return this.getMaxCellHeight(e)<=t},i.prototype.getMinimumRowHeight=function(t,e){var r=this;return t.reduce(function(n,o){var a=r.cells[o.index];if(!a)return 0;var d=e.getLineHeight(a.styles.fontSize),u=a.padding("vertical"),m=u+d;return m>n?m:n},0)},i}(),u5=function(){function i(t,e,r){var n;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=e,this.section=r,this.raw=t;var o=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,o=(n=t.content)!==null&&n!==void 0?n:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var a=o!=null?""+o:"",d=/\r\n|\r|\n/g;this.text=a.split(d)}return i.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var e=this.height-this.padding("vertical");t=this.y+e/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var n=this.width-this.padding("horizontal");r=this.x+n/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:t}},i.prototype.getContentHeight=function(t,e){e===void 0&&(e=1.15);var r=Array.isArray(this.text)?this.text.length:1,n=this.styles.fontSize/t*e,o=r*n+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},i.prototype.padding=function(t){var e=Zh(this.styles.cellPadding,0);return t==="vertical"?e.top+e.bottom:t==="horizontal"?e.left+e.right:e[t]},i}(),MB=function(){function i(t,e,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=e,this.index=r}return i.prototype.getMaxCustomCellWidth=function(t){for(var e=0,r=0,n=t.allRows();r<n.length;r++){var o=n[r],a=o.cells[this.index];a&&typeof a.styles.cellWidth=="number"&&(e=Math.max(e,a.styles.cellWidth))}return e},i}();function TB(i,t){kB(i,t);var e=[],r=0;t.columns.forEach(function(o){var a=o.getMaxCustomCellWidth(t);a?o.width=a:(o.width=o.wrappedWidth,e.push(o)),r+=o.width});var n=t.getWidth(i.pageSize().width)-r;n&&(n=S_(e,n,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),n&&(n=S_(e,n,function(o){return o.minWidth})),n=Math.abs(n),!t.settings.horizontalPageBreak&&n>.1/i.scaleFactor()&&(n=n<1?n:Math.round(n),console.warn("Of the table content, ".concat(n," units width could not fit page"))),IB(t),OB(t,i),AB(t)}function kB(i,t){var e=i.scaleFactor(),r=t.settings.horizontalPageBreak,n=a5(i,t);t.allRows().forEach(function(o){for(var a=0,d=t.columns;a<d.length;a++){var u=d[a],m=o.cells[u.index];if(m){var v=t.hooks.didParseCell;t.callCellHooks(i,v,m,o,u,null);var y=m.padding("horizontal");m.contentWidth=$h(m.text,m.styles,i)+y;var w=$h(m.text.join(" ").split(/[^\S\u00A0]+/),m.styles,i);if(m.minReadableWidth=w+m.padding("horizontal"),typeof m.styles.cellWidth=="number")m.minWidth=m.styles.cellWidth,m.wrappedWidth=m.styles.cellWidth;else if(m.styles.cellWidth==="wrap"||r===!0)m.contentWidth>n?(m.minWidth=n,m.wrappedWidth=n):(m.minWidth=m.contentWidth,m.wrappedWidth=m.contentWidth);else{var x=10/e;m.minWidth=m.styles.minCellWidth||x,m.wrappedWidth=m.contentWidth,m.minWidth>m.wrappedWidth&&(m.wrappedWidth=m.minWidth)}}}}),t.allRows().forEach(function(o){for(var a=0,d=t.columns;a<d.length;a++){var u=d[a],m=o.cells[u.index];if(m&&m.colSpan===1)u.wrappedWidth=Math.max(u.wrappedWidth,m.wrappedWidth),u.minWidth=Math.max(u.minWidth,m.minWidth),u.minReadableWidth=Math.max(u.minReadableWidth,m.minReadableWidth);else{var v=t.styles.columnStyles[u.dataKey]||t.styles.columnStyles[u.index]||{},y=v.cellWidth||v.minCellWidth;y&&typeof y=="number"&&(u.minWidth=y,u.wrappedWidth=y)}m&&(m.colSpan>1&&!u.minWidth&&(u.minWidth=m.minWidth),m.colSpan>1&&!u.wrappedWidth&&(u.wrappedWidth=m.minWidth))}})}function S_(i,t,e){for(var r=t,n=i.reduce(function(x,T){return x+T.wrappedWidth},0),o=0;o<i.length;o++){var a=i[o],d=a.wrappedWidth/n,u=r*d,m=a.width+u,v=e(a),y=m<v?v:m;t-=y-a.width,a.width=y}if(t=Math.round(t*1e10)/1e10,t){var w=i.filter(function(x){return t<0?x.width>e(x):!0});w.length&&(t=S_(w,t,e))}return t}function AB(i){for(var t={},e=1,r=i.allRows(),n=0;n<r.length;n++)for(var o=r[n],a=0,d=i.columns;a<d.length;a++){var u=d[a],m=t[u.index];if(e>1)e--,delete o.cells[u.index];else if(m)m.cell.height+=o.height,e=m.cell.colSpan,delete o.cells[u.index],m.left--,m.left<=1&&delete t[u.index];else{var v=o.cells[u.index];if(!v)continue;if(v.height=o.height,v.rowSpan>1){var y=r.length-n,w=v.rowSpan>y?y:v.rowSpan;t[u.index]={cell:v,left:w,row:o}}}}}function IB(i){for(var t=i.allRows(),e=0;e<t.length;e++)for(var r=t[e],n=null,o=0,a=0,d=0;d<i.columns.length;d++){var u=i.columns[d];if(a-=1,a>1&&i.columns[d+1])o+=u.width,delete r.cells[u.index];else if(n){var m=n;delete r.cells[u.index],n=null,m.width=u.width+o}else{var m=r.cells[u.index];if(!m)continue;if(a=m.colSpan,o=0,m.colSpan>1){n=m,o+=u.width;continue}m.width=u.width+o}}}function OB(i,t){for(var e={count:0,height:0},r=0,n=i.allRows();r<n.length;r++){for(var o=n[r],a=0,d=i.columns;a<d.length;a++){var u=d[a],m=o.cells[u.index];if(m){t.applyStyles(m.styles,!0);var v=m.width-m.padding("horizontal");if(m.styles.overflow==="linebreak")m.text=t.splitTextToSize(m.text,v+1/t.scaleFactor(),{fontSize:m.styles.fontSize});else if(m.styles.overflow==="ellipsize")m.text=Kw(m.text,v,m.styles,t,"...");else if(m.styles.overflow==="hidden")m.text=Kw(m.text,v,m.styles,t,"");else if(typeof m.styles.overflow=="function"){var y=m.styles.overflow(m.text,v);typeof y=="string"?m.text=[y]:m.text=y}m.contentHeight=m.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var w=m.contentHeight/m.rowSpan;m.rowSpan>1&&e.count*e.height<w*m.rowSpan?e={height:w,count:m.rowSpan}:e&&e.count>0&&e.height>w&&(w=e.height),w>o.height&&(o.height=w)}}e.count--}}function Kw(i,t,e,r,n){return i.map(function(o){return FB(o,t,e,r,n)})}function FB(i,t,e,r,n){var o=1e4*r.scaleFactor();if(t=Math.ceil(t*o)/o,t>=$h(i,e,r))return i;for(;t<$h(i+n,e,r)&&!(i.length<=1);)i=i.substring(0,i.length-1);return i.trim()+n}function p5(i,t){var e=new cu(i),r=NB(t,e.scaleFactor()),n=new PB(t,r);return TB(e,n),e.applyStyles(e.userStyles),n}function NB(i,t){var e=i.content,r=DB(e.columns);if(e.head.length===0){var n=Jw(r,"head");n&&e.head.push(n)}if(e.foot.length===0){var n=Jw(r,"foot");n&&e.foot.push(n)}var o=i.settings.theme,a=i.styles;return{columns:r,head:v_("head",e.head,r,a,o,t),body:v_("body",e.body,r,a,o,t),foot:v_("foot",e.foot,r,a,o,t)}}function v_(i,t,e,r,n,o){var a={},d=t.map(function(u,m){for(var v=0,y={},w=0,x=0,T=0,E=e;T<E.length;T++){var k=E[T];if(a[k.index]==null||a[k.index].left===0)if(x===0){var F=void 0;Array.isArray(u)?F=u[k.index-w-v]:F=u[k.dataKey];var U={};typeof F=="object"&&!Array.isArray(F)&&(U=F?.styles||{});var Y=RB(i,k,m,n,r,o,U),ve=new u5(F,Y,i);y[k.dataKey]=ve,y[k.index]=ve,x=ve.colSpan-1,a[k.index]={left:ve.rowSpan-1,times:x}}else x--,w++;else a[k.index].left--,x=a[k.index].times,v++}return new d5(u,m,i,y)});return d}function Jw(i,t){var e={};return i.forEach(function(r){if(r.raw!=null){var n=LB(t,r.raw);n!=null&&(e[r.dataKey]=n)}}),Object.keys(e).length>0?e:null}function LB(i,t){if(i==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(i==="foot"&&typeof t=="object")return t.footer;return null}function DB(i){return i.map(function(t,e){var r,n;return typeof t=="object"?n=(r=t.dataKey)!==null&&r!==void 0?r:e:n=e,new MB(n,t,e)})}function RB(i,t,e,r,n,o,a){var d=pB(r),u;i==="head"?u=n.headStyles:i==="body"?u=n.bodyStyles:i==="foot"&&(u=n.footStyles);var m=Dl({},d.table,d[i],n.styles,u),v=n.columnStyles[t.dataKey]||n.columnStyles[t.index]||{},y=i==="body"?v:{},w=i==="body"&&e%2===0?Dl({},d.alternateRow,n.alternateRowStyles):{},x=uB(o),T=Dl({},x,m,w,y);return Dl(T,a)}function BB(i,t,e){var r;e===void 0&&(e={});var n=a5(i,t),o=new Map,a=[],d=[],u=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?u=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(u=[t.settings.horizontalPageBreakRepeat]),u.forEach(function(w){var x=t.columns.find(function(T){return T.dataKey===w||T.index===w});x&&!o.has(x.index)&&(o.set(x.index,!0),a.push(x.index),d.push(t.columns[x.index]),n-=x.wrappedWidth)});for(var m=!0,v=(r=e?.start)!==null&&r!==void 0?r:0;v<t.columns.length;){if(o.has(v)){v++;continue}var y=t.columns[v].wrappedWidth;if(m||n>=y)m=!1,a.push(v),d.push(t.columns[v]),n-=y;else break;v++}return{colIndexes:a,columns:d,lastIndex:v-1}}function UB(i,t){for(var e=[],r=0;r<t.columns.length;r++){var n=BB(i,t,{start:r});n.columns.length&&(e.push(n),r=n.lastIndex)}return e}function f5(i,t){var e=t.settings,r=e.startY,n=e.margin,o={x:n.left,y:r},a=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),d=r+n.bottom+a;if(e.pageBreak==="avoid"){var u=t.body,m=u.reduce(function(w,x){return w+x.height},0);d+=m}var v=new cu(i);(e.pageBreak==="always"||e.startY!=null&&d>v.pageSize().height)&&(h5(v),o.y=n.top),t.callWillDrawPageHooks(v,o);var y=Dl({},o);t.startPageNumber=v.pageNumber(),e.horizontalPageBreak?VB(v,t,y,o):(v.applyStyles(v.userStyles),(e.showHead==="firstPage"||e.showHead==="everyPage")&&t.head.forEach(function(w){return Rl(v,t,w,o,t.columns)}),v.applyStyles(v.userStyles),t.body.forEach(function(w,x){var T=x===t.body.length-1;Xh(v,t,w,T,y,o,t.columns)}),v.applyStyles(v.userStyles),(e.showFoot==="lastPage"||e.showFoot==="everyPage")&&t.foot.forEach(function(w){return Rl(v,t,w,o,t.columns)})),n5(v,t,y,o),t.callEndPageHooks(v,o),t.finalY=o.y,i.lastAutoTable=t,v.applyStyles(v.userStyles)}function VB(i,t,e,r){var n=UB(i,t),o=t.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")n.forEach(function(m,v){i.applyStyles(i.userStyles),v>0?qp(i,t,e,r,m.columns,!0):Qw(i,t,r,m.columns),qB(i,t,e,r,m.columns),__(i,t,r,m.columns)});else for(var a=-1,d=n[0],u=function(){var m=a;if(d){i.applyStyles(i.userStyles);var v=d.columns;a>=0?qp(i,t,e,r,v,!0):Qw(i,t,r,v),m=e5(i,t,a+1,r,v),__(i,t,r,v)}var y=m-a;n.slice(1).forEach(function(w){i.applyStyles(i.userStyles),qp(i,t,e,r,w.columns,!0),e5(i,t,a+1,r,w.columns,y),__(i,t,r,w.columns)}),a=m};a<t.body.length-1;)u()}function Qw(i,t,e,r){var n=t.settings;i.applyStyles(i.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&t.head.forEach(function(o){return Rl(i,t,o,e,r)})}function qB(i,t,e,r,n){i.applyStyles(i.userStyles),t.body.forEach(function(o,a){var d=a===t.body.length-1;Xh(i,t,o,d,e,r,n)})}function e5(i,t,e,r,n,o){i.applyStyles(i.userStyles),o=o??t.body.length;var a=Math.min(e+o,t.body.length),d=-1;return t.body.slice(e,a).forEach(function(u,m){var v=e+m===t.body.length-1,y=m5(i,t,v,r);u.canEntireRowFit(y,n)&&(Rl(i,t,u,r,n),d=e+m)}),d}function __(i,t,e,r){var n=t.settings;i.applyStyles(i.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&t.foot.forEach(function(o){return Rl(i,t,o,e,r)})}function jB(i,t,e){var r=e.getLineHeight(i.styles.fontSize),n=i.padding("vertical"),o=Math.floor((t-n)/r);return Math.max(0,o)}function zB(i,t,e,r){var n={};i.spansMultiplePages=!0,i.height=0;for(var o=0,a=0,d=e.columns;a<d.length;a++){var u=d[a],m=i.cells[u.index];if(m){Array.isArray(m.text)||(m.text=[m.text]);var v=new u5(m.raw,m.styles,m.section);v=Dl(v,m),v.text=[];var y=jB(m,t,r);m.text.length>y&&(v.text=m.text.splice(y,m.text.length));var w=r.scaleFactor(),x=r.getLineHeightFactor();m.contentHeight=m.getContentHeight(w,x),m.contentHeight>=t&&(m.contentHeight=t,v.styles.minCellHeight-=t),m.contentHeight>i.height&&(i.height=m.contentHeight),v.contentHeight=v.getContentHeight(w,x),v.contentHeight>o&&(o=v.contentHeight),n[u.index]=v}}var T=new d5(i.raw,-1,i.section,n,!0);T.height=o;for(var E=0,k=e.columns;E<k.length;E++){var u=k[E],v=T.cells[u.index];v&&(v.height=T.height);var m=i.cells[u.index];m&&(m.height=i.height)}return T}function WB(i,t,e,r){var n=i.pageSize().height,o=r.settings.margin,a=o.top+o.bottom,d=n-a;t.section==="body"&&(d-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var u=t.getMinimumRowHeight(r.columns,i),m=u<e;if(u>d)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!m)return!1;var v=t.hasRowSpan(r.columns),y=t.getMaxCellHeight(r.columns)>d;return y?(v&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(v||r.settings.rowPageBreak==="avoid")}function Xh(i,t,e,r,n,o,a){var d=m5(i,t,r,o);if(e.canEntireRowFit(d,a))Rl(i,t,e,o,a);else if(WB(i,e,d,t)){var u=zB(e,d,t,i);Rl(i,t,e,o,a),qp(i,t,n,o,a),Xh(i,t,u,r,n,o,a)}else qp(i,t,n,o,a),Xh(i,t,e,r,n,o,a)}function Rl(i,t,e,r,n){r.x=t.settings.margin.left;for(var o=0,a=n;o<a.length;o++){var d=a[o],u=e.cells[d.index];if(!u){r.x+=d.width;continue}i.applyStyles(u.styles),u.x=r.x,u.y=r.y;var m=t.callCellHooks(i,t.hooks.willDrawCell,u,e,d,r);if(m===!1){r.x+=d.width;continue}HB(i,u,r);var v=u.getTextPos();t5(u.text,v.x,v.y,{halign:u.styles.halign,valign:u.styles.valign,maxWidth:Math.ceil(u.width-u.padding("left")-u.padding("right"))},i.getDocument()),t.callCellHooks(i,t.hooks.didDrawCell,u,e,d,r),r.x+=d.width}r.y+=e.height}function HB(i,t,e){var r=t.styles;if(i.getDocument().setFillColor(i.getDocument().getFillColor()),typeof r.lineWidth=="number"){var n=o5(r.lineWidth,r.fillColor);n&&i.rect(t.x,e.y,t.width,t.height,n)}else typeof r.lineWidth=="object"&&(r.fillColor&&i.rect(t.x,e.y,t.width,t.height,"F"),GB(i,t,e,r.lineWidth))}function GB(i,t,e,r){var n,o,a,d;r.top&&(n=e.x,o=e.y,a=e.x+t.width,d=e.y,r.right&&(a+=.5*r.right),r.left&&(n-=.5*r.left),u(r.top,n,o,a,d)),r.bottom&&(n=e.x,o=e.y+t.height,a=e.x+t.width,d=e.y+t.height,r.right&&(a+=.5*r.right),r.left&&(n-=.5*r.left),u(r.bottom,n,o,a,d)),r.left&&(n=e.x,o=e.y,a=e.x,d=e.y+t.height,r.top&&(o-=.5*r.top),r.bottom&&(d+=.5*r.bottom),u(r.left,n,o,a,d)),r.right&&(n=e.x+t.width,o=e.y,a=e.x+t.width,d=e.y+t.height,r.top&&(o-=.5*r.top),r.bottom&&(d+=.5*r.bottom),u(r.right,n,o,a,d));function u(m,v,y,w,x){i.getDocument().setLineWidth(m),i.getDocument().line(v,y,w,x,"S")}}function m5(i,t,e,r){var n=t.settings.margin.bottom,o=t.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&e)&&(n+=t.getFootHeight(t.columns)),i.pageSize().height-r.y-n}function qp(i,t,e,r,n,o){n===void 0&&(n=[]),o===void 0&&(o=!1),i.applyStyles(i.userStyles),t.settings.showFoot==="everyPage"&&!o&&t.foot.forEach(function(d){return Rl(i,t,d,r,n)}),t.callEndPageHooks(i,r);var a=t.settings.margin;n5(i,t,e,r),h5(i),t.pageNumber++,r.x=a.left,r.y=a.top,e.y=a.top,t.callWillDrawPageHooks(i,r),t.settings.showHead==="everyPage"&&(t.head.forEach(function(d){return Rl(i,t,d,r,n)}),i.applyStyles(i.userStyles))}function h5(i){var t=i.pageNumber();i.setPage(t+1);var e=i.pageNumber();return e===t?(i.addPage(),!0):!1}function $B(i){i.API.autoTable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[0],n=c5(this,r),o=p5(this,n);return f5(this,o),this},i.API.lastAutoTable=!1,i.API.autoTableText=function(t,e,r,n){t5(t,e,r,n,this)},i.API.autoTableSetDefaults=function(t){return cu.setDefaults(t,this),this},i.autoTableSetDefaults=function(t,e){cu.setDefaults(t,e)},i.API.autoTableHtmlToJson=function(t,e){var r;if(e===void 0&&(e=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var n=new cu(this),o=l5(n,t,window,e,!1),a=o.head,d=o.body,u=((r=a[0])===null||r===void 0?void 0:r.map(function(m){return m.content}))||[];return{columns:u,rows:d,data:d}}}var b_;function Qa(i,t){var e=c5(i,t),r=p5(i,e);f5(i,r)}try{typeof window<"u"&&window&&(x_=window,y_=x_.jsPDF||((b_=x_.jspdf)===null||b_===void 0?void 0:b_.jsPDF),y_&&$B(y_))}catch(i){console.error("Could not apply autoTable plugin",i)}var x_,y_;var Yh=class i{constructor(t){this.router=t}exportToExcel(){try{let t=document.getElementById("purchase-table");if(!t){console.error("No se encontr\xF3 la tabla con ID purchase-table");return}let e=Hn.table_to_sheet(t),r=Hn.book_new();Hn.book_append_sheet(r,e,"DetalleCompra"),J0(r,"detalle_compra.xlsx")}catch(t){console.error("Error al exportar a Excel:",t)}}exportToPDF(){try{let t=new oi;t.setFontSize(18),t.text("Detalle de Compra",14,20),t.setFontSize(12),t.text("ID de Compra: #12345",14,30),t.text("Fecha: 15/06/2025",14,36),t.text("Cliente: Juan P\xE9rez",14,42),Qa(t,{html:"#purchase-table",startY:50,theme:"grid",headStyles:{fillColor:[41,128,185],textColor:255},styles:{fontSize:9},columnStyles:{0:{cellWidth:"auto"},1:{cellWidth:"auto"},2:{cellWidth:"auto"},3:{cellWidth:"auto"}}}),t.save("detalle_compra.pdf")}catch(t){console.error("Error al generar PDF:",t)}}print(){let t=document.querySelector(".print-content"),e=t.innerHTML,r=window.open("","_blank");r?(r.document.write(`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Comprobante de Compra</title>
        <style>
          @page { size: auto; margin: 5mm; }
          body { font-family: Arial; font-size: 12px; padding: 10px; }
          table { width: 100%; border-collapse: collapse; margin: 10px 0; }
          th, td { padding: 4px; text-align: left; border: 1px solid #ddd; }
          .text-center { text-align: center; }
          .text-end { text-align: right; }
          .table-dark th { background-color: #343a40; color: white; }
          .boleta-container { width: 80mm; margin: 0 auto; }
        </style>
      </head>
      <body>
        ${t.innerHTML}
        <script>
          window.onload = function() {
            setTimeout(function() {
              window.print();
              window.close();
            }, 200);
          }
        <\/script>
      </body>
      </html>
    `),r.document.close()):alert("El bloqueador de ventanas emergentes puede estar activado. Por favor desact\xEDvalo para esta p\xE1gina.")}volverACompras(){this.router.navigate(["/compra"])}static \u0275fac=function(e){return new(e||i)(ie(ht))};static \u0275cmp=ot({type:i,selectors:[["app-compra-update"]],standalone:!0,features:[st],decls:175,vars:0,consts:[[1,"content"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"card","shadow-sm"],[1,"card-body"],[1,"container"],[1,"col-12","col-md-6"],[1,"mb-3"],[1,"row","mb-4"],[1,"col-md-6"],[1,"card","bg-light","p-3","h-100"],[1,"bi","bi-receipt","me-2"],[1,"bi","bi-calendar","me-2"],[1,"bi","bi-person","me-2"],[1,"bi","bi-currency-dollar","me-2"],[1,"bi","bi-credit-card","me-2"],[1,"bi","bi-check-circle","me-2"],[1,"badge","bg-success"],[1,"mt-4","mb-3","border-bottom","pb-2"],[1,"bi","bi-cart","me-2"],[1,"table-responsive"],["id","purchase-table",1,"table","table-striped","table-hover","table-bordered"],[1,"table-primary"],[1,"text-center"],[1,"text-end"],["colspan","3",1,"text-end"],[1,"d-flex","justify-content-between","mt-4"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-arrow-left","me-2"],[1,"btn-group"],["hidden","","type","button",1,"btn","btn-primary",3,"click"],[1,"bi","bi-file-excel","me-2"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"bi","bi-file-pdf","me-2"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-printer","me-2"],[1,"print-content","d-none"],[1,"boleta-container","p-4"],[1,"text-center","mb-4"],[1,"mb-0"],[1,"mt-3"],[1,"row","mb-3"],[1,"col-6"],[1,"col-6","text-end"],[1,"table","table-bordered"],[1,"table-dark"],[1,"mt-4","text-center"],[1,"text-muted"],["hidden","","type","button",1,"btn","btn-secondary",3,"click"]],template:function(e,r){e&1&&(c(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h5",8),p(9,"Detalle de la Compra"),l()(),c(10,"div",9)(11,"div",10)(12,"div",11)(13,"h6",8),p(14,"Informaci\xF3n de la Compra"),l(),c(15,"p")(16,"strong"),Ee(17,"i",12),p(18," ID de Compra:"),l(),p(19," #12345 "),l(),c(20,"p")(21,"strong"),Ee(22,"i",13),p(23," Fecha:"),l(),p(24," 15/06/2025 "),l(),c(25,"p")(26,"strong"),Ee(27,"i",14),p(28," Cliente:"),l(),p(29," Juan P\xE9rez "),l()()(),c(30,"div",10)(31,"div",11)(32,"h6",8),p(33,"Detalles de Pago"),l(),c(34,"p")(35,"strong"),Ee(36,"i",15),p(37," Total:"),l(),p(38," $100.00 "),l(),c(39,"p")(40,"strong"),Ee(41,"i",16),p(42," M\xE9todo de Pago:"),l(),p(43," Tarjeta de Cr\xE9dito "),l(),c(44,"p")(45,"strong"),Ee(46,"i",17),p(47," Estado:"),l(),c(48,"span",18),p(49,"Pagado"),l()()()()(),c(50,"h6",19),Ee(51,"i",20),p(52," Productos "),l(),c(53,"div",21)(54,"table",22)(55,"thead",23)(56,"tr")(57,"th"),p(58,"Producto"),l(),c(59,"th",24),p(60,"Cantidad"),l(),c(61,"th",25),p(62,"Precio Unitario"),l(),c(63,"th",25),p(64,"Total"),l()()(),c(65,"tbody")(66,"tr")(67,"td"),p(68,"Producto A"),l(),c(69,"td",24),p(70,"2"),l(),c(71,"td",25),p(72,"$20.00"),l(),c(73,"td",25),p(74,"$40.00"),l()(),c(75,"tr")(76,"td"),p(77,"Producto B"),l(),c(78,"td",24),p(79,"1"),l(),c(80,"td",25),p(81,"$60.00"),l(),c(82,"td",25),p(83,"$60.00"),l()()(),c(84,"tfoot")(85,"tr")(86,"th",26),p(87,"Total:"),l(),c(88,"th",25),p(89,"$100.00"),l()()()()(),c(90,"div",27)(91,"a",28),H("click",function(){return r.volverACompras()}),Ee(92,"i",29),p(93,"Volver "),l(),c(94,"div",30)(95,"button",31),H("click",function(){return r.volverACompras()}),Ee(96,"i",32),p(97,"Volver "),l(),c(98,"button",33),H("click",function(){return r.exportToExcel()}),Ee(99,"i",32),p(100,"Excel "),l(),c(101,"button",34),H("click",function(){return r.exportToPDF()}),Ee(102,"i",35),p(103,"PDF "),l(),c(104,"button",36),H("click",function(){return r.print()}),Ee(105,"i",37),p(106,"Imprimir "),l()()()()()()()()()(),c(107,"div",38)(108,"div",39)(109,"div",40)(110,"h3",41),p(111,"Tienda XYZ"),l(),c(112,"p",41),p(113,"Av. Principal 123 - Tel: 555-1234"),l(),c(114,"h4",42),p(115,"COMPROBANTE DE COMPRA"),l()(),c(116,"div",43)(117,"div",44)(118,"p")(119,"strong"),p(120,"N\xB0 Compra:"),l(),p(121," #12345"),l(),c(122,"p")(123,"strong"),p(124,"Fecha:"),l(),p(125," 15/06/2025"),l()(),c(126,"div",45)(127,"p")(128,"strong"),p(129,"Cliente:"),l(),p(130," Juan P\xE9rez"),l()()(),c(131,"table",46)(132,"thead",47)(133,"tr")(134,"th"),p(135,"Producto"),l(),c(136,"th",24),p(137,"Cantidad"),l(),c(138,"th",25),p(139,"P. Unitario"),l(),c(140,"th",25),p(141,"Total"),l()()(),c(142,"tbody")(143,"tr")(144,"td"),p(145,"Producto A"),l(),c(146,"td",24),p(147,"2"),l(),c(148,"td",25),p(149,"$20.00"),l(),c(150,"td",25),p(151,"$40.00"),l()(),c(152,"tr")(153,"td"),p(154,"Producto B"),l(),c(155,"td",24),p(156,"1"),l(),c(157,"td",25),p(158,"$60.00"),l(),c(159,"td",25),p(160,"$60.00"),l()()(),c(161,"tfoot")(162,"tr")(163,"th",26),p(164,"TOTAL:"),l(),c(165,"th",25),p(166,"$100.00"),l()()()(),c(167,"div",48)(168,"p"),p(169,"\xA1Gracias por su compra!"),l(),c(170,"p",49),p(171,"Este comprobante no es v\xE1lido como factura"),l()()()(),c(172,"button",50),H("click",function(){return r.print()}),Ee(173,"i",37),p(174,`Imprimir
`),l())}})};function XB(i,t){if(i&1&&(c(0,"div",12)(1,"h6",8),p(2,"Informaci\xF3n de la Compra"),l(),c(3,"p")(4,"strong"),Ee(5,"i",44),p(6," ID de Compra:"),l(),p(7),l(),c(8,"p")(9,"strong"),Ee(10,"i",45),p(11," Fecha:"),l(),p(12),Kt(13,"date"),l(),c(14,"p")(15,"strong"),Ee(16,"i",46),p(17," Proveedor:"),l(),p(18),l()()),i&2){let e=Q();g(7),Ke(" #",e.compra.numeroCompra," "),g(5),Ke(" ",Dn(13,3,e.compra.fecha,"dd-MM-yyyy")," "),g(6),Ke(" ",e.compra.proveedor.empresa," ")}}function ZB(i,t){if(i&1&&(c(0,"p")(1,"strong"),Ee(2,"i",47),p(3," Total:"),l(),p(4),l()),i&2){let e=Q();g(4),Ke(" $",e.compra.total," ")}}function YB(i,t){if(i&1&&(c(0,"tr")(1,"td"),p(2),l(),c(3,"td",22),p(4),l(),c(5,"td",22),p(6),l(),c(7,"td",23),p(8),l()()),i&2){let e=t.$implicit;g(2),Te(e.material==null?null:e.material.nombre),g(2),Te(e.cantidad),g(2),Te(e.precioUnitario),g(2),Te(e.subTotal)}}function KB(i,t){if(i&1&&(c(0,"tbody"),B(1,YB,9,4,"tr",48),l()),i&2){let e=Q();g(),M("ngForOf",e.compraMateriales)}}function JB(i,t){if(i&1&&(c(0,"tr")(1,"td"),p(2),l(),c(3,"td",22),p(4),l(),c(5,"td",22),p(6),l(),c(7,"td",23),p(8),l()()),i&2){let e=t.$implicit;g(2),Te(e.equipo==null?null:e.equipo.nombre),g(2),Te(e.cantidad),g(2),Te(e.precioUnitario),g(2),Te(e.subTotal)}}function QB(i,t){if(i&1&&(c(0,"tbody"),B(1,JB,9,4,"tr",48),l()),i&2){let e=Q();g(),M("ngForOf",e.compraEquipos)}}function eU(i,t){if(i&1&&(c(0,"tr")(1,"td"),p(2),l(),c(3,"td",22),p(4),l(),c(5,"td",22),p(6),l(),c(7,"td",23),p(8),l()()),i&2){let e=t.$implicit;g(2),Te(e.servicio==null?null:e.servicio.nombre),g(2),Te(e.cantidad),g(2),Te(e.precioUnitario),g(2),Te(e.subTotal)}}function tU(i,t){if(i&1&&(c(0,"tbody"),B(1,eU,9,4,"tr",48),l()),i&2){let e=Q();g(),M("ngForOf",e.compraServicios)}}function iU(i,t){if(i&1&&(c(0,"tr")(1,"th",49),p(2,"Total:"),l(),c(3,"th",23),p(4),l()()),i&2){let e=Q();g(4),Ke("$",e.compra.total,"")}}function rU(i,t){if(i&1&&(c(0,"div",50)(1,"h3",51),p(2),l(),c(3,"p",51),p(4),l(),c(5,"h4",52),p(6,"COMPROBANTE DE COMPRA"),l()()),i&2){let e=Q();g(2),Te(e.compra.proveedor.empresa),g(2),Di(" ",e.compra.proveedor.direccion," - Tel: ",e.compra.proveedor.telefono," ")}}function nU(i,t){if(i&1&&(c(0,"div",53)(1,"div",54)(2,"p")(3,"strong"),p(4,"N\xB0 Compra:"),l(),p(5),l(),c(6,"p")(7,"strong"),p(8,"Fecha:"),l(),p(9),Kt(10,"date"),l()(),c(11,"div",55)(12,"p")(13,"strong"),p(14,"Propietario:"),l(),p(15),l()()()),i&2){let e=Q();g(5),Ke(" #",e.compra.numeroCompra,""),g(4),Ke(" ",Dn(10,3,e.compra.fecha,"dd-MM-yyyy"),""),g(6),Ke(" ",e.compra.proveedor.nombreCompleto," ")}}function oU(i,t){if(i&1&&(c(0,"tr")(1,"td"),p(2),l(),c(3,"td",22),p(4),l(),c(5,"td",22),p(6),l(),c(7,"td",23),p(8),l()()),i&2){let e=t.$implicit;g(2),Te(e.material==null?null:e.material.nombre),g(2),Te(e.cantidad),g(2),Te(e.precioUnitario),g(2),Te(e.subTotal)}}function aU(i,t){if(i&1&&(c(0,"tbody"),B(1,oU,9,4,"tr",48),l()),i&2){let e=Q();g(),M("ngForOf",e.compraMateriales)}}function sU(i,t){if(i&1&&(c(0,"tr")(1,"td"),p(2),l(),c(3,"td",22),p(4),l(),c(5,"td",22),p(6),l(),c(7,"td",23),p(8),l()()),i&2){let e=t.$implicit;g(2),Te(e.equipo==null?null:e.equipo.nombre),g(2),Te(e.cantidad),g(2),Te(e.precioUnitario),g(2),Te(e.subTotal)}}function lU(i,t){if(i&1&&(c(0,"tbody"),B(1,sU,9,4,"tr",48),l()),i&2){let e=Q();g(),M("ngForOf",e.compraEquipos)}}function cU(i,t){if(i&1&&(c(0,"tr")(1,"td"),p(2),l(),c(3,"td",22),p(4),l(),c(5,"td",22),p(6),l(),c(7,"td",23),p(8),l()()),i&2){let e=t.$implicit;g(2),Te(e.servicio==null?null:e.servicio.nombre),g(2),Te(e.cantidad),g(2),Te(e.precioUnitario),g(2),Te(e.subTotal)}}function dU(i,t){if(i&1&&(c(0,"tbody"),B(1,cU,9,4,"tr",48),l()),i&2){let e=Q();g(),M("ngForOf",e.compraServicios)}}function uU(i,t){if(i&1&&(c(0,"tr")(1,"th",49),p(2,"TOTAL:"),l(),c(3,"th",23),p(4),l()()),i&2){let e=Q();g(4),Ke("$",e.compra.total,"")}}var Kh=class i{constructor(t,e,r,n,o,a){this.compraMaterialService=t;this.compraServicioService=e;this.compraEquipoService=r;this.compraService=n;this.route=o;this.router=a}compraMateriales=[];compraServicios=[];compraEquipos=[];compra;ID=0;TIPO="";ngOnInit(){this.obtenerIdYTipo(),this.obtenerDetalleCompras(),this.obtenerCompraPorId()}obtenerIdYTipo(){this.ID=Number(this.route.snapshot.paramMap.get("id")),this.TIPO=String(this.route.snapshot.paramMap.get("tipo"))}obtenerDetalleCompras(){if(console.log("ID:",this.ID),console.log("TIPO:",this.TIPO),!!this.ID)switch(this.TIPO){case"MATERIAL":this.compraMaterialService.obtenerComprasPorId(this.ID).subscribe(t=>{console.log("LisDetalle:",t),this.compraMateriales=t});break;case"EQUIPO":this.compraEquipoService.obtenerComprasPorId(this.ID).subscribe(t=>{console.log("LisDetalle:",t),this.compraEquipos=t});break;case"SERVICIO":this.compraServicioService.obtenerComprasPorId(this.ID).subscribe(t=>{console.log("LisDetalle:",t),this.compraServicios=t});break;default:console.warn("Tipo de compra desconocido:",this.TIPO)}}obtenerCompraPorId(){let t=Number(this.route.snapshot.paramMap.get("id"));t&&this.compraService.obtenerCompraPorId(t).subscribe(e=>{console.log("compradetalle:",e),this.compra=e})}volverACompras(){this.router.navigate(["/compra"])}exportToExcel(){try{let t=document.getElementById("purchase-table");if(!t){console.error("No se encontr\xF3 la tabla con ID purchase-table");return}let e=Hn.table_to_sheet(t),r=Hn.book_new();Hn.book_append_sheet(r,e,"DetalleCompra"),J0(r,"detalle_compra.xlsx")}catch(t){console.error("Error al exportar a Excel:",t)}}exportToPDF(){try{let t=new oi;t.setFontSize(18),t.text("Detalle de Compra",14,20);let e=this.compra?.fecha?new Date(this.compra.fecha).toLocaleDateString("es-ES"):"";t.setFontSize(12),t.text(`ID de Compra: #${this.compra?.numeroCompra??""}`,14,30),t.text(`Fecha: ${e}`,14,36),t.text(`Proveedor: ${this.compra?.proveedor?.empresa??""}`,14,42),Qa(t,{html:"#purchase-table",startY:50,theme:"grid",headStyles:{fillColor:[41,128,185],textColor:255},styles:{fontSize:9},columnStyles:{0:{cellWidth:"auto"},1:{cellWidth:"auto"},2:{cellWidth:"auto"},3:{cellWidth:"auto"}}}),t.save(`detalle_compra ${this.compra?.numeroCompra??""} .pdf`)}catch(t){console.error("Error al generar PDF:",t)}}print(){let t=document.querySelector(".print-content"),e=t.innerHTML,r=window.open("","_blank");r?(r.document.write(`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Comprobante de Compra</title>
          <style>
            @page { size: auto; margin: 5mm; }
            body { font-family: Arial; font-size: 12px; padding: 10px; }
            table { width: 100%; border-collapse: collapse; margin: 10px 0; }
            th, td { padding: 4px; text-align: left; border: 1px solid #ddd; }
            .text-center { text-align: center; }
            .text-end { text-align: right; }
            .table-dark th { background-color: #343a40; color: white; }
            .boleta-container { width: 80mm; margin: 0 auto; }
          </style>
        </head>
        <body>
          ${t.innerHTML}
          <script>
            window.onload = function() {
              setTimeout(function() {
                window.print();
                window.close();
              }, 200);
            }
          <\/script>
        </body>
        </html>
      `),r.document.close()):alert("El bloqueador de ventanas emergentes puede estar activado. Por favor desact\xEDvalo para esta p\xE1gina.")}static \u0275fac=function(e){return new(e||i)(ie(Ic),ie(N0),ie(F0),ie(ho),ie(Vi),ie(ht))};static \u0275cmp=ot({type:i,selectors:[["app-compra-show"]],standalone:!0,features:[st],decls:94,vars:12,consts:[[1,"content"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"card","shadow-sm"],[1,"card-body"],[1,"container"],[1,"col-12","col-md-6"],[1,"mb-3"],[1,"row","mb-4"],[1,"col-md-6"],["class","card bg-light p-3 h-100",4,"ngIf"],[1,"card","bg-light","p-3","h-100"],[4,"ngIf"],[1,"bi","bi-credit-card","me-2"],[1,"bi","bi-check-circle","me-2"],[1,"badge","bg-success"],[1,"mt-4","mb-3","border-bottom","pb-2"],[1,"bi","bi-cart","me-2"],[1,"table-responsive"],["id","purchase-table",1,"table","table-striped","table-hover","table-bordered"],[1,"table-primary"],[1,"text-center"],[1,"text-end"],[1,"d-flex","justify-content-between","mt-4"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-arrow-left","me-2"],[1,"btn-group"],["hidden","","type","button",1,"btn","btn-primary",3,"click"],[1,"bi","bi-file-excel","me-2"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"bi","bi-file-pdf","me-2"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-printer","me-2"],[1,"print-content","d-none"],[1,"boleta-container","p-4"],["class","text-center mb-4",4,"ngIf"],["class","row mb-3",4,"ngIf"],[1,"table","table-bordered"],[1,"table-dark"],[1,"mt-4","text-center"],[1,"text-muted"],["hidden","","type","button",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-receipt","me-2"],[1,"bi","bi-calendar","me-2"],[1,"bi","bi-person","me-2"],[1,"bi","bi-currency-dollar","me-2"],[4,"ngFor","ngForOf"],["colspan","3",1,"text-end"],[1,"text-center","mb-4"],[1,"mb-0"],[1,"mt-3"],[1,"row","mb-3"],[1,"col-6"],[1,"col-6","text-end"]],template:function(e,r){e&1&&(c(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h5",8),p(9,"Detalle de la Compra"),l()(),c(10,"div",9)(11,"div",10),B(12,XB,19,6,"div",11),l(),c(13,"div",10)(14,"div",12)(15,"h6",8),p(16,"Detalles de Pago"),l(),B(17,ZB,5,1,"p",13),c(18,"p")(19,"strong"),Ee(20,"i",14),p(21," M\xE9todo de Pago:"),l(),p(22," Tarjeta de Cr\xE9dito "),l(),c(23,"p")(24,"strong"),Ee(25,"i",15),p(26," Estado:"),l(),c(27,"span",16),p(28,"Pagado"),l()()()()(),c(29,"h6",17),Ee(30,"i",18),p(31," Productos "),l(),c(32,"div",19)(33,"table",20)(34,"thead",21)(35,"tr")(36,"th"),p(37,"Producto"),l(),c(38,"th",22),p(39,"Cantidad"),l(),c(40,"th",22),p(41,"Precio Unitario"),l(),c(42,"th",23),p(43,"Sub-total"),l()()(),B(44,KB,2,1,"tbody",13)(45,QB,2,1,"tbody",13)(46,tU,2,1,"tbody",13),c(47,"tfoot"),B(48,iU,5,1,"tr",13),l()()(),c(49,"div",24)(50,"a",25),H("click",function(){return r.volverACompras()}),Ee(51,"i",26),p(52,"Volver "),l(),c(53,"div",27)(54,"button",28),H("click",function(){return r.volverACompras()}),Ee(55,"i",29),p(56,"Volver "),l(),c(57,"button",30),H("click",function(){return r.exportToExcel()}),Ee(58,"i",29),p(59,"Excel "),l(),c(60,"button",31),H("click",function(){return r.exportToPDF()}),Ee(61,"i",32),p(62,"PDF "),l(),c(63,"button",33),H("click",function(){return r.print()}),Ee(64,"i",34),p(65,"Imprimir "),l()()()()()()()()()(),c(66,"div",35)(67,"div",36),B(68,rU,7,3,"div",37)(69,nU,16,6,"div",38),c(70,"table",39)(71,"thead",40)(72,"tr")(73,"th"),p(74,"Producto"),l(),c(75,"th",22),p(76,"Cantidad"),l(),c(77,"th",22),p(78,"P. Unitario"),l(),c(79,"th",23),p(80,"Sub Total"),l()()(),B(81,aU,2,1,"tbody",13)(82,lU,2,1,"tbody",13)(83,dU,2,1,"tbody",13),c(84,"tfoot"),B(85,uU,5,1,"tr",13),l()(),c(86,"div",41)(87,"p"),p(88,"\xA1Gracias por su compra!"),l(),c(89,"p",42),p(90,"Este comprobante no es v\xE1lido como factura"),l()()()(),c(91,"button",43),H("click",function(){return r.print()}),Ee(92,"i",34),p(93,`Imprimir
`),l()),e&2&&(g(12),M("ngIf",r.compra),g(5),M("ngIf",r.compra),g(27),M("ngIf",r.TIPO==="MATERIAL"&&r.compraMateriales.length>0),g(),M("ngIf",r.TIPO==="EQUIPO"&&r.compraEquipos.length>0),g(),M("ngIf",r.TIPO==="SERVICIO"&&r.compraServicios.length>0),g(2),M("ngIf",r.compra),g(20),M("ngIf",r.compra),g(),M("ngIf",r.compra),g(12),M("ngIf",r.TIPO==="MATERIAL"&&r.compraMateriales.length>0),g(),M("ngIf",r.TIPO==="EQUIPO"&&r.compraEquipos.length>0),g(),M("ngIf",r.TIPO==="SERVICIO"&&r.compraServicios.length>0),g(2),M("ngIf",r.compra))},dependencies:[ct,Bt,yt,cn]})};function pU(i,t){if(i&1&&(c(0,"li",29),p(1),c(2,"span",30),p(3),Kt(4,"date"),l()()),i&2){let e=t.$implicit;g(),Ke(" ",e.nombre," "),g(2),Te(bi(4,2,e.fechaLimite))}}var Jh=class i{totalProyectosActivos=12;totalProyectosCompletados=8;totalProyectosPendientes=5;presupuestoTotal=15e5;progresoProyecto1=80;progresoProyecto2=45;progresoProyecto3=60;tareasPendientes=[{nombre:"Revisi\xF3n de planos",fechaLimite:new Date},{nombre:"Compra de materiales",fechaLimite:new Date(new Date().setDate(new Date().getDate()+5))},{nombre:"Contrataci\xF3n de equipo",fechaLimite:new Date(new Date().setDate(new Date().getDate()+10))}];ngOnInit(){}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=ot({type:i,selectors:[["app-dashboard"]],standalone:!0,features:[st],decls:68,vars:22,consts:[[1,"content"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"card","shadow-sm"],[1,"card-body"],[1,"row","mt-4"],[1,"col-md-3","mb-4"],[1,"card","shadow-sm","bg-primary","text-white"],[1,"card-body","text-center"],[1,"card-title"],[1,"card-text"],[1,"card","shadow-sm","bg-success","text-white"],[1,"card","shadow-sm","bg-warning","text-dark"],[1,"card","shadow-sm","bg-info","text-white"],[1,"col-md-6","mb-4"],[1,"mb-3"],[1,"progress"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar"],[1,"progress","mt-2"],[1,"list-group"],[1,"list-group-item","list-group-item-success"],[1,"bi","bi-check-circle"],[1,"list-group-item","list-group-item-warning"],[1,"bi","bi-exclamation-circle"],[1,"list-group-item","list-group-item-primary"],[1,"bi","bi-pause-circle"],[1,"col-md-12"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"badge","bg-primary","rounded-pill"]],template:function(e,r){e&1&&(c(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"h5",10),p(11,"Proyectos Activos"),l(),c(12,"p",11),p(13),l()()()(),c(14,"div",7)(15,"div",12)(16,"div",9)(17,"h5",10),p(18,"Proyectos Completados"),l(),c(19,"p",11),p(20),l()()()(),c(21,"div",7)(22,"div",13)(23,"div",9)(24,"h5",10),p(25,"Proyectos Pendientes"),l(),c(26,"p",11),p(27),l()()()(),c(28,"div",7)(29,"div",14)(30,"div",9)(31,"h5",10),p(32,"Presupuesto Total"),l(),c(33,"p",11),p(34),Kt(35,"currency"),l()()()()(),c(36,"div",2)(37,"div",15)(38,"h4",16),p(39,"Progreso de Proyectos"),l(),c(40,"div",17)(41,"div",18),p(42),l()(),c(43,"div",19)(44,"div",18),p(45),l()(),c(46,"div",19)(47,"div",18),p(48),l()()(),c(49,"div",15)(50,"h4",16),p(51,"Estado de los Proyectos"),l(),c(52,"div",20)(53,"div",21),Ee(54,"i",22),p(55),l(),c(56,"div",23),Ee(57,"i",24),p(58),l(),c(59,"div",25),Ee(60,"i",26),p(61),l()()()(),c(62,"div",6)(63,"div",27)(64,"h4",16),p(65,"Tareas Pendientes"),l(),c(66,"ul",20),B(67,pU,5,4,"li",28),l()()()()()()()()()),e&2&&(g(13),Ke(" ",r.totalProyectosActivos," Obras Civiles "),g(7),Ke(" ",r.totalProyectosCompletados," Obras "),g(7),Ke(" ",r.totalProyectosPendientes," Obras "),g(7),Te(bi(35,20,r.presupuestoTotal)),g(7),lf("width",r.progresoProyecto1+"%"),hs("aria-valuenow",r.progresoProyecto1),g(),Ke(" Proyecto 1: ",r.progresoProyecto1,"% "),g(2),lf("width",r.progresoProyecto2+"%"),hs("aria-valuenow",r.progresoProyecto2),g(),Ke(" Proyecto 2: ",r.progresoProyecto2,"% "),g(2),lf("width",r.progresoProyecto3+"%"),hs("aria-valuenow",r.progresoProyecto3),g(),Ke(" Proyecto 3: ",r.progresoProyecto3,"% "),g(7),Ke(" Proyecto Completado (",r.totalProyectosCompletados," obras) "),g(3),Ke(" Proyecto Pendiente (",r.totalProyectosPendientes," obras) "),g(3),Ke(" Proyecto Activo (",r.totalProyectosActivos," obras) "),g(6),M("ngForOf",r.tareasPendientes))},dependencies:[ct,Bt,ea,cn]})};var fU=["*"];var vr=function(i){return i.AnnotationChart="AnnotationChart",i.AreaChart="AreaChart",i.Bar="Bar",i.BarChart="BarChart",i.BubbleChart="BubbleChart",i.Calendar="Calendar",i.CandlestickChart="CandlestickChart",i.ColumnChart="ColumnChart",i.ComboChart="ComboChart",i.PieChart="PieChart",i.Gantt="Gantt",i.Gauge="Gauge",i.GeoChart="GeoChart",i.Histogram="Histogram",i.Line="Line",i.LineChart="LineChart",i.Map="Map",i.OrgChart="OrgChart",i.Sankey="Sankey",i.Scatter="Scatter",i.ScatterChart="ScatterChart",i.SteppedAreaChart="SteppedAreaChart",i.Table="Table",i.Timeline="Timeline",i.TreeMap="TreeMap",i.WordTree="WordTree",i}(vr||{}),mU={[vr.AnnotationChart]:"annotationchart",[vr.AreaChart]:"corechart",[vr.Bar]:"bar",[vr.BarChart]:"corechart",[vr.BubbleChart]:"corechart",[vr.Calendar]:"calendar",[vr.CandlestickChart]:"corechart",[vr.ColumnChart]:"corechart",[vr.ComboChart]:"corechart",[vr.PieChart]:"corechart",[vr.Gantt]:"gantt",[vr.Gauge]:"gauge",[vr.GeoChart]:"geochart",[vr.Histogram]:"corechart",[vr.Line]:"line",[vr.LineChart]:"corechart",[vr.Map]:"map",[vr.OrgChart]:"orgchart",[vr.Sankey]:"sankey",[vr.Scatter]:"scatter",[vr.ScatterChart]:"corechart",[vr.SteppedAreaChart]:"corechart",[vr.Table]:"table",[vr.Timeline]:"timeline",[vr.TreeMap]:"treemap",[vr.WordTree]:"wordtree"};function hU(i){return mU[i]}function g5(){return{version:"current",safeMode:!1}}var v5=new Ji("GOOGLE_CHARTS_CONFIG"),gU=new Ji("GOOGLE_CHARTS_LAZY_CONFIG",{providedIn:"root",factory:()=>{let i=ii(v5,wu.Optional);return ci(lt(lt({},g5()),i||{}))}}),Qh=(()=>{class i{constructor(e,r,n){this.zone=e,this.localeId=r,this.config$=n,this.scriptSource="https://www.gstatic.com/charts/loader.js",this.scriptLoadSubject=new Ua}isGoogleChartsAvailable(){return!(typeof google>"u"||typeof google.charts>"u")}loadChartPackages(...e){return this.loadGoogleCharts().pipe(Lo(()=>this.config$),nr(r=>lt(lt({},g5()),r||{})),Kn(r=>new fd(n=>{let o={packages:e,language:this.localeId,mapsApiKey:r.mapsApiKey,safeMode:r.safeMode};google.charts.load(r.version,o),google.charts.setOnLoadCallback(()=>{this.zone.run(()=>{n.next(),n.complete()})})})))}loadGoogleCharts(){if(this.isGoogleChartsAvailable())return ci(void 0);if(!this.isLoadingGoogleCharts()){let e=this.createGoogleChartsScript();e.onload=()=>{this.zone.run(()=>{this.scriptLoadSubject.next(),this.scriptLoadSubject.complete()})},e.onerror=()=>{this.zone.run(()=>{console.error("Failed to load the google charts script!"),this.scriptLoadSubject.error(new Error("Failed to load the google charts script!"))})}}return this.scriptLoadSubject.asObservable()}isLoadingGoogleCharts(){return this.getGoogleChartsScript()!=null}getGoogleChartsScript(){return Array.from(document.getElementsByTagName("script")).find(r=>r.src===this.scriptSource)}createGoogleChartsScript(){let e=document.createElement("script");return e.type="text/javascript",e.src=this.scriptSource,e.async=!0,document.getElementsByTagName("head")[0].appendChild(e),e}static{this.\u0275fac=function(r){return new(r||i)(Et(Qo),Et(N2),Et(gU))}}static{this.\u0275prov=wt({token:i,factory:i.\u0275fac})}}return i})();var _5=(()=>{class i{create(e,r,n){if(e==null)return;let o=!0;r!=null&&(o=!1);let a=google.visualization.arrayToDataTable(this.getDataAsTable(e,r),o);return n&&this.applyFormatters(a,n),a}getDataAsTable(e,r){return r?[r,...e]:e}applyFormatters(e,r){for(let n of r)n.formatter.format(e,n.colIndex)}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function vU(){return"_"+Math.random().toString(36).substr(2,9)}var _U=(()=>{class i{constructor(e){this.loaderService=e,this.error=new tn,this.ready=new tn,this.stateChange=new tn,this.id=vU(),this.wrapperReadySubject=new Ig(1)}get wrapperReady$(){return this.wrapperReadySubject.asObservable()}get controlWrapper(){if(!this._controlWrapper)throw new Error("Cannot access the control wrapper before it being initialized.");return this._controlWrapper}ngOnInit(){this.loaderService.loadChartPackages("controls").subscribe(()=>{this.createControlWrapper()})}ngOnChanges(e){this._controlWrapper&&(e.type&&this._controlWrapper.setControlType(this.type),e.options&&this._controlWrapper.setOptions(this.options||{}),e.state&&this._controlWrapper.setState(this.state||{}))}createControlWrapper(){this._controlWrapper=new google.visualization.ControlWrapper({containerId:this.id,controlType:this.type,state:this.state,options:this.options}),this.addEventListeners(),this.wrapperReadySubject.next(this._controlWrapper)}addEventListeners(){google.visualization.events.removeAllListeners(this._controlWrapper),google.visualization.events.addListener(this._controlWrapper,"ready",e=>this.ready.emit(e)),google.visualization.events.addListener(this._controlWrapper,"error",e=>this.error.emit(e)),google.visualization.events.addListener(this._controlWrapper,"statechange",e=>this.stateChange.emit(e))}static{this.\u0275fac=function(r){return new(r||i)(ie(Qh))}}static{this.\u0275cmp=ot({type:i,selectors:[["control-wrapper"]],hostAttrs:[1,"control-wrapper"],hostVars:1,hostBindings:function(r,n){r&2&&P2("id",n.id)},inputs:{for:"for",type:"type",options:"options",state:"state"},outputs:{error:"error",ready:"ready",stateChange:"stateChange"},exportAs:["controlWrapper"],features:[za],decls:0,vars:0,template:function(r,n){},encapsulation:2,changeDetection:0})}}return i})(),bU=(()=>{class i{constructor(e,r,n){this.element=e,this.loaderService=r,this.dataTableService=n,this.ready=new tn,this.error=new tn,this.initialized=!1}ngOnInit(){this.loaderService.loadChartPackages("controls").subscribe(()=>{this.dataTable=this.dataTableService.create(this.data,this.columns,this.formatters),this.createDashboard(),this.initialized=!0})}ngOnChanges(e){this.initialized&&(e.data||e.columns||e.formatters)&&(this.dataTable=this.dataTableService.create(this.data,this.columns,this.formatters),this.dashboard.draw(this.dataTable))}createDashboard(){let e=this.controlWrappers.map(n=>n.wrapperReady$),r=this.controlWrappers.map(n=>n.for).map(n=>Array.isArray(n)?md(n.map(o=>o.wrapperReady$)):n.wrapperReady$);md([...e,...r]).subscribe(()=>{this.dashboard=new google.visualization.Dashboard(this.element.nativeElement),this.initializeBindings(),this.registerEvents(),this.dashboard.draw(this.dataTable)})}registerEvents(){google.visualization.events.removeAllListeners(this.dashboard);let e=(r,n,o)=>{google.visualization.events.addListener(r,n,o)};e(this.dashboard,"ready",()=>this.ready.emit()),e(this.dashboard,"error",r=>this.error.emit(r))}initializeBindings(){this.controlWrappers.forEach(e=>{if(Array.isArray(e.for)){let r=e.for.map(n=>n.chartWrapper);this.dashboard.bind(e.controlWrapper,r)}else this.dashboard.bind(e.controlWrapper,e.for.chartWrapper)})}static{this.\u0275fac=function(r){return new(r||i)(ie(Ws),ie(Qh),ie(_5))}}static{this.\u0275cmp=ot({type:i,selectors:[["dashboard"]],contentQueries:function(r,n,o){if(r&1&&jg(o,_U,4),r&2){let a;bl(a=xl())&&(n.controlWrappers=a)}},hostAttrs:[1,"dashboard"],inputs:{data:"data",columns:"columns",formatters:"formatters"},outputs:{ready:"ready",error:"error"},exportAs:["dashboard"],features:[za],ngContentSelectors:fU,decls:1,vars:0,template:function(r,n){r&1&&(M2(),T2(0))},encapsulation:2,changeDetection:0})}}return i})(),eg=(()=>{class i{constructor(e,r,n,o){this.element=e,this.scriptLoaderService=r,this.dataTableService=n,this.dashboard=o,this.options={},this.dynamicResize=!1,this.ready=new tn,this.error=new tn,this.select=new tn,this.mouseover=new tn,this.mouseleave=new tn,this.wrapperReadySubject=new Ig(1),this.initialized=!1,this.eventListeners=new Map}get chart(){return this.chartWrapper.getChart()}get wrapperReady$(){return this.wrapperReadySubject.asObservable()}get chartWrapper(){if(!this.wrapper)throw new Error("Trying to access the chart wrapper before it was fully initialized");return this.wrapper}set chartWrapper(e){this.wrapper=e,this.drawChart()}ngOnInit(){this.scriptLoaderService.loadChartPackages(hU(this.type)).subscribe(()=>{this.dataTable=this.dataTableService.create(this.data,this.columns,this.formatters),this.wrapper=new google.visualization.ChartWrapper({container:this.element.nativeElement,chartType:this.type,dataTable:this.dataTable,options:this.mergeOptions()}),this.registerChartEvents(),this.wrapperReadySubject.next(this.wrapper),this.initialized=!0,this.drawChart()})}ngOnChanges(e){if(e.dynamicResize&&this.updateResizeListener(),this.initialized){let r=!1;(e.data||e.columns||e.formatters)&&(this.dataTable=this.dataTableService.create(this.data,this.columns,this.formatters),this.wrapper.setDataTable(this.dataTable),r=!0),e.type&&(this.wrapper.setChartType(this.type),r=!0),(e.options||e.width||e.height||e.title)&&(this.wrapper.setOptions(this.mergeOptions()),r=!0),r&&this.drawChart()}}ngOnDestroy(){this.unsubscribeToResizeIfSubscribed()}addEventListener(e,r){let n=this.registerChartEvent(this.chart,e,r);return this.eventListeners.set(n,{eventName:e,callback:r,handle:n}),n}removeEventListener(e){let r=this.eventListeners.get(e);r&&(google.visualization.events.removeListener(r.handle),this.eventListeners.delete(e))}updateResizeListener(){this.unsubscribeToResizeIfSubscribed(),this.dynamicResize&&(this.resizeSubscription=r2(window,"resize",{passive:!0}).pipe(n2(100)).subscribe(()=>{this.initialized&&this.drawChart()}))}unsubscribeToResizeIfSubscribed(){this.resizeSubscription!=null&&(this.resizeSubscription.unsubscribe(),this.resizeSubscription=void 0)}mergeOptions(){return lt({title:this.title,width:this.width,height:this.height},this.options)}registerChartEvents(){google.visualization.events.removeAllListeners(this.wrapper),this.registerChartEvent(this.wrapper,"ready",()=>{google.visualization.events.removeAllListeners(this.chart),this.registerChartEvent(this.chart,"onmouseover",e=>this.mouseover.emit(e)),this.registerChartEvent(this.chart,"onmouseout",e=>this.mouseleave.emit(e)),this.registerChartEvent(this.chart,"select",()=>{let e=this.chart.getSelection();this.select.emit({selection:e})}),this.eventListeners.forEach(e=>e.handle=this.registerChartEvent(this.chart,e.eventName,e.callback)),this.ready.emit({chart:this.chart})}),this.registerChartEvent(this.wrapper,"error",e=>this.error.emit(e))}registerChartEvent(e,r,n){return google.visualization.events.addListener(e,r,n)}drawChart(){this.dashboard==null&&this.wrapper.draw()}static{this.\u0275fac=function(r){return new(r||i)(ie(Ws),ie(Qh),ie(_5),ie(bU,8))}}static{this.\u0275cmp=ot({type:i,selectors:[["google-chart"]],hostAttrs:[1,"google-chart"],inputs:{type:"type",data:"data",columns:"columns",title:"title",width:"width",height:"height",options:"options",formatters:"formatters",dynamicResize:"dynamicResize"},outputs:{ready:"ready",error:"error",select:"select",mouseover:"mouseover",mouseleave:"mouseleave"},exportAs:["googleChart"],features:[za],decls:0,vars:0,template:function(r,n){},styles:["[_nghost-%COMP%]{width:-moz-fit-content;width:fit-content;display:block}"],changeDetection:0})}}return i})();var tg=(()=>{class i{static forRoot(e={}){return{ngModule:i,providers:[{provide:v5,useValue:e}]}}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275mod=ms({type:i})}static{this.\u0275inj=fs({providers:[Qh]})}}return i})();function xU(i,t){if(i&1&&(c(0,"option",15),p(1),l()),i&2){let e=t.$implicit;M("value",e),g(),Te(e)}}function yU(i,t){i&1&&(c(0,"div",16),Ee(1,"span",17),c(2,"span"),p(3,"Cargando tareas, por favor espera..."),l()())}function CU(i,t){if(i&1){let e=Je();c(0,"div",18)(1,"span"),p(2),l(),c(3,"button",19),H("click",function(){N(e);let n=Q();return D(n.onEstadoChange())}),p(4,"\u{1F501} Reintentar"),l()()}if(i&2){let e=Q();g(2),Te(e.error)}}function wU(i,t){if(i&1&&(c(0,"div",20),Ee(1,"google-chart",21),l()),i&2){let e=Q();g(),M("type",e.chart.type)("data",e.chart.data)("columns",e.chart.columns)("options",e.chart.options)}}function SU(i,t){i&1&&(c(0,"div",22)(1,"p"),p(2,"No hay tareas registradas para esta obra civil."),l()())}var ig=class i{constructor(t,e){this.route=t;this.tareaService=e}chart;chartData=[];rowColors=[];estados=[];estadoFilter="Todos";chartColumns=[{type:"string",label:"Tarea"},{type:"date",label:"Fecha Inicio"},{type:"date",label:"Fecha Fin"},{type:"string",role:"tooltip",p:{html:!0}}];chartOptions={height:400,timeline:{showRowLabels:!0},tooltip:{isHtml:!0},colors:[]};isLoading=!0;error=null;ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("id"));t&&(this.isLoading=!0,this.tareaService.obtenerTareas().subscribe({next:e=>{let r=e.filter(o=>o.obraCivil.id===t),n=new Set(r.map(o=>o.estado));this.estados=["Todos",...Array.from(n)],this.applyFilterAndRender(r),this.isLoading=!1},error:()=>{this.error="No se pudieron cargar las tareas. Intenta recargar.",this.isLoading=!1}}))}onEstadoChange(){this.isLoading=!0,this.tareaService.obtenerTareas().subscribe({next:t=>{let e=Number(this.route.snapshot.paramMap.get("id")),r=t.filter(n=>n.obraCivil.id===e);this.applyFilterAndRender(r),this.isLoading=!1},error:()=>{this.error="Error al filtrar. Intenta de nuevo.",this.isLoading=!1}})}applyFilterAndRender(t){this.estadoFilter!=="Todos"&&(t=t.filter(e=>e.estado===this.estadoFilter)),t.sort((e,r)=>new Date(e.fechaInicio).getTime()-new Date(r.fechaInicio).getTime()),this.chartData=[],this.rowColors=[],t.forEach(e=>{let r=new Date(e.fechaInicio),n=new Date(e.fechaFin),o=Math.max(1,Math.round((n.getTime()-r.getTime())/(1e3*60*60*24))),a="#9e9e9e";switch(e.estado.toLowerCase()){case"pendiente":a="#ffc107";break;case"en progreso":a="#2196f3";break;case"completada":a="#4caf50";break;case"cancelada":a="#f44336";break}this.rowColors.push(a);let d=m=>m.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}),u=`
        <div style="padding:8px; font-size:13px; max-width:300px;">
          <strong>${e.nombre}</strong><br>
          ${e.descripcion?`<em>${e.descripcion}</em><br>`:""}
          <strong>Obra Civil:</strong> ${e.obraCivil.nombre}<br>
          <strong>Estado:</strong> ${e.estado}<br>
          <strong>Prioridad:</strong> ${e.prioridad}<br>
          <strong>Fecha Inicio:</strong> ${d(r)}<br>
          <strong>Fecha Fin:</strong> ${d(n)}<br>
          <strong>Duraci\xF3n:</strong> ${o} d\xEDa(s)
        </div>
      `;this.chartData.push([e.nombre,r,n,u])}),this.chartOptions.colors=this.rowColors,this.chart={title:"Diagrama de Timeline de la Obra",type:"Timeline",data:this.chartData,columns:this.chartColumns,options:this.chartOptions}}static \u0275fac=function(e){return new(e||i)(ie(Vi),ie(Xa))};static \u0275cmp=ot({type:i,selectors:[["app-obra-civil-gantt"]],standalone:!0,features:[st],decls:26,vars:6,consts:[["role","region","aria-label","Diagrama de Timeline de la Obra",1,"gantt-container"],[1,"header"],[1,"filter"],["for","estado-select"],["id","estado-select",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","loading","role","alert","aria-busy","true",4,"ngIf"],["class","error","role","alert","tabindex","0",4,"ngIf"],["class","chart-wrapper",4,"ngIf"],["class","no-tasks","role","alert","tabindex","0",4,"ngIf"],[1,"legend"],[1,"color-box","pendiente"],[1,"color-box","en-progreso"],[1,"color-box","completada"],[1,"color-box","cancelada"],[3,"value"],["role","alert","aria-busy","true",1,"loading"],["aria-hidden","true",1,"spinner"],["role","alert","tabindex","0",1,"error"],["aria-label","Reintentar cargar las tareas",3,"click"],[1,"chart-wrapper"],[3,"type","data","columns","options"],["role","alert","tabindex","0",1,"no-tasks"]],template:function(e,r){e&1&&(c(0,"div",0)(1,"div",1)(2,"h2"),p(3,"Avance de Obra"),l(),c(4,"div",2)(5,"label",3),p(6,"Filtrar por estado:"),l(),c(7,"select",4),pe("ngModelChange",function(o){return ue(r.estadoFilter,o)||(r.estadoFilter=o),o}),H("change",function(){return r.onEstadoChange()}),B(8,xU,2,2,"option",5),l()()(),B(9,yU,4,0,"div",6)(10,CU,5,1,"div",7)(11,wU,2,4,"div",8)(12,SU,3,0,"div",9),c(13,"div",10)(14,"span"),Ee(15,"span",11),p(16," Pendiente"),l(),c(17,"span"),Ee(18,"span",12),p(19," En Progreso"),l(),c(20,"span"),Ee(21,"span",13),p(22," Completada"),l(),c(23,"span"),Ee(24,"span",14),p(25," Cancelada"),l()()()),e&2&&(g(7),de("ngModel",r.estadoFilter),g(),M("ngForOf",r.estados),g(),M("ngIf",r.isLoading),g(),M("ngIf",r.error),g(),M("ngIf",!r.isLoading&&!r.error&&r.chartData.length>0),g(),M("ngIf",!r.isLoading&&r.chartData.length===0))},dependencies:[ct,Bt,yt,tg,eg,Mt,Fi,Ni,Ti,Pt,Tt],styles:[".gantt-container[_ngcontent-%COMP%]{position:relative;padding:1.5rem;max-width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.gantt-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1rem;font-size:1.8rem;color:#222}.gantt-container[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]{position:absolute;top:1.5rem;right:1.5rem;display:flex;align-items:center;gap:.5rem}.gantt-container[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1rem;color:#444}.gantt-container[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.3rem .5rem;font-size:1rem;border:1px solid #ccc;border-radius:4px;background-color:#fff;cursor:pointer}@media (max-width: 600px){.gantt-container[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]{position:static;margin-top:1rem;justify-content:flex-start;gap:.5rem;flex-wrap:wrap}.gantt-container[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.9rem}.gantt-container[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;max-width:200px;font-size:.9rem}}.gantt-container[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%], .gantt-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%], .gantt-container[_ngcontent-%COMP%]   .no-tasks[_ngcontent-%COMP%]{font-size:1.2rem;color:#444;margin-top:1.5rem;display:flex;align-items:center;gap:.75rem}.gantt-container[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem;border:3px solid #ccc;border-top:3px solid #007bff;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.gantt-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:#d32f2f;flex-wrap:wrap}.gantt-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #d32f2f;color:#d32f2f;padding:.4rem .8rem;cursor:pointer;border-radius:4px;font-size:1rem;transition:background-color .2s}.gantt-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#d32f2f;color:#fff}.gantt-container[_ngcontent-%COMP%]   .no-tasks[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.gantt-container[_ngcontent-%COMP%]   .no-tasks[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.gantt-container[_ngcontent-%COMP%]   .no-tasks[_ngcontent-%COMP%]   .action-link[_ngcontent-%COMP%]{margin-top:.5rem;color:#007bff;text-decoration:none;font-weight:600;display:inline-block;padding:.3rem 0;transition:color .2s}.gantt-container[_ngcontent-%COMP%]   .no-tasks[_ngcontent-%COMP%]   .action-link[_ngcontent-%COMP%]:hover{color:#0056b3;text-decoration:underline}.gantt-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]{margin-top:1rem;width:100%;overflow-x:auto;display:block}.gantt-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   google-chart[_ngcontent-%COMP%]{width:max-content!important;min-width:100%;height:auto!important}.gantt-container[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]{margin-top:2rem;display:flex;gap:1.5rem;flex-wrap:wrap;font-size:14px;justify-content:center}.gantt-container[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.gantt-container[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .color-box[_ngcontent-%COMP%]{display:inline-block;width:16px;height:16px;border-radius:3px;vertical-align:middle}.gantt-container[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .pendiente[_ngcontent-%COMP%]{background-color:#ffc107}.gantt-container[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .en-progreso[_ngcontent-%COMP%]{background-color:#2196f3}.gantt-container[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .completada[_ngcontent-%COMP%]{background-color:#4caf50}.gantt-container[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .cancelada[_ngcontent-%COMP%]{background-color:#f44336}@media (max-width: 600px){.gantt-container[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]{justify-content:flex-start;font-size:13px}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};var M_=pd(rg());function EU(i,t){if(i&1&&(c(0,"option",21),p(1),l()),i&2){let e=t.$implicit;M("value",e),g(),Te(e)}}function PU(i,t){if(i&1&&(c(0,"option",21),p(1),l()),i&2){let e=t.$implicit;M("value",e),g(),Te(e)}}function MU(i,t){if(i&1&&(c(0,"tr")(1,"td"),p(2),l(),c(3,"td"),p(4),l(),c(5,"td"),p(6),l(),c(7,"td"),p(8),l(),c(9,"td"),p(10),l(),c(11,"td"),p(12),l()()),i&2){let e=t.$implicit;g(2),Te(e.nombre),g(2),Te(e.descripcion),g(2),Te(e.fechaInicio),g(2),Te(e.fechaFin),g(2),Te(e.estado),g(2),Te(e.prioridad)}}function TU(i,t){if(i&1&&(c(0,"table")(1,"thead")(2,"tr")(3,"th"),p(4,"Nombre"),l(),c(5,"th"),p(6,"Descripci\xF3n"),l(),c(7,"th"),p(8,"Fecha Inicio"),l(),c(9,"th"),p(10,"Fecha Fin"),l(),c(11,"th"),p(12,"Estado"),l(),c(13,"th"),p(14,"Prioridad"),l()()(),c(15,"tbody"),B(16,MU,13,6,"tr",22),l()()),i&2){let e=Q();g(16),M("ngForOf",e.tareasFiltradas)}}function kU(i,t){i&1&&(c(0,"p"),p(1,"No se encontraron tareas con los criterios especificados."),l())}var ng=class i{constructor(t,e){this.route=t;this.tareaService=e}tareas=[];tareasFiltradas=[];idObra;fechaInicio="";fechaFin="";estado="";prioridad="";estados=["pendiente","en progreso","completada","cancelada"];prioridades=["baja","media","alta"];nombreObra="";ngOnInit(){this.idObra=+this.route.snapshot.paramMap.get("id_obra"),this.tareaService.obtenerTareas().subscribe(t=>{this.tareas=t.filter(e=>e.obraCivil.id===this.idObra),this.nombreObra=this.tareas[0]?.obraCivil?.nombre||"Obra Civil",this.filtrar()})}filtrar(){this.tareasFiltradas=this.tareas.filter(t=>{let e=this.fechaInicio?new Date(this.fechaInicio):null,r=this.fechaFin?new Date(this.fechaFin):null,n=new Date(t.fechaInicio),o=new Date(t.fechaFin),a=!e||n>=e,d=!r||o<=r,u=!this.estado||t.estado===this.estado,m=!this.prioridad||t.prioridad===this.prioridad;return a&&d&&u&&m})}exportarExcel(){let t=this.tareasFiltradas.map(m=>{var v=m,{id:a,obraCivil:d}=v,u=rf(v,["id","obraCivil"]);return u}),r={Sheets:{Reporte:Hn.json_to_sheet(t)},SheetNames:["Reporte"]},n=Uc(r,{bookType:"xlsx",type:"array"}),o=new Blob([n],{type:"application/octet-stream"});M_.saveAs(o,`${this.nombreObra}-reporte.xlsx`)}exportarPDF(){let t=new oi;t.setFontSize(16),t.text(`Reporte de Tareas de la Obra ${this.nombreObra}`,14,15);let e=this.tareasFiltradas.map(r=>[r.nombre,r.descripcion,r.fechaInicio,r.fechaFin,r.estado,r.prioridad]);Qa(t,{startY:25,head:[["Nombre","Descripcion","Fecha Inicio","Fecha Fin","Estado","Prioridad"]],body:e,styles:{fontSize:10,cellPadding:3},headStyles:{fillColor:[41,128,185],textColor:[255,255,255],fontStyle:"bold"},alternateRowStyles:{fillColor:[245,245,245]},margin:{top:25},theme:"striped"}),t.save(`${this.nombreObra}-reporte.pdf`)}exportarHTML(){let t=`
    <!DOCTYPE html>
    <html>
    <head>
      <title>Reporte ${this.nombreObra}</title>
      <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        h1 { color: #2c3e50; border-bottom: 2px solid #3498db; padding-bottom: 10px; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th { background-color: #2980b9; color: white; padding: 12px; text-align: left; }
        td { padding: 10px; border-bottom: 1px solid #ddd; }
        tr:nth-child(even) { background-color: #f5f5f5; }
        .fecha { white-space: nowrap; }
      </style>
    </head>
    <body>
      <h1>Reporte de Tareas - ${this.nombreObra}</h1>
      <table>
        <thead>
          <tr>
            <th>Nombre</th>
            <th>Descripci\xF3n</th>
            <th>Fecha Inicio</th>
            <th>Fecha Fin</th>
            <th>Estado</th>
            <th>Prioridad</th>
          </tr>
        </thead>
        <tbody>
          ${this.tareasFiltradas.map(r=>`
            <tr>
              <td>${r.nombre}</td>
              <td>${r.descripcion}</td>
              <td class="fecha">${this.formatDate(r.fechaInicio)}</td>
              <td class="fecha">${this.formatDate(r.fechaFin)}</td>
              <td>${r.estado}</td>
              <td>${r.prioridad}</td>
            </tr>
          `).join("")}
        </tbody>
      </table>
    </body>
    </html>
  `,e=new Blob([t],{type:"text/html;charset=utf-8"});M_.saveAs(e,`${this.nombreObra}-reporte.html`)}formatDate(t){return new Date(t).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})}static \u0275fac=function(e){return new(e||i)(ie(Vi),ie(Xa))};static \u0275cmp=ot({type:i,selectors:[["app-obra-civil-tarea-reporte"]],standalone:!0,features:[st],decls:41,vars:9,consts:[[1,"reporte-container"],[1,"titulo-reporte"],[1,"formulario",3,"ngSubmit"],[1,"campo"],["for","fechaInicio"],["type","date","id","fechaInicio","name","fechaInicio",3,"ngModelChange","ngModel"],["for","fechaFin"],["type","date","id","fechaFin","name","fechaFin",3,"ngModelChange","ngModel"],["for","estado"],["id","estado","name","estado",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","prioridad"],["id","prioridad","name","prioridad",3,"ngModelChange","ngModel"],[1,"campo","boton-filtrar"],["type","submit"],[1,"acciones"],[3,"click"],[1,"tabla"],[1,"tabla-responsive"],[4,"ngIf"],[3,"value"],[4,"ngFor","ngForOf"]],template:function(e,r){e&1&&(c(0,"div",0)(1,"h2",1),p(2),l(),c(3,"form",2),H("ngSubmit",function(){return r.filtrar()}),c(4,"div",3)(5,"label",4),p(6,"Fecha Inicio"),l(),c(7,"input",5),pe("ngModelChange",function(o){return ue(r.fechaInicio,o)||(r.fechaInicio=o),o}),l()(),c(8,"div",3)(9,"label",6),p(10,"Fecha Fin"),l(),c(11,"input",7),pe("ngModelChange",function(o){return ue(r.fechaFin,o)||(r.fechaFin=o),o}),l()(),c(12,"div",3)(13,"label",8),p(14,"Estado"),l(),c(15,"select",9),pe("ngModelChange",function(o){return ue(r.estado,o)||(r.estado=o),o}),c(16,"option",10),p(17,"Todos"),l(),B(18,EU,2,2,"option",11),l()(),c(19,"div",3)(20,"label",12),p(21,"Prioridad"),l(),c(22,"select",13),pe("ngModelChange",function(o){return ue(r.prioridad,o)||(r.prioridad=o),o}),c(23,"option",10),p(24,"Todas"),l(),B(25,PU,2,2,"option",11),l()(),c(26,"div",14)(27,"button",15),p(28,"Filtrar"),l()()(),c(29,"div",16)(30,"button",17),H("click",function(){return r.exportarExcel()}),p(31,"Exportar a Excel"),l(),c(32,"button",17),H("click",function(){return r.exportarPDF()}),p(33,"Exportar a PDF"),l(),c(34,"button",17),H("click",function(){return r.exportarHTML()}),p(35,"Exportar a HTML"),l()()(),c(36,"div",18)(37,"div",18)(38,"div",19),B(39,TU,17,1,"table",20),l(),B(40,kU,2,0,"p",20),l()()),e&2&&(g(2),Ke("Reporte de Tareas - ",r.nombreObra,""),g(5),de("ngModel",r.fechaInicio),g(4),de("ngModel",r.fechaFin),g(4),de("ngModel",r.estado),g(3),M("ngForOf",r.estados),g(4),de("ngModel",r.prioridad),g(3),M("ngForOf",r.prioridades),g(14),M("ngIf",r.tareasFiltradas.length),g(),M("ngIf",!r.tareasFiltradas.length))},dependencies:[Mt,Qt,Fi,Ni,kt,Ti,Pt,Jt,Tt,ei,ct,Bt,yt],styles:[".reporte-container[_ngcontent-%COMP%]{padding:1.5rem;background:#f8f9fa;border-radius:10px;box-shadow:0 2px 8px #0000001a;margin-bottom:2rem}.reporte-container[_ngcontent-%COMP%]   .titulo-reporte[_ngcontent-%COMP%]{margin-bottom:1rem;font-size:1.5rem;color:#333}.reporte-container[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:1rem}.reporte-container[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .campo[_ngcontent-%COMP%]{display:flex;flex-direction:column}.reporte-container[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .campo[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:.25rem;font-weight:500;color:#555}.reporte-container[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .campo[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .reporte-container[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .campo[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.4rem;border:1px solid #ccc;border-radius:5px}.reporte-container[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .boton-filtrar[_ngcontent-%COMP%]{display:flex;align-items:flex-end}.reporte-container[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .boton-filtrar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem 1rem;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer}.reporte-container[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .boton-filtrar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.reporte-container[_ngcontent-%COMP%]   .acciones[_ngcontent-%COMP%]{margin-top:1.5rem}.reporte-container[_ngcontent-%COMP%]   .acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:1rem;padding:.5rem 1rem;border:none;border-radius:5px;color:#fff;cursor:pointer;background-color:#28a745;transition:background-color .3s ease,opacity .2s}.reporte-container[_ngcontent-%COMP%]   .acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(1){background-color:#28a745}.reporte-container[_ngcontent-%COMP%]   .acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(2){background-color:#dc3545}.reporte-container[_ngcontent-%COMP%]   .acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(3){background-color:#007bff}.reporte-container[_ngcontent-%COMP%]   .acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.9}.tabla-responsive[_ngcontent-%COMP%]{width:100%;overflow-x:auto}.tabla[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;min-width:600px;border-collapse:collapse;margin-top:1rem;font-size:.95rem}.tabla[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .tabla[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:.6rem;text-align:left}.tabla[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f1f1f1;font-weight:600}.tabla[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#fafafa}.tabla[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem;font-style:italic;color:#666}"]})};var T_=pd(rg());function AU(i,t){if(i&1&&(c(0,"option",17),p(1),l()),i&2){let e=t.$implicit;M("value",e),g(),Te(e)}}function IU(i,t){if(i&1&&(c(0,"tr")(1,"td"),p(2),l(),c(3,"td"),p(4),l(),c(5,"td"),p(6),l(),c(7,"td"),p(8),Kt(9,"number"),l(),c(10,"td"),p(11),l(),c(12,"td"),p(13),l(),c(14,"td"),p(15),l(),c(16,"td"),p(17),Kt(18,"number"),l()()),i&2){let e=t.$implicit;g(2),Te(e.codigoInventario),g(2),Te(e.nombre),g(2),Te(e.unidadMedida),g(2),Te(Dn(9,8,e.precioUnitario,"1.2-2")),g(3),Te(e.stockActual),g(2),Te(e.stockMinimo),g(2),Te(e.categoria||"-"),g(2),Te(Dn(18,11,e.precioUnitario*e.stockActual,"1.2-2"))}}function OU(i,t){if(i&1&&(c(0,"table")(1,"thead")(2,"tr")(3,"th"),p(4,"C\xF3digo"),l(),c(5,"th"),p(6,"Nombre"),l(),c(7,"th"),p(8,"Unidad"),l(),c(9,"th"),p(10,"Precio Unitario"),l(),c(11,"th"),p(12,"Stock"),l(),c(13,"th"),p(14,"Stock M\xEDnimo"),l(),c(15,"th"),p(16,"Categor\xEDa"),l(),c(17,"th"),p(18,"Valor Total"),l()()(),c(19,"tbody"),B(20,IU,19,14,"tr",18),l()()),i&2){let e=Q();g(20),M("ngForOf",e.materialesFiltrados)}}function FU(i,t){i&1&&(c(0,"p"),p(1,"No se encontraron materiales con los criterios especificados."),l())}var og=class i{constructor(t){this.materialService=t}materiales=[];materialesFiltrados=[];categoria="";soloBajoStock=!1;categorias=[];ngOnInit(){this.materialService.obtenerMateriales().subscribe(t=>{this.materiales=t,this.extraerCategorias(),this.filtrar()})}extraerCategorias(){let t=this.materiales.map(e=>e.categoria).filter(e=>typeof e=="string"&&e.trim()!=="");this.categorias=Array.from(new Set(t))}filtrar(){this.materialesFiltrados=this.materiales.filter(t=>{let e=!this.categoria||t.categoria===this.categoria,r=!this.soloBajoStock||t.stockActual<t.stockMinimo;return e&&r})}exportarExcel(){let t=this.materialesFiltrados.map(o=>({C\u00F3digo:o.codigoInventario,Nombre:o.nombre,Descripci\u00F3n:o.descripcion,Unidad:o.unidadMedida,Precio:o.precioUnitario,Stock:o.stockActual,"Stock M\xEDnimo":o.stockMinimo,Categor\u00EDa:o.categoria,"Valor Total":(o.precioUnitario*o.stockActual).toFixed(2)})),r={Sheets:{Materiales:Hn.json_to_sheet(t)},SheetNames:["Materiales"]},n=Uc(r,{bookType:"xlsx",type:"array"});T_.saveAs(new Blob([n],{type:"application/octet-stream"}),"reporte-materiales.xlsx")}exportarPDF(){let t=new oi;t.setFontSize(16),t.text("Reporte de Materiales",14,15);let e=this.materialesFiltrados.map(r=>[r.codigoInventario,r.nombre,r.unidadMedida,r.precioUnitario.toFixed(2),r.stockActual,r.stockMinimo,r.categoria||"",(r.precioUnitario*r.stockActual).toFixed(2)]);Qa(t,{startY:25,head:[["C\xF3digo","Nombre","Unidad","Precio Unit.","Stock","M\xEDnimo","Categor\xEDa","Valor Total"]],body:e,styles:{fontSize:10,cellPadding:3},headStyles:{fillColor:[46,204,113],textColor:[255,255,255],fontStyle:"bold"},alternateRowStyles:{fillColor:[245,245,245]},margin:{top:25},theme:"striped"}),t.save("reporte-materiales.pdf")}exportarHTML(){let t=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Reporte Materiales</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 20px; }
          h1 { color: #27ae60; border-bottom: 2px solid #2ecc71; padding-bottom: 10px; }
          table { width: 100%; border-collapse: collapse; margin-top: 20px; }
          th, td { padding: 10px; border-bottom: 1px solid #ccc; text-align: left; }
          th { background-color: #2ecc71; color: white; }
          tr:nth-child(even) { background-color: #f9f9f9; }
        </style>
      </head>
      <body>
        <h1>Reporte de Materiales</h1>
        <table>
          <thead>
            <tr>
              <th>C\xF3digo</th>
              <th>Nombre</th>
              <th>Unidad</th>
              <th>Precio Unitario</th>
              <th>Stock</th>
              <th>Stock M\xEDnimo</th>
              <th>Categor\xEDa</th>
              <th>Valor Total</th>
            </tr>
          </thead>
          <tbody>
            ${this.materialesFiltrados.map(r=>`
              <tr>
                <td>${r.codigoInventario}</td>
                <td>${r.nombre}</td>
                <td>${r.unidadMedida}</td>
                <td>${r.precioUnitario.toFixed(2)}</td>
                <td>${r.stockActual}</td>
                <td>${r.stockMinimo}</td>
                <td>${r.categoria||""}</td>
                <td>${(r.precioUnitario*r.stockActual).toFixed(2)}</td>
              </tr>
            `).join("")}
          </tbody>
        </table>
      </body>
      </html>
    `,e=new Blob([t],{type:"text/html;charset=utf-8"});T_.saveAs(e,"reporte-materiales.html")}static \u0275fac=function(e){return new(e||i)(ie(Vn))};static \u0275cmp=ot({type:i,selectors:[["app-material-reporte"]],standalone:!0,features:[st],decls:29,vars:5,consts:[[1,"reporte-container"],[1,"titulo-reporte"],[1,"formulario",3,"ngSubmit"],[1,"campo"],["for","categoria"],["id","categoria","name","categoria",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","stockBajo"],["type","checkbox","id","stockBajo","name","stockBajo",3,"ngModelChange","ngModel"],[1,"campo","boton-filtrar"],["type","submit"],[1,"acciones"],[3,"click"],[1,"tabla"],[1,"tabla-responsive"],[4,"ngIf"],[3,"value"],[4,"ngFor","ngForOf"]],template:function(e,r){e&1&&(c(0,"div",0)(1,"h2",1),p(2,"Reporte de Materiales"),l(),c(3,"form",2),H("ngSubmit",function(){return r.filtrar()}),c(4,"div",3)(5,"label",4),p(6,"Categor\xEDa"),l(),c(7,"select",5),pe("ngModelChange",function(o){return ue(r.categoria,o)||(r.categoria=o),o}),c(8,"option",6),p(9,"Todas"),l(),B(10,AU,2,2,"option",7),l()(),c(11,"div",3)(12,"label",8)(13,"input",9),pe("ngModelChange",function(o){return ue(r.soloBajoStock,o)||(r.soloBajoStock=o),o}),l(),p(14," Mostrar solo materiales con stock bajo "),l()(),c(15,"div",10)(16,"button",11),p(17,"Filtrar"),l()()(),c(18,"div",12)(19,"button",13),H("click",function(){return r.exportarExcel()}),p(20,"Exportar a Excel"),l(),c(21,"button",13),H("click",function(){return r.exportarPDF()}),p(22,"Exportar a PDF"),l(),c(23,"button",13),H("click",function(){return r.exportarHTML()}),p(24,"Exportar a HTML"),l()()(),c(25,"div",14)(26,"div",15),B(27,OU,21,1,"table",16)(28,FU,2,0,"p",16),l()()),e&2&&(g(7),de("ngModel",r.categoria),g(3),M("ngForOf",r.categorias),g(3),de("ngModel",r.soloBajoStock),g(14),M("ngIf",r.materialesFiltrados.length),g(),M("ngIf",!r.materialesFiltrados.length))},dependencies:[Mt,Qt,Fi,Ni,Pd,Ti,Pt,Jt,Tt,ei,ct,Bt,yt,cc],styles:[".reporte-container[_ngcontent-%COMP%]{padding:1.5rem;background:#f8f9fa;border-radius:10px;box-shadow:0 2px 8px #0000001a;margin-bottom:2rem}.reporte-container[_ngcontent-%COMP%]   .titulo-reporte[_ngcontent-%COMP%]{margin-bottom:1rem;font-size:1.5rem;color:#333}.reporte-container[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:1rem}.reporte-container[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .campo[_ngcontent-%COMP%]{display:flex;flex-direction:column}.reporte-container[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .campo[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:.25rem;font-weight:500;color:#555}.reporte-container[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .campo[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .reporte-container[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .campo[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.4rem;border:1px solid #ccc;border-radius:5px}.reporte-container[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .boton-filtrar[_ngcontent-%COMP%]{display:flex;align-items:flex-end}.reporte-container[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .boton-filtrar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem 1rem;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer}.reporte-container[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .boton-filtrar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.reporte-container[_ngcontent-%COMP%]   .acciones[_ngcontent-%COMP%]{margin-top:1.5rem}.reporte-container[_ngcontent-%COMP%]   .acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:1rem;padding:.5rem 1rem;border:none;border-radius:5px;color:#fff;cursor:pointer;background-color:#28a745;transition:background-color .3s ease,opacity .2s}.reporte-container[_ngcontent-%COMP%]   .acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(1){background-color:#28a745}.reporte-container[_ngcontent-%COMP%]   .acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(2){background-color:#dc3545}.reporte-container[_ngcontent-%COMP%]   .acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(3){background-color:#007bff}.reporte-container[_ngcontent-%COMP%]   .acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.9}.tabla-responsive[_ngcontent-%COMP%]{width:100%;overflow-x:auto}.tabla[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;min-width:600px;border-collapse:collapse;margin-top:1rem;font-size:.95rem}.tabla[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .tabla[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:.6rem;text-align:left}.tabla[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f1f1f1;font-weight:600}.tabla[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#fafafa}.tabla[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem;font-style:italic;color:#666}"]})};var NU=(i,t,e,r)=>({"bg-primary text-white":i,"bg-info text-dark":t,"bg-success text-white":e,"bg-secondary text-white":r}),LU=(i,t)=>({"text-success":i,"text-danger":t});function DU(i,t){if(i&1){let e=Je();c(0,"div",14)(1,"div",15)(2,"h3"),Ee(3,"i",16),p(4," Confirmaci\xF3n "),l(),c(5,"p",17),p(6,"\xBFEst\xE1s seguro de eliminar este proveedor?"),l(),c(7,"div",18)(8,"button",19),H("click",function(){N(e);let n=Q();return D(n.eliminarProveedorConfirmado())}),Ee(9,"i",20),p(10," Confirmar "),l(),c(11,"button",21),H("click",function(){N(e);let n=Q();return D(n.cerrarModal())}),Ee(12,"i",22),p(13," Cancelar "),l()()()()}}function RU(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),p(2),l(),c(3,"td"),p(4),l(),c(5,"td"),p(6),Ee(7,"br"),p(8),l(),c(9,"td"),p(10),l(),c(11,"td"),p(12),Ee(13,"br"),p(14),l(),c(15,"td"),p(16),l(),c(17,"td")(18,"span",23),p(19),l()(),c(20,"td")(21,"span",24),p(22),l()(),c(23,"td")(24,"button",25),H("click",function(){let n,o=N(e).$implicit,a=Q();return D(a.irAEditarProveedor((n=o.id)!==null&&n!==void 0?n:0))}),Ee(25,"i",26),p(26," Editar "),l(),c(27,"button",27),H("click",function(){let n,o=N(e).$implicit,a=Q();return D(a.confirmarEliminarProveedor((n=o.id)!==null&&n!==void 0?n:0))}),Ee(28,"i",28),p(29," Eliminar "),l()()()}if(i&2){let e=t.$implicit;g(2),Te(e.nombreCompleto),g(2),Te(e.nitCi),g(2),Te(e.telefono||"N/A"),g(2),Te(e.correo||"N/A"),g(2),Te(e.direccion||"N/A"),g(2),Te(e.ciudad||"N/A"),g(2),Te(e.pais||"N/A"),g(2),Te(e.empresa||"N/A"),g(2),M("ngClass",Wa(12,NU,e.tipoProveedor==="MATERIAL",e.tipoProveedor==="EQUIPO",e.tipoProveedor==="SERVICIO",e.tipoProveedor==="OTROS")),g(),Ke(" ",e.tipoProveedor==null?null:e.tipoProveedor.toLowerCase()," "),g(2),M("ngClass",A2(17,LU,e.estado==="Activo",e.estado==="Inactivo")),g(),Ke(" ",e.estado," ")}}var ag=class i{constructor(t,e,r,n){this.proveedorService=t;this.router=e;this.filterService=r;this.paginationService=n}proveedores=[];proveedoresFiltrados=[];proveedoresPaginados=[];textoBusqueda="";estadoSeleccionado="Todos";paginaActual=1;elementosPorPagina=5;totalPaginas=0;mostrarModal=!1;proveedorAEliminarId=null;ngOnInit(){this.obtenerProveedores()}obtenerProveedores(){this.proveedorService.obtenerProveedores().subscribe(t=>{console.log("Proveedores",t),this.proveedores=t,this.aplicarFiltros()})}eliminarProveedor(t){this.proveedorService.eliminarProveedor(t).subscribe(()=>{this.obtenerProveedores()})}irACrearProveedor(){this.router.navigate(["/proveedor-create"])}irAEditarProveedor(t){this.router.navigate([`/proveedor-update/${t}`])}confirmarEliminarProveedor(t){this.proveedorAEliminarId=t,this.mostrarModal=!0}eliminarProveedorConfirmado(){this.proveedorAEliminarId!==null&&(this.eliminarProveedor(this.proveedorAEliminarId),this.cerrarModal())}cerrarModal(){this.mostrarModal=!1,this.proveedorAEliminarId=null}aplicarFiltros(){let t=[...this.proveedores];t=this.filterService.filtrar(t,this.textoBusqueda),this.estadoSeleccionado!=="Todos"&&(t=t.filter(e=>e.estado===this.estadoSeleccionado)),this.proveedoresFiltrados=t,this.paginaActual=1,this.calcularPaginacion()}calcularPaginacion(){let t=this.paginationService.paginate(this.proveedoresFiltrados,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.proveedoresPaginados=t.paginatedData}cambiarPagina(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarProveedoresPaginados()}actualizarProveedoresPaginados(){let t=this.paginationService.paginate(this.proveedoresFiltrados,this.paginaActual,this.elementosPorPagina);this.proveedoresPaginados=t.paginatedData}static \u0275fac=function(e){return new(e||i)(ie(go),ie(ht),ie(zi),ie(Yi))};static \u0275cmp=ot({type:i,selectors:[["app-proveedor"]],standalone:!0,features:[st],decls:47,vars:8,consts:[["class","modal",4,"ngIf"],[1,"row-filtros"],[1,"input-busqueda"],[1,"fa","fa-search"],["type","text","placeholder","Buscar proveedores...",3,"ngModelChange","input","ngModel"],[3,"ngModelChange","change","ngModel"],["value","Todos"],["value","Activo"],["value","Inactivo"],[1,"btn-crear",3,"click"],[1,"fa","fa-plus"],[4,"ngFor","ngForOf"],[1,"paginacion"],[3,"click","disabled"],[1,"modal"],[1,"modal-content","animate"],[1,"fa","fa-exclamation-triangle","text-warning"],[1,"modal-message"],[1,"modal-buttons"],[1,"btn-confirmar",3,"click"],[1,"fa","fa-check"],[1,"btn-cancelar",3,"click"],[1,"fa","fa-times"],[1,"badge","rounded-pill",3,"ngClass"],[3,"ngClass"],[1,"btn-editar",3,"click"],[1,"fa","fa-edit"],[1,"btn-eliminar",3,"click"],[1,"fa","fa-trash"]],template:function(e,r){e&1&&(B(0,DU,14,0,"div",0),c(1,"h2"),p(2,"Gesti\xF3n de Proveedores"),l(),c(3,"div",1)(4,"div",2),Ee(5,"i",3),c(6,"input",4),pe("ngModelChange",function(o){return ue(r.textoBusqueda,o)||(r.textoBusqueda=o),o}),H("input",function(){return r.aplicarFiltros()}),l()(),c(7,"select",5),pe("ngModelChange",function(o){return ue(r.estadoSeleccionado,o)||(r.estadoSeleccionado=o),o}),H("change",function(){return r.aplicarFiltros()}),c(8,"option",6),p(9,"Todos los estados"),l(),c(10,"option",7),p(11,"Activo"),l(),c(12,"option",8),p(13,"Inactivo"),l()(),c(14,"button",9),H("click",function(){return r.irACrearProveedor()}),Ee(15,"i",10),p(16," Nuevo Proveedor "),l()(),c(17,"table")(18,"thead")(19,"tr")(20,"th"),p(21,"Nombre"),l(),c(22,"th"),p(23,"NIT/CI"),l(),c(24,"th"),p(25,"Tel\xE9fono/Correo"),l(),c(26,"th"),p(27,"Direcci\xF3n"),l(),c(28,"th"),p(29,"Ciudad/Pa\xEDs"),l(),c(30,"th"),p(31,"Empresa"),l(),c(32,"th"),p(33,"Tipo"),l(),c(34,"th"),p(35,"Estado"),l(),c(36,"th"),p(37,"Acciones"),l()()(),c(38,"tbody"),B(39,RU,30,20,"tr",11),l()(),c(40,"div",12)(41,"button",13),H("click",function(){return r.cambiarPagina("previous")}),p(42," \u2190 Anterior "),l(),c(43,"span"),p(44),l(),c(45,"button",13),H("click",function(){return r.cambiarPagina("next")}),p(46," Siguiente \u2192 "),l()()),e&2&&(M("ngIf",r.mostrarModal),g(6),de("ngModel",r.textoBusqueda),g(),de("ngModel",r.estadoSeleccionado),g(32),M("ngForOf",r.proveedoresPaginados),g(2),M("disabled",r.paginaActual===1),g(3),Di("P\xE1gina ",r.paginaActual," de ",r.totalPaginas,""),g(),M("disabled",r.paginaActual===r.totalPaginas))},dependencies:[ct,Rn,Bt,yt,ji,Mt,Fi,Ni,kt,Ti,Pt,Tt],styles:['@charset "UTF-8";.row-filtros[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;gap:10px;margin-bottom:20px}.row-filtros[_ngcontent-%COMP%]   .input-busqueda[_ngcontent-%COMP%]{position:relative}.row-filtros[_ngcontent-%COMP%]   .input-busqueda[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:50%;left:12px;transform:translateY(-50%);color:#888}.row-filtros[_ngcontent-%COMP%]   .input-busqueda[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px 12px 10px 35px;border:1px solid #ccc;border-radius:6px;font-size:14px;width:250px}.row-filtros[_ngcontent-%COMP%]   .input-busqueda[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#2196f3;outline:none;box-shadow:0 0 0 2px #2196f333}.row-filtros[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:10px;border:1px solid #ccc;border-radius:6px;font-size:14px;width:180px}.row-filtros[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#2196f3}.row-filtros[_ngcontent-%COMP%]   .btn-crear[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;border:none;padding:10px 16px;border-radius:6px;font-size:14px;display:flex;align-items:center;gap:6px}.row-filtros[_ngcontent-%COMP%]   .btn-crear[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.row-filtros[_ngcontent-%COMP%]   .btn-crear[_ngcontent-%COMP%]:hover{background-color:#218838}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;box-shadow:0 2px 5px #0000000d;border-radius:8px;overflow:hidden;margin-top:10px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;text-align:left;border-bottom:1px solid #e0e0e0}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f9f9f9;font-weight:700;color:#333}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f1f5f9;transition:background-color .3s}button[_ngcontent-%COMP%]{cursor:pointer;border:none;border-radius:6px;padding:8px 14px;font-size:14px;transition:all .3s ease;margin-right:6px;display:inline-flex;align-items:center;gap:6px}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:15px}.btn-editar[_ngcontent-%COMP%]{background-color:#2196f3;color:#fff}.btn-editar[_ngcontent-%COMP%]:hover{background-color:#0b7dda}.btn-eliminar[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.btn-eliminar[_ngcontent-%COMP%]:hover{background-color:#c62828}.modal[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;inset:0;background-color:#00000073;z-index:1000}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:10px;width:90%;max-width:400px;text-align:center;box-shadow:0 12px 24px #00000026;animation:_ngcontent-%COMP%_fadeZoom .25s ease-out}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;margin-bottom:12px;color:#2c3e50}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-message[_ngcontent-%COMP%]{font-size:15px;color:#555;margin-bottom:20px}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px}.btn-confirmar[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.btn-confirmar[_ngcontent-%COMP%]:hover{background-color:#218838}.btn-cancelar[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.btn-cancelar[_ngcontent-%COMP%]:hover{background-color:#c82333}@keyframes _ngcontent-%COMP%_fadeZoom{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.paginacion[_ngcontent-%COMP%]{margin-top:25px;display:flex;justify-content:center;align-items:center;gap:16px}.paginacion[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 18px;background-color:#f0f0f0}.paginacion[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#dedede}.paginacion[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.paginacion[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;color:#666}@media (max-width: 768px){.row-filtros[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.input-busqueda[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], .btn-crear[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%]{font-size:13px}.modal-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:10px}.modal-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}']})};function BU(i,t){i&1&&(c(0,"small"),p(1,"Campo obligatorio."),l())}function UU(i,t){i&1&&(c(0,"small"),p(1,"Debe tener al menos 2 caracteres."),l())}function VU(i,t){if(i&1&&(c(0,"div",33),B(1,BU,2,0,"small",34)(2,UU,2,0,"small",34),l()),i&2){Q();let e=ae(9);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function qU(i,t){i&1&&(c(0,"small"),p(1,"Campo obligatorio."),l())}function jU(i,t){if(i&1&&(c(0,"div",33),B(1,qU,2,0,"small",34),l()),i&2){Q();let e=ae(15);g(),M("ngIf",e.errors==null?null:e.errors.required)}}function zU(i,t){if(i&1&&(c(0,"option",35),p(1),l()),i&2){let e=t.$implicit;M("value",e),g(),Te(e)}}function WU(i,t){i&1&&(c(0,"small"),p(1,"Campo obligatorio."),l())}function HU(i,t){if(i&1&&(c(0,"div",33),B(1,WU,2,0,"small",34),l()),i&2){Q();let e=ae(45);g(),M("ngIf",e.errors==null?null:e.errors.required)}}function GU(i,t){if(i&1&&(c(0,"option",35),p(1),l()),i&2){let e=t.$implicit;M("value",e),g(),Te(e)}}function $U(i,t){i&1&&(c(0,"small"),p(1,"Campo obligatorio."),l())}function XU(i,t){if(i&1&&(c(0,"div",33),B(1,$U,2,0,"small",34),l()),i&2){Q();let e=ae(52);g(),M("ngIf",e.errors==null?null:e.errors.required)}}var sg=class i{constructor(t,e){this.proveedorService=t;this.router=e}proveedor={nombreCompleto:"",nitCi:"",telefono:"",correo:"",direccion:"",ciudad:"",pais:"",empresa:"",tipoProveedor:"MATERIAL",estado:"Activo"};estados=["Activo","Inactivo"];tiposProveedor=["MATERIAL","EQUIPO","SERVICIO","OTROS"];ngOnInit(){}crearProveedor(){let t=lt({},this.proveedor);delete t.id,console.log("Enviando proveedor:",t),this.proveedorService.crearProveedor(t).subscribe({next:()=>{this.router.navigate(["/proveedor"])},error:e=>{console.error("Error al guardar proveedor:",e),e.status===400&&e.error==="Ya existe un proveedor con ese NIT/CI."?alert("\u26A0\uFE0F Ya existe un proveedor con ese NIT/CI."):alert("\u274C Error inesperado al guardar el proveedor.")}})}cancelar(){this.router.navigate(["/proveedor"])}static \u0275fac=function(e){return new(e||i)(ie(go),ie(ht))};static \u0275cmp=ot({type:i,selectors:[["app-proveedor-create"]],standalone:!0,features:[st],decls:60,vars:17,consts:[["proveedorForm","ngForm"],["nombreCompleto","ngModel"],["nitCi","ngModel"],["tipoProveedor","ngModel"],["estado","ngModel"],[1,"form-container"],[3,"ngSubmit"],[1,"form-group"],["for","nombreCompleto"],["id","nombreCompleto","type","text","name","nombreCompleto","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","nitCi"],["id","nitCi","type","text","name","nitCi","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","telefono"],["id","telefono","type","text","name","telefono",1,"form-control",3,"ngModelChange","ngModel"],["for","correo"],["id","correo","type","email","name","correo",1,"form-control",3,"ngModelChange","ngModel"],["for","direccion"],["id","direccion","type","text","name","direccion",1,"form-control",3,"ngModelChange","ngModel"],["for","ciudad"],["id","ciudad","type","text","name","ciudad",1,"form-control",3,"ngModelChange","ngModel"],["for","pais"],["id","pais","type","text","name","pais",1,"form-control",3,"ngModelChange","ngModel"],["for","empresa"],["id","empresa","type","text","name","empresa",1,"form-control",3,"ngModelChange","ngModel"],["for","tipoProveedor"],["id","tipoProveedor","name","tipoProveedor","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","estado"],["id","estado","name","estado","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"button-container"],["type","submit",1,"submit-btn",3,"disabled"],["type","button",1,"cancel-btn",3,"click"],[1,"error-message"],[4,"ngIf"],[3,"value"]],template:function(e,r){if(e&1){let n=Je();c(0,"div",5)(1,"h2"),p(2,"Registrar Proveedor"),l(),c(3,"form",6,0),H("ngSubmit",function(){return N(n),D(r.crearProveedor())}),c(5,"div",7)(6,"label",8),p(7,"Nombre Completo:"),l(),c(8,"input",9,1),pe("ngModelChange",function(a){return N(n),ue(r.proveedor.nombreCompleto,a)||(r.proveedor.nombreCompleto=a),D(a)}),l(),B(10,VU,3,2,"div",10),l(),c(11,"div",7)(12,"label",11),p(13,"NIT/CI:"),l(),c(14,"input",12,2),pe("ngModelChange",function(a){return N(n),ue(r.proveedor.nitCi,a)||(r.proveedor.nitCi=a),D(a)}),l(),B(16,jU,2,1,"div",10),l(),c(17,"div",7)(18,"label",13),p(19,"Tel\xE9fono:"),l(),c(20,"input",14),pe("ngModelChange",function(a){return N(n),ue(r.proveedor.telefono,a)||(r.proveedor.telefono=a),D(a)}),l()(),c(21,"div",7)(22,"label",15),p(23,"Correo:"),l(),c(24,"input",16),pe("ngModelChange",function(a){return N(n),ue(r.proveedor.correo,a)||(r.proveedor.correo=a),D(a)}),l()(),c(25,"div",7)(26,"label",17),p(27,"Direcci\xF3n:"),l(),c(28,"input",18),pe("ngModelChange",function(a){return N(n),ue(r.proveedor.direccion,a)||(r.proveedor.direccion=a),D(a)}),l()(),c(29,"div",7)(30,"label",19),p(31,"Ciudad:"),l(),c(32,"input",20),pe("ngModelChange",function(a){return N(n),ue(r.proveedor.ciudad,a)||(r.proveedor.ciudad=a),D(a)}),l()(),c(33,"div",7)(34,"label",21),p(35,"Pa\xEDs:"),l(),c(36,"input",22),pe("ngModelChange",function(a){return N(n),ue(r.proveedor.pais,a)||(r.proveedor.pais=a),D(a)}),l()(),c(37,"div",7)(38,"label",23),p(39,"Empresa:"),l(),c(40,"input",24),pe("ngModelChange",function(a){return N(n),ue(r.proveedor.empresa,a)||(r.proveedor.empresa=a),D(a)}),l()(),c(41,"div",7)(42,"label",25),p(43,"Tipo proveedor:"),l(),c(44,"select",26,3),pe("ngModelChange",function(a){return N(n),ue(r.proveedor.tipoProveedor,a)||(r.proveedor.tipoProveedor=a),D(a)}),B(46,zU,2,2,"option",27),l(),B(47,HU,2,1,"div",10),l(),c(48,"div",7)(49,"label",28),p(50,"Estado:"),l(),c(51,"select",29,4),pe("ngModelChange",function(a){return N(n),ue(r.proveedor.estado,a)||(r.proveedor.estado=a),D(a)}),B(53,GU,2,2,"option",27),l(),B(54,XU,2,1,"div",10),l(),c(55,"div",30)(56,"button",31),p(57," Crear "),l(),c(58,"button",32),H("click",function(){return N(n),D(r.cancelar())}),p(59," Cancelar "),l()()()()}if(e&2){let n=ae(4),o=ae(9),a=ae(15),d=ae(45),u=ae(52);g(8),de("ngModel",r.proveedor.nombreCompleto),g(2),M("ngIf",o.invalid&&(o.dirty||o.touched)),g(4),de("ngModel",r.proveedor.nitCi),g(2),M("ngIf",a.invalid&&(a.dirty||a.touched)),g(4),de("ngModel",r.proveedor.telefono),g(4),de("ngModel",r.proveedor.correo),g(4),de("ngModel",r.proveedor.direccion),g(4),de("ngModel",r.proveedor.ciudad),g(4),de("ngModel",r.proveedor.pais),g(4),de("ngModel",r.proveedor.empresa),g(4),de("ngModel",r.proveedor.tipoProveedor),g(2),M("ngForOf",r.tiposProveedor),g(),M("ngIf",d.invalid&&(d.dirty||d.touched)),g(4),de("ngModel",r.proveedor.estado),g(2),M("ngForOf",r.estados),g(),M("ngIf",u.invalid&&(u.dirty||u.touched)),g(2),M("disabled",n.invalid)}},dependencies:[Mt,Qt,Fi,Ni,kt,Ti,Pt,Jt,ri,xi,Tt,ei,ct,Bt,yt],styles:[".form-container[_ngcontent-%COMP%]{max-width:500px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:14px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.error-message[_ngcontent-%COMP%]{color:red;font-size:14px;margin-top:5px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{width:48%;padding:10px;font-size:16px;border-radius:4px;cursor:pointer}.submit-btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;border:none}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6;cursor:not-allowed}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#218838}.cancel-btn[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})};function ZU(i,t){i&1&&(c(0,"small"),p(1,"Campo obligatorio."),l())}function YU(i,t){i&1&&(c(0,"small"),p(1,"Debe tener al menos 2 caracteres."),l())}function KU(i,t){if(i&1&&(c(0,"div",33),B(1,ZU,2,0,"small",34)(2,YU,2,0,"small",34),l()),i&2){Q();let e=ae(9);g(),M("ngIf",e.errors==null?null:e.errors.required),g(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function JU(i,t){i&1&&(c(0,"small"),p(1,"Campo obligatorio."),l())}function QU(i,t){if(i&1&&(c(0,"div",33),B(1,JU,2,0,"small",34),l()),i&2){Q();let e=ae(15);g(),M("ngIf",e.errors==null?null:e.errors.required)}}function eV(i,t){if(i&1&&(c(0,"option",35),p(1),l()),i&2){let e=t.$implicit;M("value",e),g(),Te(e)}}function tV(i,t){i&1&&(c(0,"small"),p(1,"Campo obligatorio."),l())}function iV(i,t){if(i&1&&(c(0,"div",33),B(1,tV,2,0,"small",34),l()),i&2){Q();let e=ae(45);g(),M("ngIf",e.errors==null?null:e.errors.required)}}function rV(i,t){if(i&1&&(c(0,"option",35),p(1),l()),i&2){let e=t.$implicit;M("value",e),g(),Te(e)}}function nV(i,t){i&1&&(c(0,"small"),p(1,"Campo obligatorio."),l())}function oV(i,t){if(i&1&&(c(0,"div",33),B(1,nV,2,0,"small",34),l()),i&2){Q();let e=ae(52);g(),M("ngIf",e.errors==null?null:e.errors.required)}}var lg=class i{constructor(t,e,r){this.route=t;this.router=e;this.proveedorService=r}proveedor={nombreCompleto:"",nitCi:"",telefono:"",correo:"",direccion:"",ciudad:"",pais:"",empresa:"",tipoProveedor:"MATERIAL",estado:"Activo"};estados=["Activo","Inactivo"];id;tiposProveedor=["MATERIAL","EQUIPO","SERVICIO","OTROS"];ngOnInit(){this.id=Number(this.route.snapshot.paramMap.get("id")),this.obtenerProveedorPorId(this.id)}obtenerProveedorPorId(t){this.proveedorService.obtenerProveedorPorId(t).subscribe(e=>{this.proveedor=e})}actualizarProveedor(){this.proveedorService.actualizarProveedor(this.id,this.proveedor).subscribe(()=>{this.router.navigate(["/proveedor"])})}cancelar(){this.router.navigate(["/proveedor"])}static \u0275fac=function(e){return new(e||i)(ie(Vi),ie(ht),ie(go))};static \u0275cmp=ot({type:i,selectors:[["app-proveedor-update"]],standalone:!0,features:[st],decls:60,vars:17,consts:[["proveedorForm","ngForm"],["nombreCompleto","ngModel"],["nitCi","ngModel"],["tipoProveedor","ngModel"],["estado","ngModel"],[1,"form-container"],[3,"ngSubmit"],[1,"form-group"],["for","nombreCompleto"],["id","nombreCompleto","type","text","name","nombreCompleto","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","nitCi"],["id","nitCi","type","text","name","nitCi","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","telefono"],["id","telefono","type","text","name","telefono",1,"form-control",3,"ngModelChange","ngModel"],["for","correo"],["id","correo","type","email","name","correo",1,"form-control",3,"ngModelChange","ngModel"],["for","direccion"],["id","direccion","type","text","name","direccion",1,"form-control",3,"ngModelChange","ngModel"],["for","ciudad"],["id","ciudad","type","text","name","ciudad",1,"form-control",3,"ngModelChange","ngModel"],["for","pais"],["id","pais","type","text","name","pais",1,"form-control",3,"ngModelChange","ngModel"],["for","empresa"],["id","empresa","type","text","name","empresa",1,"form-control",3,"ngModelChange","ngModel"],["for","tipoProveedor"],["id","tipoProveedor","name","tipoProveedor","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","estado"],["id","estado","name","estado","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"button-container"],["type","submit",1,"submit-btn",3,"disabled"],["type","button",1,"cancel-btn",3,"click"],[1,"error-message"],[4,"ngIf"],[3,"value"]],template:function(e,r){if(e&1){let n=Je();c(0,"div",5)(1,"h2"),p(2,"Actualizar Proveedor"),l(),c(3,"form",6,0),H("ngSubmit",function(){return N(n),D(r.actualizarProveedor())}),c(5,"div",7)(6,"label",8),p(7,"Nombre Completo:"),l(),c(8,"input",9,1),pe("ngModelChange",function(a){return N(n),ue(r.proveedor.nombreCompleto,a)||(r.proveedor.nombreCompleto=a),D(a)}),l(),B(10,KU,3,2,"div",10),l(),c(11,"div",7)(12,"label",11),p(13,"NIT/CI:"),l(),c(14,"input",12,2),pe("ngModelChange",function(a){return N(n),ue(r.proveedor.nitCi,a)||(r.proveedor.nitCi=a),D(a)}),l(),B(16,QU,2,1,"div",10),l(),c(17,"div",7)(18,"label",13),p(19,"Tel\xE9fono:"),l(),c(20,"input",14),pe("ngModelChange",function(a){return N(n),ue(r.proveedor.telefono,a)||(r.proveedor.telefono=a),D(a)}),l()(),c(21,"div",7)(22,"label",15),p(23,"Correo:"),l(),c(24,"input",16),pe("ngModelChange",function(a){return N(n),ue(r.proveedor.correo,a)||(r.proveedor.correo=a),D(a)}),l()(),c(25,"div",7)(26,"label",17),p(27,"Direcci\xF3n:"),l(),c(28,"input",18),pe("ngModelChange",function(a){return N(n),ue(r.proveedor.direccion,a)||(r.proveedor.direccion=a),D(a)}),l()(),c(29,"div",7)(30,"label",19),p(31,"Ciudad:"),l(),c(32,"input",20),pe("ngModelChange",function(a){return N(n),ue(r.proveedor.ciudad,a)||(r.proveedor.ciudad=a),D(a)}),l()(),c(33,"div",7)(34,"label",21),p(35,"Pa\xEDs:"),l(),c(36,"input",22),pe("ngModelChange",function(a){return N(n),ue(r.proveedor.pais,a)||(r.proveedor.pais=a),D(a)}),l()(),c(37,"div",7)(38,"label",23),p(39,"Empresa:"),l(),c(40,"input",24),pe("ngModelChange",function(a){return N(n),ue(r.proveedor.empresa,a)||(r.proveedor.empresa=a),D(a)}),l()(),c(41,"div",7)(42,"label",25),p(43,"Tipo proveedor:"),l(),c(44,"select",26,3),pe("ngModelChange",function(a){return N(n),ue(r.proveedor.tipoProveedor,a)||(r.proveedor.tipoProveedor=a),D(a)}),B(46,eV,2,2,"option",27),l(),B(47,iV,2,1,"div",10),l(),c(48,"div",7)(49,"label",28),p(50,"Estado:"),l(),c(51,"select",29,4),pe("ngModelChange",function(a){return N(n),ue(r.proveedor.estado,a)||(r.proveedor.estado=a),D(a)}),B(53,rV,2,2,"option",27),l(),B(54,oV,2,1,"div",10),l(),c(55,"div",30)(56,"button",31),p(57," Actualizar "),l(),c(58,"button",32),H("click",function(){return N(n),D(r.cancelar())}),p(59," Cancelar "),l()()()()}if(e&2){let n=ae(4),o=ae(9),a=ae(15),d=ae(45),u=ae(52);g(8),de("ngModel",r.proveedor.nombreCompleto),g(2),M("ngIf",o.invalid&&(o.dirty||o.touched)),g(4),de("ngModel",r.proveedor.nitCi),g(2),M("ngIf",a.invalid&&(a.dirty||a.touched)),g(4),de("ngModel",r.proveedor.telefono),g(4),de("ngModel",r.proveedor.correo),g(4),de("ngModel",r.proveedor.direccion),g(4),de("ngModel",r.proveedor.ciudad),g(4),de("ngModel",r.proveedor.pais),g(4),de("ngModel",r.proveedor.empresa),g(4),de("ngModel",r.proveedor.tipoProveedor),g(2),M("ngForOf",r.tiposProveedor),g(),M("ngIf",d.invalid&&(d.dirty||d.touched)),g(4),de("ngModel",r.proveedor.estado),g(2),M("ngForOf",r.estados),g(),M("ngIf",u.invalid&&(u.dirty||u.touched)),g(2),M("disabled",n.invalid)}},dependencies:[ct,Bt,yt,Mt,Qt,Fi,Ni,kt,Ti,Pt,Jt,ri,xi,Tt,ei],styles:[".form-container[_ngcontent-%COMP%]{max-width:500px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:14px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.error-message[_ngcontent-%COMP%]{color:red;font-size:14px;margin-top:5px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{width:48%;padding:10px;font-size:16px;border-radius:4px;cursor:pointer}.submit-btn[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.cancel-btn[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})};var aV=(i,t,e)=>({"badge bg-success":i,"badge bg-warning":t,"badge bg-danger":e});function sV(i,t){if(i&1&&Ee(0,"google-chart",40),i&2){let e=Q(2);M("type",e.chart.type)("data",e.chart.data)("columns",e.chart.columns)("options",e.chart.options)("dynamicResize",!0)}}function lV(i,t){i&1&&(c(0,"div",41),Ee(1,"i",42),c(2,"p",43),p(3," Genera un reporte para visualizar el gr\xE1fico "),l()())}function cV(i,t){if(i&1&&(c(0,"tr")(1,"td"),p(2),l(),c(3,"td"),p(4),Kt(5,"date"),l(),c(6,"td"),p(7),l(),c(8,"td"),p(9),l(),c(10,"td",44),p(11),Kt(12,"currency"),l(),c(13,"td")(14,"span",45),p(15),l()()()),i&2){let e=t.$implicit;g(2),Te(e.numeroCompra),g(2),Te(Dn(5,7,e.fecha,"dd/MM/yyyy")),g(3),Te(e.proveedor.nombreCompleto),g(2),Te(e.proveedor.tipoProveedor),g(2),Te(bi(12,10,e.total)),g(3),M("ngClass",cf(12,aV,e.estadoCompra==="APROBADO",e.estadoCompra==="PENDIENTE",e.estadoCompra==="CANCELADA")),g(),Ke(" ",e.estadoCompra," ")}}function dV(i,t){if(i&1&&(c(0,"div")(1,"div",26)(2,"div",27)(3,"div",28)(4,"div",29)(5,"h6"),p(6,"Total Gastado"),l(),c(7,"h3",30),p(8),Kt(9,"currency"),l()()()(),c(10,"div",27)(11,"div",28)(12,"div",29)(13,"h6"),p(14,"Compras Aprobadas"),l(),c(15,"h3",31),p(16),l()()()(),c(17,"div",27)(18,"div",28)(19,"div",29)(20,"h6"),p(21,"Compras Canceladas"),l(),c(22,"h3",32),p(23),l()()()()(),c(24,"div",33),B(25,sV,1,5,"google-chart",34)(26,lV,4,0,"div",35),l(),c(27,"div",36)(28,"table",37)(29,"thead",38)(30,"tr")(31,"th"),p(32,"N\xB0 Compra"),l(),c(33,"th"),p(34,"Fecha"),l(),c(35,"th"),p(36,"Proveedor"),l(),c(37,"th"),p(38,"Tipo"),l(),c(39,"th"),p(40,"Total"),l(),c(41,"th"),p(42,"Estado"),l()()(),c(43,"tbody"),B(44,cV,16,16,"tr",39),l()()()()),i&2){let e=Q();g(8),Ke(" ",bi(9,6,e.resumen.totalGastado)," "),g(8),Ke(" ",e.resumen.comprasAprobadas," "),g(7),Ke(" ",e.resumen.comprasCanceladas," "),g(2),M("ngIf",e.reporteGenerado&&e.chart.data.length>0),g(),M("ngIf",!e.reporteGenerado),g(18),M("ngForOf",e.comprasFiltradas)}}var cg=class i{constructor(t){this.compraService=t}type=vr.PieChart;filtros={fechaInicio:"",fechaFin:"",tipo:"",estado:""};resumen={totalGastado:0,comprasAprobadas:0,comprasCanceladas:0};comprasFiltradas=[];reporteGenerado=!1;graficoData=[["Tipo","Monto"],["Materiales",0],["Equipos",0],["Servicios",0]];chart={title:"Distribuci\xF3n de Compras por Tipo",type:vr.PieChart,data:[],columns:[{type:"string",label:"Tipo"},{type:"number",label:"Monto"}],options:{title:"Distribuci\xF3n de Compras por Tipo",width:"100%",height:400,pieHole:.4,colors:["#4285F4","#34A853","#FBBC05"],backgroundColor:"transparent",chartArea:{left:"5%",top:"15%",width:"90%",height:"80%"},legend:{position:"right",alignment:"center",textStyle:{color:"#333",fontSize:12}}}};chartReady=!1;ngOnInit(){this.chart.data=[["Materiales",0],["Equipos",0],["Servicios",0]]}loadGoogleCharts(){typeof google<"u"?(google.charts.load("current",{packages:["corechart"]}),google.charts.setOnLoadCallback(()=>{this.chartReady=!0,console.log("Google Charts cargado correctamente")})):console.error("Google Charts no se ha cargado correctamente")}generarReporte(){this.compraService.getComprasConFiltros(this.filtros).subscribe({next:t=>{this.comprasFiltradas=t.content,console.log("Datos recibidos:",this.comprasFiltradas),this.calcularResumen(),this.actualizarDatosGrafico(),this.reporteGenerado=!0,console.log("Datos del gr\xE1fico:",this.chart.data)},error:t=>{console.error("Error al generar reporte:",t)}})}calcularResumen(){this.resumen={totalGastado:this.comprasFiltradas.reduce((t,e)=>t+e.total,0),comprasAprobadas:this.comprasFiltradas.filter(t=>t.estadoCompra==="APROBADO").length,comprasCanceladas:this.comprasFiltradas.filter(t=>t.estadoCompra==="CANCELADA").length}}actualizarDatosGrafico(){let t=Number(this.comprasFiltradas.filter(n=>n.proveedor.tipoProveedor==="MATERIAL").reduce((n,o)=>n+Number(o.total),0)),e=Number(this.comprasFiltradas.filter(n=>n.proveedor.tipoProveedor==="EQUIPO").reduce((n,o)=>n+Number(o.total),0)),r=Number(this.comprasFiltradas.filter(n=>n.proveedor.tipoProveedor==="SERVICIO").reduce((n,o)=>n+Number(o.total),0));this.chart.data=[["Materiales",t],["Equipos",e],["Servicios",r]],this.chart=lt({},this.chart)}exportarPDF(){let t=new oi;t.setFontSize(18),t.text("Reporte de Compras",15,15),t.setFontSize(12),t.text(`Total Gastado: $${this.resumen.totalGastado}`,15,25),t.text(`Compras Aprobadas: ${this.resumen.comprasAprobadas}`,15,35),t.text(`Compras Canceladas: ${this.resumen.comprasCanceladas}`,15,45),Qa(t,{head:[["N\xB0 Compra","Fecha","Proveedor","Total","Estado"]],body:this.comprasFiltradas.map(e=>[e.numeroCompra,new Date(e.fecha).toLocaleDateString(),e.proveedor.nombreCompleto,`$${e.total}`,e.estadoCompra]),startY:55}),t.save("reporte-compras.pdf")}exportarExcel(){let t=Hn.json_to_sheet(this.comprasFiltradas.map(r=>({"N\xB0 Compra":r.numeroCompra,Fecha:new Date(r.fecha).toLocaleDateString(),Proveedor:r.proveedor.nombreCompleto,Total:r.total,Estado:r.estadoCompra,Tipo:r.proveedor.tipoProveedor}))),e=Hn.book_new();Hn.book_append_sheet(e,t,"Compras"),J0(e,"reporte-compras.xlsx")}limpiarFiltros(){this.filtros={fechaInicio:"",fechaFin:"",tipo:"",estado:""},this.reporteGenerado=!1}static \u0275fac=function(e){return new(e||i)(ie(ho))};static \u0275cmp=ot({type:i,selectors:[["app-compra-reportes"]],standalone:!0,features:[st],decls:42,vars:6,consts:[[1,"content"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"card","shadow-sm"],[1,"card-body"],[1,"container"],[1,"col-12","col-md-6"],[1,"mb-3"],[1,"row","mb-4","g-3"],[1,"col-md-3"],[1,"form-label"],["type","date",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-select",3,"ngModelChange","ngModel"],["value",""],["value","MATERIAL"],["value","EQUIPO"],["value","SERVICIO"],[1,"col-md-3","d-flex","align-items-end","gap-2"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-filter-circle"],[1,"btn","btn-success",3,"click","disabled"],[1,"bi","bi-file-earmark-excel"],[1,"btn","btn-danger",3,"click","disabled"],[1,"bi","bi-file-earmark-pdf"],[4,"ngIf"],[1,"row","mb-4"],[1,"col-md-4"],[1,"card","bg-light"],[1,"card-body","text-center"],[1,"text-primary"],[1,"text-success"],[1,"text-danger"],[1,"chart-container","mb-4","p-3","border","rounded",2,"height","400px","width","1000px","background-color","white"],["style","display: block; width: 100%; height: 100%",3,"type","data","columns","options","dynamicResize",4,"ngIf"],["class","text-center p-4 text-muted",4,"ngIf"],[1,"table-responsive"],[1,"table","table-bordered","table-striped"],[1,"table-dark"],[4,"ngFor","ngForOf"],[2,"display","block","width","100%","height","100%",3,"type","data","columns","options","dynamicResize"],[1,"text-center","p-4","text-muted"],[1,"bi","bi-pie-chart",2,"font-size","2rem"],[1,"mt-2"],[1,"text-end"],[3,"ngClass"]],template:function(e,r){e&1&&(c(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h5",8),p(9,"Reportes de Compras"),l()(),c(10,"div",9)(11,"div",10)(12,"label",11),p(13,"Fecha Inicio"),l(),c(14,"input",12),pe("ngModelChange",function(o){return ue(r.filtros.fechaInicio,o)||(r.filtros.fechaInicio=o),o}),l()(),c(15,"div",10)(16,"label",11),p(17,"Fecha Fin"),l(),c(18,"input",12),pe("ngModelChange",function(o){return ue(r.filtros.fechaFin,o)||(r.filtros.fechaFin=o),o}),l()(),c(19,"div",10)(20,"label",11),p(21,"Tipo"),l(),c(22,"select",13),pe("ngModelChange",function(o){return ue(r.filtros.tipo,o)||(r.filtros.tipo=o),o}),c(23,"option",14),p(24,"Todos"),l(),c(25,"option",15),p(26,"Material"),l(),c(27,"option",16),p(28,"Equipo"),l(),c(29,"option",17),p(30,"Servicio"),l()()(),c(31,"div",18)(32,"button",19),H("click",function(){return r.generarReporte()}),Ee(33,"i",20),p(34," Generar "),l(),c(35,"button",21),H("click",function(){return r.exportarExcel()}),Ee(36,"i",22),p(37," Excel "),l(),c(38,"button",23),H("click",function(){return r.exportarPDF()}),Ee(39,"i",24),p(40," PDF "),l()()(),B(41,dV,45,8,"div",25),l()()()()()()()),e&2&&(g(14),de("ngModel",r.filtros.fechaInicio),g(4),de("ngModel",r.filtros.fechaFin),g(4),de("ngModel",r.filtros.tipo),g(13),M("disabled",!r.reporteGenerado),g(3),M("disabled",!r.reporteGenerado),g(3),M("ngIf",r.reporteGenerado))},dependencies:[ct,Rn,Bt,yt,ea,cn,Mt,Fi,Ni,kt,Ti,Pt,Tt,tg,eg]})};var x5=pd(rg());var dg=class i{constructor(t){this.http=t}apiUrl=pi.apiUrl;estimar(t){return this.http.post(`${this.apiUrl}/estimaciones`,t)}static \u0275fac=function(e){return new(e||i)(Et(ui))};static \u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"})};function pV(i,t){if(i&1&&(c(0,"option",13),p(1),l()),i&2){let e=t.$implicit;M("value",e.value),g(),Ke(" ",e.label," ")}}function fV(i,t){if(i&1){let e=Je();c(0,"div",2)(1,"label",10),p(2),l(),c(3,"select",11),pe("ngModelChange",function(n){let o=N(e).$implicit,a=Q();return ue(a.parametros[o.key],n)||(a.parametros[o.key]=n),D(n)}),B(4,pV,2,2,"option",12),l()()}if(i&2){let e=t.$implicit,r=Q();g(),M("for",e.key),g(),Ke("",e.label,":"),g(),d0("name",e.key),M("id",e.key),de("ngModel",r.parametros[e.key]),g(),M("ngForOf",e.options)}}function mV(i,t){if(i&1&&(c(0,"div",14),p(1),l()),i&2){let e=Q();g(),Ke(" ",e.errorMsg," ")}}function hV(i,t){if(i&1&&(c(0,"tr")(1,"td"),p(2),l(),c(3,"td"),p(4),Kt(5,"number"),l()()),i&2){let e=t.$implicit;g(2),Te(e.key),g(2),Te(Dn(5,2,e.value,"1.2-2"))}}function gV(i,t){if(i&1){let e=Je();c(0,"div",15)(1,"h3"),p(2,"Resultado de la Estimaci\xF3n"),l(),c(3,"p")(4,"strong"),p(5,"Costo por m\xB2:"),l(),p(6),Kt(7,"number"),l(),c(8,"p")(9,"strong"),p(10,"Costo total:"),l(),p(11),Kt(12,"number"),l(),c(13,"h4"),p(14,"Detalle:"),l(),c(15,"table",16)(16,"thead")(17,"tr")(18,"th"),p(19,"Concepto"),l(),c(20,"th"),p(21,"Valor"),l()()(),c(22,"tbody"),B(23,hV,6,5,"tr",17),Kt(24,"keyvalue"),l()(),c(25,"div",18)(26,"button",19),H("click",function(){N(e);let n=Q();return D(n.exportarExcel())}),p(27,"Exportar a Excel"),l(),c(28,"button",20),H("click",function(){N(e);let n=Q();return D(n.exportarPDF())}),p(29," Exportar a PDF "),l()()()}if(i&2){let e=Q();g(6),Ke(" ",Dn(7,3,e.respuesta.costoPorM2,"1.2-2")," USD"),g(5),Ke(" ",Dn(12,6,e.respuesta.costoTotal,"1.2-2")," USD"),g(12),M("ngForOf",bi(24,9,e.respuesta.detalle))}}var ug=class i{constructor(t){this.estimacionService=t}superficieM2;parametros={};respuesta;errorMsg;cargando=!1;parametrosConfig=[{key:"tipo_suelo",label:"Tipo de Suelo",options:[{value:"arenoso",label:"Arenoso"},{value:"rocoso",label:"Rocoso"},{value:"arcilloso",label:"Arcilloso"}]},{key:"tipo_cimentacion",label:"Tipo de Cimentaci\xF3n",options:[{value:"radier",label:"Radier"},{value:"zapatas",label:"Zapatas"},{value:"pilotes",label:"Pilotes"}]},{key:"tipo_estructura",label:"Tipo de Estructura",options:[{value:"hormigon",label:"Hormig\xF3n"},{value:"metalica",label:"Met\xE1lica"},{value:"mixta",label:"Mixta"}]},{key:"calidad_acabado",label:"Calidad de Acabado",options:[{value:"basica",label:"B\xE1sica"},{value:"media",label:"Media"},{value:"alta",label:"Alta"}]},{key:"acceso_obra",label:"Acceso a la Obra",options:[{value:"facil",label:"F\xE1cil"},{value:"moderado",label:"Moderado"},{value:"dificil",label:"Dif\xEDcil"}]},{key:"zona",label:"Zona / Ubicaci\xF3n",options:[{value:"urbana",label:"Urbana"},{value:"periurbana",label:"Periurbana"},{value:"rural",label:"Rural"}]},{key:"complejidad_diseno",label:"Complejidad de Dise\xF1o",options:[{value:"baja",label:"Baja"},{value:"media",label:"Media"},{value:"alta",label:"Alta"}]},{key:"numero_pisos",label:"N\xFAmero de Pisos",options:[{value:"1",label:"1"},{value:"2",label:"2"},{value:"3-5",label:"3-5"},{value:"6+",label:"6 o m\xE1s"}]},{key:"uso",label:"Uso / Tipolog\xEDa",options:[{value:"residencial",label:"Residencial"},{value:"comercial",label:"Comercial"},{value:"industrial",label:"Industrial"}]},{key:"instalaciones",label:"Instalaciones Interiores",options:[{value:"basicas",label:"B\xE1sicas"},{value:"medias",label:"Medias"},{value:"completas",label:"Completas"}]},{key:"estudio_geotecnico",label:"Estudio Geot\xE9cnico",options:[{value:"basico",label:"B\xE1sico"},{value:"avanzado",label:"Avanzado"}]},{key:"diseno_sostenible",label:"Dise\xF1o Sostenible / Certificaciones",options:[{value:"no",label:"No"},{value:"si",label:"S\xED"}]},{key:"honorarios_profesionales",label:"Honorarios Profesionales",options:[{value:"base",label:"Base"}]},{key:"permisos",label:"Permisos y Licencias",options:[{value:"no",label:"No"},{value:"si",label:"S\xED"}]}];ngOnInit(){this.superficieM2=0,this.parametrosConfig.forEach(t=>{t.options.length>0&&(this.parametros[t.key]=t.options[0].value)})}submitEstimacion(){if(this.errorMsg=void 0,this.respuesta=void 0,!this.superficieM2||this.superficieM2<=0){this.errorMsg="Ingrese una superficie v\xE1lida (> 0).";return}let t={superficieM2:this.superficieM2,parametros:lt({},this.parametros)};this.cargando=!0,this.estimacionService.estimar(t).subscribe({next:e=>{this.respuesta=e,this.cargando=!1},error:e=>{console.error("Error en estimaci\xF3n:",e),this.errorMsg="Error al calcular la estimaci\xF3n.",this.cargando=!1}})}exportarExcel(){if(!this.respuesta)return;let t=[];Object.entries(this.respuesta.detalle).forEach(([d,u])=>{t.push({Concepto:d,Valor:u})}),t.push({Concepto:"Costo por m\xB2 [USD]",Valor:this.respuesta.costoPorM2}),t.push({Concepto:"Costo total [USD]",Valor:this.respuesta.costoTotal});let r={Sheets:{Estimaci\u00F3n:Hn.json_to_sheet(t)},SheetNames:["Estimaci\xF3n"]},n=Uc(r,{bookType:"xlsx",type:"array"}),o=new Blob([n],{type:"application/octet-stream"}),a=`estimacion_${new Date().getTime()}.xlsx`;x5.saveAs(o,a)}exportarPDF(){if(!this.respuesta)return;let t=new oi;t.setFontSize(16),t.text("Resultado de Estimaci\xF3n de Costos",14,15);let e=[];Object.entries(this.respuesta.detalle).forEach(([n,o])=>{e.push([n,o])}),e.push(["Costo por m\xB2 [USD]",this.respuesta.costoPorM2]),e.push(["Costo total [USD]",this.respuesta.costoTotal]),Qa(t,{startY:25,head:[["Concepto","Valor"]],body:e,styles:{fontSize:10,cellPadding:3},headStyles:{fillColor:[41,128,185],textColor:[255,255,255],fontStyle:"bold"},alternateRowStyles:{fillColor:[245,245,245]},margin:{top:25},theme:"striped"});let r=`estimacion_${new Date().getTime()}.pdf`;t.save(r)}static \u0275fac=function(e){return new(e||i)(ie(dg))};static \u0275cmp=ot({type:i,selectors:[["app-estimacion"]],standalone:!0,features:[st],decls:14,vars:6,consts:[[1,"estimacion-container"],[3,"ngSubmit"],[1,"form-group"],["for","superficie"],["type","number","id","superficie","name","superficie","min","0","required","",3,"ngModelChange","ngModel"],["class","form-group",4,"ngFor","ngForOf"],[1,"acciones"],["type","submit",3,"disabled"],["class","error-msg",4,"ngIf"],["class","resultado","style","margin-top: 2rem;",4,"ngIf"],[3,"for"],["required","",3,"ngModelChange","id","name","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"error-msg"],[1,"resultado",2,"margin-top","2rem"],["border","1","cellpadding","4","cellspacing","0",1,"detalle-table"],[4,"ngFor","ngForOf"],[1,"export-buttons",2,"margin-top","1rem"],["type","button",3,"click"],["type","button",2,"margin-left","0.5rem",3,"click"]],template:function(e,r){e&1&&(c(0,"div",0)(1,"h2"),p(2,"Calculadora de Costos de Obra"),l(),c(3,"form",1),H("ngSubmit",function(){return r.submitEstimacion()}),c(4,"div",2)(5,"label",3),p(6,"Superficie (m\xB2):"),l(),c(7,"input",4),pe("ngModelChange",function(o){return ue(r.superficieM2,o)||(r.superficieM2=o),o}),l()(),B(8,fV,5,6,"div",5),c(9,"div",6)(10,"button",7),p(11),l()(),B(12,mV,2,1,"div",8),l(),B(13,gV,30,11,"div",9),l()),e&2&&(g(7),de("ngModel",r.superficieM2),g(),M("ngForOf",r.parametrosConfig),g(2),M("disabled",r.cargando),g(),Ke(" ",r.cargando?"Calculando...":"Calcular Estimaci\xF3n"," "),g(),M("ngIf",r.errorMsg),g(),M("ngIf",r.respuesta))},dependencies:[ct,Bt,yt,cc,j2,Mt,Qt,Fi,Ni,kt,Qi,Ti,Pt,Jt,ri,yr,Tt,ei],styles:[".estimacion-container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:1rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:.25rem;font-weight:500}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.5rem;font-size:1rem}.acciones[_ngcontent-%COMP%]{margin-top:1rem;text-align:right}.acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:1rem}.error-msg[_ngcontent-%COMP%]{margin-top:.5rem;color:red}.resultado[_ngcontent-%COMP%]{background:#f9f9f9;padding:1rem;border-radius:4px}.resultado[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.resultado[_ngcontent-%COMP%]   .detalle-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.resultado[_ngcontent-%COMP%]   .detalle-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#ddd;text-align:left}.resultado[_ngcontent-%COMP%]   .detalle-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .resultado[_ngcontent-%COMP%]   .detalle-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem}"]})};var y5=[{path:"",component:_m,canActivate:[hm],children:[{path:"persona",component:nm},{path:"persona-create",component:om},{path:"persona-update/:id",component:am},{path:"auto",component:sm},{path:"auto-create",component:lm},{path:"auto-update/:id",component:cm},{path:"perro",component:dm},{path:"perro-create",component:um},{path:"perro-update/:id",component:pm},{path:"compra",component:Km},{path:"compra-create",component:Jm},{path:"compra-update/:id",component:Yh},{path:"compra-detalle/:id/:tipo",component:Kh},{path:"compra-material-create",component:Qm},{path:"compra-equipo-create",component:eh},{path:"compra-servicio-create",component:th},{path:"compra-reportes",component:cg},{path:"backup-restore",component:Um},{path:"permiso",component:bm},{path:"permiso-create",component:xm},{path:"permiso-update/:id",component:ym},{path:"rol",component:Cm},{path:"rol-create",component:wm},{path:"rol-update/:id",component:Sm},{path:"usuario",component:Em},{path:"usuario-create",component:Pm},{path:"usuario-update",component:fp},{path:"usuario-update/:id",component:fp},{path:"bitacora",component:Nm},{path:"tarea",component:Lm},{path:"tarea-create",component:Dm},{path:"tarea-update/:id",component:Rm},{path:"",redirectTo:"usuario",pathMatch:"full"},{path:"material",component:Mm},{path:"material-create",component:Tm},{path:"material-update/:id",component:km},{path:"equipo",component:Am},{path:"equipo-create",component:Im},{path:"equipo-update/:id",component:Om},{path:"obra-civil",component:qm},{path:"obra-civil-create",component:jm},{path:"obra-civil-update/:id",component:zm},{path:"obra-civil-show/:id",component:Wm},{path:"servicio",component:Hm},{path:"servicio-create",component:Gm},{path:"servicio-update/:id",component:$m},{path:"empleado",component:Xm},{path:"empleado-create",component:Zm},{path:"empleado-update/:id",component:Ym},{path:"proveedor",component:ag},{path:"proveedor-create",component:sg},{path:"proveedor-update/:id",component:lg},{path:"dashboard",component:Jh},{path:"obra-civil-gantt/:id",component:ig},{path:"obra-civil-tarea-reporte/:id_obra",component:ng},{path:"material-reporte/:id_material",component:og},{path:"estimacion",component:ug},{path:"",redirectTo:"dashboard",pathMatch:"full"}]},{path:"login",component:mm},{path:"**",redirectTo:"dashboard"}];var pg=class i{constructor(t){this.authService=t}intercept(t,e){if(t.url.includes("/auth/login"))return e.handle(t);let r=this.authService.getToken();return r&&(t=t.clone({setHeaders:{Authorization:`Bearer ${r}`}})),e.handle(t)}static \u0275fac=function(e){return new(e||i)(Et(Ys))};static \u0275prov=wt({token:i,factory:i.\u0275fac})};var vV="@",_V=(()=>{class i{constructor(e,r,n,o,a){this.doc=e,this.delegate=r,this.zone=n,this.animationType=o,this.moduleImpl=a,this._rendererFactoryPromise=null,this.scheduler=ii(b2,{optional:!0}),this.loadingSchedulerFn=ii(bV,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-YDX4U2T6.js").then(n=>n),r;return this.loadingSchedulerFn?r=this.loadingSchedulerFn(e):r=e(),r.catch(n=>{throw new Ur(5300,!1)}).then(({\u0275createEngine:n,\u0275AnimationRendererFactory:o})=>{this._engine=n(this.animationType,this.doc);let a=new o(this.delegate,this._engine,this.zone);return this.delegate=a,a})}createRenderer(e,r){let n=this.delegate.createRenderer(e,r);if(n.\u0275type===0)return n;typeof n.throwOnSyntheticProps=="boolean"&&(n.throwOnSyntheticProps=!1);let o=new k_(n);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(a=>{let d=a.createRenderer(e,r);o.use(d),this.scheduler?.notify(10)}).catch(a=>{o.use(n)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(r){af()}}static{this.\u0275prov=wt({token:i,factory:i.\u0275fac})}}return i})(),k_=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,r,n){this.delegate.insertBefore(t,e,r,n)}removeChild(t,e,r){this.delegate.removeChild(t,e,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,n){this.delegate.setAttribute(t,e,r,n)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,n){this.delegate.setStyle(t,e,r,n)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){this.shouldReplay(e)&&this.replay.push(n=>n.setProperty(t,e,r)),this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.shouldReplay(e)&&this.replay.push(n=>n.listen(t,e,r)),this.delegate.listen(t,e,r)}shouldReplay(t){return this.replay!==null&&t.startsWith(vV)}},bV=new Ji("");function C5(i="animations"){return Vg("NgAsyncAnimations"),gd([{provide:sf,useFactory:(t,e,r)=>new _V(t,e,r,i),deps:[Do,wf,Qo]},{provide:v2,useValue:i==="noop"?"NoopAnimations":"BrowserAnimations"}])}var w5={providers:[F2({eventCoalescing:!0}),ix(y5),Kg(Jg()),p2(ji),{provide:Zg,useClass:pg,multi:!0},C5()]};var fg=class i{title="frontend";static \u0275fac=function(e){return new(e||i)};static \u0275cmp=ot({type:i,selectors:[["app-root"]],standalone:!0,features:[st],decls:1,vars:0,template:function(e,r){e&1&&Ee(0,"router-outlet")},dependencies:[Qu],styles:['@charset "UTF-8";html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif}.app-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh}app-topbar[_ngcontent-%COMP%]{background-color:#34495e;color:#fff;padding:8px 20px;position:fixed;top:0;left:0;width:100%;height:50px;z-index:1000}.content-wrapper[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:50px;height:calc(100vh - 50px)}app-sidebar[_ngcontent-%COMP%]{width:250px;background-color:#2c3e50;color:#fff;position:fixed;top:50px;left:0;height:calc(100vh - 50px);z-index:900;transition:transform .3s ease-in-out}.sidebar-hidden[_ngcontent-%COMP%]{transform:translate(-100%)}.main-content[_ngcontent-%COMP%]{flex-grow:1;margin-left:250px;background-color:#ecf0f1;padding:20px;height:100%;overflow-y:auto;transition:margin-left .3s ease-in-out}.main-content.shifted[_ngcontent-%COMP%]{margin-left:0}.toggle-sidebar-btn[_ngcontent-%COMP%]{position:fixed;bottom:20px;left:20px;background-color:#34495e;color:#fff;border:none;padding:10px;font-size:20px;z-index:1100;cursor:pointer;border-radius:30px}']})};ub(fg,w5).catch(i=>console.error(i));
