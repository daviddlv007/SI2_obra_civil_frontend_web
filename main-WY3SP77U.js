import{a as Ar}from"./chunk-FK6H3RFT.js";import{$ as ad,$a as g2,$b as oa,A as xg,Aa as Xf,Ab as ep,B as Kd,Ba as s2,Bb as Og,C as $_,Ca as Yf,Cb as tp,D as nd,Da as ld,Db as ip,E as ec,Ea as l2,Eb as rp,F as yg,Fa as Pg,Fb as C2,G as Z_,Ga as Qd,Gb as w2,H as X_,Ha as Gn,Hb as fs,I as Y_,Ia as c2,Ib as S2,J as Oa,Ja as d2,Jb as cd,K as K_,Ka as Mg,Kb as iu,L as Cn,La as U,Lb as pl,M as Ur,Ma as u2,Mb as E2,N as Za,Na as us,Nb as ru,O as Ct,Oa as M,Ob as P2,P as cs,Pa as Kf,Pb as M2,Q as J_,Qa as fl,Qb as Ia,R as Ji,Ra as c,Rb as T2,S as d0,Sa as l,Sb as h0,T as St,Ta as Le,Tb as k2,U as Jt,Ua as f2,Ub as A2,V as Cg,Va as p2,Vb as hl,W as Q_,Wa as Je,Wb as np,X as u0,Xa as h2,Xb as aa,Y as ot,Ya as J,Yb as zt,Z as ds,Za as ee,Zb as Et,_ as zr,_a as m2,_b as js,a as U_,aa as e2,ab as eu,ac as O2,b as V_,ba as t2,bb as v2,bc as nu,c as id,ca as od,cb as Tg,cc as Ya,d as mg,da as Bo,db as kg,dc as ht,e as gg,ea as Uo,eb as Ag,ec as I2,f as Do,fa as z,fb as ue,fc as ap,g as Ro,ga as W,gb as h,gc as F2,h as vg,ha as go,hb as Ve,hc as op,i as Jl,ia as i2,ib as tt,j as Hn,ja as Zf,jb as Di,k as _i,ka as f0,kb as _2,l as c0,la as tn,lb as be,m as j_,ma as Xa,mb as xe,n as q_,na as wg,nb as ye,o as nr,oa as Vs,ob as na,p as rd,pa as r2,pb as ut,q as Aa,qa as Sg,qb as tu,r as _g,ra as n2,rb as b2,s as z_,sa as sd,sb as x2,t as bg,ta as a2,tb as Vo,u as W_,ua as Eg,ub as ei,v as H_,va as Jd,vb as Ci,w as ul,wa as o2,wb as tc,x as Yd,xa as p0,xb as Jf,y as Ql,ya as v,yb as y2,z as G_,za as ae,zb as Qf}from"./chunk-4VCRXQLG.js";import{a as st,b as Ki,c as $f,d as B_,e as Xd,f as hg}from"./chunk-EQDQRRRY.js";var af=B_((kh,Lx)=>{"use strict";(function(i,t){typeof kh=="object"&&typeof Lx<"u"?t(kh):typeof define=="function"&&define.amd?define(["exports"],t):(i=typeof globalThis<"u"?globalThis:i||self,t(i.leaflet={}))})(kh,function(i){"use strict";var t="1.9.4";function e(s){var f,_,S,I;for(_=1,S=arguments.length;_<S;_++){I=arguments[_];for(f in I)s[f]=I[f]}return s}var r=Object.create||function(){function s(){}return function(f){return s.prototype=f,new s}}();function n(s,f){var _=Array.prototype.slice;if(s.bind)return s.bind.apply(s,_.call(arguments,1));var S=_.call(arguments,2);return function(){return s.apply(f,S.length?S.concat(_.call(arguments)):arguments)}}var a=0;function o(s){return"_leaflet_id"in s||(s._leaflet_id=++a),s._leaflet_id}function d(s,f,_){var S,I,K,Se;return Se=function(){S=!1,I&&(K.apply(_,I),I=!1)},K=function(){S?I=arguments:(s.apply(_,arguments),setTimeout(Se,f),S=!0)},K}function u(s,f,_){var S=f[1],I=f[0],K=S-I;return s===S&&_?s:((s-I)%K+K)%K+I}function p(){return!1}function g(s,f){if(f===!1)return s;var _=Math.pow(10,f===void 0?6:f);return Math.round(s*_)/_}function y(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function w(s){return y(s).split(/\s+/)}function x(s,f){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?r(s.options):{});for(var _ in f)s.options[_]=f[_];return s.options}function T(s,f,_){var S=[];for(var I in s)S.push(encodeURIComponent(_?I.toUpperCase():I)+"="+encodeURIComponent(s[I]));return(!f||f.indexOf("?")===-1?"?":"&")+S.join("&")}var E=/\{ *([\w_ -]+) *\}/g;function k(s,f){return s.replace(E,function(_,S){var I=f[S];if(I===void 0)throw new Error("No value provided for variable "+_);return typeof I=="function"&&(I=I(f)),I})}var F=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function D(s,f){for(var _=0;_<s.length;_++)if(s[_]===f)return _;return-1}var X="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function he(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var we=0;function Be(s){var f=+new Date,_=Math.max(0,16-(f-we));return we=f+_,window.setTimeout(s,_)}var re=window.requestAnimationFrame||he("RequestAnimationFrame")||Be,ie=window.cancelAnimationFrame||he("CancelAnimationFrame")||he("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function le(s,f,_){if(_&&re===Be)s.call(f);else return re.call(window,n(s,f))}function Ce(s){s&&ie.call(window,s)}var q={__proto__:null,extend:e,create:r,bind:n,get lastId(){return a},stamp:o,throttle:d,wrapNum:u,falseFn:p,formatNum:g,trim:y,splitWords:w,setOptions:x,getParamString:T,template:k,isArray:F,indexOf:D,emptyImageUrl:X,requestFn:re,cancelFn:ie,requestAnimFrame:le,cancelAnimFrame:Ce};function H(){}H.extend=function(s){var f=function(){x(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},_=f.__super__=this.prototype,S=r(_);S.constructor=f,f.prototype=S;for(var I in this)Object.prototype.hasOwnProperty.call(this,I)&&I!=="prototype"&&I!=="__super__"&&(f[I]=this[I]);return s.statics&&e(f,s.statics),s.includes&&(ve(s.includes),e.apply(null,[S].concat(s.includes))),e(S,s),delete S.statics,delete S.includes,S.options&&(S.options=_.options?r(_.options):{},e(S.options,s.options)),S._initHooks=[],S.callInitHooks=function(){if(!this._initHooksCalled){_.callInitHooks&&_.callInitHooks.call(this),this._initHooksCalled=!0;for(var K=0,Se=S._initHooks.length;K<Se;K++)S._initHooks[K].call(this)}},f},H.include=function(s){var f=this.prototype.options;return e(this.prototype,s),s.options&&(this.prototype.options=f,this.mergeOptions(s.options)),this},H.mergeOptions=function(s){return e(this.prototype.options,s),this},H.addInitHook=function(s){var f=Array.prototype.slice.call(arguments,1),_=typeof s=="function"?s:function(){this[s].apply(this,f)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(_),this};function ve(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=F(s)?s:[s];for(var f=0;f<s.length;f++)s[f]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var _e={on:function(s,f,_){if(typeof s=="object")for(var S in s)this._on(S,s[S],f);else{s=w(s);for(var I=0,K=s.length;I<K;I++)this._on(s[I],f,_)}return this},off:function(s,f,_){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var S in s)this._off(S,s[S],f);else{s=w(s);for(var I=arguments.length===1,K=0,Se=s.length;K<Se;K++)I?this._off(s[K]):this._off(s[K],f,_)}return this},_on:function(s,f,_,S){if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}if(this._listens(s,f,_)===!1){_===this&&(_=void 0);var I={fn:f,ctx:_};S&&(I.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(I)}},_off:function(s,f,_){var S,I,K;if(this._events&&(S=this._events[s],!!S)){if(arguments.length===1){if(this._firingCount)for(I=0,K=S.length;I<K;I++)S[I].fn=p;delete this._events[s];return}if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}var Se=this._listens(s,f,_);if(Se!==!1){var qe=S[Se];this._firingCount&&(qe.fn=p,this._events[s]=S=S.slice()),S.splice(Se,1)}}},fire:function(s,f,_){if(!this.listens(s,_))return this;var S=e({},f,{type:s,target:this,sourceTarget:f&&f.sourceTarget||this});if(this._events){var I=this._events[s];if(I){this._firingCount=this._firingCount+1||1;for(var K=0,Se=I.length;K<Se;K++){var qe=I[K],Ke=qe.fn;qe.once&&this.off(s,Ke,qe.ctx),Ke.call(qe.ctx||this,S)}this._firingCount--}}return _&&this._propagateEvent(S),this},listens:function(s,f,_,S){typeof s!="string"&&console.warn('"string" type argument expected');var I=f;typeof f!="function"&&(S=!!f,I=void 0,_=void 0);var K=this._events&&this._events[s];if(K&&K.length&&this._listens(s,I,_)!==!1)return!0;if(S){for(var Se in this._eventParents)if(this._eventParents[Se].listens(s,f,_,S))return!0}return!1},_listens:function(s,f,_){if(!this._events)return!1;var S=this._events[s]||[];if(!f)return!!S.length;_===this&&(_=void 0);for(var I=0,K=S.length;I<K;I++)if(S[I].fn===f&&S[I].ctx===_)return I;return!1},once:function(s,f,_){if(typeof s=="object")for(var S in s)this._on(S,s[S],f,!0);else{s=w(s);for(var I=0,K=s.length;I<K;I++)this._on(s[I],f,_,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[o(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[o(s)],this},_propagateEvent:function(s){for(var f in this._eventParents)this._eventParents[f].fire(s.type,e({layer:s.target,propagatedFrom:s.target},s),!0)}};_e.addEventListener=_e.on,_e.removeEventListener=_e.clearAllEventListeners=_e.off,_e.addOneTimeEventListener=_e.once,_e.fireEvent=_e.fire,_e.hasEventListeners=_e.listens;var Fe=H.extend(_e);function ke(s,f,_){this.x=_?Math.round(s):s,this.y=_?Math.round(f):f}var Ye=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};ke.prototype={clone:function(){return new ke(this.x,this.y)},add:function(s){return this.clone()._add(Me(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(Me(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new ke(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new ke(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ye(this.x),this.y=Ye(this.y),this},distanceTo:function(s){s=Me(s);var f=s.x-this.x,_=s.y-this.y;return Math.sqrt(f*f+_*_)},equals:function(s){return s=Me(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=Me(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function Me(s,f,_){return s instanceof ke?s:F(s)?new ke(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new ke(s.x,s.y):new ke(s,f,_)}function je(s,f){if(s)for(var _=f?[s,f]:s,S=0,I=_.length;S<I;S++)this.extend(_[S])}je.prototype={extend:function(s){var f,_;if(!s)return this;if(s instanceof ke||typeof s[0]=="number"||"x"in s)f=_=Me(s);else if(s=Ze(s),f=s.min,_=s.max,!f||!_)return this;return!this.min&&!this.max?(this.min=f.clone(),this.max=_.clone()):(this.min.x=Math.min(f.x,this.min.x),this.max.x=Math.max(_.x,this.max.x),this.min.y=Math.min(f.y,this.min.y),this.max.y=Math.max(_.y,this.max.y)),this},getCenter:function(s){return Me((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return Me(this.min.x,this.max.y)},getTopRight:function(){return Me(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var f,_;return typeof s[0]=="number"||s instanceof ke?s=Me(s):s=Ze(s),s instanceof je?(f=s.min,_=s.max):f=_=s,f.x>=this.min.x&&_.x<=this.max.x&&f.y>=this.min.y&&_.y<=this.max.y},intersects:function(s){s=Ze(s);var f=this.min,_=this.max,S=s.min,I=s.max,K=I.x>=f.x&&S.x<=_.x,Se=I.y>=f.y&&S.y<=_.y;return K&&Se},overlaps:function(s){s=Ze(s);var f=this.min,_=this.max,S=s.min,I=s.max,K=I.x>f.x&&S.x<_.x,Se=I.y>f.y&&S.y<_.y;return K&&Se},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var f=this.min,_=this.max,S=Math.abs(f.x-_.x)*s,I=Math.abs(f.y-_.y)*s;return Ze(Me(f.x-S,f.y-I),Me(_.x+S,_.y+I))},equals:function(s){return s?(s=Ze(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function Ze(s,f){return!s||s instanceof je?s:new je(s,f)}function wt(s,f){if(s)for(var _=f?[s,f]:s,S=0,I=_.length;S<I;S++)this.extend(_[S])}wt.prototype={extend:function(s){var f=this._southWest,_=this._northEast,S,I;if(s instanceof V)S=s,I=s;else if(s instanceof wt){if(S=s._southWest,I=s._northEast,!S||!I)return this}else return s?this.extend(N(s)||A(s)):this;return!f&&!_?(this._southWest=new V(S.lat,S.lng),this._northEast=new V(I.lat,I.lng)):(f.lat=Math.min(S.lat,f.lat),f.lng=Math.min(S.lng,f.lng),_.lat=Math.max(I.lat,_.lat),_.lng=Math.max(I.lng,_.lng)),this},pad:function(s){var f=this._southWest,_=this._northEast,S=Math.abs(f.lat-_.lat)*s,I=Math.abs(f.lng-_.lng)*s;return new wt(new V(f.lat-S,f.lng-I),new V(_.lat+S,_.lng+I))},getCenter:function(){return new V((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new V(this.getNorth(),this.getWest())},getSouthEast:function(){return new V(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof V||"lat"in s?s=N(s):s=A(s);var f=this._southWest,_=this._northEast,S,I;return s instanceof wt?(S=s.getSouthWest(),I=s.getNorthEast()):S=I=s,S.lat>=f.lat&&I.lat<=_.lat&&S.lng>=f.lng&&I.lng<=_.lng},intersects:function(s){s=A(s);var f=this._southWest,_=this._northEast,S=s.getSouthWest(),I=s.getNorthEast(),K=I.lat>=f.lat&&S.lat<=_.lat,Se=I.lng>=f.lng&&S.lng<=_.lng;return K&&Se},overlaps:function(s){s=A(s);var f=this._southWest,_=this._northEast,S=s.getSouthWest(),I=s.getNorthEast(),K=I.lat>f.lat&&S.lat<_.lat,Se=I.lng>f.lng&&S.lng<_.lng;return K&&Se},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,f){return s?(s=A(s),this._southWest.equals(s.getSouthWest(),f)&&this._northEast.equals(s.getNorthEast(),f)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function A(s,f){return s instanceof wt?s:new wt(s,f)}function V(s,f,_){if(isNaN(s)||isNaN(f))throw new Error("Invalid LatLng object: ("+s+", "+f+")");this.lat=+s,this.lng=+f,_!==void 0&&(this.alt=+_)}V.prototype={equals:function(s,f){if(!s)return!1;s=N(s);var _=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return _<=(f===void 0?1e-9:f)},toString:function(s){return"LatLng("+g(this.lat,s)+", "+g(this.lng,s)+")"},distanceTo:function(s){return se.distance(this,N(s))},wrap:function(){return se.wrapLatLng(this)},toBounds:function(s){var f=180*s/40075017,_=f/Math.cos(Math.PI/180*this.lat);return A([this.lat-f,this.lng-_],[this.lat+f,this.lng+_])},clone:function(){return new V(this.lat,this.lng,this.alt)}};function N(s,f,_){return s instanceof V?s:F(s)&&typeof s[0]!="object"?s.length===3?new V(s[0],s[1],s[2]):s.length===2?new V(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new V(s.lat,"lng"in s?s.lng:s.lon,s.alt):f===void 0?null:new V(s,f,_)}var j={latLngToPoint:function(s,f){var _=this.projection.project(s),S=this.scale(f);return this.transformation._transform(_,S)},pointToLatLng:function(s,f){var _=this.scale(f),S=this.transformation.untransform(s,_);return this.projection.unproject(S)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var f=this.projection.bounds,_=this.scale(s),S=this.transformation.transform(f.min,_),I=this.transformation.transform(f.max,_);return new je(S,I)},infinite:!1,wrapLatLng:function(s){var f=this.wrapLng?u(s.lng,this.wrapLng,!0):s.lng,_=this.wrapLat?u(s.lat,this.wrapLat,!0):s.lat,S=s.alt;return new V(_,f,S)},wrapLatLngBounds:function(s){var f=s.getCenter(),_=this.wrapLatLng(f),S=f.lat-_.lat,I=f.lng-_.lng;if(S===0&&I===0)return s;var K=s.getSouthWest(),Se=s.getNorthEast(),qe=new V(K.lat-S,K.lng-I),Ke=new V(Se.lat-S,Se.lng-I);return new wt(qe,Ke)}},se=e({},j,{wrapLng:[-180,180],R:6371e3,distance:function(s,f){var _=Math.PI/180,S=s.lat*_,I=f.lat*_,K=Math.sin((f.lat-s.lat)*_/2),Se=Math.sin((f.lng-s.lng)*_/2),qe=K*K+Math.cos(S)*Math.cos(I)*Se*Se,Ke=2*Math.atan2(Math.sqrt(qe),Math.sqrt(1-qe));return this.R*Ke}}),Ee=6378137,Ie={R:Ee,MAX_LATITUDE:85.0511287798,project:function(s){var f=Math.PI/180,_=this.MAX_LATITUDE,S=Math.max(Math.min(_,s.lat),-_),I=Math.sin(S*f);return new ke(this.R*s.lng*f,this.R*Math.log((1+I)/(1-I))/2)},unproject:function(s){var f=180/Math.PI;return new V((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*f,s.x*f/this.R)},bounds:function(){var s=Ee*Math.PI;return new je([-s,-s],[s,s])}()};function Te(s,f,_,S){if(F(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=f,this._c=_,this._d=S}Te.prototype={transform:function(s,f){return this._transform(s.clone(),f)},_transform:function(s,f){return f=f||1,s.x=f*(this._a*s.x+this._b),s.y=f*(this._c*s.y+this._d),s},untransform:function(s,f){return f=f||1,new ke((s.x/f-this._b)/this._a,(s.y/f-this._d)/this._c)}};function Re(s,f,_,S){return new Te(s,f,_,S)}var at=e({},se,{code:"EPSG:3857",projection:Ie,transformation:function(){var s=.5/(Math.PI*Ie.R);return Re(s,.5,-s,.5)}()}),pt=e({},at,{code:"EPSG:900913"});function Pt(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function Lt(s,f){var _="",S,I,K,Se,qe,Ke;for(S=0,K=s.length;S<K;S++){for(qe=s[S],I=0,Se=qe.length;I<Se;I++)Ke=qe[I],_+=(I?"L":"M")+Ke.x+" "+Ke.y;_+=f?$t.svg?"z":"x":""}return _||"M0 0"}var Qe=document.documentElement.style,ge="ActiveXObject"in window,mt=ge&&!document.addEventListener,Wt="msLaunchUri"in navigator&&!("documentMode"in document),gt=Vr("webkit"),Ft=Vr("android"),Ut=Vr("android 2")||Vr("android 3"),Vt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Qt=Ft&&Vr("Google")&&Vt<537&&!("AudioNode"in window),ti=!!window.opera,yi=!Wt&&Vr("chrome"),Ti=Vr("gecko")&&!gt&&!ti&&!ge,Hi=!yi&&Vr("safari"),Gi=Vr("phantom"),mi="OTransition"in Qe,Fi=navigator.platform.indexOf("Win")===0,qt=ge&&"transition"in Qe,Yr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ut,Zi="MozPerspective"in Qe,Qn=!window.L_DISABLE_3D&&(qt||Yr||Zi)&&!mi&&!Gi,er=typeof orientation<"u"||Vr("mobile"),Er=er&&gt,Da=er&&Yr,tr=!window.PointerEvent&&window.MSPointerEvent,ro=!!(window.PointerEvent||tr),Pr="ontouchstart"in window||!!window.TouchEvent,ba=!window.L_NO_TOUCH&&(Pr||ro),no=er&&ti,vr=er&&Ti,Si=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ar=function(){var s=!1;try{var f=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",p,f),window.removeEventListener("testPassiveEventSupport",p,f)}catch{}return s}(),Yo=function(){return!!document.createElement("canvas").getContext}(),Kr=!!(document.createElementNS&&Pt("svg").createSVGRect),Ra=!!Kr&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Ba=!Kr&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var f=s.firstChild;return f.style.behavior="url(#default#VML)",f&&typeof f.adj=="object"}catch{return!1}}(),fi=navigator.platform.indexOf("Mac")===0,xa=navigator.platform.indexOf("Linux")===0;function Vr(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var $t={ie:ge,ielt9:mt,edge:Wt,webkit:gt,android:Ft,android23:Ut,androidStock:Qt,opera:ti,chrome:yi,gecko:Ti,safari:Hi,phantom:Gi,opera12:mi,win:Fi,ie3d:qt,webkit3d:Yr,gecko3d:Zi,any3d:Qn,mobile:er,mobileWebkit:Er,mobileWebkit3d:Da,msPointer:tr,pointer:ro,touch:ba,touchNative:Pr,mobileOpera:no,mobileGecko:vr,retina:Si,passiveEvents:ar,canvas:Yo,svg:Kr,vml:Ba,inlineSvg:Ra,mac:fi,linux:xa},Hr=$t.msPointer?"MSPointerDown":"pointerdown",jr=$t.msPointer?"MSPointerMove":"pointermove",G=$t.msPointer?"MSPointerUp":"pointerup",fe=$t.msPointer?"MSPointerCancel":"pointercancel",ne={touchstart:Hr,touchmove:jr,touchend:G,touchcancel:fe},oe={touchstart:Zt,touchmove:At,touchend:At,touchcancel:At},de={},pe=!1;function ze(s,f,_){return f==="touchstart"&&yt(),oe[f]?(_=oe[f].bind(this,_),s.addEventListener(ne[f],_,!1),_):(console.warn("wrong event specified:",f),p)}function et(s,f,_){if(!ne[f]){console.warn("wrong event specified:",f);return}s.removeEventListener(ne[f],_,!1)}function We(s){de[s.pointerId]=s}function He(s){de[s.pointerId]&&(de[s.pointerId]=s)}function Xe(s){delete de[s.pointerId]}function yt(){pe||(document.addEventListener(Hr,We,!0),document.addEventListener(jr,He,!0),document.addEventListener(G,Xe,!0),document.addEventListener(fe,Xe,!0),pe=!0)}function At(s,f){if(f.pointerType!==(f.MSPOINTER_TYPE_MOUSE||"mouse")){f.touches=[];for(var _ in de)f.touches.push(de[_]);f.changedTouches=[f],s(f)}}function Zt(s,f){f.MSPOINTER_TYPE_TOUCH&&f.pointerType===f.MSPOINTER_TYPE_TOUCH&&fn(f),At(s,f)}function Nt(s){var f={},_,S;for(S in s)_=s[S],f[S]=_&&_.bind?_.bind(s):_;return s=f,f.type="dblclick",f.detail=2,f.isTrusted=!1,f._simulated=!0,f}var Rt=200;function xi(s,f){s.addEventListener("dblclick",f);var _=0,S;function I(K){if(K.detail!==1){S=K.detail;return}if(!(K.pointerType==="mouse"||K.sourceCapabilities&&!K.sourceCapabilities.firesTouchEvents)){var Se=Nl(K);if(!(Se.some(function(Ke){return Ke instanceof HTMLLabelElement&&Ke.attributes.for})&&!Se.some(function(Ke){return Ke instanceof HTMLInputElement||Ke instanceof HTMLSelectElement}))){var qe=Date.now();qe-_<=Rt?(S++,S===2&&f(Nt(K))):S=1,_=qe}}}return s.addEventListener("click",I),{dblclick:f,simDblclick:I}}function or(s,f){s.removeEventListener("dblclick",f.dblclick),s.removeEventListener("click",f.simDblclick)}var Jr=Ss(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),pr=Ss(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),rn=pr==="webkitTransition"||pr==="OTransition"?pr+"End":"transitionend";function So(s){return typeof s=="string"?document.getElementById(s):s}function ea(s,f){var _=s.style[f]||s.currentStyle&&s.currentStyle[f];if((!_||_==="auto")&&document.defaultView){var S=document.defaultView.getComputedStyle(s,null);_=S?S[f]:null}return _==="auto"?null:_}function Oi(s,f,_){var S=document.createElement(s);return S.className=f||"",_&&_.appendChild(S),S}function sr(s){var f=s.parentNode;f&&f.removeChild(s)}function An(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Mr(s){var f=s.parentNode;f&&f.lastChild!==s&&f.appendChild(s)}function Ko(s){var f=s.parentNode;f&&f.firstChild!==s&&f.insertBefore(s,f.firstChild)}function Al(s,f){if(s.classList!==void 0)return s.classList.contains(f);var _=ta(s);return _.length>0&&new RegExp("(^|\\s)"+f+"(\\s|$)").test(_)}function ki(s,f){if(s.classList!==void 0)for(var _=w(f),S=0,I=_.length;S<I;S++)s.classList.add(_[S]);else if(!Al(s,f)){var K=ta(s);Nc(s,(K?K+" ":"")+f)}}function Fr(s,f){s.classList!==void 0?s.classList.remove(f):Nc(s,y((" "+ta(s)+" ").replace(" "+f+" "," ")))}function Nc(s,f){s.className.baseVal===void 0?s.className=f:s.className.baseVal=f}function ta(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function Pn(s,f){"opacity"in s.style?s.style.opacity=f:"filter"in s.style&&ia(s,f)}function ia(s,f){var _=!1,S="DXImageTransform.Microsoft.Alpha";try{_=s.filters.item(S)}catch{if(f===1)return}f=Math.round(f*100),_?(_.Enabled=f!==100,_.Opacity=f):s.style.filter+=" progid:"+S+"(opacity="+f+")"}function Ss(s){for(var f=document.documentElement.style,_=0;_<s.length;_++)if(s[_]in f)return s[_];return!1}function Eo(s,f,_){var S=f||new ke(0,0);s.style[Jr]=($t.ie3d?"translate("+S.x+"px,"+S.y+"px)":"translate3d("+S.x+"px,"+S.y+"px,0)")+(_?" scale("+_+")":"")}function Gr(s,f){s._leaflet_pos=f,$t.any3d?Eo(s,f):(s.style.left=f.x+"px",s.style.top=f.y+"px")}function Po(s){return s._leaflet_pos||new ke(0,0)}var Qs,Es,Lc;if("onselectstart"in document)Qs=function(){Mi(window,"selectstart",fn)},Es=function(){hr(window,"selectstart",fn)};else{var Jo=Ss(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Qs=function(){if(Jo){var s=document.documentElement.style;Lc=s[Jo],s[Jo]="none"}},Es=function(){Jo&&(document.documentElement.style[Jo]=Lc,Lc=void 0)}}function Dc(){Mi(window,"dragstart",fn)}function Rc(){hr(window,"dragstart",fn)}var Ol,ao;function Ps(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(Qo(),Ol=s,ao=s.style.outlineStyle,s.style.outlineStyle="none",Mi(window,"keydown",Qo))}function Qo(){Ol&&(Ol.style.outlineStyle=ao,Ol=void 0,ao=void 0,hr(window,"keydown",Qo))}function Bc(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function vn(s){var f=s.getBoundingClientRect();return{x:f.width/s.offsetWidth||1,y:f.height/s.offsetHeight||1,boundingClientRect:f}}var Ku={__proto__:null,TRANSFORM:Jr,TRANSITION:pr,TRANSITION_END:rn,get:So,getStyle:ea,create:Oi,remove:sr,empty:An,toFront:Mr,toBack:Ko,hasClass:Al,addClass:ki,removeClass:Fr,setClass:Nc,getClass:ta,setOpacity:Pn,testProp:Ss,setTransform:Eo,setPosition:Gr,getPosition:Po,get disableTextSelection(){return Qs},get enableTextSelection(){return Es},disableImageDrag:Dc,enableImageDrag:Rc,preventOutline:Ps,restoreOutline:Qo,getSizedParentNode:Bc,getScale:vn};function Mi(s,f,_,S){if(f&&typeof f=="object")for(var I in f)Il(s,I,f[I],_);else{f=w(f);for(var K=0,Se=f.length;K<Se;K++)Il(s,f[K],_,S)}return this}var ci="_leaflet_events";function hr(s,f,_,S){if(arguments.length===1)Ld(s),delete s[ci];else if(f&&typeof f=="object")for(var I in f)Fl(s,I,f[I],_);else if(f=w(f),arguments.length===2)Ld(s,function(qe){return D(f,qe)!==-1});else for(var K=0,Se=f.length;K<Se;K++)Fl(s,f[K],_,S);return this}function Ld(s,f){for(var _ in s[ci]){var S=_.split(/\d/)[0];(!f||f(S))&&Fl(s,S,null,null,_)}}var Ua={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Il(s,f,_,S){var I=f+o(_)+(S?"_"+o(S):"");if(s[ci]&&s[ci][I])return this;var K=function(qe){return _.call(S||s,qe||window.event)},Se=K;!$t.touchNative&&$t.pointer&&f.indexOf("touch")===0?K=ze(s,f,K):$t.touch&&f==="dblclick"?K=xi(s,K):"addEventListener"in s?f==="touchstart"||f==="touchmove"||f==="wheel"||f==="mousewheel"?s.addEventListener(Ua[f]||f,K,$t.passiveEvents?{passive:!1}:!1):f==="mouseenter"||f==="mouseleave"?(K=function(qe){qe=qe||window.event,ts(s,qe)&&Se(qe)},s.addEventListener(Ua[f],K,!1)):s.addEventListener(f,Se,!1):s.attachEvent("on"+f,K),s[ci]=s[ci]||{},s[ci][I]=K}function Fl(s,f,_,S,I){I=I||f+o(_)+(S?"_"+o(S):"");var K=s[ci]&&s[ci][I];if(!K)return this;!$t.touchNative&&$t.pointer&&f.indexOf("touch")===0?et(s,f,K):$t.touch&&f==="dblclick"?or(s,K):"removeEventListener"in s?s.removeEventListener(Ua[f]||f,K,!1):s.detachEvent("on"+f,K),s[ci][I]=null}function Va(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function el(s){return Il(s,"wheel",Va),this}function tl(s){return Mi(s,"mousedown touchstart dblclick contextmenu",Va),s._leaflet_disable_click=!0,this}function fn(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function es(s){return fn(s),Va(s),this}function Nl(s){if(s.composedPath)return s.composedPath();for(var f=[],_=s.target;_;)f.push(_),_=_.parentNode;return f}function Ms(s,f){if(!f)return new ke(s.clientX,s.clientY);var _=vn(f),S=_.boundingClientRect;return new ke((s.clientX-S.left)/_.x-f.clientLeft,(s.clientY-S.top)/_.y-f.clientTop)}var Ts=$t.linux&&$t.chrome?window.devicePixelRatio:$t.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Dd(s){return $t.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/Ts:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function ts(s,f){var _=f.relatedTarget;if(!_)return!0;try{for(;_&&_!==s;)_=_.parentNode}catch{return!1}return _!==s}var Uc={__proto__:null,on:Mi,off:hr,stopPropagation:Va,disableScrollPropagation:el,disableClickPropagation:tl,preventDefault:fn,stop:es,getPropagationPath:Nl,getMousePosition:Ms,getWheelDelta:Dd,isExternalTarget:ts,addListener:Mi,removeListener:hr},il=Fe.extend({run:function(s,f,_,S){this.stop(),this._el=s,this._inProgress=!0,this._duration=_||.25,this._easeOutPower=1/Math.max(S||.5,.2),this._startPos=Po(s),this._offset=f.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=le(this._animate,this),this._step()},_step:function(s){var f=+new Date-this._startTime,_=this._duration*1e3;f<_?this._runFrame(this._easeOut(f/_),s):(this._runFrame(1),this._complete())},_runFrame:function(s,f){var _=this._startPos.add(this._offset.multiplyBy(s));f&&_._round(),Gr(this._el,_),this.fire("step")},_complete:function(){Ce(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),$i=Fe.extend({options:{crs:at,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,f){f=x(this,f),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=n(this._onResize,this),this._initEvents(),f.maxBounds&&this.setMaxBounds(f.maxBounds),f.zoom!==void 0&&(this._zoom=this._limitZoom(f.zoom)),f.center&&f.zoom!==void 0&&this.setView(N(f.center),f.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=pr&&$t.any3d&&!$t.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Mi(this._proxy,rn,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,f,_){if(f=f===void 0?this._zoom:this._limitZoom(f),s=this._limitCenter(N(s),f,this.options.maxBounds),_=_||{},this._stop(),this._loaded&&!_.reset&&_!==!0){_.animate!==void 0&&(_.zoom=e({animate:_.animate},_.zoom),_.pan=e({animate:_.animate,duration:_.duration},_.pan));var S=this._zoom!==f?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,f,_.zoom):this._tryAnimatedPan(s,_.pan);if(S)return clearTimeout(this._sizeTimer),this}return this._resetView(s,f,_.pan&&_.pan.noMoveStart),this},setZoom:function(s,f){return this._loaded?this.setView(this.getCenter(),s,{zoom:f}):(this._zoom=s,this)},zoomIn:function(s,f){return s=s||($t.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,f)},zoomOut:function(s,f){return s=s||($t.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,f)},setZoomAround:function(s,f,_){var S=this.getZoomScale(f),I=this.getSize().divideBy(2),K=s instanceof ke?s:this.latLngToContainerPoint(s),Se=K.subtract(I).multiplyBy(1-1/S),qe=this.containerPointToLatLng(I.add(Se));return this.setView(qe,f,{zoom:_})},_getBoundsCenterZoom:function(s,f){f=f||{},s=s.getBounds?s.getBounds():A(s);var _=Me(f.paddingTopLeft||f.padding||[0,0]),S=Me(f.paddingBottomRight||f.padding||[0,0]),I=this.getBoundsZoom(s,!1,_.add(S));if(I=typeof f.maxZoom=="number"?Math.min(f.maxZoom,I):I,I===1/0)return{center:s.getCenter(),zoom:I};var K=S.subtract(_).divideBy(2),Se=this.project(s.getSouthWest(),I),qe=this.project(s.getNorthEast(),I),Ke=this.unproject(Se.add(qe).divideBy(2).add(K),I);return{center:Ke,zoom:I}},fitBounds:function(s,f){if(s=A(s),!s.isValid())throw new Error("Bounds are not valid.");var _=this._getBoundsCenterZoom(s,f);return this.setView(_.center,_.zoom,f)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,f){return this.setView(s,this._zoom,{pan:f})},panBy:function(s,f){if(s=Me(s).round(),f=f||{},!s.x&&!s.y)return this.fire("moveend");if(f.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new il,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),f.noMoveStart||this.fire("movestart"),f.animate!==!1){ki(this._mapPane,"leaflet-pan-anim");var _=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,_,f.duration||.25,f.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,f,_){if(_=_||{},_.animate===!1||!$t.any3d)return this.setView(s,f,_);this._stop();var S=this.project(this.getCenter()),I=this.project(s),K=this.getSize(),Se=this._zoom;s=N(s),f=f===void 0?Se:f;var qe=Math.max(K.x,K.y),Ke=qe*this.getZoomScale(Se,f),bt=I.distanceTo(S)||1,Xt=1.42,pi=Xt*Xt;function Ni(sn){var ed=sn?-1:1,Bs=sn?Ke:qe,Ha=Ke*Ke-qe*qe+ed*pi*pi*bt*bt,rg=2*Bs*pi*bt,i0=Ha/rg,r0=Math.sqrt(i0*i0+1)-i0,Ff=r0<1e-9?-18:Math.log(r0);return Ff}function pn(sn){return(Math.exp(sn)-Math.exp(-sn))/2}function bn(sn){return(Math.exp(sn)+Math.exp(-sn))/2}function Wa(sn){return pn(sn)/bn(sn)}var zn=Ni(0);function Gl(sn){return qe*(bn(zn)/bn(zn+Xt*sn))}function eg(sn){return qe*(bn(zn)*Wa(zn+Xt*sn)-pn(zn))/pi}function tg(sn){return 1-Math.pow(1-sn,1.5)}var ig=Date.now(),ss=(Ni(1)-zn)/Xt,po=_.duration?1e3*_.duration:1e3*ss*.8;function No(){var sn=(Date.now()-ig)/po,ed=tg(sn)*ss;sn<=1?(this._flyToFrame=le(No,this),this._move(this.unproject(S.add(I.subtract(S).multiplyBy(eg(ed)/bt)),Se),this.getScaleZoom(qe/Gl(ed),Se),{flyTo:!0})):this._move(s,f)._moveEnd(!0)}return this._moveStart(!0,_.noMoveStart),No.call(this),this},flyToBounds:function(s,f){var _=this._getBoundsCenterZoom(s,f);return this.flyTo(_.center,_.zoom,f)},setMaxBounds:function(s){return s=A(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var f=this.options.minZoom;return this.options.minZoom=s,this._loaded&&f!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var f=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&f!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,f){this._enforcingBounds=!0;var _=this.getCenter(),S=this._limitCenter(_,this._zoom,A(s));return _.equals(S)||this.panTo(S,f),this._enforcingBounds=!1,this},panInside:function(s,f){f=f||{};var _=Me(f.paddingTopLeft||f.padding||[0,0]),S=Me(f.paddingBottomRight||f.padding||[0,0]),I=this.project(this.getCenter()),K=this.project(s),Se=this.getPixelBounds(),qe=Ze([Se.min.add(_),Se.max.subtract(S)]),Ke=qe.getSize();if(!qe.contains(K)){this._enforcingBounds=!0;var bt=K.subtract(qe.getCenter()),Xt=qe.extend(K).getSize().subtract(Ke);I.x+=bt.x<0?-Xt.x:Xt.x,I.y+=bt.y<0?-Xt.y:Xt.y,this.panTo(this.unproject(I),f),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=e({animate:!1,pan:!0},s===!0?{animate:!0}:s);var f=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var _=this.getSize(),S=f.divideBy(2).round(),I=_.divideBy(2).round(),K=S.subtract(I);return!K.x&&!K.y?this:(s.animate&&s.pan?this.panBy(K):(s.pan&&this._rawPanBy(K),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(n(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:f,newSize:_}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=e({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var f=n(this._handleGeolocationResponse,this),_=n(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(f,_,s):navigator.geolocation.getCurrentPosition(f,_,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var f=s.code,_=s.message||(f===1?"permission denied":f===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:f,message:"Geolocation error: "+_+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var f=s.coords.latitude,_=s.coords.longitude,S=new V(f,_),I=S.toBounds(s.coords.accuracy*2),K=this._locateOptions;if(K.setView){var Se=this.getBoundsZoom(I);this.setView(S,K.maxZoom?Math.min(Se,K.maxZoom):Se)}var qe={latlng:S,bounds:I,timestamp:s.timestamp};for(var Ke in s.coords)typeof s.coords[Ke]=="number"&&(qe[Ke]=s.coords[Ke]);this.fire("locationfound",qe)}},addHandler:function(s,f){if(!f)return this;var _=this[s]=new f(this);return this._handlers.push(_),this.options[s]&&_.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),sr(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Ce(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)sr(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,f){var _="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),S=Oi("div",_,f||this._mapPane);return s&&(this._panes[s]=S),S},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),f=this.unproject(s.getBottomLeft()),_=this.unproject(s.getTopRight());return new wt(f,_)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,f,_){s=A(s),_=Me(_||[0,0]);var S=this.getZoom()||0,I=this.getMinZoom(),K=this.getMaxZoom(),Se=s.getNorthWest(),qe=s.getSouthEast(),Ke=this.getSize().subtract(_),bt=Ze(this.project(qe,S),this.project(Se,S)).getSize(),Xt=$t.any3d?this.options.zoomSnap:1,pi=Ke.x/bt.x,Ni=Ke.y/bt.y,pn=f?Math.max(pi,Ni):Math.min(pi,Ni);return S=this.getScaleZoom(pn,S),Xt&&(S=Math.round(S/(Xt/100))*(Xt/100),S=f?Math.ceil(S/Xt)*Xt:Math.floor(S/Xt)*Xt),Math.max(I,Math.min(K,S))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ke(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,f){var _=this._getTopLeftPoint(s,f);return new je(_,_.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,f){var _=this.options.crs;return f=f===void 0?this._zoom:f,_.scale(s)/_.scale(f)},getScaleZoom:function(s,f){var _=this.options.crs;f=f===void 0?this._zoom:f;var S=_.zoom(s*_.scale(f));return isNaN(S)?1/0:S},project:function(s,f){return f=f===void 0?this._zoom:f,this.options.crs.latLngToPoint(N(s),f)},unproject:function(s,f){return f=f===void 0?this._zoom:f,this.options.crs.pointToLatLng(Me(s),f)},layerPointToLatLng:function(s){var f=Me(s).add(this.getPixelOrigin());return this.unproject(f)},latLngToLayerPoint:function(s){var f=this.project(N(s))._round();return f._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(N(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(A(s))},distance:function(s,f){return this.options.crs.distance(N(s),N(f))},containerPointToLayerPoint:function(s){return Me(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return Me(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var f=this.containerPointToLayerPoint(Me(s));return this.layerPointToLatLng(f)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(N(s)))},mouseEventToContainerPoint:function(s){return Ms(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var f=this._container=So(s);if(f){if(f._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Mi(f,"scroll",this._onScroll,this),this._containerId=o(f)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&$t.any3d,ki(s,"leaflet-container"+($t.touch?" leaflet-touch":"")+($t.retina?" leaflet-retina":"")+($t.ielt9?" leaflet-oldie":"")+($t.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var f=ea(s,"position");f!=="absolute"&&f!=="relative"&&f!=="fixed"&&f!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Gr(this._mapPane,new ke(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ki(s.markerPane,"leaflet-zoom-hide"),ki(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,f,_){Gr(this._mapPane,new ke(0,0));var S=!this._loaded;this._loaded=!0,f=this._limitZoom(f),this.fire("viewprereset");var I=this._zoom!==f;this._moveStart(I,_)._move(s,f)._moveEnd(I),this.fire("viewreset"),S&&this.fire("load")},_moveStart:function(s,f){return s&&this.fire("zoomstart"),f||this.fire("movestart"),this},_move:function(s,f,_,S){f===void 0&&(f=this._zoom);var I=this._zoom!==f;return this._zoom=f,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),S?_&&_.pinch&&this.fire("zoom",_):((I||_&&_.pinch)&&this.fire("zoom",_),this.fire("move",_)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Ce(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){Gr(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[o(this._container)]=this;var f=s?hr:Mi;f(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&f(window,"resize",this._onResize,this),$t.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Ce(this._resizeRequest),this._resizeRequest=le(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,f){for(var _=[],S,I=f==="mouseout"||f==="mouseover",K=s.target||s.srcElement,Se=!1;K;){if(S=this._targets[o(K)],S&&(f==="click"||f==="preclick")&&this._draggableMoved(S)){Se=!0;break}if(S&&S.listens(f,!0)&&(I&&!ts(K,s)||(_.push(S),I))||K===this._container)break;K=K.parentNode}return!_.length&&!Se&&!I&&this.listens(f,!0)&&(_=[this]),_},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var f=s.target||s.srcElement;if(!(!this._loaded||f._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(f))){var _=s.type;_==="mousedown"&&Ps(f),this._fireDOMEvent(s,_)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,f,_){if(s.type==="click"){var S=e({},s);S.type="preclick",this._fireDOMEvent(S,S.type,_)}var I=this._findEventTargets(s,f);if(_){for(var K=[],Se=0;Se<_.length;Se++)_[Se].listens(f,!0)&&K.push(_[Se]);I=K.concat(I)}if(I.length){f==="contextmenu"&&fn(s);var qe=I[0],Ke={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var bt=qe.getLatLng&&(!qe._radius||qe._radius<=10);Ke.containerPoint=bt?this.latLngToContainerPoint(qe.getLatLng()):this.mouseEventToContainerPoint(s),Ke.layerPoint=this.containerPointToLayerPoint(Ke.containerPoint),Ke.latlng=bt?qe.getLatLng():this.layerPointToLatLng(Ke.layerPoint)}for(Se=0;Se<I.length;Se++)if(I[Se].fire(f,Ke,!0),Ke.originalEvent._stopped||I[Se].options.bubblingMouseEvents===!1&&D(this._mouseEvents,f)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,f=this._handlers.length;s<f;s++)this._handlers[s].disable()},whenReady:function(s,f){return this._loaded?s.call(f||this,{target:this}):this.on("load",s,f),this},_getMapPanePos:function(){return Po(this._mapPane)||new ke(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,f){var _=s&&f!==void 0?this._getNewPixelOrigin(s,f):this.getPixelOrigin();return _.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,f){var _=this.getSize()._divideBy(2);return this.project(s,f)._subtract(_)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,f,_){var S=this._getNewPixelOrigin(_,f);return this.project(s,f)._subtract(S)},_latLngBoundsToNewLayerBounds:function(s,f,_){var S=this._getNewPixelOrigin(_,f);return Ze([this.project(s.getSouthWest(),f)._subtract(S),this.project(s.getNorthWest(),f)._subtract(S),this.project(s.getSouthEast(),f)._subtract(S),this.project(s.getNorthEast(),f)._subtract(S)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,f,_){if(!_)return s;var S=this.project(s,f),I=this.getSize().divideBy(2),K=new je(S.subtract(I),S.add(I)),Se=this._getBoundsOffset(K,_,f);return Math.abs(Se.x)<=1&&Math.abs(Se.y)<=1?s:this.unproject(S.add(Se),f)},_limitOffset:function(s,f){if(!f)return s;var _=this.getPixelBounds(),S=new je(_.min.add(s),_.max.add(s));return s.add(this._getBoundsOffset(S,f))},_getBoundsOffset:function(s,f,_){var S=Ze(this.project(f.getNorthEast(),_),this.project(f.getSouthWest(),_)),I=S.min.subtract(s.min),K=S.max.subtract(s.max),Se=this._rebound(I.x,-K.x),qe=this._rebound(I.y,-K.y);return new ke(Se,qe)},_rebound:function(s,f){return s+f>0?Math.round(s-f)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(f))},_limitZoom:function(s){var f=this.getMinZoom(),_=this.getMaxZoom(),S=$t.any3d?this.options.zoomSnap:1;return S&&(s=Math.round(s/S)*S),Math.max(f,Math.min(_,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Fr(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,f){var _=this._getCenterOffset(s)._trunc();return(f&&f.animate)!==!0&&!this.getSize().contains(_)?!1:(this.panBy(_,f),!0)},_createAnimProxy:function(){var s=this._proxy=Oi("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(f){var _=Jr,S=this._proxy.style[_];Eo(this._proxy,this.project(f.center,f.zoom),this.getZoomScale(f.zoom,1)),S===this._proxy.style[_]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){sr(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),f=this.getZoom();Eo(this._proxy,this.project(s,f),this.getZoomScale(f,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,f,_){if(this._animatingZoom)return!0;if(_=_||{},!this._zoomAnimated||_.animate===!1||this._nothingToAnimate()||Math.abs(f-this._zoom)>this.options.zoomAnimationThreshold)return!1;var S=this.getZoomScale(f),I=this._getCenterOffset(s)._divideBy(1-1/S);return _.animate!==!0&&!this.getSize().contains(I)?!1:(le(function(){this._moveStart(!0,_.noMoveStart||!1)._animateZoom(s,f,!0)},this),!0)},_animateZoom:function(s,f,_,S){this._mapPane&&(_&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=f,ki(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:f,noUpdate:S}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(n(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Fr(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Rd(s,f){return new $i(s,f)}var ra=H.extend({options:{position:"topright"},initialize:function(s){x(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var f=this._map;return f&&f.removeControl(this),this.options.position=s,f&&f.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var f=this._container=this.onAdd(s),_=this.getPosition(),S=s._controlCorners[_];return ki(f,"leaflet-control"),_.indexOf("bottom")!==-1?S.insertBefore(f,S.firstChild):S.appendChild(f),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(sr(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),ks=function(s){return new ra(s)};$i.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},f="leaflet-",_=this._controlContainer=Oi("div",f+"control-container",this._container);function S(I,K){var Se=f+I+" "+f+K;s[I+K]=Oi("div",Se,_)}S("top","left"),S("top","right"),S("bottom","left"),S("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)sr(this._controlCorners[s]);sr(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var oo=ra.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,f,_,S){return _<S?-1:S<_?1:0}},initialize:function(s,f,_){x(this,_),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var S in s)this._addLayer(s[S],S);for(S in f)this._addLayer(f[S],S,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return ra.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,f){return this._addLayer(s,f),this._map?this._update():this},addOverlay:function(s,f){return this._addLayer(s,f,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var f=this._getLayer(o(s));return f&&this._layers.splice(this._layers.indexOf(f),1),this._map?this._update():this},expand:function(){ki(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(ki(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):Fr(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Fr(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",f=this._container=Oi("div",s),_=this.options.collapsed;f.setAttribute("aria-haspopup",!0),tl(f),el(f);var S=this._section=Oi("section",s+"-list");_&&(this._map.on("click",this.collapse,this),Mi(f,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var I=this._layersLink=Oi("a",s+"-toggle",f);I.href="#",I.title="Layers",I.setAttribute("role","button"),Mi(I,{keydown:function(K){K.keyCode===13&&this._expandSafely()},click:function(K){fn(K),this._expandSafely()}},this),_||this.expand(),this._baseLayersList=Oi("div",s+"-base",S),this._separator=Oi("div",s+"-separator",S),this._overlaysList=Oi("div",s+"-overlays",S),f.appendChild(S)},_getLayer:function(s){for(var f=0;f<this._layers.length;f++)if(this._layers[f]&&o(this._layers[f].layer)===s)return this._layers[f]},_addLayer:function(s,f,_){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:f,overlay:_}),this.options.sortLayers&&this._layers.sort(n(function(S,I){return this.options.sortFunction(S.layer,I.layer,S.name,I.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;An(this._baseLayersList),An(this._overlaysList),this._layerControlInputs=[];var s,f,_,S,I=0;for(_=0;_<this._layers.length;_++)S=this._layers[_],this._addItem(S),f=f||S.overlay,s=s||!S.overlay,I+=S.overlay?0:1;return this.options.hideSingleBase&&(s=s&&I>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=f&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var f=this._getLayer(o(s.target)),_=f.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;_&&this._map.fire(_,f)},_createRadioElement:function(s,f){var _='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(f?' checked="checked"':"")+"/>",S=document.createElement("div");return S.innerHTML=_,S.firstChild},_addItem:function(s){var f=document.createElement("label"),_=this._map.hasLayer(s.layer),S;s.overlay?(S=document.createElement("input"),S.type="checkbox",S.className="leaflet-control-layers-selector",S.defaultChecked=_):S=this._createRadioElement("leaflet-base-layers_"+o(this),_),this._layerControlInputs.push(S),S.layerId=o(s.layer),Mi(S,"click",this._onInputClick,this);var I=document.createElement("span");I.innerHTML=" "+s.name;var K=document.createElement("span");f.appendChild(K),K.appendChild(S),K.appendChild(I);var Se=s.overlay?this._overlaysList:this._baseLayersList;return Se.appendChild(f),this._checkDisabledLayers(),f},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,f,_,S=[],I=[];this._handlingClick=!0;for(var K=s.length-1;K>=0;K--)f=s[K],_=this._getLayer(f.layerId).layer,f.checked?S.push(_):f.checked||I.push(_);for(K=0;K<I.length;K++)this._map.hasLayer(I[K])&&this._map.removeLayer(I[K]);for(K=0;K<S.length;K++)this._map.hasLayer(S[K])||this._map.addLayer(S[K]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,f,_,S=this._map.getZoom(),I=s.length-1;I>=0;I--)f=s[I],_=this._getLayer(f.layerId).layer,f.disabled=_.options.minZoom!==void 0&&S<_.options.minZoom||_.options.maxZoom!==void 0&&S>_.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,Mi(s,"click",fn),this.expand();var f=this;setTimeout(function(){hr(s,"click",fn),f._preventClick=!1})}}),is=function(s,f,_){return new oo(s,f,_)},Vc=ra.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var f="leaflet-control-zoom",_=Oi("div",f+" leaflet-bar"),S=this.options;return this._zoomInButton=this._createButton(S.zoomInText,S.zoomInTitle,f+"-in",_,this._zoomIn),this._zoomOutButton=this._createButton(S.zoomOutText,S.zoomOutTitle,f+"-out",_,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),_},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,f,_,S,I){var K=Oi("a",_,S);return K.innerHTML=s,K.href="#",K.title=f,K.setAttribute("role","button"),K.setAttribute("aria-label",f),tl(K),Mi(K,"click",es),Mi(K,"click",I,this),Mi(K,"click",this._refocusOnMap,this),K},_updateDisabled:function(){var s=this._map,f="leaflet-disabled";Fr(this._zoomInButton,f),Fr(this._zoomOutButton,f),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(ki(this._zoomOutButton,f),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(ki(this._zoomInButton,f),this._zoomInButton.setAttribute("aria-disabled","true"))}});$i.mergeOptions({zoomControl:!0}),$i.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Vc,this.addControl(this.zoomControl))});var As=function(s){return new Vc(s)},ja=ra.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var f="leaflet-control-scale",_=Oi("div",f),S=this.options;return this._addScales(S,f+"-line",_),s.on(S.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),_},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,f,_){s.metric&&(this._mScale=Oi("div",f,_)),s.imperial&&(this._iScale=Oi("div",f,_))},_update:function(){var s=this._map,f=s.getSize().y/2,_=s.distance(s.containerPointToLatLng([0,f]),s.containerPointToLatLng([this.options.maxWidth,f]));this._updateScales(_)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var f=this._getRoundNum(s),_=f<1e3?f+" m":f/1e3+" km";this._updateScale(this._mScale,_,f/s)},_updateImperial:function(s){var f=s*3.2808399,_,S,I;f>5280?(_=f/5280,S=this._getRoundNum(_),this._updateScale(this._iScale,S+" mi",S/_)):(I=this._getRoundNum(f),this._updateScale(this._iScale,I+" ft",I/f))},_updateScale:function(s,f,_){s.style.width=Math.round(this.options.maxWidth*_)+"px",s.innerHTML=f},_getRoundNum:function(s){var f=Math.pow(10,(Math.floor(s)+"").length-1),_=s/f;return _=_>=10?10:_>=5?5:_>=3?3:_>=2?2:1,f*_}}),jc=function(s){return new ja(s)},rl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',qc=ra.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+($t.inlineSvg?rl+" ":"")+"Leaflet</a>"},initialize:function(s){x(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=Oi("div","leaflet-control-attribution"),tl(this._container);for(var f in s._layers)s._layers[f].getAttribution&&this.addAttribution(s._layers[f].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var f in this._attributions)this._attributions[f]&&s.push(f);var _=[];this.options.prefix&&_.push(this.options.prefix),s.length&&_.push(s.join(", ")),this._container.innerHTML=_.join(' <span aria-hidden="true">|</span> ')}}});$i.mergeOptions({attributionControl:!0}),$i.addInitHook(function(){this.options.attributionControl&&new qc().addTo(this)});var Ll=function(s){return new qc(s)};ra.Layers=oo,ra.Zoom=Vc,ra.Scale=ja,ra.Attribution=qc,ks.layers=is,ks.zoom=As,ks.scale=jc,ks.attribution=Ll;var qa=H.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});qa.addTo=function(s,f){return s.addHandler(f,this),this};var zc={Events:_e},Dl=$t.touch?"touchstart mousedown":"mousedown",so=Fe.extend({options:{clickTolerance:3},initialize:function(s,f,_,S){x(this,S),this._element=s,this._dragStartTarget=f||s,this._preventOutline=_},enable:function(){this._enabled||(Mi(this._dragStartTarget,Dl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(so._dragging===this&&this.finishDrag(!0),hr(this._dragStartTarget,Dl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Al(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){so._dragging===this&&this.finishDrag();return}if(!(so._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(so._dragging=this,this._preventOutline&&Ps(this._element),Dc(),Qs(),!this._moving)){this.fire("down");var f=s.touches?s.touches[0]:s,_=Bc(this._element);this._startPoint=new ke(f.clientX,f.clientY),this._startPos=Po(this._element),this._parentScale=vn(_);var S=s.type==="mousedown";Mi(document,S?"mousemove":"touchmove",this._onMove,this),Mi(document,S?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var f=s.touches&&s.touches.length===1?s.touches[0]:s,_=new ke(f.clientX,f.clientY)._subtract(this._startPoint);!_.x&&!_.y||Math.abs(_.x)+Math.abs(_.y)<this.options.clickTolerance||(_.x/=this._parentScale.x,_.y/=this._parentScale.y,fn(s),this._moved||(this.fire("dragstart"),this._moved=!0,ki(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ki(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(_),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),Gr(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){Fr(document.body,"leaflet-dragging"),this._lastTarget&&(Fr(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),hr(document,"mousemove touchmove",this._onMove,this),hr(document,"mouseup touchend touchcancel",this._onUp,this),Rc(),Es();var f=this._moved&&this._moving;this._moving=!1,so._dragging=!1,f&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function nl(s,f,_){var S,I=[1,4,2,8],K,Se,qe,Ke,bt,Xt,pi,Ni;for(K=0,Xt=s.length;K<Xt;K++)s[K]._code=Pe(s[K],f);for(qe=0;qe<4;qe++){for(pi=I[qe],S=[],K=0,Xt=s.length,Se=Xt-1;K<Xt;Se=K++)Ke=s[K],bt=s[Se],Ke._code&pi?bt._code&pi||(Ni=me(bt,Ke,pi,f,_),Ni._code=Pe(Ni,f),S.push(Ni)):(bt._code&pi&&(Ni=me(bt,Ke,pi,f,_),Ni._code=Pe(Ni,f),S.push(Ni)),S.push(Ke));s=S}return s}function Rl(s,f){var _,S,I,K,Se,qe,Ke,bt,Xt;if(!s||s.length===0)throw new Error("latlngs not passed");ct(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var pi=N([0,0]),Ni=A(s),pn=Ni.getNorthWest().distanceTo(Ni.getSouthWest())*Ni.getNorthEast().distanceTo(Ni.getNorthWest());pn<1700&&(pi=al(s));var bn=s.length,Wa=[];for(_=0;_<bn;_++){var zn=N(s[_]);Wa.push(f.project(N([zn.lat-pi.lat,zn.lng-pi.lng])))}for(qe=Ke=bt=0,_=0,S=bn-1;_<bn;S=_++)I=Wa[_],K=Wa[S],Se=I.y*K.x-K.y*I.x,Ke+=(I.x+K.x)*Se,bt+=(I.y+K.y)*Se,qe+=Se*3;qe===0?Xt=Wa[0]:Xt=[Ke/qe,bt/qe];var Gl=f.unproject(Me(Xt));return N([Gl.lat+pi.lat,Gl.lng+pi.lng])}function al(s){for(var f=0,_=0,S=0,I=0;I<s.length;I++){var K=N(s[I]);f+=K.lat,_+=K.lng,S++}return N([f/S,_/S])}var Bd={__proto__:null,clipPolygon:nl,polygonCenter:Rl,centroid:al};function Ud(s,f){if(!f||!s.length)return s.slice();var _=f*f;return s=Hc(s,_),s=Wc(s,_),s}function ol(s,f,_){return Math.sqrt(it(s,f,_,!0))}function sl(s,f,_){return it(s,f,_)}function Wc(s,f){var _=s.length,S=typeof Uint8Array<"u"?Uint8Array:Array,I=new S(_);I[0]=I[_-1]=1,Mo(s,I,f,0,_-1);var K,Se=[];for(K=0;K<_;K++)I[K]&&Se.push(s[K]);return Se}function Mo(s,f,_,S,I){var K=0,Se,qe,Ke;for(qe=S+1;qe<=I-1;qe++)Ke=it(s[qe],s[S],s[I],!0),Ke>K&&(Se=qe,K=Ke);K>_&&(f[Se]=1,Mo(s,f,_,S,Se),Mo(s,f,_,Se,I))}function Hc(s,f){for(var _=[s[0]],S=1,I=0,K=s.length;S<K;S++)Ue(s[S],s[I])>f&&(_.push(s[S]),I=S);return I<K-1&&_.push(s[K-1]),_}var C;function R(s,f,_,S,I){var K=S?C:Pe(s,_),Se=Pe(f,_),qe,Ke,bt;for(C=Se;;){if(!(K|Se))return[s,f];if(K&Se)return!1;qe=K||Se,Ke=me(s,f,qe,_,I),bt=Pe(Ke,_),qe===K?(s=Ke,K=bt):(f=Ke,Se=bt)}}function me(s,f,_,S,I){var K=f.x-s.x,Se=f.y-s.y,qe=S.min,Ke=S.max,bt,Xt;return _&8?(bt=s.x+K*(Ke.y-s.y)/Se,Xt=Ke.y):_&4?(bt=s.x+K*(qe.y-s.y)/Se,Xt=qe.y):_&2?(bt=Ke.x,Xt=s.y+Se*(Ke.x-s.x)/K):_&1&&(bt=qe.x,Xt=s.y+Se*(qe.x-s.x)/K),new ke(bt,Xt,I)}function Pe(s,f){var _=0;return s.x<f.min.x?_|=1:s.x>f.max.x&&(_|=2),s.y<f.min.y?_|=4:s.y>f.max.y&&(_|=8),_}function Ue(s,f){var _=f.x-s.x,S=f.y-s.y;return _*_+S*S}function it(s,f,_,S){var I=f.x,K=f.y,Se=_.x-I,qe=_.y-K,Ke=Se*Se+qe*qe,bt;return Ke>0&&(bt=((s.x-I)*Se+(s.y-K)*qe)/Ke,bt>1?(I=_.x,K=_.y):bt>0&&(I+=Se*bt,K+=qe*bt)),Se=s.x-I,qe=s.y-K,S?Se*Se+qe*qe:new ke(I,K)}function ct(s){return!F(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function Gt(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ct(s)}function ii(s,f){var _,S,I,K,Se,qe,Ke,bt;if(!s||s.length===0)throw new Error("latlngs not passed");ct(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Xt=N([0,0]),pi=A(s),Ni=pi.getNorthWest().distanceTo(pi.getSouthWest())*pi.getNorthEast().distanceTo(pi.getNorthWest());Ni<1700&&(Xt=al(s));var pn=s.length,bn=[];for(_=0;_<pn;_++){var Wa=N(s[_]);bn.push(f.project(N([Wa.lat-Xt.lat,Wa.lng-Xt.lng])))}for(_=0,S=0;_<pn-1;_++)S+=bn[_].distanceTo(bn[_+1])/2;if(S===0)bt=bn[0];else for(_=0,K=0;_<pn-1;_++)if(Se=bn[_],qe=bn[_+1],I=Se.distanceTo(qe),K+=I,K>S){Ke=(K-S)/I,bt=[qe.x-Ke*(qe.x-Se.x),qe.y-Ke*(qe.y-Se.y)];break}var zn=f.unproject(Me(bt));return N([zn.lat+Xt.lat,zn.lng+Xt.lng])}var Ai={__proto__:null,simplify:Ud,pointToSegmentDistance:ol,closestPointOnSegment:sl,clipSegment:R,_getEdgeIntersection:me,_getBitCode:Pe,_sqClosestPointOnSegment:it,isFlat:ct,_flat:Gt,polylineCenter:ii},Ei={project:function(s){return new ke(s.lng,s.lat)},unproject:function(s){return new V(s.y,s.x)},bounds:new je([-180,-90],[180,90])},Xi={R:6378137,R_MINOR:6356752314245179e-9,bounds:new je([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var f=Math.PI/180,_=this.R,S=s.lat*f,I=this.R_MINOR/_,K=Math.sqrt(1-I*I),Se=K*Math.sin(S),qe=Math.tan(Math.PI/4-S/2)/Math.pow((1-Se)/(1+Se),K/2);return S=-_*Math.log(Math.max(qe,1e-10)),new ke(s.lng*f*_,S)},unproject:function(s){for(var f=180/Math.PI,_=this.R,S=this.R_MINOR/_,I=Math.sqrt(1-S*S),K=Math.exp(-s.y/_),Se=Math.PI/2-2*Math.atan(K),qe=0,Ke=.1,bt;qe<15&&Math.abs(Ke)>1e-7;qe++)bt=I*Math.sin(Se),bt=Math.pow((1-bt)/(1+bt),I/2),Ke=Math.PI/2-2*Math.atan(K*bt)-Se,Se+=Ke;return new V(Se*f,s.x*f/_)}},qr={__proto__:null,LonLat:Ei,Mercator:Xi,SphericalMercator:Ie},$r=e({},se,{code:"EPSG:3395",projection:Xi,transformation:function(){var s=.5/(Math.PI*Xi.R);return Re(s,.5,-s,.5)}()}),Qr=e({},se,{code:"EPSG:4326",projection:Ei,transformation:Re(1/180,1,-1/180,.5)}),On=e({},j,{projection:Ei,transformation:Re(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,f){var _=f.lng-s.lng,S=f.lat-s.lat;return Math.sqrt(_*_+S*S)},infinite:!0});j.Earth=se,j.EPSG3395=$r,j.EPSG3857=at,j.EPSG900913=pt,j.EPSG4326=Qr,j.Simple=On;var mr=Fe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[o(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[o(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var f=s.target;if(f.hasLayer(this)){if(this._map=f,this._zoomAnimated=f._zoomAnimated,this.getEvents){var _=this.getEvents();f.on(_,this),this.once("remove",function(){f.off(_,this)},this)}this.onAdd(f),this.fire("add"),f.fire("layeradd",{layer:this})}}});$i.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var f=o(s);return this._layers[f]?this:(this._layers[f]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var f=o(s);return this._layers[f]?(this._loaded&&s.onRemove(this),delete this._layers[f],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return o(s)in this._layers},eachLayer:function(s,f){for(var _ in this._layers)s.call(f,this._layers[_]);return this},_addLayers:function(s){s=s?F(s)?s:[s]:[];for(var f=0,_=s.length;f<_;f++)this.addLayer(s[f])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[o(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var f=o(s);this._zoomBoundLayers[f]&&(delete this._zoomBoundLayers[f],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,f=-1/0,_=this._getZoomSpan();for(var S in this._zoomBoundLayers){var I=this._zoomBoundLayers[S].options;s=I.minZoom===void 0?s:Math.min(s,I.minZoom),f=I.maxZoom===void 0?f:Math.max(f,I.maxZoom)}this._layersMaxZoom=f===-1/0?void 0:f,this._layersMinZoom=s===1/0?void 0:s,_!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var In=mr.extend({initialize:function(s,f){x(this,f),this._layers={};var _,S;if(s)for(_=0,S=s.length;_<S;_++)this.addLayer(s[_])},addLayer:function(s){var f=this.getLayerId(s);return this._layers[f]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var f=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[f]&&this._map.removeLayer(this._layers[f]),delete this._layers[f],this},hasLayer:function(s){var f=typeof s=="number"?s:this.getLayerId(s);return f in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var f=Array.prototype.slice.call(arguments,1),_,S;for(_ in this._layers)S=this._layers[_],S[s]&&S[s].apply(S,f);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,f){for(var _ in this._layers)s.call(f,this._layers[_]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return o(s)}}),ya=function(s,f){return new In(s,f)},_n=In.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),In.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),In.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new wt;for(var f in this._layers){var _=this._layers[f];s.extend(_.getBounds?_.getBounds():_.getLatLng())}return s}}),Vd=function(s,f){return new _n(s,f)},To=H.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){x(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,f){var _=this._getIconUrl(s);if(!_){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var S=this._createImg(_,f&&f.tagName==="IMG"?f:null);return this._setIconStyles(S,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(S.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),S},_setIconStyles:function(s,f){var _=this.options,S=_[f+"Size"];typeof S=="number"&&(S=[S,S]);var I=Me(S),K=Me(f==="shadow"&&_.shadowAnchor||_.iconAnchor||I&&I.divideBy(2,!0));s.className="leaflet-marker-"+f+" "+(_.className||""),K&&(s.style.marginLeft=-K.x+"px",s.style.marginTop=-K.y+"px"),I&&(s.style.width=I.x+"px",s.style.height=I.y+"px")},_createImg:function(s,f){return f=f||document.createElement("img"),f.src=s,f},_getIconUrl:function(s){return $t.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function Gc(s){return new To(s)}var ko=To.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof ko.imagePath!="string"&&(ko.imagePath=this._detectIconPath()),(this.options.imagePath||ko.imagePath)+To.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var f=function(_,S,I){var K=S.exec(_);return K&&K[I]};return s=f(s,/^url\((['"])?(.+)\1\)$/,2),s&&f(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=Oi("div","leaflet-default-icon-path",document.body),f=ea(s,"background-image")||ea(s,"backgroundImage");if(document.body.removeChild(s),f=this._stripUrl(f),f)return f;var _=document.querySelector('link[href$="leaflet.css"]');return _?_.href.substring(0,_.href.length-11-1):""}}),Bl=qa.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new so(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ki(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Fr(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var f=this._marker,_=f._map,S=this._marker.options.autoPanSpeed,I=this._marker.options.autoPanPadding,K=Po(f._icon),Se=_.getPixelBounds(),qe=_.getPixelOrigin(),Ke=Ze(Se.min._subtract(qe).add(I),Se.max._subtract(qe).subtract(I));if(!Ke.contains(K)){var bt=Me((Math.max(Ke.max.x,K.x)-Ke.max.x)/(Se.max.x-Ke.max.x)-(Math.min(Ke.min.x,K.x)-Ke.min.x)/(Se.min.x-Ke.min.x),(Math.max(Ke.max.y,K.y)-Ke.max.y)/(Se.max.y-Ke.max.y)-(Math.min(Ke.min.y,K.y)-Ke.min.y)/(Se.min.y-Ke.min.y)).multiplyBy(S);_.panBy(bt,{animate:!1}),this._draggable._newPos._add(bt),this._draggable._startPos._add(bt),Gr(f._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=le(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(Ce(this._panRequest),this._panRequest=le(this._adjustPan.bind(this,s)))},_onDrag:function(s){var f=this._marker,_=f._shadow,S=Po(f._icon),I=f._map.layerPointToLatLng(S);_&&Gr(_,S),f._latlng=I,s.latlng=I,s.oldLatLng=this._oldLatLng,f.fire("move",s).fire("drag",s)},_onDragEnd:function(s){Ce(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),Os=mr.extend({options:{icon:new ko,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,f){x(this,f),this._latlng=N(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var f=this._latlng;return this._latlng=N(s),this.update(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,f="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),_=s.icon.createIcon(this._icon),S=!1;_!==this._icon&&(this._icon&&this._removeIcon(),S=!0,s.title&&(_.title=s.title),_.tagName==="IMG"&&(_.alt=s.alt||"")),ki(_,f),s.keyboard&&(_.tabIndex="0",_.setAttribute("role","button")),this._icon=_,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Mi(_,"focus",this._panOnFocus,this);var I=s.icon.createShadow(this._shadow),K=!1;I!==this._shadow&&(this._removeShadow(),K=!0),I&&(ki(I,f),I.alt=""),this._shadow=I,s.opacity<1&&this._updateOpacity(),S&&this.getPane().appendChild(this._icon),this._initInteraction(),I&&K&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&hr(this._icon,"focus",this._panOnFocus,this),sr(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&sr(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&Gr(this._icon,s),this._shadow&&Gr(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var f=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(f)},_initInteraction:function(){if(this.options.interactive&&(ki(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Bl)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Bl(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Pn(this._icon,s),this._shadow&&Pn(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var f=this.options.icon.options,_=f.iconSize?Me(f.iconSize):Me(0,0),S=f.iconAnchor?Me(f.iconAnchor):Me(0,0);s.panInside(this._latlng,{paddingTopLeft:S,paddingBottomRight:_.subtract(S)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Ul(s,f){return new Os(s,f)}var Br=mr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return x(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),rs=Br.extend({options:{fill:!0,radius:10},initialize:function(s,f){x(this,f),this._latlng=N(s),this._radius=this.options.radius},setLatLng:function(s){var f=this._latlng;return this._latlng=N(s),this.redraw(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var f=s&&s.radius||this._radius;return Br.prototype.setStyle.call(this,s),this.setRadius(f),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,f=this._radiusY||s,_=this._clickTolerance(),S=[s+_,f+_];this._pxBounds=new je(this._point.subtract(S),this._point.add(S))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Vl(s,f){return new rs(s,f)}var Is=rs.extend({initialize:function(s,f,_){if(typeof f=="number"&&(f=e({},_,{radius:f})),x(this,f),this._latlng=N(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new wt(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Br.prototype.setStyle,_project:function(){var s=this._latlng.lng,f=this._latlng.lat,_=this._map,S=_.options.crs;if(S.distance===se.distance){var I=Math.PI/180,K=this._mRadius/se.R/I,Se=_.project([f+K,s]),qe=_.project([f-K,s]),Ke=Se.add(qe).divideBy(2),bt=_.unproject(Ke).lat,Xt=Math.acos((Math.cos(K*I)-Math.sin(f*I)*Math.sin(bt*I))/(Math.cos(f*I)*Math.cos(bt*I)))/I;(isNaN(Xt)||Xt===0)&&(Xt=K/Math.cos(Math.PI/180*f)),this._point=Ke.subtract(_.getPixelOrigin()),this._radius=isNaN(Xt)?0:Ke.x-_.project([bt,s-Xt]).x,this._radiusY=Ke.y-Se.y}else{var pi=S.unproject(S.project(this._latlng).subtract([this._mRadius,0]));this._point=_.latLngToLayerPoint(this._latlng),this._radius=this._point.x-_.latLngToLayerPoint(pi).x}this._updateBounds()}});function $c(s,f,_){return new Is(s,f,_)}var Zr=Br.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,f){x(this,f),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var f=1/0,_=null,S=it,I,K,Se=0,qe=this._parts.length;Se<qe;Se++)for(var Ke=this._parts[Se],bt=1,Xt=Ke.length;bt<Xt;bt++){I=Ke[bt-1],K=Ke[bt];var pi=S(s,I,K,!0);pi<f&&(f=pi,_=S(s,I,K))}return _&&(_.distance=Math.sqrt(f)),_},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ii(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,f){return f=f||this._defaultShape(),s=N(s),f.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new wt,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return ct(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var f=[],_=ct(s),S=0,I=s.length;S<I;S++)_?(f[S]=N(s[S]),this._bounds.extend(f[S])):f[S]=this._convertLatLngs(s[S]);return f},_project:function(){var s=new je;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),f=new ke(s,s);this._rawPxBounds&&(this._pxBounds=new je([this._rawPxBounds.min.subtract(f),this._rawPxBounds.max.add(f)]))},_projectLatlngs:function(s,f,_){var S=s[0]instanceof V,I=s.length,K,Se;if(S){for(Se=[],K=0;K<I;K++)Se[K]=this._map.latLngToLayerPoint(s[K]),_.extend(Se[K]);f.push(Se)}else for(K=0;K<I;K++)this._projectLatlngs(s[K],f,_)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var f=this._parts,_,S,I,K,Se,qe,Ke;for(_=0,I=0,K=this._rings.length;_<K;_++)for(Ke=this._rings[_],S=0,Se=Ke.length;S<Se-1;S++)qe=R(Ke[S],Ke[S+1],s,S,!0),qe&&(f[I]=f[I]||[],f[I].push(qe[0]),(qe[1]!==Ke[S+1]||S===Se-2)&&(f[I].push(qe[1]),I++))}},_simplifyPoints:function(){for(var s=this._parts,f=this.options.smoothFactor,_=0,S=s.length;_<S;_++)s[_]=Ud(s[_],f)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,f){var _,S,I,K,Se,qe,Ke=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(_=0,K=this._parts.length;_<K;_++)for(qe=this._parts[_],S=0,Se=qe.length,I=Se-1;S<Se;I=S++)if(!(!f&&S===0)&&ol(s,qe[I],qe[S])<=Ke)return!0;return!1}});function Ju(s,f){return new Zr(s,f)}Zr._flat=Gt;var Ao=Zr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Rl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var f=Zr.prototype._convertLatLngs.call(this,s),_=f.length;return _>=2&&f[0]instanceof V&&f[0].equals(f[_-1])&&f.pop(),f},_setLatLngs:function(s){Zr.prototype._setLatLngs.call(this,s),ct(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ct(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,f=this.options.weight,_=new ke(f,f);if(s=new je(s.min.subtract(_),s.max.add(_)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var S=0,I=this._rings.length,K;S<I;S++)K=nl(this._rings[S],s,!0),K.length&&this._parts.push(K)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var f=!1,_,S,I,K,Se,qe,Ke,bt;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(K=0,Ke=this._parts.length;K<Ke;K++)for(_=this._parts[K],Se=0,bt=_.length,qe=bt-1;Se<bt;qe=Se++)S=_[Se],I=_[qe],S.y>s.y!=I.y>s.y&&s.x<(I.x-S.x)*(s.y-S.y)/(I.y-S.y)+S.x&&(f=!f);return f||Zr.prototype._containsPoint.call(this,s,!0)}});function jd(s,f){return new Ao(s,f)}var nn=_n.extend({initialize:function(s,f){x(this,f),this._layers={},s&&this.addData(s)},addData:function(s){var f=F(s)?s:s.features,_,S,I;if(f){for(_=0,S=f.length;_<S;_++)I=f[_],(I.geometries||I.geometry||I.features||I.coordinates)&&this.addData(I);return this}var K=this.options;if(K.filter&&!K.filter(s))return this;var Se=ns(s,K);return Se?(Se.feature=co(s),Se.defaultOptions=Se.options,this.resetStyle(Se),K.onEachFeature&&K.onEachFeature(s,Se),this.addLayer(Se)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=e({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(f){this._setLayerStyle(f,s)},this)},_setLayerStyle:function(s,f){s.setStyle&&(typeof f=="function"&&(f=f(s.feature)),s.setStyle(f))}});function ns(s,f){var _=s.type==="Feature"?s.geometry:s,S=_?_.coordinates:null,I=[],K=f&&f.pointToLayer,Se=f&&f.coordsToLatLng||jl,qe,Ke,bt,Xt;if(!S&&!_)return null;switch(_.type){case"Point":return qe=Se(S),Zc(K,s,qe,f);case"MultiPoint":for(bt=0,Xt=S.length;bt<Xt;bt++)qe=Se(S[bt]),I.push(Zc(K,s,qe,f));return new _n(I);case"LineString":case"MultiLineString":return Ke=lo(S,_.type==="LineString"?0:1,Se),new Zr(Ke,f);case"Polygon":case"MultiPolygon":return Ke=lo(S,_.type==="Polygon"?1:2,Se),new Ao(Ke,f);case"GeometryCollection":for(bt=0,Xt=_.geometries.length;bt<Xt;bt++){var pi=ns({geometry:_.geometries[bt],type:"Feature",properties:s.properties},f);pi&&I.push(pi)}return new _n(I);case"FeatureCollection":for(bt=0,Xt=_.features.length;bt<Xt;bt++){var Ni=ns(_.features[bt],f);Ni&&I.push(Ni)}return new _n(I);default:throw new Error("Invalid GeoJSON object.")}}function Zc(s,f,_,S){return s?s(f,_):new Os(_,S&&S.markersInheritOptions&&S)}function jl(s){return new V(s[1],s[0],s[2])}function lo(s,f,_){for(var S=[],I=0,K=s.length,Se;I<K;I++)Se=f?lo(s[I],f-1,_):(_||jl)(s[I]),S.push(Se);return S}function as(s,f){return s=N(s),s.alt!==void 0?[g(s.lng,f),g(s.lat,f),g(s.alt,f)]:[g(s.lng,f),g(s.lat,f)]}function Mn(s,f,_,S){for(var I=[],K=0,Se=s.length;K<Se;K++)I.push(f?Mn(s[K],ct(s[K])?0:f-1,_,S):as(s[K],S));return!f&&_&&I.length>0&&I.push(I[0].slice()),I}function an(s,f){return s.feature?e({},s.feature,{geometry:f}):co(f)}function co(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var uo={toGeoJSON:function(s){return an(this,{type:"Point",coordinates:as(this.getLatLng(),s)})}};Os.include(uo),Is.include(uo),rs.include(uo),Zr.include({toGeoJSON:function(s){var f=!ct(this._latlngs),_=Mn(this._latlngs,f?1:0,!1,s);return an(this,{type:(f?"Multi":"")+"LineString",coordinates:_})}}),Ao.include({toGeoJSON:function(s){var f=!ct(this._latlngs),_=f&&!ct(this._latlngs[0]),S=Mn(this._latlngs,_?2:f?1:0,!0,s);return f||(S=[S]),an(this,{type:(_?"Multi":"")+"Polygon",coordinates:S})}}),In.include({toMultiPoint:function(s){var f=[];return this.eachLayer(function(_){f.push(_.toGeoJSON(s).geometry.coordinates)}),an(this,{type:"MultiPoint",coordinates:f})},toGeoJSON:function(s){var f=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(f==="MultiPoint")return this.toMultiPoint(s);var _=f==="GeometryCollection",S=[];return this.eachLayer(function(I){if(I.toGeoJSON){var K=I.toGeoJSON(s);if(_)S.push(K.geometry);else{var Se=co(K);Se.type==="FeatureCollection"?S.push.apply(S,Se.features):S.push(Se)}}}),_?an(this,{geometries:S,type:"GeometryCollection"}):{type:"FeatureCollection",features:S}}});function Oo(s,f){return new nn(s,f)}var ql=Oo,za=mr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,f,_){this._url=s,this._bounds=A(f),x(this,_)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ki(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){sr(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Mr(this._image),this},bringToBack:function(){return this._map&&Ko(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=A(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",f=this._image=s?this._url:Oi("img");if(ki(f,"leaflet-image-layer"),this._zoomAnimated&&ki(f,"leaflet-zoom-animated"),this.options.className&&ki(f,this.options.className),f.onselectstart=p,f.onmousemove=p,f.onload=n(this.fire,this,"load"),f.onerror=n(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=f.src;return}f.src=this._url,f.alt=this.options.alt},_animateZoom:function(s){var f=this._map.getZoomScale(s.zoom),_=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;Eo(this._image,_,f)},_reset:function(){var s=this._image,f=new je(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),_=f.getSize();Gr(s,f.min),s.style.width=_.x+"px",s.style.height=_.y+"px"},_updateOpacity:function(){Pn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),en=function(s,f,_){return new za(s,f,_)},zl=za.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",f=this._image=s?this._url:Oi("video");if(ki(f,"leaflet-image-layer"),this._zoomAnimated&&ki(f,"leaflet-zoom-animated"),this.options.className&&ki(f,this.options.className),f.onselectstart=p,f.onmousemove=p,f.onloadeddata=n(this.fire,this,"load"),s){for(var _=f.getElementsByTagName("source"),S=[],I=0;I<_.length;I++)S.push(_[I].src);this._url=_.length>0?S:[f.src];return}F(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(f.style,"objectFit")&&(f.style.objectFit="fill"),f.autoplay=!!this.options.autoplay,f.loop=!!this.options.loop,f.muted=!!this.options.muted,f.playsInline=!!this.options.playsInline;for(var K=0;K<this._url.length;K++){var Se=Oi("source");Se.src=this._url[K],f.appendChild(Se)}}});function qn(s,f,_){return new zl(s,f,_)}var Ca=za.extend({_initImage:function(){var s=this._image=this._url;ki(s,"leaflet-image-layer"),this._zoomAnimated&&ki(s,"leaflet-zoom-animated"),this.options.className&&ki(s,this.options.className),s.onselectstart=p,s.onmousemove=p}});function Wl(s,f,_){return new Ca(s,f,_)}var wa=mr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,f){s&&(s instanceof V||F(s))?(this._latlng=N(s),x(this,f)):(x(this,s),this._source=f),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Pn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Pn(this._container,1),this.bringToFront(),this.options.interactive&&(ki(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Pn(this._container,0),this._removeTimeout=setTimeout(n(sr,void 0,this._container),200)):sr(this._container),this.options.interactive&&(Fr(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=N(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Mr(this._container),this},bringToBack:function(){return this._map&&Ko(this._container),this},_prepareOpen:function(s){var f=this._source;if(!f._map)return!1;if(f instanceof _n){f=null;var _=this._source._layers;for(var S in _)if(_[S]._map){f=_[S];break}if(!f)return!1;this._source=f}if(!s)if(f.getCenter)s=f.getCenter();else if(f.getLatLng)s=f.getLatLng();else if(f.getBounds)s=f.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,f=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof f=="string")s.innerHTML=f;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(f)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),f=Me(this.options.offset),_=this._getAnchor();this._zoomAnimated?Gr(this._container,s.add(_)):f=f.add(s).add(_);var S=this._containerBottom=-f.y,I=this._containerLeft=-Math.round(this._containerWidth/2)+f.x;this._container.style.bottom=S+"px",this._container.style.left=I+"px"}},_getAnchor:function(){return[0,0]}});$i.include({_initOverlay:function(s,f,_,S){var I=f;return I instanceof s||(I=new s(S).setContent(f)),_&&I.setLatLng(_),I}}),mr.include({_initOverlay:function(s,f,_,S){var I=_;return I instanceof s?(x(I,S),I._source=this):(I=f&&!S?f:new s(S,this),I.setContent(_)),I}});var Fs=wa.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,wa.prototype.openOn.call(this,s)},onAdd:function(s){wa.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Br||this._source.on("preclick",Va))},onRemove:function(s){wa.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Br||this._source.off("preclick",Va))},getEvents:function(){var s=wa.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",f=this._container=Oi("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),_=this._wrapper=Oi("div",s+"-content-wrapper",f);if(this._contentNode=Oi("div",s+"-content",_),tl(f),el(this._contentNode),Mi(f,"contextmenu",Va),this._tipContainer=Oi("div",s+"-tip-container",f),this._tip=Oi("div",s+"-tip",this._tipContainer),this.options.closeButton){var S=this._closeButton=Oi("a",s+"-close-button",f);S.setAttribute("role","button"),S.setAttribute("aria-label","Close popup"),S.href="#close",S.innerHTML='<span aria-hidden="true">&#215;</span>',Mi(S,"click",function(I){fn(I),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,f=s.style;f.width="",f.whiteSpace="nowrap";var _=s.offsetWidth;_=Math.min(_,this.options.maxWidth),_=Math.max(_,this.options.minWidth),f.width=_+1+"px",f.whiteSpace="",f.height="";var S=s.offsetHeight,I=this.options.maxHeight,K="leaflet-popup-scrolled";I&&S>I?(f.height=I+"px",ki(s,K)):Fr(s,K),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var f=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),_=this._getAnchor();Gr(this._container,f.add(_))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,f=parseInt(ea(this._container,"marginBottom"),10)||0,_=this._container.offsetHeight+f,S=this._containerWidth,I=new ke(this._containerLeft,-_-this._containerBottom);I._add(Po(this._container));var K=s.layerPointToContainerPoint(I),Se=Me(this.options.autoPanPadding),qe=Me(this.options.autoPanPaddingTopLeft||Se),Ke=Me(this.options.autoPanPaddingBottomRight||Se),bt=s.getSize(),Xt=0,pi=0;K.x+S+Ke.x>bt.x&&(Xt=K.x+S-bt.x+Ke.x),K.x-Xt-qe.x<0&&(Xt=K.x-qe.x),K.y+_+Ke.y>bt.y&&(pi=K.y+_-bt.y+Ke.y),K.y-pi-qe.y<0&&(pi=K.y-qe.y),(Xt||pi)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([Xt,pi]))}},_getAnchor:function(){return Me(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ll=function(s,f){return new Fs(s,f)};$i.mergeOptions({closePopupOnClick:!0}),$i.include({openPopup:function(s,f,_){return this._initOverlay(Fs,s,f,_).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),mr.include({bindPopup:function(s,f){return this._popup=this._initOverlay(Fs,this._popup,s,f),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof _n||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){es(s);var f=s.layer||s.target;if(this._popup._source===f&&!(f instanceof Br)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=f,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var Io=wa.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){wa.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){wa.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=wa.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",f=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Oi("div",f),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+o(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var f,_,S=this._map,I=this._container,K=S.latLngToContainerPoint(S.getCenter()),Se=S.layerPointToContainerPoint(s),qe=this.options.direction,Ke=I.offsetWidth,bt=I.offsetHeight,Xt=Me(this.options.offset),pi=this._getAnchor();qe==="top"?(f=Ke/2,_=bt):qe==="bottom"?(f=Ke/2,_=0):qe==="center"?(f=Ke/2,_=bt/2):qe==="right"?(f=0,_=bt/2):qe==="left"?(f=Ke,_=bt/2):Se.x<K.x?(qe="right",f=0,_=bt/2):(qe="left",f=Ke+(Xt.x+pi.x)*2,_=bt/2),s=s.subtract(Me(f,_,!0)).add(Xt).add(pi),Fr(I,"leaflet-tooltip-right"),Fr(I,"leaflet-tooltip-left"),Fr(I,"leaflet-tooltip-top"),Fr(I,"leaflet-tooltip-bottom"),ki(I,"leaflet-tooltip-"+qe),Gr(I,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Pn(this._container,s)},_animateZoom:function(s){var f=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(f)},_getAnchor:function(){return Me(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ns=function(s,f){return new Io(s,f)};$i.include({openTooltip:function(s,f,_){return this._initOverlay(Io,s,f,_).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),mr.include({bindTooltip:function(s,f){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Io,this._tooltip,s,f),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var f=s?"off":"on",_={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?_.add=this._openTooltip:(_.mouseover=this._openTooltip,_.mouseout=this.closeTooltip,_.click=this._openTooltip,this._map?this._addFocusListeners():_.add=this._addFocusListeners),this._tooltip.options.sticky&&(_.mousemove=this._moveTooltip),this[f](_),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof _n||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var f=typeof s.getElement=="function"&&s.getElement();f&&(Mi(f,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),Mi(f,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var f=typeof s.getElement=="function"&&s.getElement();f&&f.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var f=this;this._map.once("moveend",function(){f._openOnceFlag=!1,f._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var f=s.latlng,_,S;this._tooltip.options.sticky&&s.originalEvent&&(_=this._map.mouseEventToContainerPoint(s.originalEvent),S=this._map.containerPointToLayerPoint(_),f=this._map.layerPointToLatLng(S)),this._tooltip.setLatLng(f)}});var Ls=To.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var f=s&&s.tagName==="DIV"?s:document.createElement("div"),_=this.options;if(_.html instanceof Element?(An(f),f.appendChild(_.html)):f.innerHTML=_.html!==!1?_.html:"",_.bgPos){var S=Me(_.bgPos);f.style.backgroundPosition=-S.x+"px "+-S.y+"px"}return this._setIconStyles(f,"icon"),f},createShadow:function(){return null}});function Hl(s){return new Ls(s)}To.Default=ko;var fo=mr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:$t.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){x(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),sr(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Mr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ko(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof ke?s:new ke(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var f=this.getPane().children,_=-s(-1/0,1/0),S=0,I=f.length,K;S<I;S++)K=f[S].style.zIndex,f[S]!==this._container&&K&&(_=s(_,+K));isFinite(_)&&(this.options.zIndex=_+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!$t.ielt9){Pn(this._container,this.options.opacity);var s=+new Date,f=!1,_=!1;for(var S in this._tiles){var I=this._tiles[S];if(!(!I.current||!I.loaded)){var K=Math.min(1,(s-I.loaded)/200);Pn(I.el,K),K<1?f=!0:(I.active?_=!0:this._onOpaqueTile(I),I.active=!0)}}_&&!this._noPrune&&this._pruneTiles(),f&&(Ce(this._fadeFrame),this._fadeFrame=le(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=Oi("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,f=this.options.maxZoom;if(s!==void 0){for(var _ in this._levels)_=Number(_),this._levels[_].el.children.length||_===s?(this._levels[_].el.style.zIndex=f-Math.abs(s-_),this._onUpdateLevel(_)):(sr(this._levels[_].el),this._removeTilesAtZoom(_),this._onRemoveLevel(_),delete this._levels[_]);var S=this._levels[s],I=this._map;return S||(S=this._levels[s]={},S.el=Oi("div","leaflet-tile-container leaflet-zoom-animated",this._container),S.el.style.zIndex=f,S.origin=I.project(I.unproject(I.getPixelOrigin()),s).round(),S.zoom=s,this._setZoomTransform(S,I.getCenter(),I.getZoom()),p(S.el.offsetWidth),this._onCreateLevel(S)),this._level=S,S}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var s,f,_=this._map.getZoom();if(_>this.options.maxZoom||_<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)f=this._tiles[s],f.retain=f.current;for(s in this._tiles)if(f=this._tiles[s],f.current&&!f.active){var S=f.coords;this._retainParent(S.x,S.y,S.z,S.z-5)||this._retainChildren(S.x,S.y,S.z,S.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var f in this._tiles)this._tiles[f].coords.z===s&&this._removeTile(f)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)sr(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,f,_,S){var I=Math.floor(s/2),K=Math.floor(f/2),Se=_-1,qe=new ke(+I,+K);qe.z=+Se;var Ke=this._tileCoordsToKey(qe),bt=this._tiles[Ke];return bt&&bt.active?(bt.retain=!0,!0):(bt&&bt.loaded&&(bt.retain=!0),Se>S?this._retainParent(I,K,Se,S):!1)},_retainChildren:function(s,f,_,S){for(var I=2*s;I<2*s+2;I++)for(var K=2*f;K<2*f+2;K++){var Se=new ke(I,K);Se.z=_+1;var qe=this._tileCoordsToKey(Se),Ke=this._tiles[qe];if(Ke&&Ke.active){Ke.retain=!0;continue}else Ke&&Ke.loaded&&(Ke.retain=!0);_+1<S&&this._retainChildren(I,K,_+1,S)}},_resetView:function(s){var f=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),f,f)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var f=this.options;return f.minNativeZoom!==void 0&&s<f.minNativeZoom?f.minNativeZoom:f.maxNativeZoom!==void 0&&f.maxNativeZoom<s?f.maxNativeZoom:s},_setView:function(s,f,_,S){var I=Math.round(f);this.options.maxZoom!==void 0&&I>this.options.maxZoom||this.options.minZoom!==void 0&&I<this.options.minZoom?I=void 0:I=this._clampZoom(I);var K=this.options.updateWhenZooming&&I!==this._tileZoom;(!S||K)&&(this._tileZoom=I,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),I!==void 0&&this._update(s),_||this._pruneTiles(),this._noPrune=!!_),this._setZoomTransforms(s,f)},_setZoomTransforms:function(s,f){for(var _ in this._levels)this._setZoomTransform(this._levels[_],s,f)},_setZoomTransform:function(s,f,_){var S=this._map.getZoomScale(_,s.zoom),I=s.origin.multiplyBy(S).subtract(this._map._getNewPixelOrigin(f,_)).round();$t.any3d?Eo(s.el,I,S):Gr(s.el,I)},_resetGrid:function(){var s=this._map,f=s.options.crs,_=this._tileSize=this.getTileSize(),S=this._tileZoom,I=this._map.getPixelWorldBounds(this._tileZoom);I&&(this._globalTileRange=this._pxBoundsToTileRange(I)),this._wrapX=f.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,f.wrapLng[0]],S).x/_.x),Math.ceil(s.project([0,f.wrapLng[1]],S).x/_.y)],this._wrapY=f.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([f.wrapLat[0],0],S).y/_.x),Math.ceil(s.project([f.wrapLat[1],0],S).y/_.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var f=this._map,_=f._animatingZoom?Math.max(f._animateToZoom,f.getZoom()):f.getZoom(),S=f.getZoomScale(_,this._tileZoom),I=f.project(s,this._tileZoom).floor(),K=f.getSize().divideBy(S*2);return new je(I.subtract(K),I.add(K))},_update:function(s){var f=this._map;if(f){var _=this._clampZoom(f.getZoom());if(s===void 0&&(s=f.getCenter()),this._tileZoom!==void 0){var S=this._getTiledPixelBounds(s),I=this._pxBoundsToTileRange(S),K=I.getCenter(),Se=[],qe=this.options.keepBuffer,Ke=new je(I.getBottomLeft().subtract([qe,-qe]),I.getTopRight().add([qe,-qe]));if(!(isFinite(I.min.x)&&isFinite(I.min.y)&&isFinite(I.max.x)&&isFinite(I.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var bt in this._tiles){var Xt=this._tiles[bt].coords;(Xt.z!==this._tileZoom||!Ke.contains(new ke(Xt.x,Xt.y)))&&(this._tiles[bt].current=!1)}if(Math.abs(_-this._tileZoom)>1){this._setView(s,_);return}for(var pi=I.min.y;pi<=I.max.y;pi++)for(var Ni=I.min.x;Ni<=I.max.x;Ni++){var pn=new ke(Ni,pi);if(pn.z=this._tileZoom,!!this._isValidTile(pn)){var bn=this._tiles[this._tileCoordsToKey(pn)];bn?bn.current=!0:Se.push(pn)}}if(Se.sort(function(zn,Gl){return zn.distanceTo(K)-Gl.distanceTo(K)}),Se.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Wa=document.createDocumentFragment();for(Ni=0;Ni<Se.length;Ni++)this._addTile(Se[Ni],Wa);this._level.el.appendChild(Wa)}}}},_isValidTile:function(s){var f=this._map.options.crs;if(!f.infinite){var _=this._globalTileRange;if(!f.wrapLng&&(s.x<_.min.x||s.x>_.max.x)||!f.wrapLat&&(s.y<_.min.y||s.y>_.max.y))return!1}if(!this.options.bounds)return!0;var S=this._tileCoordsToBounds(s);return A(this.options.bounds).overlaps(S)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var f=this._map,_=this.getTileSize(),S=s.scaleBy(_),I=S.add(_),K=f.unproject(S,s.z),Se=f.unproject(I,s.z);return[K,Se]},_tileCoordsToBounds:function(s){var f=this._tileCoordsToNwSe(s),_=new wt(f[0],f[1]);return this.options.noWrap||(_=this._map.wrapLatLngBounds(_)),_},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var f=s.split(":"),_=new ke(+f[0],+f[1]);return _.z=+f[2],_},_removeTile:function(s){var f=this._tiles[s];f&&(sr(f.el),delete this._tiles[s],this.fire("tileunload",{tile:f.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){ki(s,"leaflet-tile");var f=this.getTileSize();s.style.width=f.x+"px",s.style.height=f.y+"px",s.onselectstart=p,s.onmousemove=p,$t.ielt9&&this.options.opacity<1&&Pn(s,this.options.opacity)},_addTile:function(s,f){var _=this._getTilePos(s),S=this._tileCoordsToKey(s),I=this.createTile(this._wrapCoords(s),n(this._tileReady,this,s));this._initTile(I),this.createTile.length<2&&le(n(this._tileReady,this,s,null,I)),Gr(I,_),this._tiles[S]={el:I,coords:s,current:!0},f.appendChild(I),this.fire("tileloadstart",{tile:I,coords:s})},_tileReady:function(s,f,_){f&&this.fire("tileerror",{error:f,tile:_,coords:s});var S=this._tileCoordsToKey(s);_=this._tiles[S],_&&(_.loaded=+new Date,this._map._fadeAnimated?(Pn(_.el,0),Ce(this._fadeFrame),this._fadeFrame=le(this._updateOpacity,this)):(_.active=!0,this._pruneTiles()),f||(ki(_.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:_.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),$t.ielt9||!this._map._fadeAnimated?le(this._pruneTiles,this):setTimeout(n(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var f=new ke(this._wrapX?u(s.x,this._wrapX):s.x,this._wrapY?u(s.y,this._wrapY):s.y);return f.z=s.z,f},_pxBoundsToTileRange:function(s){var f=this.getTileSize();return new je(s.min.unscaleBy(f).floor(),s.max.unscaleBy(f).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function Ds(s){return new fo(s)}var Fo=fo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,f){this._url=s,f=x(this,f),f.detectRetina&&$t.retina&&f.maxZoom>0?(f.tileSize=Math.floor(f.tileSize/2),f.zoomReverse?(f.zoomOffset--,f.minZoom=Math.min(f.maxZoom,f.minZoom+1)):(f.zoomOffset++,f.maxZoom=Math.max(f.minZoom,f.maxZoom-1)),f.minZoom=Math.max(0,f.minZoom)):f.zoomReverse?f.minZoom=Math.min(f.maxZoom,f.minZoom):f.maxZoom=Math.max(f.minZoom,f.maxZoom),typeof f.subdomains=="string"&&(f.subdomains=f.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,f){return this._url===s&&f===void 0&&(f=!0),this._url=s,f||this.redraw(),this},createTile:function(s,f){var _=document.createElement("img");return Mi(_,"load",n(this._tileOnLoad,this,f,_)),Mi(_,"error",n(this._tileOnError,this,f,_)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(_.referrerPolicy=this.options.referrerPolicy),_.alt="",_.src=this.getTileUrl(s),_},getTileUrl:function(s){var f={r:$t.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var _=this._globalTileRange.max.y-s.y;this.options.tms&&(f.y=_),f["-y"]=_}return k(this._url,e(f,this.options))},_tileOnLoad:function(s,f){$t.ielt9?setTimeout(n(s,this,null,f),0):s(null,f)},_tileOnError:function(s,f,_){var S=this.options.errorTileUrl;S&&f.getAttribute("src")!==S&&(f.src=S),s(_,f)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,f=this.options.maxZoom,_=this.options.zoomReverse,S=this.options.zoomOffset;return _&&(s=f-s),s+S},_getSubdomain:function(s){var f=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[f]},_abortLoading:function(){var s,f;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(f=this._tiles[s].el,f.onload=p,f.onerror=p,!f.complete)){f.src=X;var _=this._tiles[s].coords;sr(f),delete this._tiles[s],this.fire("tileabort",{tile:f,coords:_})}},_removeTile:function(s){var f=this._tiles[s];if(f)return f.el.setAttribute("src",X),fo.prototype._removeTile.call(this,s)},_tileReady:function(s,f,_){if(!(!this._map||_&&_.getAttribute("src")===X))return fo.prototype._tileReady.call(this,s,f,_)}});function Sa(s,f){return new Fo(s,f)}var Ea=Fo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,f){this._url=s;var _=e({},this.defaultWmsParams);for(var S in f)S in this.options||(_[S]=f[S]);f=x(this,f);var I=f.detectRetina&&$t.retina?2:1,K=this.getTileSize();_.width=K.x*I,_.height=K.y*I,this.wmsParams=_},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var f=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[f]=this._crs.code,Fo.prototype.onAdd.call(this,s)},getTileUrl:function(s){var f=this._tileCoordsToNwSe(s),_=this._crs,S=Ze(_.project(f[0]),_.project(f[1])),I=S.min,K=S.max,Se=(this._wmsVersion>=1.3&&this._crs===Qr?[I.y,I.x,K.y,K.x]:[I.x,I.y,K.x,K.y]).join(","),qe=Fo.prototype.getTileUrl.call(this,s);return qe+T(this.wmsParams,qe,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Se},setParams:function(s,f){return e(this.wmsParams,s),f||this.redraw(),this}});function Tr(s,f){return new Ea(s,f)}Fo.WMS=Ea,Sa.wms=Tr;var ir=mr.extend({options:{padding:.1},initialize:function(s){x(this,s),o(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ki(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,f){var _=this._map.getZoomScale(f,this._zoom),S=this._map.getSize().multiplyBy(.5+this.options.padding),I=this._map.project(this._center,f),K=S.multiplyBy(-_).add(I).subtract(this._map._getNewPixelOrigin(s,f));$t.any3d?Eo(this._container,K,_):Gr(this._container,K)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,f=this._map.getSize(),_=this._map.containerPointToLayerPoint(f.multiplyBy(-s)).round();this._bounds=new je(_,_.add(f.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Xr=ir.extend({options:{tolerance:0},getEvents:function(){var s=ir.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ir.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");Mi(s,"mousemove",this._onMouseMove,this),Mi(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Mi(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){Ce(this._redrawRequest),delete this._ctx,sr(this._container),hr(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var f in this._layers)s=this._layers[f],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ir.prototype._update.call(this);var s=this._bounds,f=this._container,_=s.getSize(),S=$t.retina?2:1;Gr(f,s.min),f.width=S*_.x,f.height=S*_.y,f.style.width=_.x+"px",f.style.height=_.y+"px",$t.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){ir.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[o(s)]=s;var f=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=f),this._drawLast=f,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var f=s._order,_=f.next,S=f.prev;_?_.prev=S:this._drawLast=S,S?S.next=_:this._drawFirst=_,delete s._order,delete this._layers[o(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var f=s.options.dashArray.split(/[, ]+/),_=[],S,I;for(I=0;I<f.length;I++){if(S=Number(f[I]),isNaN(S))return;_.push(S)}s.options._dashArray=_}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||le(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var f=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new je,this._redrawBounds.extend(s._pxBounds.min.subtract([f,f])),this._redrawBounds.extend(s._pxBounds.max.add([f,f]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var f=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,f.x,f.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,f=this._redrawBounds;if(this._ctx.save(),f){var _=f.getSize();this._ctx.beginPath(),this._ctx.rect(f.min.x,f.min.y,_.x,_.y),this._ctx.clip()}this._drawing=!0;for(var S=this._drawFirst;S;S=S.next)s=S.layer,(!f||s._pxBounds&&s._pxBounds.intersects(f))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,f){if(this._drawing){var _,S,I,K,Se=s._parts,qe=Se.length,Ke=this._ctx;if(qe){for(Ke.beginPath(),_=0;_<qe;_++){for(S=0,I=Se[_].length;S<I;S++)K=Se[_][S],Ke[S?"lineTo":"moveTo"](K.x,K.y);f&&Ke.closePath()}this._fillStroke(Ke,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var f=s._point,_=this._ctx,S=Math.max(Math.round(s._radius),1),I=(Math.max(Math.round(s._radiusY),1)||S)/S;I!==1&&(_.save(),_.scale(1,I)),_.beginPath(),_.arc(f.x,f.y/I,S,0,Math.PI*2,!1),I!==1&&_.restore(),this._fillStroke(_,s)}},_fillStroke:function(s,f){var _=f.options;_.fill&&(s.globalAlpha=_.fillOpacity,s.fillStyle=_.fillColor||_.color,s.fill(_.fillRule||"evenodd")),_.stroke&&_.weight!==0&&(s.setLineDash&&s.setLineDash(f.options&&f.options._dashArray||[]),s.globalAlpha=_.opacity,s.lineWidth=_.weight,s.strokeStyle=_.color,s.lineCap=_.lineCap,s.lineJoin=_.lineJoin,s.stroke())},_onClick:function(s){for(var f=this._map.mouseEventToLayerPoint(s),_,S,I=this._drawFirst;I;I=I.next)_=I.layer,_.options.interactive&&_._containsPoint(f)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(_))&&(S=_);this._fireEvent(S?[S]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var f=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,f)}},_handleMouseOut:function(s){var f=this._hoveredLayer;f&&(Fr(this._container,"leaflet-interactive"),this._fireEvent([f],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,f){if(!this._mouseHoverThrottled){for(var _,S,I=this._drawFirst;I;I=I.next)_=I.layer,_.options.interactive&&_._containsPoint(f)&&(S=_);S!==this._hoveredLayer&&(this._handleMouseOut(s),S&&(ki(this._container,"leaflet-interactive"),this._fireEvent([S],s,"mouseover"),this._hoveredLayer=S)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(n(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,f,_){this._map._fireDOMEvent(f,_||f.type,s)},_bringToFront:function(s){var f=s._order;if(f){var _=f.next,S=f.prev;if(_)_.prev=S;else return;S?S.next=_:_&&(this._drawFirst=_),f.prev=this._drawLast,this._drawLast.next=f,f.next=null,this._drawLast=f,this._requestRedraw(s)}},_bringToBack:function(s){var f=s._order;if(f){var _=f.next,S=f.prev;if(S)S.next=_;else return;_?_.prev=S:S&&(this._drawLast=S),f.prev=null,f.next=this._drawFirst,this._drawFirst.prev=f,this._drawFirst=f,this._requestRedraw(s)}}});function on(s){return $t.canvas?new Xr(s):null}var Pa=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Xc={_initContainer:function(){this._container=Oi("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ir.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var f=s._container=Pa("shape");ki(f,"leaflet-vml-shape "+(this.options.className||"")),f.coordsize="1 1",s._path=Pa("path"),f.appendChild(s._path),this._updateStyle(s),this._layers[o(s)]=s},_addPath:function(s){var f=s._container;this._container.appendChild(f),s.options.interactive&&s.addInteractiveTarget(f)},_removePath:function(s){var f=s._container;sr(f),s.removeInteractiveTarget(f),delete this._layers[o(s)]},_updateStyle:function(s){var f=s._stroke,_=s._fill,S=s.options,I=s._container;I.stroked=!!S.stroke,I.filled=!!S.fill,S.stroke?(f||(f=s._stroke=Pa("stroke")),I.appendChild(f),f.weight=S.weight+"px",f.color=S.color,f.opacity=S.opacity,S.dashArray?f.dashStyle=F(S.dashArray)?S.dashArray.join(" "):S.dashArray.replace(/( *, *)/g," "):f.dashStyle="",f.endcap=S.lineCap.replace("butt","flat"),f.joinstyle=S.lineJoin):f&&(I.removeChild(f),s._stroke=null),S.fill?(_||(_=s._fill=Pa("fill")),I.appendChild(_),_.color=S.fillColor||S.color,_.opacity=S.fillOpacity):_&&(I.removeChild(_),s._fill=null)},_updateCircle:function(s){var f=s._point.round(),_=Math.round(s._radius),S=Math.round(s._radiusY||_);this._setPath(s,s._empty()?"M0 0":"AL "+f.x+","+f.y+" "+_+","+S+" 0,"+65535*360)},_setPath:function(s,f){s._path.v=f},_bringToFront:function(s){Mr(s._container)},_bringToBack:function(s){Ko(s._container)}},os=$t.vml?Pa:Pt,Rs=ir.extend({_initContainer:function(){this._container=os("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=os("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){sr(this._container),hr(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ir.prototype._update.call(this);var s=this._bounds,f=s.getSize(),_=this._container;(!this._svgSize||!this._svgSize.equals(f))&&(this._svgSize=f,_.setAttribute("width",f.x),_.setAttribute("height",f.y)),Gr(_,s.min),_.setAttribute("viewBox",[s.min.x,s.min.y,f.x,f.y].join(" ")),this.fire("update")}},_initPath:function(s){var f=s._path=os("path");s.options.className&&ki(f,s.options.className),s.options.interactive&&ki(f,"leaflet-interactive"),this._updateStyle(s),this._layers[o(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){sr(s._path),s.removeInteractiveTarget(s._path),delete this._layers[o(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var f=s._path,_=s.options;f&&(_.stroke?(f.setAttribute("stroke",_.color),f.setAttribute("stroke-opacity",_.opacity),f.setAttribute("stroke-width",_.weight),f.setAttribute("stroke-linecap",_.lineCap),f.setAttribute("stroke-linejoin",_.lineJoin),_.dashArray?f.setAttribute("stroke-dasharray",_.dashArray):f.removeAttribute("stroke-dasharray"),_.dashOffset?f.setAttribute("stroke-dashoffset",_.dashOffset):f.removeAttribute("stroke-dashoffset")):f.setAttribute("stroke","none"),_.fill?(f.setAttribute("fill",_.fillColor||_.color),f.setAttribute("fill-opacity",_.fillOpacity),f.setAttribute("fill-rule",_.fillRule||"evenodd")):f.setAttribute("fill","none"))},_updatePoly:function(s,f){this._setPath(s,Lt(s._parts,f))},_updateCircle:function(s){var f=s._point,_=Math.max(Math.round(s._radius),1),S=Math.max(Math.round(s._radiusY),1)||_,I="a"+_+","+S+" 0 1,0 ",K=s._empty()?"M0 0":"M"+(f.x-_)+","+f.y+I+_*2+",0 "+I+-_*2+",0 ";this._setPath(s,K)},_setPath:function(s,f){s._path.setAttribute("d",f)},_bringToFront:function(s){Mr(s._path)},_bringToBack:function(s){Ko(s._path)}});$t.vml&&Rs.include(Xc);function qd(s){return $t.svg||$t.vml?new Rs(s):null}$i.include({getRenderer:function(s){var f=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return f||(f=this._renderer=this._createRenderer()),this.hasLayer(f)||this.addLayer(f),f},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var f=this._paneRenderers[s];return f===void 0&&(f=this._createRenderer({pane:s}),this._paneRenderers[s]=f),f},_createRenderer:function(s){return this.options.preferCanvas&&on(s)||qd(s)}});var Yc=Ao.extend({initialize:function(s,f){Ao.prototype.initialize.call(this,this._boundsToLatLngs(s),f)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=A(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function Ma(s,f){return new Yc(s,f)}Rs.create=os,Rs.pointsToPath=Lt,nn.geometryToLayer=ns,nn.coordsToLatLng=jl,nn.coordsToLatLngs=lo,nn.latLngToCoords=as,nn.latLngsToCoords=Mn,nn.getFeature=an,nn.asFeature=co,$i.mergeOptions({boxZoom:!0});var Ta=qa.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){Mi(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){hr(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){sr(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Qs(),Dc(),this._startPoint=this._map.mouseEventToContainerPoint(s),Mi(document,{contextmenu:es,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=Oi("div","leaflet-zoom-box",this._container),ki(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var f=new je(this._point,this._startPoint),_=f.getSize();Gr(this._box,f.min),this._box.style.width=_.x+"px",this._box.style.height=_.y+"px"},_finish:function(){this._moved&&(sr(this._box),Fr(this._container,"leaflet-crosshair")),Es(),Rc(),hr(document,{contextmenu:es,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(n(this._resetState,this),0);var f=new wt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(f).fire("boxzoomend",{boxZoomBounds:f})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});$i.addInitHook("addHandler","boxZoom",Ta),$i.mergeOptions({doubleClickZoom:!0});var Kc=qa.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var f=this._map,_=f.getZoom(),S=f.options.zoomDelta,I=s.originalEvent.shiftKey?_-S:_+S;f.options.doubleClickZoom==="center"?f.setZoom(I):f.setZoomAround(s.containerPoint,I)}});$i.addInitHook("addHandler","doubleClickZoom",Kc),$i.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Jc=qa.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new so(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}ki(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Fr(this._map._container,"leaflet-grab"),Fr(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var f=A(this._map.options.maxBounds);this._offsetLimit=Ze(this._map.latLngToContainerPoint(f.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(f.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var f=this._lastTime=+new Date,_=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(_),this._times.push(f),this._prunePositions(f)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),f=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=f.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,f){return s-(s-f)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),f=this._offsetLimit;s.x<f.min.x&&(s.x=this._viscousLimit(s.x,f.min.x)),s.y<f.min.y&&(s.y=this._viscousLimit(s.y,f.min.y)),s.x>f.max.x&&(s.x=this._viscousLimit(s.x,f.max.x)),s.y>f.max.y&&(s.y=this._viscousLimit(s.y,f.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,f=Math.round(s/2),_=this._initialWorldOffset,S=this._draggable._newPos.x,I=(S-f+_)%s+f-_,K=(S+f+_)%s-f-_,Se=Math.abs(I+_)<Math.abs(K+_)?I:K;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Se},_onDragEnd:function(s){var f=this._map,_=f.options,S=!_.inertia||s.noInertia||this._times.length<2;if(f.fire("dragend",s),S)f.fire("moveend");else{this._prunePositions(+new Date);var I=this._lastPos.subtract(this._positions[0]),K=(this._lastTime-this._times[0])/1e3,Se=_.easeLinearity,qe=I.multiplyBy(Se/K),Ke=qe.distanceTo([0,0]),bt=Math.min(_.inertiaMaxSpeed,Ke),Xt=qe.multiplyBy(bt/Ke),pi=bt/(_.inertiaDeceleration*Se),Ni=Xt.multiplyBy(-pi/2).round();!Ni.x&&!Ni.y?f.fire("moveend"):(Ni=f._limitOffset(Ni,f.options.maxBounds),le(function(){f.panBy(Ni,{duration:pi,easeLinearity:Se,noMoveStart:!0,animate:!0})}))}}});$i.addInitHook("addHandler","dragging",Jc),$i.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Qu=qa.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),Mi(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),hr(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,f=document.documentElement,_=s.scrollTop||f.scrollTop,S=s.scrollLeft||f.scrollLeft;this._map._container.focus(),window.scrollTo(S,_)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var f=this._panKeys={},_=this.keyCodes,S,I;for(S=0,I=_.left.length;S<I;S++)f[_.left[S]]=[-1*s,0];for(S=0,I=_.right.length;S<I;S++)f[_.right[S]]=[s,0];for(S=0,I=_.down.length;S<I;S++)f[_.down[S]]=[0,s];for(S=0,I=_.up.length;S<I;S++)f[_.up[S]]=[0,-1*s]},_setZoomDelta:function(s){var f=this._zoomKeys={},_=this.keyCodes,S,I;for(S=0,I=_.zoomIn.length;S<I;S++)f[_.zoomIn[S]]=s;for(S=0,I=_.zoomOut.length;S<I;S++)f[_.zoomOut[S]]=-s},_addHooks:function(){Mi(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){hr(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var f=s.keyCode,_=this._map,S;if(f in this._panKeys){if(!_._panAnim||!_._panAnim._inProgress)if(S=this._panKeys[f],s.shiftKey&&(S=Me(S).multiplyBy(3)),_.options.maxBounds&&(S=_._limitOffset(Me(S),_.options.maxBounds)),_.options.worldCopyJump){var I=_.wrapLatLng(_.unproject(_.project(_.getCenter()).add(S)));_.panTo(I)}else _.panBy(S)}else if(f in this._zoomKeys)_.setZoom(_.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[f]);else if(f===27&&_._popup&&_._popup.options.closeOnEscapeKey)_.closePopup();else return;es(s)}}});$i.addInitHook("addHandler","keyboard",Qu),$i.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Qc=qa.extend({addHooks:function(){Mi(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){hr(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var f=Dd(s),_=this._map.options.wheelDebounceTime;this._delta+=f,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var S=Math.max(_-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(n(this._performZoom,this),S),es(s)},_performZoom:function(){var s=this._map,f=s.getZoom(),_=this._map.options.zoomSnap||0;s._stop();var S=this._delta/(this._map.options.wheelPxPerZoomLevel*4),I=4*Math.log(2/(1+Math.exp(-Math.abs(S))))/Math.LN2,K=_?Math.ceil(I/_)*_:I,Se=s._limitZoom(f+(this._delta>0?K:-K))-f;this._delta=0,this._startTime=null,Se&&(s.options.scrollWheelZoom==="center"?s.setZoom(f+Se):s.setZoomAround(this._lastMousePos,f+Se))}});$i.addInitHook("addHandler","scrollWheelZoom",Qc);var zd=600;$i.mergeOptions({tapHold:$t.touchNative&&$t.safari&&$t.mobile,tapTolerance:15});var Wd=qa.extend({addHooks:function(){Mi(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){hr(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var f=s.touches[0];this._startPos=this._newPos=new ke(f.clientX,f.clientY),this._holdTimeout=setTimeout(n(function(){this._cancel(),this._isTapValid()&&(Mi(document,"touchend",fn),Mi(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",f))},this),zd),Mi(document,"touchend touchcancel contextmenu",this._cancel,this),Mi(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){hr(document,"touchend",fn),hr(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),hr(document,"touchend touchcancel contextmenu",this._cancel,this),hr(document,"touchmove",this._onMove,this)},_onMove:function(s){var f=s.touches[0];this._newPos=new ke(f.clientX,f.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,f){var _=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:f.screenX,screenY:f.screenY,clientX:f.clientX,clientY:f.clientY});_._simulated=!0,f.target.dispatchEvent(_)}});$i.addInitHook("addHandler","tapHold",Wd),$i.mergeOptions({touchZoom:$t.touch,bounceAtZoomLimits:!0});var e0=qa.extend({addHooks:function(){ki(this._map._container,"leaflet-touch-zoom"),Mi(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Fr(this._map._container,"leaflet-touch-zoom"),hr(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var f=this._map;if(!(!s.touches||s.touches.length!==2||f._animatingZoom||this._zooming)){var _=f.mouseEventToContainerPoint(s.touches[0]),S=f.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=f.getSize()._divideBy(2),this._startLatLng=f.containerPointToLatLng(this._centerPoint),f.options.touchZoom!=="center"&&(this._pinchStartLatLng=f.containerPointToLatLng(_.add(S)._divideBy(2))),this._startDist=_.distanceTo(S),this._startZoom=f.getZoom(),this._moved=!1,this._zooming=!0,f._stop(),Mi(document,"touchmove",this._onTouchMove,this),Mi(document,"touchend touchcancel",this._onTouchEnd,this),fn(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var f=this._map,_=f.mouseEventToContainerPoint(s.touches[0]),S=f.mouseEventToContainerPoint(s.touches[1]),I=_.distanceTo(S)/this._startDist;if(this._zoom=f.getScaleZoom(I,this._startZoom),!f.options.bounceAtZoomLimits&&(this._zoom<f.getMinZoom()&&I<1||this._zoom>f.getMaxZoom()&&I>1)&&(this._zoom=f._limitZoom(this._zoom)),f.options.touchZoom==="center"){if(this._center=this._startLatLng,I===1)return}else{var K=_._add(S)._divideBy(2)._subtract(this._centerPoint);if(I===1&&K.x===0&&K.y===0)return;this._center=f.unproject(f.project(this._pinchStartLatLng,this._zoom).subtract(K),this._zoom)}this._moved||(f._moveStart(!0,!1),this._moved=!0),Ce(this._animRequest);var Se=n(f._move,f,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=le(Se,this,!0),fn(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Ce(this._animRequest),hr(document,"touchmove",this._onTouchMove,this),hr(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});$i.addInitHook("addHandler","touchZoom",e0),$i.BoxZoom=Ta,$i.DoubleClickZoom=Kc,$i.Drag=Jc,$i.Keyboard=Qu,$i.ScrollWheelZoom=Qc,$i.TapHold=Wd,$i.TouchZoom=e0,i.Bounds=je,i.Browser=$t,i.CRS=j,i.Canvas=Xr,i.Circle=Is,i.CircleMarker=rs,i.Class=H,i.Control=ra,i.DivIcon=Ls,i.DivOverlay=wa,i.DomEvent=Uc,i.DomUtil=Ku,i.Draggable=so,i.Evented=Fe,i.FeatureGroup=_n,i.GeoJSON=nn,i.GridLayer=fo,i.Handler=qa,i.Icon=To,i.ImageOverlay=za,i.LatLng=V,i.LatLngBounds=wt,i.Layer=mr,i.LayerGroup=In,i.LineUtil=Ai,i.Map=$i,i.Marker=Os,i.Mixin=zc,i.Path=Br,i.Point=ke,i.PolyUtil=Bd,i.Polygon=Ao,i.Polyline=Zr,i.Popup=Fs,i.PosAnimation=il,i.Projection=qr,i.Rectangle=Yc,i.Renderer=ir,i.SVG=Rs,i.SVGOverlay=Ca,i.TileLayer=Fo,i.Tooltip=Io,i.Transformation=Te,i.Util=q,i.VideoOverlay=zl,i.bind=n,i.bounds=Ze,i.canvas=on,i.circle=$c,i.circleMarker=Vl,i.control=ks,i.divIcon=Hl,i.extend=e,i.featureGroup=Vd,i.geoJSON=Oo,i.geoJson=ql,i.gridLayer=Ds,i.icon=Gc,i.imageOverlay=en,i.latLng=N,i.latLngBounds=A,i.layerGroup=ya,i.map=Rd,i.marker=Ul,i.point=Me,i.polygon=jd,i.polyline=Ju,i.popup=ll,i.rectangle=Ma,i.setOptions=x,i.stamp=o,i.svg=qd,i.svgOverlay=Wl,i.tileLayer=Sa,i.tooltip=Ns,i.transformation=Re,i.version=t,i.videoOverlay=qn;var t0=window.L;i.noConflict=function(){return window.L=t0,this},window.L=i})});var Rv=B_((Lv,Dv)=>{"use strict";(function(i,t){typeof define=="function"&&define.amd?define([],t):typeof Lv<"u"?t():(t(),i.FileSaver={})})(Lv,function(){"use strict";function i(d,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d}function t(d,u,p){var g=new XMLHttpRequest;g.open("GET",d),g.responseType="blob",g.onload=function(){o(g.response,u,p)},g.onerror=function(){console.error("could not download file")},g.send()}function e(d){var u=new XMLHttpRequest;u.open("HEAD",d,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function r(d){try{d.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(u)}}var n=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,a=n.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),o=n.saveAs||(typeof window!="object"||window!==n?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(d,u,p){var g=n.URL||n.webkitURL,y=document.createElement("a");u=u||d.name||"download",y.download=u,y.rel="noopener",typeof d=="string"?(y.href=d,y.origin===location.origin?r(y):e(y.href)?t(d,u,p):r(y,y.target="_blank")):(y.href=g.createObjectURL(d),setTimeout(function(){g.revokeObjectURL(y.href)},4e4),setTimeout(function(){r(y)},0))}:"msSaveOrOpenBlob"in navigator?function(d,u,p){if(u=u||d.name||"download",typeof d!="string")navigator.msSaveOrOpenBlob(i(d,p),u);else if(e(d))t(d,u,p);else{var g=document.createElement("a");g.href=d,g.target="_blank",setTimeout(function(){r(g)})}}:function(d,u,p,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),typeof d=="string")return t(d,u,p);var y=d.type==="application/octet-stream",w=/constructor/i.test(n.HTMLElement)||n.safari,x=/CriOS\/[\d]+/.test(navigator.userAgent);if((x||y&&w||a)&&typeof FileReader<"u"){var T=new FileReader;T.onloadend=function(){var F=T.result;F=x?F:F.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=F:location=F,g=null},T.readAsDataURL(d)}else{var E=n.URL||n.webkitURL,k=E.createObjectURL(d);g?g.location=k:location.href=k,g=null,setTimeout(function(){E.revokeObjectURL(k)},4e4)}});n.saveAs=o.saveAs=o,typeof Dv<"u"&&(Dv.exports=o)})});var g0=class{},lp=class{},ml=class i{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let r=e.indexOf(":");if(r>0){let n=e.slice(0,r),a=n.toLowerCase(),o=e.slice(r+1).trim();this.maybeSetNormalizedName(n,a),this.headers.has(a)?this.headers.get(a).push(o):this.headers.set(a,[o])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,r)=>{this.setHeaderEntries(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof i?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new i;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof i?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,e);let n=(t.op==="a"?this.headers.get(e):void 0)||[];n.push(...r),this.headers.set(e,n);break;case"d":let a=t.value;if(!a)this.headers.delete(e),this.normalizedNames.delete(e);else{let o=this.headers.get(e);if(!o)return;o=o.filter(d=>a.indexOf(d)===-1),o.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}break}}setHeaderEntries(t,e){let r=(Array.isArray(e)?e:[e]).map(a=>a.toString()),n=t.toLowerCase();this.headers.set(n,r),this.maybeSetNormalizedName(t,n)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var Fg=class{encodeKey(t){return N2(t)}encodeValue(t){return N2(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function D5(i,t){let e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(n=>{let a=n.indexOf("="),[o,d]=a==-1?[t.decodeKey(n),""]:[t.decodeKey(n.slice(0,a)),t.decodeValue(n.slice(a+1))],u=e.get(o)||[];u.push(d),e.set(o,u)}),e}var R5=/%(\d[a-f0-9])/gi,B5={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function N2(i){return encodeURIComponent(i).replace(R5,(t,e)=>B5[e]??t)}function sp(i){return`${i}`}var rc=class i{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Fg,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=D5(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let r=t.fromObject[e],n=Array.isArray(r)?r.map(sp):[sp(r)];this.map.set(e,n)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(r=>{let n=t[r];Array.isArray(n)?n.forEach(a=>{e.push({param:r,value:a,op:"a"})}):e.push({param:r,value:n,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new i({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(sp(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],n=r.indexOf(sp(t.value));n!==-1&&r.splice(n,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Ng=class{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function U5(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function L2(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function D2(i){return typeof Blob<"u"&&i instanceof Blob}function R2(i){return typeof FormData<"u"&&i instanceof FormData}function V5(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}var m0=class i{constructor(t,e,r,n){this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let a;if(U5(this.method)||n?(this.body=r!==void 0?r:null,a=n):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params),this.transferCache=a.transferCache),this.headers??=new ml,this.context??=new Ng,!this.params)this.params=new rc,this.urlWithParams=e;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=e;else{let d=e.indexOf("?"),u=d===-1?"?":d<e.length-1?"&":"";this.urlWithParams=e+u+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||L2(this.body)||D2(this.body)||R2(this.body)||V5(this.body)?this.body:this.body instanceof rc?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||R2(this.body)?null:D2(this.body)?this.body.type||null:L2(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof rc?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let e=t.method||this.method,r=t.url||this.url,n=t.responseType||this.responseType,a=t.transferCache??this.transferCache,o=t.body!==void 0?t.body:this.body,d=t.withCredentials??this.withCredentials,u=t.reportProgress??this.reportProgress,p=t.headers||this.headers,g=t.params||this.params,y=t.context??this.context;return t.setHeaders!==void 0&&(p=Object.keys(t.setHeaders).reduce((w,x)=>w.set(x,t.setHeaders[x]),p)),t.setParams&&(g=Object.keys(t.setParams).reduce((w,x)=>w.set(x,t.setParams[x]),g)),new i(e,r,o,{params:g,headers:p,context:y,reportProgress:u,responseType:n,withCredentials:d,transferCache:a})}},nc=function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i}(nc||{}),v0=class{constructor(t,e=200,r="OK"){this.headers=t.headers||new ml,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},cp=class i extends v0{constructor(t={}){super(t),this.type=nc.ResponseHeader}clone(t={}){return new i({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},_0=class i extends v0{constructor(t={}){super(t),this.type=nc.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new i({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},ic=class extends v0{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},q2=200,j5=204;function Ig(i,t){return{body:t,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials,transferCache:i.transferCache}}var ai=(()=>{class i{constructor(e){this.handler=e}request(e,r,n={}){let a;if(e instanceof m0)a=e;else{let u;n.headers instanceof ml?u=n.headers:u=new ml(n.headers);let p;n.params&&(n.params instanceof rc?p=n.params:p=new rc({fromObject:n.params})),a=new m0(e,r,n.body!==void 0?n.body:null,{headers:u,context:n.context,params:p,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials,transferCache:n.transferCache})}let o=_i(a).pipe(Ql(u=>this.handler.handle(u)));if(e instanceof m0||n.observe==="events")return o;let d=o.pipe(ul(u=>u instanceof _0));switch(n.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return d.pipe(nr(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return d.pipe(nr(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return d.pipe(nr(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return d.pipe(nr(u=>u.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:new rc().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,n={}){return this.request("PATCH",e,Ig(n,r))}post(e,r,n={}){return this.request("POST",e,Ig(n,r))}put(e,r,n={}){return this.request("PUT",e,Ig(n,r))}static{this.\u0275fac=function(r){return new(r||i)(St(g0))}}static{this.\u0275prov=Ct({token:i,factory:i.\u0275fac})}}return i})(),q5=/^\)\]\}',?\n/,z5="X-Request-URL";function B2(i){if(i.url)return i.url;let t=z5.toLocaleLowerCase();return i.headers.get(t)}var W5=(()=>{class i{constructor(){this.fetchImpl=Jt(Lg,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e)),this.ngZone=Jt(Xa)}handle(e){return new id(r=>{let n=new AbortController;return this.doRequest(e,n.signal,r).then(Dg,a=>r.error(new ic({error:a}))),()=>n.abort()})}doRequest(e,r,n){return hg(this,null,function*(){let a=this.createRequestInit(e),o;try{let x=this.ngZone.runOutsideAngular(()=>this.fetchImpl(e.urlWithParams,st({signal:r},a)));H5(x),n.next({type:nc.Sent}),o=yield x}catch(x){n.error(new ic({error:x,status:x.status??0,statusText:x.statusText,url:e.urlWithParams,headers:x.headers}));return}let d=new ml(o.headers),u=o.statusText,p=B2(o)??e.urlWithParams,g=o.status,y=null;if(e.reportProgress&&n.next(new cp({headers:d,status:g,statusText:u,url:p})),o.body){let x=o.headers.get("content-length"),T=[],E=o.body.getReader(),k=0,F,D,X=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>hg(this,null,function*(){for(;;){let{done:we,value:Be}=yield E.read();if(we)break;if(T.push(Be),k+=Be.length,e.reportProgress){D=e.responseType==="text"?(D??"")+(F??=new TextDecoder).decode(Be,{stream:!0}):void 0;let re=()=>n.next({type:nc.DownloadProgress,total:x?+x:void 0,loaded:k,partialText:D});X?X.run(re):re()}}}));let he=this.concatChunks(T,k);try{let we=o.headers.get("Content-Type")??"";y=this.parseBody(e,he,we)}catch(we){n.error(new ic({error:we,headers:new ml(o.headers),status:o.status,statusText:o.statusText,url:B2(o)??e.urlWithParams}));return}}g===0&&(g=y?q2:0),g>=200&&g<300?(n.next(new _0({body:y,headers:d,status:g,statusText:u,url:p})),n.complete()):n.error(new ic({error:y,headers:d,status:g,statusText:u,url:p}))})}parseBody(e,r,n){switch(e.responseType){case"json":let a=new TextDecoder().decode(r).replace(q5,"");return a===""?null:JSON.parse(a);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:n});case"arraybuffer":return r.buffer}}createRequestInit(e){let r={},n=e.withCredentials?"include":void 0;if(e.headers.forEach((a,o)=>r[a]=o.join(",")),e.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!e.headers.has("Content-Type")){let a=e.detectContentTypeHeader();a!==null&&(r["Content-Type"]=a)}return{body:e.serializeBody(),method:e.method,headers:r,credentials:n}}concatChunks(e,r){let n=new Uint8Array(r),a=0;for(let o of e)n.set(o,a),a+=o.length;return n}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=Ct({token:i,factory:i.\u0275fac})}}return i})(),Lg=class{};function Dg(){}function H5(i){i.then(Dg,Dg)}function z2(i,t){return t(i)}function G5(i,t){return(e,r)=>t.intercept(e,{handle:n=>i(n,r)})}function $5(i,t,e){return(r,n)=>Bo(e,()=>t(r,a=>i(a,n)))}var Rg=new Ji(""),Bg=new Ji(""),Z5=new Ji(""),W2=new Ji("",{providedIn:"root",factory:()=>!0});function X5(){let i=null;return(t,e)=>{i===null&&(i=(Jt(Rg,{optional:!0})??[]).reduceRight(G5,z2));let r=Jt(f0);if(Jt(W2)){let a=r.add();return i(t,e).pipe(nd(()=>r.remove(a)))}else return i(t,e)}}var U2=(()=>{class i extends g0{constructor(e,r){super(),this.backend=e,this.injector=r,this.chain=null,this.pendingTasks=Jt(f0),this.contributeToStability=Jt(W2)}handle(e){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Bg),...this.injector.get(Z5,[])]));this.chain=r.reduceRight((n,a)=>$5(n,a,this.injector),z2)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(e,n=>this.backend.handle(n)).pipe(nd(()=>this.pendingTasks.remove(r)))}else return this.chain(e,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||i)(St(lp),St(od))}}static{this.\u0275prov=Ct({token:i,factory:i.\u0275fac})}}return i})();var Y5=/^\)\]\}',?\n/;function K5(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}var V2=(()=>{class i{constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new Ur(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Hn(r.\u0275loadImpl()):_i(null)).pipe(Oa(()=>new id(a=>{let o=r.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((E,k)=>o.setRequestHeader(E,k.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){let E=e.detectContentTypeHeader();E!==null&&o.setRequestHeader("Content-Type",E)}if(e.responseType){let E=e.responseType.toLowerCase();o.responseType=E!=="json"?E:"text"}let d=e.serializeBody(),u=null,p=()=>{if(u!==null)return u;let E=o.statusText||"OK",k=new ml(o.getAllResponseHeaders()),F=K5(o)||e.url;return u=new cp({headers:k,status:o.status,statusText:E,url:F}),u},g=()=>{let{headers:E,status:k,statusText:F,url:D}=p(),X=null;k!==j5&&(X=typeof o.response>"u"?o.responseText:o.response),k===0&&(k=X?q2:0);let he=k>=200&&k<300;if(e.responseType==="json"&&typeof X=="string"){let we=X;X=X.replace(Y5,"");try{X=X!==""?JSON.parse(X):null}catch(Be){X=we,he&&(he=!1,X={error:Be,text:X})}}he?(a.next(new _0({body:X,headers:E,status:k,statusText:F,url:D||void 0})),a.complete()):a.error(new ic({error:X,headers:E,status:k,statusText:F,url:D||void 0}))},y=E=>{let{url:k}=p(),F=new ic({error:E,status:o.status||0,statusText:o.statusText||"Unknown Error",url:k||void 0});a.error(F)},w=!1,x=E=>{w||(a.next(p()),w=!0);let k={type:nc.DownloadProgress,loaded:E.loaded};E.lengthComputable&&(k.total=E.total),e.responseType==="text"&&o.responseText&&(k.partialText=o.responseText),a.next(k)},T=E=>{let k={type:nc.UploadProgress,loaded:E.loaded};E.lengthComputable&&(k.total=E.total),a.next(k)};return o.addEventListener("load",g),o.addEventListener("error",y),o.addEventListener("timeout",y),o.addEventListener("abort",y),e.reportProgress&&(o.addEventListener("progress",x),d!==null&&o.upload&&o.upload.addEventListener("progress",T)),o.send(d),a.next({type:nc.Sent}),()=>{o.removeEventListener("error",y),o.removeEventListener("abort",y),o.removeEventListener("load",g),o.removeEventListener("timeout",y),e.reportProgress&&(o.removeEventListener("progress",x),d!==null&&o.upload&&o.upload.removeEventListener("progress",T)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(r){return new(r||i)(St(op))}}static{this.\u0275prov=Ct({token:i,factory:i.\u0275fac})}}return i})(),H2=new Ji(""),J5="XSRF-TOKEN",Q5=new Ji("",{providedIn:"root",factory:()=>J5}),eS="X-XSRF-TOKEN",tS=new Ji("",{providedIn:"root",factory:()=>eS}),dp=class{},iS=(()=>{class i{constructor(e,r,n){this.doc=e,this.platform=r,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=np(e,this.cookieName),this.lastCookieString=e),this.lastToken}static{this.\u0275fac=function(r){return new(r||i)(St(Ia),St(sd),St(Q5))}}static{this.\u0275prov=Ct({token:i,factory:i.\u0275fac})}}return i})();function rS(i,t){let e=i.url.toLowerCase();if(!Jt(H2)||i.method==="GET"||i.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return t(i);let r=Jt(dp).getToken(),n=Jt(tS);return r!=null&&!i.headers.has(n)&&(i=i.clone({headers:i.headers.set(n,r)})),t(i)}var G2=function(i){return i[i.Interceptors=0]="Interceptors",i[i.LegacyInterceptors=1]="LegacyInterceptors",i[i.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",i[i.NoXsrfProtection=3]="NoXsrfProtection",i[i.JsonpSupport=4]="JsonpSupport",i[i.RequestsMadeViaParent=5]="RequestsMadeViaParent",i[i.Fetch=6]="Fetch",i}(G2||{});function nS(i,t){return{\u0275kind:i,\u0275providers:t}}function Ug(...i){let t=[ai,V2,U2,{provide:g0,useExisting:U2},{provide:lp,useFactory:()=>Jt(W5,{optional:!0})??Jt(V2)},{provide:Bg,useValue:rS,multi:!0},{provide:H2,useValue:!0},{provide:dp,useClass:iS}];for(let e of i)t.push(...e.\u0275providers);return ad(t)}var j2=new Ji("");function Vg(){return nS(G2.LegacyInterceptors,[{provide:j2,useFactory:X5},{provide:Bg,useExisting:j2,multi:!0}])}var Ui=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275mod=ds({type:i})}static{this.\u0275inj=cs({providers:[Ug(Vg())]})}}return i})();var zg=class extends M2{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Wg=class i extends zg{static makeCurrent(){P2(new i)}onAndCancel(t,e,r){return t.addEventListener(e,r),()=>{t.removeEventListener(e,r)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=oS();return e==null?null:sS(e)}resetBaseElement(){b0=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return np(document.cookie,t)}},b0=null;function oS(){return b0=b0||document.querySelector("base"),b0?b0.getAttribute("href"):null}function sS(i){return new URL(i,document.baseURI).pathname}var lS=(()=>{class i{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=Ct({token:i,factory:i.\u0275fac})}}return i})(),Hg=new Ji(""),Y2=(()=>{class i{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(n=>{n.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,n){return this._findPluginFor(r).addEventListener(e,r,n)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(a=>a.supports(e)),!r)throw new Ur(5101,!1);return this._eventNameToPlugin.set(e,r),r}static{this.\u0275fac=function(r){return new(r||i)(St(Hg),St(Xa))}}static{this.\u0275prov=Ct({token:i,factory:i.\u0275fac})}}return i})(),up=class{constructor(t){this._doc=t}},jg="ng-app-id",K2=(()=>{class i{constructor(e,r,n,a={}){this.doc=e,this.appId=r,this.nonce=n,this.platformId=a,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ap(a),this.resetHostNodes()}addStyles(e){for(let r of e)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(e){for(let r of e)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let e=this.styleNodesInDOM;e&&(e.forEach(r=>r.remove()),e.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(let r of this.getAllStyles())this.addStyleToHost(e,r)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(let r of this.hostNodes)this.addStyleToHost(r,e)}onStyleRemoved(e){let r=this.styleRef;r.get(e)?.elements?.forEach(n=>n.remove()),r.delete(e)}collectServerRenderedStyles(){let e=this.doc.head?.querySelectorAll(`style[${jg}="${this.appId}"]`);if(e?.length){let r=new Map;return e.forEach(n=>{n.textContent!=null&&r.set(n.textContent,n)}),r}return null}changeUsageCount(e,r){let n=this.styleRef;if(n.has(e)){let a=n.get(e);return a.usage+=r,a.usage}return n.set(e,{usage:r,elements:[]}),r}getStyleElement(e,r){let n=this.styleNodesInDOM,a=n?.get(r);if(a?.parentNode===e)return n.delete(r),a.removeAttribute(jg),a;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(jg,this.appId),e.appendChild(o),o}}addStyleToHost(e,r){let n=this.getStyleElement(e,r),a=this.styleRef,o=a.get(r)?.elements;o?o.push(n):a.set(r,{elements:[n],usage:1})}resetHostNodes(){let e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||i)(St(Ia),St(Sg),St(Eg,8),St(sd))}}static{this.\u0275prov=Ct({token:i,factory:i.\u0275fac})}}return i})(),qg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},$g=/%COMP%/g,J2="%COMP%",cS=`_nghost-${J2}`,dS=`_ngcontent-${J2}`,uS=!0,fS=new Ji("",{providedIn:"root",factory:()=>uS});function pS(i){return dS.replace($g,i)}function hS(i){return cS.replace($g,i)}function Q2(i,t){return t.map(e=>e.replace($g,i))}var fp=(()=>{class i{constructor(e,r,n,a,o,d,u,p=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=n,this.removeStylesOnCompDestroy=a,this.doc=o,this.platformId=d,this.ngZone=u,this.nonce=p,this.rendererByCompId=new Map,this.platformIsServer=ap(d),this.defaultRenderer=new x0(e,o,u,this.platformIsServer)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===u0.ShadowDom&&(r=Ki(st({},r),{encapsulation:u0.Emulated}));let n=this.getOrCreateRenderer(e,r);return n instanceof pp?n.applyToHost(e):n instanceof y0&&n.applyStyles(),n}getOrCreateRenderer(e,r){let n=this.rendererByCompId,a=n.get(r.id);if(!a){let o=this.doc,d=this.ngZone,u=this.eventManager,p=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(r.encapsulation){case u0.Emulated:a=new pp(u,p,r,this.appId,g,o,d,y);break;case u0.ShadowDom:return new Gg(u,p,e,r,o,d,this.nonce,y);default:a=new y0(u,p,r,g,o,d,y);break}n.set(r.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||i)(St(Y2),St(K2),St(Sg),St(fS),St(Ia),St(sd),St(Xa),St(Eg))}}static{this.\u0275prov=Ct({token:i,factory:i.\u0275fac})}}return i})(),x0=class{constructor(t,e,r,n){this.eventManager=t,this.doc=e,this.ngZone=r,this.platformIsServer=n,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(qg[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){($2(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&($2(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){e.remove()}selectRootElement(t,e){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new Ur(-5104,!1);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,n){if(n){e=n+":"+e;let a=qg[n];a?t.setAttributeNS(a,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){let n=qg[r];n?t.removeAttributeNS(n,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,n){n&(p0.DashCase|p0.Important)?t.style.setProperty(e,r,n&p0.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&p0.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t!=null&&(t[e]=r)}setValue(t,e){t.nodeValue=e}listen(t,e,r){if(typeof t=="string"&&(t=ru().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(r))}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function $2(i){return i.tagName==="TEMPLATE"&&i.content!==void 0}var Gg=class extends x0{constructor(t,e,r,n,a,o,d,u){super(t,a,o,u),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let p=Q2(n.id,n.styles);for(let g of p){let y=document.createElement("style");d&&y.setAttribute("nonce",d),y.textContent=g,this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},y0=class extends x0{constructor(t,e,r,n,a,o,d,u){super(t,a,o,d),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=n,this.styles=u?Q2(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},pp=class extends y0{constructor(t,e,r,n,a,o,d,u){let p=n+"-"+r.id;super(t,e,r,a,o,d,u,p),this.contentAttr=pS(p),this.hostAttr=hS(p)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}},mS=(()=>{class i extends up{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,n){return e.addEventListener(r,n,!1),()=>this.removeEventListener(e,r,n)}removeEventListener(e,r,n){return e.removeEventListener(r,n)}static{this.\u0275fac=function(r){return new(r||i)(St(Ia))}}static{this.\u0275prov=Ct({token:i,factory:i.\u0275fac})}}return i})(),Z2=["alt","control","meta","shift"],gS={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vS={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey},_S=(()=>{class i extends up{constructor(e){super(e)}supports(e){return i.parseEventName(e)!=null}addEventListener(e,r,n){let a=i.parseEventName(r),o=i.eventCallback(a.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ru().onAndCancel(e,a.domEventName,o))}static parseEventName(e){let r=e.toLowerCase().split("."),n=r.shift();if(r.length===0||!(n==="keydown"||n==="keyup"))return null;let a=i._normalizeKey(r.pop()),o="",d=r.indexOf("code");if(d>-1&&(r.splice(d,1),o="code."),Z2.forEach(p=>{let g=r.indexOf(p);g>-1&&(r.splice(g,1),o+=p+".")}),o+=a,r.length!=0||a.length===0)return null;let u={};return u.domEventName=n,u.fullKey=o,u}static matchEventFullKeyCode(e,r){let n=gS[e.key]||e.key,a="";return r.indexOf("code.")>-1&&(n=e.code,a="code."),n==null||!n?!1:(n=n.toLowerCase(),n===" "?n="space":n==="."&&(n="dot"),Z2.forEach(o=>{if(o!==n){let d=vS[o];d(e)&&(a+=o+".")}}),a+=n,a===r)}static eventCallback(e,r,n){return a=>{i.matchEventFullKeyCode(a,e)&&n.runGuarded(()=>r(a))}}static _normalizeKey(e){return e==="esc"?"escape":e}static{this.\u0275fac=function(r){return new(r||i)(St(Ia))}}static{this.\u0275prov=Ct({token:i,factory:i.\u0275fac})}}return i})();function eb(i,t){return S2(st({rootComponent:i},bS(t)))}function bS(i){return{appProviders:[...SS,...i?.providers??[]],platformProviders:wS}}function xS(){Wg.makeCurrent()}function yS(){return new wg}function CS(){return r2(document),document}var wS=[{provide:sd,useValue:I2},{provide:n2,useValue:xS,multi:!0},{provide:Ia,useFactory:CS,deps:[]}];var SS=[{provide:t2,useValue:"root"},{provide:wg,useFactory:yS,deps:[]},{provide:Hg,useClass:mS,multi:!0,deps:[Ia,Xa,sd]},{provide:Hg,useClass:_S,multi:!0,deps:[Ia]},fp,K2,Y2,{provide:Yf,useExisting:fp},{provide:op,useClass:lS,deps:[]},[]];var tb=(()=>{class i{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(r){return new(r||i)(St(Ia))}}static{this.\u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Bi="primary",D0=Symbol("RouteTitle"),Jg=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function du(i){return new Jg(i)}function PS(i,t,e){let r=e.path.split("/");if(r.length>i.length||e.pathMatch==="full"&&(t.hasChildren()||r.length<i.length))return null;let n={};for(let a=0;a<r.length;a++){let o=r[a],d=i[a];if(o[0]===":")n[o.substring(1)]=d;else if(o!==d.path)return null}return{consumed:i.slice(0,r.length),posParams:n}}function MS(i,t){if(i.length!==t.length)return!1;for(let e=0;e<i.length;++e)if(!qs(i[e],t[e]))return!1;return!0}function qs(i,t){let e=i?Qg(i):void 0,r=t?Qg(t):void 0;if(!e||!r||e.length!=r.length)return!1;let n;for(let a=0;a<e.length;a++)if(n=e[a],!fb(i[n],t[n]))return!1;return!0}function Qg(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}function fb(i,t){if(Array.isArray(i)&&Array.isArray(t)){if(i.length!==t.length)return!1;let e=[...i].sort(),r=[...t].sort();return e.every((n,a)=>r[a]===n)}else return i===t}function pb(i){return i.length>0?i[i.length-1]:null}function oc(i){return j_(i)?i:ep(i)?Hn(Promise.resolve(i)):_i(i)}var TS={exact:mb,subset:gb},hb={exact:kS,subset:AS,ignored:()=>!0};function ib(i,t,e){return TS[e.paths](i.root,t.root,e.matrixParams)&&hb[e.queryParams](i.queryParams,t.queryParams)&&!(e.fragment==="exact"&&i.fragment!==t.fragment)}function kS(i,t){return qs(i,t)}function mb(i,t,e){if(!ud(i.segments,t.segments)||!gp(i.segments,t.segments,e)||i.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!i.children[r]||!mb(i.children[r],t.children[r],e))return!1;return!0}function AS(i,t){return Object.keys(t).length<=Object.keys(i).length&&Object.keys(t).every(e=>fb(i[e],t[e]))}function gb(i,t,e){return vb(i,t,t.segments,e)}function vb(i,t,e,r){if(i.segments.length>e.length){let n=i.segments.slice(0,e.length);return!(!ud(n,e)||t.hasChildren()||!gp(n,e,r))}else if(i.segments.length===e.length){if(!ud(i.segments,e)||!gp(i.segments,e,r))return!1;for(let n in t.children)if(!i.children[n]||!gb(i.children[n],t.children[n],r))return!1;return!0}else{let n=e.slice(0,i.segments.length),a=e.slice(i.segments.length);return!ud(i.segments,n)||!gp(i.segments,n,r)||!i.children[Bi]?!1:vb(i.children[Bi],t,a,r)}}function gp(i,t,e){return t.every((r,n)=>hb[e](i[n].parameters,r.parameters))}var vl=class{constructor(t=new gr([],{}),e={},r=null){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=du(this.queryParams),this._queryParamMap}toString(){return FS.serialize(this)}},gr=class{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vp(this)}},dd=class{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=du(this.parameters),this._parameterMap}toString(){return bb(this)}};function OS(i,t){return ud(i,t)&&i.every((e,r)=>qs(e.parameters,t[r].parameters))}function ud(i,t){return i.length!==t.length?!1:i.every((e,r)=>e.path===t[r].path)}function IS(i,t){let e=[];return Object.entries(i.children).forEach(([r,n])=>{r===Bi&&(e=e.concat(t(n,r)))}),Object.entries(i.children).forEach(([r,n])=>{r!==Bi&&(e=e.concat(t(n,r)))}),e}var R0=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=Ct({token:i,factory:()=>new uu,providedIn:"root"})}}return i})(),uu=class{parse(t){let e=new t1(t);return new vl(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${C0(t.root,!0)}`,r=DS(t.queryParams),n=typeof t.fragment=="string"?`#${NS(t.fragment)}`:"";return`${e}${r}${n}`}},FS=new uu;function vp(i){return i.segments.map(t=>bb(t)).join("/")}function C0(i,t){if(!i.hasChildren())return vp(i);if(t){let e=i.children[Bi]?C0(i.children[Bi],!1):"",r=[];return Object.entries(i.children).forEach(([n,a])=>{n!==Bi&&r.push(`${n}:${C0(a,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}else{let e=IS(i,(r,n)=>n===Bi?[C0(i.children[Bi],!1)]:[`${n}:${C0(r,!1)}`]);return Object.keys(i.children).length===1&&i.children[Bi]!=null?`${vp(i)}/${e[0]}`:`${vp(i)}/(${e.join("//")})`}}function _b(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hp(i){return _b(i).replace(/%3B/gi,";")}function NS(i){return encodeURI(i)}function e1(i){return _b(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _p(i){return decodeURIComponent(i)}function rb(i){return _p(i.replace(/\+/g,"%20"))}function bb(i){return`${e1(i.path)}${LS(i.parameters)}`}function LS(i){return Object.entries(i).map(([t,e])=>`;${e1(t)}=${e1(e)}`).join("")}function DS(i){let t=Object.entries(i).map(([e,r])=>Array.isArray(r)?r.map(n=>`${hp(e)}=${hp(n)}`).join("&"):`${hp(e)}=${hp(r)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var RS=/^[^\/()?;#]+/;function Zg(i){let t=i.match(RS);return t?t[0]:""}var BS=/^[^\/()?;=#]+/;function US(i){let t=i.match(BS);return t?t[0]:""}var VS=/^[^=?&#]+/;function jS(i){let t=i.match(VS);return t?t[0]:""}var qS=/^[^&#]+/;function zS(i){let t=i.match(qS);return t?t[0]:""}var t1=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new gr([],{}):new gr([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[Bi]=new gr(t,e)),r}parseSegment(){let t=Zg(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new Ur(4009,!1);return this.capture(t),new dd(_p(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=US(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let n=Zg(this.remaining);n&&(r=n,this.capture(r))}t[_p(e)]=_p(r)}parseQueryParam(t){let e=jS(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let o=zS(this.remaining);o&&(r=o,this.capture(r))}let n=rb(e),a=rb(r);if(t.hasOwnProperty(n)){let o=t[n];Array.isArray(o)||(o=[o],t[n]=o),o.push(a)}else t[n]=a}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Zg(this.remaining),n=this.remaining[r.length];if(n!=="/"&&n!==")"&&n!==";")throw new Ur(4010,!1);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):t&&(a=Bi);let o=this.parseChildren();e[a]=Object.keys(o).length===1?o[Bi]:new gr([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new Ur(4011,!1)}};function xb(i){return i.segments.length>0?new gr([],{[Bi]:i}):i}function yb(i){let t={};for(let[r,n]of Object.entries(i.children)){let a=yb(n);if(r===Bi&&a.segments.length===0&&a.hasChildren())for(let[o,d]of Object.entries(a.children))t[o]=d;else(a.segments.length>0||a.hasChildren())&&(t[r]=a)}let e=new gr(i.segments,t);return WS(e)}function WS(i){if(i.numberOfChildren===1&&i.children[Bi]){let t=i.children[Bi];return new gr(i.segments.concat(t.segments),t.children)}return i}function fd(i){return i instanceof vl}function HS(i,t,e=null,r=null){let n=Cb(i);return wb(n,t,e,r)}function Cb(i){let t;function e(a){let o={};for(let u of a.children){let p=e(u);o[u.outlet]=p}let d=new gr(a.url,o);return a===i&&(t=d),d}let r=e(i.root),n=xb(r);return t??n}function wb(i,t,e,r){let n=i;for(;n.parent;)n=n.parent;if(t.length===0)return Xg(n,n,n,e,r);let a=GS(t);if(a.toRoot())return Xg(n,n,new gr([],{}),e,r);let o=$S(a,n,i),d=o.processChildren?E0(o.segmentGroup,o.index,a.commands):Eb(o.segmentGroup,o.index,a.commands);return Xg(n,o.segmentGroup,d,e,r)}function bp(i){return typeof i=="object"&&i!=null&&!i.outlets&&!i.segmentPath}function T0(i){return typeof i=="object"&&i!=null&&i.outlets}function Xg(i,t,e,r,n){let a={};r&&Object.entries(r).forEach(([u,p])=>{a[u]=Array.isArray(p)?p.map(g=>`${g}`):`${p}`});let o;i===t?o=e:o=Sb(i,t,e);let d=xb(yb(o));return new vl(d,a,n)}function Sb(i,t,e){let r={};return Object.entries(i.children).forEach(([n,a])=>{a===t?r[n]=e:r[n]=Sb(a,t,e)}),new gr(i.segments,r)}var xp=class{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&bp(r[0]))throw new Ur(4003,!1);let n=r.find(T0);if(n&&n!==pb(r))throw new Ur(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function GS(i){if(typeof i[0]=="string"&&i.length===1&&i[0]==="/")return new xp(!0,0,i);let t=0,e=!1,r=i.reduce((n,a,o)=>{if(typeof a=="object"&&a!=null){if(a.outlets){let d={};return Object.entries(a.outlets).forEach(([u,p])=>{d[u]=typeof p=="string"?p.split("/"):p}),[...n,{outlets:d}]}if(a.segmentPath)return[...n,a.segmentPath]}return typeof a!="string"?[...n,a]:o===0?(a.split("/").forEach((d,u)=>{u==0&&d==="."||(u==0&&d===""?e=!0:d===".."?t++:d!=""&&n.push(d))}),n):[...n,a]},[]);return new xp(e,t,r)}var su=class{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}};function $S(i,t,e){if(i.isAbsolute)return new su(t,!0,0);if(!e)return new su(t,!1,NaN);if(e.parent===null)return new su(e,!0,0);let r=bp(i.commands[0])?0:1,n=e.segments.length-1+r;return ZS(e,n,i.numberOfDoubleDots)}function ZS(i,t,e){let r=i,n=t,a=e;for(;a>n;){if(a-=n,r=r.parent,!r)throw new Ur(4005,!1);n=r.segments.length}return new su(r,!1,n-a)}function XS(i){return T0(i[0])?i[0].outlets:{[Bi]:i}}function Eb(i,t,e){if(i??=new gr([],{}),i.segments.length===0&&i.hasChildren())return E0(i,t,e);let r=YS(i,t,e),n=e.slice(r.commandIndex);if(r.match&&r.pathIndex<i.segments.length){let a=new gr(i.segments.slice(0,r.pathIndex),{});return a.children[Bi]=new gr(i.segments.slice(r.pathIndex),i.children),E0(a,0,n)}else return r.match&&n.length===0?new gr(i.segments,{}):r.match&&!i.hasChildren()?i1(i,t,e):r.match?E0(i,0,n):i1(i,t,e)}function E0(i,t,e){if(e.length===0)return new gr(i.segments,{});{let r=XS(e),n={};if(Object.keys(r).some(a=>a!==Bi)&&i.children[Bi]&&i.numberOfChildren===1&&i.children[Bi].segments.length===0){let a=E0(i.children[Bi],t,e);return new gr(i.segments,a.children)}return Object.entries(r).forEach(([a,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(n[a]=Eb(i.children[a],t,o))}),Object.entries(i.children).forEach(([a,o])=>{r[a]===void 0&&(n[a]=o)}),new gr(i.segments,n)}}function YS(i,t,e){let r=0,n=t,a={match:!1,pathIndex:0,commandIndex:0};for(;n<i.segments.length;){if(r>=e.length)return a;let o=i.segments[n],d=e[r];if(T0(d))break;let u=`${d}`,p=r<e.length-1?e[r+1]:null;if(n>0&&u===void 0)break;if(u&&p&&typeof p=="object"&&p.outlets===void 0){if(!ab(u,p,o))return a;r+=2}else{if(!ab(u,{},o))return a;r++}n++}return{match:!0,pathIndex:n,commandIndex:r}}function i1(i,t,e){let r=i.segments.slice(0,t),n=0;for(;n<e.length;){let a=e[n];if(T0(a)){let u=KS(a.outlets);return new gr(r,u)}if(n===0&&bp(e[0])){let u=i.segments[t];r.push(new dd(u.path,nb(e[0]))),n++;continue}let o=T0(a)?a.outlets[Bi]:`${a}`,d=n<e.length-1?e[n+1]:null;o&&d&&bp(d)?(r.push(new dd(o,nb(d))),n+=2):(r.push(new dd(o,{})),n++)}return new gr(r,{})}function KS(i){let t={};return Object.entries(i).forEach(([e,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[e]=i1(new gr([],{}),0,r))}),t}function nb(i){let t={};return Object.entries(i).forEach(([e,r])=>t[e]=`${r}`),t}function ab(i,t,e){return i==e.path&&qs(t,e.parameters)}var P0="imperative",Ln=function(i){return i[i.NavigationStart=0]="NavigationStart",i[i.NavigationEnd=1]="NavigationEnd",i[i.NavigationCancel=2]="NavigationCancel",i[i.NavigationError=3]="NavigationError",i[i.RoutesRecognized=4]="RoutesRecognized",i[i.ResolveStart=5]="ResolveStart",i[i.ResolveEnd=6]="ResolveEnd",i[i.GuardsCheckStart=7]="GuardsCheckStart",i[i.GuardsCheckEnd=8]="GuardsCheckEnd",i[i.RouteConfigLoadStart=9]="RouteConfigLoadStart",i[i.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",i[i.ChildActivationStart=11]="ChildActivationStart",i[i.ChildActivationEnd=12]="ChildActivationEnd",i[i.ActivationStart=13]="ActivationStart",i[i.ActivationEnd=14]="ActivationEnd",i[i.Scroll=15]="Scroll",i[i.NavigationSkipped=16]="NavigationSkipped",i}(Ln||{}),jo=class{constructor(t,e){this.id=t,this.url=e}},fu=class extends jo{constructor(t,e,r="imperative",n=null){super(t,e),this.type=Ln.NavigationStart,this.navigationTrigger=r,this.restoredState=n}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},zs=class extends jo{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r,this.type=Ln.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},_o=function(i){return i[i.Redirect=0]="Redirect",i[i.SupersededByNewNavigation=1]="SupersededByNewNavigation",i[i.NoDataFromResolver=2]="NoDataFromResolver",i[i.GuardRejected=3]="GuardRejected",i}(_o||{}),yp=function(i){return i[i.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",i[i.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",i}(yp||{}),gl=class extends jo{constructor(t,e,r,n){super(t,e),this.reason=r,this.code=n,this.type=Ln.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ac=class extends jo{constructor(t,e,r,n){super(t,e),this.reason=r,this.code=n,this.type=Ln.NavigationSkipped}},k0=class extends jo{constructor(t,e,r,n){super(t,e),this.error=r,this.target=n,this.type=Ln.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Cp=class extends jo{constructor(t,e,r,n){super(t,e),this.urlAfterRedirects=r,this.state=n,this.type=Ln.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},r1=class extends jo{constructor(t,e,r,n){super(t,e),this.urlAfterRedirects=r,this.state=n,this.type=Ln.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},n1=class extends jo{constructor(t,e,r,n,a){super(t,e),this.urlAfterRedirects=r,this.state=n,this.shouldActivate=a,this.type=Ln.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},a1=class extends jo{constructor(t,e,r,n){super(t,e),this.urlAfterRedirects=r,this.state=n,this.type=Ln.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},o1=class extends jo{constructor(t,e,r,n){super(t,e),this.urlAfterRedirects=r,this.state=n,this.type=Ln.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},s1=class{constructor(t){this.route=t,this.type=Ln.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},l1=class{constructor(t){this.route=t,this.type=Ln.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},c1=class{constructor(t){this.snapshot=t,this.type=Ln.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},d1=class{constructor(t){this.snapshot=t,this.type=Ln.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},u1=class{constructor(t){this.snapshot=t,this.type=Ln.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},f1=class{constructor(t){this.snapshot=t,this.type=Ln.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wp=class{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r,this.type=Ln.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},A0=class{},pu=class{constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function JS(i,t){return i.providers&&!i._injector&&(i._injector=Mg(i.providers,t,`Route: ${i.path}`)),i._injector??t}function ps(i){return i.outlet||Bi}function QS(i,t){let e=i.filter(r=>ps(r)===t);return e.push(...i.filter(r=>ps(r)!==t)),e}function B0(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let t=i.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var p1=class{get injector(){return B0(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new U0(this.rootInjector),this.attachRef=null}},U0=(()=>{class i{constructor(e){this.rootInjector=e,this.contexts=new Map}onChildOutletCreated(e,r){let n=this.getOrCreateContext(e);n.outlet=r,this.contexts.set(e,n)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new p1(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(r){return new(r||i)(St(od))}}static{this.\u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Sp=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=h1(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){let e=h1(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=m1(t,this._root);return e.length<2?[]:e[e.length-2].children.map(n=>n.value).filter(n=>n!==t)}pathFromRoot(t){return m1(t,this._root).map(e=>e.value)}};function h1(i,t){if(i===t.value)return t;for(let e of t.children){let r=h1(i,e);if(r)return r}return null}function m1(i,t){if(i===t.value)return[t];for(let e of t.children){let r=m1(i,e);if(r.length)return r.unshift(t),r}return[]}var vo=class{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function ou(i){let t={};return i&&i.children.forEach(e=>t[e.value.outlet]=e),t}var Ep=class extends Sp{constructor(t,e){super(t),this.snapshot=e,S1(this,t)}toString(){return this.snapshot.toString()}};function Pb(i){let t=e3(i),e=new Ro([new dd("",{})]),r=new Ro({}),n=new Ro({}),a=new Ro({}),o=new Ro(""),d=new Vi(e,r,a,o,n,Bi,i,t.root);return d.snapshot=t.root,new Ep(new vo(d,[]),t)}function e3(i){let t={},e={},r={},n="",a=new lu([],t,r,n,e,Bi,i,null,{});return new Mp("",new vo(a,[]))}var Vi=class{constructor(t,e,r,n,a,o,d,u){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=n,this.dataSubject=a,this.outlet=o,this.component=d,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(nr(p=>p[D0]))??_i(void 0),this.url=t,this.params=e,this.queryParams=r,this.fragment=n,this.data=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(nr(t=>du(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(nr(t=>du(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Pp(i,t,e="emptyOnly"){let r,{routeConfig:n}=i;return t!==null&&(e==="always"||n?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:st(st({},t.params),i.params),data:st(st({},t.data),i.data),resolve:st(st(st(st({},i.data),t.data),n?.data),i._resolvedData)}:r={params:st({},i.params),data:st({},i.data),resolve:st(st({},i.data),i._resolvedData??{})},n&&Tb(n)&&(r.resolve[D0]=n.title),r}var lu=class{get title(){return this.data?.[D0]}constructor(t,e,r,n,a,o,d,u,p){this.url=t,this.params=e,this.queryParams=r,this.fragment=n,this.data=a,this.outlet=o,this.component=d,this.routeConfig=u,this._resolve=p}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=du(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=du(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},Mp=class extends Sp{constructor(t,e){super(e),this.url=t,S1(this,e)}toString(){return Mb(this._root)}};function S1(i,t){t.value._routerState=i,t.children.forEach(e=>S1(i,e))}function Mb(i){let t=i.children.length>0?` { ${i.children.map(Mb).join(", ")} } `:"";return`${i.value}${t}`}function Yg(i){if(i.snapshot){let t=i.snapshot,e=i._futureSnapshot;i.snapshot=e,qs(t.queryParams,e.queryParams)||i.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&i.fragmentSubject.next(e.fragment),qs(t.params,e.params)||i.paramsSubject.next(e.params),MS(t.url,e.url)||i.urlSubject.next(e.url),qs(t.data,e.data)||i.dataSubject.next(e.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function g1(i,t){let e=qs(i.params,t.params)&&OS(i.url,t.url),r=!i.parent!=!t.parent;return e&&!r&&(!i.parent||g1(i.parent,t.parent))}function Tb(i){return typeof i.title=="string"||i.title===null}var V0=(()=>{class i{constructor(){this.activated=null,this._activatedRoute=null,this.name=Bi,this.activateEvents=new tn,this.deactivateEvents=new tn,this.attachEvents=new tn,this.detachEvents=new tn,this.parentContexts=Jt(U0),this.location=Jt(l2),this.changeDetector=Jt(fs),this.inputBinder=Jt(Op,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:n}=e.name;if(r)return;this.isTrackedInParentContexts(n)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(n)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ur(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ur(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ur(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Ur(4013,!1);this._activatedRoute=e;let n=this.location,o=e.snapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,u=new v1(e,d,n.injector);this.activated=n.createComponent(o,{index:n.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275dir=zr({type:i,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Uo]})}}return i})(),v1=class i{__ngOutletInjector(t){return new i(this.route,this.childContexts,t)}constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===Vi?this.route:t===U0?this.childContexts:this.parent.get(t,e)}},Op=new Ji(""),ob=(()=>{class i{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:r}=e,n=rd([r.queryParams,r.params,r.data]).pipe(Oa(([a,o,d],u)=>(d=st(st(st({},a),o),d),u===0?_i(d):Promise.resolve(d)))).subscribe(a=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(e);return}let o=E2(r.component);if(!o){this.unsubscribeFromRouteData(e);return}for(let{templateName:d}of o.inputs)e.activatedComponentRef.setInput(d,a[d])});this.outletDataSubscriptions.set(e,n)}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=Ct({token:i,factory:i.\u0275fac})}}return i})();function t3(i,t,e){let r=O0(i,t._root,e?e._root:void 0);return new Ep(r,t)}function O0(i,t,e){if(e&&i.shouldReuseRoute(t.value,e.value.snapshot)){let r=e.value;r._futureSnapshot=t.value;let n=i3(i,t,e);return new vo(r,n)}else{if(i.shouldAttach(t.value)){let a=i.retrieve(t.value);if(a!==null){let o=a.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(d=>O0(i,d)),o}}let r=r3(t.value),n=t.children.map(a=>O0(i,a));return new vo(r,n)}}function i3(i,t,e){return t.children.map(r=>{for(let n of e.children)if(i.shouldReuseRoute(r.value,n.value.snapshot))return O0(i,r,n);return O0(i,r)})}function r3(i){return new Vi(new Ro(i.url),new Ro(i.params),new Ro(i.queryParams),new Ro(i.fragment),new Ro(i.data),i.outlet,i.component,i)}var I0=class{constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},kb="ngNavigationCancelingError";function Tp(i,t){let{redirectTo:e,navigationBehaviorOptions:r}=fd(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,n=Ab(!1,_o.Redirect);return n.url=e,n.navigationBehaviorOptions=r,n}function Ab(i,t){let e=new Error(`NavigationCancelingError: ${i||""}`);return e[kb]=!0,e.cancellationCode=t,e}function n3(i){return Ob(i)&&fd(i.url)}function Ob(i){return!!i&&i[kb]}var a3=(i,t,e,r)=>nr(n=>(new _1(t,n.targetRouterState,n.currentRouterState,e,r).activate(i),n)),_1=class{constructor(t,e,r,n,a){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=n,this.inputBindingEnabled=a}activate(t){let e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),Yg(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){let n=ou(e);t.children.forEach(a=>{let o=a.value.outlet;this.deactivateRoutes(a,n[o],r),delete n[o]}),Object.values(n).forEach(a=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(t,e,r){let n=t.value,a=e?e.value:null;if(n===a)if(n.component){let o=r.getContext(n.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,r);else a&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let r=e.getContext(t.value.outlet),n=r&&t.value.component?r.children:e,a=ou(t);for(let o of Object.values(a))this.deactivateRouteAndItsChildren(o,n);if(r&&r.outlet){let o=r.outlet.detach(),d=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:d})}}deactivateRouteAndOutlet(t,e){let r=e.getContext(t.value.outlet),n=r&&t.value.component?r.children:e,a=ou(t);for(let o of Object.values(a))this.deactivateRouteAndItsChildren(o,n);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,e,r){let n=ou(e);t.children.forEach(a=>{this.activateRoutes(a,n[a.value.outlet],r),this.forwardEvent(new f1(a.value.snapshot))}),t.children.length&&this.forwardEvent(new d1(t.value.snapshot))}activateRoutes(t,e,r){let n=t.value,a=e?e.value:null;if(Yg(n),n===a)if(n.component){let o=r.getOrCreateContext(n.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,r);else if(n.component){let o=r.getOrCreateContext(n.outlet);if(this.routeReuseStrategy.shouldAttach(n.snapshot)){let d=this.routeReuseStrategy.retrieve(n.snapshot);this.routeReuseStrategy.store(n.snapshot,null),o.children.onOutletReAttached(d.contexts),o.attachRef=d.componentRef,o.route=d.route.value,o.outlet&&o.outlet.attach(d.componentRef,d.route.value),Yg(d.route.value),this.activateChildRoutes(t,null,o.children)}else o.attachRef=null,o.route=n,o.outlet&&o.outlet.activateWith(n,o.injector),this.activateChildRoutes(t,null,o.children)}else this.activateChildRoutes(t,null,r)}},kp=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},cu=class{constructor(t,e){this.component=t,this.route=e}};function o3(i,t,e){let r=i._root,n=t?t._root:null;return w0(r,n,e,[r.value])}function s3(i){let t=i.routeConfig?i.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:i,guards:t}}function mu(i,t){let e=Symbol(),r=t.get(i,e);return r===e?typeof i=="function"&&!J_(i)?i:t.get(i):r}function w0(i,t,e,r,n={canDeactivateChecks:[],canActivateChecks:[]}){let a=ou(t);return i.children.forEach(o=>{l3(o,a[o.value.outlet],e,r.concat([o.value]),n),delete a[o.value.outlet]}),Object.entries(a).forEach(([o,d])=>M0(d,e.getContext(o),n)),n}function l3(i,t,e,r,n={canDeactivateChecks:[],canActivateChecks:[]}){let a=i.value,o=t?t.value:null,d=e?e.getContext(i.value.outlet):null;if(o&&a.routeConfig===o.routeConfig){let u=c3(o,a,a.routeConfig.runGuardsAndResolvers);u?n.canActivateChecks.push(new kp(r)):(a.data=o.data,a._resolvedData=o._resolvedData),a.component?w0(i,t,d?d.children:null,r,n):w0(i,t,e,r,n),u&&d&&d.outlet&&d.outlet.isActivated&&n.canDeactivateChecks.push(new cu(d.outlet.component,o))}else o&&M0(t,d,n),n.canActivateChecks.push(new kp(r)),a.component?w0(i,null,d?d.children:null,r,n):w0(i,null,e,r,n);return n}function c3(i,t,e){if(typeof e=="function")return e(i,t);switch(e){case"pathParamsChange":return!ud(i.url,t.url);case"pathParamsOrQueryParamsChange":return!ud(i.url,t.url)||!qs(i.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!g1(i,t)||!qs(i.queryParams,t.queryParams);case"paramsChange":default:return!g1(i,t)}}function M0(i,t,e){let r=ou(i),n=i.value;Object.entries(r).forEach(([a,o])=>{n.component?t?M0(o,t.children.getContext(a),e):M0(o,null,e):M0(o,t,e)}),n.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new cu(t.outlet.component,n)):e.canDeactivateChecks.push(new cu(null,n)):e.canDeactivateChecks.push(new cu(null,n))}function j0(i){return typeof i=="function"}function d3(i){return typeof i=="boolean"}function u3(i){return i&&j0(i.canLoad)}function f3(i){return i&&j0(i.canActivate)}function p3(i){return i&&j0(i.canActivateChild)}function h3(i){return i&&j0(i.canDeactivate)}function m3(i){return i&&j0(i.canMatch)}function Ib(i){return i instanceof q_||i?.name==="EmptyError"}var mp=Symbol("INITIAL_VALUE");function hu(){return Oa(i=>rd(i.map(t=>t.pipe(Kd(1),Y_(mp)))).pipe(nr(t=>{for(let e of t)if(e!==!0){if(e===mp)return mp;if(e===!1||g3(e))return e}return!0}),ul(t=>t!==mp),Kd(1)))}function g3(i){return fd(i)||i instanceof I0}function v3(i,t){return Aa(e=>{let{targetSnapshot:r,currentSnapshot:n,guards:{canActivateChecks:a,canDeactivateChecks:o}}=e;return o.length===0&&a.length===0?_i(Ki(st({},e),{guardsResult:!0})):_3(o,r,n,i).pipe(Aa(d=>d&&d3(d)?b3(r,a,i,t):_i(d)),nr(d=>Ki(st({},e),{guardsResult:d})))})}function _3(i,t,e,r){return Hn(i).pipe(Aa(n=>S3(n.component,n.route,e,t,r)),ec(n=>n!==!0,!0))}function b3(i,t,e,r){return Hn(t).pipe(Ql(n=>z_(y3(n.route.parent,r),x3(n.route,r),w3(i,n.path,e),C3(i,n.route,e))),ec(n=>n!==!0,!0))}function x3(i,t){return i!==null&&t&&t(new u1(i)),_i(!0)}function y3(i,t){return i!==null&&t&&t(new c1(i)),_i(!0)}function C3(i,t,e){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return _i(!0);let n=r.map(a=>bg(()=>{let o=B0(t)??e,d=mu(a,o),u=f3(d)?d.canActivate(t,i):Bo(o,()=>d(t,i));return oc(u).pipe(ec())}));return _i(n).pipe(hu())}function w3(i,t,e){let r=t[t.length-1],a=t.slice(0,t.length-1).reverse().map(o=>s3(o)).filter(o=>o!==null).map(o=>bg(()=>{let d=o.guards.map(u=>{let p=B0(o.node)??e,g=mu(u,p),y=p3(g)?g.canActivateChild(r,i):Bo(p,()=>g(r,i));return oc(y).pipe(ec())});return _i(d).pipe(hu())}));return _i(a).pipe(hu())}function S3(i,t,e,r,n){let a=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!a||a.length===0)return _i(!0);let o=a.map(d=>{let u=B0(t)??n,p=mu(d,u),g=h3(p)?p.canDeactivate(i,t,e,r):Bo(u,()=>p(i,t,e,r));return oc(g).pipe(ec())});return _i(o).pipe(hu())}function E3(i,t,e,r){let n=t.canLoad;if(n===void 0||n.length===0)return _i(!0);let a=n.map(o=>{let d=mu(o,i),u=u3(d)?d.canLoad(t,e):Bo(i,()=>d(t,e));return oc(u)});return _i(a).pipe(hu(),Fb(r))}function Fb(i){return V_(Cn(t=>{if(typeof t!="boolean")throw Tp(i,t)}),nr(t=>t===!0))}function P3(i,t,e,r){let n=t.canMatch;if(!n||n.length===0)return _i(!0);let a=n.map(o=>{let d=mu(o,i),u=m3(d)?d.canMatch(t,e):Bo(i,()=>d(t,e));return oc(u)});return _i(a).pipe(hu(),Fb(r))}var F0=class{constructor(t){this.segmentGroup=t||null}},N0=class extends Error{constructor(t){super(),this.urlTree=t}};function au(i){return c0(new F0(i))}function M3(i){return c0(new Ur(4e3,!1))}function T3(i){return c0(Ab(!1,_o.GuardRejected))}var b1=class{constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let r=[],n=e.root;for(;;){if(r=r.concat(n.segments),n.numberOfChildren===0)return _i(r);if(n.numberOfChildren>1||!n.children[Bi])return M3(`${t.redirectTo}`);n=n.children[Bi]}}applyRedirectCommands(t,e,r,n,a){if(typeof e!="string"){let d=e,{queryParams:u,fragment:p,routeConfig:g,url:y,outlet:w,params:x,data:T,title:E}=n,k=Bo(a,()=>d({params:x,data:T,queryParams:u,fragment:p,routeConfig:g,url:y,outlet:w,title:E}));if(k instanceof vl)throw new N0(k);e=k}let o=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r);if(e[0]==="/")throw new N0(o);return o}applyRedirectCreateUrlTree(t,e,r,n){let a=this.createSegmentGroup(t,e.root,r,n);return new vl(a,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let r={};return Object.entries(t).forEach(([n,a])=>{if(typeof a=="string"&&a[0]===":"){let d=a.substring(1);r[n]=e[d]}else r[n]=a}),r}createSegmentGroup(t,e,r,n){let a=this.createSegments(t,e.segments,r,n),o={};return Object.entries(e.children).forEach(([d,u])=>{o[d]=this.createSegmentGroup(t,u,r,n)}),new gr(a,o)}createSegments(t,e,r,n){return e.map(a=>a.path[0]===":"?this.findPosParam(t,a,n):this.findOrReturn(a,r))}findPosParam(t,e,r){let n=r[e.path.substring(1)];if(!n)throw new Ur(4001,!1);return n}findOrReturn(t,e){let r=0;for(let n of e){if(n.path===t.path)return e.splice(r),n;r++}return t}},x1={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function k3(i,t,e,r,n){let a=Nb(i,t,e);return a.matched?(r=JS(t,r),P3(r,t,e,n).pipe(nr(o=>o===!0?a:st({},x1)))):_i(a)}function Nb(i,t,e){if(t.path==="**")return A3(e);if(t.path==="")return t.pathMatch==="full"&&(i.hasChildren()||e.length>0)?st({},x1):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let n=(t.matcher||PS)(e,i,t);if(!n)return st({},x1);let a={};Object.entries(n.posParams??{}).forEach(([d,u])=>{a[d]=u.path});let o=n.consumed.length>0?st(st({},a),n.consumed[n.consumed.length-1].parameters):a;return{matched:!0,consumedSegments:n.consumed,remainingSegments:e.slice(n.consumed.length),parameters:o,positionalParamSegments:n.posParams??{}}}function A3(i){return{matched:!0,parameters:i.length>0?pb(i).parameters:{},consumedSegments:i,remainingSegments:[],positionalParamSegments:{}}}function sb(i,t,e,r){return e.length>0&&F3(i,e,r)?{segmentGroup:new gr(t,I3(r,new gr(e,i.children))),slicedSegments:[]}:e.length===0&&N3(i,e,r)?{segmentGroup:new gr(i.segments,O3(i,e,r,i.children)),slicedSegments:e}:{segmentGroup:new gr(i.segments,i.children),slicedSegments:e}}function O3(i,t,e,r){let n={};for(let a of e)if(Ip(i,t,a)&&!r[ps(a)]){let o=new gr([],{});n[ps(a)]=o}return st(st({},r),n)}function I3(i,t){let e={};e[Bi]=t;for(let r of i)if(r.path===""&&ps(r)!==Bi){let n=new gr([],{});e[ps(r)]=n}return e}function F3(i,t,e){return e.some(r=>Ip(i,t,r)&&ps(r)!==Bi)}function N3(i,t,e){return e.some(r=>Ip(i,t,r))}function Ip(i,t,e){return(i.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function L3(i,t,e){return t.length===0&&!i.children[e]}var y1=class{};function D3(i,t,e,r,n,a,o="emptyOnly"){return new C1(i,t,e,r,n,o,a).recognize()}var R3=31,C1=class{constructor(t,e,r,n,a,o,d){this.injector=t,this.configLoader=e,this.rootComponentType=r,this.config=n,this.urlTree=a,this.paramsInheritanceStrategy=o,this.urlSerializer=d,this.applyRedirects=new b1(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new Ur(4002,`'${t.segmentGroup}'`)}recognize(){let t=sb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(nr(({children:e,rootSnapshot:r})=>{let n=new vo(r,e),a=new Mp("",n),o=HS(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,a.url=this.urlSerializer.serialize(o),{state:a,tree:o}}))}match(t){let e=new lu([],Object.freeze({}),Object.freeze(st({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Bi,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,Bi,e).pipe(nr(r=>({children:r,rootSnapshot:e})),Yd(r=>{if(r instanceof N0)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof F0?this.noMatchError(r):r}))}processSegmentGroup(t,e,r,n,a){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,e,r,a):this.processSegment(t,e,r,r.segments,n,!0,a).pipe(nr(o=>o instanceof vo?[o]:[]))}processChildren(t,e,r,n){let a=[];for(let o of Object.keys(r.children))o==="primary"?a.unshift(o):a.push(o);return Hn(a).pipe(Ql(o=>{let d=r.children[o],u=QS(e,o);return this.processSegmentGroup(t,u,d,o,n)}),X_((o,d)=>(o.push(...d),o)),xg(null),Z_(),Aa(o=>{if(o===null)return au(r);let d=Lb(o);return B3(d),_i(d)}))}processSegment(t,e,r,n,a,o,d){return Hn(e).pipe(Ql(u=>this.processSegmentAgainstRoute(u._injector??t,e,u,r,n,a,o,d).pipe(Yd(p=>{if(p instanceof F0)return _i(null);throw p}))),ec(u=>!!u),Yd(u=>{if(Ib(u))return L3(r,n,a)?_i(new y1):au(r);throw u}))}processSegmentAgainstRoute(t,e,r,n,a,o,d,u){return ps(r)!==o&&(o===Bi||!Ip(n,a,r))?au(n):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,n,r,a,o,u):this.allowRedirects&&d?this.expandSegmentAgainstRouteUsingRedirect(t,n,e,r,a,o,u):au(n)}expandSegmentAgainstRouteUsingRedirect(t,e,r,n,a,o,d){let{matched:u,parameters:p,consumedSegments:g,positionalParamSegments:y,remainingSegments:w}=Nb(e,n,a);if(!u)return au(e);typeof n.redirectTo=="string"&&n.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>R3&&(this.allowRedirects=!1));let x=new lu(a,p,Object.freeze(st({},this.urlTree.queryParams)),this.urlTree.fragment,lb(n),ps(n),n.component??n._loadedComponent??null,n,cb(n)),T=Pp(x,d,this.paramsInheritanceStrategy);x.params=Object.freeze(T.params),x.data=Object.freeze(T.data);let E=this.applyRedirects.applyRedirectCommands(g,n.redirectTo,y,x,t);return this.applyRedirects.lineralizeSegments(n,E).pipe(Aa(k=>this.processSegment(t,r,e,k.concat(w),o,!1,d)))}matchSegmentAgainstRoute(t,e,r,n,a,o){let d=k3(e,r,n,t,this.urlSerializer);return r.path==="**"&&(e.children={}),d.pipe(Oa(u=>u.matched?(t=r._injector??t,this.getChildConfig(t,r,n).pipe(Oa(({routes:p})=>{let g=r._loadedInjector??t,{parameters:y,consumedSegments:w,remainingSegments:x}=u,T=new lu(w,y,Object.freeze(st({},this.urlTree.queryParams)),this.urlTree.fragment,lb(r),ps(r),r.component??r._loadedComponent??null,r,cb(r)),E=Pp(T,o,this.paramsInheritanceStrategy);T.params=Object.freeze(E.params),T.data=Object.freeze(E.data);let{segmentGroup:k,slicedSegments:F}=sb(e,w,x,p);if(F.length===0&&k.hasChildren())return this.processChildren(g,p,k,T).pipe(nr(X=>new vo(T,X)));if(p.length===0&&F.length===0)return _i(new vo(T,[]));let D=ps(r)===a;return this.processSegment(g,p,k,F,D?Bi:a,!0,T).pipe(nr(X=>new vo(T,X instanceof vo?[X]:[])))}))):au(e)))}getChildConfig(t,e,r){return e.children?_i({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?_i({routes:e._loadedRoutes,injector:e._loadedInjector}):E3(t,e,r,this.urlSerializer).pipe(Aa(n=>n?this.configLoader.loadChildren(t,e).pipe(Cn(a=>{e._loadedRoutes=a.routes,e._loadedInjector=a.injector})):T3(e))):_i({routes:[],injector:t})}};function B3(i){i.sort((t,e)=>t.value.outlet===Bi?-1:e.value.outlet===Bi?1:t.value.outlet.localeCompare(e.value.outlet))}function U3(i){let t=i.value.routeConfig;return t&&t.path===""}function Lb(i){let t=[],e=new Set;for(let r of i){if(!U3(r)){t.push(r);continue}let n=t.find(a=>r.value.routeConfig===a.value.routeConfig);n!==void 0?(n.children.push(...r.children),e.add(n)):t.push(r)}for(let r of e){let n=Lb(r.children);t.push(new vo(r.value,n))}return t.filter(r=>!e.has(r))}function lb(i){return i.data||{}}function cb(i){return i.resolve||{}}function V3(i,t,e,r,n,a){return Aa(o=>D3(i,t,e,r,o.extractedUrl,n,a).pipe(nr(({state:d,tree:u})=>Ki(st({},o),{targetSnapshot:d,urlAfterRedirects:u}))))}function j3(i,t){return Aa(e=>{let{targetSnapshot:r,guards:{canActivateChecks:n}}=e;if(!n.length)return _i(e);let a=new Set(n.map(u=>u.route)),o=new Set;for(let u of a)if(!o.has(u))for(let p of Db(u))o.add(p);let d=0;return Hn(o).pipe(Ql(u=>a.has(u)?q3(u,r,i,t):(u.data=Pp(u,u.parent,i).resolve,_i(void 0))),Cn(()=>d++),yg(1),Aa(u=>d===o.size?_i(e):Jl))})}function Db(i){let t=i.children.map(e=>Db(e)).flat();return[i,...t]}function q3(i,t,e,r){let n=i.routeConfig,a=i._resolve;return n?.title!==void 0&&!Tb(n)&&(a[D0]=n.title),z3(a,i,t,r).pipe(nr(o=>(i._resolvedData=o,i.data=Pp(i,i.parent,e).resolve,null)))}function z3(i,t,e,r){let n=Qg(i);if(n.length===0)return _i({});let a={};return Hn(n).pipe(Aa(o=>W3(i[o],t,e,r).pipe(ec(),Cn(d=>{if(d instanceof I0)throw Tp(new uu,d);a[o]=d}))),yg(1),$_(a),Yd(o=>Ib(o)?Jl:c0(o)))}function W3(i,t,e,r){let n=B0(t)??r,a=mu(i,n),o=a.resolve?a.resolve(t,e):Bo(n,()=>a(t,e));return oc(o)}function Kg(i){return Oa(t=>{let e=i(t);return e?Hn(e).pipe(nr(()=>t)):_i(t)})}var Rb=(()=>{class i{buildTitle(e){let r,n=e.root;for(;n!==void 0;)r=this.getResolvedTitleForRoute(n)??r,n=n.children.find(a=>a.outlet===Bi);return r}getResolvedTitleForRoute(e){return e.data[D0]}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=Ct({token:i,factory:()=>Jt(H3),providedIn:"root"})}}return i})(),H3=(()=>{class i extends Rb{constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||i)(St(tb))}}static{this.\u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),q0=new Ji("",{providedIn:"root",factory:()=>({})}),G3=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275cmp=ot({type:i,selectors:[["ng-component"]],standalone:!0,features:[ut],decls:1,vars:0,template:function(r,n){r&1&&Le(0,"router-outlet")},dependencies:[V0],encapsulation:2})}}return i})();function E1(i){let t=i.children&&i.children.map(E1),e=t?Ki(st({},i),{children:t}):st({},i);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Bi&&(e.component=G3),e}var L0=new Ji(""),P1=(()=>{class i{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Jt(rp)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return _i(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let r=oc(e.loadComponent()).pipe(nr(Bb),Cn(a=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=a}),nd(()=>{this.componentLoaders.delete(e)})),n=new gg(r,()=>new Do).pipe(mg());return this.componentLoaders.set(e,n),n}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return _i({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let a=$3(r,this.compiler,e,this.onLoadEndListener).pipe(nd(()=>{this.childrenLoaders.delete(r)})),o=new gg(a,()=>new Do).pipe(mg());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function $3(i,t,e,r){return oc(i.loadChildren()).pipe(nr(Bb),Aa(n=>n instanceof d2||Array.isArray(n)?_i(n):Hn(t.compileModuleAsync(n))),nr(n=>{r&&r(i);let a,o,d=!1;return Array.isArray(n)?(o=n,d=!0):(a=n.create(e).injector,o=a.get(L0,[],{optional:!0,self:!0}).flat()),{routes:o.map(E1),injector:a}}))}function Z3(i){return i&&typeof i=="object"&&"default"in i}function Bb(i){return Z3(i)?i.default:i}var M1=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=Ct({token:i,factory:()=>Jt(X3),providedIn:"root"})}}return i})(),X3=(()=>{class i{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Ub=new Ji(""),Vb=new Ji("");function Y3(i,t,e){let r=i.get(Vb),n=i.get(Ia);return i.get(Xa).runOutsideAngular(()=>{if(!n.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(p=>setTimeout(p));let a,o=new Promise(p=>{a=p}),d=n.startViewTransition(()=>(a(),K3(i))),{onViewTransitionCreated:u}=r;return u&&Bo(i,()=>u({transition:d,from:t,to:e})),o})}function K3(i){return new Promise(t=>{u2({read:()=>setTimeout(t)},{injector:i})})}var J3=new Ji(""),T1=(()=>{class i{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Do,this.transitionAbortSubject=new Do,this.configLoader=Jt(P1),this.environmentInjector=Jt(od),this.urlSerializer=Jt(R0),this.rootContexts=Jt(U0),this.location=Jt(hl),this.inputBindingEnabled=Jt(Op,{optional:!0})!==null,this.titleStrategy=Jt(Rb),this.options=Jt(q0,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Jt(M1),this.createViewTransition=Jt(Ub,{optional:!0}),this.navigationErrorHandler=Jt(J3,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>_i(void 0),this.rootComponentType=null;let e=n=>this.events.next(new s1(n)),r=n=>this.events.next(new l1(n));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;this.transitions?.next(Ki(st(st({},this.transitions.value),e),{id:r}))}setupNavigations(e,r,n){return this.transitions=new Ro({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:P0,restoredState:null,currentSnapshot:n.snapshot,targetSnapshot:null,currentRouterState:n,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ul(a=>a.id!==0),nr(a=>Ki(st({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Oa(a=>{let o=!1,d=!1;return _i(a).pipe(Oa(u=>{if(this.navigationId>a.id)return this.cancelNavigationTransition(a,"",_o.SupersededByNewNavigation),Jl;this.currentTransition=a,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?Ki(st({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let p=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),g=u.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!p&&g!=="reload"){let y="";return this.events.next(new ac(u.id,this.urlSerializer.serialize(u.rawUrl),y,yp.IgnoredSameUrlNavigation)),u.resolve(!1),Jl}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return _i(u).pipe(Oa(y=>{let w=this.transitions?.getValue();return this.events.next(new fu(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),w!==this.transitions?.getValue()?Jl:Promise.resolve(y)}),V3(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Cn(y=>{a.targetSnapshot=y.targetSnapshot,a.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation=Ki(st({},this.currentNavigation),{finalUrl:y.urlAfterRedirects});let w=new Cp(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(w)}));if(p&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:y,extractedUrl:w,source:x,restoredState:T,extras:E}=u,k=new fu(y,this.urlSerializer.serialize(w),x,T);this.events.next(k);let F=Pb(this.rootComponentType).snapshot;return this.currentTransition=a=Ki(st({},u),{targetSnapshot:F,urlAfterRedirects:w,extras:Ki(st({},E),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=w,_i(a)}else{let y="";return this.events.next(new ac(u.id,this.urlSerializer.serialize(u.extractedUrl),y,yp.IgnoredByUrlHandlingStrategy)),u.resolve(!1),Jl}}),Cn(u=>{let p=new r1(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(p)}),nr(u=>(this.currentTransition=a=Ki(st({},u),{guards:o3(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),a)),v3(this.environmentInjector,u=>this.events.next(u)),Cn(u=>{if(a.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw Tp(this.urlSerializer,u.guardsResult);let p=new n1(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(p)}),ul(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",_o.GuardRejected),!1)),Kg(u=>{if(u.guards.canActivateChecks.length)return _i(u).pipe(Cn(p=>{let g=new a1(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}),Oa(p=>{let g=!1;return _i(p).pipe(j3(this.paramsInheritanceStrategy,this.environmentInjector),Cn({next:()=>g=!0,complete:()=>{g||this.cancelNavigationTransition(p,"",_o.NoDataFromResolver)}}))}),Cn(p=>{let g=new o1(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}))}),Kg(u=>{let p=g=>{let y=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(g.routeConfig).pipe(Cn(w=>{g.component=w}),nr(()=>{})));for(let w of g.children)y.push(...p(w));return y};return rd(p(u.targetSnapshot.root)).pipe(xg(null),Kd(1))}),Kg(()=>this.afterPreactivation()),Oa(()=>{let{currentSnapshot:u,targetSnapshot:p}=a,g=this.createViewTransition?.(this.environmentInjector,u.root,p.root);return g?Hn(g).pipe(nr(()=>a)):_i(a)}),nr(u=>{let p=t3(e.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=a=Ki(st({},u),{targetRouterState:p}),this.currentNavigation.targetRouterState=p,a}),Cn(()=>{this.events.next(new A0)}),a3(this.rootContexts,e.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Kd(1),Cn({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new zs(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),K_(this.transitionAbortSubject.pipe(Cn(u=>{throw u}))),nd(()=>{!o&&!d&&this.cancelNavigationTransition(a,"",_o.SupersededByNewNavigation),this.currentTransition?.id===a.id&&(this.currentNavigation=null,this.currentTransition=null)}),Yd(u=>{if(d=!0,Ob(u))this.events.next(new gl(a.id,this.urlSerializer.serialize(a.extractedUrl),u.message,u.cancellationCode)),n3(u)?this.events.next(new pu(u.url,u.navigationBehaviorOptions)):a.resolve(!1);else{let p=new k0(a.id,this.urlSerializer.serialize(a.extractedUrl),u,a.targetSnapshot??void 0);try{let g=Bo(this.environmentInjector,()=>this.navigationErrorHandler?.(p));if(g instanceof I0){let{message:y,cancellationCode:w}=Tp(this.urlSerializer,g);this.events.next(new gl(a.id,this.urlSerializer.serialize(a.extractedUrl),y,w)),this.events.next(new pu(g.redirectTo,g.navigationBehaviorOptions))}else{this.events.next(p);let y=e.errorHandler(u);a.resolve(!!y)}}catch(g){this.options.resolveNavigationPromiseOnError?a.resolve(!1):a.reject(g)}}return Jl}))}))}cancelNavigationTransition(e,r,n){let a=new gl(e.id,this.urlSerializer.serialize(e.extractedUrl),r,n);this.events.next(a),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Q3(i){return i!==P0}var e4=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=Ct({token:i,factory:()=>Jt(t4),providedIn:"root"})}}return i})(),w1=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},t4=(()=>{class i extends w1{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=go(i)))(n||i)}})()}static{this.\u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),jb=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=Ct({token:i,factory:()=>Jt(i4),providedIn:"root"})}}return i})(),i4=(()=>{class i extends jb{constructor(){super(...arguments),this.location=Jt(hl),this.urlSerializer=Jt(R0),this.options=Jt(q0,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Jt(M1),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new vl,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Pb(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&e(r.url,r.state)})}handleRouterEvent(e,r){if(e instanceof fu)this.stateMemento=this.createStateMemento();else if(e instanceof ac)this.rawUrlTree=r.initialUrl;else if(e instanceof Cp){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let n=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??n,r)}}else e instanceof A0?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):e instanceof gl&&(e.code===_o.GuardRejected||e.code===_o.NoDataFromResolver)?this.restoreHistory(r):e instanceof k0?this.restoreHistory(r,!0):e instanceof zs&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,r){let n=e instanceof vl?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(n)||r.extras.replaceUrl){let a=this.browserPageId,o=st(st({},r.extras.state),this.generateNgRouterState(r.id,a));this.location.replaceState(n,"",o)}else{let a=st(st({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let n=this.browserPageId,a=this.currentPageId-n;a!==0?this.location.historyGo(a):this.currentUrlTree===e.finalUrl&&a===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=go(i)))(n||i)}})()}static{this.\u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),S0=function(i){return i[i.COMPLETE=0]="COMPLETE",i[i.FAILED=1]="FAILED",i[i.REDIRECTING=2]="REDIRECTING",i}(S0||{});function qb(i,t){i.events.pipe(ul(e=>e instanceof zs||e instanceof gl||e instanceof k0||e instanceof ac),nr(e=>e instanceof zs||e instanceof ac?S0.COMPLETE:(e instanceof gl?e.code===_o.Redirect||e.code===_o.SupersededByNewNavigation:!1)?S0.REDIRECTING:S0.FAILED),ul(e=>e!==S0.REDIRECTING),Kd(1)).subscribe(()=>{t()})}function r4(i){throw i}var n4={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},a4={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},vt=(()=>{class i{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=Jt(Qf),this.stateManager=Jt(jb),this.options=Jt(q0,{optional:!0})||{},this.pendingTasks=Jt(f0),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Jt(T1),this.urlSerializer=Jt(R0),this.location=Jt(hl),this.urlHandlingStrategy=Jt(M1),this._events=new Do,this.errorHandler=this.options.errorHandler||r4,this.navigated=!1,this.routeReuseStrategy=Jt(e4),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Jt(L0,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Jt(Op,{optional:!0}),this.eventsSubscription=new U_,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let n=this.navigationTransitions.currentTransition,a=this.navigationTransitions.currentNavigation;if(n!==null&&a!==null){if(this.stateManager.handleRouterEvent(r,a),r instanceof gl&&r.code!==_o.Redirect&&r.code!==_o.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof zs)this.navigated=!0;else if(r instanceof pu){let o=r.navigationBehaviorOptions,d=this.urlHandlingStrategy.merge(r.url,n.currentRawUrl),u=st({browserUrl:n.extras.browserUrl,info:n.extras.info,skipLocationChange:n.extras.skipLocationChange,replaceUrl:n.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Q3(n.source)},o);this.scheduleNavigation(d,P0,null,u,{resolve:n.resolve,reject:n.reject,promise:n.promise})}}s4(r)&&this._events.next(r)}catch(n){this.navigationTransitions.transitionAbortSubject.next(n)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),P0,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",r)},0)})}navigateToSyncWithBrowser(e,r,n){let a={replaceUrl:!0},o=n?.navigationId?n:null;if(n){let u=st({},n);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(a.state=u)}let d=this.parseUrl(e);this.scheduleNavigation(d,r,o,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(E1),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:n,queryParams:a,fragment:o,queryParamsHandling:d,preserveFragment:u}=r,p=u?this.currentUrlTree.fragment:o,g=null;switch(d??this.options.defaultQueryParamsHandling){case"merge":g=st(st({},this.currentUrlTree.queryParams),a);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=a||null}g!==null&&(g=this.removeEmptyProps(g));let y;try{let w=n?n.snapshot:this.routerState.snapshot.root;y=Cb(w)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),y=this.currentUrlTree.root}return wb(y,e,g,p??null)}navigateByUrl(e,r={skipLocationChange:!1}){let n=fd(e)?e:this.parseUrl(e),a=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(a,P0,null,r)}navigate(e,r={skipLocationChange:!1}){return o4(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,r){let n;if(r===!0?n=st({},n4):r===!1?n=st({},a4):n=r,fd(e))return ib(this.currentUrlTree,e,n);let a=this.parseUrl(e);return ib(this.currentUrlTree,a,n)}removeEmptyProps(e){return Object.entries(e).reduce((r,[n,a])=>(a!=null&&(r[n]=a),r),{})}scheduleNavigation(e,r,n,a,o){if(this.disposed)return Promise.resolve(!1);let d,u,p;o?(d=o.resolve,u=o.reject,p=o.promise):p=new Promise((y,w)=>{d=y,u=w});let g=this.pendingTasks.add();return qb(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:a,resolve:d,reject:u,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(y=>Promise.reject(y))}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function o4(i){for(let t=0;t<i.length;t++)if(i[t]==null)throw new Ur(4008,!1)}function s4(i){return!(i instanceof A0)&&!(i instanceof pu)}var zb=(()=>{class i{constructor(e,r,n,a,o,d){this.router=e,this.route=r,this.tabIndexAttribute=n,this.renderer=a,this.el=o,this.locationStrategy=d,this.href=null,this.onChanges=new Do,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=e.events.subscribe(p=>{p instanceof zs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(fd(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,r,n,a,o){let d=this.urlTree;if(d===null||this.isAnchorElement&&(e!==0||r||n||a||o||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(d,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let r=this.href===null?null:o2(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(e,r){let n=this.renderer,a=this.el.nativeElement;r!==null?n.setAttribute(a,e,r):n.removeAttribute(a,e)}get urlTree(){return this.routerLinkInput===null?null:fd(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||i)(ae(vt),ae(Vi),i2("tabindex"),ae(ld),ae(Vs),ae(h0))}}static{this.\u0275dir=zr({type:i,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,n){r&1&&J("click",function(o){return n.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&us("target",n.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",cd],skipLocationChange:[2,"skipLocationChange","skipLocationChange",cd],replaceUrl:[2,"replaceUrl","replaceUrl",cd],routerLink:"routerLink"},standalone:!0,features:[c2,Uo]})}}return i})();var Ap=class{};var l4=(()=>{class i{constructor(e,r,n,a,o){this.router=e,this.injector=n,this.preloadingStrategy=a,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(ul(e=>e instanceof zs),Ql(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){let n=[];for(let a of r){a.providers&&!a._injector&&(a._injector=Mg(a.providers,e,`Route: ${a.path}`));let o=a._injector??e,d=a._loadedInjector??o;(a.loadChildren&&!a._loadedRoutes&&a.canLoad===void 0||a.loadComponent&&!a._loadedComponent)&&n.push(this.preloadConfig(o,a)),(a.children||a._loadedRoutes)&&n.push(this.processRoutes(d,a.children??a._loadedRoutes))}return Hn(n).pipe(_g())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let n;r.loadChildren&&r.canLoad===void 0?n=this.loader.loadChildren(e,r):n=_i(null);let a=n.pipe(Aa(o=>o===null?_i(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(r);return Hn([a,o]).pipe(_g())}else return a})}static{this.\u0275fac=function(r){return new(r||i)(St(vt),St(rp),St(od),St(Ap),St(P1))}}static{this.\u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Wb=new Ji(""),c4=(()=>{class i{constructor(e,r,n,a,o={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=n,this.zone=a,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof fu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof zs?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof ac&&e.code===yp.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof wp&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new wp(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){Xf()}}static{this.\u0275prov=Ct({token:i,factory:i.\u0275fac})}}return i})();function Hb(i,...t){return ad([{provide:L0,multi:!0,useValue:i},[],{provide:Vi,useFactory:Gb,deps:[vt]},{provide:tp,multi:!0,useFactory:$b},t.map(e=>e.\u0275providers)])}function Gb(i){return i.routerState.root}function z0(i,t){return{\u0275kind:i,\u0275providers:t}}function $b(){let i=Jt(Zf);return t=>{let e=i.get(ip);if(t!==e.components[0])return;let r=i.get(vt),n=i.get(Zb);i.get(k1)===1&&r.initialNavigation(),i.get(Xb,null,d0.Optional)?.setUpPreloading(),i.get(Wb,null,d0.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),n.closed||(n.next(),n.complete(),n.unsubscribe())}}var Zb=new Ji("",{factory:()=>new Do}),k1=new Ji("",{providedIn:"root",factory:()=>1});function d4(){return z0(2,[{provide:k1,useValue:0},{provide:Og,multi:!0,deps:[Zf],useFactory:t=>{let e=t.get(T2,Promise.resolve());return()=>e.then(()=>new Promise(r=>{let n=t.get(vt),a=t.get(Zb);qb(n,()=>{r(!0)}),t.get(T1).afterPreactivation=()=>(r(!0),a.closed?_i(void 0):a),n.initialNavigation()}))}}])}function u4(){return z0(3,[{provide:Og,multi:!0,useFactory:()=>{let t=Jt(vt);return()=>{t.setUpLocationChangeListener()}}},{provide:k1,useValue:2}])}var Xb=new Ji("");function f4(i){return z0(0,[{provide:Xb,useExisting:l4},{provide:Ap,useExisting:i}])}function p4(){return z0(8,[ob,{provide:Op,useExisting:ob}])}function h4(i){let t=[{provide:Ub,useValue:Y3},{provide:Vb,useValue:st({skipNextTransition:!!i?.skipInitialTransition},i)}];return z0(9,t)}var db=new Ji("ROUTER_FORROOT_GUARD"),m4=[hl,{provide:R0,useClass:uu},vt,U0,{provide:Vi,useFactory:Gb,deps:[vt]},P1,[]],Fp=(()=>{class i{constructor(e){}static forRoot(e,r){return{ngModule:i,providers:[m4,[],{provide:L0,multi:!0,useValue:e},{provide:db,useFactory:b4,deps:[[vt,new Cg,new Q_]]},{provide:q0,useValue:r||{}},r?.useHash?v4():_4(),g4(),r?.preloadingStrategy?f4(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?x4(r):[],r?.bindToComponentInputs?p4().\u0275providers:[],r?.enableViewTransitions?h4().\u0275providers:[],y4()]}}static forChild(e){return{ngModule:i,providers:[{provide:L0,multi:!0,useValue:e}]}}static{this.\u0275fac=function(r){return new(r||i)(St(db,8))}}static{this.\u0275mod=ds({type:i})}static{this.\u0275inj=cs({})}}return i})();function g4(){return{provide:Wb,useFactory:()=>{let i=Jt(F2),t=Jt(Xa),e=Jt(q0),r=Jt(T1),n=Jt(R0);return e.scrollOffset&&i.setOffset(e.scrollOffset),new c4(n,r,i,t,e)}}}function v4(){return{provide:h0,useClass:A2}}function _4(){return{provide:h0,useClass:k2}}function b4(i){return"guarded"}function x4(i){return[i.initialNavigation==="disabled"?u4().\u0275providers:[],i.initialNavigation==="enabledBlocking"?d4().\u0275providers:[]]}var ub=new Ji("");function y4(){return[{provide:ub,useFactory:$b},{provide:tp,multi:!0,useExisting:ub}]}var ax=(()=>{class i{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=n=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(r){return new(r||i)(ae(ld),ae(Vs))}}static{this.\u0275dir=zr({type:i})}}return i})(),Y0=(()=>{class i extends ax{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=go(i)))(n||i)}})()}static{this.\u0275dir=zr({type:i,features:[Gn]})}}return i})(),hd=new Ji(""),C4={provide:hd,useExisting:Za(()=>K0),multi:!0},K0=(()=>{class i extends Y0{writeValue(e){this.setProperty("checked",e)}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=go(i)))(n||i)}})()}static{this.\u0275dir=zr({type:i,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,n){r&1&&J("change",function(o){return n.onChange(o.target.checked)})("blur",function(){return n.onTouched()})},features:[na([C4]),Gn]})}}return i})(),w4={provide:hd,useExisting:Za(()=>Mt),multi:!0};function S4(){let i=ru()?ru().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var E4=new Ji(""),Mt=(()=>{class i extends ax{constructor(e,r,n){super(e,r),this._compositionMode=n,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!S4())}writeValue(e){let r=e??"";this.setProperty("value",r)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(r){return new(r||i)(ae(ld),ae(Vs),ae(E4,8))}}static{this.\u0275dir=zr({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,n){r&1&&J("input",function(o){return n._handleInput(o.target.value)})("blur",function(){return n.onTouched()})("compositionstart",function(){return n._compositionStart()})("compositionend",function(o){return n._compositionEnd(o.target.value)})},features:[na([w4]),Gn]})}}return i})();function sc(i){return i==null||(typeof i=="string"||Array.isArray(i))&&i.length===0}function ox(i){return i!=null&&typeof i.length=="number"}var cc=new Ji(""),zp=new Ji(""),P4=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,_u=class{static min(t){return sx(t)}static max(t){return M4(t)}static required(t){return lx(t)}static requiredTrue(t){return T4(t)}static email(t){return k4(t)}static minLength(t){return cx(t)}static maxLength(t){return dx(t)}static pattern(t){return A4(t)}static nullValidator(t){return Lp(t)}static compose(t){return gx(t)}static composeAsync(t){return vx(t)}};function sx(i){return t=>{if(sc(t.value)||sc(i))return null;let e=parseFloat(t.value);return!isNaN(e)&&e<i?{min:{min:i,actual:t.value}}:null}}function M4(i){return t=>{if(sc(t.value)||sc(i))return null;let e=parseFloat(t.value);return!isNaN(e)&&e>i?{max:{max:i,actual:t.value}}:null}}function lx(i){return sc(i.value)?{required:!0}:null}function T4(i){return i.value===!0?null:{required:!0}}function k4(i){return sc(i.value)||P4.test(i.value)?null:{email:!0}}function cx(i){return t=>sc(t.value)||!ox(t.value)?null:t.value.length<i?{minlength:{requiredLength:i,actualLength:t.value.length}}:null}function dx(i){return t=>ox(t.value)&&t.value.length>i?{maxlength:{requiredLength:i,actualLength:t.value.length}}:null}function A4(i){if(!i)return Lp;let t,e;return typeof i=="string"?(e="",i.charAt(0)!=="^"&&(e+="^"),e+=i,i.charAt(i.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=i.toString(),t=i),r=>{if(sc(r.value))return null;let n=r.value;return t.test(n)?null:{pattern:{requiredPattern:e,actualValue:n}}}}function Lp(i){return null}function ux(i){return i!=null}function fx(i){return ep(i)?Hn(i):i}function px(i){let t={};return i.forEach(e=>{t=e!=null?st(st({},t),e):t}),Object.keys(t).length===0?null:t}function hx(i,t){return t.map(e=>e(i))}function O4(i){return!i.validate}function mx(i){return i.map(t=>O4(t)?t:e=>t.validate(e))}function gx(i){if(!i)return null;let t=i.filter(ux);return t.length==0?null:function(e){return px(hx(e,t))}}function L1(i){return i!=null?gx(mx(i)):null}function vx(i){if(!i)return null;let t=i.filter(ux);return t.length==0?null:function(e){let r=hx(e,t).map(fx);return W_(r).pipe(nr(px))}}function D1(i){return i!=null?vx(mx(i)):null}function Yb(i,t){return i===null?[t]:Array.isArray(i)?[...i,t]:[i,t]}function _x(i){return i._rawValidators}function bx(i){return i._rawAsyncValidators}function A1(i){return i?Array.isArray(i)?i:[i]:[]}function Dp(i,t){return Array.isArray(i)?i.includes(t):i===t}function Kb(i,t){let e=A1(t);return A1(i).forEach(n=>{Dp(e,n)||e.push(n)}),e}function Jb(i,t){return A1(t).filter(e=>!Dp(i,e))}var Rp=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=L1(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=D1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},_l=class extends Rp{get formDirective(){return null}get path(){return null}},pd=class extends Rp{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Bp=class{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},I4={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},VV=Ki(st({},I4),{"[class.ng-submitted]":"isSubmitted"}),Tt=(()=>{class i extends Bp{constructor(e){super(e)}static{this.\u0275fac=function(r){return new(r||i)(ae(pd,2))}}static{this.\u0275dir=zr({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,n){r&2&&fl("ng-untouched",n.isUntouched)("ng-touched",n.isTouched)("ng-pristine",n.isPristine)("ng-dirty",n.isDirty)("ng-valid",n.isValid)("ng-invalid",n.isInvalid)("ng-pending",n.isPending)},features:[Gn]})}}return i})(),ri=(()=>{class i extends Bp{constructor(e){super(e)}static{this.\u0275fac=function(r){return new(r||i)(ae(_l,10))}}static{this.\u0275dir=zr({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,n){r&2&&fl("ng-untouched",n.isUntouched)("ng-touched",n.isTouched)("ng-pristine",n.isPristine)("ng-dirty",n.isDirty)("ng-valid",n.isValid)("ng-invalid",n.isInvalid)("ng-pending",n.isPending)("ng-submitted",n.isSubmitted)},features:[Gn]})}}return i})();var W0="VALID",Np="INVALID",gu="PENDING",H0="DISABLED",lc=class{},Up=class extends lc{constructor(t,e){super(),this.value=t,this.source=e}},$0=class extends lc{constructor(t,e){super(),this.pristine=t,this.source=e}},Z0=class extends lc{constructor(t,e){super(),this.touched=t,this.source=e}},vu=class extends lc{constructor(t,e){super(),this.status=t,this.source=e}},O1=class extends lc{constructor(t){super(),this.source=t}},I1=class extends lc{constructor(t){super(),this.source=t}};function R1(i){return(Wp(i)?i.validators:i)||null}function F4(i){return Array.isArray(i)?L1(i):i||null}function B1(i,t){return(Wp(t)?t.asyncValidators:i)||null}function N4(i){return Array.isArray(i)?D1(i):i||null}function Wp(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function xx(i,t,e){let r=i.controls;if(!(t?Object.keys(r):r).length)throw new Ur(1e3,"");if(!r[e])throw new Ur(1001,"")}function yx(i,t,e){i._forEachChild((r,n)=>{if(e[n]===void 0)throw new Ur(1002,"")})}var bu=class{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=iu(()=>this.statusReactive()),this.statusReactive=Qd(void 0),this._pristine=iu(()=>this.pristineReactive()),this.pristineReactive=Qd(!0),this._touched=iu(()=>this.touchedReactive()),this.touchedReactive=Qd(!1),this._events=new Do,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return pl(this.statusReactive)}set status(t){pl(()=>this.statusReactive.set(t))}get valid(){return this.status===W0}get invalid(){return this.status===Np}get pending(){return this.status==gu}get disabled(){return this.status===H0}get enabled(){return this.status!==H0}get pristine(){return pl(this.pristineReactive)}set pristine(t){pl(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return pl(this.touchedReactive)}set touched(t){pl(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Kb(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Kb(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Jb(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Jb(t,this._rawAsyncValidators))}hasValidator(t){return Dp(this._rawValidators,t)}hasAsyncValidator(t){return Dp(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(Ki(st({},t),{sourceControl:r})),e&&t.emitEvent!==!1&&this._events.next(new Z0(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),e&&t.emitEvent!==!1&&this._events.next(new Z0(!1,r))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(Ki(st({},t),{sourceControl:r})),e&&t.emitEvent!==!1&&this._events.next(new $0(!1,r))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(n=>{n.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),e&&t.emitEvent!==!1&&this._events.next(new $0(!0,r))}markAsPending(t={}){this.status=gu;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new vu(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(Ki(st({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=H0,this.errors=null,this._forEachChild(n=>{n.disable(Ki(st({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Up(this.value,r)),this._events.next(new vu(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ki(st({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=W0,this._forEachChild(r=>{r.enable(Ki(st({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Ki(st({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===W0||this.status===gu)&&this._runAsyncValidator(r,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Up(this.value,e)),this._events.next(new vu(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(Ki(st({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?H0:W0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=gu,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let r=fx(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(n=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(n,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((r,n)=>r&&r._find(n),this)}getError(t,e){let r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new vu(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,r)}_initObservables(){this.valueChanges=new tn,this.statusChanges=new tn}_calculateStatus(){return this._allControlsDisabled()?H0:this.errors?Np:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gu)?gu:this._anyControlsHaveStatus(Np)?Np:W0}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let r=!this._anyControlsDirty(),n=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),n&&this._events.next(new $0(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new Z0(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Wp(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=F4(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=N4(this._rawAsyncValidators)}},xu=class extends bu{constructor(t,e,r){super(R1(e),B1(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){yx(this,!0,t),Object.keys(t).forEach(r=>{xx(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(r=>{let n=this.controls[r];n&&n.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,n)=>{r.reset(t?t[n]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>r._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,r,n)=>((r.enabled||this.disabled)&&(e[n]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((n,a)=>{r=e(r,n,a)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var F1=class extends xu{};var J0=new Ji("CallSetDisabledState",{providedIn:"root",factory:()=>Hp}),Hp="always";function Cx(i,t){return[...t.path,i]}function Vp(i,t,e=Hp){U1(i,t),t.valueAccessor.writeValue(i.value),(i.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(i.disabled),D4(i,t),B4(i,t),R4(i,t),L4(i,t)}function Qb(i,t,e=!0){let r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),qp(i,t),i&&(t._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function jp(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function L4(i,t){if(t.valueAccessor.setDisabledState){let e=r=>{t.valueAccessor.setDisabledState(r)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}function U1(i,t){let e=_x(i);t.validator!==null?i.setValidators(Yb(e,t.validator)):typeof e=="function"&&i.setValidators([e]);let r=bx(i);t.asyncValidator!==null?i.setAsyncValidators(Yb(r,t.asyncValidator)):typeof r=="function"&&i.setAsyncValidators([r]);let n=()=>i.updateValueAndValidity();jp(t._rawValidators,n),jp(t._rawAsyncValidators,n)}function qp(i,t){let e=!1;if(i!==null){if(t.validator!==null){let n=_x(i);if(Array.isArray(n)&&n.length>0){let a=n.filter(o=>o!==t.validator);a.length!==n.length&&(e=!0,i.setValidators(a))}}if(t.asyncValidator!==null){let n=bx(i);if(Array.isArray(n)&&n.length>0){let a=n.filter(o=>o!==t.asyncValidator);a.length!==n.length&&(e=!0,i.setAsyncValidators(a))}}}let r=()=>{};return jp(t._rawValidators,r),jp(t._rawAsyncValidators,r),e}function D4(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&wx(i,t)})}function R4(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&wx(i,t),i.updateOn!=="submit"&&i.markAsTouched()})}function wx(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function B4(i,t){let e=(r,n)=>{t.valueAccessor.writeValue(r),n&&t.viewToModelUpdate(r)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}function Sx(i,t){i==null,U1(i,t)}function U4(i,t){return qp(i,t)}function Ex(i,t){if(!i.hasOwnProperty("model"))return!1;let e=i.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function V4(i){return Object.getPrototypeOf(i.constructor)===Y0}function Px(i,t){i._syncPendingControls(),t.forEach(e=>{let r=e.control;r.updateOn==="submit"&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Mx(i,t){if(!t)return null;Array.isArray(t);let e,r,n;return t.forEach(a=>{a.constructor===Mt?e=a:V4(a)?r=a:n=a}),n||r||e||null}function j4(i,t){let e=i.indexOf(t);e>-1&&i.splice(e,1)}var q4={provide:_l,useExisting:Za(()=>oi)},G0=Promise.resolve(),oi=(()=>{class i extends _l{get submitted(){return pl(this.submittedReactive)}constructor(e,r,n){super(),this.callSetDisabledState=n,this._submitted=iu(()=>this.submittedReactive()),this.submittedReactive=Qd(!1),this._directives=new Set,this.ngSubmit=new tn,this.form=new xu({},L1(e),D1(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){G0.then(()=>{let r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),Vp(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){G0.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){G0.then(()=>{let r=this._findContainer(e.path),n=new xu({});Sx(n,e),r.registerControl(e.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){G0.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){G0.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),Px(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static{this.\u0275fac=function(r){return new(r||i)(ae(cc,10),ae(zp,10),ae(J0,8))}}static{this.\u0275dir=zr({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,n){r&1&&J("submit",function(o){return n.onSubmit(o)})("reset",function(){return n.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[na([q4]),Gn]})}}return i})();function ex(i,t){let e=i.indexOf(t);e>-1&&i.splice(e,1)}function tx(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var X0=class extends bu{constructor(t=null,e,r){super(R1(e),B1(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Wp(e)&&(e.nonNullable||e.initialValueIsDefault)&&(tx(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){ex(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){ex(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){tx(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var z4=i=>i instanceof X0;var W4={provide:pd,useExisting:Za(()=>Ot)},ix=Promise.resolve(),Ot=(()=>{class i extends pd{constructor(e,r,n,a,o,d){super(),this._changeDetectorRef=o,this.callSetDisabledState=d,this.control=new X0,this._registered=!1,this.name="",this.update=new tn,this._parent=e,this._setValidators(r),this._setAsyncValidators(n),this.valueAccessor=Mx(this,a)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Ex(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Vp(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){ix.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let r=e.isDisabled.currentValue,n=r!==0&&cd(r);ix.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Cx(e,this._parent):[e]}static{this.\u0275fac=function(r){return new(r||i)(ae(_l,9),ae(cc,10),ae(zp,10),ae(hd,10),ae(fs,8),ae(J0,8))}}static{this.\u0275dir=zr({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[na([W4]),Gn,Uo]})}}return i})(),ni=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275dir=zr({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return i})(),H4={provide:hd,useExisting:Za(()=>Qi),multi:!0},Qi=(()=>{class i extends Y0{writeValue(e){let r=e??"";this.setProperty("value",r)}registerOnChange(e){this.onChange=r=>{e(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=go(i)))(n||i)}})()}static{this.\u0275dir=zr({type:i,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,n){r&1&&J("input",function(o){return n.onChange(o.target.value)})("blur",function(){return n.onTouched()})},features:[na([H4]),Gn]})}}return i})();var Tx=new Ji("");var G4={provide:_l,useExisting:Za(()=>V1)},V1=(()=>{class i extends _l{get submitted(){return pl(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}constructor(e,r,n){super(),this.callSetDisabledState=n,this._submitted=iu(()=>this._submittedReactive()),this._submittedReactive=Qd(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new tn,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(qp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let r=this.form.get(e.path);return Vp(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){Qb(e.control||null,e,!1),j4(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this._submittedReactive.set(!0),Px(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new O1(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new I1(this.form))}_updateDomValue(){this.directives.forEach(e=>{let r=e.control,n=this.form.get(e.path);r!==n&&(Qb(r||null,e),z4(n)&&(Vp(n,e,this.callSetDisabledState),e.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let r=this.form.get(e.path);Sx(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let r=this.form.get(e.path);r&&U4(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){U1(this.form,this),this._oldForm&&qp(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||i)(ae(cc,10),ae(zp,10),ae(J0,8))}}static{this.\u0275dir=zr({type:i,selectors:[["","formGroup",""]],hostBindings:function(r,n){r&1&&J("submit",function(o){return n.onSubmit(o)})("reset",function(){return n.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[na([G4]),Gn,Uo]})}}return i})();var $4={provide:pd,useExisting:Za(()=>j1)},j1=(()=>{class i extends pd{set isDisabled(e){}static{this._ngModelWarningSentOnce=!1}constructor(e,r,n,a,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new tn,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(n),this.valueAccessor=Mx(this,a)}ngOnChanges(e){this._added||this._setUpControl(),Ex(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Cx(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||i)(ae(_l,13),ae(cc,10),ae(zp,10),ae(hd,10),ae(Tx,8))}}static{this.\u0275dir=zr({type:i,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[na([$4]),Gn,Uo]})}}return i})(),Z4={provide:hd,useExisting:Za(()=>Ri),multi:!0};function kx(i,t){return i==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${i}: ${t}`.slice(0,50))}function X4(i){return i.split(":")[0]}var Ri=(()=>{class i extends Y0{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let r=this._getOptionId(e),n=kx(r,e);this.setProperty("value",n)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){let r=X4(e);return this._optionMap.has(r)?this._optionMap.get(r):e}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=go(i)))(n||i)}})()}static{this.\u0275dir=zr({type:i,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,n){r&1&&J("change",function(o){return n.onChange(o.target.value)})("blur",function(){return n.onTouched()})},inputs:{compareWith:"compareWith"},features:[na([Z4]),Gn]})}}return i})(),ji=(()=>{class i{constructor(e,r,n){this._element=e,this._renderer=r,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(kx(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||i)(ae(Vs),ae(ld),ae(Ri,9))}}static{this.\u0275dir=zr({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return i})(),Y4={provide:hd,useExisting:Za(()=>Ax),multi:!0};function rx(i,t){return i==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${i}: ${t}`.slice(0,50))}function K4(i){return i.split(":")[0]}var Ax=(()=>{class i extends Y0{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let r;if(Array.isArray(e)){let n=e.map(a=>this._getOptionId(a));r=(a,o)=>{a._setSelected(n.indexOf(o.toString())>-1)}}else r=(n,a)=>{n._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{let n=[],a=r.selectedOptions;if(a!==void 0){let o=a;for(let d=0;d<o.length;d++){let u=o[d],p=this._getOptionValue(u.value);n.push(p)}}else{let o=r.options;for(let d=0;d<o.length;d++){let u=o[d];if(u.selected){let p=this._getOptionValue(u.value);n.push(p)}}}this.value=n,e(n)}}_registerOption(e){let r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){let r=K4(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=go(i)))(n||i)}})()}static{this.\u0275dir=zr({type:i,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,n){r&1&&J("change",function(o){return n.onChange(o.target)})("blur",function(){return n.onTouched()})},inputs:{compareWith:"compareWith"},features:[na([Y4]),Gn]})}}return i})(),qi=(()=>{class i{constructor(e,r,n){this._element=e,this._renderer=r,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(rx(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(rx(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||i)(ae(Vs),ae(ld),ae(Ax,9))}}static{this.\u0275dir=zr({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return i})();function Ox(i){return typeof i=="number"?i:parseInt(i,10)}function J4(i){return typeof i=="number"?i:parseFloat(i)}var Gp=(()=>{class i{constructor(){this._validator=Lp}ngOnChanges(e){if(this.inputName in e){let r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Lp,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275dir=zr({type:i,features:[Uo]})}}return i})();var Q4={provide:cc,useExisting:Za(()=>xr),multi:!0},xr=(()=>{class i extends Gp{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>J4(e),this.createValidator=e=>sx(e)}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=go(i)))(n||i)}})()}static{this.\u0275dir=zr({type:i,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,n){r&2&&us("min",n._enabled?n.min:null)},inputs:{min:"min"},features:[na([Q4]),Gn]})}}return i})(),eE={provide:cc,useExisting:Za(()=>si),multi:!0};var si=(()=>{class i extends Gp{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=cd,this.createValidator=e=>lx}enabled(e){return e}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=go(i)))(n||i)}})()}static{this.\u0275dir=zr({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,n){r&2&&us("required",n._enabled?"":null)},inputs:{required:"required"},features:[na([eE]),Gn]})}}return i})();var tE={provide:cc,useExisting:Za(()=>bi),multi:!0},bi=(()=>{class i extends Gp{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=e=>Ox(e),this.createValidator=e=>cx(e)}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=go(i)))(n||i)}})()}static{this.\u0275dir=zr({type:i,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,n){r&2&&us("minlength",n._enabled?n.minlength:null)},inputs:{minlength:"minlength"},features:[na([tE]),Gn]})}}return i})(),iE={provide:cc,useExisting:Za(()=>q1),multi:!0},q1=(()=>{class i extends Gp{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>Ox(e),this.createValidator=e=>dx(e)}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=go(i)))(n||i)}})()}static{this.\u0275dir=zr({type:i,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,n){r&2&&us("maxlength",n._enabled?n.maxlength:null)},inputs:{maxlength:"maxlength"},features:[na([iE]),Gn]})}}return i})();var Ix=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275mod=ds({type:i})}static{this.\u0275inj=cs({})}}return i})(),N1=class extends bu{constructor(t,e,r){super(R1(e),B1(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){let n=this._adjustIndex(t);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),e&&(this.controls.splice(n,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){yx(this,!1,t),t.forEach((r,n)=>{xx(this,!1,n),this.at(n).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((r,n)=>{this.at(n)&&this.at(n).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,n)=>{r.reset(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,r)=>r._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function nx(i){return!!i&&(i.asyncValidators!==void 0||i.validators!==void 0||i.updateOn!==void 0)}var Fx=(()=>{class i{constructor(){this.useNonNullable=!1}get nonNullable(){let e=new i;return e.useNonNullable=!0,e}group(e,r=null){let n=this._reduceControls(e),a={};return nx(r)?a=r:r!==null&&(a.validators=r.validator,a.asyncValidators=r.asyncValidator),new xu(n,a)}record(e,r=null){let n=this._reduceControls(e);return new F1(n,r)}control(e,r,n){let a={};return this.useNonNullable?(nx(r)?a=r:(a.validators=r,a.asyncValidators=n),new X0(e,Ki(st({},a),{nonNullable:!0}))):new X0(e,r,n)}array(e,r,n){let a=e.map(o=>this._createControl(o));return new N1(a,r,n)}_reduceControls(e){let r={};return Object.keys(e).forEach(n=>{r[n]=this._createControl(e[n])}),r}_createControl(e){if(e instanceof X0)return e;if(e instanceof bu)return e;if(Array.isArray(e)){let r=e[0],n=e.length>1?e[1]:null,a=e.length>2?e[2]:null;return this.control(r,n,a)}else return this.control(e)}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var kt=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:J0,useValue:e.callSetDisabledState??Hp}]}}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275mod=ds({type:i})}static{this.\u0275inj=cs({imports:[Ix]})}}return i})(),Nx=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:Tx,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:J0,useValue:e.callSetDisabledState??Hp}]}}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275mod=ds({type:i})}static{this.\u0275inj=cs({imports:[Ix]})}}return i})();var li={production:!0,apiUrl:"https://proyectosi2.duckdns.org:8443"};var sa=class i{constructor(t){this.http=t}apiUrl=li.apiUrl;obtenerPersonas(){return this.http.get(`${this.apiUrl}/personas`)}obtenerPersonaPorId(t){return this.http.get(`${this.apiUrl}/personas/${t}`)}crearPersona(t){let e=st({},t);return delete e.id,this.http.post(`${this.apiUrl}/personas`,e)}actualizarPersona(t,e){return this.http.put(`${this.apiUrl}/personas/${t}`,e)}eliminarPersona(t){return this.http.delete(`${this.apiUrl}/personas/${t}`)}static \u0275fac=function(e){return new(e||i)(St(ai))};static \u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"})};var zi=class i{filtrar(t,e){return!t||!e?t:t.filter(r=>Object.values(r).some(n=>String(n).toLowerCase().includes(e.toLowerCase())))}static \u0275fac=function(e){return new(e||i)};static \u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"})};var Yi=class i{constructor(){}paginate(t,e,r){let n=t.length,a=Math.ceil(n/r),o=(e-1)*r,d=o+r;return{totalPages:a,paginatedData:t.slice(o,d)}}changePage(t,e,r){return e==="previous"&&t>1?t--:e==="next"&&t<r&&t++,t}static \u0275fac=function(e){return new(e||i)};static \u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"})};function rE(i,t){if(i&1){let e=Je();c(0,"div",7)(1,"div",8)(2,"h3"),h(3,"\xBFEst\xE1s seguro de que deseas eliminar esta persona?"),l(),c(4,"button",9),J("click",function(){z(e);let n=ee();return W(n.eliminarPersonaConfirmada())}),h(5,"Confirmar"),l(),c(6,"button",9),J("click",function(){z(e);let n=ee();return W(n.cerrarModal())}),h(7,"Cancelar"),l()()()}}function nE(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),h(2),l(),c(3,"td"),h(4),l(),c(5,"td")(6,"button",9),J("click",function(){let n,a=z(e).$implicit,o=ee();return W(o.irAEditarPersona((n=a.id)!==null&&n!==void 0?n:0))}),h(7,"Editar"),l(),c(8,"button",9),J("click",function(){let n,a=z(e).$implicit,o=ee();return W(o.confirmarEliminarPersona((n=a.id)!==null&&n!==void 0?n:0))}),h(9,"Eliminar"),l()()()}if(i&2){let e=t.$implicit;v(2),Ve(e.nombre),v(2),Ve(e.edad)}}var $p=class i{constructor(t,e,r,n){this.personaService=t;this.router=e;this.filterService=r;this.paginationService=n}personas=[];personasFiltradas=[];personasPaginadas=[];textoBusqueda="";paginaActual=1;elementosPorPagina=10;totalPaginas=0;mostrarModal=!1;personaAEliminarId=null;ngOnInit(){this.obtenerPersonas()}obtenerPersonas(){this.personaService.obtenerPersonas().subscribe(t=>{this.personas=t,this.personasFiltradas=t,this.calcularPaginacion()})}eliminarPersona(t){this.personaService.eliminarPersona(t).subscribe(()=>{this.obtenerPersonas()})}irACrearPersona(){this.router.navigate(["/persona-create"])}irAEditarPersona(t){this.router.navigate([`/persona-update/${t}`])}confirmarEliminarPersona(t){this.personaAEliminarId=t,this.mostrarModal=!0}eliminarPersonaConfirmada(){this.personaAEliminarId!==null&&(this.eliminarPersona(this.personaAEliminarId),this.cerrarModal())}cerrarModal(){this.mostrarModal=!1,this.personaAEliminarId=null}filtrarPersonas(){this.personasFiltradas=this.filterService.filtrar(this.personas,this.textoBusqueda),this.paginaActual=1,this.calcularPaginacion()}calcularPaginacion(){let t=this.paginationService.paginate(this.personasFiltradas,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.personasPaginadas=t.paginatedData}cambiarPagina(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarPersonasPaginadas()}actualizarPersonasPaginadas(){let t=this.paginationService.paginate(this.personasFiltradas,this.paginaActual,this.elementosPorPagina);this.personasPaginadas=t.paginatedData}static \u0275fac=function(e){return new(e||i)(ae(sa),ae(vt),ae(zi),ae(Yi))};static \u0275cmp=ot({type:i,selectors:[["app-persona"]],standalone:!0,features:[ut],decls:25,vars:6,consts:[["class","modal",4,"ngIf"],["type","text","placeholder","Buscar...",3,"ngModelChange","input","ngModel"],[2,"float","right","margin-bottom","10px",3,"click"],["border","1","cellspacing","0","cellpadding","5",2,"width","100%","margin-top","20px"],[4,"ngFor","ngForOf"],[2,"margin-top","20px"],[3,"click","disabled"],[1,"modal"],[1,"modal-content"],[3,"click"]],template:function(e,r){e&1&&(U(0,rE,8,0,"div",0),c(1,"div")(2,"h2"),h(3,"Personas"),l(),c(4,"input",1),ye("ngModelChange",function(a){return xe(r.textoBusqueda,a)||(r.textoBusqueda=a),a}),J("input",function(){return r.filtrarPersonas()}),l(),c(5,"button",2),J("click",function(){return r.irACrearPersona()}),h(6,"Registrar"),l(),c(7,"table",3)(8,"thead")(9,"tr")(10,"th"),h(11,"Nombre"),l(),c(12,"th"),h(13,"Edad"),l(),c(14,"th"),h(15,"Acciones"),l()()(),c(16,"tbody"),U(17,nE,10,2,"tr",4),l()(),c(18,"div",5)(19,"button",6),J("click",function(){return r.cambiarPagina("previous")}),h(20,"Anterior"),l(),c(21,"span"),h(22),l(),c(23,"button",6),J("click",function(){return r.cambiarPagina("next")}),h(24,"Siguiente"),l()()()),e&2&&(M("ngIf",r.mostrarModal),v(4),be("ngModel",r.textoBusqueda),v(13),M("ngForOf",r.personasPaginadas),v(2),M("disabled",r.paginaActual===1),v(3),tt(" P\xE1gina ",r.paginaActual," "),v(),M("disabled",r.paginaActual===r.totalPaginas))},dependencies:[ht,zt,Et,Ui,kt,Mt,Tt,Ot],styles:["table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:10px;text-align:left;border:1px solid #ddd}button[_ngcontent-%COMP%]{margin-right:5px;padding:5px 10px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}button[_ngcontent-%COMP%]:focus{outline:none}button[style][_ngcontent-%COMP%]{margin-top:20px}.modal[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:25px;border-radius:8px;width:400px;text-align:center;box-shadow:0 4px 10px #0003}"]})};function aE(i,t){i&1&&(c(0,"small"),h(1,"El nombre es obligatorio."),l())}function oE(i,t){i&1&&(c(0,"small"),h(1,"El nombre debe tener al menos 3 caracteres."),l())}function sE(i,t){if(i&1&&(c(0,"div",14),U(1,aE,2,0,"small",15)(2,oE,2,0,"small",15),l()),i&2){ee();let e=ue(9);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function lE(i,t){i&1&&(c(0,"small"),h(1,"La edad es obligatoria."),l())}function cE(i,t){i&1&&(c(0,"small"),h(1,"La edad debe ser mayor que 0."),l())}function dE(i,t){if(i&1&&(c(0,"div",14),U(1,lE,2,0,"small",15)(2,cE,2,0,"small",15),l()),i&2){ee();let e=ue(15);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.min)}}var Zp=class i{constructor(t,e){this.personaService=t;this.router=e}persona={id:0,nombre:"",edad:0};crearPersona(){this.personaService.crearPersona(this.persona).subscribe(()=>{this.router.navigate(["/persona"])})}cancelar(){this.router.navigate(["/persona"])}static \u0275fac=function(e){return new(e||i)(ae(sa),ae(vt))};static \u0275cmp=ot({type:i,selectors:[["app-persona-create"]],standalone:!0,features:[ut],decls:22,vars:5,consts:[["personaForm","ngForm"],["nombre","ngModel"],["edad","ngModel"],[1,"form-container"],[3,"ngSubmit"],[1,"form-group"],["for","nombre"],["id","nombre","name","nombre","placeholder","Nombre","required","","minlength","3",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","edad"],["id","edad","name","edad","placeholder","Edad","type","number","required","","min","1",1,"form-control",3,"ngModelChange","ngModel"],[1,"button-container"],["type","submit",1,"submit-btn",3,"disabled"],["type","button",1,"cancel-btn",3,"click"],[1,"error-message"],[4,"ngIf"]],template:function(e,r){if(e&1){let n=Je();c(0,"div",3)(1,"h2"),h(2,"Crear Persona"),l(),c(3,"form",4,0),J("ngSubmit",function(){return z(n),W(r.crearPersona())}),c(5,"div",5)(6,"label",6),h(7,"Nombre:"),l(),c(8,"input",7,1),ye("ngModelChange",function(o){return z(n),xe(r.persona.nombre,o)||(r.persona.nombre=o),W(o)}),l(),U(10,sE,3,2,"div",8),l(),c(11,"div",5)(12,"label",9),h(13,"Edad:"),l(),c(14,"input",10,2),ye("ngModelChange",function(o){return z(n),xe(r.persona.edad,o)||(r.persona.edad=o),W(o)}),l(),U(16,dE,3,2,"div",8),l(),c(17,"div",11)(18,"button",12),h(19,"Crear"),l(),c(20,"button",13),J("click",function(){return z(n),W(r.cancelar())}),h(21,"Cancelar"),l()()()()}if(e&2){let n=ue(4),a=ue(9),o=ue(15);v(8),be("ngModel",r.persona.nombre),v(2),M("ngIf",a.invalid&&(a.dirty||a.touched)),v(4),be("ngModel",r.persona.edad),v(2),M("ngIf",o.invalid&&(o.dirty||o.touched)),v(2),M("disabled",n.invalid)}},dependencies:[kt,ni,Mt,Qi,Tt,ri,si,bi,xr,Ot,oi,ht,Et],styles:[".form-container[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:14px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.error-message[_ngcontent-%COMP%]{color:red;font-size:16px;margin-top:5px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{width:48%;padding:10px;font-size:16px;border-radius:4px;cursor:pointer}.submit-btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;border:none}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6;cursor:not-allowed}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#218838}.cancel-btn[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})};function uE(i,t){i&1&&(c(0,"small"),h(1,"El nombre es obligatorio."),l())}function fE(i,t){i&1&&(c(0,"small"),h(1,"El nombre debe tener al menos 3 caracteres."),l())}function pE(i,t){if(i&1&&(c(0,"div",14),U(1,uE,2,0,"small",15)(2,fE,2,0,"small",15),l()),i&2){ee();let e=ue(9);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function hE(i,t){i&1&&(c(0,"small"),h(1,"La edad es obligatoria."),l())}function mE(i,t){i&1&&(c(0,"small"),h(1,"La edad debe ser mayor que 0."),l())}function gE(i,t){if(i&1&&(c(0,"div",14),U(1,hE,2,0,"small",15)(2,mE,2,0,"small",15),l()),i&2){ee();let e=ue(15);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.min)}}var Xp=class i{constructor(t,e,r){this.personaService=t;this.route=e;this.router=r}persona={id:0,nombre:"",edad:0};ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("id"));t&&this.personaService.obtenerPersonaPorId(t).subscribe(e=>{this.persona=e})}actualizarPersona(){this.persona.id&&this.personaService.actualizarPersona(this.persona.id,this.persona).subscribe(()=>{this.router.navigate(["/persona"])})}cancelar(){this.router.navigate(["/persona"])}static \u0275fac=function(e){return new(e||i)(ae(sa),ae(Vi),ae(vt))};static \u0275cmp=ot({type:i,selectors:[["app-persona-update"]],standalone:!0,features:[ut],decls:22,vars:5,consts:[["personaForm","ngForm"],["nombre","ngModel"],["edad","ngModel"],[1,"form-container"],[3,"ngSubmit"],[1,"form-group"],["for","nombre"],["id","nombre","name","nombre","placeholder","Nombre","required","","minlength","3",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","edad"],["id","edad","name","edad","placeholder","Edad","type","number","required","","min","1",1,"form-control",3,"ngModelChange","ngModel"],[1,"button-container"],["type","submit",1,"submit-btn",3,"disabled"],["type","button",1,"cancel-btn",3,"click"],[1,"error-message"],[4,"ngIf"]],template:function(e,r){if(e&1){let n=Je();c(0,"div",3)(1,"h2"),h(2,"Actualizar Persona"),l(),c(3,"form",4,0),J("ngSubmit",function(){return z(n),W(r.actualizarPersona())}),c(5,"div",5)(6,"label",6),h(7,"Nombre:"),l(),c(8,"input",7,1),ye("ngModelChange",function(o){return z(n),xe(r.persona.nombre,o)||(r.persona.nombre=o),W(o)}),l(),U(10,pE,3,2,"div",8),l(),c(11,"div",5)(12,"label",9),h(13,"Edad:"),l(),c(14,"input",10,2),ye("ngModelChange",function(o){return z(n),xe(r.persona.edad,o)||(r.persona.edad=o),W(o)}),l(),U(16,gE,3,2,"div",8),l(),c(17,"div",11)(18,"button",12),h(19,"Actualizar"),l(),c(20,"button",13),J("click",function(){return z(n),W(r.cancelar())}),h(21,"Cancelar"),l()()()()}if(e&2){let n=ue(4),a=ue(9),o=ue(15);v(8),be("ngModel",r.persona.nombre),v(2),M("ngIf",a.invalid&&(a.dirty||a.touched)),v(4),be("ngModel",r.persona.edad),v(2),M("ngIf",o.invalid&&(o.dirty||o.touched)),v(2),M("disabled",n.invalid)}},dependencies:[kt,ni,Mt,Qi,Tt,ri,si,bi,xr,Ot,oi,ht,Et],styles:[".form-container[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:14px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.error-message[_ngcontent-%COMP%]{color:red;font-size:16px;margin-top:5px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{width:48%;padding:10px;font-size:16px;border-radius:4px;cursor:pointer}.submit-btn[_ngcontent-%COMP%]{background-color:#ffc107;color:#fff;border:none}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6;cursor:not-allowed}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#e0a800}.cancel-btn[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})};var dc=class i{constructor(t){this.http=t}apiUrl=li.apiUrl;obtenerAutos(){return this.http.get(`${this.apiUrl}/autos`)}obtenerAutoPorId(t){return this.http.get(`${this.apiUrl}/autos/${t}`)}crearAuto(t){let e=st({},t);return delete e.id,this.http.post(`${this.apiUrl}/autos`,e)}actualizarAuto(t,e){return this.http.put(`${this.apiUrl}/autos/${t}`,e)}eliminarAuto(t){return this.http.delete(`${this.apiUrl}/autos/${t}`)}static \u0275fac=function(e){return new(e||i)(St(ai))};static \u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"})};function vE(i,t){if(i&1){let e=Je();c(0,"div",7)(1,"div",8)(2,"h3"),h(3,"\xBFEst\xE1s seguro de que deseas eliminar este auto?"),l(),c(4,"button",9),J("click",function(){z(e);let n=ee();return W(n.eliminarAutoConfirmado())}),h(5,"Confirmar"),l(),c(6,"button",9),J("click",function(){z(e);let n=ee();return W(n.cerrarModal())}),h(7,"Cancelar"),l()()()}}function _E(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),h(2),l(),c(3,"td"),h(4),l(),c(5,"td"),h(6),l(),c(7,"td")(8,"button",9),J("click",function(){let n,a=z(e).$implicit,o=ee();return W(o.irAEditarAuto((n=a.id)!==null&&n!==void 0?n:0))}),h(9,"Editar"),l(),c(10,"button",9),J("click",function(){let n,a=z(e).$implicit,o=ee();return W(o.confirmarEliminarAuto((n=a.id)!==null&&n!==void 0?n:0))}),h(11,"Eliminar"),l()()()}if(i&2){let e=t.$implicit;v(2),Ve(e.marca),v(2),Ve(e.modelo),v(2),Ve(e.persona.nombre)}}var Yp=class i{constructor(t,e,r,n){this.autoService=t;this.router=e;this.filterService=r;this.paginationService=n}autos=[];autosFiltrados=[];autosPaginados=[];textoBusqueda="";paginaActual=1;elementosPorPagina=5;totalPaginas=0;mostrarModal=!1;autoAEliminarId=null;ngOnInit(){this.obtenerAutos()}obtenerAutos(){this.autoService.obtenerAutos().subscribe(t=>{this.autos=t,this.autosFiltrados=t,this.calcularPaginacion()})}eliminarAuto(t){this.autoService.eliminarAuto(t).subscribe(()=>{this.obtenerAutos()})}irACrearAuto(){this.router.navigate(["/auto-create"])}irAEditarAuto(t){this.router.navigate([`/auto-update/${t}`])}confirmarEliminarAuto(t){this.autoAEliminarId=t,this.mostrarModal=!0}eliminarAutoConfirmado(){this.autoAEliminarId!==null&&(this.eliminarAuto(this.autoAEliminarId),this.cerrarModal())}cerrarModal(){this.mostrarModal=!1,this.autoAEliminarId=null}filtrarAutos(){this.autosFiltrados=this.filterService.filtrar(this.autos,this.textoBusqueda),this.paginaActual=1,this.calcularPaginacion()}calcularPaginacion(){let t=this.paginationService.paginate(this.autosFiltrados,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.autosPaginados=t.paginatedData}cambiarPagina(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarAutosPaginados()}actualizarAutosPaginados(){let t=this.paginationService.paginate(this.autosFiltrados,this.paginaActual,this.elementosPorPagina);this.autosPaginados=t.paginatedData}static \u0275fac=function(e){return new(e||i)(ae(dc),ae(vt),ae(zi),ae(Yi))};static \u0275cmp=ot({type:i,selectors:[["app-auto"]],standalone:!0,features:[ut],decls:27,vars:6,consts:[["class","modal",4,"ngIf"],["type","text","placeholder","Buscar...",3,"ngModelChange","input","ngModel"],[2,"float","right","margin-bottom","10px",3,"click"],["border","1","cellspacing","0","cellpadding","5",2,"width","100%","margin-top","20px"],[4,"ngFor","ngForOf"],[2,"margin-top","20px"],[3,"click","disabled"],[1,"modal"],[1,"modal-content"],[3,"click"]],template:function(e,r){e&1&&(U(0,vE,8,0,"div",0),c(1,"div")(2,"h2"),h(3,"Autos"),l(),c(4,"input",1),ye("ngModelChange",function(a){return xe(r.textoBusqueda,a)||(r.textoBusqueda=a),a}),J("input",function(){return r.filtrarAutos()}),l(),c(5,"button",2),J("click",function(){return r.irACrearAuto()}),h(6,"Registrar"),l(),c(7,"table",3)(8,"thead")(9,"tr")(10,"th"),h(11,"Marca"),l(),c(12,"th"),h(13,"Modelo"),l(),c(14,"th"),h(15,"Persona"),l(),c(16,"th"),h(17,"Acciones"),l()()(),c(18,"tbody"),U(19,_E,12,3,"tr",4),l()(),c(20,"div",5)(21,"button",6),J("click",function(){return r.cambiarPagina("previous")}),h(22,"Anterior"),l(),c(23,"span"),h(24),l(),c(25,"button",6),J("click",function(){return r.cambiarPagina("next")}),h(26,"Siguiente"),l()()()),e&2&&(M("ngIf",r.mostrarModal),v(4),be("ngModel",r.textoBusqueda),v(15),M("ngForOf",r.autosPaginados),v(2),M("disabled",r.paginaActual===1),v(3),tt(" P\xE1gina ",r.paginaActual," "),v(),M("disabled",r.paginaActual===r.totalPaginas))},dependencies:[ht,zt,Et,Ui,kt,Mt,Tt,Ot],styles:["table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:10px;text-align:left;border:1px solid #ddd}button[_ngcontent-%COMP%]{margin-right:5px;padding:5px 10px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}button[_ngcontent-%COMP%]:focus{outline:none}button[style][_ngcontent-%COMP%]{margin-top:20px}.modal[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:25px;border-radius:8px;width:400px;text-align:center;box-shadow:0 4px 10px #0003}"]})};function bE(i,t){i&1&&(c(0,"small"),h(1,"La marca es obligatoria."),l())}function xE(i,t){i&1&&(c(0,"small"),h(1,"Debe tener al menos 2 caracteres."),l())}function yE(i,t){if(i&1&&(c(0,"div",17),U(1,bE,2,0,"small",18)(2,xE,2,0,"small",18),l()),i&2){ee();let e=ue(9);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function CE(i,t){i&1&&(c(0,"small"),h(1,"El modelo es obligatorio."),l())}function wE(i,t){i&1&&(c(0,"small"),h(1,"Debe tener al menos 2 caracteres."),l())}function SE(i,t){if(i&1&&(c(0,"div",17),U(1,CE,2,0,"small",18)(2,wE,2,0,"small",18),l()),i&2){ee();let e=ue(15);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function EE(i,t){if(i&1&&(c(0,"option",19),h(1),l()),i&2){let e=t.$implicit;M("value",e.id),v(),tt(" ",e.nombre," ")}}function PE(i,t){i&1&&(c(0,"div",17)(1,"small"),h(2,"Debe seleccionar un propietario."),l()())}var Kp=class i{constructor(t,e,r){this.autoService=t;this.personaService=e;this.router=r}auto={marca:"",modelo:"",persona:{id:0,nombre:""}};personas=[];ngOnInit(){this.cargarPersonas()}cargarPersonas(){this.personaService.obtenerPersonas().subscribe(t=>{this.personas=t})}crearAuto(){this.autoService.crearAuto(this.auto).subscribe(()=>{this.router.navigate(["/auto"])})}cancelar(){this.router.navigate(["/auto"])}static \u0275fac=function(e){return new(e||i)(ae(dc),ae(sa),ae(vt))};static \u0275cmp=ot({type:i,selectors:[["app-auto-create"]],standalone:!0,features:[ut],decls:28,vars:8,consts:[["autoForm","ngForm"],["marca","ngModel"],["modelo","ngModel"],[1,"form-container"],[3,"ngSubmit"],[1,"form-group"],["for","marca"],["id","marca","name","marca","placeholder","Marca","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","modelo"],["id","modelo","name","modelo","placeholder","Modelo","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["for","persona"],["id","persona","name","persona","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"button-container"],["type","submit",1,"submit-btn",3,"disabled"],["type","button",1,"cancel-btn",3,"click"],[1,"error-message"],[4,"ngIf"],[3,"value"]],template:function(e,r){if(e&1){let n=Je();c(0,"div",3)(1,"h2"),h(2,"Crear Auto"),l(),c(3,"form",4,0),J("ngSubmit",function(){return z(n),W(r.crearAuto())}),c(5,"div",5)(6,"label",6),h(7,"Marca:"),l(),c(8,"input",7,1),ye("ngModelChange",function(o){return z(n),xe(r.auto.marca,o)||(r.auto.marca=o),W(o)}),l(),U(10,yE,3,2,"div",8),l(),c(11,"div",5)(12,"label",9),h(13,"Modelo:"),l(),c(14,"input",10,2),ye("ngModelChange",function(o){return z(n),xe(r.auto.modelo,o)||(r.auto.modelo=o),W(o)}),l(),U(16,SE,3,2,"div",8),l(),c(17,"div",5)(18,"label",11),h(19,"Propietario:"),l(),c(20,"select",12),ye("ngModelChange",function(o){return z(n),xe(r.auto.persona.id,o)||(r.auto.persona.id=o),W(o)}),U(21,EE,2,2,"option",13),l(),U(22,PE,3,0,"div",8),l(),c(23,"div",14)(24,"button",15),h(25,"Crear"),l(),c(26,"button",16),J("click",function(){return z(n),W(r.cancelar())}),h(27,"Cancelar"),l()()()()}if(e&2){let n=ue(4),a=ue(9),o=ue(15);v(8),be("ngModel",r.auto.marca),v(2),M("ngIf",a.invalid&&(a.dirty||a.touched)),v(4),be("ngModel",r.auto.modelo),v(2),M("ngIf",o.invalid&&(o.dirty||o.touched)),v(4),be("ngModel",r.auto.persona.id),v(),M("ngForOf",r.personas),v(),M("ngIf",r.auto.persona.id===0&&n.submitted),v(2),M("disabled",n.invalid)}},dependencies:[kt,ni,ji,qi,Mt,Ri,Tt,ri,si,bi,Ot,oi,ht,zt,Et],styles:[".form-container[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:14px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.error-message[_ngcontent-%COMP%]{color:red;font-size:14px;margin-top:5px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{width:48%;padding:10px;font-size:16px;border-radius:4px;cursor:pointer}.submit-btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;border:none}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6;cursor:not-allowed}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#218838}.cancel-btn[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})};function ME(i,t){i&1&&(c(0,"small"),h(1,"La marca es obligatoria."),l())}function TE(i,t){i&1&&(c(0,"small"),h(1,"Debe tener al menos 2 caracteres."),l())}function kE(i,t){if(i&1&&(c(0,"div",17),U(1,ME,2,0,"small",18)(2,TE,2,0,"small",18),l()),i&2){ee();let e=ue(9);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function AE(i,t){i&1&&(c(0,"small"),h(1,"El modelo es obligatorio."),l())}function OE(i,t){i&1&&(c(0,"small"),h(1,"Debe tener al menos 2 caracteres."),l())}function IE(i,t){if(i&1&&(c(0,"div",17),U(1,AE,2,0,"small",18)(2,OE,2,0,"small",18),l()),i&2){ee();let e=ue(15);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function FE(i,t){if(i&1&&(c(0,"option",19),h(1),l()),i&2){let e=t.$implicit;M("value",e.id),v(),tt(" ",e.nombre," ")}}var Jp=class i{constructor(t,e,r,n){this.autoService=t;this.personaService=e;this.route=r;this.router=n}auto={marca:"",modelo:"",persona:{id:0,nombre:""}};personas=[];ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("id"));t&&this.autoService.obtenerAutoPorId(t).subscribe(e=>{this.auto=e}),this.personaService.obtenerPersonas().subscribe(e=>{this.personas=e})}actualizarAuto(){this.auto.id&&this.autoService.actualizarAuto(this.auto.id,this.auto).subscribe(()=>{this.router.navigate(["/auto"])})}cancelar(){this.router.navigate(["/auto"])}static \u0275fac=function(e){return new(e||i)(ae(dc),ae(sa),ae(Vi),ae(vt))};static \u0275cmp=ot({type:i,selectors:[["app-auto-update"]],standalone:!0,features:[ut],decls:27,vars:7,consts:[["autoForm","ngForm"],["marca","ngModel"],["modelo","ngModel"],[1,"form-container"],[3,"ngSubmit"],[1,"form-group"],["for","marca"],["id","marca","name","marca","placeholder","Marca","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","modelo"],["id","modelo","name","modelo","placeholder","Modelo","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["for","persona"],["id","persona","name","persona","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"button-container"],["type","submit",1,"submit-btn",3,"disabled"],["type","button",1,"cancel-btn",3,"click"],[1,"error-message"],[4,"ngIf"],[3,"value"]],template:function(e,r){if(e&1){let n=Je();c(0,"div",3)(1,"h2"),h(2,"Actualizar Auto"),l(),c(3,"form",4,0),J("ngSubmit",function(){return z(n),W(r.actualizarAuto())}),c(5,"div",5)(6,"label",6),h(7,"Marca:"),l(),c(8,"input",7,1),ye("ngModelChange",function(o){return z(n),xe(r.auto.marca,o)||(r.auto.marca=o),W(o)}),l(),U(10,kE,3,2,"div",8),l(),c(11,"div",5)(12,"label",9),h(13,"Modelo:"),l(),c(14,"input",10,2),ye("ngModelChange",function(o){return z(n),xe(r.auto.modelo,o)||(r.auto.modelo=o),W(o)}),l(),U(16,IE,3,2,"div",8),l(),c(17,"div",5)(18,"label",11),h(19,"Persona:"),l(),c(20,"select",12),ye("ngModelChange",function(o){return z(n),xe(r.auto.persona.id,o)||(r.auto.persona.id=o),W(o)}),U(21,FE,2,2,"option",13),l()(),c(22,"div",14)(23,"button",15),h(24,"Actualizar"),l(),c(25,"button",16),J("click",function(){return z(n),W(r.cancelar())}),h(26,"Cancelar"),l()()()()}if(e&2){let n=ue(4),a=ue(9),o=ue(15);v(8),be("ngModel",r.auto.marca),v(2),M("ngIf",a.invalid&&(a.dirty||a.touched)),v(4),be("ngModel",r.auto.modelo),v(2),M("ngIf",o.invalid&&(o.dirty||o.touched)),v(4),be("ngModel",r.auto.persona.id),v(),M("ngForOf",r.personas),v(2),M("disabled",n.invalid)}},dependencies:[kt,ni,ji,qi,Mt,Ri,Tt,ri,si,bi,Ot,oi,ht,zt,Et],styles:[".form-container[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:14px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.error-message[_ngcontent-%COMP%]{color:red;font-size:16px;margin-top:5px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{width:48%;padding:10px;font-size:16px;border-radius:4px;cursor:pointer}.submit-btn[_ngcontent-%COMP%]{background-color:#ffc107;color:#fff;border:none}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6;cursor:not-allowed}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#e0a800}.cancel-btn[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})};var uc=class i{constructor(t){this.http=t}apiUrl=li.apiUrl;obtenerPerros(){return this.http.get(`${this.apiUrl}/perros`)}obtenerPerroPorId(t){return this.http.get(`${this.apiUrl}/perros/${t}`)}crearPerro(t){let e=st({},t);return delete e.id,this.http.post(`${this.apiUrl}/perros`,e)}actualizarPerro(t,e){return this.http.put(`${this.apiUrl}/perros/${t}`,e)}eliminarPerro(t){return this.http.delete(`${this.apiUrl}/perros/${t}`)}static \u0275fac=function(e){return new(e||i)(St(ai))};static \u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"})};var fc=class i{constructor(t){this.http=t}apiUrl=li.apiUrl;obtenerPersonaPerros(){return this.http.get(`${this.apiUrl}/persona-perro`)}obtenerPersonaPerroPorId(t){return this.http.get(`${this.apiUrl}/persona-perro/${t}`)}crearPersonaPerro(t){return this.http.post(`${this.apiUrl}/persona-perro`,t)}actualizarPersonaPerro(t,e){return this.http.put(`${this.apiUrl}/persona-perro/${t}`,e)}eliminarPersonaPerro(t){return this.http.delete(`${this.apiUrl}/persona-perro/${t}`)}static \u0275fac=function(e){return new(e||i)(St(ai))};static \u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"})};function NE(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),h(2),l(),c(3,"td"),h(4),l(),c(5,"td")(6,"button",8),J("click",function(){let n,a=z(e).$implicit,o=ee();return W(o.verPersonasPorPerro((n=a.id)!==null&&n!==void 0?n:0))}),h(7,"Ver Personas"),l()(),c(8,"td")(9,"button",8),J("click",function(){let n,a=z(e).$implicit,o=ee();return W(o.irAEditarPerro((n=a.id)!==null&&n!==void 0?n:0))}),h(10,"Editar"),l(),c(11,"button",8),J("click",function(){let n,a=z(e).$implicit,o=ee();return W(o.confirmarEliminarPerro((n=a.id)!==null&&n!==void 0?n:0))}),h(12,"Eliminar"),l()()()}if(i&2){let e=t.$implicit;v(2),Ve(e.nombre),v(2),Ve(e.raza)}}function LE(i,t){if(i&1){let e=Je();c(0,"div",9)(1,"div",10)(2,"h3"),h(3,"\xBFEst\xE1s seguro de que deseas eliminar este perro?"),l(),c(4,"button",8),J("click",function(){z(e);let n=ee();return W(n.eliminarPerroConfirmado())}),h(5,"Confirmar"),l(),c(6,"button",8),J("click",function(){z(e);let n=ee();return W(n.cerrarModalEliminar())}),h(7,"Cancelar"),l()()()}}function DE(i,t){if(i&1&&(c(0,"li"),h(1),l()),i&2){let e=t.$implicit;v(),Ve(e.persona==null?null:e.persona.nombre)}}function RE(i,t){if(i&1&&(c(0,"ul"),U(1,DE,2,1,"li",3),l()),i&2){let e=ee(2);v(),M("ngForOf",e.personaPerros)}}function BE(i,t){i&1&&(c(0,"p"),h(1,"No hay personas vinculadas a este perro."),l())}function UE(i,t){if(i&1){let e=Je();c(0,"div",11)(1,"div",12)(2,"span",13),J("click",function(){z(e);let n=ee();return W(n.cerrarModalPersonas())}),h(3,"\xD7"),l(),c(4,"h3"),h(5,"Personas vinculadas"),l(),U(6,RE,2,1,"ul",14)(7,BE,2,0,"p",14),l()()}if(i&2){let e=ee();v(6),M("ngIf",e.personaPerros.length>0),v(),M("ngIf",e.personaPerros.length===0)}}var Qp=class i{constructor(t,e,r,n,a){this.perroService=t;this.personaPerroService=e;this.router=r;this.filterService=n;this.paginationService=a}perros=[];perrosFiltrados=[];perrosPaginados=[];personaPerros=[];textoBusqueda="";paginaActual=1;elementosPorPagina=5;totalPaginas=0;mostrarModalEliminar=!1;perroAEliminarId=null;mostrarModalPersonas=!1;ngOnInit(){this.obtenerPerros()}obtenerPerros(){this.perroService.obtenerPerros().subscribe(t=>{this.perros=t,this.perrosFiltrados=t,this.calcularPaginacion()})}verPersonasPorPerro(t){this.personaPerroService.obtenerPersonaPerros().subscribe(e=>{this.personaPerros=e.filter(r=>r.perro?.id===t),this.mostrarModalPersonas=!0})}cerrarModalPersonas(){this.mostrarModalPersonas=!1,this.personaPerros=[]}eliminarPerro(t){this.perroService.eliminarPerro(t).subscribe(()=>{this.obtenerPerros()})}irACrearPerro(){this.router.navigate(["/perro-create"])}irAEditarPerro(t){this.router.navigate([`/perro-update/${t}`])}confirmarEliminarPerro(t){this.perroAEliminarId=t,this.mostrarModalEliminar=!0}eliminarPerroConfirmado(){this.perroAEliminarId!==null&&(this.eliminarPerro(this.perroAEliminarId),this.cerrarModalEliminar())}cerrarModalEliminar(){this.mostrarModalEliminar=!1}filtrarPerros(){this.perrosFiltrados=this.filterService.filtrar(this.perros,this.textoBusqueda),this.paginaActual=1,this.calcularPaginacion()}calcularPaginacion(){let t=this.paginationService.paginate(this.perrosFiltrados,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.perrosPaginados=t.paginatedData}cambiarPagina(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarPerrosPaginados()}actualizarPerrosPaginados(){let t=this.paginationService.paginate(this.perrosFiltrados,this.paginaActual,this.elementosPorPagina);this.perrosPaginados=t.paginatedData}static \u0275fac=function(e){return new(e||i)(ae(uc),ae(fc),ae(vt),ae(zi),ae(Yi))};static \u0275cmp=ot({type:i,selectors:[["app-perro"]],standalone:!0,features:[ut],decls:28,vars:7,consts:[["type","text","placeholder","Buscar...",3,"ngModelChange","input","ngModel"],[2,"float","right","margin-bottom","10px",3,"click"],["border","1","cellspacing","0","cellpadding","5",2,"width","100%","margin-top","20px"],[4,"ngFor","ngForOf"],[2,"margin-top","20px"],[3,"click","disabled"],["class","modal-eliminar",4,"ngIf"],["class","modal",4,"ngIf"],[3,"click"],[1,"modal-eliminar"],[1,"modal-content-eliminar"],[1,"modal"],[1,"modal-content"],[1,"close",3,"click"],[4,"ngIf"]],template:function(e,r){e&1&&(c(0,"div")(1,"h2"),h(2,"Perros"),l(),c(3,"input",0),ye("ngModelChange",function(a){return xe(r.textoBusqueda,a)||(r.textoBusqueda=a),a}),J("input",function(){return r.filtrarPerros()}),l(),c(4,"button",1),J("click",function(){return r.irACrearPerro()}),h(5,"Registrar"),l(),c(6,"table",2)(7,"thead")(8,"tr")(9,"th"),h(10,"Nombre"),l(),c(11,"th"),h(12,"Raza"),l(),c(13,"th"),h(14,"Personas Vinculadas"),l(),c(15,"th"),h(16,"Acciones"),l()()(),c(17,"tbody"),U(18,NE,13,2,"tr",3),l()(),c(19,"div",4)(20,"button",5),J("click",function(){return r.cambiarPagina("previous")}),h(21,"Anterior"),l(),c(22,"span"),h(23),l(),c(24,"button",5),J("click",function(){return r.cambiarPagina("next")}),h(25,"Siguiente"),l()()(),U(26,LE,8,0,"div",6)(27,UE,8,2,"div",7)),e&2&&(v(3),be("ngModel",r.textoBusqueda),v(15),M("ngForOf",r.perrosPaginados),v(2),M("disabled",r.paginaActual===1),v(3),tt(" P\xE1gina ",r.paginaActual," "),v(),M("disabled",r.paginaActual===r.totalPaginas),v(2),M("ngIf",r.mostrarModalEliminar),v(),M("ngIf",r.mostrarModalPersonas))},dependencies:[ht,zt,Et,Ui,kt,Mt,Tt,Ot],styles:['@charset "UTF-8";table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:10px;text-align:left;border:1px solid #ddd}button[_ngcontent-%COMP%]{margin-right:5px;padding:5px 10px;cursor:pointer}button[_ngcontent-%COMP%]:focus{outline:none}.modal[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:25px;border-radius:8px;width:400px;text-align:left;box-shadow:0 4px 10px #0003;position:relative}.close[_ngcontent-%COMP%]{position:absolute;top:10px;right:15px;font-size:30px;cursor:pointer;border:none;background:none;font-weight:700;color:#666}.close[_ngcontent-%COMP%]:hover{color:#000}ol[_ngcontent-%COMP%]{padding-left:20px;margin:10px 0;color:#444}li[_ngcontent-%COMP%]{padding:5px 0;border-bottom:1px solid #eee}li[_ngcontent-%COMP%]:last-child{border-bottom:none}p[_ngcontent-%COMP%]{color:#888;font-style:italic}.modal-eliminar[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080}.modal-content-eliminar[_ngcontent-%COMP%]{background:#fff;padding:25px;border-radius:8px;width:400px;text-align:center;box-shadow:0 4px 10px #0003;position:relative}h3[_ngcontent-%COMP%]{margin-top:0;font-size:20px;color:#333}button[_ngcontent-%COMP%]{margin:5px}button[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}button[style][_ngcontent-%COMP%]{margin-top:20px}']})};function VE(i,t){i&1&&(c(0,"small"),h(1,"El nombre es obligatorio."),l())}function jE(i,t){i&1&&(c(0,"small"),h(1,"Debe tener al menos 2 caracteres."),l())}function qE(i,t){if(i&1&&(c(0,"div",20),U(1,VE,2,0,"small",21)(2,jE,2,0,"small",21),l()),i&2){ee();let e=ue(9);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function zE(i,t){i&1&&(c(0,"small"),h(1,"La raza es obligatoria."),l())}function WE(i,t){i&1&&(c(0,"small"),h(1,"Debe tener al menos 2 caracteres."),l())}function HE(i,t){if(i&1&&(c(0,"div",20),U(1,zE,2,0,"small",21)(2,WE,2,0,"small",21),l()),i&2){ee();let e=ue(15);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function GE(i,t){if(i&1&&(c(0,"option",22),h(1),l()),i&2){let e=t.$implicit;M("ngValue",e),v(),tt(" ",e.nombre," ")}}function $E(i,t){if(i&1){let e=Je();c(0,"li"),h(1),c(2,"button",23),J("click",function(){let n=z(e).$implicit,a=ee();return W(a.removePersonaFromSelected(n))}),h(3,"Eliminar"),l()()}if(i&2){let e=t.$implicit;v(),tt(" ",e.nombre," ")}}var eh=class i{constructor(t,e,r,n){this.perroService=t;this.personaService=e;this.personaPerroService=r;this.router=n}perro={nombre:"",raza:""};personas=[];selectedPersonas=[];personaSeleccionada=null;ngOnInit(){this.cargarPersonas()}cargarPersonas(){this.personaService.obtenerPersonas().subscribe(t=>{this.personas=t})}addPersonaToSelected(t){t&&(this.selectedPersonas.push(t),this.personas=this.personas.filter(e=>e.id!==t.id)),this.personaSeleccionada=null}removePersonaFromSelected(t){this.selectedPersonas=this.selectedPersonas.filter(e=>e.id!==t.id),this.personas.push(t)}crearPerro(){this.perroService.crearPerro(this.perro).subscribe(t=>{this.selectedPersonas.forEach(e=>{let r={persona:{id:e.id},perro:{id:t.id}};this.personaPerroService.crearPersonaPerro(r).subscribe()}),this.router.navigate(["/perro"])})}cancelar(){this.router.navigate(["/perro"])}static \u0275fac=function(e){return new(e||i)(ae(uc),ae(sa),ae(fc),ae(vt))};static \u0275cmp=ot({type:i,selectors:[["app-perro-create"]],standalone:!0,features:[ut],decls:35,vars:8,consts:[["perroForm","ngForm"],["nombre","ngModel"],["raza","ngModel"],[1,"form-container"],[3,"ngSubmit"],[1,"form-group"],["for","nombre"],["id","nombre","name","nombre","placeholder","Nombre","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","raza"],["id","raza","name","raza","placeholder","Raza","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["for","personas"],["id","personas","name","personas",1,"form-control",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"add-button-container"],["type","button",1,"add-btn",3,"click"],[4,"ngFor","ngForOf"],[1,"button-container"],["type","submit",1,"submit-btn",3,"disabled"],["type","button",1,"cancel-btn",3,"click"],[1,"error-message"],[4,"ngIf"],[3,"ngValue"],["type","button",3,"click"]],template:function(e,r){if(e&1){let n=Je();c(0,"div",3)(1,"h2"),h(2,"Crear Perro"),l(),c(3,"form",4,0),J("ngSubmit",function(){return z(n),W(r.crearPerro())}),c(5,"div",5)(6,"label",6),h(7,"Nombre:"),l(),c(8,"input",7,1),ye("ngModelChange",function(o){return z(n),xe(r.perro.nombre,o)||(r.perro.nombre=o),W(o)}),l(),U(10,qE,3,2,"div",8),l(),c(11,"div",5)(12,"label",9),h(13,"Raza:"),l(),c(14,"input",10,2),ye("ngModelChange",function(o){return z(n),xe(r.perro.raza,o)||(r.perro.raza=o),W(o)}),l(),U(16,HE,3,2,"div",8),l(),c(17,"div",5)(18,"label",11),h(19,"Propietarios:"),l(),c(20,"select",12),ye("ngModelChange",function(o){return z(n),xe(r.personaSeleccionada,o)||(r.personaSeleccionada=o),W(o)}),U(21,GE,2,2,"option",13),l(),c(22,"div",14)(23,"button",15),J("click",function(){return z(n),W(r.addPersonaToSelected(r.personaSeleccionada))}),h(24," A\xF1adir "),l()()(),c(25,"div",5)(26,"label"),h(27,"Propietarios seleccionados:"),l(),c(28,"ul"),U(29,$E,4,1,"li",16),l()(),c(30,"div",17)(31,"button",18),h(32,"Crear"),l(),c(33,"button",19),J("click",function(){return z(n),W(r.cancelar())}),h(34,"Cancelar"),l()()()()}if(e&2){let n=ue(4),a=ue(9),o=ue(15);v(8),be("ngModel",r.perro.nombre),v(2),M("ngIf",a.invalid&&(a.dirty||a.touched)),v(4),be("ngModel",r.perro.raza),v(2),M("ngIf",o.invalid&&(o.dirty||o.touched)),v(4),be("ngModel",r.personaSeleccionada),v(),M("ngForOf",r.personas),v(8),M("ngForOf",r.selectedPersonas),v(2),M("disabled",n.invalid)}},dependencies:[kt,ni,ji,qi,Mt,Ri,Tt,ri,si,bi,Ot,oi,ht,zt,Et],styles:[".form-container[_ngcontent-%COMP%]{max-width:500px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px;position:relative}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:14px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.error-message[_ngcontent-%COMP%]{color:red;font-size:14px;margin-top:5px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%], .add-btn[_ngcontent-%COMP%]{width:48%;padding:10px;font-size:16px;border-radius:4px;cursor:pointer;border:none}.submit-btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6;cursor:not-allowed}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#218838}.cancel-btn[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#c82333}.add-btn[_ngcontent-%COMP%]{width:auto;min-width:80px;background-color:#007bff;color:#fff;padding:8px 12px;font-size:14px;border-radius:4px;cursor:pointer;border:none}.add-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.add-button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:5px}ul[_ngcontent-%COMP%]{list-style:none;padding:0}li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fd7e14;color:#fff;padding:5px 10px;border-radius:4px;border:none;cursor:pointer}li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#e96a0c}"]})};function ZE(i,t){i&1&&(c(0,"small"),h(1,"El nombre es obligatorio."),l())}function XE(i,t){i&1&&(c(0,"small"),h(1,"Debe tener al menos 2 caracteres."),l())}function YE(i,t){if(i&1&&(c(0,"div",20),U(1,ZE,2,0,"small",21)(2,XE,2,0,"small",21),l()),i&2){ee();let e=ue(9);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function KE(i,t){i&1&&(c(0,"small"),h(1,"La raza es obligatoria."),l())}function JE(i,t){i&1&&(c(0,"small"),h(1,"Debe tener al menos 2 caracteres."),l())}function QE(i,t){if(i&1&&(c(0,"div",20),U(1,KE,2,0,"small",21)(2,JE,2,0,"small",21),l()),i&2){ee();let e=ue(15);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function eP(i,t){if(i&1&&(c(0,"option",22),h(1),l()),i&2){let e=t.$implicit;M("ngValue",e),v(),tt(" ",e.nombre," ")}}function tP(i,t){if(i&1){let e=Je();c(0,"li"),h(1),c(2,"button",23),J("click",function(){let n=z(e).$implicit,a=ee();return W(a.removePersonaFromSelected(n))}),h(3,"Eliminar"),l()()}if(i&2){let e=t.$implicit;v(),tt(" ",e.nombre," ")}}var th=class i{constructor(t,e,r,n,a){this.perroService=t;this.personaService=e;this.personaPerroService=r;this.route=n;this.router=a}perro={id:0,nombre:"",raza:""};personas=[];selectedPersonas=[];personaSeleccionada=null;ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("id"));t&&this.perroService.obtenerPerroPorId(t).subscribe(e=>{this.perro=e,this.personaPerroService.obtenerPersonaPerros().subscribe(r=>{let n=r.filter(a=>a.perro?.id===this.perro.id);this.selectedPersonas=n.map(a=>a.persona).filter(a=>a!==void 0),this.personas=this.personas.filter(a=>!this.selectedPersonas.some(o=>o.id===a.id))})}),this.cargarPersonas()}cargarPersonas(){this.personaService.obtenerPersonas().subscribe(t=>{this.personas=t})}addPersonaToSelected(t){t&&(this.selectedPersonas.push(t),this.personas=this.personas.filter(e=>e.id!==t.id)),this.personaSeleccionada=null}removePersonaFromSelected(t){this.selectedPersonas=this.selectedPersonas.filter(e=>e.id!==t.id),this.personas.push(t)}actualizarPerro(){this.perro.id&&this.perroService.actualizarPerro(this.perro.id,this.perro).subscribe(t=>{this.personaPerroService.obtenerPersonaPerros().subscribe(e=>{let r=e.filter(a=>a.perro?.id===t.id).map(a=>a.persona?.id);e.filter(a=>a.perro?.id===t.id&&!this.selectedPersonas.some(o=>o.id===a.persona?.id)).forEach(a=>{a.id!==void 0&&this.personaPerroService.eliminarPersonaPerro(a.id).subscribe()}),this.selectedPersonas.forEach(a=>{if(!r.includes(a.id)){let o={persona:{id:a.id},perro:{id:t.id}};this.personaPerroService.crearPersonaPerro(o).subscribe()}}),this.router.navigate(["/perro"])})})}cancelar(){this.router.navigate(["/perro"])}static \u0275fac=function(e){return new(e||i)(ae(uc),ae(sa),ae(fc),ae(Vi),ae(vt))};static \u0275cmp=ot({type:i,selectors:[["app-perro-update"]],standalone:!0,features:[ut],decls:35,vars:8,consts:[["perroForm","ngForm"],["nombre","ngModel"],["raza","ngModel"],[1,"form-container"],[3,"ngSubmit"],[1,"form-group"],["for","nombre"],["id","nombre","name","nombre","placeholder","Nombre","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","raza"],["id","raza","name","raza","placeholder","Raza","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["for","personas"],["id","personas","name","personas",1,"form-control",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"add-button-container"],["type","button",1,"add-btn",3,"click"],[4,"ngFor","ngForOf"],[1,"button-container"],["type","submit",1,"submit-btn",3,"disabled"],["type","button",1,"cancel-btn",3,"click"],[1,"error-message"],[4,"ngIf"],[3,"ngValue"],["type","button",3,"click"]],template:function(e,r){if(e&1){let n=Je();c(0,"div",3)(1,"h2"),h(2,"Actualizar Perro"),l(),c(3,"form",4,0),J("ngSubmit",function(){return z(n),W(r.actualizarPerro())}),c(5,"div",5)(6,"label",6),h(7,"Nombre:"),l(),c(8,"input",7,1),ye("ngModelChange",function(o){return z(n),xe(r.perro.nombre,o)||(r.perro.nombre=o),W(o)}),l(),U(10,YE,3,2,"div",8),l(),c(11,"div",5)(12,"label",9),h(13,"Raza:"),l(),c(14,"input",10,2),ye("ngModelChange",function(o){return z(n),xe(r.perro.raza,o)||(r.perro.raza=o),W(o)}),l(),U(16,QE,3,2,"div",8),l(),c(17,"div",5)(18,"label",11),h(19,"Propietarios:"),l(),c(20,"select",12),ye("ngModelChange",function(o){return z(n),xe(r.personaSeleccionada,o)||(r.personaSeleccionada=o),W(o)}),U(21,eP,2,2,"option",13),l(),c(22,"div",14)(23,"button",15),J("click",function(){return z(n),W(r.addPersonaToSelected(r.personaSeleccionada))}),h(24," A\xF1adir "),l()()(),c(25,"div",5)(26,"label"),h(27,"Propietarios seleccionados:"),l(),c(28,"ul"),U(29,tP,4,1,"li",16),l()(),c(30,"div",17)(31,"button",18),h(32,"Actualizar"),l(),c(33,"button",19),J("click",function(){return z(n),W(r.cancelar())}),h(34,"Cancelar"),l()()()()}if(e&2){let n=ue(4),a=ue(9),o=ue(15);v(8),be("ngModel",r.perro.nombre),v(2),M("ngIf",a.invalid&&(a.dirty||a.touched)),v(4),be("ngModel",r.perro.raza),v(2),M("ngIf",o.invalid&&(o.dirty||o.touched)),v(4),be("ngModel",r.personaSeleccionada),v(),M("ngForOf",r.personas),v(8),M("ngForOf",r.selectedPersonas),v(2),M("disabled",n.invalid)}},dependencies:[kt,ni,ji,qi,Mt,Ri,Tt,ri,si,bi,Ot,oi,ht,zt,Et],styles:[".form-container[_ngcontent-%COMP%]{max-width:500px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px;position:relative}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:14px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.error-message[_ngcontent-%COMP%]{color:red;font-size:14px;margin-top:5px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%], .add-btn[_ngcontent-%COMP%]{width:48%;padding:10px;font-size:16px;border-radius:4px;cursor:pointer;border:none}.submit-btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6;cursor:not-allowed}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#218838}.cancel-btn[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#c82333}.add-btn[_ngcontent-%COMP%]{width:auto;min-width:80px;background-color:#007bff;color:#fff;padding:8px 12px;font-size:14px;border-radius:4px;cursor:pointer;border:none}.add-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.add-button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:5px}ul[_ngcontent-%COMP%]{list-style:none;padding:0}li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fd7e14;color:#fff;padding:5px 10px;border-radius:4px;border:none;cursor:pointer}li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#e96a0c}"]})};var Ws=class i{constructor(t,e){this.http=t;this.router=e}tokenKey="auth_token";login(t,e){return this.http.post(`${li.apiUrl}/auth/login`,{correo:t,contrasena:e}).pipe(Cn(r=>{this.setToken(r.token)}))}logout(){let t=this.getToken();return t?this.http.post(`${li.apiUrl}/auth/logout`,null,{headers:{Authorization:`Bearer ${t}`}}).pipe(Cn(()=>{this.clearAuthData(),this.router.navigate(["/login"])})):new id(e=>{e.next(null),e.complete()})}isAuthenticated(){return!!this.getToken()}getToken(){return localStorage.getItem(this.tokenKey)}setToken(t){localStorage.setItem(this.tokenKey,t)}clearAuthData(){localStorage.removeItem(this.tokenKey)}static \u0275fac=function(e){return new(e||i)(St(ai),St(vt))};static \u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"})};function iP(i,t){i&1&&(c(0,"div",10),h(1," Por favor ingresa un correo electr\xF3nico v\xE1lido "),l())}function rP(i,t){if(i&1&&(c(0,"div",10),h(1),l()),i&2){let e=ee();v(),tt(" ",e.errorMessage," ")}}var rh=class i{constructor(t,e,r){this.fb=t;this.authService=e;this.router=r;this.loginForm=this.fb.group({correo:["",[_u.required,_u.email]],contrasena:["",_u.required]})}loginForm;errorMessage=null;onSubmit(){if(this.loginForm.valid){let{correo:t,contrasena:e}=this.loginForm.value;this.authService.login(t,e).subscribe({next:()=>{this.router.navigate(["/dashboard"])},error:r=>{this.errorMessage="Credenciales incorrectas",console.error(r)}})}}static \u0275fac=function(e){return new(e||i)(ae(Fx),ae(Ws),ae(vt))};static \u0275cmp=ot({type:i,selectors:[["app-login"]],standalone:!0,features:[ut],decls:17,vars:4,consts:[[1,"full-page-container"],[1,"login-container"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","correo"],["type","email","id","correo","formControlName","correo","required",""],["class","error-message",4,"ngIf"],["for","contrasena"],["type","password","id","contrasena","formControlName","contrasena","required",""],["type","submit",3,"disabled"],[1,"error-message"]],template:function(e,r){if(e&1&&(c(0,"div",0)(1,"div",1)(2,"h2"),h(3,"Iniciar Sesi\xF3n"),l(),c(4,"form",2),J("ngSubmit",function(){return r.onSubmit()}),c(5,"div",3)(6,"label",4),h(7,"Correo Electr\xF3nico"),l(),Le(8,"input",5),U(9,iP,2,0,"div",6),l(),c(10,"div",3)(11,"label",7),h(12,"Contrase\xF1a"),l(),Le(13,"input",8),l(),c(14,"button",9),h(15,"Iniciar Sesi\xF3n"),l(),U(16,rP,2,1,"div",6),l()()()),e&2){let n;v(4),M("formGroup",r.loginForm),v(5),M("ngIf",((n=r.loginForm.get("correo"))==null||n.errors==null?null:n.errors.email)&&((n=r.loginForm.get("correo"))==null?null:n.touched)),v(5),M("disabled",!r.loginForm.valid),v(2),M("ngIf",r.errorMessage)}},dependencies:[Nx,ni,Mt,Tt,ri,si,V1,j1,ht,Et],styles:['@charset "UTF-8";.full-page-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:#d3d3d3}.login-container[_ngcontent-%COMP%]{background-color:#fff;padding:30px;border-radius:8px;box-shadow:0 4px 12px #0000001a;width:100%;max-width:400px;margin-top:-100px}.login-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:20px;color:#333;text-align:center}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:1rem;margin-bottom:5px;color:#333}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#4caf50;outline:none}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:12px;background-color:#4caf50;color:#fff;border:none;border-radius:4px;font-size:1rem;cursor:pointer;transition:background-color .3s}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#3d8b40}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#dcdcdc;cursor:not-allowed}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#f44336;font-size:.875rem;margin-top:10px;text-align:center}']})};var nh=class i{constructor(t,e){this.authService=t;this.router=e}canActivate(){return this.authService.isAuthenticated()?!0:(this.router.navigate(["/login"]),!1)}static \u0275fac=function(e){return new(e||i)(St(Ws),St(vt))};static \u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"})};var ah=class i{constructor(t){this.authService=t}title="Administraci\xF3n ";menuOpen=!1;toggleMenu(){this.menuOpen=!this.menuOpen}logout(){this.authService.logout().subscribe()}isAuthenticated(){return this.authService.isAuthenticated()}static \u0275fac=function(e){return new(e||i)(ae(Ws))};static \u0275cmp=ot({type:i,selectors:[["app-topbar"]],standalone:!0,features:[ut],decls:11,vars:3,consts:[[1,"topbar-container"],[1,"topbar-logo"],[1,"menu-toggle",3,"click"],[1,"line"],[1,"topbar-menu"],[1,"menu-item",3,"click"]],template:function(e,r){e&1&&(c(0,"div",0)(1,"div",1)(2,"span"),h(3),l()(),c(4,"div",2),J("click",function(){return r.toggleMenu()}),Le(5,"div",3)(6,"div",3)(7,"div",3),l(),c(8,"div",4)(9,"a",5),J("click",function(){return r.logout()}),h(10,"Salir"),l()()()),e&2&&(v(3),Ve(r.title),v(5),fl("show",r.menuOpen))},dependencies:[Fp,ht],styles:['@charset "UTF-8";html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif}.topbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:#34495e;color:#fff;padding:0;position:sticky;top:0;width:100%;z-index:1000;box-sizing:border-box}.topbar-container[_ngcontent-%COMP%]   .topbar-logo[_ngcontent-%COMP%]{font-size:24px;font-weight:700}.topbar-container[_ngcontent-%COMP%]   .menu-toggle[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;width:40px;height:28px;cursor:pointer;margin-left:20px;margin-right:20px;padding:5px}.topbar-container[_ngcontent-%COMP%]   .menu-toggle[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{width:100%;height:4px;background-color:#fff;border-radius:2px}.topbar-container[_ngcontent-%COMP%]   .topbar-menu[_ngcontent-%COMP%]{display:none;position:absolute;top:60px;right:20px;background-color:#2c3e50;border-radius:5px;padding:5px;box-shadow:0 4px 8px #0003;z-index:1001;width:100px;margin-right:20px}.topbar-container[_ngcontent-%COMP%]   .topbar-menu.show[_ngcontent-%COMP%]{display:block}.topbar-container[_ngcontent-%COMP%]   .topbar-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{background:none;color:#fff;border:none;cursor:pointer;font-size:14px;padding:8px;text-decoration:none;display:block;text-align:center;transition:background-color .3s ease}.topbar-container[_ngcontent-%COMP%]   .topbar-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}']})};var nP=i=>({expanded:i}),aP=i=>({open:i});function oP(i,t){if(i&1&&(f2(0),c(1,"a",5),h(2),l(),p2()),i&2){let e=ee().$implicit;v(),M("routerLink",e.route),v(),Ve(e.title)}}function sP(i,t){if(i&1&&(c(0,"li")(1,"a",5),h(2),l()()),i&2){let e=t.$implicit;v(),M("routerLink",e.route),v(),Ve(e.title)}}function lP(i,t){if(i&1){let e=Je();c(0,"div",6),J("click",function(){z(e);let n=ee().$implicit,a=ee();return W(a.toggleMenu(n))}),h(1),c(2,"span",7),h(3,"\u25BC"),l()(),c(4,"ul",8),U(5,sP,3,2,"li",3),l()}if(i&2){let e=ee().$implicit;v(),tt(" ",e.title," "),v(),M("ngClass",tu(4,nP,e.expanded)),v(2),M("ngClass",tu(6,aP,e.expanded)),v(),M("ngForOf",e.children)}}function cP(i,t){if(i&1&&(c(0,"li"),U(1,oP,3,2,"ng-container",4)(2,lP,6,8,"ng-template",null,0,y2),l()),i&2){let e=t.$implicit,r=ue(3);v(),M("ngIf",!(e.children!=null&&e.children.length))("ngIfElse",r)}}var oh=class i{menus=[{title:"Home",route:"/dashboard",expanded:!1,children:[]},{title:"Usuarios",expanded:!1,children:[{title:"Usuarios",route:"/usuario"},{title:"Roles",route:"/rol"},{title:"Permisos",route:"/permiso"}]},{title:"Obras",expanded:!1,children:[{title:"Obras",route:"/obra-civil"},{title:"Tareas",route:"/tarea"},{title:"Calculadora de Costos",route:"/estimacion"}]},{title:"Recursos",expanded:!1,children:[{title:"Servicios",route:"/servicio"},{title:"Empleados",route:"/empleado"},{title:"Materiales",route:"/material"},{title:"Equipos",route:"/equipo"}]},{title:"Compras",expanded:!1,children:[{title:"Proveedores",route:"/proveedor"},{title:"compra",route:"/compra"}]},{title:"Sistema",expanded:!1,children:[{title:"Bitacora",route:"/bitacora"},{title:"Backup y Restore",route:"/backup-restore"}]}];toggleMenu(t){t.expanded=!t.expanded}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=ot({type:i,selectors:[["app-sidebar"]],standalone:!0,features:[ut],decls:3,vars:1,consts:[["hasChildren",""],[1,"sidebar"],[1,"sidebar-menu"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[3,"routerLink"],[1,"menu-toggle",3,"click"],[3,"ngClass"],[1,"submenu",3,"ngClass"]],template:function(e,r){e&1&&(c(0,"div",1)(1,"ul",2),U(2,cP,4,2,"li",3),l()()),e&2&&(v(2),M("ngForOf",r.menus))},dependencies:[Fp,zb,ht,aa,zt,Et],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif}.sidebar[_ngcontent-%COMP%]{position:fixed;top:50px;left:0;width:250px;height:calc(100vh - 50px);background-color:#2c3e50;color:#fff;padding-top:20px;z-index:900;display:flex;flex-direction:column}.sidebar[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;flex-grow:1}.sidebar[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:15px 0}.sidebar[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .menu-toggle[_ngcontent-%COMP%]{color:#fff;text-decoration:none;padding:10px 20px;display:block;cursor:pointer;transition:background-color .3s}.sidebar[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .sidebar[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .menu-toggle[_ngcontent-%COMP%]:hover{background-color:#1a252f}.sidebar[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .menu-toggle[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-weight:700}.sidebar[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]{list-style:none;padding-left:20px;max-height:0;overflow:hidden;transition:max-height .3s ease-out}.sidebar[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:5px 0}.sidebar[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .submenu.open[_ngcontent-%COMP%]{max-height:500px}.sidebar[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .menu-toggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{transition:transform .3s ease}.sidebar[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .menu-toggle[_ngcontent-%COMP%]   .expanded[_ngcontent-%COMP%]{transform:rotate(180deg)}"]})};var dP=i=>({"sidebar-hidden":i}),uP=i=>({shifted:i}),sh=class i{sidebarVisible=!0;toggleSidebar(){this.sidebarVisible=!this.sidebarVisible}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=ot({type:i,selectors:[["app-main-layout"]],standalone:!0,features:[ut],decls:10,vars:6,consts:[[1,"app-container"],[1,"content-wrapper"],[3,"ngClass"],[1,"main-content",3,"ngClass"],[1,"content"],[1,"container-fluid"],[1,"toggle-sidebar-btn",3,"click"]],template:function(e,r){e&1&&(c(0,"div",0),Le(1,"app-topbar"),c(2,"div",1),Le(3,"app-sidebar",2),c(4,"div",3)(5,"section",4)(6,"div",5),Le(7,"router-outlet"),l()()()(),c(8,"button",6),J("click",function(){return r.toggleSidebar()}),h(9,"\u2630"),l()()),e&2&&(v(3),M("ngClass",tu(2,dP,!r.sidebarVisible)),v(),M("ngClass",tu(4,uP,!r.sidebarVisible)))},dependencies:[ht,aa,ah,oh,V0],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif}.app-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh}app-topbar[_ngcontent-%COMP%]{background-color:#34495e;color:#fff;padding:8px 20px;position:fixed;top:0;left:0;width:100%;height:50px;z-index:1000}.content-wrapper[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:50px;height:calc(100vh - 50px)}app-sidebar[_ngcontent-%COMP%]{width:250px;background-color:#2c3e50;color:#fff;position:fixed;top:50px;left:0;height:calc(100vh - 50px);z-index:900;transition:transform .3s ease-in-out}.sidebar-hidden[_ngcontent-%COMP%]{transform:translate(-100%)}.main-content[_ngcontent-%COMP%]{flex-grow:1;margin-left:250px;background-color:#ecf0f1;padding:20px;height:100%;overflow-y:auto;transition:margin-left .3s ease-in-out}.main-content.shifted[_ngcontent-%COMP%]{margin-left:0}.toggle-sidebar-btn[_ngcontent-%COMP%]{position:fixed;bottom:20px;left:20px;background-color:#34495e;color:#fff;border:none;padding:10px;font-size:20px;z-index:1100;cursor:pointer;border-radius:30px}"]})};var qo=class i{constructor(t){this.http=t}apiUrl=li.apiUrl;obtenerPermisos(){return this.http.get(`${this.apiUrl}/permisos`)}obtenerPermisoPorId(t){return this.http.get(`${this.apiUrl}/permisos/${t}`)}crearPermiso(t){let e=st({},t);return delete e.id,this.http.post(`${this.apiUrl}/permisos`,e)}actualizarPermiso(t,e){return this.http.put(`${this.apiUrl}/permisos/${t}`,e)}eliminarPermiso(t){return this.http.delete(`${this.apiUrl}/permisos/${t}`)}static \u0275fac=function(e){return new(e||i)(St(ai))};static \u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"})};function fP(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),h(2),l(),c(3,"td"),h(4),l(),c(5,"td"),h(6),l(),c(7,"td",18)(8,"div",35)(9,"button",36),J("click",function(){let n,a=z(e).$implicit,o=ee();return W(o.irAEditarPermiso((n=a.id)!==null&&n!==void 0?n:0))}),Le(10,"i",37),h(11," Editar "),l(),c(12,"button",38),J("click",function(){let n,a=z(e).$implicit,o=ee();return W(o.confirmarEliminarPermiso((n=a.id)!==null&&n!==void 0?n:0))}),Le(13,"i",39),h(14," Eliminar "),l()()()()}if(i&2){let e=t.$implicit;v(2),Ve(e.id),v(2),Ve(e.nombre),v(2),Ve(e.descripcion)}}var lh=class i{constructor(t,e,r,n){this.permisoService=t;this.router=e;this.filterService=r;this.paginationService=n}permisos=[];permisosFiltradas=[];permisosPaginadas=[];textoBusqueda="";paginaActual=1;elementosPorPagina=10;totalPaginas=0;mostrarModal=!1;permisoAEliminarId=null;ngOnInit(){this.obtenerPermisos()}obtenerPermisos(){this.permisoService.obtenerPermisos().subscribe(t=>{this.permisos=t,this.permisosFiltradas=t,this.calcularPaginacion()})}eliminarPermiso(t){this.permisoService.eliminarPermiso(t).subscribe(()=>{this.obtenerPermisos()})}irACrearPermiso(){this.router.navigate(["/permiso-create"])}irAEditarPermiso(t){this.router.navigate([`/permiso-update/${t}`])}confirmarEliminarPermiso(t){this.permisoAEliminarId=t,this.mostrarModal=!0}eliminarPermisoConfirmada(){this.permisoAEliminarId!==null&&(this.eliminarPermiso(this.permisoAEliminarId),this.cerrarModal())}cerrarModal(){this.mostrarModal=!1,this.permisoAEliminarId=null}filtrarPermisos(){this.permisosFiltradas=this.filterService.filtrar(this.permisos,this.textoBusqueda),this.paginaActual=1,this.calcularPaginacion()}calcularPaginacion(){let t=this.paginationService.paginate(this.permisosFiltradas,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.permisosPaginadas=t.paginatedData}cambiarPagina(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarUsuariosPaginados()}actualizarPermisosPaginadas(){let t=this.paginationService.paginate(this.permisosFiltradas,this.paginaActual,this.elementosPorPagina);this.permisosPaginadas=t.paginatedData}crearNuevoPermiso(){console.log("Crear nuevo permiso")}editarPermiso(t){console.log("Editar permiso con ID:",t)}actualizarUsuariosPaginados(){let t=this.paginationService.paginate(this.permisosFiltradas,this.paginaActual,this.elementosPorPagina);this.permisosPaginadas=t.paginatedData}static \u0275fac=function(e){return new(e||i)(ae(qo),ae(vt),ae(zi),ae(Yi))};static \u0275cmp=ot({type:i,selectors:[["app-permiso-list"]],standalone:!0,features:[ut],decls:54,vars:5,consts:[[1,"content"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"card","shadow-sm"],[1,"card-body"],[1,"row","mb-3"],[1,"col-12","col-md-6"],[1,"m-0"],[1,"col-12","col-md-6","text-md-end"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-plus-circle"],[1,"form-group","mb-3"],["type","text","placeholder","Buscar por nombre o descripci\xF3n",1,"form-control",3,"ngModelChange","input","ngModel"],[2,"max-height","400px","overflow-y","auto"],[1,"table-responsive"],[1,"table","table-bordered","table-striped"],[1,"table-primary"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"d-flex","align-items-center"],[1,"btn","btn-outline-secondary","btn-sm",3,"click","disabled"],[1,"mx-3"],["id","deleteModal","tabindex","-1","aria-labelledby","deleteModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","deleteModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"bi","bi-x-circle","mr-1"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"bi","bi-trash","mr-1"],[1,"d-flex","gap-2","justify-content-center"],[1,"btn","btn-warning","btn-sm",3,"click"],[1,"bi","bi-pencil"],["data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger","btn-sm",3,"click"],[1,"bi","bi-trash"]],template:function(e,r){e&1&&(c(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h4",8),h(9,"Permisos"),l()(),c(10,"div",9)(11,"button",10),J("click",function(){return r.irACrearPermiso()}),Le(12,"i",11),h(13," Crear permiso "),l()()(),c(14,"div",12)(15,"input",13),ye("ngModelChange",function(a){return xe(r.textoBusqueda,a)||(r.textoBusqueda=a),a}),J("input",function(){return r.filtrarPermisos()}),l()(),c(16,"div",14)(17,"div",15)(18,"table",16)(19,"thead",17)(20,"tr")(21,"th"),h(22,"ID"),l(),c(23,"th"),h(24,"Nombre"),l(),c(25,"th"),h(26,"Descripci\xF3n"),l(),c(27,"th",18),h(28,"Acciones"),l()()(),c(29,"tbody"),U(30,fP,15,3,"tr",19),l()()()(),c(31,"div",20)(32,"button",21),J("click",function(){return r.cambiarPagina("previous")}),h(33," \u2190 Anterior "),l(),c(34,"span",22),h(35),l(),c(36,"button",21),J("click",function(){return r.cambiarPagina("next")}),h(37," Siguiente \u2192 "),l()()()()()()()(),c(38,"div",23)(39,"div",24)(40,"div",25)(41,"div",26)(42,"h5",27),h(43," Confirmaci\xF3n de Eliminaci\xF3n "),l(),Le(44,"button",28),l(),c(45,"div",29),h(46," \xBFEst\xE1s seguro de que deseas eliminar este permiso? "),l(),c(47,"div",30)(48,"button",31),Le(49,"i",32),h(50," Cancelar "),l(),c(51,"button",33),J("click",function(){return r.eliminarPermisoConfirmada()}),Le(52,"i",34),h(53," Eliminar "),l()()()()()),e&2&&(v(15),be("ngModel",r.textoBusqueda),v(15),M("ngForOf",r.permisosPaginadas),v(2),M("disabled",r.paginaActual===1),v(3),tt(" P\xE1gina ",r.paginaActual," "),v(),M("disabled",r.paginaActual===r.totalPaginas))},dependencies:[ht,zt,Ui,kt,Mt,Tt,Ot]})};function pP(i,t){i&1&&(c(0,"small"),h(1,"El nombre es obligatorio."),l())}function hP(i,t){i&1&&(c(0,"small"),h(1,"El nombre debe tener al menos 3 caracteres."),l())}function mP(i,t){if(i&1&&(c(0,"div",22),U(1,pP,2,0,"small",23)(2,hP,2,0,"small",23),l()),i&2){ee();let e=ue(15);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function gP(i,t){i&1&&(c(0,"small"),h(1,"La descripci\xF3n es obligatoria."),l())}function vP(i,t){if(i&1&&(c(0,"div",22),U(1,gP,2,0,"small",23),l()),i&2){ee();let e=ue(21);v(),M("ngIf",e.errors==null?null:e.errors.required)}}var ch=class i{constructor(t,e){this.permisoService=t;this.router=e}permiso={id:0,nombre:"",descripcion:""};submitted=!1;crearPermiso(){this.permisoService.crearPermiso(this.permiso).subscribe(()=>{this.router.navigate(["/permiso"])})}cancelar(){this.router.navigate(["/permiso"])}static \u0275fac=function(e){return new(e||i)(ae(qo),ae(vt))};static \u0275cmp=ot({type:i,selectors:[["app-permiso-create"]],standalone:!0,features:[ut],decls:30,vars:5,consts:[["permisoForm","ngForm"],["nombre","ngModel"],["descripcion","ngModel"],[1,"content"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"card","shadow-sm"],[1,"card-body"],[1,"mb-3"],[3,"ngSubmit"],[1,"col-12","col-md-6","mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","placeholder","Ingrese el nombre del permiso","name","nombre","required","","minlength","3",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message text-danger",4,"ngIf"],["for","descripcion",1,"form-label"],["id","descripcion","rows","3","placeholder","Ingrese la descripci\xF3n del permiso","name","descripcion","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-12","col-md-6","d-flex","justify-content-start","gap-3"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"bi","bi-plus-circle","mr-1"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-x-circle","mr-1"],[1,"error-message","text-danger"],[4,"ngIf"]],template:function(e,r){if(e&1){let n=Je();c(0,"section",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"h4",9),h(7,"Crear Permiso"),l(),c(8,"form",10,0),J("ngSubmit",function(){return z(n),W(r.crearPermiso())})("ngSubmit",function(){return z(n),W(r.submitted=!0)}),c(10,"div",5)(11,"div",11)(12,"label",12),h(13,"Nombre:"),l(),c(14,"input",13,1),ye("ngModelChange",function(o){return z(n),xe(r.permiso.nombre,o)||(r.permiso.nombre=o),W(o)}),l(),U(16,mP,3,2,"div",14),l(),c(17,"div",11)(18,"label",15),h(19,"Descripci\xF3n:"),l(),c(20,"textarea",16,2),ye("ngModelChange",function(o){return z(n),xe(r.permiso.descripcion,o)||(r.permiso.descripcion=o),W(o)}),l(),U(22,vP,2,1,"div",14),l(),c(23,"div",17)(24,"button",18),Le(25,"i",19),h(26," Crear "),l(),c(27,"button",20),J("click",function(){return z(n),W(r.cancelar())}),Le(28,"i",21),h(29," Cancelar "),l()()()()()()()()()()}if(e&2){let n=ue(9),a=ue(15),o=ue(21);v(14),be("ngModel",r.permiso.nombre),v(2),M("ngIf",a.invalid&&(a.dirty||a.touched)||r.submitted&&a.invalid),v(4),be("ngModel",r.permiso.descripcion),v(2),M("ngIf",o.invalid&&(o.dirty||o.touched)||r.submitted&&o.invalid),v(2),M("disabled",!n.form.valid)}},dependencies:[ht,Et,kt,ni,Mt,Tt,ri,si,bi,Ot,oi],styles:[".error-message[_ngcontent-%COMP%]{font-size:.875rem;margin-top:.25rem}"]})};function _P(i,t){i&1&&(c(0,"small"),h(1," El nombre es obligatorio. "),l())}function bP(i,t){i&1&&(c(0,"small"),h(1," El nombre debe tener al menos 3 caracteres. "),l())}function xP(i,t){if(i&1&&(c(0,"div",24),U(1,_P,2,0,"small",25)(2,bP,2,0,"small",25),l()),i&2){ee();let e=ue(17);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function yP(i,t){i&1&&(c(0,"small"),h(1," La descripci\xF3n es obligatoria. "),l())}function CP(i,t){if(i&1&&(c(0,"div",24),U(1,yP,2,0,"small",25),l()),i&2){ee();let e=ue(23);v(),M("ngIf",e.errors==null?null:e.errors.required)}}var dh=class i{constructor(t,e,r){this.permisoService=t;this.route=e;this.router=r}permiso={id:0,nombre:"",descripcion:""};submitted=!1;ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("id"));t&&this.permisoService.obtenerPermisoPorId(t).subscribe(e=>{this.permiso=e})}actualizarPermiso(){this.permiso.id&&this.permisoService.actualizarPermiso(this.permiso.id,this.permiso).subscribe(()=>{this.router.navigate(["/permiso"])})}cancelar(){this.router.navigate(["/permiso"])}static \u0275fac=function(e){return new(e||i)(ae(qo),ae(Vi),ae(vt))};static \u0275cmp=ot({type:i,selectors:[["app-permiso-update"]],standalone:!0,features:[ut],decls:32,vars:5,consts:[["permisoForm","ngForm"],["nombre","ngModel"],["descripcion","ngModel"],[1,"content"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"card","shadow-sm"],[1,"card-body"],[1,"row","mb-3"],[1,"col-12","col-md-6"],[1,"m-0"],[3,"ngSubmit"],[1,"col-12","col-md-6","mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","placeholder","Ingrese el nombre del permiso","name","nombre","required","","minlength","3",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message text-danger",4,"ngIf"],["for","descripcion",1,"form-label"],["id","descripcion","rows","3","placeholder","Ingrese la descripci\xF3n del permiso","name","descripcion","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-12","col-md-6","d-flex","justify-content-start","gap-3"],["type","submit",1,"btn","btn-warning",3,"disabled"],[1,"bi","bi-save","mr-1"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-x-circle"],[1,"error-message","text-danger"],[4,"ngIf"]],template:function(e,r){if(e&1){let n=Je();c(0,"section",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"div",9)(7,"div",10)(8,"h4",11),h(9,"Editar Permiso"),l()()(),c(10,"form",12,0),J("ngSubmit",function(){return z(n),W(r.actualizarPermiso())})("ngSubmit",function(){return z(n),W(r.submitted=!0)}),c(12,"div",5)(13,"div",13)(14,"label",14),h(15,"Nombre:"),l(),c(16,"input",15,1),ye("ngModelChange",function(o){return z(n),xe(r.permiso.nombre,o)||(r.permiso.nombre=o),W(o)}),l(),U(18,xP,3,2,"div",16),l(),c(19,"div",13)(20,"label",17),h(21,"Descripci\xF3n:"),l(),c(22,"textarea",18,2),ye("ngModelChange",function(o){return z(n),xe(r.permiso.descripcion,o)||(r.permiso.descripcion=o),W(o)}),l(),U(24,CP,2,1,"div",16),l(),c(25,"div",19)(26,"button",20),Le(27,"i",21),h(28," Actualizar "),l(),c(29,"button",22),J("click",function(){return z(n),W(r.cancelar())}),Le(30,"i",23),h(31," Cancelar "),l()()()()()()()()()()}if(e&2){let n=ue(11),a=ue(17),o=ue(23);v(16),be("ngModel",r.permiso.nombre),v(2),M("ngIf",a.invalid&&(a.dirty||a.touched)||r.submitted&&a.invalid),v(4),be("ngModel",r.permiso.descripcion),v(2),M("ngIf",o.invalid&&(o.dirty||o.touched)||r.submitted&&o.invalid),v(2),M("disabled",!n.form.valid)}},dependencies:[kt,ni,Mt,Tt,ri,si,bi,Ot,oi,ht,Et],styles:[".error-message[_ngcontent-%COMP%]{font-size:.875rem;margin-top:.25rem}"]})};var zo=class i{constructor(t){this.http=t}apiUrl=li.apiUrl;obtenerRoles(){return this.http.get(`${this.apiUrl}/roles`)}obtenerRolPorId(t){return this.http.get(`${this.apiUrl}/roles/${t}`)}crearRol(t){let e=st({},t);return delete e.id,this.http.post(`${this.apiUrl}/roles`,e)}actualizarRol(t,e){return this.http.put(`${this.apiUrl}/roles/${t}`,e)}eliminarRol(t){return this.http.delete(`${this.apiUrl}/roles/${t}`)}static \u0275fac=function(e){return new(e||i)(St(ai))};static \u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"})};var pc=class i{constructor(t){this.http=t}apiUrl=li.apiUrl;obtenerRolPermisos(){return this.http.get(`${this.apiUrl}/rol-permiso`)}obtenerRolPermisoPorId(t){return this.http.get(`${this.apiUrl}/rol-permiso/${t}`)}crearRolPermiso(t){return this.http.post(`${this.apiUrl}/rol-permiso`,t)}actualizarRolPermiso(t,e){return this.http.put(`${this.apiUrl}/rol-permiso/${t}`,e)}eliminarRolPermiso(t){return this.http.delete(`${this.apiUrl}/rol-permiso/${t}`)}static \u0275fac=function(e){return new(e||i)(St(ai))};static \u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"})};function wP(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),h(2),l(),c(3,"td"),h(4),l(),c(5,"td")(6,"button",8),J("click",function(){let n,a=z(e).$implicit,o=ee();return W(o.verPermisosPorRol((n=a.id)!==null&&n!==void 0?n:0))}),h(7,"Ver Permisos"),l()(),c(8,"td")(9,"button",8),J("click",function(){let n,a=z(e).$implicit,o=ee();return W(o.irAEditarRol((n=a.id)!==null&&n!==void 0?n:0))}),h(10,"Editar"),l(),c(11,"button",8),J("click",function(){let n,a=z(e).$implicit,o=ee();return W(o.confirmarEliminarRol((n=a.id)!==null&&n!==void 0?n:0))}),h(12,"Eliminar"),l()()()}if(i&2){let e=t.$implicit;v(2),Ve(e.nombre),v(2),Ve(e.descripcion)}}function SP(i,t){if(i&1){let e=Je();c(0,"div",9)(1,"div",10)(2,"h3"),h(3,"\xBFEst\xE1s seguro de que deseas eliminar este rol?"),l(),c(4,"button",8),J("click",function(){z(e);let n=ee();return W(n.eliminarRolConfirmado())}),h(5,"Confirmar"),l(),c(6,"button",8),J("click",function(){z(e);let n=ee();return W(n.cerrarModalEliminar())}),h(7,"Cancelar"),l()()()}}function EP(i,t){if(i&1&&(c(0,"li"),h(1),l()),i&2){let e=t.$implicit;v(),Ve(e.permiso==null?null:e.permiso.nombre)}}function PP(i,t){if(i&1&&(c(0,"ul"),U(1,EP,2,1,"li",3),l()),i&2){let e=ee(2);v(),M("ngForOf",e.rolPermisos)}}function MP(i,t){i&1&&(c(0,"p"),h(1,"No hay permisos vinculados a este rol."),l())}function TP(i,t){if(i&1){let e=Je();c(0,"div",11)(1,"div",12)(2,"span",13),J("click",function(){z(e);let n=ee();return W(n.cerrarModalPermisos())}),h(3,"\xD7"),l(),c(4,"h3"),h(5,"Permisos vinculados"),l(),U(6,PP,2,1,"ul",14)(7,MP,2,0,"p",14),l()()}if(i&2){let e=ee();v(6),M("ngIf",e.rolPermisos.length>0),v(),M("ngIf",e.rolPermisos.length===0)}}var uh=class i{constructor(t,e,r,n,a){this.rolService=t;this.rolPermisoService=e;this.router=r;this.filterService=n;this.paginationService=a}roles=[];rolesFiltrados=[];rolesPaginados=[];rolPermisos=[];textoBusqueda="";paginaActual=1;elementosPorPagina=5;totalPaginas=0;mostrarModalEliminar=!1;rolAEliminarId=null;mostrarModalPermisos=!1;ngOnInit(){this.obtenerRoles()}obtenerRoles(){this.rolService.obtenerRoles().subscribe(t=>{this.roles=t,this.rolesFiltrados=t,this.calcularPaginacion()})}verPermisosPorRol(t){this.rolPermisoService.obtenerRolPermisos().subscribe(e=>{this.rolPermisos=e.filter(r=>r.rol?.id===t),this.mostrarModalPermisos=!0})}cerrarModalPermisos(){this.mostrarModalPermisos=!1,this.rolPermisos=[]}eliminarRol(t){this.rolService.eliminarRol(t).subscribe(()=>{this.obtenerRoles()})}irACrearRol(){this.router.navigate(["/rol-create"])}irAEditarRol(t){this.router.navigate([`/rol-update/${t}`])}confirmarEliminarRol(t){this.rolAEliminarId=t,this.mostrarModalEliminar=!0}eliminarRolConfirmado(){this.rolAEliminarId!==null&&(this.eliminarRol(this.rolAEliminarId),this.cerrarModalEliminar())}cerrarModalEliminar(){this.mostrarModalEliminar=!1}filtrarRoles(){this.rolesFiltrados=this.filterService.filtrar(this.roles,this.textoBusqueda),this.paginaActual=1,this.calcularPaginacion()}calcularPaginacion(){let t=this.paginationService.paginate(this.rolesFiltrados,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.rolesPaginados=t.paginatedData}cambiarPagina(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarRolesPaginados()}actualizarRolesPaginados(){let t=this.paginationService.paginate(this.rolesFiltrados,this.paginaActual,this.elementosPorPagina);this.rolesPaginados=t.paginatedData}static \u0275fac=function(e){return new(e||i)(ae(zo),ae(pc),ae(vt),ae(zi),ae(Yi))};static \u0275cmp=ot({type:i,selectors:[["app-rol"]],standalone:!0,features:[ut],decls:28,vars:7,consts:[["type","text","placeholder","Buscar...",3,"ngModelChange","input","ngModel"],[2,"float","right","margin-bottom","10px",3,"click"],["border","1","cellspacing","0","cellpadding","5",2,"width","100%","margin-top","20px"],[4,"ngFor","ngForOf"],[2,"margin-top","20px"],[3,"click","disabled"],["class","modal-eliminar",4,"ngIf"],["class","modal",4,"ngIf"],[3,"click"],[1,"modal-eliminar"],[1,"modal-content-eliminar"],[1,"modal"],[1,"modal-content"],[1,"close",3,"click"],[4,"ngIf"]],template:function(e,r){e&1&&(c(0,"div")(1,"h2"),h(2,"Roles"),l(),c(3,"input",0),ye("ngModelChange",function(a){return xe(r.textoBusqueda,a)||(r.textoBusqueda=a),a}),J("input",function(){return r.filtrarRoles()}),l(),c(4,"button",1),J("click",function(){return r.irACrearRol()}),h(5,"Registrar"),l(),c(6,"table",2)(7,"thead")(8,"tr")(9,"th"),h(10,"Nombre"),l(),c(11,"th"),h(12,"Descripci\xF3n"),l(),c(13,"th"),h(14,"Permisos Vinculados"),l(),c(15,"th"),h(16,"Acciones"),l()()(),c(17,"tbody"),U(18,wP,13,2,"tr",3),l()(),c(19,"div",4)(20,"button",5),J("click",function(){return r.cambiarPagina("previous")}),h(21,"Anterior"),l(),c(22,"span"),h(23),l(),c(24,"button",5),J("click",function(){return r.cambiarPagina("next")}),h(25,"Siguiente"),l()()(),U(26,SP,8,0,"div",6)(27,TP,8,2,"div",7)),e&2&&(v(3),be("ngModel",r.textoBusqueda),v(15),M("ngForOf",r.rolesPaginados),v(2),M("disabled",r.paginaActual===1),v(3),tt(" P\xE1gina ",r.paginaActual," "),v(),M("disabled",r.paginaActual===r.totalPaginas),v(2),M("ngIf",r.mostrarModalEliminar),v(),M("ngIf",r.mostrarModalPermisos))},dependencies:[ht,zt,Et,Ui,kt,Mt,Tt,Ot],styles:['@charset "UTF-8";table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:10px;text-align:left;border:1px solid #ddd}button[_ngcontent-%COMP%]{margin-right:5px;padding:5px 10px;cursor:pointer}button[_ngcontent-%COMP%]:focus{outline:none}.modal[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:25px;border-radius:8px;width:400px;text-align:left;box-shadow:0 4px 10px #0003;position:relative}.close[_ngcontent-%COMP%]{position:absolute;top:10px;right:15px;font-size:30px;cursor:pointer;border:none;background:none;font-weight:700;color:#666}.close[_ngcontent-%COMP%]:hover{color:#000}ol[_ngcontent-%COMP%]{padding-left:20px;margin:10px 0;color:#444}li[_ngcontent-%COMP%]{padding:5px 0;border-bottom:1px solid #eee}li[_ngcontent-%COMP%]:last-child{border-bottom:none}p[_ngcontent-%COMP%]{color:#888;font-style:italic}.modal-eliminar[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080}.modal-content-eliminar[_ngcontent-%COMP%]{background:#fff;padding:25px;border-radius:8px;width:400px;text-align:center;box-shadow:0 4px 10px #0003;position:relative}h3[_ngcontent-%COMP%]{margin-top:0;font-size:20px;color:#333}button[_ngcontent-%COMP%]{margin:5px}button[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}button[style][_ngcontent-%COMP%]{margin-top:20px}']})};function kP(i,t){i&1&&(c(0,"small"),h(1,"El nombre es obligatorio."),l())}function AP(i,t){i&1&&(c(0,"small"),h(1,"Debe tener al menos 2 caracteres."),l())}function OP(i,t){if(i&1&&(c(0,"div",20),U(1,kP,2,0,"small",21)(2,AP,2,0,"small",21),l()),i&2){ee();let e=ue(9);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function IP(i,t){i&1&&(c(0,"small"),h(1,"La descripci\xF3n es obligatoria."),l())}function FP(i,t){i&1&&(c(0,"small"),h(1,"Debe tener al menos 5 caracteres."),l())}function NP(i,t){if(i&1&&(c(0,"div",20),U(1,IP,2,0,"small",21)(2,FP,2,0,"small",21),l()),i&2){ee();let e=ue(15);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function LP(i,t){if(i&1&&(c(0,"option",22),h(1),l()),i&2){let e=t.$implicit;M("ngValue",e),v(),tt(" ",e.nombre," ")}}function DP(i,t){if(i&1){let e=Je();c(0,"li"),h(1),c(2,"button",23),J("click",function(){let n=z(e).$implicit,a=ee();return W(a.removePermisoFromSelected(n))}),h(3,"Eliminar"),l()()}if(i&2){let e=t.$implicit;v(),tt(" ",e.nombre," ")}}var fh=class i{constructor(t,e,r,n){this.rolService=t;this.permisoService=e;this.rolPermisoService=r;this.router=n}rol={nombre:"",descripcion:""};permisos=[];selectedPermisos=[];permisoSeleccionado=null;ngOnInit(){this.cargarPermisos()}cargarPermisos(){this.permisoService.obtenerPermisos().subscribe(t=>{this.permisos=t})}addPermisoToSelected(t){t&&(this.selectedPermisos.push(t),this.permisos=this.permisos.filter(e=>e.id!==t.id)),this.permisoSeleccionado=null}removePermisoFromSelected(t){this.selectedPermisos=this.selectedPermisos.filter(e=>e.id!==t.id),this.permisos.push(t)}crearRol(){this.rolService.crearRol(this.rol).subscribe(t=>{this.selectedPermisos.forEach(e=>{let r={rol:{id:t.id},permiso:{id:e.id}};this.rolPermisoService.crearRolPermiso(r).subscribe()}),this.router.navigate(["/rol"])})}cancelar(){this.router.navigate(["/rol"])}static \u0275fac=function(e){return new(e||i)(ae(zo),ae(qo),ae(pc),ae(vt))};static \u0275cmp=ot({type:i,selectors:[["app-rol-create"]],standalone:!0,features:[ut],decls:35,vars:8,consts:[["rolForm","ngForm"],["nombre","ngModel"],["descripcion","ngModel"],[1,"form-container"],[3,"ngSubmit"],[1,"form-group"],["for","nombre"],["id","nombre","name","nombre","placeholder","Nombre del rol","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","descripcion"],["id","descripcion","name","descripcion","placeholder","Descripci\xF3n del rol","required","","minlength","5",1,"form-control",3,"ngModelChange","ngModel"],["for","permisos"],["id","permisos","name","permisos",1,"form-control",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"add-button-container"],["type","button",1,"add-btn",3,"click"],[4,"ngFor","ngForOf"],[1,"button-container"],["type","submit",1,"submit-btn",3,"disabled"],["type","button",1,"cancel-btn",3,"click"],[1,"error-message"],[4,"ngIf"],[3,"ngValue"],["type","button",3,"click"]],template:function(e,r){if(e&1){let n=Je();c(0,"div",3)(1,"h2"),h(2,"Crear Rol"),l(),c(3,"form",4,0),J("ngSubmit",function(){return z(n),W(r.crearRol())}),c(5,"div",5)(6,"label",6),h(7,"Nombre:"),l(),c(8,"input",7,1),ye("ngModelChange",function(o){return z(n),xe(r.rol.nombre,o)||(r.rol.nombre=o),W(o)}),l(),U(10,OP,3,2,"div",8),l(),c(11,"div",5)(12,"label",9),h(13,"Descripci\xF3n:"),l(),c(14,"input",10,2),ye("ngModelChange",function(o){return z(n),xe(r.rol.descripcion,o)||(r.rol.descripcion=o),W(o)}),l(),U(16,NP,3,2,"div",8),l(),c(17,"div",5)(18,"label",11),h(19,"Permisos:"),l(),c(20,"select",12),ye("ngModelChange",function(o){return z(n),xe(r.permisoSeleccionado,o)||(r.permisoSeleccionado=o),W(o)}),U(21,LP,2,2,"option",13),l(),c(22,"div",14)(23,"button",15),J("click",function(){return z(n),W(r.addPermisoToSelected(r.permisoSeleccionado))}),h(24," A\xF1adir Permiso "),l()()(),c(25,"div",5)(26,"label"),h(27,"Permisos seleccionados:"),l(),c(28,"ul"),U(29,DP,4,1,"li",16),l()(),c(30,"div",17)(31,"button",18),h(32,"Crear Rol"),l(),c(33,"button",19),J("click",function(){return z(n),W(r.cancelar())}),h(34,"Cancelar"),l()()()()}if(e&2){let n=ue(4),a=ue(9),o=ue(15);v(8),be("ngModel",r.rol.nombre),v(2),M("ngIf",a.invalid&&(a.dirty||a.touched)),v(4),be("ngModel",r.rol.descripcion),v(2),M("ngIf",o.invalid&&(o.dirty||o.touched)),v(4),be("ngModel",r.permisoSeleccionado),v(),M("ngForOf",r.permisos),v(8),M("ngForOf",r.selectedPermisos),v(2),M("disabled",n.invalid)}},dependencies:[kt,ni,ji,qi,Mt,Ri,Tt,ri,si,bi,Ot,oi,ht,zt,Et],styles:[".form-container[_ngcontent-%COMP%]{max-width:500px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px;position:relative}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:14px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.error-message[_ngcontent-%COMP%]{color:red;font-size:14px;margin-top:5px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%], .add-btn[_ngcontent-%COMP%]{width:48%;padding:10px;font-size:16px;border-radius:4px;cursor:pointer;border:none}.submit-btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6;cursor:not-allowed}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#218838}.cancel-btn[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#c82333}.add-btn[_ngcontent-%COMP%]{width:auto;min-width:120px;background-color:#007bff;color:#fff;padding:8px 12px;font-size:14px;border-radius:4px;cursor:pointer;border:none}.add-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.add-button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:5px}ul[_ngcontent-%COMP%]{list-style:none;padding:0}li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;padding:8px;background-color:#f0f0f0;border-radius:4px}li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fd7e14;color:#fff;padding:5px 10px;border-radius:4px;border:none;cursor:pointer}li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#e96a0c}"]})};function RP(i,t){i&1&&(c(0,"small"),h(1,"El nombre es obligatorio."),l())}function BP(i,t){i&1&&(c(0,"small"),h(1,"Debe tener al menos 2 caracteres."),l())}function UP(i,t){if(i&1&&(c(0,"div",20),U(1,RP,2,0,"small",21)(2,BP,2,0,"small",21),l()),i&2){ee();let e=ue(9);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function VP(i,t){i&1&&(c(0,"small"),h(1,"La descripci\xF3n es obligatoria."),l())}function jP(i,t){i&1&&(c(0,"small"),h(1,"Debe tener al menos 5 caracteres."),l())}function qP(i,t){if(i&1&&(c(0,"div",20),U(1,VP,2,0,"small",21)(2,jP,2,0,"small",21),l()),i&2){ee();let e=ue(15);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function zP(i,t){if(i&1&&(c(0,"option",22),h(1),l()),i&2){let e=t.$implicit;M("ngValue",e),v(),tt(" ",e.nombre," ")}}function WP(i,t){if(i&1){let e=Je();c(0,"li"),h(1),c(2,"button",23),J("click",function(){let n=z(e).$implicit,a=ee();return W(a.removePermisoFromSelected(n))}),h(3,"Eliminar"),l()()}if(i&2){let e=t.$implicit;v(),tt(" ",e.nombre," ")}}var ph=class i{constructor(t,e,r,n,a){this.rolService=t;this.permisoService=e;this.rolPermisoService=r;this.route=n;this.router=a}rol={id:0,nombre:"",descripcion:""};permisos=[];selectedPermisos=[];permisoSeleccionado=null;ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("id"));t&&this.rolService.obtenerRolPorId(t).subscribe(e=>{this.rol=e,this.rolPermisoService.obtenerRolPermisos().subscribe(r=>{let n=r.filter(a=>a.rol?.id===this.rol.id);this.selectedPermisos=n.map(a=>a.permiso).filter(a=>a!==void 0),this.permisos=this.permisos.filter(a=>!this.selectedPermisos.some(o=>o.id===a.id))})}),this.cargarPermisos()}cargarPermisos(){this.permisoService.obtenerPermisos().subscribe(t=>{this.permisos=t})}addPermisoToSelected(t){t&&(this.selectedPermisos.push(t),this.permisos=this.permisos.filter(e=>e.id!==t.id)),this.permisoSeleccionado=null}removePermisoFromSelected(t){this.selectedPermisos=this.selectedPermisos.filter(e=>e.id!==t.id),this.permisos.push(t)}actualizarRol(){this.rol.id&&this.rolService.actualizarRol(this.rol.id,this.rol).subscribe(t=>{this.rolPermisoService.obtenerRolPermisos().subscribe(e=>{let r=e.filter(a=>a.rol?.id===t.id).map(a=>a.permiso?.id);e.filter(a=>a.rol?.id===t.id&&!this.selectedPermisos.some(o=>o.id===a.permiso?.id)).forEach(a=>{a.id!==void 0&&this.rolPermisoService.eliminarRolPermiso(a.id).subscribe()}),this.selectedPermisos.forEach(a=>{if(!r.includes(a.id)){let o={rol:{id:t.id},permiso:{id:a.id}};this.rolPermisoService.crearRolPermiso(o).subscribe()}}),this.router.navigate(["/rol"])})})}cancelar(){this.router.navigate(["/rol"])}static \u0275fac=function(e){return new(e||i)(ae(zo),ae(qo),ae(pc),ae(Vi),ae(vt))};static \u0275cmp=ot({type:i,selectors:[["app-rol-update"]],standalone:!0,features:[ut],decls:35,vars:8,consts:[["rolForm","ngForm"],["nombre","ngModel"],["descripcion","ngModel"],[1,"form-container"],[3,"ngSubmit"],[1,"form-group"],["for","nombre"],["id","nombre","name","nombre","placeholder","Nombre del rol","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","descripcion"],["id","descripcion","name","descripcion","placeholder","Descripci\xF3n del rol","required","","minlength","5",1,"form-control",3,"ngModelChange","ngModel"],["for","permisos"],["id","permisos","name","permisos",1,"form-control",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"add-button-container"],["type","button",1,"add-btn",3,"click"],[4,"ngFor","ngForOf"],[1,"button-container"],["type","submit",1,"submit-btn",3,"disabled"],["type","button",1,"cancel-btn",3,"click"],[1,"error-message"],[4,"ngIf"],[3,"ngValue"],["type","button",3,"click"]],template:function(e,r){if(e&1){let n=Je();c(0,"div",3)(1,"h2"),h(2,"Actualizar Rol"),l(),c(3,"form",4,0),J("ngSubmit",function(){return z(n),W(r.actualizarRol())}),c(5,"div",5)(6,"label",6),h(7,"Nombre:"),l(),c(8,"input",7,1),ye("ngModelChange",function(o){return z(n),xe(r.rol.nombre,o)||(r.rol.nombre=o),W(o)}),l(),U(10,UP,3,2,"div",8),l(),c(11,"div",5)(12,"label",9),h(13,"Descripci\xF3n:"),l(),c(14,"input",10,2),ye("ngModelChange",function(o){return z(n),xe(r.rol.descripcion,o)||(r.rol.descripcion=o),W(o)}),l(),U(16,qP,3,2,"div",8),l(),c(17,"div",5)(18,"label",11),h(19,"Permisos:"),l(),c(20,"select",12),ye("ngModelChange",function(o){return z(n),xe(r.permisoSeleccionado,o)||(r.permisoSeleccionado=o),W(o)}),U(21,zP,2,2,"option",13),l(),c(22,"div",14)(23,"button",15),J("click",function(){return z(n),W(r.addPermisoToSelected(r.permisoSeleccionado))}),h(24," A\xF1adir Permiso "),l()()(),c(25,"div",5)(26,"label"),h(27,"Permisos seleccionados:"),l(),c(28,"ul"),U(29,WP,4,1,"li",16),l()(),c(30,"div",17)(31,"button",18),h(32,"Actualizar"),l(),c(33,"button",19),J("click",function(){return z(n),W(r.cancelar())}),h(34,"Cancelar"),l()()()()}if(e&2){let n=ue(4),a=ue(9),o=ue(15);v(8),be("ngModel",r.rol.nombre),v(2),M("ngIf",a.invalid&&(a.dirty||a.touched)),v(4),be("ngModel",r.rol.descripcion),v(2),M("ngIf",o.invalid&&(o.dirty||o.touched)),v(4),be("ngModel",r.permisoSeleccionado),v(),M("ngForOf",r.permisos),v(8),M("ngForOf",r.selectedPermisos),v(2),M("disabled",n.invalid)}},dependencies:[kt,ni,ji,qi,Mt,Ri,Tt,ri,si,bi,Ot,oi,ht,zt,Et],styles:[".form-container[_ngcontent-%COMP%]{max-width:500px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px;position:relative}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:14px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.error-message[_ngcontent-%COMP%]{color:red;font-size:14px;margin-top:5px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%], .add-btn[_ngcontent-%COMP%]{width:48%;padding:10px;font-size:16px;border-radius:4px;cursor:pointer;border:none}.submit-btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6;cursor:not-allowed}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#218838}.cancel-btn[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#c82333}.add-btn[_ngcontent-%COMP%]{width:auto;min-width:120px;background-color:#007bff;color:#fff;padding:8px 12px;font-size:14px;border-radius:4px;cursor:pointer;border:none}.add-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.add-button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:5px}ul[_ngcontent-%COMP%]{list-style:none;padding:0}li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;padding:8px;background-color:#f0f0f0;border-radius:4px}li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fd7e14;color:#fff;padding:5px 10px;border-radius:4px;border:none;cursor:pointer}li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#e96a0c}"]})};var Ka=class i{constructor(t){this.http=t}apiUrl=li.apiUrl;obtenerUsuarios(){return this.http.get(`${this.apiUrl}/usuarios`)}obtenerUsuarioPorId(t){return this.http.get(`${this.apiUrl}/usuarios/${t}`)}crearUsuario(t){let e=st({},t);return delete e.id,this.http.post(`${this.apiUrl}/usuarios`,e)}actualizarUsuario(t,e){return this.http.put(`${this.apiUrl}/usuarios/${t}`,e)}eliminarUsuario(t){return this.http.delete(`${this.apiUrl}/usuarios/${t}`)}getUsuariosPorRol(t){return this.http.get(`${this.apiUrl}/usuarios/por-rol/${t}`)}static \u0275fac=function(e){return new(e||i)(St(ai))};static \u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"})};function HP(i,t){if(i&1){let e=Je();c(0,"div",9)(1,"div",10)(2,"h3"),Le(3,"i",11),h(4," Confirmaci\xF3n"),l(),c(5,"p",12),h(6,"\xBFEst\xE1s seguro de eliminar este usuario?"),l(),c(7,"div",13)(8,"button",14),J("click",function(){z(e);let n=ee();return W(n.eliminarUsuarioConfirmado())}),Le(9,"i",15),h(10," Confirmar "),l(),c(11,"button",16),J("click",function(){z(e);let n=ee();return W(n.cerrarModal())}),Le(12,"i",17),h(13," Cancelar "),l()()()()}}function GP(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),h(2),l(),c(3,"td"),h(4),l(),c(5,"td"),h(6),l(),c(7,"td"),h(8),l(),c(9,"td"),h(10),l(),c(11,"td"),h(12),ei(13,"date"),l(),c(14,"td"),h(15),l(),c(16,"td"),h(17),l(),c(18,"td"),h(19),l(),c(20,"td")(21,"button",18),J("click",function(){let n,a=z(e).$implicit,o=ee();return W(o.irAEditarUsuario((n=a.id)!==null&&n!==void 0?n:0))}),Le(22,"i",19),h(23," Editar "),l(),c(24,"button",20),J("click",function(){let n,a=z(e).$implicit,o=ee();return W(o.confirmarEliminarUsuario((n=a.id)!==null&&n!==void 0?n:0))}),Le(25,"i",21),h(26," Eliminar "),l()()()}if(i&2){let e=t.$implicit;v(2),Ve(e.nombre),v(2),Ve(e.apellido),v(2),Ve(e.correo),v(2),Ve(e.telefono),v(2),Ve(e.direccion),v(2),Ve(tc(13,9,e.fechaNacimiento,"dd/MM/yyyy")),v(3),Ve(e.genero),v(2),Ve(e.numeroIdentificacion),v(2),Ve(e.rol.nombre)}}var hh=class i{constructor(t,e,r,n){this.usuarioService=t;this.router=e;this.filterService=r;this.paginationService=n}usuarios=[];usuariosFiltrados=[];usuariosPaginados=[];textoBusqueda="";paginaActual=1;elementosPorPagina=5;totalPaginas=0;mostrarModal=!1;usuarioAEliminarId=null;ngOnInit(){this.obtenerUsuarios()}obtenerUsuarios(){this.usuarioService.obtenerUsuarios().subscribe(t=>{this.usuarios=t,this.usuariosFiltrados=t,this.calcularPaginacion()})}eliminarUsuario(t){this.usuarioService.eliminarUsuario(t).subscribe(()=>{this.obtenerUsuarios()})}irACrearUsuario(){this.router.navigate(["/usuario-create"])}irAEditarUsuario(t){this.router.navigate([`/usuario-update/${t}`])}confirmarEliminarUsuario(t){this.usuarioAEliminarId=t,this.mostrarModal=!0}eliminarUsuarioConfirmado(){this.usuarioAEliminarId!==null&&(this.eliminarUsuario(this.usuarioAEliminarId),this.cerrarModal())}cerrarModal(){this.mostrarModal=!1,this.usuarioAEliminarId=null}filtrarUsuarios(){this.usuariosFiltrados=this.filterService.filtrar(this.usuarios,this.textoBusqueda),this.paginaActual=1,this.calcularPaginacion()}calcularPaginacion(){let t=this.paginationService.paginate(this.usuariosFiltrados,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.usuariosPaginados=t.paginatedData}cambiarPagina(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarUsuariosPaginados()}actualizarUsuariosPaginados(){let t=this.paginationService.paginate(this.usuariosFiltrados,this.paginaActual,this.elementosPorPagina);this.usuariosPaginados=t.paginatedData}static \u0275fac=function(e){return new(e||i)(ae(Ka),ae(vt),ae(zi),ae(Yi))};static \u0275cmp=ot({type:i,selectors:[["app-usuario"]],standalone:!0,features:[ut],decls:41,vars:7,consts:[["class","modal",4,"ngIf"],[1,"encabezado"],[1,"acciones"],["type","text","placeholder","Buscar usuario por cualquier campo...",3,"ngModelChange","input","ngModel"],[1,"btn-crear",3,"click"],[1,"fa","fa-plus"],[4,"ngFor","ngForOf"],[1,"paginacion"],[3,"click","disabled"],[1,"modal"],[1,"modal-content","animate"],[1,"fa","fa-exclamation-triangle","text-warning"],[1,"modal-message"],[1,"modal-buttons"],[1,"btn-confirmar",3,"click"],[1,"fa","fa-check"],[1,"btn-cancelar",3,"click"],[1,"fa","fa-times"],[1,"btn-editar",3,"click"],[1,"fa","fa-edit"],[1,"btn-eliminar",3,"click"],[1,"fa","fa-trash"]],template:function(e,r){e&1&&(U(0,HP,14,0,"div",0),c(1,"section",1)(2,"h2"),h(3,"Gesti\xF3n de Usuarios"),l(),c(4,"div",2)(5,"input",3),ye("ngModelChange",function(a){return xe(r.textoBusqueda,a)||(r.textoBusqueda=a),a}),J("input",function(){return r.filtrarUsuarios()}),l(),c(6,"button",4),J("click",function(){return r.irACrearUsuario()}),Le(7,"i",5),h(8," Registrar "),l()()(),c(9,"table")(10,"thead")(11,"tr")(12,"th"),h(13,"Nombre"),l(),c(14,"th"),h(15,"Apellido"),l(),c(16,"th"),h(17,"Correo"),l(),c(18,"th"),h(19,"Tel\xE9fono"),l(),c(20,"th"),h(21,"Direcci\xF3n"),l(),c(22,"th"),h(23,"Fecha Nac."),l(),c(24,"th"),h(25,"G\xE9nero"),l(),c(26,"th"),h(27,"N\xB0 Identificaci\xF3n"),l(),c(28,"th"),h(29,"Rol"),l(),c(30,"th"),h(31,"Acciones"),l()()(),c(32,"tbody"),U(33,GP,27,12,"tr",6),l()(),c(34,"div",7)(35,"button",8),J("click",function(){return r.cambiarPagina("previous")}),h(36," \u2190 Anterior "),l(),c(37,"span"),h(38),l(),c(39,"button",8),J("click",function(){return r.cambiarPagina("next")}),h(40," Siguiente \u2192 "),l()()),e&2&&(M("ngIf",r.mostrarModal),v(5),be("ngModel",r.textoBusqueda),v(28),M("ngForOf",r.usuariosPaginados),v(2),M("disabled",r.paginaActual===1),v(3),Di("P\xE1gina ",r.paginaActual," de ",r.totalPaginas,""),v(),M("disabled",r.paginaActual===r.totalPaginas))},dependencies:[ht,zt,Et,oa,Ui,kt,Mt,Tt,Ot],styles:['@charset "UTF-8";table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px;border-radius:12px;overflow:hidden;box-shadow:0 10px 25px #0000000d}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:14px 20px;text-align:left;border-bottom:1px solid #ececec}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:linear-gradient(to right,#f3f4f6,#fff);font-weight:600;color:#333}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f1f9ff;transition:.3s ease}button[_ngcontent-%COMP%]{cursor:pointer;border:none;border-radius:8px;padding:8px 14px;font-size:14px;transition:all .3s ease;margin-right:6px;display:inline-flex;align-items:center;gap:6px}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:15px}.btn-crear[_ngcontent-%COMP%]{float:right;background:linear-gradient(to right,#4caf50,#45a049);color:#fff;margin-bottom:20px;box-shadow:0 4px 8px #00000026}.btn-crear[_ngcontent-%COMP%]:hover{background:#3e8e41}.btn-editar[_ngcontent-%COMP%]{background-color:#2196f3;color:#fff}.btn-editar[_ngcontent-%COMP%]:hover{background-color:#0a84d1}.btn-eliminar[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.btn-eliminar[_ngcontent-%COMP%]:hover{background-color:#d32f2f}.modal[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;inset:0;background-color:#00000073;z-index:1000}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:12px;width:100%;max-width:400px;text-align:center;box-shadow:0 12px 24px #0003;animation:_ngcontent-%COMP%_fadeZoom .25s ease-out}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:18px;font-size:20px;font-weight:600;color:#2c3e50}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px;margin-top:20px}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-buttons[_ngcontent-%COMP%]   .btn-confirmar[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;padding:10px 20px;border-radius:6px}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-buttons[_ngcontent-%COMP%]   .btn-confirmar[_ngcontent-%COMP%]:hover{background-color:#218838}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-buttons[_ngcontent-%COMP%]   .btn-cancelar[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;padding:10px 20px;border-radius:6px}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-buttons[_ngcontent-%COMP%]   .btn-cancelar[_ngcontent-%COMP%]:hover{background-color:#c82333}@keyframes _ngcontent-%COMP%_fadeZoom{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.paginacion[_ngcontent-%COMP%]{margin-top:25px;display:flex;justify-content:center;align-items:center;gap:16px}.paginacion[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 18px;background-color:#f0f0f0}.paginacion[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#dedede}.paginacion[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.paginacion[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;color:#666}input[_ngcontent-%COMP%]{padding:10px 12px;width:100%;max-width:340px;border:1px solid #ccc;border-radius:6px;margin-bottom:15px;background:#fff}input[_ngcontent-%COMP%]:focus{outline:none;border-color:#2196f3;box-shadow:0 0 0 2px #2196f340}@media (max-width: 768px){table[_ngcontent-%COMP%]{font-size:13px}button[_ngcontent-%COMP%]{padding:6px 10px;font-size:13px}input[_ngcontent-%COMP%]{width:100%}.btn-crear[_ngcontent-%COMP%]{float:none;display:block;width:100%;margin-bottom:20px}}']})};function $P(i,t){i&1&&(c(0,"small"),h(1,"El campo es obligatorio."),l())}function ZP(i,t){i&1&&(c(0,"small"),h(1,"Debe tener al menos 2 caracteres."),l())}function XP(i,t){if(i&1&&(c(0,"div",42),U(1,$P,2,0,"small",43)(2,ZP,2,0,"small",43),l()),i&2){ee();let e=ue(9);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function YP(i,t){i&1&&(c(0,"small"),h(1,"El campo es obligatorio."),l())}function KP(i,t){i&1&&(c(0,"small"),h(1,"Debe tener al menos 2 caracteres."),l())}function JP(i,t){if(i&1&&(c(0,"div",42),U(1,YP,2,0,"small",43)(2,KP,2,0,"small",43),l()),i&2){ee();let e=ue(15);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function QP(i,t){i&1&&(c(0,"small"),h(1,"El campo es obligatorio."),l())}function eM(i,t){i&1&&(c(0,"small"),h(1,"Debe ser un correo valido."),l())}function tM(i,t){if(i&1&&(c(0,"div",42),U(1,QP,2,0,"small",43)(2,eM,2,0,"small",43),l()),i&2){ee();let e=ue(21);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.email)}}function iM(i,t){i&1&&(c(0,"small"),h(1,"El campo es obligatorio."),l())}function rM(i,t){i&1&&(c(0,"small"),h(1,"Debe tener al menos 2 caracteres."),l())}function nM(i,t){if(i&1&&(c(0,"div",42),U(1,iM,2,0,"small",43)(2,rM,2,0,"small",43),l()),i&2){ee();let e=ue(27);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function aM(i,t){i&1&&(c(0,"small"),h(1,"El campo es obligatorio."),l())}function oM(i,t){i&1&&(c(0,"small"),h(1,"Debe tener al menos 2 caracteres."),l())}function sM(i,t){if(i&1&&(c(0,"div",42),U(1,aM,2,0,"small",43)(2,oM,2,0,"small",43),l()),i&2){ee();let e=ue(33);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function lM(i,t){i&1&&(c(0,"small"),h(1,"El campo es obligatorio."),l())}function cM(i,t){i&1&&(c(0,"small"),h(1,"Debe tener al menos 2 caracteres."),l())}function dM(i,t){if(i&1&&(c(0,"div",42),U(1,lM,2,0,"small",43)(2,cM,2,0,"small",43),l()),i&2){ee();let e=ue(39);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function uM(i,t){i&1&&(c(0,"small"),h(1,"El campo es obligatorio."),l())}function fM(i,t){if(i&1&&(c(0,"div",42),U(1,uM,2,0,"small",43),l()),i&2){ee();let e=ue(45);v(),M("ngIf",e.errors==null?null:e.errors.required)}}function pM(i,t){i&1&&(c(0,"small"),h(1,"Debe seleccionar un genero."),l())}function hM(i,t){if(i&1&&(c(0,"div",42),U(1,pM,2,0,"small",43),l()),i&2){ee();let e=ue(51);v(),M("ngIf",e.errors==null?null:e.errors.required)}}function mM(i,t){i&1&&(c(0,"small"),h(1,"El campo es obligatorio."),l())}function gM(i,t){i&1&&(c(0,"small"),h(1,"Debe tener al menos 2 caracteres."),l())}function vM(i,t){if(i&1&&(c(0,"div",42),U(1,mM,2,0,"small",43)(2,gM,2,0,"small",43),l()),i&2){ee();let e=ue(51);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function _M(i,t){i&1&&(c(0,"small"),h(1,"El campo es obligatorio."),l())}function bM(i,t){i&1&&(c(0,"small"),h(1,"Debe tener al menos 2 caracteres."),l())}function xM(i,t){if(i&1&&(c(0,"div",42),U(1,_M,2,0,"small",43)(2,bM,2,0,"small",43),l()),i&2){ee();let e=ue(64);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function yM(i,t){if(i&1&&(c(0,"option",44),h(1),l()),i&2){let e=t.$implicit;M("value",e.id),v(),tt(" ",e.nombre," ")}}function CM(i,t){i&1&&(c(0,"div",42)(1,"small"),h(2,"Debe seleccionar un rol."),l()())}var mh=class i{constructor(t,e,r){this.usuarioService=t;this.rolService=e;this.router=r}usuario={nombre:"",apellido:"",correo:"",contrasena:"",telefono:"",direccion:"",fechaNacimiento:"",genero:"",numeroIdentificacion:"",rol:{id:0,nombre:"",descripcion:""}};roles=[];ngOnInit(){this.cargarRoles()}cargarRoles(){this.rolService.obtenerRoles().subscribe(t=>{this.roles=t})}crearUsuario(){this.usuarioService.crearUsuario(this.usuario).subscribe(()=>{this.router.navigate(["/usuario"])})}cancelar(){this.router.navigate(["/usuario"])}static \u0275fac=function(e){return new(e||i)(ae(Ka),ae(zo),ae(vt))};static \u0275cmp=ot({type:i,selectors:[["app-usuario-create"]],standalone:!0,features:[ut],decls:79,vars:24,consts:[["usuarioForm","ngForm"],["nombre","ngModel"],["apellido","ngModel"],["correo","ngModel"],["contrasena","ngModel"],["telefono","ngModel"],["direccion","ngModel"],["fechaNacimiento","ngModel"],["genero","ngModel"],["numeroIdentificacion","ngModel"],[1,"form-container"],[3,"ngSubmit"],[1,"form-group"],["for","nombre"],["id","nombre","type","text","name","nombre","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","apellido"],["id","apellido","type","text","name","apellido","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["for","correo"],["id","correo","type","email","name","correo","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","contrasena"],["id","contrasena","type","password","name","contrasena","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["for","telefono"],["id","telefono","type","text","name","telefono","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["for","direccion"],["id","direccion","type","text","name","direccion","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["for","fechaNacimiento"],["id","fechaNacimiento","type","date","name","fechaNacimiento","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","genero"],["id","genero","name","genero","required","",1,"form-control",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],["value","Masculino"],["value","Femenino"],["for","numeroIdentificacion"],["id","numeroIdentificacion","type","text","name","numeroIdentificacion","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["for","rol"],["id","rol","name","rol","required","",1,"form-control",3,"ngModelChange","ngModel"],["disabled","","selected","",3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"button-container"],["type","submit",1,"submit-btn",3,"disabled"],["type","button",1,"cancel-btn",3,"click"],[1,"error-message"],[4,"ngIf"],[3,"value"]],template:function(e,r){if(e&1){let n=Je();c(0,"div",10)(1,"h2"),h(2,"Crear Usuario"),l(),c(3,"form",11,0),J("ngSubmit",function(){return z(n),W(r.crearUsuario())}),c(5,"div",12)(6,"label",13),h(7,"Nombre:"),l(),c(8,"input",14,1),ye("ngModelChange",function(o){return z(n),xe(r.usuario.nombre,o)||(r.usuario.nombre=o),W(o)}),l(),U(10,XP,3,2,"div",15),l(),c(11,"div",12)(12,"label",16),h(13,"Apellido:"),l(),c(14,"input",17,2),ye("ngModelChange",function(o){return z(n),xe(r.usuario.apellido,o)||(r.usuario.apellido=o),W(o)}),l(),U(16,JP,3,2,"div",15),l(),c(17,"div",12)(18,"label",18),h(19,"Correo:"),l(),c(20,"input",19,3),ye("ngModelChange",function(o){return z(n),xe(r.usuario.correo,o)||(r.usuario.correo=o),W(o)}),l(),U(22,tM,3,2,"div",15),l(),c(23,"div",12)(24,"label",20),h(25,"Contrase\xF1a:"),l(),c(26,"input",21,4),ye("ngModelChange",function(o){return z(n),xe(r.usuario.contrasena,o)||(r.usuario.contrasena=o),W(o)}),l(),U(28,nM,3,2,"div",15),l(),c(29,"div",12)(30,"label",22),h(31,"Telefono:"),l(),c(32,"input",23,5),ye("ngModelChange",function(o){return z(n),xe(r.usuario.telefono,o)||(r.usuario.telefono=o),W(o)}),l(),U(34,sM,3,2,"div",15),l(),c(35,"div",12)(36,"label",24),h(37,"Direccion:"),l(),c(38,"input",25,6),ye("ngModelChange",function(o){return z(n),xe(r.usuario.direccion,o)||(r.usuario.direccion=o),W(o)}),l(),U(40,dM,3,2,"div",15),l(),c(41,"div",12)(42,"label",26),h(43,"Fecha de nacimiento:"),l(),c(44,"input",27,7),ye("ngModelChange",function(o){return z(n),xe(r.usuario.fechaNacimiento,o)||(r.usuario.fechaNacimiento=o),W(o)}),l(),U(46,fM,2,1,"div",15),l(),c(47,"div",12)(48,"label",28),h(49,"Genero:"),l(),c(50,"select",29,8),ye("ngModelChange",function(o){return z(n),xe(r.usuario.genero,o)||(r.usuario.genero=o),W(o)}),c(52,"option",30),h(53,"Seleccione un genero"),l(),c(54,"option",31),h(55,"Masculino"),l(),c(56,"option",32),h(57,"Femenino"),l()(),U(58,hM,2,1,"div",15)(59,vM,3,2,"div",15),l(),c(60,"div",12)(61,"label",33),h(62,"Numero de Identificacion:"),l(),c(63,"input",34,9),ye("ngModelChange",function(o){return z(n),xe(r.usuario.numeroIdentificacion,o)||(r.usuario.numeroIdentificacion=o),W(o)}),l(),U(65,xM,3,2,"div",15),l(),c(66,"div",12)(67,"label",35),h(68,"Rol:"),l(),c(69,"select",36),ye("ngModelChange",function(o){return z(n),xe(r.usuario.rol.id,o)||(r.usuario.rol.id=o),W(o)}),c(70,"option",37),h(71,"Seleccione un rol"),l(),U(72,yM,2,2,"option",38),l(),U(73,CM,3,0,"div",15),l(),c(74,"div",39)(75,"button",40),h(76,"Crear"),l(),c(77,"button",41),J("click",function(){return z(n),W(r.cancelar())}),h(78,"Cancelar"),l()()()()}if(e&2){let n=ue(4),a=ue(9),o=ue(15),d=ue(21),u=ue(27),p=ue(33),g=ue(39),y=ue(45),w=ue(51),x=ue(64);v(8),be("ngModel",r.usuario.nombre),v(2),M("ngIf",a.invalid&&(a.dirty||a.touched)),v(4),be("ngModel",r.usuario.apellido),v(2),M("ngIf",o.invalid&&(o.dirty||o.touched)),v(4),be("ngModel",r.usuario.correo),v(2),M("ngIf",d.invalid&&(d.dirty||d.touched)),v(4),be("ngModel",r.usuario.contrasena),v(2),M("ngIf",u.invalid&&(u.dirty||u.touched)),v(4),be("ngModel",r.usuario.telefono),v(2),M("ngIf",p.invalid&&(p.dirty||p.touched)),v(4),be("ngModel",r.usuario.direccion),v(2),M("ngIf",g.invalid&&(g.dirty||g.touched)),v(4),be("ngModel",r.usuario.fechaNacimiento),v(2),M("ngIf",y.invalid&&(y.dirty||y.touched)),v(4),be("ngModel",r.usuario.genero),v(8),M("ngIf",w.invalid&&(w.dirty||w.touched)),v(),M("ngIf",w.invalid&&(w.dirty||w.touched)),v(4),be("ngModel",r.usuario.numeroIdentificacion),v(2),M("ngIf",x.invalid&&(x.dirty||x.touched)),v(4),be("ngModel",r.usuario.rol.id),v(),M("value",0),v(2),M("ngForOf",r.roles),v(),M("ngIf",(r.usuario.rol==null?null:r.usuario.rol.id)===0&&n.submitted),v(2),M("disabled",n.invalid)}},dependencies:[kt,ni,ji,qi,Mt,Ri,Tt,ri,si,bi,Ot,oi,ht,zt,Et],styles:[".form-container[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:14px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.error-message[_ngcontent-%COMP%]{color:red;font-size:14px;margin-top:5px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{width:48%;padding:10px;font-size:16px;border-radius:4px;cursor:pointer}.submit-btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;border:none}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6;cursor:not-allowed}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#218838}.cancel-btn[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})};function wM(i,t){i&1&&(c(0,"small"),h(1,"El nombre es obligatorio."),l())}function SM(i,t){i&1&&(c(0,"small"),h(1,"Debe tener al menos 2 caracteres."),l())}function EM(i,t){if(i&1&&(c(0,"div",38),U(1,wM,2,0,"small",39)(2,SM,2,0,"small",39),l()),i&2){ee();let e=ue(9);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function PM(i,t){i&1&&(c(0,"small"),h(1,"El apellido es obligatorio."),l())}function MM(i,t){i&1&&(c(0,"small"),h(1,"Debe tener al menos 2 caracteres."),l())}function TM(i,t){if(i&1&&(c(0,"div",38),U(1,PM,2,0,"small",39)(2,MM,2,0,"small",39),l()),i&2){ee();let e=ue(15);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function kM(i,t){i&1&&(c(0,"small"),h(1,"El correo es obligatorio."),l())}function AM(i,t){i&1&&(c(0,"small"),h(1,"Ingrese un correo v\xE1lido."),l())}function OM(i,t){if(i&1&&(c(0,"div",38),U(1,kM,2,0,"small",39)(2,AM,2,0,"small",39),l()),i&2){ee();let e=ue(22);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.email)}}function IM(i,t){i&1&&(c(0,"small"),h(1,"El tel\xE9fono es obligatorio."),l())}function FM(i,t){i&1&&(c(0,"small"),h(1,"Debe tener al menos 8 caracteres."),l())}function NM(i,t){if(i&1&&(c(0,"div",38),U(1,IM,2,0,"small",39)(2,FM,2,0,"small",39),l()),i&2){ee();let e=ue(28);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function LM(i,t){i&1&&(c(0,"small"),h(1,"La direcci\xF3n es obligatoria."),l())}function DM(i,t){if(i&1&&(c(0,"div",38),U(1,LM,2,0,"small",39),l()),i&2){ee();let e=ue(34);v(),M("ngIf",e.errors==null?null:e.errors.required)}}function RM(i,t){i&1&&(c(0,"small"),h(1,"La fecha de nacimiento es obligatoria."),l())}function BM(i,t){if(i&1&&(c(0,"div",38),U(1,RM,2,0,"small",39),l()),i&2){ee();let e=ue(40);v(),M("ngIf",e.errors==null?null:e.errors.required)}}function UM(i,t){i&1&&(c(0,"small"),h(1,"El n\xFAmero de identificaci\xF3n es obligatorio."),l())}function VM(i,t){if(i&1&&(c(0,"div",38),U(1,UM,2,0,"small",39),l()),i&2){ee();let e=ue(58);v(),M("ngIf",e.errors==null?null:e.errors.required)}}function jM(i,t){if(i&1&&(c(0,"option",40),h(1),l()),i&2){let e=t.$implicit;M("value",e.id),v(),tt(" ",e.nombre," ")}}var tf=class i{constructor(t,e,r,n){this.usuarioService=t;this.rolService=e;this.route=r;this.router=n}usuario={id:0,nombre:"",apellido:"",correo:"",contrasena:"",telefono:"",direccion:"",fechaNacimiento:"",genero:"",numeroIdentificacion:"",rol:{id:0,nombre:"",descripcion:""}};roles=[];ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("id"));t&&this.usuarioService.obtenerUsuarioPorId(t).subscribe(e=>{this.usuario=e}),this.rolService.obtenerRoles().subscribe(e=>{this.roles=e})}actualizarUsuario(){this.usuario.id&&this.usuarioService.actualizarUsuario(this.usuario.id,this.usuario).subscribe(()=>{this.router.navigate(["/usuario"])})}cancelar(){this.router.navigate(["/usuario"])}static \u0275fac=function(e){return new(e||i)(ae(Ka),ae(zo),ae(Vi),ae(vt))};static \u0275cmp=ot({type:i,selectors:[["app-usuario-update"]],standalone:!0,features:[ut],decls:70,vars:18,consts:[["usuarioForm","ngForm"],["nombre","ngModel"],["apellido","ngModel"],["correo","ngModel"],["telefono","ngModel"],["direccion","ngModel"],["fechaNacimiento","ngModel"],["numeroIdentificacion","ngModel"],[1,"form-container"],[3,"ngSubmit"],[1,"form-group"],["for","nombre"],["id","nombre","name","nombre","placeholder","Nombre","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","apellido"],["id","apellido","name","apellido","placeholder","Apellido","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["for","correo"],["id","correo","name","correo","type","email","placeholder","Correo electr\xF3nico","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","telefono"],["id","telefono","name","telefono","placeholder","Tel\xE9fono","required","","minlength","8",1,"form-control",3,"ngModelChange","ngModel"],["for","direccion"],["id","direccion","name","direccion","placeholder","Direcci\xF3n","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","fechaNacimiento"],["id","fechaNacimiento","name","fechaNacimiento","type","date","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","genero"],["id","genero","name","genero","required","",1,"form-control",3,"ngModelChange","ngModel"],["value",""],["value","Masculino"],["value","Femenino"],["value","Otro"],["for","numeroIdentificacion"],["id","numeroIdentificacion","name","numeroIdentificacion","placeholder","N\xFAmero de Identificaci\xF3n","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","rol"],["id","rol","name","rol","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"button-container"],["type","submit",1,"submit-btn",3,"disabled"],["type","button",1,"cancel-btn",3,"click"],[1,"error-message"],[4,"ngIf"],[3,"value"]],template:function(e,r){if(e&1){let n=Je();c(0,"div",8)(1,"h2"),h(2,"Actualizar Usuario"),l(),c(3,"form",9,0),J("ngSubmit",function(){return z(n),W(r.actualizarUsuario())}),c(5,"div",10)(6,"label",11),h(7,"Nombre:"),l(),c(8,"input",12,1),ye("ngModelChange",function(o){return z(n),xe(r.usuario.nombre,o)||(r.usuario.nombre=o),W(o)}),l(),U(10,EM,3,2,"div",13),l(),c(11,"div",10)(12,"label",14),h(13,"Apellido:"),l(),c(14,"input",15,2),ye("ngModelChange",function(o){return z(n),xe(r.usuario.apellido,o)||(r.usuario.apellido=o),W(o)}),l(),U(16,TM,3,2,"div",13),l(),c(17,"div",10)(18,"label",16),h(19,"Correo:"),l(),h(20,"7 "),c(21,"input",17,3),ye("ngModelChange",function(o){return z(n),xe(r.usuario.correo,o)||(r.usuario.correo=o),W(o)}),l(),U(23,OM,3,2,"div",13),l(),c(24,"div",10)(25,"label",18),h(26,"Tel\xE9fono:"),l(),c(27,"input",19,4),ye("ngModelChange",function(o){return z(n),xe(r.usuario.telefono,o)||(r.usuario.telefono=o),W(o)}),l(),U(29,NM,3,2,"div",13),l(),c(30,"div",10)(31,"label",20),h(32,"Direcci\xF3n:"),l(),c(33,"input",21,5),ye("ngModelChange",function(o){return z(n),xe(r.usuario.direccion,o)||(r.usuario.direccion=o),W(o)}),l(),U(35,DM,2,1,"div",13),l(),c(36,"div",10)(37,"label",22),h(38,"Fecha de Nacimiento:"),l(),c(39,"input",23,6),ye("ngModelChange",function(o){return z(n),xe(r.usuario.fechaNacimiento,o)||(r.usuario.fechaNacimiento=o),W(o)}),l(),U(41,BM,2,1,"div",13),l(),c(42,"div",10)(43,"label",24),h(44,"G\xE9nero:"),l(),c(45,"select",25),ye("ngModelChange",function(o){return z(n),xe(r.usuario.genero,o)||(r.usuario.genero=o),W(o)}),c(46,"option",26),h(47,"Seleccione un g\xE9nero"),l(),c(48,"option",27),h(49,"Masculino"),l(),c(50,"option",28),h(51,"Femenino"),l(),c(52,"option",29),h(53,"Otro"),l()()(),c(54,"div",10)(55,"label",30),h(56,"N\xFAmero de Identificaci\xF3n:"),l(),c(57,"input",31,7),ye("ngModelChange",function(o){return z(n),xe(r.usuario.numeroIdentificacion,o)||(r.usuario.numeroIdentificacion=o),W(o)}),l(),U(59,VM,2,1,"div",13),l(),c(60,"div",10)(61,"label",32),h(62,"Rol:"),l(),c(63,"select",33),ye("ngModelChange",function(o){return z(n),xe(r.usuario.rol.id,o)||(r.usuario.rol.id=o),W(o)}),U(64,jM,2,2,"option",34),l()(),c(65,"div",35)(66,"button",36),h(67,"Actualizar"),l(),c(68,"button",37),J("click",function(){return z(n),W(r.cancelar())}),h(69,"Cancelar"),l()()()()}if(e&2){let n=ue(4),a=ue(9),o=ue(15),d=ue(22),u=ue(28),p=ue(34),g=ue(40),y=ue(58);v(8),be("ngModel",r.usuario.nombre),v(2),M("ngIf",a.invalid&&(a.dirty||a.touched)),v(4),be("ngModel",r.usuario.apellido),v(2),M("ngIf",o.invalid&&(o.dirty||o.touched)),v(5),be("ngModel",r.usuario.correo),v(2),M("ngIf",d.invalid&&(d.dirty||d.touched)),v(4),be("ngModel",r.usuario.telefono),v(2),M("ngIf",u.invalid&&(u.dirty||u.touched)),v(4),be("ngModel",r.usuario.direccion),v(2),M("ngIf",p.invalid&&(p.dirty||p.touched)),v(4),be("ngModel",r.usuario.fechaNacimiento),v(2),M("ngIf",g.invalid&&(g.dirty||g.touched)),v(4),be("ngModel",r.usuario.genero),v(12),be("ngModel",r.usuario.numeroIdentificacion),v(2),M("ngIf",y.invalid&&(y.dirty||y.touched)),v(4),be("ngModel",r.usuario.rol.id),v(),M("ngForOf",r.roles),v(2),M("disabled",n.invalid)}},dependencies:[kt,ni,ji,qi,Mt,Ri,Tt,ri,si,bi,Ot,oi,ht,zt,Et],styles:[".form-container[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:14px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.error-message[_ngcontent-%COMP%]{color:red;font-size:16px;margin-top:5px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{width:48%;padding:10px;font-size:16px;border-radius:4px;cursor:pointer}.submit-btn[_ngcontent-%COMP%]{background-color:#ffc107;color:#fff;border:none}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6;cursor:not-allowed}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#e0a800}.cancel-btn[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})};var la=class i{constructor(t){this.http=t}apiUrl=li.apiUrl;obtenerMateriales(){return this.http.get(`${this.apiUrl}/materiales`)}obtenerMaterialPorId(t){return this.http.get(`${this.apiUrl}/materiales/${t}`)}obtenerMaterialPorCodigo(t){return this.http.get(`${this.apiUrl}/materiales/codigo/${t}`)}crearMaterial(t){let e=st({},t);return delete e.id,this.http.post(`${this.apiUrl}/materiales`,e)}actualizarMaterial(t,e){return this.http.put(`${this.apiUrl}/materiales/${t}`,e)}eliminarMaterial(t){return this.http.delete(`${this.apiUrl}/materiales/${t}`)}static \u0275fac=function(e){return new(e||i)(St(ai))};static \u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"})};function qM(i,t){if(i&1){let e=Je();c(0,"div",9)(1,"div",10)(2,"h3"),Le(3,"i",11),h(4," Confirmaci\xF3n"),l(),c(5,"p",12),h(6,"\xBFEst\xE1s seguro de eliminar este material?"),l(),c(7,"div",13)(8,"button",14),J("click",function(){z(e);let n=ee();return W(n.eliminarMaterialConfirmado())}),Le(9,"i",15),h(10," Confirmar "),l(),c(11,"button",16),J("click",function(){z(e);let n=ee();return W(n.cerrarModal())}),Le(12,"i",17),h(13," Cancelar "),l()()()()}}function zM(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),h(2),l(),c(3,"td"),h(4),l(),c(5,"td"),h(6),l(),c(7,"td"),h(8),ei(9,"currency"),l(),c(10,"td"),h(11),l(),c(12,"td"),h(13),l(),c(14,"td"),h(15),l(),c(16,"td")(17,"button",18),J("click",function(){let n,a=z(e).$implicit,o=ee();return W(o.irAEditarMaterial((n=a.id)!==null&&n!==void 0?n:0))}),Le(18,"i",19),h(19," Editar "),l(),c(20,"button",20),J("click",function(){let n,a=z(e).$implicit,o=ee();return W(o.confirmarEliminarMaterial((n=a.id)!==null&&n!==void 0?n:0))}),Le(21,"i",21),h(22," Eliminar "),l()()()}if(i&2){let e=t.$implicit;v(2),Ve(e.codigoInventario),v(2),Ve(e.nombre),v(2),Ve(e.unidadMedida),v(2),Ve(Jf(9,7,e.precioUnitario,"USD","symbol","1.2-2")),v(3),Ve(e.stockActual),v(2),Ve(e.stockMinimo),v(2),Ve(e.categoria||"N/A")}}var gh=class i{constructor(t,e,r,n){this.materialService=t;this.router=e;this.filterService=r;this.paginationService=n}materiales=[];materialesFiltrados=[];materialesPaginados=[];textoBusqueda="";paginaActual=1;elementosPorPagina=5;totalPaginas=0;mostrarModal=!1;materialAEliminarId=null;ngOnInit(){this.obtenerMateriales()}obtenerMateriales(){this.materialService.obtenerMateriales().subscribe(t=>{this.materiales=t,this.materialesFiltrados=t,this.calcularPaginacion()})}eliminarMaterial(t){this.materialService.eliminarMaterial(t).subscribe(()=>{this.obtenerMateriales()})}irACrearMaterial(){this.router.navigate(["/material-create"])}irAEditarMaterial(t){this.router.navigate([`/material-update/${t}`])}confirmarEliminarMaterial(t){this.materialAEliminarId=t,this.mostrarModal=!0}eliminarMaterialConfirmado(){this.materialAEliminarId!==null&&(this.eliminarMaterial(this.materialAEliminarId),this.cerrarModal())}cerrarModal(){this.mostrarModal=!1,this.materialAEliminarId=null}filtrarMateriales(){this.materialesFiltrados=this.filterService.filtrar(this.materiales,this.textoBusqueda),this.paginaActual=1,this.calcularPaginacion()}calcularPaginacion(){let t=this.paginationService.paginate(this.materialesFiltrados,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.materialesPaginados=t.paginatedData}cambiarPagina(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarMaterialesPaginados()}actualizarMaterialesPaginados(){let t=this.paginationService.paginate(this.materialesFiltrados,this.paginaActual,this.elementosPorPagina);this.materialesPaginados=t.paginatedData}static \u0275fac=function(e){return new(e||i)(ae(la),ae(vt),ae(zi),ae(Yi))};static \u0275cmp=ot({type:i,selectors:[["app-material"]],standalone:!0,features:[ut],decls:37,vars:7,consts:[["class","modal",4,"ngIf"],[1,"encabezado"],[1,"acciones"],["type","text","placeholder","Buscar material por cualquier campo...",3,"ngModelChange","input","ngModel"],[1,"btn-crear",3,"click"],[1,"fa","fa-plus"],[4,"ngFor","ngForOf"],[1,"paginacion"],[3,"click","disabled"],[1,"modal"],[1,"modal-content","animate"],[1,"fa","fa-exclamation-triangle","text-warning"],[1,"modal-message"],[1,"modal-buttons"],[1,"btn-confirmar",3,"click"],[1,"fa","fa-check"],[1,"btn-cancelar",3,"click"],[1,"fa","fa-times"],[1,"btn-editar",3,"click"],[1,"fa","fa-edit"],[1,"btn-eliminar",3,"click"],[1,"fa","fa-trash"]],template:function(e,r){e&1&&(U(0,qM,14,0,"div",0),c(1,"section",1)(2,"h2"),h(3,"Gesti\xF3n de Materiales"),l(),c(4,"div",2)(5,"input",3),ye("ngModelChange",function(a){return xe(r.textoBusqueda,a)||(r.textoBusqueda=a),a}),J("input",function(){return r.filtrarMateriales()}),l(),c(6,"button",4),J("click",function(){return r.irACrearMaterial()}),Le(7,"i",5),h(8," Registrar "),l()()(),c(9,"table")(10,"thead")(11,"tr")(12,"th"),h(13,"C\xF3digo"),l(),c(14,"th"),h(15,"Nombre"),l(),c(16,"th"),h(17,"Unidad"),l(),c(18,"th"),h(19,"Precio Unitario"),l(),c(20,"th"),h(21,"Stock Actual"),l(),c(22,"th"),h(23,"Stock M\xEDnimo"),l(),c(24,"th"),h(25,"Categor\xEDa"),l(),c(26,"th"),h(27,"Acciones"),l()()(),c(28,"tbody"),U(29,zM,23,12,"tr",6),l()(),c(30,"div",7)(31,"button",8),J("click",function(){return r.cambiarPagina("previous")}),h(32," \u2190 Anterior "),l(),c(33,"span"),h(34),l(),c(35,"button",8),J("click",function(){return r.cambiarPagina("next")}),h(36," Siguiente \u2192 "),l()()),e&2&&(M("ngIf",r.mostrarModal),v(5),be("ngModel",r.textoBusqueda),v(24),M("ngForOf",r.materialesPaginados),v(2),M("disabled",r.paginaActual===1),v(3),Di("P\xE1gina ",r.paginaActual," de ",r.totalPaginas,""),v(),M("disabled",r.paginaActual===r.totalPaginas))},dependencies:[ht,zt,Et,Ya,Ui,kt,Mt,Tt,Ot],styles:['@charset "UTF-8";table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px;box-shadow:0 4px 10px #0000000d;border-radius:8px;overflow:hidden}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:14px 18px;text-align:left;border-bottom:1px solid #e0e0e0}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:linear-gradient(to right,#f0f0f0,#f9f9f9);font-weight:600;color:#444}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f4f8fb;transition:background-color .3s}button[_ngcontent-%COMP%]{cursor:pointer;border:none;border-radius:6px;padding:8px 14px;font-size:14px;transition:all .3s ease;margin-right:6px;display:inline-flex;align-items:center;gap:6px}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:15px}.btn-crear[_ngcontent-%COMP%]{float:right;background:linear-gradient(to right,#4caf50,#45a049);color:#fff;margin-bottom:20px}.btn-crear[_ngcontent-%COMP%]:hover{background:#3e8e41}.btn-editar[_ngcontent-%COMP%]{background-color:#2196f3;color:#fff}.btn-editar[_ngcontent-%COMP%]:hover{background-color:#0b7dda}.btn-eliminar[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.btn-eliminar[_ngcontent-%COMP%]:hover{background-color:#c62828}.btn-cancelar[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.btn-cancelar[_ngcontent-%COMP%]:hover{background-color:#c82333}.btn-confirmar[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.btn-confirmar[_ngcontent-%COMP%]:hover{background-color:#218838}.modal[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;inset:0;background-color:#00000073;z-index:1000}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:10px;width:90%;max-width:400px;text-align:center;box-shadow:0 12px 24px #00000026;animation:_ngcontent-%COMP%_fadeZoom .25s ease-out}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;margin-bottom:12px;color:#2c3e50}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-message[_ngcontent-%COMP%]{font-size:15px;color:#555;margin-bottom:20px}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px}@keyframes _ngcontent-%COMP%_fadeZoom{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.paginacion[_ngcontent-%COMP%]{margin-top:25px;display:flex;justify-content:center;align-items:center;gap:16px}.paginacion[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 18px;background-color:#f0f0f0}.paginacion[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#dedede}.paginacion[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.paginacion[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;color:#666}input[_ngcontent-%COMP%]{padding:10px 12px;width:100%;max-width:320px;border:1px solid #ccc;border-radius:6px;margin-bottom:15px}input[_ngcontent-%COMP%]:focus{outline:none;border-color:#2196f3;box-shadow:0 0 0 2px #2196f333}@media (max-width: 768px){table[_ngcontent-%COMP%]{font-size:13px}button[_ngcontent-%COMP%]{padding:6px 10px;font-size:13px}input[_ngcontent-%COMP%]{width:100%}.btn-crear[_ngcontent-%COMP%]{float:none;display:block;width:100%;margin-bottom:20px}.modal-content[_ngcontent-%COMP%]{padding:20px!important}.modal-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:10px!important}.modal-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}']})};function WM(i,t){i&1&&(c(0,"small"),h(1,"Campo obligatorio."),l())}function HM(i,t){i&1&&(c(0,"small"),h(1,"Debe tener al menos 2 caracteres."),l())}function GM(i,t){if(i&1&&(c(0,"div",30),U(1,WM,2,0,"small",31)(2,HM,2,0,"small",31),l()),i&2){ee();let e=ue(9);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function $M(i,t){i&1&&(c(0,"small"),h(1,"Campo obligatorio."),l())}function ZM(i,t){i&1&&(c(0,"small"),h(1,"Debe tener al menos 2 caracteres."),l())}function XM(i,t){if(i&1&&(c(0,"div",30),U(1,$M,2,0,"small",31)(2,ZM,2,0,"small",31),l()),i&2){ee();let e=ue(15);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function YM(i,t){i&1&&(c(0,"small"),h(1,"Campo obligatorio."),l())}function KM(i,t){if(i&1&&(c(0,"div",30),U(1,YM,2,0,"small",31),l()),i&2){ee();let e=ue(25);v(),M("ngIf",e.errors==null?null:e.errors.required)}}function JM(i,t){i&1&&(c(0,"small"),h(1,"Campo obligatorio."),l())}function QM(i,t){if(i&1&&(c(0,"div",30),U(1,JM,2,0,"small",31),l()),i&2){ee();let e=ue(31);v(),M("ngIf",e.errors==null?null:e.errors.required)}}function eT(i,t){i&1&&(c(0,"small"),h(1,"Campo obligatorio."),l())}function tT(i,t){if(i&1&&(c(0,"div",30),U(1,eT,2,0,"small",31),l()),i&2){ee();let e=ue(37);v(),M("ngIf",e.errors==null?null:e.errors.required)}}function iT(i,t){i&1&&(c(0,"small"),h(1,"Campo obligatorio."),l())}function rT(i,t){if(i&1&&(c(0,"div",30),U(1,iT,2,0,"small",31),l()),i&2){ee();let e=ue(43);v(),M("ngIf",e.errors==null?null:e.errors.required)}}var vh=class i{constructor(t,e){this.materialService=t;this.router=e}material={codigoInventario:"",nombre:"",descripcion:"",unidadMedida:"",precioUnitario:0,stockActual:0,stockMinimo:0,categoria:""};ngOnInit(){}crearMaterial(){this.materialService.crearMaterial(this.material).subscribe(()=>{this.router.navigate(["/material"])})}cancelar(){this.router.navigate(["/material"])}static \u0275fac=function(e){return new(e||i)(ae(la),ae(vt))};static \u0275cmp=ot({type:i,selectors:[["app-material-create"]],standalone:!0,features:[ut],decls:54,vars:15,consts:[["materialForm","ngForm"],["codigoInventario","ngModel"],["nombre","ngModel"],["unidadMedida","ngModel"],["precioUnitario","ngModel"],["stockActual","ngModel"],["stockMinimo","ngModel"],[1,"form-container"],[3,"ngSubmit"],[1,"form-group"],["for","codigoInventario"],["id","codigoInventario","type","text","name","codigoInventario","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","nombre"],["id","nombre","type","text","name","nombre","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["for","descripcion"],["id","descripcion","name","descripcion","rows","3",1,"form-control",3,"ngModelChange","ngModel"],["for","unidadMedida"],["id","unidadMedida","type","text","name","unidadMedida","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","precioUnitario"],["id","precioUnitario","type","number","step","0.01","name","precioUnitario","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","stockActual"],["id","stockActual","type","number","name","stockActual","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","stockMinimo"],["id","stockMinimo","type","number","name","stockMinimo","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","categoria"],["id","categoria","type","text","name","categoria",1,"form-control",3,"ngModelChange","ngModel"],[1,"button-container"],["type","submit",1,"submit-btn",3,"disabled"],["type","button",1,"cancel-btn",3,"click"],[1,"error-message"],[4,"ngIf"]],template:function(e,r){if(e&1){let n=Je();c(0,"div",7)(1,"h2"),h(2,"Registrar Material"),l(),c(3,"form",8,0),J("ngSubmit",function(){return z(n),W(r.crearMaterial())}),c(5,"div",9)(6,"label",10),h(7,"C\xF3digo de Inventario:"),l(),c(8,"input",11,1),ye("ngModelChange",function(o){return z(n),xe(r.material.codigoInventario,o)||(r.material.codigoInventario=o),W(o)}),l(),U(10,GM,3,2,"div",12),l(),c(11,"div",9)(12,"label",13),h(13,"Nombre:"),l(),c(14,"input",14,2),ye("ngModelChange",function(o){return z(n),xe(r.material.nombre,o)||(r.material.nombre=o),W(o)}),l(),U(16,XM,3,2,"div",12),l(),c(17,"div",9)(18,"label",15),h(19,"Descripci\xF3n:"),l(),c(20,"textarea",16),ye("ngModelChange",function(o){return z(n),xe(r.material.descripcion,o)||(r.material.descripcion=o),W(o)}),l()(),c(21,"div",9)(22,"label",17),h(23,"Unidad de Medida:"),l(),c(24,"input",18,3),ye("ngModelChange",function(o){return z(n),xe(r.material.unidadMedida,o)||(r.material.unidadMedida=o),W(o)}),l(),U(26,KM,2,1,"div",12),l(),c(27,"div",9)(28,"label",19),h(29,"Precio Unitario:"),l(),c(30,"input",20,4),ye("ngModelChange",function(o){return z(n),xe(r.material.precioUnitario,o)||(r.material.precioUnitario=o),W(o)}),l(),U(32,QM,2,1,"div",12),l(),c(33,"div",9)(34,"label",21),h(35,"Stock Actual:"),l(),c(36,"input",22,5),ye("ngModelChange",function(o){return z(n),xe(r.material.stockActual,o)||(r.material.stockActual=o),W(o)}),l(),U(38,tT,2,1,"div",12),l(),c(39,"div",9)(40,"label",23),h(41,"Stock M\xEDnimo:"),l(),c(42,"input",24,6),ye("ngModelChange",function(o){return z(n),xe(r.material.stockMinimo,o)||(r.material.stockMinimo=o),W(o)}),l(),U(44,rT,2,1,"div",12),l(),c(45,"div",9)(46,"label",25),h(47,"Categor\xEDa:"),l(),c(48,"input",26),ye("ngModelChange",function(o){return z(n),xe(r.material.categoria,o)||(r.material.categoria=o),W(o)}),l()(),c(49,"div",27)(50,"button",28),h(51,"Crear"),l(),c(52,"button",29),J("click",function(){return z(n),W(r.cancelar())}),h(53,"Cancelar"),l()()()()}if(e&2){let n=ue(4),a=ue(9),o=ue(15),d=ue(25),u=ue(31),p=ue(37),g=ue(43);v(8),be("ngModel",r.material.codigoInventario),v(2),M("ngIf",a.invalid&&(a.dirty||a.touched)),v(4),be("ngModel",r.material.nombre),v(2),M("ngIf",o.invalid&&(o.dirty||o.touched)),v(4),be("ngModel",r.material.descripcion),v(4),be("ngModel",r.material.unidadMedida),v(2),M("ngIf",d.invalid&&(d.dirty||d.touched)),v(4),be("ngModel",r.material.precioUnitario),v(2),M("ngIf",u.invalid&&(u.dirty||u.touched)),v(4),be("ngModel",r.material.stockActual),v(2),M("ngIf",p.invalid&&(p.dirty||p.touched)),v(4),be("ngModel",r.material.stockMinimo),v(2),M("ngIf",g.invalid&&(g.dirty||g.touched)),v(4),be("ngModel",r.material.categoria),v(2),M("disabled",n.invalid)}},dependencies:[kt,ni,Mt,Qi,Tt,ri,si,bi,Ot,oi,ht,Et],styles:[".form-container[_ngcontent-%COMP%]{max-width:500px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:14px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.error-message[_ngcontent-%COMP%]{color:red;font-size:14px;margin-top:5px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{width:48%;padding:10px;font-size:16px;border-radius:4px;cursor:pointer}.submit-btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;border:none}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6;cursor:not-allowed}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#218838}.cancel-btn[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})};function nT(i,t){i&1&&(c(0,"small"),h(1,"Campo obligatorio."),l())}function aT(i,t){i&1&&(c(0,"small"),h(1,"Debe tener al menos 2 caracteres."),l())}function oT(i,t){if(i&1&&(c(0,"div",30),U(1,nT,2,0,"small",31)(2,aT,2,0,"small",31),l()),i&2){ee();let e=ue(9);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function sT(i,t){i&1&&(c(0,"small"),h(1,"Campo obligatorio."),l())}function lT(i,t){i&1&&(c(0,"small"),h(1,"Debe tener al menos 2 caracteres."),l())}function cT(i,t){if(i&1&&(c(0,"div",30),U(1,sT,2,0,"small",31)(2,lT,2,0,"small",31),l()),i&2){ee();let e=ue(15);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function dT(i,t){i&1&&(c(0,"small"),h(1,"Campo obligatorio."),l())}function uT(i,t){if(i&1&&(c(0,"div",30),U(1,dT,2,0,"small",31),l()),i&2){ee();let e=ue(25);v(),M("ngIf",e.errors==null?null:e.errors.required)}}function fT(i,t){i&1&&(c(0,"small"),h(1,"Campo obligatorio."),l())}function pT(i,t){if(i&1&&(c(0,"div",30),U(1,fT,2,0,"small",31),l()),i&2){ee();let e=ue(31);v(),M("ngIf",e.errors==null?null:e.errors.required)}}function hT(i,t){i&1&&(c(0,"small"),h(1,"Campo obligatorio."),l())}function mT(i,t){if(i&1&&(c(0,"div",30),U(1,hT,2,0,"small",31),l()),i&2){ee();let e=ue(37);v(),M("ngIf",e.errors==null?null:e.errors.required)}}function gT(i,t){i&1&&(c(0,"small"),h(1,"Campo obligatorio."),l())}function vT(i,t){if(i&1&&(c(0,"div",30),U(1,gT,2,0,"small",31),l()),i&2){ee();let e=ue(43);v(),M("ngIf",e.errors==null?null:e.errors.required)}}var _h=class i{constructor(t,e,r){this.route=t;this.router=e;this.materialService=r}material={codigoInventario:"",nombre:"",descripcion:"",unidadMedida:"",precioUnitario:0,stockActual:0,stockMinimo:0,categoria:""};id;ngOnInit(){this.id=Number(this.route.snapshot.paramMap.get("id")),this.obtenerMaterialPorId(this.id)}obtenerMaterialPorId(t){this.materialService.obtenerMaterialPorId(t).subscribe(e=>{this.material=e})}actualizarMaterial(){this.materialService.actualizarMaterial(this.id,this.material).subscribe(()=>{this.router.navigate(["/material"])})}cancelar(){this.router.navigate(["/material"])}static \u0275fac=function(e){return new(e||i)(ae(Vi),ae(vt),ae(la))};static \u0275cmp=ot({type:i,selectors:[["app-material-update"]],standalone:!0,features:[ut],decls:54,vars:15,consts:[["materialForm","ngForm"],["codigoInventario","ngModel"],["nombre","ngModel"],["unidadMedida","ngModel"],["precioUnitario","ngModel"],["stockActual","ngModel"],["stockMinimo","ngModel"],[1,"form-container"],[3,"ngSubmit"],[1,"form-group"],["for","codigoInventario"],["id","codigoInventario","type","text","name","codigoInventario","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","nombre"],["id","nombre","type","text","name","nombre","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["for","descripcion"],["id","descripcion","name","descripcion","rows","3",1,"form-control",3,"ngModelChange","ngModel"],["for","unidadMedida"],["id","unidadMedida","type","text","name","unidadMedida","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","precioUnitario"],["id","precioUnitario","type","number","step","0.01","name","precioUnitario","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","stockActual"],["id","stockActual","type","number","name","stockActual","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","stockMinimo"],["id","stockMinimo","type","number","name","stockMinimo","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","categoria"],["id","categoria","type","text","name","categoria",1,"form-control",3,"ngModelChange","ngModel"],[1,"button-container"],["type","submit",1,"submit-btn",3,"disabled"],["type","button",1,"cancel-btn",3,"click"],[1,"error-message"],[4,"ngIf"]],template:function(e,r){if(e&1){let n=Je();c(0,"div",7)(1,"h2"),h(2,"Actualizar Material"),l(),c(3,"form",8,0),J("ngSubmit",function(){return z(n),W(r.actualizarMaterial())}),c(5,"div",9)(6,"label",10),h(7,"C\xF3digo de Inventario:"),l(),c(8,"input",11,1),ye("ngModelChange",function(o){return z(n),xe(r.material.codigoInventario,o)||(r.material.codigoInventario=o),W(o)}),l(),U(10,oT,3,2,"div",12),l(),c(11,"div",9)(12,"label",13),h(13,"Nombre:"),l(),c(14,"input",14,2),ye("ngModelChange",function(o){return z(n),xe(r.material.nombre,o)||(r.material.nombre=o),W(o)}),l(),U(16,cT,3,2,"div",12),l(),c(17,"div",9)(18,"label",15),h(19,"Descripci\xF3n:"),l(),c(20,"textarea",16),ye("ngModelChange",function(o){return z(n),xe(r.material.descripcion,o)||(r.material.descripcion=o),W(o)}),l()(),c(21,"div",9)(22,"label",17),h(23,"Unidad de Medida:"),l(),c(24,"input",18,3),ye("ngModelChange",function(o){return z(n),xe(r.material.unidadMedida,o)||(r.material.unidadMedida=o),W(o)}),l(),U(26,uT,2,1,"div",12),l(),c(27,"div",9)(28,"label",19),h(29,"Precio Unitario:"),l(),c(30,"input",20,4),ye("ngModelChange",function(o){return z(n),xe(r.material.precioUnitario,o)||(r.material.precioUnitario=o),W(o)}),l(),U(32,pT,2,1,"div",12),l(),c(33,"div",9)(34,"label",21),h(35,"Stock Actual:"),l(),c(36,"input",22,5),ye("ngModelChange",function(o){return z(n),xe(r.material.stockActual,o)||(r.material.stockActual=o),W(o)}),l(),U(38,mT,2,1,"div",12),l(),c(39,"div",9)(40,"label",23),h(41,"Stock M\xEDnimo:"),l(),c(42,"input",24,6),ye("ngModelChange",function(o){return z(n),xe(r.material.stockMinimo,o)||(r.material.stockMinimo=o),W(o)}),l(),U(44,vT,2,1,"div",12),l(),c(45,"div",9)(46,"label",25),h(47,"Categor\xEDa:"),l(),c(48,"input",26),ye("ngModelChange",function(o){return z(n),xe(r.material.categoria,o)||(r.material.categoria=o),W(o)}),l()(),c(49,"div",27)(50,"button",28),h(51,"Actualizar"),l(),c(52,"button",29),J("click",function(){return z(n),W(r.cancelar())}),h(53,"Cancelar"),l()()()()}if(e&2){let n=ue(4),a=ue(9),o=ue(15),d=ue(25),u=ue(31),p=ue(37),g=ue(43);v(8),be("ngModel",r.material.codigoInventario),v(2),M("ngIf",a.invalid&&(a.dirty||a.touched)),v(4),be("ngModel",r.material.nombre),v(2),M("ngIf",o.invalid&&(o.dirty||o.touched)),v(4),be("ngModel",r.material.descripcion),v(4),be("ngModel",r.material.unidadMedida),v(2),M("ngIf",d.invalid&&(d.dirty||d.touched)),v(4),be("ngModel",r.material.precioUnitario),v(2),M("ngIf",u.invalid&&(u.dirty||u.touched)),v(4),be("ngModel",r.material.stockActual),v(2),M("ngIf",p.invalid&&(p.dirty||p.touched)),v(4),be("ngModel",r.material.stockMinimo),v(2),M("ngIf",g.invalid&&(g.dirty||g.touched)),v(4),be("ngModel",r.material.categoria),v(2),M("disabled",n.invalid)}},dependencies:[ht,Et,kt,ni,Mt,Qi,Tt,ri,si,bi,Ot,oi],styles:[".form-container[_ngcontent-%COMP%]{max-width:500px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:14px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.error-message[_ngcontent-%COMP%]{color:red;font-size:14px;margin-top:5px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{width:48%;padding:10px;font-size:16px;border-radius:4px;cursor:pointer}.submit-btn[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.cancel-btn[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})};var ca=class i{constructor(t){this.http=t}apiUrl=li.apiUrl;obtenerEquipos(){return this.http.get(`${this.apiUrl}/equipos`)}obtenerEquipoPorId(t){return this.http.get(`${this.apiUrl}/equipos/${t}`)}obtenerEquipoPorCodigo(t){return this.http.get(`${this.apiUrl}/equipos/codigo/${t}`)}crearEquipo(t){let e=st({},t);return delete e.id,this.http.post(`${this.apiUrl}/equipos`,e)}actualizarEquipo(t,e){return this.http.put(`${this.apiUrl}/equipos/${t}`,e)}eliminarEquipo(t){return this.http.delete(`${this.apiUrl}/equipos/${t}`)}static \u0275fac=function(e){return new(e||i)(St(ai))};static \u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"})};function _T(i,t){if(i&1){let e=Je();c(0,"div",9)(1,"div",10)(2,"h3"),Le(3,"i",11),h(4," Confirmaci\xF3n"),l(),c(5,"p",12),h(6,"\xBFEst\xE1s seguro de eliminar este equipo?"),l(),c(7,"div",13)(8,"button",14),J("click",function(){z(e);let n=ee();return W(n.eliminarEquipoConfirmado())}),Le(9,"i",15),h(10," Confirmar "),l(),c(11,"button",16),J("click",function(){z(e);let n=ee();return W(n.cerrarModal())}),Le(12,"i",17),h(13," Cancelar "),l()()()()}}function bT(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),h(2),l(),c(3,"td"),h(4),l(),c(5,"td"),h(6),l(),c(7,"td"),h(8),l(),c(9,"td"),h(10),ei(11,"currency"),l(),c(12,"td"),h(13),l(),c(14,"td")(15,"button",18),J("click",function(){let n,a=z(e).$implicit,o=ee();return W(o.irAEditarEquipo((n=a.id)!==null&&n!==void 0?n:0))}),Le(16,"i",19),h(17," Editar "),l(),c(18,"button",20),J("click",function(){let n,a=z(e).$implicit,o=ee();return W(o.confirmarEliminarEquipo((n=a.id)!==null&&n!==void 0?n:0))}),Le(19,"i",21),h(20," Eliminar "),l()()()}if(i&2){let e=t.$implicit;v(2),Ve(e.codigoActivo),v(2),Ve(e.nombre),v(2),Ve(e.unidadMedida),v(2),Ve(e.tipoEquipo||"N/A"),v(2),Ve(Jf(11,6,e.precioUnitario,"USD","symbol","1.2-2")),v(3),Ve(e.fechaAdquisicion||"No registrada")}}var bh=class i{constructor(t,e,r,n){this.equipoService=t;this.router=e;this.filterService=r;this.paginationService=n}equipos=[];equiposFiltrados=[];equiposPaginados=[];textoBusqueda="";paginaActual=1;elementosPorPagina=5;totalPaginas=0;mostrarModal=!1;equipoAEliminarId=null;ngOnInit(){this.obtenerEquipos()}obtenerEquipos(){this.equipoService.obtenerEquipos().subscribe(t=>{this.equipos=t,this.equiposFiltrados=t,this.calcularPaginacion()})}eliminarEquipo(t){this.equipoService.eliminarEquipo(t).subscribe(()=>{this.obtenerEquipos()})}irACrearEquipo(){this.router.navigate(["/equipo-create"])}irAEditarEquipo(t){this.router.navigate([`/equipo-update/${t}`])}confirmarEliminarEquipo(t){this.equipoAEliminarId=t,this.mostrarModal=!0}eliminarEquipoConfirmado(){this.equipoAEliminarId!==null&&(this.eliminarEquipo(this.equipoAEliminarId),this.cerrarModal())}cerrarModal(){this.mostrarModal=!1,this.equipoAEliminarId=null}filtrarEquipos(){this.equiposFiltrados=this.filterService.filtrar(this.equipos,this.textoBusqueda),this.paginaActual=1,this.calcularPaginacion()}calcularPaginacion(){let t=this.paginationService.paginate(this.equiposFiltrados,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.equiposPaginados=t.paginatedData}cambiarPagina(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarEquiposPaginados()}actualizarEquiposPaginados(){let t=this.paginationService.paginate(this.equiposFiltrados,this.paginaActual,this.elementosPorPagina);this.equiposPaginados=t.paginatedData}static \u0275fac=function(e){return new(e||i)(ae(ca),ae(vt),ae(zi),ae(Yi))};static \u0275cmp=ot({type:i,selectors:[["app-equipo"]],standalone:!0,features:[ut],decls:35,vars:7,consts:[["class","modal",4,"ngIf"],[1,"encabezado"],[1,"acciones"],["type","text","placeholder","Buscar equipo por cualquier campo...",3,"ngModelChange","input","ngModel"],[1,"btn-crear",3,"click"],[1,"fa","fa-plus"],[4,"ngFor","ngForOf"],[1,"paginacion"],[3,"click","disabled"],[1,"modal"],[1,"modal-content","animate"],[1,"fa","fa-exclamation-triangle","text-warning"],[1,"modal-message"],[1,"modal-buttons"],[1,"btn-confirmar",3,"click"],[1,"fa","fa-check"],[1,"btn-cancelar",3,"click"],[1,"fa","fa-times"],[1,"btn-editar",3,"click"],[1,"fa","fa-edit"],[1,"btn-eliminar",3,"click"],[1,"fa","fa-trash"]],template:function(e,r){e&1&&(U(0,_T,14,0,"div",0),c(1,"section",1)(2,"h2"),h(3,"Gesti\xF3n de Equipos"),l(),c(4,"div",2)(5,"input",3),ye("ngModelChange",function(a){return xe(r.textoBusqueda,a)||(r.textoBusqueda=a),a}),J("input",function(){return r.filtrarEquipos()}),l(),c(6,"button",4),J("click",function(){return r.irACrearEquipo()}),Le(7,"i",5),h(8," Registrar "),l()()(),c(9,"table")(10,"thead")(11,"tr")(12,"th"),h(13,"C\xF3digo"),l(),c(14,"th"),h(15,"Nombre"),l(),c(16,"th"),h(17,"Unidad"),l(),c(18,"th"),h(19,"Tipo"),l(),c(20,"th"),h(21,"Precio Unitario"),l(),c(22,"th"),h(23,"Fecha de Adquisici\xF3n"),l(),c(24,"th"),h(25,"Acciones"),l()()(),c(26,"tbody"),U(27,bT,21,11,"tr",6),l()(),c(28,"div",7)(29,"button",8),J("click",function(){return r.cambiarPagina("previous")}),h(30," \u2190 Anterior "),l(),c(31,"span"),h(32),l(),c(33,"button",8),J("click",function(){return r.cambiarPagina("next")}),h(34," Siguiente \u2192 "),l()()),e&2&&(M("ngIf",r.mostrarModal),v(5),be("ngModel",r.textoBusqueda),v(22),M("ngForOf",r.equiposPaginados),v(2),M("disabled",r.paginaActual===1),v(3),Di("P\xE1gina ",r.paginaActual," de ",r.totalPaginas,""),v(),M("disabled",r.paginaActual===r.totalPaginas))},dependencies:[ht,zt,Et,Ya,Ui,kt,Mt,Tt,Ot],styles:['@charset "UTF-8";table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px;box-shadow:0 4px 10px #0000000d;border-radius:8px;overflow:hidden}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:14px 18px;text-align:left;border-bottom:1px solid #e0e0e0}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:linear-gradient(to right,#f0f0f0,#f9f9f9);font-weight:600;color:#444}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f4f8fb;transition:background-color .3s}button[_ngcontent-%COMP%]{cursor:pointer;border:none;border-radius:6px;padding:8px 14px;font-size:14px;transition:all .3s ease;margin-right:6px;display:inline-flex;align-items:center;gap:6px}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:15px}.btn-crear[_ngcontent-%COMP%]{float:right;background:linear-gradient(to right,#4caf50,#45a049);color:#fff;margin-bottom:20px}.btn-crear[_ngcontent-%COMP%]:hover{background:#3e8e41}.btn-editar[_ngcontent-%COMP%]{background-color:#2196f3;color:#fff}.btn-editar[_ngcontent-%COMP%]:hover{background-color:#0b7dda}.btn-eliminar[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.btn-eliminar[_ngcontent-%COMP%]:hover{background-color:#c62828}.btn-confirmar[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.btn-confirmar[_ngcontent-%COMP%]:hover{background-color:#218838}.btn-cancelar[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.btn-cancelar[_ngcontent-%COMP%]:hover{background-color:#c82333}.modal[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;inset:0;background-color:#00000073;z-index:1000}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:12px;width:90%;max-width:400px;text-align:center;box-shadow:0 12px 24px #00000026;animation:_ngcontent-%COMP%_fadeZoom .25s ease-out}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;margin-bottom:12px;color:#2c3e50}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-message[_ngcontent-%COMP%]{font-size:15px;color:#555;margin-bottom:20px}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px}@keyframes _ngcontent-%COMP%_fadeZoom{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.paginacion[_ngcontent-%COMP%]{margin-top:25px;display:flex;justify-content:center;align-items:center;gap:16px}.paginacion[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 18px;background-color:#f0f0f0}.paginacion[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#dedede}.paginacion[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.paginacion[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;color:#666}input[_ngcontent-%COMP%]{padding:10px 12px;width:100%;max-width:320px;border:1px solid #ccc;border-radius:6px;margin-bottom:15px}input[_ngcontent-%COMP%]:focus{outline:none;border-color:#2196f3;box-shadow:0 0 0 2px #2196f333}@media (max-width: 768px){table[_ngcontent-%COMP%]{font-size:13px}button[_ngcontent-%COMP%]{padding:6px 10px;font-size:13px}input[_ngcontent-%COMP%]{width:100%}.btn-crear[_ngcontent-%COMP%]{float:none;display:block;width:100%;margin-bottom:20px}.modal-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:10px}.modal-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}']})};function xT(i,t){i&1&&(c(0,"small"),h(1,"Campo obligatorio."),l())}function yT(i,t){i&1&&(c(0,"small"),h(1,"Debe tener al menos 2 caracteres."),l())}function CT(i,t){if(i&1&&(c(0,"div",26),U(1,xT,2,0,"small",27)(2,yT,2,0,"small",27),l()),i&2){ee();let e=ue(9);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function wT(i,t){i&1&&(c(0,"small"),h(1,"Campo obligatorio."),l())}function ST(i,t){i&1&&(c(0,"small"),h(1,"Debe tener al menos 2 caracteres."),l())}function ET(i,t){if(i&1&&(c(0,"div",26),U(1,wT,2,0,"small",27)(2,ST,2,0,"small",27),l()),i&2){ee();let e=ue(15);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function PT(i,t){i&1&&(c(0,"small"),h(1,"Campo obligatorio."),l())}function MT(i,t){if(i&1&&(c(0,"div",26),U(1,PT,2,0,"small",27),l()),i&2){ee();let e=ue(25);v(),M("ngIf",e.errors==null?null:e.errors.required)}}function TT(i,t){i&1&&(c(0,"small"),h(1,"Campo obligatorio."),l())}function kT(i,t){if(i&1&&(c(0,"div",26),U(1,TT,2,0,"small",27),l()),i&2){ee();let e=ue(35);v(),M("ngIf",e.errors==null?null:e.errors.required)}}var xh=class i{constructor(t,e){this.equipoService=t;this.router=e}equipo={codigoActivo:"",nombre:"",descripcion:"",unidadMedida:"",tipoEquipo:"",precioUnitario:0,fechaAdquisicion:""};ngOnInit(){}crearEquipo(){this.equipoService.crearEquipo(this.equipo).subscribe(()=>{this.router.navigate(["/equipo"])})}cancelar(){this.router.navigate(["/equipo"])}static \u0275fac=function(e){return new(e||i)(ae(ca),ae(vt))};static \u0275cmp=ot({type:i,selectors:[["app-equipo-create"]],standalone:!0,features:[ut],decls:46,vars:12,consts:[["equipoForm","ngForm"],["codigoActivo","ngModel"],["nombre","ngModel"],["unidadMedida","ngModel"],["precioUnitario","ngModel"],[1,"form-container"],[3,"ngSubmit"],[1,"form-group"],["for","codigoActivo"],["id","codigoActivo","type","text","name","codigoActivo","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","nombre"],["id","nombre","type","text","name","nombre","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["for","descripcion"],["id","descripcion","name","descripcion","rows","3",1,"form-control",3,"ngModelChange","ngModel"],["for","unidadMedida"],["id","unidadMedida","type","text","name","unidadMedida","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","tipoEquipo"],["id","tipoEquipo","type","text","name","tipoEquipo",1,"form-control",3,"ngModelChange","ngModel"],["for","precioUnitario"],["id","precioUnitario","type","number","step","0.01","name","precioUnitario","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","fechaAdquisicion"],["id","fechaAdquisicion","type","date","name","fechaAdquisicion",1,"form-control",3,"ngModelChange","ngModel"],[1,"button-container"],["type","submit",1,"submit-btn",3,"disabled"],["type","button",1,"cancel-btn",3,"click"],[1,"error-message"],[4,"ngIf"]],template:function(e,r){if(e&1){let n=Je();c(0,"div",5)(1,"h2"),h(2,"Registrar Equipo"),l(),c(3,"form",6,0),J("ngSubmit",function(){return z(n),W(r.crearEquipo())}),c(5,"div",7)(6,"label",8),h(7,"C\xF3digo Activo:"),l(),c(8,"input",9,1),ye("ngModelChange",function(o){return z(n),xe(r.equipo.codigoActivo,o)||(r.equipo.codigoActivo=o),W(o)}),l(),U(10,CT,3,2,"div",10),l(),c(11,"div",7)(12,"label",11),h(13,"Nombre:"),l(),c(14,"input",12,2),ye("ngModelChange",function(o){return z(n),xe(r.equipo.nombre,o)||(r.equipo.nombre=o),W(o)}),l(),U(16,ET,3,2,"div",10),l(),c(17,"div",7)(18,"label",13),h(19,"Descripci\xF3n:"),l(),c(20,"textarea",14),ye("ngModelChange",function(o){return z(n),xe(r.equipo.descripcion,o)||(r.equipo.descripcion=o),W(o)}),l()(),c(21,"div",7)(22,"label",15),h(23,"Unidad de Medida:"),l(),c(24,"input",16,3),ye("ngModelChange",function(o){return z(n),xe(r.equipo.unidadMedida,o)||(r.equipo.unidadMedida=o),W(o)}),l(),U(26,MT,2,1,"div",10),l(),c(27,"div",7)(28,"label",17),h(29,"Tipo de Equipo:"),l(),c(30,"input",18),ye("ngModelChange",function(o){return z(n),xe(r.equipo.tipoEquipo,o)||(r.equipo.tipoEquipo=o),W(o)}),l()(),c(31,"div",7)(32,"label",19),h(33,"Precio Unitario:"),l(),c(34,"input",20,4),ye("ngModelChange",function(o){return z(n),xe(r.equipo.precioUnitario,o)||(r.equipo.precioUnitario=o),W(o)}),l(),U(36,kT,2,1,"div",10),l(),c(37,"div",7)(38,"label",21),h(39,"Fecha de Adquisici\xF3n:"),l(),c(40,"input",22),ye("ngModelChange",function(o){return z(n),xe(r.equipo.fechaAdquisicion,o)||(r.equipo.fechaAdquisicion=o),W(o)}),l()(),c(41,"div",23)(42,"button",24),h(43,"Crear"),l(),c(44,"button",25),J("click",function(){return z(n),W(r.cancelar())}),h(45,"Cancelar"),l()()()()}if(e&2){let n=ue(4),a=ue(9),o=ue(15),d=ue(25),u=ue(35);v(8),be("ngModel",r.equipo.codigoActivo),v(2),M("ngIf",a.invalid&&(a.dirty||a.touched)),v(4),be("ngModel",r.equipo.nombre),v(2),M("ngIf",o.invalid&&(o.dirty||o.touched)),v(4),be("ngModel",r.equipo.descripcion),v(4),be("ngModel",r.equipo.unidadMedida),v(2),M("ngIf",d.invalid&&(d.dirty||d.touched)),v(4),be("ngModel",r.equipo.tipoEquipo),v(4),be("ngModel",r.equipo.precioUnitario),v(2),M("ngIf",u.invalid&&(u.dirty||u.touched)),v(4),be("ngModel",r.equipo.fechaAdquisicion),v(2),M("disabled",n.invalid)}},dependencies:[kt,ni,Mt,Qi,Tt,ri,si,bi,Ot,oi,ht,Et],styles:['@charset "UTF-8";.form-container[_ngcontent-%COMP%]{max-width:540px;margin:40px auto;padding:25px 30px;background:linear-gradient(to bottom right,#fff,#f5f5f5);border-radius:12px;box-shadow:0 8px 20px #00000014;transition:all .3s ease-in-out}h2[_ngcontent-%COMP%]{text-align:center;color:#2c3e50;margin-bottom:25px;font-size:22px}.form-group[_ngcontent-%COMP%]{margin-bottom:18px}label[_ngcontent-%COMP%]{font-weight:600;margin-bottom:6px;display:block;color:#34495e}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px 14px;font-size:14px;border:1px solid #ccc;border-radius:6px;transition:border-color .3s,box-shadow .3s;background-color:#fff}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;box-shadow:0 0 0 2px #007bff26;outline:none}.error-message[_ngcontent-%COMP%]{color:#e74c3c;font-size:13px;margin-top:4px;font-style:italic}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:12px;margin-top:25px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{flex:1;padding:12px;font-size:15px;font-weight:500;border-radius:6px;cursor:pointer;transition:background-color .3s ease,transform .2s ease;border:none}.submit-btn[_ngcontent-%COMP%]{background:linear-gradient(to right,#28a745,#218838);color:#fff}.submit-btn[_ngcontent-%COMP%]:disabled{background:#b7d8b7;cursor:not-allowed}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#1e7e34;transform:scale(1.02)}.cancel-btn[_ngcontent-%COMP%]{background:linear-gradient(to right,#dc3545,#c82333);color:#fff}.cancel-btn[_ngcontent-%COMP%]:hover{background:#b21f2d;transform:scale(1.02)}@media (max-width: 576px){.form-container[_ngcontent-%COMP%]{padding:20px}.button-container[_ngcontent-%COMP%]{flex-direction:column;gap:10px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{width:100%}}']})};function AT(i,t){i&1&&(c(0,"small"),h(1,"Campo obligatorio."),l())}function OT(i,t){i&1&&(c(0,"small"),h(1,"Debe tener al menos 2 caracteres."),l())}function IT(i,t){if(i&1&&(c(0,"div",26),U(1,AT,2,0,"small",27)(2,OT,2,0,"small",27),l()),i&2){ee();let e=ue(9);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function FT(i,t){i&1&&(c(0,"small"),h(1,"Campo obligatorio."),l())}function NT(i,t){i&1&&(c(0,"small"),h(1,"Debe tener al menos 2 caracteres."),l())}function LT(i,t){if(i&1&&(c(0,"div",26),U(1,FT,2,0,"small",27)(2,NT,2,0,"small",27),l()),i&2){ee();let e=ue(15);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function DT(i,t){i&1&&(c(0,"small"),h(1,"Campo obligatorio."),l())}function RT(i,t){if(i&1&&(c(0,"div",26),U(1,DT,2,0,"small",27),l()),i&2){ee();let e=ue(25);v(),M("ngIf",e.errors==null?null:e.errors.required)}}function BT(i,t){i&1&&(c(0,"small"),h(1,"Campo obligatorio."),l())}function UT(i,t){if(i&1&&(c(0,"div",26),U(1,BT,2,0,"small",27),l()),i&2){ee();let e=ue(35);v(),M("ngIf",e.errors==null?null:e.errors.required)}}var yh=class i{constructor(t,e,r){this.route=t;this.router=e;this.equipoService=r}equipo={codigoActivo:"",nombre:"",descripcion:"",unidadMedida:"",tipoEquipo:"",precioUnitario:0,fechaAdquisicion:""};id;ngOnInit(){this.id=Number(this.route.snapshot.paramMap.get("id")),this.obtenerEquipoPorId(this.id)}obtenerEquipoPorId(t){this.equipoService.obtenerEquipoPorId(t).subscribe(e=>{this.equipo=e})}actualizarEquipo(){this.equipoService.actualizarEquipo(this.id,this.equipo).subscribe(()=>{this.router.navigate(["/equipo"])})}cancelar(){this.router.navigate(["/equipo"])}static \u0275fac=function(e){return new(e||i)(ae(Vi),ae(vt),ae(ca))};static \u0275cmp=ot({type:i,selectors:[["app-equipo-update"]],standalone:!0,features:[ut],decls:46,vars:12,consts:[["equipoForm","ngForm"],["codigoActivo","ngModel"],["nombre","ngModel"],["unidadMedida","ngModel"],["precioUnitario","ngModel"],[1,"form-container"],[3,"ngSubmit"],[1,"form-group"],["for","codigoActivo"],["id","codigoActivo","type","text","name","codigoActivo","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","nombre"],["id","nombre","type","text","name","nombre","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["for","descripcion"],["id","descripcion","name","descripcion","rows","3",1,"form-control",3,"ngModelChange","ngModel"],["for","unidadMedida"],["id","unidadMedida","type","text","name","unidadMedida","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","tipoEquipo"],["id","tipoEquipo","type","text","name","tipoEquipo",1,"form-control",3,"ngModelChange","ngModel"],["for","precioUnitario"],["id","precioUnitario","type","number","step","0.01","name","precioUnitario","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","fechaAdquisicion"],["id","fechaAdquisicion","type","date","name","fechaAdquisicion",1,"form-control",3,"ngModelChange","ngModel"],[1,"button-container"],["type","submit",1,"submit-btn",3,"disabled"],["type","button",1,"cancel-btn",3,"click"],[1,"error-message"],[4,"ngIf"]],template:function(e,r){if(e&1){let n=Je();c(0,"div",5)(1,"h2"),h(2,"Actualizar Equipo"),l(),c(3,"form",6,0),J("ngSubmit",function(){return z(n),W(r.actualizarEquipo())}),c(5,"div",7)(6,"label",8),h(7,"C\xF3digo Activo:"),l(),c(8,"input",9,1),ye("ngModelChange",function(o){return z(n),xe(r.equipo.codigoActivo,o)||(r.equipo.codigoActivo=o),W(o)}),l(),U(10,IT,3,2,"div",10),l(),c(11,"div",7)(12,"label",11),h(13,"Nombre:"),l(),c(14,"input",12,2),ye("ngModelChange",function(o){return z(n),xe(r.equipo.nombre,o)||(r.equipo.nombre=o),W(o)}),l(),U(16,LT,3,2,"div",10),l(),c(17,"div",7)(18,"label",13),h(19,"Descripci\xF3n:"),l(),c(20,"textarea",14),ye("ngModelChange",function(o){return z(n),xe(r.equipo.descripcion,o)||(r.equipo.descripcion=o),W(o)}),l()(),c(21,"div",7)(22,"label",15),h(23,"Unidad de Medida:"),l(),c(24,"input",16,3),ye("ngModelChange",function(o){return z(n),xe(r.equipo.unidadMedida,o)||(r.equipo.unidadMedida=o),W(o)}),l(),U(26,RT,2,1,"div",10),l(),c(27,"div",7)(28,"label",17),h(29,"Tipo de Equipo:"),l(),c(30,"input",18),ye("ngModelChange",function(o){return z(n),xe(r.equipo.tipoEquipo,o)||(r.equipo.tipoEquipo=o),W(o)}),l()(),c(31,"div",7)(32,"label",19),h(33,"Precio Unitario:"),l(),c(34,"input",20,4),ye("ngModelChange",function(o){return z(n),xe(r.equipo.precioUnitario,o)||(r.equipo.precioUnitario=o),W(o)}),l(),U(36,UT,2,1,"div",10),l(),c(37,"div",7)(38,"label",21),h(39,"Fecha de Adquisici\xF3n:"),l(),c(40,"input",22),ye("ngModelChange",function(o){return z(n),xe(r.equipo.fechaAdquisicion,o)||(r.equipo.fechaAdquisicion=o),W(o)}),l()(),c(41,"div",23)(42,"button",24),h(43,"Actualizar"),l(),c(44,"button",25),J("click",function(){return z(n),W(r.cancelar())}),h(45,"Cancelar"),l()()()()}if(e&2){let n=ue(4),a=ue(9),o=ue(15),d=ue(25),u=ue(35);v(8),be("ngModel",r.equipo.codigoActivo),v(2),M("ngIf",a.invalid&&(a.dirty||a.touched)),v(4),be("ngModel",r.equipo.nombre),v(2),M("ngIf",o.invalid&&(o.dirty||o.touched)),v(4),be("ngModel",r.equipo.descripcion),v(4),be("ngModel",r.equipo.unidadMedida),v(2),M("ngIf",d.invalid&&(d.dirty||d.touched)),v(4),be("ngModel",r.equipo.tipoEquipo),v(4),be("ngModel",r.equipo.precioUnitario),v(2),M("ngIf",u.invalid&&(u.dirty||u.touched)),v(4),be("ngModel",r.equipo.fechaAdquisicion),v(2),M("disabled",n.invalid)}},dependencies:[ht,Et,kt,ni,Mt,Qi,Tt,ri,si,bi,Ot,oi],styles:['@charset "UTF-8";.form-container[_ngcontent-%COMP%]{max-width:540px;margin:40px auto;padding:25px 30px;background:linear-gradient(to bottom right,#fff,#f5f5f5);border-radius:12px;box-shadow:0 8px 20px #00000014;transition:all .3s ease-in-out}h2[_ngcontent-%COMP%]{text-align:center;color:#2c3e50;margin-bottom:25px;font-size:22px}.form-group[_ngcontent-%COMP%]{margin-bottom:18px}label[_ngcontent-%COMP%]{font-weight:600;margin-bottom:6px;display:block;color:#34495e}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px 14px;font-size:14px;border:1px solid #ccc;border-radius:6px;transition:border-color .3s,box-shadow .3s;background-color:#fff}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none;box-shadow:0 0 0 2px #007bff26}.error-message[_ngcontent-%COMP%]{color:#e74c3c;font-size:13px;margin-top:4px;font-style:italic}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:12px;margin-top:25px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{flex:1;padding:12px;font-size:15px;font-weight:500;border-radius:6px;cursor:pointer;border:none;transition:background-color .3s ease,transform .2s ease}.submit-btn[_ngcontent-%COMP%]{background:linear-gradient(to right,#007bff,#0062cc);color:#fff}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:scale(1.02)}.cancel-btn[_ngcontent-%COMP%]{background:linear-gradient(to right,#dc3545,#c82333);color:#fff}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#b21f2d;transform:scale(1.02)}@media (max-width: 576px){.form-container[_ngcontent-%COMP%]{padding:20px}.button-container[_ngcontent-%COMP%]{flex-direction:column;gap:10px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{width:100%}}']})};var Ch=class i{constructor(t){this.http=t}apiUrl=li.apiUrl;obtenerBitacoras(){return this.http.get(`${this.apiUrl}/bitacoras`)}obtenerBitacoraPorId(t){return this.http.get(`${this.apiUrl}/bitacoras/${t}`)}static \u0275fac=function(e){return new(e||i)(St(ai))};static \u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"})};function jT(i,t){if(i&1&&(c(0,"tr")(1,"td"),h(2),l(),c(3,"td"),h(4),ei(5,"date"),l(),c(6,"td"),h(7),l()()),i&2){let e=t.$implicit,r=ee();v(2),Ve(r.generarAccion(e)),v(2),Ve(tc(5,3,e.fecha,"short")),v(3),Ve(e.ipOrigen)}}var wh=class i{constructor(t,e){this.bitacoraService=t;this.router=e}bitacoras=[];bitacorasPaginadas=[];paginaActual=1;elementosPorPagina=10;totalPaginas=0;ngOnInit(){this.obtenerBitacoras()}obtenerBitacoras(){this.bitacoraService.obtenerBitacoras().subscribe(t=>{this.bitacoras=t,this.calcularPaginacion()})}calcularPaginacion(){let t=this.paginate(this.bitacoras,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.bitacorasPaginadas=t.paginatedData}paginate(t,e,r){let n=Math.ceil(t.length/r),a=(e-1)*r,o=a+r;return{totalPages:n,paginatedData:t.slice(a,o)}}cambiarPagina(t){this.paginaActual=t==="previous"?this.paginaActual-1:this.paginaActual+1,this.actualizarBitacorasPaginadas()}actualizarBitacorasPaginadas(){let t=this.paginate(this.bitacoras,this.paginaActual,this.elementosPorPagina);this.bitacorasPaginadas=t.paginatedData}generarAccion(t){return t.tipoAccion==="inicio de sesion"?`Inicio de sesi\xF3n por parte del usuario con id ${t.usuarioId}`:t.tipoAccion==="cierre de sesion"?`Cierre de sesi\xF3n por parte del usuario con id ${t.usuarioId}`:t.tipoAccion==="creacion"?`Creaci\xF3n de la instancia con id ${t.entidadId} de la entidad ${t.entidad} por parte del usuario con id ${t.usuarioId}`:t.tipoAccion==="actualizacion"?`Actualizaci\xF3n de la instancia con id ${t.entidadId} de la entidad ${t.entidad} por parte del usuario con id ${t.usuarioId}`:t.tipoAccion==="eliminacion"?`Eliminaci\xF3n de la instancia con id ${t.entidadId} de la entidad ${t.entidad} por parte del usuario con id ${t.usuarioId}`:"Acci\xF3n desconocida"}static \u0275fac=function(e){return new(e||i)(ae(Ch),ae(vt))};static \u0275cmp=ot({type:i,selectors:[["app-bitacora"]],standalone:!0,features:[ut],decls:21,vars:4,consts:[["border","1","cellspacing","0","cellpadding","5",2,"width","100%","margin-top","20px"],[4,"ngFor","ngForOf"],[2,"margin-top","20px"],[3,"click","disabled"]],template:function(e,r){e&1&&(c(0,"div")(1,"h2"),h(2,"Bit\xE1cora"),l(),c(3,"table",0)(4,"thead")(5,"tr")(6,"th"),h(7,"Acci\xF3n"),l(),c(8,"th"),h(9,"Fecha"),l(),c(10,"th"),h(11,"IP Origen"),l()()(),c(12,"tbody"),U(13,jT,8,6,"tr",1),l()(),c(14,"div",2)(15,"button",3),J("click",function(){return r.cambiarPagina("previous")}),h(16,"Anterior"),l(),c(17,"span"),h(18),l(),c(19,"button",3),J("click",function(){return r.cambiarPagina("next")}),h(20,"Siguiente"),l()()()),e&2&&(v(13),M("ngForOf",r.bitacorasPaginadas),v(2),M("disabled",r.paginaActual===1),v(3),tt(" P\xE1gina ",r.paginaActual," "),v(),M("disabled",r.paginaActual===r.totalPaginas))},dependencies:[ht,zt,oa,Ui,kt],styles:["table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:10px;text-align:left;border:1px solid #ddd}button[_ngcontent-%COMP%]{margin-right:5px;padding:5px 10px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}button[_ngcontent-%COMP%]:focus{outline:none}button[style][_ngcontent-%COMP%]{margin-top:20px}.modal[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:25px;border-radius:8px;width:400px;text-align:center;box-shadow:0 4px 10px #0003}"]})};var Wo=class i{constructor(t){this.http=t}apiUrl=li.apiUrl;obtenerTareas(){return this.http.get(`${this.apiUrl}/tareas`)}obtenerTareaPorId(t){return this.http.get(`${this.apiUrl}/tareas/${t}`)}crearTarea(t){let e=st({},t);return delete e.id,this.http.post(`${this.apiUrl}/tareas`,e)}actualizarTarea(t,e){return this.http.put(`${this.apiUrl}/tareas/${t}`,e)}eliminarTarea(t){return this.http.delete(`${this.apiUrl}/tareas/${t}`)}static \u0275fac=function(e){return new(e||i)(St(ai))};static \u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"})};var hc=class i{constructor(t){this.http=t}apiUrl=li.apiUrl;obtenerServicioTareas(){return this.http.get(`${this.apiUrl}/servicios-tareas`)}obtenerServicioTareaPorId(t){return this.http.get(`${this.apiUrl}/servicios-tareas/${t}`)}crearServicioTarea(t){return this.http.post(`${this.apiUrl}/servicios-tareas`,t)}actualizarServicioTarea(t,e){return this.http.put(`${this.apiUrl}/servicios-tareas/${t}`,e)}eliminarServicioTarea(t){return this.http.delete(`${this.apiUrl}/servicios-tareas/${t}`)}static \u0275fac=function(e){return new(e||i)(St(ai))};static \u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"})};var mc=class i{constructor(t){this.http=t}apiUrl=li.apiUrl;obtenerEmpleadoTareas(){return this.http.get(`${this.apiUrl}/empleados-tareas`)}obtenerEmpleadoTareaPorId(t){return this.http.get(`${this.apiUrl}/empleados-tareas/${t}`)}crearEmpleadoTarea(t){return this.http.post(`${this.apiUrl}/empleados-tareas`,t)}actualizarEmpleadoTarea(t,e){return this.http.put(`${this.apiUrl}/empleados-tareas/${t}`,e)}eliminarEmpleadoTarea(t){return this.http.delete(`${this.apiUrl}/empleados-tareas/${t}`)}obtenerPorTareaId(t){return this.http.get(`${this.apiUrl}/empleados-tareas/tarea/${t}`)}static \u0275fac=function(e){return new(e||i)(St(ai))};static \u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"})};var gc=class i{constructor(t){this.http=t}apiUrl=li.apiUrl;obtenerMaterialTareas(){return this.http.get(`${this.apiUrl}/materiales-tareas`)}obtenerMaterialTareaPorId(t){return this.http.get(`${this.apiUrl}/materiales-tareas/${t}`)}crearMaterialTarea(t){return this.http.post(`${this.apiUrl}/materiales-tareas`,t)}actualizarMaterialTarea(t,e){return this.http.put(`${this.apiUrl}/materiales-tareas/${t}`,e)}eliminarMaterialTarea(t){return this.http.delete(`${this.apiUrl}/materiales-tareas/${t}`)}static \u0275fac=function(e){return new(e||i)(St(ai))};static \u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"})};var vc=class i{constructor(t){this.http=t}apiUrl=li.apiUrl;obtenerEquipoTareas(){return this.http.get(`${this.apiUrl}/equipos-tareas`)}obtenerEquipoTareaPorId(t){return this.http.get(`${this.apiUrl}/equipos-tareas/${t}`)}crearEquipoTarea(t){return this.http.post(`${this.apiUrl}/equipos-tareas`,t)}actualizarEquipoTarea(t,e){return this.http.put(`${this.apiUrl}/equipos-tareas/${t}`,e)}eliminarEquipoTarea(t){return this.http.delete(`${this.apiUrl}/equipos-tareas/${t}`)}static \u0275fac=function(e){return new(e||i)(St(ai))};static \u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"})};function qT(i,t){if(i&1){let e=Je();c(0,"div",3)(1,"div",20)(2,"div",5)(3,"h5",21),h(4),l(),c(5,"p",22)(6,"strong"),h(7,"Descripci\xF3n:"),l(),h(8),l(),c(9,"p",22)(10,"strong"),h(11,"Fecha Inicio:"),l(),h(12),ei(13,"date"),l(),c(14,"p",22)(15,"strong"),h(16,"Fecha Fin:"),l(),h(17),ei(18,"date"),l(),c(19,"p",22)(20,"strong"),h(21,"Estado:"),l(),h(22),l(),c(23,"p",22)(24,"strong"),h(25,"Prioridad:"),l(),h(26),l(),c(27,"p",22)(28,"strong"),h(29,"Obra Civil:"),l(),h(30),l(),c(31,"div",23)(32,"button",24),J("click",function(){let n,a=z(e).$implicit,o=ee();return W(o.verServiciosPorTarea((n=a.id)!==null&&n!==void 0?n:0))}),Le(33,"i",25),h(34," Ver Servicios "),l(),c(35,"button",24),J("click",function(){let n,a=z(e).$implicit,o=ee();return W(o.verEmpleadosPorTarea((n=a.id)!==null&&n!==void 0?n:0))}),Le(36,"i",25),h(37," Ver Empleados "),l(),c(38,"button",24),J("click",function(){let n,a=z(e).$implicit,o=ee();return W(o.verEquiposPorTarea((n=a.id)!==null&&n!==void 0?n:0))}),Le(39,"i",25),h(40," Ver Equipos "),l(),c(41,"button",24),J("click",function(){let n,a=z(e).$implicit,o=ee();return W(o.verMaterialesPorTarea((n=a.id)!==null&&n!==void 0?n:0))}),Le(42,"i",25),h(43," Ver Materiales "),l(),c(44,"button",26),J("click",function(){let n,a=z(e).$implicit,o=ee();return W(o.irAEditarTarea((n=a.id)!==null&&n!==void 0?n:0))}),Le(45,"i",27),h(46," Editar "),l(),c(47,"button",28),J("click",function(){let n,a=z(e).$implicit,o=ee();return W(o.confirmarEliminarTarea((n=a.id)!==null&&n!==void 0?n:0))}),Le(48,"i",29),h(49," Eliminar "),l()()()()()}if(i&2){let e=t.$implicit;v(4),Ve(e.nombre),v(4),tt(" ",e.descripcion,""),v(4),tt(" ",Ci(13,7,e.fechaInicio),""),v(5),tt(" ",Ci(18,9,e.fechaFin),""),v(5),tt(" ",e.estado,""),v(4),tt(" ",e.prioridad,""),v(4),tt(" ",e.obraCivil.nombre,"")}}function zT(i,t){if(i&1&&(c(0,"li"),h(1),l()),i&2){let e=t.$implicit;v(),Ve(e.servicio==null?null:e.servicio.nombre)}}function WT(i,t){if(i&1&&(c(0,"ul"),U(1,zT,2,1,"li",34),l()),i&2){let e=ee(2);v(),M("ngForOf",e.serviciosTarea)}}function HT(i,t){i&1&&(c(0,"p"),h(1,"No hay servicios vinculados a esta tarea."),l())}function GT(i,t){if(i&1){let e=Je();c(0,"div",30)(1,"div",31)(2,"span",32),J("click",function(){z(e);let n=ee();return W(n.cerrarModalServicios())}),h(3,"\xD7"),l(),c(4,"h3"),h(5,"Servicios vinculados"),l(),U(6,WT,2,1,"ul",33)(7,HT,2,0,"p",33),l()()}if(i&2){let e=ee();v(6),M("ngIf",e.serviciosTarea.length>0),v(),M("ngIf",e.serviciosTarea.length===0)}}function $T(i,t){if(i&1&&(c(0,"li"),h(1),l()),i&2){let e=t.$implicit;v(),Di(" ",e.empleado==null?null:e.empleado.nombre," ",e.empleado==null?null:e.empleado.apellido," ")}}function ZT(i,t){if(i&1&&(c(0,"ul"),U(1,$T,2,2,"li",34),l()),i&2){let e=ee(2);v(),M("ngForOf",e.empleadosTarea)}}function XT(i,t){i&1&&(c(0,"p"),h(1,"No hay empleados vinculados a esta tarea."),l())}function YT(i,t){if(i&1){let e=Je();c(0,"div",30)(1,"div",31)(2,"span",32),J("click",function(){z(e);let n=ee();return W(n.cerrarModalEmpleados())}),h(3,"\xD7"),l(),c(4,"h3"),h(5,"Empleados vinculados"),l(),U(6,ZT,2,1,"ul",33)(7,XT,2,0,"p",33),l()()}if(i&2){let e=ee();v(6),M("ngIf",e.empleadosTarea.length>0),v(),M("ngIf",e.empleadosTarea.length===0)}}function KT(i,t){if(i&1&&(c(0,"li"),h(1),l()),i&2){let e=t.$implicit;v(),tt(" ",e.material==null?null:e.material.nombre," ")}}function JT(i,t){if(i&1&&(c(0,"ul"),U(1,KT,2,1,"li",34),l()),i&2){let e=ee(2);v(),M("ngForOf",e.materialesTarea)}}function QT(i,t){i&1&&(c(0,"p"),h(1,"No hay materiales vinculados a esta tarea."),l())}function ek(i,t){if(i&1){let e=Je();c(0,"div",30)(1,"div",31)(2,"span",32),J("click",function(){z(e);let n=ee();return W(n.cerrarModalMateriales())}),h(3,"\xD7"),l(),c(4,"h3"),h(5,"Materiales vinculados"),l(),U(6,JT,2,1,"ul",33)(7,QT,2,0,"p",33),l()()}if(i&2){let e=ee();v(6),M("ngIf",e.materialesTarea.length>0),v(),M("ngIf",e.materialesTarea.length===0)}}function tk(i,t){if(i&1&&(c(0,"li"),h(1),l()),i&2){let e=t.$implicit;v(),tt(" ",e.equipo==null?null:e.equipo.nombre," ")}}function ik(i,t){if(i&1&&(c(0,"ul"),U(1,tk,2,1,"li",34),l()),i&2){let e=ee(2);v(),M("ngForOf",e.equiposTarea)}}function rk(i,t){i&1&&(c(0,"p"),h(1,"No hay equipos vinculados a esta tarea."),l())}function nk(i,t){if(i&1){let e=Je();c(0,"div",30)(1,"div",31)(2,"span",32),J("click",function(){z(e);let n=ee();return W(n.cerrarModalEquipos())}),h(3,"\xD7"),l(),c(4,"h3"),h(5,"Equipos vinculados"),l(),U(6,ik,2,1,"ul",33)(7,rk,2,0,"p",33),l()()}if(i&2){let e=ee();v(6),M("ngIf",e.equiposTarea.length>0),v(),M("ngIf",e.equiposTarea.length===0)}}function ak(i,t){if(i&1){let e=Je();c(0,"div",35)(1,"div",36)(2,"div",37)(3,"div",38)(4,"h5",39),h(5,"Confirmaci\xF3n"),l(),c(6,"button",40),J("click",function(){z(e);let n=ee();return W(n.cerrarModal())}),l()(),c(7,"div",41)(8,"p"),h(9,"\xBFEst\xE1s seguro de que deseas eliminar esta tarea?"),l()(),c(10,"div",42)(11,"button",43),J("click",function(){z(e);let n=ee();return W(n.cerrarModal())}),h(12,"Cancelar"),l(),c(13,"button",44),J("click",function(){z(e);let n=ee();return W(n.eliminarTareaConfirmada())}),h(14,"Confirmar"),l()()()()()}}var Sh=class i{constructor(t,e,r,n,a,o,d,u){this.tareaService=t;this.router=e;this.filterService=r;this.paginationService=n;this.servicioTareaService=a;this.empleadoTareaService=o;this.materialTareaService=d;this.equipoTareaService=u}tareas=[];tareasFiltradas=[];tareasPaginadas=[];serviciosTarea=[];textoBusqueda="";paginaActual=1;elementosPorPagina=5;totalPaginas=0;mostrarModal=!1;tareaAEliminarId=null;mostrarModalServicios=!1;mostrarModalEmpleados=!1;empleadosTarea=[];mostrarModalMateriales=!1;materialesTarea=[];mostrarModalEquipos=!1;equiposTarea=[];ngOnInit(){this.obtenerTareas()}obtenerTareas(){this.tareaService.obtenerTareas().subscribe(t=>{this.tareas=t,this.tareasFiltradas=t,this.calcularPaginacion()})}eliminarTarea(t){this.tareaService.eliminarTarea(t).subscribe(()=>{this.obtenerTareas()})}irACrearTarea(){this.router.navigate(["/tarea-create"])}irAEditarTarea(t){this.router.navigate([`/tarea-update/${t}`])}confirmarEliminarTarea(t){this.tareaAEliminarId=t,this.mostrarModal=!0}eliminarTareaConfirmada(){this.tareaAEliminarId!==null&&(this.eliminarTarea(this.tareaAEliminarId),this.cerrarModal())}cerrarModal(){this.mostrarModal=!1,this.tareaAEliminarId=null}filtrarTareas(){this.tareasFiltradas=this.filterService.filtrar(this.tareas,this.textoBusqueda),this.paginaActual=1,this.calcularPaginacion()}calcularPaginacion(){let t=this.paginationService.paginate(this.tareasFiltradas,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.tareasPaginadas=t.paginatedData}cambiarPagina(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarTareasPaginadas()}actualizarTareasPaginadas(){let t=this.paginationService.paginate(this.tareasFiltradas,this.paginaActual,this.elementosPorPagina);this.tareasPaginadas=t.paginatedData}verServiciosPorTarea(t){this.servicioTareaService.obtenerServicioTareas().subscribe(e=>{this.serviciosTarea=e.filter(r=>r.tarea?.id===t),console.log("Respuesta servicios:",this.serviciosTarea),this.mostrarModalServicios=!0})}cerrarModalServicios(){this.mostrarModalServicios=!1,this.serviciosTarea=[]}verEmpleadosPorTarea(t){this.empleadoTareaService.obtenerEmpleadoTareas().subscribe(e=>{this.empleadosTarea=e.filter(r=>r.tarea?.id===t),this.mostrarModalEmpleados=!0})}verEquiposPorTarea(t){this.equipoTareaService.obtenerEquipoTareas().subscribe(e=>{this.equiposTarea=e.filter(r=>r.tarea?.id===t),this.mostrarModalEquipos=!0})}cerrarModalEquipos(){this.mostrarModalEquipos=!1,this.equiposTarea=[]}cerrarModalEmpleados(){this.mostrarModalEmpleados=!1,this.empleadosTarea=[]}verMaterialesPorTarea(t){this.materialTareaService.obtenerMaterialTareas().subscribe(e=>{this.materialesTarea=e.filter(r=>r.tarea?.id===t),this.mostrarModalMateriales=!0})}cerrarModalMateriales(){this.mostrarModalMateriales=!1,this.materialesTarea=[]}static \u0275fac=function(e){return new(e||i)(ae(Wo),ae(vt),ae(zi),ae(Yi),ae(hc),ae(mc),ae(gc),ae(vc))};static \u0275cmp=ot({type:i,selectors:[["app-tarea"]],standalone:!0,features:[ut],decls:30,vars:10,consts:[[1,"content","tareas-container"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"card","shadow-sm"],[1,"card-body"],[1,"row","mb-3"],[1,"col-12","col-md-6"],[1,"m-0"],[1,"col-12","col-md-6","text-md-end"],[1,"btn-crear",3,"click"],[1,"bi","bi-plus-circle"],[1,"form-group","mb-3"],["type","text","placeholder","Buscar tareas...",1,"form-control",3,"ngModelChange","input","ngModel"],["class","col-12",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","justify-content-center","mt-4"],[1,"btn","btn-outline-secondary","btn-sm",3,"click","disabled"],[1,"mx-3"],["class","modal-ver",4,"ngIf"],["class","modal",4,"ngIf"],[1,"card","mb-4"],[1,"card-title"],[1,"info-item"],[1,"d-flex","gap-2","flex-wrap","mt-3"],[1,"btn-ver",3,"click"],[1,"bi","bi-card-list"],[1,"btn-editar",3,"click"],[1,"bi","bi-pencil"],[1,"btn-eliminar",3,"click"],[1,"bi","bi-trash"],[1,"modal-ver"],[1,"modal-content-ver"],[1,"close",3,"click"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"modal"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"close",3,"click"],[1,"modal-body"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(e,r){e&1&&(c(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h4",8),h(9,"Tareas"),l()(),c(10,"div",9)(11,"button",10),J("click",function(){return r.irACrearTarea()}),Le(12,"i",11),h(13," Registrar "),l()()(),c(14,"div",12)(15,"input",13),ye("ngModelChange",function(a){return xe(r.textoBusqueda,a)||(r.textoBusqueda=a),a}),J("input",function(){return r.filtrarTareas()}),l()(),c(16,"div",2),U(17,qT,50,11,"div",14),l(),c(18,"div",15)(19,"button",16),J("click",function(){return r.cambiarPagina("previous")}),h(20," \u2190 Anterior "),l(),c(21,"span",17),h(22),l(),c(23,"button",16),J("click",function(){return r.cambiarPagina("next")}),h(24," Siguiente \u2192 "),l()()()()()()()(),U(25,GT,8,2,"div",18)(26,YT,8,2,"div",18)(27,ek,8,2,"div",18)(28,nk,8,2,"div",18)(29,ak,15,0,"div",19)),e&2&&(v(15),be("ngModel",r.textoBusqueda),v(2),M("ngForOf",r.tareasPaginadas),v(2),M("disabled",r.paginaActual===1),v(3),tt(" P\xE1gina ",r.paginaActual," "),v(),M("disabled",r.paginaActual===r.totalPaginas),v(2),M("ngIf",r.mostrarModalServicios),v(),M("ngIf",r.mostrarModalEmpleados),v(),M("ngIf",r.mostrarModalMateriales),v(),M("ngIf",r.mostrarModalEquipos),v(),M("ngIf",r.mostrarModal))},dependencies:[ht,zt,Et,oa,Ui,kt,Mt,Tt,Ot],styles:['@charset "UTF-8";button[_ngcontent-%COMP%]{cursor:pointer;border:none;border-radius:8px;padding:8px 14px;font-size:14px;transition:all .3s ease;margin-right:6px;display:inline-flex;align-items:center;gap:6px}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:15px}button[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}button[_ngcontent-%COMP%]:focus{outline:none}button.btn-crear[_ngcontent-%COMP%]{float:right;background:linear-gradient(to right,#4caf50,#45a049);color:#fff;margin-bottom:20px;box-shadow:0 4px 8px #00000026}button.btn-crear[_ngcontent-%COMP%]:hover{background:#576c58}button.btn-editar[_ngcontent-%COMP%]{background-color:#2196f3;color:#fff}button.btn-editar[_ngcontent-%COMP%]:hover{background-color:#38617a}button.btn-eliminar[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}button.btn-eliminar[_ngcontent-%COMP%]:hover{background-color:#7b4848}button.btn-ver[_ngcontent-%COMP%]{background-color:#9b9b9b;color:#fff}button.btn-ver[_ngcontent-%COMP%]:hover{background-color:#7c7b7b}.modal[_ngcontent-%COMP%], .modal-eliminar[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%], .modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content-eliminar[_ngcontent-%COMP%], .modal-eliminar[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%], .modal-eliminar[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content-eliminar[_ngcontent-%COMP%]{background:#fff;padding:25px;border-radius:8px;width:400px;text-align:center;box-shadow:0 4px 10px #0003;position:relative}.modal-title[_ngcontent-%COMP%]{font-size:20px;color:#333;margin-top:0}.btn-close[_ngcontent-%COMP%]{position:absolute;top:10px;right:15px;font-size:30px;cursor:pointer;border:none;background:none;font-weight:700;color:#666}.btn-close[_ngcontent-%COMP%]:hover{color:#000}ol[_ngcontent-%COMP%]{padding-left:20px;margin:10px 0;color:#444}ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:5px 0;border-bottom:1px solid #eee}ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}p[_ngcontent-%COMP%]{color:#888;font-style:normal}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;text-align:left;border:1px solid #ddd}.info-item[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:.5rem;color:#444}.info-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:700;color:#000;margin-right:.3rem}.close[_ngcontent-%COMP%]{position:absolute;top:10px;right:15px;font-size:30px;cursor:pointer;border:none;background:none;font-weight:700;color:#666}.close[_ngcontent-%COMP%]:hover{color:#000}.modal-ver[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080}.modal-content-ver[_ngcontent-%COMP%]{background:#fff;padding:25px;border-radius:8px;width:400px;text-align:left;box-shadow:0 4px 10px #0003;position:relative}']})};var Ja=class i{constructor(t){this.http=t}apiUrl=li.apiUrl;obtenerObras(){return this.http.get(`${this.apiUrl}/obras`)}obtenerObrasDesc(){return this.http.get(`${this.apiUrl}/obras/list-desc`)}obtenerObraPorId(t){return this.http.get(`${this.apiUrl}/obras/${t}`)}crearObra(t){let e=st({},t);return this.http.post(`${this.apiUrl}/obras`,e)}actualizarObra(t,e){return this.http.put(`${this.apiUrl}/obras/${t}`,e)}eliminarObra(t){return this.http.delete(`${this.apiUrl}/obras/${t}`)}static \u0275fac=function(e){return new(e||i)(St(ai))};static \u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"})};var da=class i{constructor(t){this.http=t}apiUrl=`${li.apiUrl}/servicios`;obtenerServicios(){return this.http.get(this.apiUrl)}obtenerServicioPorId(t){return this.http.get(`${this.apiUrl}/${t}`)}crearServicio(t){let e=st({},t);return this.http.post(this.apiUrl,e)}actualizarServicio(t,e){return this.http.put(`${this.apiUrl}/${t}`,e)}eliminarServicio(t){return this.http.delete(`${this.apiUrl}/${t}`)}static \u0275fac=function(e){return new(e||i)(St(ai))};static \u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"})};var Ho=class i{constructor(t){this.http=t}apiUrl=`${li.apiUrl}/empleados`;obtenerEmpleados(){return this.http.get(this.apiUrl)}obtenerEmpleadoPorId(t){return this.http.get(`${this.apiUrl}/${t}`)}crearEmpleado(t){let e=st({},t);return delete e.id,this.http.post(this.apiUrl,e)}actualizarEmpleado(t,e){return this.http.put(`${this.apiUrl}/${t}`,e)}eliminarEmpleado(t){return this.http.delete(`${this.apiUrl}/${t}`)}static \u0275fac=function(e){return new(e||i)(St(ai))};static \u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"})};function ok(i,t){if(i&1&&(c(0,"option",37),h(1),l()),i&2){let e=t.$implicit;M("value",e),v(),Ve(e)}}function sk(i,t){if(i&1&&(c(0,"option",37),h(1),l()),i&2){let e=t.$implicit;M("value",e),v(),Ve(e)}}function lk(i,t){if(i&1&&(c(0,"option",37),h(1),l()),i&2){let e=t.$implicit;M("value",e.id),v(),Ve(e.nombre)}}function ck(i,t){if(i&1){let e=Je();c(0,"li",40),J("mousedown",function(){let n=z(e).$implicit,a=ee(2);return W(a.seleccionarServicio(n))}),h(1),l()}if(i&2){let e=t.$implicit;v(),tt(" ",e.nombre,`
`)}}function dk(i,t){if(i&1&&(c(0,"ul",38),U(1,ck,2,1,"li",39),l()),i&2){let e=ee();v(),M("ngForOf",e.serviciosFiltrados)}}function uk(i,t){if(i&1){let e=Je();c(0,"li",41),h(1),c(2,"button",42),J("click",function(){let n=z(e).$implicit,a=ee();return W(a.removeServicioFromSelected(n))}),h(3,"Eliminar"),l()()}if(i&2){let e=t.$implicit;v(),tt(" ",e.nombre," ")}}function fk(i,t){if(i&1){let e=Je();c(0,"li",40),J("mousedown",function(){let n=z(e).$implicit,a=ee(2);return W(a.seleccionarEmpleado(n))}),h(1),l()}if(i&2){let e=t.$implicit;v(),_2(" ",e.nombre," ",e.apellido," (",e.documentoIdentidad,") ")}}function pk(i,t){if(i&1&&(c(0,"ul",38),U(1,fk,2,3,"li",39),l()),i&2){let e=ee();v(),M("ngForOf",e.empleadosFiltrados)}}function hk(i,t){if(i&1){let e=Je();c(0,"li",41),h(1),c(2,"button",42),J("click",function(){let n=z(e).$implicit,a=ee();return W(a.removeEmpleadoFromSelected(n))}),h(3," Eliminar "),l()()}if(i&2){let e=t.$implicit;v(),Di(" ",e.nombre," ",e.apellido," ")}}function mk(i,t){if(i&1){let e=Je();c(0,"li",40),J("mousedown",function(){let n=z(e).$implicit,a=ee(2);return W(a.seleccionarMaterial(n))}),h(1),l()}if(i&2){let e=t.$implicit;v(),Di(" ",e.nombre," (",e.unidadMedida,") ")}}function gk(i,t){if(i&1&&(c(0,"ul",38),U(1,mk,2,2,"li",39),l()),i&2){let e=ee();v(),M("ngForOf",e.materialesFiltrados)}}function vk(i,t){if(i&1){let e=Je();c(0,"li",41)(1,"div"),h(2),c(3,"label",43),h(4,"Cantidad:"),l(),c(5,"input",44),ye("ngModelChange",function(n){let a=z(e).$implicit;return xe(a.cantidad,n)||(a.cantidad=n),W(n)}),l()(),c(6,"button",42),J("click",function(){let n=z(e).$implicit,a=ee();return W(a.removeMaterialFromSelected(n.material))}),h(7," Eliminar "),l()()}if(i&2){let e=t.$implicit;v(2),Di(" ",e.material.nombre," (",e.material.unidadMedida,") - "),v(3),be("ngModel",e.cantidad)}}function _k(i,t){if(i&1){let e=Je();c(0,"li",40),J("mousedown",function(){let n=z(e).$implicit,a=ee(2);return W(a.seleccionarEquipo(n))}),h(1),l()}if(i&2){let e=t.$implicit;v(),Di(" ",e.nombre," (",e.tipoEquipo,") ")}}function bk(i,t){if(i&1&&(c(0,"ul",38),U(1,_k,2,2,"li",39),l()),i&2){let e=ee();v(),M("ngForOf",e.equiposFiltrados)}}function xk(i,t){if(i&1){let e=Je();c(0,"li",41),h(1),c(2,"button",42),J("click",function(){let n=z(e).$implicit,a=ee();return W(a.removeEquipoFromSelected(n))}),h(3," Eliminar "),l()()}if(i&2){let e=t.$implicit;v(),tt(" ",e.nombre," ")}}var Eh=class i{constructor(t,e,r,n,a,o,d,u,p,g,y,w){this.tareaService=t;this.obraCivilService=e;this.servicioService=r;this.servicioTareaService=n;this.empleadoService=a;this.empleadoTareaService=o;this.equipoService=d;this.equipoTareaService=u;this.filterService=p;this.materialService=g;this.materialTareaService=y;this.router=w}tarea={nombre:"",descripcion:"",fechaInicio:new Date().toISOString().split("T")[0],fechaFin:new Date().toISOString().split("T")[0],estado:"pendiente",prioridad:"media",obraCivil:{id:0,nombre:""}};obrasCiviles=[];estados=["pendiente","en progreso","completada","cancelada"];prioridades=["baja","media","alta"];servicios=[];selectedServicios=[];filtroServicio="";mostrarSugerencias=!1;empleados=[];selectedEmpleados=[];filtroEmpleado="";mostrarSugerenciasEmpleado=!1;equipos=[];selectedEquipos=[];filtroEquipo="";mostrarSugerenciasEquipo=!1;materiales=[];selectedMateriales=[];filtroMaterial="";mostrarSugerenciasMaterial=!1;ngOnInit(){this.cargarObrasCiviles(),this.cargarServicios(),this.cargarEmpleados(),this.cargarEquipos(),this.cargarMateriales()}cargarObrasCiviles(){this.obraCivilService.obtenerObras().subscribe(t=>{this.obrasCiviles=t})}cargarServicios(){this.servicioService.obtenerServicios().subscribe(t=>{this.servicios=t})}get serviciosFiltrados(){return this.filterService.filtrar(this.servicios,this.filtroServicio)}seleccionarServicio(t){this.selectedServicios.some(e=>e.id===t.id)||this.selectedServicios.push(t),this.filtroServicio="",this.mostrarSugerencias=!1}removeServicioFromSelected(t){this.selectedServicios=this.selectedServicios.filter(e=>e.id!==t.id)}ocultarSugerenciasConDelay(){setTimeout(()=>{this.mostrarSugerencias=!1},200)}cargarEmpleados(){this.empleadoService.obtenerEmpleados().subscribe(t=>{this.empleados=t})}get empleadosFiltrados(){return this.filterService.filtrar(this.empleados,this.filtroEmpleado)}seleccionarEmpleado(t){this.selectedEmpleados.some(e=>e.id===t.id)||this.selectedEmpleados.push(t),this.filtroEmpleado="",this.mostrarSugerenciasEmpleado=!1}removeEmpleadoFromSelected(t){this.selectedEmpleados=this.selectedEmpleados.filter(e=>e.id!==t.id)}ocultarSugerenciasEmpleadoConDelay(){setTimeout(()=>{this.mostrarSugerenciasEmpleado=!1},200)}cargarEquipos(){this.equipoService.obtenerEquipos().subscribe(t=>{this.equipos=t})}get equiposFiltrados(){return this.filterService.filtrar(this.equipos,this.filtroEquipo)}seleccionarEquipo(t){this.selectedEquipos.some(e=>e.id===t.id)||this.selectedEquipos.push(t),this.filtroEquipo="",this.mostrarSugerenciasEquipo=!1}removeEquipoFromSelected(t){this.selectedEquipos=this.selectedEquipos.filter(e=>e.id!==t.id)}ocultarSugerenciasEquipoConDelay(){setTimeout(()=>{this.mostrarSugerenciasEquipo=!1},200)}cargarMateriales(){this.materialService.obtenerMateriales().subscribe(t=>{this.materiales=t})}get materialesFiltrados(){return this.filterService.filtrar(this.materiales,this.filtroMaterial)}seleccionarMaterial(t){this.selectedMateriales.find(r=>r.material.id===t.id)||this.selectedMateriales.push({material:t,cantidad:1}),this.filtroMaterial="",this.mostrarSugerenciasMaterial=!1}removeMaterialFromSelected(t){this.selectedMateriales=this.selectedMateriales.filter(e=>e.material.id!==t.id)}ocultarSugerenciasMaterialConDelay(){setTimeout(()=>{this.mostrarSugerenciasMaterial=!1},200)}crearTarea(){if(new Date(this.tarea.fechaFin)<new Date(this.tarea.fechaInicio)){alert("La fecha de fin no puede ser anterior a la fecha de inicio");return}this.tareaService.crearTarea(this.tarea).subscribe(t=>{this.selectedServicios.forEach(e=>{let r={tarea:{id:t.id},servicio:{id:e.id}};this.servicioTareaService.crearServicioTarea(r).subscribe()}),this.selectedEmpleados.forEach(e=>{let r={tareaId:t.id,empleadoId:e.id,fechaAsignacion:new Date().toISOString().split("T")[0],rolEnTarea:"trabajador"};this.empleadoTareaService.crearEmpleadoTarea(r).subscribe()}),this.selectedEquipos.forEach(e=>{let r={tareaId:t.id,equipoId:e.id,fechaAsignacion:new Date().toISOString().split("T")[0]};this.equipoTareaService.crearEquipoTarea(r).subscribe()}),this.selectedMateriales.forEach(({material:e,cantidad:r})=>{let n={tareaId:t.id,materialId:e.id};this.materialTareaService.crearMaterialTarea(n).subscribe()}),this.router.navigate(["/tarea"])})}cancelar(){this.router.navigate(["/tarea"])}static \u0275fac=function(e){return new(e||i)(ae(Wo),ae(Ja),ae(da),ae(hc),ae(Ho),ae(mc),ae(ca),ae(vc),ae(zi),ae(la),ae(gc),ae(vt))};static \u0275cmp=ot({type:i,selectors:[["app-tarea-create"]],standalone:!0,features:[ut],decls:82,vars:22,consts:[[1,"form-container"],[1,"mb-4"],[1,"form",3,"ngSubmit"],[1,"form-group","mb-3"],["for","nombre"],["type","text","id","nombre","name","nombre","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","descripcion"],["id","descripcion","name","descripcion",1,"form-control",3,"ngModelChange","ngModel"],[1,"row"],[1,"col-md-6","form-group","mb-3"],["for","fechaInicio"],["type","date","id","fechaInicio","name","fechaInicio","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","fechaFin"],["type","date","id","fechaFin","name","fechaFin","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","estado"],["id","estado","name","estado",1,"form-select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","prioridad"],["id","prioridad","name","prioridad",1,"form-select",3,"ngModelChange","ngModel"],["for","obraCivil"],["id","obraCivil","name","obraCivilId",1,"form-select",3,"ngModelChange","ngModel"],[1,"form-group","mb-3","position-relative"],["for","filtroServicio"],["type","text","id","filtroServicio","name","filtroServicio","placeholder","Buscar servicio...","autocomplete","off",1,"form-control",3,"ngModelChange","input","blur","ngModel"],["class","list-group position-absolute w-100 sugerencias",4,"ngIf"],[1,"leter"],[1,"list-group"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],["for","filtroEmpleado"],["type","text","id","filtroEmpleado","name","filtroEmpleado","placeholder","Buscar empleado...","autocomplete","off",1,"form-control",3,"ngModelChange","input","blur","ngModel"],["for","filtroMaterial"],["type","text","id","filtroMaterial","name","filtroMaterial","placeholder","Buscar material...","autocomplete","off",1,"form-control",3,"ngModelChange","input","blur","ngModel"],["for","filtroEquipo"],["type","text","id","filtroEquipo","name","filtroEquipo","placeholder","Buscar equipo...","autocomplete","off",1,"form-control",3,"ngModelChange","input","blur","ngModel"],[1,"form-group","d-flex","justify-content-end","gap-2"],["type","submit",1,"submit-btn"],["type","button",1,"cancel-btn",3,"click"],[3,"value"],[1,"list-group","position-absolute","w-100","sugerencias"],["class","list-group-item list-group-item-action",3,"mousedown",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action",3,"mousedown"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],["type","button",1,"btn","btn-sm","btn-danger",3,"click"],["for","cantidad"],["type","number","min","1",1,"form-control","d-inline-block",2,"width","100px",3,"ngModelChange","ngModel"]],template:function(e,r){e&1&&(c(0,"div",0)(1,"h2",1),h(2,"Crear Nueva Tarea"),l(),c(3,"form",2),J("ngSubmit",function(){return r.crearTarea()}),c(4,"div",3)(5,"label",4),h(6,"Nombre:"),l(),c(7,"input",5),ye("ngModelChange",function(a){return xe(r.tarea.nombre,a)||(r.tarea.nombre=a),a}),l()(),c(8,"div",3)(9,"label",6),h(10,"Descripci\xF3n:"),l(),c(11,"textarea",7),ye("ngModelChange",function(a){return xe(r.tarea.descripcion,a)||(r.tarea.descripcion=a),a}),l()(),c(12,"div",8)(13,"div",9)(14,"label",10),h(15,"Fecha Inicio:"),l(),c(16,"input",11),ye("ngModelChange",function(a){return xe(r.tarea.fechaInicio,a)||(r.tarea.fechaInicio=a),a}),l()(),c(17,"div",9)(18,"label",12),h(19,"Fecha Fin:"),l(),c(20,"input",13),ye("ngModelChange",function(a){return xe(r.tarea.fechaFin,a)||(r.tarea.fechaFin=a),a}),l()()(),c(21,"div",8)(22,"div",9)(23,"label",14),h(24,"Estado:"),l(),c(25,"select",15),ye("ngModelChange",function(a){return xe(r.tarea.estado,a)||(r.tarea.estado=a),a}),U(26,ok,2,2,"option",16),l()(),c(27,"div",9)(28,"label",17),h(29,"Prioridad:"),l(),c(30,"select",18),ye("ngModelChange",function(a){return xe(r.tarea.prioridad,a)||(r.tarea.prioridad=a),a}),U(31,sk,2,2,"option",16),l()()(),c(32,"div",3)(33,"label",19),h(34,"Obra Civil:"),l(),c(35,"select",20),ye("ngModelChange",function(a){return xe(r.tarea.obraCivil.id,a)||(r.tarea.obraCivil.id=a),a}),U(36,lk,2,2,"option",16),l()(),c(37,"div",21)(38,"label",22),h(39,"Buscar Servicios:"),l(),c(40,"input",23),ye("ngModelChange",function(a){return xe(r.filtroServicio,a)||(r.filtroServicio=a),a}),J("input",function(){return r.mostrarSugerencias=!0})("blur",function(){return r.ocultarSugerenciasConDelay()}),l(),U(41,dk,2,1,"ul",24),l(),c(42,"div",3)(43,"label",25),h(44,"Servicios Seleccionados:"),l(),c(45,"ul",26),U(46,uk,4,1,"li",27),l()(),c(47,"div",21)(48,"label",28),h(49,"Buscar Empleados:"),l(),c(50,"input",29),ye("ngModelChange",function(a){return xe(r.filtroEmpleado,a)||(r.filtroEmpleado=a),a}),J("input",function(){return r.mostrarSugerenciasEmpleado=!0})("blur",function(){return r.ocultarSugerenciasEmpleadoConDelay()}),l(),U(51,pk,2,1,"ul",24),l(),c(52,"div",3)(53,"label",25),h(54,"Empleados Seleccionados:"),l(),c(55,"ul",26),U(56,hk,4,2,"li",27),l()(),c(57,"div",21)(58,"label",30),h(59,"Buscar Materiales:"),l(),c(60,"input",31),ye("ngModelChange",function(a){return xe(r.filtroMaterial,a)||(r.filtroMaterial=a),a}),J("input",function(){return r.mostrarSugerenciasMaterial=!0})("blur",function(){return r.ocultarSugerenciasMaterialConDelay()}),l(),U(61,gk,2,1,"ul",24),l(),c(62,"div",3)(63,"label",25),h(64,"Materiales Seleccionados:"),l(),c(65,"ul",26),U(66,vk,8,3,"li",27),l()(),c(67,"div",21)(68,"label",32),h(69,"Buscar Equipos:"),l(),c(70,"input",33),ye("ngModelChange",function(a){return xe(r.filtroEquipo,a)||(r.filtroEquipo=a),a}),J("input",function(){return r.mostrarSugerenciasEquipo=!0})("blur",function(){return r.ocultarSugerenciasEquipoConDelay()}),l(),U(71,bk,2,1,"ul",24),l(),c(72,"div",3)(73,"label",25),h(74,"Equipos Seleccionados:"),l(),c(75,"ul",26),U(76,xk,4,1,"li",27),l()(),c(77,"div",34)(78,"button",35),h(79,"Crear Tarea"),l(),c(80,"button",36),J("click",function(){return r.cancelar()}),h(81,"Cancelar"),l()()()()),e&2&&(v(7),be("ngModel",r.tarea.nombre),v(4),be("ngModel",r.tarea.descripcion),v(5),be("ngModel",r.tarea.fechaInicio),v(4),be("ngModel",r.tarea.fechaFin),v(5),be("ngModel",r.tarea.estado),v(),M("ngForOf",r.estados),v(4),be("ngModel",r.tarea.prioridad),v(),M("ngForOf",r.prioridades),v(4),be("ngModel",r.tarea.obraCivil.id),v(),M("ngForOf",r.obrasCiviles),v(4),be("ngModel",r.filtroServicio),v(),M("ngIf",r.mostrarSugerencias&&r.serviciosFiltrados.length>0),v(5),M("ngForOf",r.selectedServicios),v(4),be("ngModel",r.filtroEmpleado),v(),M("ngIf",r.mostrarSugerenciasEmpleado&&r.empleadosFiltrados.length>0),v(5),M("ngForOf",r.selectedEmpleados),v(4),be("ngModel",r.filtroMaterial),v(),M("ngIf",r.mostrarSugerenciasMaterial&&r.materialesFiltrados.length>0),v(5),M("ngForOf",r.selectedMateriales),v(4),be("ngModel",r.filtroEquipo),v(),M("ngIf",r.mostrarSugerenciasEquipo&&r.equiposFiltrados.length>0),v(5),M("ngForOf",r.selectedEquipos))},dependencies:[kt,ni,ji,qi,Mt,Qi,Ri,Tt,ri,si,xr,Ot,oi,ht,zt,Et],styles:['@charset "UTF-8";.form-container[_ngcontent-%COMP%]{max-width:500px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px;position:relative}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:14px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.error-message[_ngcontent-%COMP%]{color:red;font-size:14px;margin-top:5px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%], .add-btn[_ngcontent-%COMP%]{width:48%;padding:10px;font-size:16px;border-radius:4px;cursor:pointer;border:none}.submit-btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6;cursor:not-allowed}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#218838}.cancel-btn[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#c82333}.add-btn[_ngcontent-%COMP%]{width:auto;min-width:120px;background-color:#007bff;color:#fff;padding:8px 12px;font-size:14px;border-radius:4px;cursor:pointer;border:none}.add-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.add-button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:5px}ul[_ngcontent-%COMP%]{list-style:none;padding:0}li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;padding:8px;background-color:#f0f0f0;border-radius:4px}li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fd7e14;color:#fff;padding:5px 10px;border-radius:4px;border:none;cursor:pointer}li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#e96a0c}.sugerencias[_ngcontent-%COMP%]{z-index:1000;max-height:200px;overflow-y:auto}.leter[_ngcontent-%COMP%]{color:#4b575d;font-style:arial;font-size:.9rem;text-decoration:underline}']})};function yk(i,t){i&1&&(c(0,"small"),h(1,"El nombre es obligatorio."),l())}function Ck(i,t){i&1&&(c(0,"small"),h(1,"Debe tener al menos 3 caracteres."),l())}function wk(i,t){i&1&&(c(0,"small"),h(1,"No puede exceder los 100 caracteres."),l())}function Sk(i,t){if(i&1&&(c(0,"div",33),U(1,yk,2,0,"small",34)(2,Ck,2,0,"small",34)(3,wk,2,0,"small",34),l()),i&2){ee();let e=ue(9);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength),v(),M("ngIf",e.errors==null?null:e.errors.maxlength)}}function Ek(i,t){i&1&&(c(0,"small"),h(1,"No puede exceder los 255 caracteres."),l())}function Pk(i,t){if(i&1&&(c(0,"div",33),U(1,Ek,2,0,"small",34),l()),i&2){ee();let e=ue(15);v(),M("ngIf",e.errors==null?null:e.errors.maxlength)}}function Mk(i,t){i&1&&(c(0,"small"),h(1,"La fecha de inicio es obligatoria."),l())}function Tk(i,t){if(i&1&&(c(0,"div",33),U(1,Mk,2,0,"small",34),l()),i&2){ee();let e=ue(22);v(),M("ngIf",e.errors==null?null:e.errors.required)}}function kk(i,t){i&1&&(c(0,"small"),h(1,"La fecha de fin es obligatoria."),l())}function Ak(i,t){if(i&1&&(c(0,"div",33),U(1,kk,2,0,"small",34),l()),i&2){ee();let e=ue(28);v(),M("ngIf",e.errors==null?null:e.errors.required)}}function Ok(i,t){if(i&1&&(c(0,"option",35),h(1),ei(2,"titlecase"),l()),i&2){let e=t.$implicit;M("value",e),v(),Ve(Ci(2,2,e))}}function Ik(i,t){if(i&1&&(c(0,"option",35),h(1),ei(2,"titlecase"),l()),i&2){let e=t.$implicit;M("value",e),v(),Ve(Ci(2,2,e))}}function Fk(i,t){if(i&1&&(c(0,"option",36),h(1),l()),i&2){let e=t.$implicit,r=ee();M("value",e.id)("selected",e.id===r.tarea.obraCivil.id),v(),tt(" ",e.nombre," ")}}function Nk(i,t){i&1&&(c(0,"small"),h(1,"Debe seleccionar una obra civil."),l())}function Lk(i,t){if(i&1&&(c(0,"div",33),U(1,Nk,2,0,"small",34),l()),i&2){ee();let e=ue(47);v(),M("ngIf",e.errors==null?null:e.errors.required)}}var Ph=class i{constructor(t,e,r,n,a,o,d,u,p,g,y,w){this.tareaService=t;this.obraCivilService=e;this.servicioService=r;this.empleadoService=n;this.equipoService=a;this.materialService=o;this.servicioTareaService=d;this.empleadoTareaService=u;this.equipoTareaService=p;this.materialTareaService=g;this.route=y;this.router=w}tarea={nombre:"",descripcion:"",fechaInicio:"",fechaFin:"",estado:"pendiente",prioridad:"media",obraCivil:{id:0,nombre:""}};obrasCiviles=[];serviciosDisponibles=[];empleadosDisponibles=[];materialesDisponibles=[];equiposDisponibles=[];estados=["pendiente","en progreso","completada","cancelada"];prioridades=["baja","media","alta"];selectedServicios=[];selectedEmpleados=[];selectedEquipos=[];selectedMateriales=[];ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("id"));t&&this.tareaService.obtenerTareaPorId(t).subscribe(e=>{this.tarea=Ki(st({},e),{fechaInicio:e.fechaInicio.split("T")[0],fechaFin:e.fechaFin.split("T")[0]})}),this.obraCivilService.obtenerObras().subscribe(e=>this.obrasCiviles=e),this.servicioService.obtenerServicios().subscribe(e=>this.serviciosDisponibles=e),this.empleadoService.obtenerEmpleados().subscribe(e=>this.empleadosDisponibles=e),this.materialService.obtenerMateriales().subscribe(e=>this.materialesDisponibles=e),this.equipoService.obtenerEquipos().subscribe(e=>this.equiposDisponibles=e)}actualizarTarea(){if(new Date(this.tarea.fechaFin)<new Date(this.tarea.fechaInicio)){alert("La fecha de fin no puede ser anterior a la fecha de inicio");return}this.tarea.id&&this.tareaService.actualizarTarea(this.tarea.id,this.tarea).subscribe(()=>{this.router.navigate(["/tarea"])})}cancelar(){this.router.navigate(["/tarea"])}static \u0275fac=function(e){return new(e||i)(ae(Wo),ae(Ja),ae(da),ae(Ho),ae(ca),ae(la),ae(hc),ae(mc),ae(vc),ae(gc),ae(Vi),ae(vt))};static \u0275cmp=ot({type:i,selectors:[["app-tarea-update"]],standalone:!0,features:[ut],decls:55,vars:16,consts:[["tareaForm","ngForm"],["nombre","ngModel"],["descripcion","ngModel"],["fechaInicio","ngModel"],["fechaFin","ngModel"],["estado","ngModel"],["prioridad","ngModel"],["obraCivil","ngModel"],[1,"form-container"],[3,"ngSubmit"],[1,"form-group"],["for","nombre"],["id","nombre","name","nombre","placeholder","Nombre de la tarea","required","","minlength","3","maxlength","100",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","descripcion"],["id","descripcion","name","descripcion","placeholder","Descripci\xF3n de la tarea","maxlength","255","rows","3",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-row"],[1,"form-group","col-md-6"],["for","fechaInicio"],["type","date","id","fechaInicio","name","fechaInicio","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","fechaFin"],["type","date","id","fechaFin","name","fechaFin","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","estado"],["id","estado","name","estado","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","prioridad"],["id","prioridad","name","prioridad","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","obraCivil"],["id","obraCivil","name","obraCivil","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"value","selected",4,"ngFor","ngForOf"],[1,"button-container"],["type","submit",1,"submit-btn",3,"disabled"],["type","button",1,"cancel-btn",3,"click"],[1,"error-message"],[4,"ngIf"],[3,"value"],[3,"value","selected"]],template:function(e,r){if(e&1){let n=Je();c(0,"div",8)(1,"h2"),h(2,"Actualizar Tarea"),l(),c(3,"form",9,0),J("ngSubmit",function(){return z(n),W(r.actualizarTarea())}),c(5,"div",10)(6,"label",11),h(7,"Nombre:"),l(),c(8,"input",12,1),ye("ngModelChange",function(o){return z(n),xe(r.tarea.nombre,o)||(r.tarea.nombre=o),W(o)}),l(),U(10,Sk,4,3,"div",13),l(),c(11,"div",10)(12,"label",14),h(13,"Descripci\xF3n:"),l(),c(14,"textarea",15,2),ye("ngModelChange",function(o){return z(n),xe(r.tarea.descripcion,o)||(r.tarea.descripcion=o),W(o)}),l(),U(16,Pk,2,1,"div",13),l(),c(17,"div",16)(18,"div",17)(19,"label",18),h(20,"Fecha Inicio:"),l(),c(21,"input",19,3),ye("ngModelChange",function(o){return z(n),xe(r.tarea.fechaInicio,o)||(r.tarea.fechaInicio=o),W(o)}),l(),U(23,Tk,2,1,"div",13),l(),c(24,"div",17)(25,"label",20),h(26,"Fecha Fin:"),l(),c(27,"input",21,4),ye("ngModelChange",function(o){return z(n),xe(r.tarea.fechaFin,o)||(r.tarea.fechaFin=o),W(o)}),l(),U(29,Ak,2,1,"div",13),l()(),c(30,"div",16)(31,"div",17)(32,"label",22),h(33,"Estado:"),l(),c(34,"select",23,5),ye("ngModelChange",function(o){return z(n),xe(r.tarea.estado,o)||(r.tarea.estado=o),W(o)}),U(36,Ok,3,4,"option",24),l()(),c(37,"div",17)(38,"label",25),h(39,"Prioridad:"),l(),c(40,"select",26,6),ye("ngModelChange",function(o){return z(n),xe(r.tarea.prioridad,o)||(r.tarea.prioridad=o),W(o)}),U(42,Ik,3,4,"option",24),l()()(),c(43,"div",10)(44,"label",27),h(45,"Obra Civil:"),l(),c(46,"select",28,7),ye("ngModelChange",function(o){return z(n),xe(r.tarea.obraCivil.id,o)||(r.tarea.obraCivil.id=o),W(o)}),U(48,Fk,2,3,"option",29),l(),U(49,Lk,2,1,"div",13),l(),c(50,"div",30)(51,"button",31),h(52,"Actualizar"),l(),c(53,"button",32),J("click",function(){return z(n),W(r.cancelar())}),h(54,"Cancelar"),l()()()()}if(e&2){let n=ue(4),a=ue(9),o=ue(15),d=ue(22),u=ue(28),p=ue(47);v(8),be("ngModel",r.tarea.nombre),v(2),M("ngIf",a.invalid&&(a.dirty||a.touched)),v(4),be("ngModel",r.tarea.descripcion),v(2),M("ngIf",o.invalid&&(o.dirty||o.touched)),v(5),be("ngModel",r.tarea.fechaInicio),v(2),M("ngIf",d.invalid&&(d.dirty||d.touched)),v(4),be("ngModel",r.tarea.fechaFin),v(2),M("ngIf",u.invalid&&(u.dirty||u.touched)),v(5),be("ngModel",r.tarea.estado),v(2),M("ngForOf",r.estados),v(4),be("ngModel",r.tarea.prioridad),v(2),M("ngForOf",r.prioridades),v(4),be("ngModel",r.tarea.obraCivil.id),v(2),M("ngForOf",r.obrasCiviles),v(),M("ngIf",p.invalid&&(p.dirty||p.touched)),v(2),M("disabled",n.invalid)}},dependencies:[kt,ni,ji,qi,Mt,Ri,Tt,ri,si,bi,q1,Ot,oi,ht,zt,Et,js],styles:[".form-container[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:14px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.error-message[_ngcontent-%COMP%]{color:red;font-size:16px;margin-top:5px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{width:48%;padding:10px;font-size:16px;border-radius:4px;cursor:pointer}.submit-btn[_ngcontent-%COMP%]{background-color:#ffc107;color:#fff;border:none}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6;cursor:not-allowed}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#e0a800}.cancel-btn[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})};var Mh=class i{constructor(t){this.http=t}apiUrl=li.apiUrl;backupDatabase(){return this.http.post(`${this.apiUrl}/backup/database/h2`,{})}restoreDatabase(t){return this.http.post(`${this.apiUrl}/backup/restore/h2`,t)}getBackups(){return this.http.get(`${this.apiUrl}/backup/list`)}downloadBackup(t){return this.http.get(`${this.apiUrl}/backup/download?backupFilePath=${encodeURIComponent(t)}`,{responseType:"blob"})}getBackupsGD(){return this.http.get(`${this.apiUrl}/backup/api/backups`)}backupToGoogleDrive(){return this.http.post(`${this.apiUrl}/backup/drive`,{})}downloadDriveBackup(t){return this.http.get(`${this.apiUrl}/backup/drive/download/${t}`,{responseType:"blob"})}restoreFromDrive(t){return this.http.post(`${this.apiUrl}/backup/restore/${t}`,{})}restoreFromLocal(t){return this.http.post(`${this.apiUrl}/backup/restore/h2`,t)}static \u0275fac=function(e){return new(e||i)(St(ai))};static \u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"})};function Rk(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),h(2),l(),c(3,"td"),h(4),l(),c(5,"td"),h(6),l(),c(7,"td",35)(8,"div",37)(9,"button",38),J("click",function(){let n=z(e).$implicit,a=ee(2);return W(a.downloadBackup(n.ruta))}),Le(10,"i",11),h(11," Descargar "),l()()()()}if(i&2){let e=t.$implicit;v(2),Ve(e.id),v(2),Ve(e.fechahora),v(2),Ve(e.ruta),v(3),M("title","Descargar Backup")}}function Bk(i,t){if(i&1&&(c(0,"div",31)(1,"div",32)(2,"table",33)(3,"thead",34)(4,"tr")(5,"th"),h(6,"ID"),l(),c(7,"th"),h(8,"Fecha y Hora"),l(),c(9,"th"),h(10,"Ruta del Archivo"),l(),c(11,"th",35),h(12,"Acciones"),l()()(),c(13,"tbody"),U(14,Rk,12,4,"tr",36),l()()()()),i&2){let e=ee();v(14),M("ngForOf",e.backups)}}function Uk(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),h(2),l(),c(3,"td"),h(4),l(),c(5,"td",35)(6,"button",42),J("click",function(){let n=z(e).$implicit,a=ee(2);return W(a.downloadFromDrive(n.id,n.name))}),Le(7,"i",43),h(8," Descargar "),l(),c(9,"button",44),J("click",function(){let n=z(e).$implicit,a=ee(2);return W(a.openRestoreModal(n.id,n.name))}),Le(10,"i",45),h(11," Restaurar "),l()()()}if(i&2){let e=t.$implicit;v(2),Ve(e.name),v(2),tt(" ",e.createdTime," ")}}function Vk(i,t){if(i&1&&(c(0,"div")(1,"h5",39),h(2,"Backups en Google Drive"),l(),c(3,"div",32)(4,"table",40)(5,"thead",41)(6,"tr")(7,"th"),h(8,"Nombre del Archivo"),l(),c(9,"th"),h(10,"Fecha y Hora"),l(),c(11,"th",35),h(12,"Acciones"),l()()(),c(13,"tbody"),U(14,Uk,12,2,"tr",36),l()()()()),i&2){let e=ee();v(14),M("ngForOf",e.driveBackups)}}function jk(i,t){i&1&&(c(0,"div",46)(1,"div",47)(2,"span",48),h(3,"Cargando..."),l()()())}function qk(i,t){if(i&1){let e=Je();c(0,"div",49)(1,"label",50),h(2,"Restaurar Backup H2"),l(),c(3,"h5",39),h(4,"Restaurar Backup H2"),l(),c(5,"div",51)(6,"input",52),J("change",function(n){z(e);let a=ee();return W(a.onFileSelected(n))}),l(),c(7,"button",53),J("click",function(){z(e);let n=ee();return W(n.uploadAndRestore())}),Le(8,"i",54),h(9," Restaurar "),l()()()}if(i&2){let e=ee();v(7),M("disabled",e.isBackupInProgress)}}var Th=class i{constructor(t,e){this.backupService=t;this.datePipe=e}backups=[];driveBackups=[];selectedFile=null;isBackupInProgress=!1;isRestoreSectionVisible=!0;selectedFileId="";selectedFileName="";modalMessage="";ngOnInit(){this.getDriveBackups()}getBackups(){this.backupService.getBackups().subscribe(t=>{this.backups=t.map(e=>(e.fechahora=this.datePipe.transform(e.fechahora,"dd-MM-yyyy HH:mm:ss"),e)),console.log("Backups obtenidos:",this.backups)},t=>{console.error("Error al obtener los backups:",t),this.showMessage("Error al obtener backups desde Google Drive")})}backupHDos(){this.backupService.backupDatabase().subscribe(t=>{console.log("Backup H2 iniciado:",t),this.showMessage("Backup H2 iniciado correctamente")},t=>{console.error("Error al realizar el backup de H2:",t),t.status===500?this.showMessage("Hubo un error en el servidor al intentar realizar el backup."):t.status===0?this.showMessage("No se pudo conectar al servidor."):this.showMessage("Hubo un error al iniciar el backup de H2: "+t.message)})}restoreHDos(t){let e=t.target.files[0];if(e){let r=new FormData;r.append("file",e,e.name),this.backupService.restoreDatabase(r).subscribe(n=>{console.log("Restauraci\xF3n H2 iniciada:",n),this.showMessage("Restauraci\xF3n H2 iniciada correctamente")},n=>{console.error("Error al restaurar la base de datos H2:",n),this.showMessage("Hubo un error al restaurar la base de datos H2")})}}downloadBackup(t){this.backupService.downloadBackup(t).subscribe(e=>{let r=new Blob([e],{type:"application/zip"}),n=window.URL.createObjectURL(r),a=document.createElement("a");a.href=n,a.download=t.split("/").pop()||"backup.zip",a.click(),window.URL.revokeObjectURL(n)},e=>{console.error("Error al descargar el backup:",e),this.showMessage("Hubo un error al descargar el backup")})}getDriveBackups(){this.backupService.getBackupsGD().subscribe(t=>{this.driveBackups=t.map(e=>(e.createdTime=this.datePipe.transform(e.createdTime,"dd-MM-yyyy HH:mm:ss"),e)),console.log("Backups obtenidos:",this.driveBackups)},t=>{console.error("Error al obtener los backups:",t),this.showMessage("Error al obtener backups desde Google Drive")})}createBackupToDrive(){this.isBackupInProgress=!0,this.backupService.backupToGoogleDrive().subscribe(t=>{this.showMessage("Backup en Google Drive creado correctamente"),this.getDriveBackups(),this.isBackupInProgress=!1},t=>{this.showMessage("Error al crear backup en Google Drive"),console.error(t),this.isBackupInProgress=!1})}downloadFromDrive(t,e){this.backupService.downloadDriveBackup(t).subscribe(r=>{let n=window.URL.createObjectURL(r),a=document.createElement("a");a.href=n,a.download=e,a.click(),window.URL.revokeObjectURL(n)},r=>{console.error("Error al descargar backup de Drive:",r),this.showMessage("Error al descargar backup desde Google Drive")})}restoreFromDrive(t){confirm("\xBFEst\xE1 seguro que desea restaurar este backup? Se sobrescribir\xE1 la base de datos actual.")&&this.backupService.restoreFromDrive(t).subscribe(()=>{this.showMessage("Backup restaurado correctamente.")},e=>{console.error("Error al restaurar backup:",e),this.showMessage("Error al restaurar backup desde Google Drive")})}onFileSelected(t){this.selectedFile=t.target.files[0]}uploadAndRestore(){if(!this.selectedFile){this.showMessage("Por favor, seleccione un archivo de backup .zip");return}let t=new FormData;t.append("file",this.selectedFile),this.backupService.restoreFromLocal(t).subscribe(()=>{this.showMessage("Backup restaurado desde archivo local correctamente")},e=>{console.error("Error al restaurar backup local:",e),this.showMessage("Error al restaurar desde archivo local")})}openRestoreModal(t,e){this.selectedFileId=t,this.selectedFileName=e;let r=document.getElementById("restoreConfirmModal");r&&new bootstrap.Modal(r).show()}confirmRestore(){let t=document.getElementById("restoreConfirmModal"),e=bootstrap.Modal.getInstance(t);e&&e.hide(),this.backupService.restoreFromDrive(this.selectedFileId).subscribe(r=>{alert("Restauraci\xF3n completada con \xE9xito."),this.showMessage("Restauraci\xF3n completada con \xE9xito.")},r=>{console.error("Error al restaurar:",r),this.showMessage("Hubo un error al intentar restaurar la base de datos.")})}showMessage(t){this.modalMessage=t;let e=document.getElementById("messageModal");e&&new bootstrap.Modal(e).show()}static \u0275fac=function(e){return new(e||i)(ae(Mh),ae(oa))};static \u0275cmp=ot({type:i,selectors:[["app-backup"]],standalone:!0,features:[na([oa]),ut],decls:54,vars:7,consts:[[1,"content"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"card","shadow-sm"],[1,"card-body"],[1,"row","mb-3"],[1,"m-0"],[1,"row","mb-4"],[1,"col-md-6","mb-3"],[1,"btn","btn-primary","w-100",3,"click","disabled"],[1,"bi","bi-download"],["hidden","","style","max-height: 400px; overflow-y: auto",4,"ngIf"],[4,"ngIf"],["class","text-center mt-3",4,"ngIf"],["class","mb-4",4,"ngIf"],["id","restoreConfirmModal","tabindex","-1","aria-labelledby","restoreConfirmModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","bg-danger","text-white"],["id","restoreConfirmModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Cerrar",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"btn","btn-danger",3,"click"],["id","messageModal","tabindex","-1","aria-labelledby","messageModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-header","bg-primary","text-white"],["id","messageModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["hidden","",2,"max-height","400px","overflow-y","auto"],[1,"table-responsive"],[1,"table","table-bordered","table-striped"],[1,"table-primary"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"d-flex","gap-2","justify-content-center"],[1,"btn","btn-secondary","btn-sm",3,"click","title"],[1,"mt-4"],[1,"table","table-bordered","table-hover"],[1,"table-success"],[1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"bi","bi-cloud-download"],[1,"btn","btn-outline-success","btn-sm",3,"click"],[1,"bi","bi-arrow-repeat"],[1,"text-center","mt-3"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"mb-4"],["hidden","",1,"form-label"],[1,"input-group"],["type","file","accept",".zip",1,"form-control",3,"change"],[1,"btn","btn-danger",3,"click","disabled"],[1,"bi","bi-upload"]],template:function(e,r){e&1&&(c(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",3)(8,"h4",7),h(9,"Gesti\xF3n de Backup-Restore"),l()()(),c(10,"div",8)(11,"div",9)(12,"button",10),J("click",function(){return r.createBackupToDrive()}),Le(13,"i",11),h(14," Backup H2 "),l()()(),U(15,Bk,15,1,"div",12)(16,Vk,15,1,"div",13)(17,jk,4,0,"div",14)(18,qk,10,1,"div",15),l()()()()()(),c(19,"div",16)(20,"div",17)(21,"div",18)(22,"div",19)(23,"h5",20),h(24," \xBFConfirmar Restauraci\xF3n? "),l(),Le(25,"button",21),l(),c(26,"div",22)(27,"p")(28,"strong"),h(29,"Advertencia:"),l(),h(30," Esto restaurar\xE1 la base de datos al estado del archivo seleccionado."),Le(31,"br"),h(32," Se perder\xE1n todos los datos actuales. \xBFDeseas continuar? "),l(),c(33,"p")(34,"strong"),h(35,"Archivo:"),l(),h(36),l()(),c(37,"div",23)(38,"button",24),h(39," Cancelar "),l(),c(40,"button",25),J("click",function(){return r.confirmRestore()}),h(41," S\xED, restaurar "),l()()()()(),c(42,"div",26)(43,"div",27)(44,"div",18)(45,"div",28)(46,"h5",29),h(47,"Mensaje"),l(),Le(48,"button",21),l(),c(49,"div",22),h(50),l(),c(51,"div",23)(52,"button",30),h(53," Cerrar "),l()()()()()),e&2&&(v(12),M("disabled",r.isBackupInProgress),v(3),M("ngIf",r.backups.length>0),v(),M("ngIf",r.driveBackups.length>0),v(),M("ngIf",r.isBackupInProgress),v(),M("ngIf",r.isRestoreSectionVisible),v(18),tt(" ",r.selectedFileName,""),v(14),tt(" ",r.modalMessage," "))},dependencies:[ht,zt,Et]})};var _c=Xd(af());function zk(i,t){if(i&1){let e=Je();c(0,"div",3)(1,"div",36)(2,"div",37)(3,"div",38)(4,"div",5)(5,"p",39)(6,"strong"),h(7,"Plano:"),l()(),c(8,"img",40),J("click",function(){let n=z(e).$implicit,a=ee();return W(a.abrirModalImg(n.planoUrl))}),l()(),c(9,"div",5)(10,"p",39)(11,"strong"),h(12,"Ubicacion:"),l()(),Le(13,"div",41),l()(),c(14,"div",42)(15,"div",5)(16,"h5",43),h(17),l(),c(18,"p",39)(19,"strong"),h(20,"Descripci\xF3n:"),l(),h(21),l(),c(22,"p",39)(23,"strong"),h(24,"Tipo de Obra:"),l(),h(25),l(),c(26,"p",39)(27,"strong"),h(28,"Direccion:"),l(),h(29),l(),c(30,"p",39)(31,"strong"),h(32,"Estado:"),l(),h(33),l(),c(34,"p",39)(35,"strong"),h(36,"Fecha de Inicio:"),l(),h(37),ei(38,"date"),l(),c(39,"p",39)(40,"strong"),h(41,"Fecha Estimada de Finalizaci\xF3n:"),l(),h(42),ei(43,"date"),l(),c(44,"p",39)(45,"strong"),h(46,"Costo Estimado:"),l(),h(47),ei(48,"number"),l(),c(49,"p",39)(50,"strong"),h(51,"Costo Actual:"),l(),h(52),ei(53,"number"),l(),c(54,"p",39)(55,"strong"),h(56,"Presupuesto Disponible:"),l(),h(57),ei(58,"number"),l(),c(59,"div",44)(60,"button",45),J("click",function(){let n=z(e).$implicit,a=ee();return W(a.verDetalleObra(n.id))}),Le(61,"i",46),h(62," Ver "),l(),c(63,"button",47),J("click",function(){let n=z(e).$implicit,a=ee();return W(a.irAEditarObra(n.id))}),Le(64,"i",48),h(65," Editar "),l(),c(66,"button",49),J("click",function(){let n=z(e).$implicit,a=ee();return W(a.confirmarEliminarObra(n.id))}),Le(67,"i",35),h(68," Eliminar "),l()(),c(69,"div",44)(70,"button",50),J("click",function(){let n=z(e).$implicit,a=ee();return W(a.verAvanceObra(n.id))}),Le(71,"i",51),h(72," Ver Avance "),l(),c(73,"button",52),J("click",function(){let n=z(e).$implicit,a=ee();return W(a.generarReporteObra(n.id))}),Le(74,"i",53),h(75," Generar Reporte "),l()()()()()()()}if(i&2){let e=t.$implicit,r=t.index;v(8),eu("src",e.planoUrl,Jd),v(5),v2("id","map-",r,""),v(4),Ve(e.nombre),v(4),tt(" ",e.descripcion," "),v(4),tt(" ",e.tipoObra," "),v(4),tt(" ",e.direccion," "),v(4),tt(" ",e.estado," "),v(4),tt(" ",Ci(38,13,e.fechaInicio)," "),v(5),tt(" ",Ci(43,15,e.fechaFinEstimada)," "),v(5),tt(" $",Ci(48,17,e.costoEstimado)," "),v(5),tt(" $",Ci(53,19,e.costo)," "),v(5),tt(" $",Ci(58,21,e.presupuestoDisponible)," ")}}function Wk(i,t){if(i&1&&Le(0,"img",54),i&2){let e=ee();M("src",e.imagenUrl,Jd)}}var Ah=class i{constructor(t,e,r,n,a){this.cdr=t;this.obracivilService=e;this.router=r;this.filterService=n;this.paginationService=a}obras=[];obrasFiltradas=[];obrasPaginadas=[];textoBusqueda="";paginaActual=1;elementosPorPagina=10;totalPaginas=0;mostrarModal=!1;obraAEliminarId=null;mostrarModalImagen=!1;imagenUrl=null;ngOnInit(){this.obtenerObrasCivilesDesc()}ngAfterViewInit(){this.cdr.detectChanges(),setTimeout(()=>{this.initMaps()},500)}initMaps(){this.obrasPaginadas.length>0&&this.obrasPaginadas.forEach((t,e)=>{let r=`map-${e}`;if(document.getElementById(r)){let a=_c.map(r).setView([t.latitud,t.longitud],13);_c.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(a);let o=_c.icon({iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[0,-41]});_c.marker([t.latitud,t.longitud],{icon:o}).addTo(a).bindPopup(`Ubicaci\xF3n de la obra: ${t.nombre}`).openPopup()}else console.error(`El contenedor para el mapa con id ${r} no se encuentra.`)})}obtenerObrasCiviles(){this.obracivilService.obtenerObras().subscribe(t=>{this.obras=t,this.obrasFiltradas=t,console.log("OBRAS: ",this.obrasFiltradas),this.calcularPaginacion()})}obtenerObrasCivilesDesc(){this.obracivilService.obtenerObrasDesc().subscribe(t=>{this.obras=t,this.obrasFiltradas=t,console.log("OBRAS: ",this.obrasFiltradas),this.calcularPaginacion()})}irACrearObra(){this.router.navigate(["/obra-civil-create"])}irAEditarObra(t){this.router.navigate([`/obra-civil-update/${t}`])}verDetalleObra(t){this.router.navigate([`/obra-civil-show/${t}`])}eliminarObra(t){this.obracivilService.eliminarObra(t).subscribe(()=>{this.obtenerObrasCivilesDesc()})}confirmarEliminarObra(t){this.obraAEliminarId=t,this.mostrarModal=!0}eliminarObraConfirmada(){console.log("obraAEliminarId",this.obraAEliminarId),this.obraAEliminarId!==null&&(console.log("Obra Civil en proceso."),this.cerrarModal())}cerrarModal(){this.mostrarModal=!1,this.obraAEliminarId=null}filtrarObras(){this.obrasFiltradas=this.filterService.filtrar(this.obras,this.textoBusqueda),this.paginaActual=1,this.calcularPaginacion()}calcularPaginacion(){let t=this.paginationService.paginate(this.obrasFiltradas,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.obrasPaginadas=t.paginatedData}cambiarPagina(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarUsuariosPaginados()}actualizarPermisosPaginadas(){let t=this.paginationService.paginate(this.obrasFiltradas,this.paginaActual,this.elementosPorPagina);this.obrasPaginadas=t.paginatedData}crearNuevoPermiso(){console.log("Crear nuevo permiso")}editarPermiso(t){console.log("Editar permiso con ID:",t)}actualizarUsuariosPaginados(){let t=this.paginationService.paginate(this.obrasFiltradas,this.paginaActual,this.elementosPorPagina);this.obrasPaginadas=t.paginatedData}abrirModalImg(t){this.imagenUrl=t,this.mostrarModalImagen=!0}cerrarModalImg(){this.imagenUrl=null,this.mostrarModalImagen=!1}verAvanceObra(t){this.router.navigate([`/obra-civil-gantt/${t}`])}generarReporteObra(t){this.router.navigate([`/obra-civil-tarea-reporte/${t}`])}static \u0275fac=function(e){return new(e||i)(ae(fs),ae(Ja),ae(vt),ae(zi),ae(Yi))};static \u0275cmp=ot({type:i,selectors:[["app-obracivil-list"]],standalone:!0,features:[ut],decls:50,vars:6,consts:[[1,"content"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"card","shadow-sm"],[1,"card-body"],[1,"row","mb-3"],[1,"col-12","col-md-6"],[1,"m-0"],[1,"col-12","col-md-6","text-md-end"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-plus-circle"],[1,"form-group","mb-3"],["type","text","placeholder","Buscar por nombre o descripci\xF3n",1,"form-control",3,"ngModelChange","input","ngModel"],["class","col-12",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","justify-content-center","mt-4"],[1,"btn","btn-outline-secondary","btn-sm",3,"click","disabled"],[1,"mx-3"],["id","imageModal","tabindex","-1","aria-labelledby","imageModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","imageModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","text-center"],["class","img-fluid","alt","Plano de la obra",3,"src",4,"ngIf"],["id","deleteModal","tabindex","-1","aria-labelledby","deleteModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],["id","deleteModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"bi","bi-x-circle"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"bi","bi-trash"],[1,"card","mb-4"],[1,"row","g-0"],[1,"col-md-5"],[1,"card-text"],["alt","Plano de la obra","data-bs-toggle","modal","data-bs-target","#imageModal",1,"card-img-top","img-fluid",2,"max-height","150px","max-width","60%","object-fit","cover",3,"click","src"],[2,"height","300px","width","100%",3,"id"],[1,"col-md-7"],[1,"card-title"],[1,"d-flex","gap-2","justify-content-start"],[1,"btn","btn-secondary","btn-sm",3,"click"],[1,"bi","bi-eye"],[1,"btn","btn-warning","btn-sm",3,"click"],[1,"bi","bi-pencil"],["data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger","btn-sm",3,"click"],[1,"btn","btn-outline-primary","mt-2",3,"click"],[1,"bi","bi-bar-chart-steps"],[1,"btn","btn-outline-success","mt-2",3,"click"],[1,"bi","bi-file-earmark-text"],["alt","Plano de la obra",1,"img-fluid",3,"src"]],template:function(e,r){e&1&&(c(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h4",8),h(9,"Obras Civiles"),l()(),c(10,"div",9)(11,"button",10),J("click",function(){return r.irACrearObra()}),Le(12,"i",11),h(13," Crear nueva obra "),l()()(),c(14,"div",12)(15,"input",13),ye("ngModelChange",function(a){return xe(r.textoBusqueda,a)||(r.textoBusqueda=a),a}),J("input",function(){return r.filtrarObras()}),l()(),c(16,"div",2),U(17,zk,76,23,"div",14),l(),c(18,"div",15)(19,"button",16),J("click",function(){return r.cambiarPagina("previous")}),h(20," \u2190 Anterior "),l(),c(21,"span",17),h(22),l(),c(23,"button",16),J("click",function(){return r.cambiarPagina("next")}),h(24," Siguiente \u2192 "),l()()()()()()()(),c(25,"div",18)(26,"div",19)(27,"div",20)(28,"div",21)(29,"h5",22),h(30,"Plano de la Obra"),l(),c(31,"button",23),J("click",function(){return r.cerrarModalImg()}),l()(),c(32,"div",24),U(33,Wk,1,1,"img",25),l()()()(),c(34,"div",26)(35,"div",27)(36,"div",20)(37,"div",21)(38,"h5",28),h(39," Confirmaci\xF3n de Eliminaci\xF3n "),l(),Le(40,"button",29),l(),c(41,"div",30),h(42," \xBFEst\xE1s seguro de que deseas eliminar esta obra? "),l(),c(43,"div",31)(44,"button",32),Le(45,"i",33),h(46," Cancelar "),l(),c(47,"button",34),J("click",function(){return r.eliminarObraConfirmada()}),Le(48,"i",35),h(49," Eliminar "),l()()()()()),e&2&&(v(15),be("ngModel",r.textoBusqueda),v(2),M("ngForOf",r.obrasPaginadas),v(2),M("disabled",r.paginaActual===1),v(3),tt(" P\xE1gina ",r.paginaActual," "),v(),M("disabled",r.paginaActual===r.totalPaginas),v(10),M("ngIf",r.imagenUrl))},dependencies:[ht,zt,Et,nu,oa,Ui,kt,Mt,Tt,Ot]})};var xc=Xd(af());var bc=class i{constructor(t){this.http=t}apiUrl=li.apiUrl;obtenerObraCivilUsuario(){return this.http.get(`${this.apiUrl}/obra-civil-usuario`)}obtenerObraCivilUsuarioPorId(t){return this.http.get(`${this.apiUrl}/obra-civil-usuario/${t}`)}crearObraCivilUsuario(t){return this.http.post(`${this.apiUrl}/obra-civil-usuario`,t)}actualizarObraCivilUsuario(t,e){return this.http.put(`${this.apiUrl}/obra-civil-usuario/${t}`,e)}eliminarObraCivilUsuario(t){return this.http.delete(`${this.apiUrl}/obra-civil-usuario/${t}`)}obtenerRelacionesCli(t){return this.http.get(`${this.apiUrl}/obra-civil-usuario/${t}/rol/Cliente`)}obtenerRelacionesEmp(t){return this.http.get(`${this.apiUrl}/obra-civil-usuario/${t}/rol/Empleado`)}static \u0275fac=function(e){return new(e||i)(St(ai))};static \u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"})};function Hk(i,t){i&1&&(c(0,"small"),h(1,"El nombre es obligatorio."),l())}function Gk(i,t){i&1&&(c(0,"small"),h(1,"El nombre debe tener al menos 3 caracteres."),l())}function $k(i,t){if(i&1&&(c(0,"div",78),U(1,Hk,2,0,"small",79)(2,Gk,2,0,"small",79),l()),i&2){ee();let e=ue(15);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function Zk(i,t){i&1&&(c(0,"small"),h(1,"La descripci\xF3n es obligatoria."),l())}function Xk(i,t){if(i&1&&(c(0,"div",78),U(1,Zk,2,0,"small",79),l()),i&2){ee();let e=ue(21);v(),M("ngIf",e.errors==null?null:e.errors.required)}}function Yk(i,t){if(i&1&&(c(0,"option",80),h(1),l()),i&2){let e=t.$implicit;M("value",e.id),v(),Di(" ",e.apellido," ",e.nombre," ")}}function Kk(i,t){i&1&&(c(0,"div",78),Le(1,"small"),h(2,"El propietario (cliente) es obligatorio. "),l())}function Jk(i,t){if(i&1&&(c(0,"option",80),h(1),l()),i&2){let e=t.$implicit;M("value",e.id),v(),Di(" ",e.apellido," ",e.nombre," ")}}function Qk(i,t){i&1&&(c(0,"div",78),Le(1,"small"),h(2,"El responsable (empleado) es obligatorio. "),l())}function eA(i,t){i&1&&(c(0,"small"),h(1,"El costo estimado es obligatorio."),l())}function tA(i,t){if(i&1&&(c(0,"div",78),U(1,eA,2,0,"small",79),l()),i&2){ee();let e=ue(44);v(),M("ngIf",e.errors==null?null:e.errors.required)}}function iA(i,t){i&1&&(c(0,"small"),h(1,"El costo real es obligatorio."),l())}function rA(i,t){if(i&1&&(c(0,"div",78),U(1,iA,2,0,"small",79),l()),i&2){ee();let e=ue(50);v(),M("ngIf",e.errors==null?null:e.errors.required)}}function nA(i,t){i&1&&(c(0,"small"),h(1,"El presupuesto es obligatorio."),l())}function aA(i,t){if(i&1&&(c(0,"div",78),U(1,nA,2,0,"small",79),l()),i&2){ee();let e=ue(56);v(),M("ngIf",e.errors==null?null:e.errors.required)}}function oA(i,t){i&1&&(c(0,"small"),h(1,"El presupuesto disponible es obligatorio."),l())}function sA(i,t){if(i&1&&(c(0,"div",78),U(1,oA,2,0,"small",79),l()),i&2){ee();let e=ue(63);v(),M("ngIf",e.errors==null?null:e.errors.required)}}function lA(i,t){i&1&&(c(0,"small"),h(1,"La fecha de inicio es obligatoria."),l())}function cA(i,t){if(i&1&&(c(0,"div",78),U(1,lA,2,0,"small",79),l()),i&2){ee();let e=ue(69);v(),M("ngIf",e.errors==null?null:e.errors.required)}}function dA(i,t){i&1&&(c(0,"small"),h(1,"La fecha estimada de fin es obligatoria."),l())}function uA(i,t){if(i&1&&(c(0,"div",78),U(1,dA,2,0,"small",79),l()),i&2){ee();let e=ue(75);v(),M("ngIf",e.errors==null?null:e.errors.required)}}function fA(i,t){i&1&&(c(0,"small"),h(1,"El estado es obligatorio."),l())}function pA(i,t){if(i&1&&(c(0,"div",78),U(1,fA,2,0,"small",79),l()),i&2){ee();let e=ue(87);v(),M("ngIf",e.errors==null?null:e.errors.required)}}function hA(i,t){i&1&&(c(0,"small"),h(1,"El tipo de obra es obligatorio."),l())}function mA(i,t){if(i&1&&(c(0,"div",78),U(1,hA,2,0,"small",79),l()),i&2){ee();let e=ue(109);v(),M("ngIf",e.errors==null?null:e.errors.required)}}function gA(i,t){i&1&&(c(0,"small"),h(1," La URL del plano es obligatoria. "),l())}function vA(i,t){if(i&1&&(c(0,"div",78),U(1,gA,2,0,"small",79),l()),i&2){ee();let e=ue(123);v(),M("ngIf",e.errors==null?null:e.errors.required)}}function _A(i,t){i&1&&(c(0,"small"),h(1," La direccion es obligatoria. "),l())}function bA(i,t){if(i&1&&(c(0,"div",78),U(1,_A,2,0,"small",79),l()),i&2){ee();let e=ue(129);v(),M("ngIf",e.errors==null?null:e.errors.required)}}var Oh=class i{constructor(t,e,r,n){this.usuarioService=t;this.obraCivilService=e;this.obraCivilUsuarioService=r;this.router=n}obraCivil={nombre:"",descripcion:"",costoEstimado:0,costo:0,presupuesto:0,presupuestoDisponible:0,fechaInicio:void 0,fechaFinEstimada:void 0,estado:"En planificaci\xF3n",tipoObra:"VIVIENDA",direccion:"",latitud:0,longitud:0,planoUrl:"",fechaTerminacionReal:void 0};submitted=!1;usuariosClientes=[];usuariosEmpleados=[];usuario={nombre:"",apellido:"",correo:"",contrasena:"",telefono:"",direccion:"",fechaNacimiento:"",genero:"",numeroIdentificacion:"",rol:{id:0,nombre:"",descripcion:""}};usuarioCliente={nombre:"",apellido:"",correo:"",contrasena:"",telefono:"",direccion:"",fechaNacimiento:"",genero:"",numeroIdentificacion:"",rol:{id:0,nombre:"",descripcion:""}};usuarioEncargado={nombre:"",apellido:"",correo:"",contrasena:"",telefono:"",direccion:"",fechaNacimiento:"",genero:"",numeroIdentificacion:"",rol:{id:0,nombre:"",descripcion:""}};idUsuarioCliente=0;idUsuarioEmpleado=0;ngOnInit(){this.cargarClientes(),this.cargarEncargado()}cargarClientes(){this.usuarioService.getUsuariosPorRol("Cliente").subscribe(t=>{this.usuariosClientes=t})}cargarEncargado(){this.usuarioService.getUsuariosPorRol("Empleado").subscribe(t=>{this.usuariosEmpleados=t})}ngAfterViewInit(){let t=xc.map("map").setView([-17.769553,-63.171463],9);xc.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(t);let e=xc.marker([-17.769553,-63.171463],{icon:xc.icon({iconUrl:"https://unpkg.com/leaflet/dist/images/marker-icon.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34]})}).addTo(t);t.on("click",r=>{let n=r.latlng.lat.toFixed(6),a=r.latlng.lng.toFixed(6);this.obraCivil.latitud=parseFloat(n),this.obraCivil.longitud=parseFloat(a),e.setLatLng([parseFloat(n),parseFloat(a)])})}crearObraCivill(){console.log("obracivil",this.obraCivil),console.log("idcliente",this.idUsuarioCliente),console.log("idencargado",this.idUsuarioEmpleado)}crearObraCivil(){console.log("obracivil",this.obraCivil),this.obraCivilService.crearObra(this.obraCivil).subscribe(t=>{console.log("NEW:",t),console.log("Usuarios clientes:",this.usuariosClientes),console.log("Usuarios empleados:",this.usuariosEmpleados),console.log("ID cliente seleccionado:",this.idUsuarioCliente),console.log("ID empleado seleccionado:",this.idUsuarioEmpleado);let e=this.usuariosClientes.find(n=>n.id===Number(this.idUsuarioCliente)),r=this.usuariosEmpleados.find(n=>n.id===Number(this.idUsuarioEmpleado));if(console.log("Usuarios clienteSeleccionado:",e),console.log("Usuarios empleadoSeleccionado:",r),e&&r){let n={obraCivil:{id:t.id},usuario:{id:e.id}},a={obraCivil:{id:t.id},usuario:{id:r.id}};console.log("Usuarios obraCivilUsuarioCli:",n),console.log("Usuarios obraCivilUsuarioEnc:",a),this.obraCivilUsuarioService.crearObraCivilUsuario(n).subscribe(),this.obraCivilUsuarioService.crearObraCivilUsuario(a).subscribe(),this.router.navigate(["/obra-civil"])}else console.error("Cliente o empleado no encontrado.")})}cancelar(){this.router.navigate(["/obra-civil"])}idEmpleadoChange(t){this.idUsuarioEmpleado=t}onClienteChange(){console.log("Cliente seleccionado:",this.idUsuarioCliente)}static \u0275fac=function(e){return new(e||i)(ae(Ka),ae(Ja),ae(bc),ae(vt))};static \u0275cmp=ot({type:i,selectors:[["app-obracivil-create"]],standalone:!0,features:[ut],decls:145,vars:38,consts:[["obraCivilForm","ngForm"],["nombre","ngModel"],["descripcion","ngModel"],["costoEstimado","ngModel"],["costo","ngModel"],["presupuesto","ngModel"],["presupuestoDisponible","ngModel"],["fechaInicio","ngModel"],["fechaFinEstimada","ngModel"],["fechaTerminacionReal","ngModel"],["estado","ngModel"],["tipoObra","ngModel"],["planoUrl","ngModel"],["direccion","ngModel"],[1,"content"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"card","shadow-sm"],[1,"card-body"],[1,"mb-3"],[3,"ngSubmit"],[1,"col-12","col-md-6","mb-3"],["for","nombre",1,"form-label","fw-bold"],["type","text","id","nombre","placeholder","Ingrese el nombre de la obra civil","name","nombre","required","","minlength","3",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel"],["class","error-message text-danger",4,"ngIf"],["for","descripcion",1,"form-label","fw-bold"],["id","descripcion","rows","3","placeholder","Ingrese la descripci\xF3n de la obra civil","name","descripcion","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel"],["for","idUsuarioCliente",1,"form-label","fw-bold"],["id","idUsuarioCliente","name","idUsuarioCliente","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel"],["disabled","","selected","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["for","idUsuarioEmpleado",1,"form-label","fw-bold"],["id","idUsuarioEmpleado","name","idUsuarioEmpleado","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel"],[1,"row","mb-3"],[1,"col-12","col-md-4"],["for","costoEstimado",1,"form-label","fw-bold"],["type","number","id","costoEstimado","placeholder","Ingrese el costo estimado","name","costoEstimado","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel","min"],["for","costo",1,"form-label","fw-bold"],["type","number","id","costo","placeholder","Ingrese el costo real","name","costo","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel","min"],["for","presupuesto",1,"form-label","fw-bold"],["type","number","id","presupuesto","placeholder","Ingrese el presupuesto","name","presupuesto","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel","min"],["for","presupuestoDisponible",1,"form-label","fw-bold"],["type","number","id","presupuestoDisponible","placeholder","Ingrese el presupuesto disponible","name","presupuestoDisponible","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel","min"],["for","fechaInicio",1,"form-label","fw-bold"],["type","date","id","fechaInicio","name","fechaInicio","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel"],["for","fechaFinEstimada",1,"form-label","fw-bold"],["type","date","id","fechaFinEstimada","name","fechaFinEstimada","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel"],["for","fechaTerminacionReal",1,"form-label","fw-bold"],["type","date","id","fechaTerminacionReal","name","fechaTerminacionReal",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel"],["for","estado",1,"form-label","fw-bold"],["id","estado","name","estado","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel"],["value","En planificaci\xF3n"],["value","En dise\xF1o"],["value","En progreso"],["value","En construcci\xF3n"],["value","En mantenimiento"],["value","Reparaciones"],["value","Finalizada"],["value","Cancelada"],["for","tipoObra",1,"form-label","fw-bold"],["id","tipoObra","name","tipoObra","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel"],["value","VIVIENDA"],["value","COMERCIAL"],["value","INDUSTRIAL"],["value","OTROS"],["for","planoUrl",1,"form-label","fw-bold"],["type","text","id","planoUrl","placeholder","Ingrese la URL del plano","name","planoUrl","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel"],["for","direccion",1,"form-label","fw-bold"],["type","text","id","direccion","placeholder","Ingrese la direccion de la obra civil","name","direccion","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel"],["for","ubicacion",1,"form-label","fw-bold"],["id","map",2,"height","300px"],[1,"text-muted","mt-2"],[1,"col-12","col-md-6","d-flex","justify-content-start","gap-3"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"bi","bi-plus-circle","mr-1"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-x-circle","mr-1"],[1,"error-message","text-danger"],[4,"ngIf"],[3,"value"]],template:function(e,r){if(e&1){let n=Je();c(0,"section",14)(1,"div",15)(2,"div",16)(3,"div",17)(4,"div",18)(5,"div",19)(6,"h4",20),h(7,"Crear Obra Civil"),l(),c(8,"form",21,0),J("ngSubmit",function(){return z(n),W(r.crearObraCivil())})("ngSubmit",function(){return z(n),W(r.submitted=!0)}),c(10,"div",16)(11,"div",22)(12,"label",23),h(13,"Nombre:"),l(),c(14,"input",24,1),ye("ngModelChange",function(o){return z(n),xe(r.obraCivil.nombre,o)||(r.obraCivil.nombre=o),W(o)}),l(),U(16,$k,3,2,"div",25),l(),c(17,"div",22)(18,"label",26),h(19,"Descripci\xF3n:"),l(),c(20,"textarea",27,2),ye("ngModelChange",function(o){return z(n),xe(r.obraCivil.descripcion,o)||(r.obraCivil.descripcion=o),W(o)}),l(),U(22,Xk,2,1,"div",25),l(),c(23,"div",22)(24,"label",28),h(25,"Seleccionar Propietario (Cliente):"),l(),c(26,"select",29),ye("ngModelChange",function(o){return z(n),xe(r.idUsuarioCliente,o)||(r.idUsuarioCliente=o),W(o)}),J("ngModelChange",function(){return z(n),W(r.onClienteChange())}),c(27,"option",30),h(28," Seleccione un propietario... "),l(),U(29,Yk,2,3,"option",31),l(),U(30,Kk,3,0,"div",25),l(),c(31,"div",22)(32,"label",32),h(33,"Agregar Responsable (Empleado):"),l(),c(34,"select",33),ye("ngModelChange",function(o){return z(n),xe(r.idUsuarioEmpleado,o)||(r.idUsuarioEmpleado=o),W(o)}),c(35,"option",30),h(36," Seleccione un empleado... "),l(),U(37,Jk,2,3,"option",31),l(),U(38,Qk,3,0,"div",25),l(),c(39,"div",34)(40,"div",35)(41,"label",36),h(42,"Costo Estimado:"),l(),c(43,"input",37,3),ye("ngModelChange",function(o){return z(n),xe(r.obraCivil.costoEstimado,o)||(r.obraCivil.costoEstimado=o),W(o)}),l(),U(45,tA,2,1,"div",25),l(),c(46,"div",35)(47,"label",38),h(48,"Costo Real:"),l(),c(49,"input",39,4),ye("ngModelChange",function(o){return z(n),xe(r.obraCivil.costo,o)||(r.obraCivil.costo=o),W(o)}),l(),U(51,rA,2,1,"div",25),l(),c(52,"div",35)(53,"label",40),h(54,"Presupuesto:"),l(),c(55,"input",41,5),ye("ngModelChange",function(o){return z(n),xe(r.obraCivil.presupuesto,o)||(r.obraCivil.presupuesto=o),W(o)}),l(),U(57,aA,2,1,"div",25),l()(),c(58,"div",34)(59,"div",35)(60,"label",42),h(61,"Presupuesto Disponible:"),l(),c(62,"input",43,6),ye("ngModelChange",function(o){return z(n),xe(r.obraCivil.presupuestoDisponible,o)||(r.obraCivil.presupuestoDisponible=o),W(o)}),l(),U(64,sA,2,1,"div",25),l(),c(65,"div",35)(66,"label",44),h(67,"Fecha de Inicio:"),l(),c(68,"input",45,7),ye("ngModelChange",function(o){return z(n),xe(r.obraCivil.fechaInicio,o)||(r.obraCivil.fechaInicio=o),W(o)}),l(),U(70,cA,2,1,"div",25),l(),c(71,"div",35)(72,"label",46),h(73,"Fecha Estimada de Fin:"),l(),c(74,"input",47,8),ye("ngModelChange",function(o){return z(n),xe(r.obraCivil.fechaFinEstimada,o)||(r.obraCivil.fechaFinEstimada=o),W(o)}),l(),U(76,uA,2,1,"div",25),l()(),c(77,"div",34)(78,"div",35)(79,"label",48),h(80,"Fecha de Terminaci\xF3n Real:"),l(),c(81,"input",49,9),ye("ngModelChange",function(o){return z(n),xe(r.obraCivil.fechaTerminacionReal,o)||(r.obraCivil.fechaTerminacionReal=o),W(o)}),l()(),c(83,"div",35)(84,"label",50),h(85,"Seleccionar Estado:"),l(),c(86,"select",51,10),ye("ngModelChange",function(o){return z(n),xe(r.obraCivil.estado,o)||(r.obraCivil.estado=o),W(o)}),c(88,"option",52),h(89,"En planificaci\xF3n"),l(),c(90,"option",53),h(91,"En dise\xF1o"),l(),c(92,"option",54),h(93,"En progreso"),l(),c(94,"option",55),h(95,"En construcci\xF3n"),l(),c(96,"option",56),h(97,"En mantenimiento"),l(),c(98,"option",57),h(99,"Reparaciones"),l(),c(100,"option",58),h(101,"Finalizada"),l(),c(102,"option",59),h(103,"Cancelada"),l()(),U(104,pA,2,1,"div",25),l(),c(105,"div",35)(106,"label",60),h(107,"Tipo de Obra:"),l(),c(108,"select",61,11),ye("ngModelChange",function(o){return z(n),xe(r.obraCivil.tipoObra,o)||(r.obraCivil.tipoObra=o),W(o)}),c(110,"option",62),h(111,"Vivienda"),l(),c(112,"option",63),h(113,"Comercial"),l(),c(114,"option",64),h(115,"Industrial"),l(),c(116,"option",65),h(117,"Otros"),l()(),U(118,mA,2,1,"div",25),l()(),c(119,"div",22)(120,"label",66),h(121,"Plano URL:"),l(),c(122,"input",67,12),ye("ngModelChange",function(o){return z(n),xe(r.obraCivil.planoUrl,o)||(r.obraCivil.planoUrl=o),W(o)}),l(),U(124,vA,2,1,"div",25),l(),c(125,"div",22)(126,"label",68),h(127,"Direccion:"),l(),c(128,"input",69,13),ye("ngModelChange",function(o){return z(n),xe(r.obraCivil.direccion,o)||(r.obraCivil.direccion=o),W(o)}),l(),U(130,bA,2,1,"div",25),l(),c(131,"div",22)(132,"label",70),h(133,"Ubicaci\xF3n:"),l(),Le(134,"div",71),c(135,"div",72)(136,"small"),h(137,"Seleccione una ubicaci\xF3n en el mapa"),l()()()(),c(138,"div",73)(139,"button",74),Le(140,"i",75),h(141," Crear "),l(),c(142,"button",76),J("click",function(){return z(n),W(r.cancelar())}),Le(143,"i",77),h(144," Cancelar "),l()()()()()()()()()}if(e&2){let n=ue(9),a=ue(15),o=ue(21),d=ue(44),u=ue(50),p=ue(56),g=ue(63),y=ue(69),w=ue(75),x=ue(87),T=ue(109),E=ue(123),k=ue(129);v(14),be("ngModel",r.obraCivil.nombre),v(2),M("ngIf",a.invalid&&(a.dirty||a.touched)||r.submitted&&a.invalid),v(4),be("ngModel",r.obraCivil.descripcion),v(2),M("ngIf",o.invalid&&(o.dirty||o.touched)||r.submitted&&o.invalid),v(4),be("ngModel",r.idUsuarioCliente),v(),M("value",0),v(2),M("ngForOf",r.usuariosClientes),v(),M("ngIf",r.idUsuarioCliente===0&&n.submitted),v(4),be("ngModel",r.idUsuarioEmpleado),v(),M("value",0),v(2),M("ngForOf",r.usuariosEmpleados),v(),M("ngIf",r.idUsuarioEmpleado===0&&n.submitted),v(5),be("ngModel",r.obraCivil.costoEstimado),M("min",0),v(2),M("ngIf",d.invalid&&(d.dirty||d.touched)||r.submitted&&d.invalid),v(4),be("ngModel",r.obraCivil.costo),M("min",0),v(2),M("ngIf",u.invalid&&(u.dirty||u.touched)||r.submitted&&u.invalid),v(4),be("ngModel",r.obraCivil.presupuesto),M("min",0),v(2),M("ngIf",p.invalid&&(p.dirty||p.touched)||r.submitted&&p.invalid),v(5),be("ngModel",r.obraCivil.presupuestoDisponible),M("min",0),v(2),M("ngIf",g.invalid&&(g.dirty||g.touched)||r.submitted&&g.invalid),v(4),be("ngModel",r.obraCivil.fechaInicio),v(2),M("ngIf",y.invalid&&(y.dirty||y.touched)||r.submitted&&y.invalid),v(4),be("ngModel",r.obraCivil.fechaFinEstimada),v(2),M("ngIf",w.invalid&&(w.dirty||w.touched)||r.submitted&&w.invalid),v(5),be("ngModel",r.obraCivil.fechaTerminacionReal),v(5),be("ngModel",r.obraCivil.estado),v(18),M("ngIf",x.invalid&&(x.dirty||x.touched)||r.submitted&&x.invalid),v(4),be("ngModel",r.obraCivil.tipoObra),v(10),M("ngIf",T.invalid&&(T.dirty||T.touched)||r.submitted&&T.invalid),v(4),be("ngModel",r.obraCivil.planoUrl),v(2),M("ngIf",E.invalid&&(E.dirty||E.touched)||r.submitted&&E.invalid),v(4),be("ngModel",r.obraCivil.direccion),v(2),M("ngIf",k.invalid&&(k.dirty||k.touched)||r.submitted&&k.invalid),v(9),M("disabled",!n.form.valid)}},dependencies:[ht,zt,Et,kt,ni,ji,qi,Mt,Qi,Ri,Tt,ri,si,bi,xr,Ot,oi]})};var yc=Xd(af());function xA(i,t){i&1&&(c(0,"small"),h(1,"El nombre es obligatorio."),l())}function yA(i,t){i&1&&(c(0,"small"),h(1,"El nombre debe tener al menos 3 caracteres."),l())}function CA(i,t){if(i&1&&(c(0,"div",78),U(1,xA,2,0,"small",79)(2,yA,2,0,"small",79),l()),i&2){ee();let e=ue(15);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function wA(i,t){i&1&&(c(0,"small"),h(1,"La descripci\xF3n es obligatoria."),l())}function SA(i,t){if(i&1&&(c(0,"div",78),U(1,wA,2,0,"small",79),l()),i&2){ee();let e=ue(21);v(),M("ngIf",e.errors==null?null:e.errors.required)}}function EA(i,t){if(i&1&&(c(0,"option",80),h(1),l()),i&2){let e=t.$implicit;M("value",e.id),v(),Di(" ",e.apellido," ",e.nombre," ")}}function PA(i,t){i&1&&(c(0,"div",78),Le(1,"small"),h(2,"El propietario (cliente) es obligatorio. "),l())}function MA(i,t){if(i&1&&(c(0,"option",80),h(1),l()),i&2){let e=t.$implicit;M("value",e.id),v(),Di(" ",e.apellido," ",e.nombre," ")}}function TA(i,t){i&1&&(c(0,"div",78),Le(1,"small"),h(2,"El responsable (empleado) es obligatorio. "),l())}function kA(i,t){i&1&&(c(0,"small"),h(1,"El costo estimado es obligatorio."),l())}function AA(i,t){if(i&1&&(c(0,"div",78),U(1,kA,2,0,"small",79),l()),i&2){ee();let e=ue(44);v(),M("ngIf",e.errors==null?null:e.errors.required)}}function OA(i,t){i&1&&(c(0,"small"),h(1,"El costo real es obligatorio."),l())}function IA(i,t){if(i&1&&(c(0,"div",78),U(1,OA,2,0,"small",79),l()),i&2){ee();let e=ue(50);v(),M("ngIf",e.errors==null?null:e.errors.required)}}function FA(i,t){i&1&&(c(0,"small"),h(1,"El presupuesto es obligatorio."),l())}function NA(i,t){if(i&1&&(c(0,"div",78),U(1,FA,2,0,"small",79),l()),i&2){ee();let e=ue(56);v(),M("ngIf",e.errors==null?null:e.errors.required)}}function LA(i,t){i&1&&(c(0,"small"),h(1,"El presupuesto disponible es obligatorio."),l())}function DA(i,t){if(i&1&&(c(0,"div",78),U(1,LA,2,0,"small",79),l()),i&2){ee();let e=ue(63);v(),M("ngIf",e.errors==null?null:e.errors.required)}}function RA(i,t){i&1&&(c(0,"small"),h(1,"La fecha de inicio es obligatoria."),l())}function BA(i,t){if(i&1&&(c(0,"div",78),U(1,RA,2,0,"small",79),l()),i&2){ee();let e=ue(69);v(),M("ngIf",e.errors==null?null:e.errors.required)}}function UA(i,t){i&1&&(c(0,"small"),h(1,"La fecha estimada de fin es obligatoria."),l())}function VA(i,t){if(i&1&&(c(0,"div",78),U(1,UA,2,0,"small",79),l()),i&2){ee();let e=ue(75);v(),M("ngIf",e.errors==null?null:e.errors.required)}}function jA(i,t){i&1&&(c(0,"small"),h(1,"El estado es obligatorio."),l())}function qA(i,t){if(i&1&&(c(0,"div",78),U(1,jA,2,0,"small",79),l()),i&2){ee();let e=ue(87);v(),M("ngIf",e.errors==null?null:e.errors.required)}}function zA(i,t){i&1&&(c(0,"small"),h(1,"El tipo de obra es obligatorio."),l())}function WA(i,t){if(i&1&&(c(0,"div",78),U(1,zA,2,0,"small",79),l()),i&2){ee();let e=ue(109);v(),M("ngIf",e.errors==null?null:e.errors.required)}}function HA(i,t){i&1&&(c(0,"small"),h(1," La URL del plano es obligatoria. "),l())}function GA(i,t){if(i&1&&(c(0,"div",78),U(1,HA,2,0,"small",79),l()),i&2){ee();let e=ue(123);v(),M("ngIf",e.errors==null?null:e.errors.required)}}function $A(i,t){i&1&&(c(0,"small"),h(1," La direccion es obligatoria. "),l())}function ZA(i,t){if(i&1&&(c(0,"div",78),U(1,$A,2,0,"small",79),l()),i&2){ee();let e=ue(129);v(),M("ngIf",e.errors==null?null:e.errors.required)}}var Ih=class i{constructor(t,e,r,n,a,o){this.cdr=t;this.activatedRoute=e;this.obraCivilService=r;this.obraCivilUsuarioService=n;this.usuarioService=a;this.router=o}obraCivil={nombre:"",descripcion:"",costoEstimado:0,costo:0,presupuesto:0,presupuestoDisponible:0,fechaInicio:void 0,fechaFinEstimada:void 0,estado:"En planificaci\xF3n",tipoObra:"VIVIENDA",direccion:"",latitud:0,longitud:0,planoUrl:"",fechaTerminacionReal:void 0};usuariosClientes=[];usuariosEmpleados=[];obraId=0;idUsuarioCliente=0;idUsuarioEmpleado=0;submitted=!1;ngOnInit(){this.obraId=Number(this.activatedRoute.snapshot.paramMap.get("id")),this.obraId&&this.cargarObraCivil(this.obraId),this.cargarClientes(),this.cargarEncargado()}cargarObraCivil(t){this.obraCivilService.obtenerObraPorId(t).subscribe(e=>{console.log("obraCivil:",e),this.obraCivil=e}),this.obraCivilUsuarioService.obtenerRelacionesCli(t).subscribe(e=>{console.log("Cliente",e),this.idUsuarioCliente=e[0].usuario.id,console.log("Cliente",this.idUsuarioCliente)}),this.obraCivilUsuarioService.obtenerRelacionesEmp(t).subscribe(e=>{console.log("Empleado",e),this.idUsuarioEmpleado=e[0].usuario.id,console.log("Empleado",this.idUsuarioEmpleado)})}cargarClientes(){this.usuarioService.getUsuariosPorRol("Cliente").subscribe(t=>{this.usuariosClientes=t})}cargarEncargado(){this.usuarioService.getUsuariosPorRol("Empleado").subscribe(t=>{this.usuariosEmpleados=t})}ngAfterViewInit(){this.cdr.detectChanges(),setTimeout(()=>{this.initMaps()},600)}initMaps(){console.log("latitud:",this.obraCivil.latitud),console.log("longitud:",this.obraCivil.longitud);let t=yc.map("map").setView([this.obraCivil.latitud,this.obraCivil.longitud],11);yc.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(t);let e=yc.marker([this.obraCivil.latitud,this.obraCivil.longitud],{icon:yc.icon({iconUrl:"https://unpkg.com/leaflet/dist/images/marker-icon.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34]})}).addTo(t);t.on("click",r=>{let n=r.latlng.lat.toFixed(6),a=r.latlng.lng.toFixed(6);this.obraCivil.latitud=parseFloat(n),this.obraCivil.longitud=parseFloat(a),e.setLatLng([parseFloat(n),parseFloat(a)])})}editarObraCivil(){console.log("obracivil",this.obraCivil),this.obraCivilService.actualizarObra(this.obraId,this.obraCivil).subscribe(t=>{console.log("NEW:",t),console.log("Usuarios clientes:",this.usuariosClientes),console.log("Usuarios empleados:",this.usuariosEmpleados),console.log("ID cliente seleccionado:",this.idUsuarioCliente),console.log("ID empleado seleccionado:",this.idUsuarioEmpleado);let e=this.usuariosClientes.find(n=>n.id===Number(this.idUsuarioCliente)),r=this.usuariosEmpleados.find(n=>n.id===Number(this.idUsuarioEmpleado));if(console.log("Usuarios clienteSeleccionado:",e),console.log("Usuarios empleadoSeleccionado:",r),e&&r){let n={obraCivil:{id:t.id},usuario:{id:e.id}},a={obraCivil:{id:t.id},usuario:{id:r.id}};console.log("Usuarios obraCivilUsuarioCli:",n),console.log("Usuarios obraCivilUsuarioEnc:",a),this.obraCivilUsuarioService.actualizarObraCivilUsuario(this.obraId,n).subscribe(),this.obraCivilUsuarioService.actualizarObraCivilUsuario(this.obraId,a).subscribe(),this.router.navigate(["/obra-civil"])}else console.error("Cliente o empleado no encontrado.")})}editarObraCivill(){this.obraCivilService.actualizarObra(this.obraId,this.obraCivil).subscribe(t=>{console.log("Obra civil actualizada",t),this.router.navigate(["/obra-civil"])})}cancelar(){this.router.navigate(["/obra-civil"])}onClienteChange(){console.log("Cliente seleccionado:",this.idUsuarioCliente)}static \u0275fac=function(e){return new(e||i)(ae(fs),ae(Vi),ae(Ja),ae(bc),ae(Ka),ae(vt))};static \u0275cmp=ot({type:i,selectors:[["app-obracivil-update"]],standalone:!0,features:[ut],decls:145,vars:38,consts:[["obraCivilForm","ngForm"],["nombre","ngModel"],["descripcion","ngModel"],["costoEstimado","ngModel"],["costo","ngModel"],["presupuesto","ngModel"],["presupuestoDisponible","ngModel"],["fechaInicio","ngModel"],["fechaFinEstimada","ngModel"],["fechaTerminacionReal","ngModel"],["estado","ngModel"],["tipoObra","ngModel"],["planoUrl","ngModel"],["direccion","ngModel"],[1,"content"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"card","shadow-sm"],[1,"card-body"],[1,"mb-3"],[3,"ngSubmit"],[1,"col-12","col-md-6","mb-3"],["for","nombre",1,"form-label","fw-bold"],["type","text","id","nombre","placeholder","Ingrese el nombre de la obra civil","name","nombre","required","","minlength","3",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel"],["class","error-message text-danger",4,"ngIf"],["for","descripcion",1,"form-label","fw-bold"],["id","descripcion","rows","3","placeholder","Ingrese la descripci\xF3n de la obra civil","name","descripcion","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel"],["for","idUsuarioCliente",1,"form-label","fw-bold"],["id","idUsuarioCliente","name","idUsuarioCliente","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel"],["disabled","","selected","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["for","idUsuarioEmpleado",1,"form-label","fw-bold"],["id","idUsuarioEmpleado","name","idUsuarioEmpleado","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel"],[1,"row","mb-3"],[1,"col-12","col-md-4"],["for","costoEstimado",1,"form-label","fw-bold"],["type","number","id","costoEstimado","placeholder","Ingrese el costo estimado","name","costoEstimado","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel","min"],["for","costo",1,"form-label","fw-bold"],["type","number","id","costo","placeholder","Ingrese el costo real","name","costo","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel","min"],["for","presupuesto",1,"form-label","fw-bold"],["type","number","id","presupuesto","placeholder","Ingrese el presupuesto","name","presupuesto","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel","min"],["for","presupuestoDisponible",1,"form-label","fw-bold"],["type","number","id","presupuestoDisponible","placeholder","Ingrese el presupuesto disponible","name","presupuestoDisponible","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel","min"],["for","fechaInicio",1,"form-label","fw-bold"],["type","date","id","fechaInicio","name","fechaInicio","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel"],["for","fechaFinEstimada",1,"form-label","fw-bold"],["type","date","id","fechaFinEstimada","name","fechaFinEstimada","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel"],["for","fechaTerminacionReal",1,"form-label","fw-bold"],["type","date","id","fechaTerminacionReal","name","fechaTerminacionReal",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel"],["for","estado",1,"form-label","fw-bold"],["id","estado","name","estado","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel"],["value","En planificaci\xF3n"],["value","En dise\xF1o"],["value","En progreso"],["value","En construcci\xF3n"],["value","En mantenimiento"],["value","Reparaciones"],["value","Finalizada"],["value","Cancelada"],["for","tipoObra",1,"form-label","fw-bold"],["id","tipoObra","name","tipoObra","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel"],["value","VIVIENDA"],["value","COMERCIAL"],["value","INDUSTRIAL"],["value","OTROS"],["for","planoUrl",1,"form-label","fw-bold"],["type","text","id","planoUrl","placeholder","Ingrese la URL del plano","name","planoUrl","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel"],["for","direccion",1,"form-label","fw-bold"],["type","text","id","direccion","placeholder","Ingrese la direccion de la obra civil","name","direccion","required","",1,"form-control","border-dark","focus:border-primary",3,"ngModelChange","ngModel"],["for","ubicacion",1,"form-label","fw-bold"],["id","map",2,"height","300px"],[1,"text-muted","mt-2"],[1,"col-12","col-md-6","d-flex","justify-content-start","gap-3"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"bi","bi-plus-circle","mr-1"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-x-circle","mr-1"],[1,"error-message","text-danger"],[4,"ngIf"],[3,"value"]],template:function(e,r){if(e&1){let n=Je();c(0,"section",14)(1,"div",15)(2,"div",16)(3,"div",17)(4,"div",18)(5,"div",19)(6,"h4",20),h(7,"Editar Obra Civil"),l(),c(8,"form",21,0),J("ngSubmit",function(){return z(n),W(r.editarObraCivil())})("ngSubmit",function(){return z(n),W(r.submitted=!0)}),c(10,"div",16)(11,"div",22)(12,"label",23),h(13,"Nombre:"),l(),c(14,"input",24,1),ye("ngModelChange",function(o){return z(n),xe(r.obraCivil.nombre,o)||(r.obraCivil.nombre=o),W(o)}),l(),U(16,CA,3,2,"div",25),l(),c(17,"div",22)(18,"label",26),h(19,"Descripci\xF3n:"),l(),c(20,"textarea",27,2),ye("ngModelChange",function(o){return z(n),xe(r.obraCivil.descripcion,o)||(r.obraCivil.descripcion=o),W(o)}),l(),U(22,SA,2,1,"div",25),l(),c(23,"div",22)(24,"label",28),h(25,"Seleccionar Propietario (Cliente):"),l(),c(26,"select",29),ye("ngModelChange",function(o){return z(n),xe(r.idUsuarioCliente,o)||(r.idUsuarioCliente=o),W(o)}),J("ngModelChange",function(){return z(n),W(r.onClienteChange())}),c(27,"option",30),h(28," Seleccione un propietario... "),l(),U(29,EA,2,3,"option",31),l(),U(30,PA,3,0,"div",25),l(),c(31,"div",22)(32,"label",32),h(33,"Agregar Responsable (Empleado):"),l(),c(34,"select",33),ye("ngModelChange",function(o){return z(n),xe(r.idUsuarioEmpleado,o)||(r.idUsuarioEmpleado=o),W(o)}),c(35,"option",30),h(36," Seleccione un empleado... "),l(),U(37,MA,2,3,"option",31),l(),U(38,TA,3,0,"div",25),l(),c(39,"div",34)(40,"div",35)(41,"label",36),h(42,"Costo Estimado:"),l(),c(43,"input",37,3),ye("ngModelChange",function(o){return z(n),xe(r.obraCivil.costoEstimado,o)||(r.obraCivil.costoEstimado=o),W(o)}),l(),U(45,AA,2,1,"div",25),l(),c(46,"div",35)(47,"label",38),h(48,"Costo Real:"),l(),c(49,"input",39,4),ye("ngModelChange",function(o){return z(n),xe(r.obraCivil.costo,o)||(r.obraCivil.costo=o),W(o)}),l(),U(51,IA,2,1,"div",25),l(),c(52,"div",35)(53,"label",40),h(54,"Presupuesto:"),l(),c(55,"input",41,5),ye("ngModelChange",function(o){return z(n),xe(r.obraCivil.presupuesto,o)||(r.obraCivil.presupuesto=o),W(o)}),l(),U(57,NA,2,1,"div",25),l()(),c(58,"div",34)(59,"div",35)(60,"label",42),h(61,"Presupuesto Disponible:"),l(),c(62,"input",43,6),ye("ngModelChange",function(o){return z(n),xe(r.obraCivil.presupuestoDisponible,o)||(r.obraCivil.presupuestoDisponible=o),W(o)}),l(),U(64,DA,2,1,"div",25),l(),c(65,"div",35)(66,"label",44),h(67,"Fecha de Inicio:"),l(),c(68,"input",45,7),ye("ngModelChange",function(o){return z(n),xe(r.obraCivil.fechaInicio,o)||(r.obraCivil.fechaInicio=o),W(o)}),l(),U(70,BA,2,1,"div",25),l(),c(71,"div",35)(72,"label",46),h(73,"Fecha Estimada de Fin:"),l(),c(74,"input",47,8),ye("ngModelChange",function(o){return z(n),xe(r.obraCivil.fechaFinEstimada,o)||(r.obraCivil.fechaFinEstimada=o),W(o)}),l(),U(76,VA,2,1,"div",25),l()(),c(77,"div",34)(78,"div",35)(79,"label",48),h(80,"Fecha de Terminaci\xF3n Real:"),l(),c(81,"input",49,9),ye("ngModelChange",function(o){return z(n),xe(r.obraCivil.fechaTerminacionReal,o)||(r.obraCivil.fechaTerminacionReal=o),W(o)}),l()(),c(83,"div",35)(84,"label",50),h(85,"Seleccionar Estado:"),l(),c(86,"select",51,10),ye("ngModelChange",function(o){return z(n),xe(r.obraCivil.estado,o)||(r.obraCivil.estado=o),W(o)}),c(88,"option",52),h(89,"En planificaci\xF3n"),l(),c(90,"option",53),h(91,"En dise\xF1o"),l(),c(92,"option",54),h(93,"En progreso"),l(),c(94,"option",55),h(95,"En construcci\xF3n"),l(),c(96,"option",56),h(97,"En mantenimiento"),l(),c(98,"option",57),h(99,"Reparaciones"),l(),c(100,"option",58),h(101,"Finalizada"),l(),c(102,"option",59),h(103,"Cancelada"),l()(),U(104,qA,2,1,"div",25),l(),c(105,"div",35)(106,"label",60),h(107,"Tipo de Obra:"),l(),c(108,"select",61,11),ye("ngModelChange",function(o){return z(n),xe(r.obraCivil.tipoObra,o)||(r.obraCivil.tipoObra=o),W(o)}),c(110,"option",62),h(111,"Vivienda"),l(),c(112,"option",63),h(113,"Comercial"),l(),c(114,"option",64),h(115,"Industrial"),l(),c(116,"option",65),h(117,"Otros"),l()(),U(118,WA,2,1,"div",25),l()(),c(119,"div",22)(120,"label",66),h(121,"Plano URL:"),l(),c(122,"input",67,12),ye("ngModelChange",function(o){return z(n),xe(r.obraCivil.planoUrl,o)||(r.obraCivil.planoUrl=o),W(o)}),l(),U(124,GA,2,1,"div",25),l(),c(125,"div",22)(126,"label",68),h(127,"Direccion:"),l(),c(128,"input",69,13),ye("ngModelChange",function(o){return z(n),xe(r.obraCivil.direccion,o)||(r.obraCivil.direccion=o),W(o)}),l(),U(130,ZA,2,1,"div",25),l(),c(131,"div",22)(132,"label",70),h(133,"Ubicaci\xF3n:"),l(),Le(134,"div",71),c(135,"div",72)(136,"small"),h(137,"Seleccione una ubicaci\xF3n en el mapa"),l()()()(),c(138,"div",73)(139,"button",74),Le(140,"i",75),h(141," Guardar Cambios "),l(),c(142,"button",76),J("click",function(){return z(n),W(r.cancelar())}),Le(143,"i",77),h(144," Cancelar "),l()()()()()()()()()}if(e&2){let n=ue(9),a=ue(15),o=ue(21),d=ue(44),u=ue(50),p=ue(56),g=ue(63),y=ue(69),w=ue(75),x=ue(87),T=ue(109),E=ue(123),k=ue(129);v(14),be("ngModel",r.obraCivil.nombre),v(2),M("ngIf",a.invalid&&(a.dirty||a.touched)||r.submitted&&a.invalid),v(4),be("ngModel",r.obraCivil.descripcion),v(2),M("ngIf",o.invalid&&(o.dirty||o.touched)||r.submitted&&o.invalid),v(4),be("ngModel",r.idUsuarioCliente),v(),M("value",0),v(2),M("ngForOf",r.usuariosClientes),v(),M("ngIf",r.idUsuarioCliente===0&&n.submitted),v(4),be("ngModel",r.idUsuarioEmpleado),v(),M("value",0),v(2),M("ngForOf",r.usuariosEmpleados),v(),M("ngIf",r.idUsuarioEmpleado===0&&n.submitted),v(5),be("ngModel",r.obraCivil.costoEstimado),M("min",0),v(2),M("ngIf",d.invalid&&(d.dirty||d.touched)||r.submitted&&d.invalid),v(4),be("ngModel",r.obraCivil.costo),M("min",0),v(2),M("ngIf",u.invalid&&(u.dirty||u.touched)||r.submitted&&u.invalid),v(4),be("ngModel",r.obraCivil.presupuesto),M("min",0),v(2),M("ngIf",p.invalid&&(p.dirty||p.touched)||r.submitted&&p.invalid),v(5),be("ngModel",r.obraCivil.presupuestoDisponible),M("min",0),v(2),M("ngIf",g.invalid&&(g.dirty||g.touched)||r.submitted&&g.invalid),v(4),be("ngModel",r.obraCivil.fechaInicio),v(2),M("ngIf",y.invalid&&(y.dirty||y.touched)||r.submitted&&y.invalid),v(4),be("ngModel",r.obraCivil.fechaFinEstimada),v(2),M("ngIf",w.invalid&&(w.dirty||w.touched)||r.submitted&&w.invalid),v(5),be("ngModel",r.obraCivil.fechaTerminacionReal),v(5),be("ngModel",r.obraCivil.estado),v(18),M("ngIf",x.invalid&&(x.dirty||x.touched)||r.submitted&&x.invalid),v(4),be("ngModel",r.obraCivil.tipoObra),v(10),M("ngIf",T.invalid&&(T.dirty||T.touched)||r.submitted&&T.invalid),v(4),be("ngModel",r.obraCivil.planoUrl),v(2),M("ngIf",E.invalid&&(E.dirty||E.touched)||r.submitted&&E.invalid),v(4),be("ngModel",r.obraCivil.direccion),v(2),M("ngIf",k.invalid&&(k.dirty||k.touched)||r.submitted&&k.invalid),v(9),M("disabled",!n.form.valid)}},dependencies:[ht,zt,Et,kt,ni,ji,qi,Mt,Qi,Ri,Tt,ri,si,bi,xr,Ot,oi]})};var Cc=Xd(af());function XA(i,t){if(i&1&&Le(0,"img",28),i&2){let e=ee();M("src",e.imagenUrl,Jd)}}var Fh=class i{constructor(t,e,r,n,a,o){this.cdr=t;this.activatedRoute=e;this.obraCivilService=r;this.obraCivilUsuarioService=n;this.usuarioService=a;this.router=o}obraCivil={nombre:"",descripcion:"",costoEstimado:0,costo:0,presupuesto:0,presupuestoDisponible:0,fechaInicio:void 0,fechaFinEstimada:void 0,estado:"En planificaci\xF3n",tipoObra:"VIVIENDA",direccion:"",latitud:0,longitud:0,planoUrl:"",fechaTerminacionReal:void 0};usuarioCli={id:0,nombre:"",apellido:"",correo:"",contrasena:"",telefono:"",direccion:"",fechaNacimiento:"",genero:"",numeroIdentificacion:"",rol:{id:0,nombre:"",descripcion:""}};usuarioEmp={id:0,nombre:"",apellido:"",correo:"",contrasena:"",telefono:"",direccion:"",fechaNacimiento:"",genero:"",numeroIdentificacion:"",rol:{id:0,nombre:"",descripcion:""}};usuariosClientes=[];usuariosEmpleados=[];obraId=0;idUsuarioCliente=0;idUsuarioEmpleado=0;submitted=!1;mostrarModalImagen=!1;imagenUrl=null;ngOnInit(){this.obraId=Number(this.activatedRoute.snapshot.paramMap.get("id")),this.obraId&&this.cargarObraCivil(this.obraId)}cargarObraCivil(t){this.obraCivilService.obtenerObraPorId(t).subscribe(e=>{console.log("obraCivil:",e),this.obraCivil=e}),this.obraCivilUsuarioService.obtenerRelacionesCli(t).subscribe(e=>{console.log("Cliente",e),this.usuarioCli=e[0].usuario,console.log("Cliente",this.usuarioCli)}),this.obraCivilUsuarioService.obtenerRelacionesEmp(t).subscribe(e=>{console.log("Empleado",e),this.usuarioEmp=e[0].usuario,console.log("Empleado",this.usuarioEmp)})}cargarClientes(){this.usuarioService.getUsuariosPorRol("Cliente").subscribe(t=>{this.usuariosClientes=t})}cargarEncargado(){this.usuarioService.getUsuariosPorRol("Empleado").subscribe(t=>{this.usuariosEmpleados=t})}ngAfterViewInit(){this.cdr.detectChanges(),setTimeout(()=>{this.initMaps()},500)}initMaps(){console.log("latitudSHOW:",this.obraCivil.latitud),console.log("longitudSHOW:",this.obraCivil.longitud);let t=Cc.map("map").setView([this.obraCivil.latitud,this.obraCivil.longitud],11);Cc.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(t);let e=Cc.marker([this.obraCivil.latitud,this.obraCivil.longitud],{icon:Cc.icon({iconUrl:"https://unpkg.com/leaflet/dist/images/marker-icon.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34]})}).addTo(t);t.on("click",r=>{let n=r.latlng.lat.toFixed(6),a=r.latlng.lng.toFixed(6);this.obraCivil.latitud=parseFloat(n),this.obraCivil.longitud=parseFloat(a),e.setLatLng([parseFloat(n),parseFloat(a)])})}abrirModalImg(t){this.imagenUrl=t,this.mostrarModalImagen=!0}cerrarModalImg(){this.imagenUrl=null,this.mostrarModalImagen=!1}volver(){this.router.navigate(["/obra-civil"])}crearObraCivil(){console.log("obracivil",this.obraCivil),this.obraCivilService.actualizarObra(this.obraId,this.obraCivil).subscribe(t=>{console.log("NEW:",t),console.log("Usuarios clientes:",this.usuariosClientes),console.log("Usuarios empleados:",this.usuariosEmpleados),console.log("ID cliente seleccionado:",this.idUsuarioCliente),console.log("ID empleado seleccionado:",this.idUsuarioEmpleado);let e=this.usuariosClientes.find(n=>n.id===Number(this.idUsuarioCliente)),r=this.usuariosEmpleados.find(n=>n.id===Number(this.idUsuarioEmpleado));if(console.log("Usuarios clienteSeleccionado:",e),console.log("Usuarios empleadoSeleccionado:",r),e&&r){let n={obraCivil:{id:t.id},usuario:{id:e.id}},a={obraCivil:{id:t.id},usuario:{id:r.id}};console.log("Usuarios obraCivilUsuarioCli:",n),console.log("Usuarios obraCivilUsuarioEnc:",a),this.obraCivilUsuarioService.actualizarObraCivilUsuario(this.obraId,n).subscribe(),this.obraCivilUsuarioService.actualizarObraCivilUsuario(this.obraId,a).subscribe(),this.router.navigate(["/obra-civil"])}else console.error("Cliente o empleado no encontrado.")})}editarObraCivil(){this.obraCivilService.actualizarObra(this.obraId,this.obraCivil).subscribe(t=>{console.log("Obra civil actualizada",t),this.router.navigate(["/obra-civil"])})}cancelar(){this.router.navigate(["/obra-civil"])}onClienteChange(){console.log("Cliente seleccionado:",this.idUsuarioCliente)}static \u0275fac=function(e){return new(e||i)(ae(fs),ae(Vi),ae(Ja),ae(bc),ae(Ka),ae(vt))};static \u0275cmp=ot({type:i,selectors:[["app-obracivil-show"]],standalone:!0,features:[ut],decls:98,vars:30,consts:[[1,"content"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"card","shadow-sm"],[1,"card-body"],[1,"row","mb-3"],[1,"col-12","col-md-9"],[1,"m-0"],[1,"card","mb-4"],[1,"row","g-0"],[1,"col-md-5"],[1,"card-text"],["alt","Plano de la obra","data-bs-toggle","modal","data-bs-target","#imageModal",1,"card-img-top","img-fluid",2,"max-height","150px","max-width","60%","object-fit","cover",3,"click","src"],["id","map",2,"height","300px","width","100%"],[1,"col-md-7"],[1,"card-title",2,"color","#0a4075"],[1,"d-flex","gap-2","justify-content-start"],[1,"btn","btn-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-left"],["id","imageModal","tabindex","-1","aria-labelledby","imageModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","imageModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","text-center"],["class","img-fluid","alt","Plano de la obra",3,"src",4,"ngIf"],["alt","Plano de la obra",1,"img-fluid",3,"src"]],template:function(e,r){e&1&&(c(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h4",8),h(9),l()()(),c(10,"div",2)(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",5)(15,"p",12)(16,"strong"),h(17,"Plano:"),l()(),c(18,"img",13),J("click",function(){return r.abrirModalImg(r.obraCivil.planoUrl)}),l()(),c(19,"div",5)(20,"p",12)(21,"strong"),h(22,"Ubicacion:"),l()(),Le(23,"div",14),l()(),c(24,"div",15)(25,"div",5)(26,"h5",16),h(27),l(),c(28,"p",12)(29,"strong"),h(30,"Descripci\xF3n:"),l(),h(31),l(),c(32,"p",12)(33,"strong"),h(34,"Tipo de Obra:"),l(),h(35),l(),c(36,"p",12)(37,"strong"),h(38,"Direccion:"),l(),h(39),l(),c(40,"p",12)(41,"strong"),h(42,"Estado:"),l(),h(43),l(),c(44,"p",12)(45,"strong"),h(46,"Fecha de Inicio:"),l(),h(47),ei(48,"date"),l(),c(49,"p",12)(50,"strong"),h(51,"Fecha Estimada de Finalizaci\xF3n:"),l(),h(52),ei(53,"date"),l(),c(54,"p",12)(55,"strong"),h(56,"Costo Estimado:"),l(),h(57),ei(58,"number"),l(),c(59,"p",12)(60,"strong"),h(61,"Costo Actual:"),l(),h(62),ei(63,"number"),l(),c(64,"p",12)(65,"strong"),h(66,"Presupuesto Disponible:"),l(),h(67),ei(68,"number"),l(),c(69,"h5",16),h(70),l(),c(71,"p",12)(72,"strong"),h(73,"Direccion:"),l(),h(74),l(),c(75,"p",12)(76,"strong"),h(77,"Telefono:"),l(),h(78),l(),c(79,"h5",16),h(80),l(),c(81,"p",12)(82,"strong"),h(83,"Telefono:"),l(),h(84),l(),c(85,"div",17)(86,"button",18),J("click",function(){return r.volver()}),Le(87,"i",19),h(88," Volver "),l()()()()()()()()()()()()(),c(89,"div",20)(90,"div",21)(91,"div",22)(92,"div",23)(93,"h5",24),h(94,"Plano de la Obra"),l(),c(95,"button",25),J("click",function(){return r.cerrarModalImg()}),l()(),c(96,"div",26),U(97,XA,1,1,"img",27),l()()()()),e&2&&(v(9),tt("Detalle Obra Civil: ",r.obraCivil.nombre,""),v(9),eu("src",r.obraCivil.planoUrl,Jd),v(9),tt(" ",r.obraCivil.nombre," "),v(4),tt(" ",r.obraCivil.descripcion," "),v(4),tt(" ",r.obraCivil.tipoObra," "),v(4),tt(" ",r.obraCivil.direccion," "),v(4),tt(" ",r.obraCivil.estado," "),v(4),tt(" ",Ci(48,20,r.obraCivil.fechaInicio)," "),v(5),tt(" ",Ci(53,22,r.obraCivil.fechaFinEstimada)," "),v(5),tt(" $",Ci(58,24,r.obraCivil.costoEstimado)," "),v(5),tt(" $",Ci(63,26,r.obraCivil.costo)," "),v(5),tt(" $",Ci(68,28,r.obraCivil.presupuestoDisponible)," "),v(3),Di(" Propietario: ",r.usuarioCli.nombre," ",r.usuarioCli.apellido," "),v(4),tt(" ",r.usuarioCli.direccion," "),v(4),tt(" ",r.usuarioCli.telefono," "),v(2),Di(" Encargado: ",r.usuarioEmp.nombre," ",r.usuarioEmp.apellido," "),v(4),tt(" ",r.usuarioEmp.telefono," "),v(13),M("ngIf",r.imagenUrl))},dependencies:[ht,Et,nu,oa]})};function YA(i,t){if(i&1){let e=Je();c(0,"div",10)(1,"div",11)(2,"h3"),h(3,"\xBFEst\xE1s seguro de eliminar este servicio?"),l(),c(4,"button",12),J("click",function(){z(e);let n=ee();return W(n.eliminarServicioConfirmado())}),h(5,"Confirmar"),l(),c(6,"button",12),J("click",function(){z(e);let n=ee();return W(n.cerrarModal())}),h(7,"Cancelar"),l()()()}}function KA(i,t){if(i&1&&(c(0,"div",13),h(1),l()),i&2){let e=ee();v(),Ve(e.mensajeExito)}}function JA(i,t){if(i&1&&(c(0,"div",14),h(1),l()),i&2){let e=ee();v(),Ve(e.mensajeError)}}function QA(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),h(2),l(),c(3,"td"),h(4),l(),c(5,"td"),h(6),l(),c(7,"td"),h(8),l(),c(9,"td"),h(10),l(),c(11,"td")(12,"button",12),J("click",function(){let n,a=z(e).$implicit,o=ee();return W(o.irAEditarServicio((n=a.id)!==null&&n!==void 0?n:0))}),h(13,"Editar"),l(),c(14,"button",12),J("click",function(){let n,a=z(e).$implicit,o=ee();return W(o.confirmarEliminarServicio((n=a.id)!==null&&n!==void 0?n:0))}),h(15,"Eliminar"),l()()()}if(i&2){let e=t.$implicit;v(2),Ve(e.codigoServicio),v(2),Ve(e.nombre),v(2),Ve(e.descripcion),v(2),tt("",e.precioUnitario," Bs"),v(2),tt("",e.duracionEstimada," d\xEDas")}}var Nh=class i{constructor(t,e,r,n,a){this.servicioService=t;this.router=e;this.filterService=r;this.paginationService=n;this.location=a}servicios=[];serviciosFiltrados=[];serviciosPaginados=[];textoBusqueda="";paginaActual=1;elementosPorPagina=5;totalPaginas=0;mostrarModal=!1;servicioAEliminarId=null;mensajeExito="";mensajeError="";ngOnInit(){let t=this.location.getState();t?.mensaje&&(this.mensajeExito=t.mensaje,setTimeout(()=>this.mensajeExito="",3e3)),t?.error&&(this.mensajeError=t.error,setTimeout(()=>this.mensajeError="",3e3)),this.obtenerServicios()}obtenerServicios(){this.servicioService.obtenerServicios().subscribe(t=>{this.servicios=t,this.serviciosFiltrados=t,this.calcularPaginacion()})}eliminarServicio(t){this.servicioService.eliminarServicio(t).subscribe({next:()=>{this.mensajeExito="Servicio eliminado exitosamente.",setTimeout(()=>this.mensajeExito="",3e3),this.obtenerServicios()},error:e=>{this.mensajeError="Ocurri\xF3 un error al eliminar el servicio.",setTimeout(()=>this.mensajeError="",3e3)}})}irACrearServicio(){this.router.navigate(["/servicio-create"])}irAEditarServicio(t){this.router.navigate([`/servicio-update/${t}`])}confirmarEliminarServicio(t){this.servicioAEliminarId=t,this.mostrarModal=!0}eliminarServicioConfirmado(){this.servicioAEliminarId!==null&&(this.eliminarServicio(this.servicioAEliminarId),this.cerrarModal())}cerrarModal(){this.mostrarModal=!1,this.servicioAEliminarId=null}filtrarServicios(){this.serviciosFiltrados=this.filterService.filtrar(this.servicios,this.textoBusqueda),this.paginaActual=1,this.calcularPaginacion()}calcularPaginacion(){let t=this.paginationService.paginate(this.serviciosFiltrados,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.serviciosPaginados=t.paginatedData}cambiarPagina(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarServiciosPaginados()}actualizarServiciosPaginados(){let t=this.paginationService.paginate(this.serviciosFiltrados,this.paginaActual,this.elementosPorPagina);this.serviciosPaginados=t.paginatedData}static \u0275fac=function(e){return new(e||i)(ae(da),ae(vt),ae(zi),ae(Yi),ae(hl))};static \u0275cmp=ot({type:i,selectors:[["app-servicio"]],standalone:!0,features:[ut],decls:34,vars:8,consts:[["class","modal",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["type","text","placeholder","Buscar...",3,"ngModelChange","input","ngModel"],[1,"btn","btn-primary",2,"float","right","margin-bottom","10px",3,"click"],[1,"bi","bi-plus-circle"],["border","1","cellspacing","0","cellpadding","5",2,"width","100%","margin-top","20px"],[4,"ngFor","ngForOf"],[2,"margin-top","20px"],[3,"click","disabled"],[1,"modal"],[1,"modal-content"],[3,"click"],[1,"alert","alert-success"],[1,"alert","alert-danger"]],template:function(e,r){e&1&&(U(0,YA,8,0,"div",0),c(1,"div"),U(2,KA,2,1,"div",1)(3,JA,2,1,"div",2),c(4,"h2"),h(5,"Servicios"),l(),c(6,"input",3),ye("ngModelChange",function(a){return xe(r.textoBusqueda,a)||(r.textoBusqueda=a),a}),J("input",function(){return r.filtrarServicios()}),l(),c(7,"button",4),J("click",function(){return r.irACrearServicio()}),Le(8,"i",5),h(9," Crear Servicio "),l(),c(10,"table",6)(11,"thead")(12,"tr")(13,"th"),h(14,"C\xF3digo"),l(),c(15,"th"),h(16,"Nombre"),l(),c(17,"th"),h(18,"Descripci\xF3n"),l(),c(19,"th"),h(20,"Precio Unitario"),l(),c(21,"th"),h(22,"Duraci\xF3n Estimada"),l(),c(23,"th"),h(24,"Acciones"),l()()(),c(25,"tbody"),U(26,QA,16,5,"tr",7),l()(),c(27,"div",8)(28,"button",9),J("click",function(){return r.cambiarPagina("previous")}),h(29," Anterior "),l(),c(30,"span"),h(31),l(),c(32,"button",9),J("click",function(){return r.cambiarPagina("next")}),h(33," Siguiente "),l()()()),e&2&&(M("ngIf",r.mostrarModal),v(2),M("ngIf",r.mensajeExito),v(),M("ngIf",r.mensajeError),v(3),be("ngModel",r.textoBusqueda),v(20),M("ngForOf",r.serviciosPaginados),v(2),M("disabled",r.paginaActual===1),v(3),tt(" P\xE1gina ",r.paginaActual," "),v(),M("disabled",r.paginaActual===r.totalPaginas))},dependencies:[ht,zt,Et,Ui,kt,Mt,Tt,Ot],styles:['@charset "UTF-8";table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px;box-shadow:0 2px 4px #0000001a}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 15px;text-align:left;border-bottom:1px solid #e0e0e0}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f5f5f5;font-weight:600}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f9f9f9}button[_ngcontent-%COMP%]{cursor:pointer;border:none;border-radius:4px;padding:8px 12px;font-size:14px;transition:all .3s ease;margin-right:5px;font-weight:500}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px}button[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 2px 5px #0003;background-color:#9c9b9b}button[_ngcontent-%COMP%]:active{transform:translateY(0)}.btn-crear-servicio[_ngcontent-%COMP%]{float:right;background-color:#4caf50;color:#fff;margin-bottom:15px}.btn-crear-servicio[_ngcontent-%COMP%]:hover{background-color:#45a049}.btn-editar-servicio[_ngcontent-%COMP%]{background-color:#2196f3;color:#fff}.btn-editar-servicio[_ngcontent-%COMP%]:hover{background-color:#0b7dda}.btn-eliminar-servicio[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.btn-eliminar-servicio[_ngcontent-%COMP%]:hover{background-color:#da190b}.modal[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;z-index:1000}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:#fff;padding:25px;border-radius:8px;width:400px;text-align:center;box-shadow:0 4px 20px #00000026}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:20px;color:#333}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px;min-width:80px}.paginacion-servicios[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center;align-items:center;gap:15px}.paginacion-servicios[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 15px;background-color:#f5f5f5}.paginacion-servicios[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#e0e0e0}.paginacion-servicios[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.paginacion-servicios[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;color:#666}input[_ngcontent-%COMP%]{padding:10px;width:300px;border:1px solid #ddd;border-radius:4px;margin-bottom:15px}input[_ngcontent-%COMP%]:focus{outline:none;border-color:#2196f3;box-shadow:0 0 0 2px #2196f333}input[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{padding:10px;margin-bottom:15px;border-radius:5px}input[_ngcontent-%COMP%]   .alert-success[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724}input[_ngcontent-%COMP%]   .alert-danger[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24}']})};function e6(i,t){i&1&&(c(0,"small"),h(1,"El campo es obligatorio."),l())}function t6(i,t){i&1&&(c(0,"small"),h(1,"Debe tener al menos 3 caracteres."),l())}function i6(i,t){if(i&1&&(c(0,"div",23),U(1,e6,2,0,"small",24)(2,t6,2,0,"small",24),l()),i&2){ee();let e=ue(9);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function r6(i,t){i&1&&(c(0,"small"),h(1,"El campo es obligatorio."),l())}function n6(i,t){i&1&&(c(0,"small"),h(1,"Debe tener al menos 2 caracteres."),l())}function a6(i,t){if(i&1&&(c(0,"div",23),U(1,r6,2,0,"small",24)(2,n6,2,0,"small",24),l()),i&2){ee();let e=ue(15);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function o6(i,t){i&1&&(c(0,"small"),h(1,"El campo es obligatorio."),l())}function s6(i,t){i&1&&(c(0,"small"),h(1,"Debe tener al menos 5 caracteres."),l())}function l6(i,t){if(i&1&&(c(0,"div",23),U(1,o6,2,0,"small",24)(2,s6,2,0,"small",24),l()),i&2){ee();let e=ue(21);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function c6(i,t){i&1&&(c(0,"small"),h(1,"El campo es obligatorio."),l())}function d6(i,t){i&1&&(c(0,"small"),h(1,"Debe ser mayor a 0."),l())}function u6(i,t){if(i&1&&(c(0,"div",23),U(1,c6,2,0,"small",24)(2,d6,2,0,"small",24),l()),i&2){ee();let e=ue(27);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.min)}}function f6(i,t){i&1&&(c(0,"small"),h(1,"El campo es obligatorio."),l())}function p6(i,t){i&1&&(c(0,"small"),h(1,"Debe ser mayor a 0."),l())}function h6(i,t){if(i&1&&(c(0,"div",23),U(1,f6,2,0,"small",24)(2,p6,2,0,"small",24),l()),i&2){ee();let e=ue(33);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.min)}}var Lh=class i{constructor(t,e){this.servicioService=t;this.router=e}servicio={codigoServicio:"",nombre:"",descripcion:"",precioUnitario:0,duracionEstimada:0};cancelar(){this.router.navigate(["/servicio"])}crearServicio(){this.servicioService.crearServicio(this.servicio).subscribe({next:()=>{this.router.navigate(["/servicio"],{state:{mensaje:"Servicio creado exitosamente."}})},error:()=>{this.router.navigate(["/servicio"],{state:{error:"Ocurri\xF3 un error al crear el servicio."}})}})}static \u0275fac=function(e){return new(e||i)(ae(da),ae(vt))};static \u0275cmp=ot({type:i,selectors:[["app-servicio-create"]],standalone:!0,features:[ut],decls:40,vars:11,consts:[["servicioForm","ngForm"],["codigo_servicio","ngModel"],["nombre","ngModel"],["descripcion","ngModel"],["costoUnitario","ngModel"],["duracion_estimada","ngModel"],[1,"form-container"],[3,"ngSubmit"],[1,"form-group"],["for","codigo_servicio"],["id","codigo_servicio","type","text","name","codigo_servicio","required","","minlength","3",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","nombre"],["id","nombre","type","text","name","nombre","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["for","descripcion"],["id","descripcion","name","descripcion","required","","minlength","5",1,"form-control",3,"ngModelChange","ngModel"],["for","costoUnitario"],["id","costoUnitario","type","number","name","costoUnitario","required","","min","0.01","step","0.01",1,"form-control",3,"ngModelChange","ngModel"],["for","duracion_estimada"],["id","duracion_estimada","type","number","name","duracion_estimada","required","","min","0.01","step","0.01",1,"form-control",3,"ngModelChange","ngModel"],[1,"button-container"],["type","submit",1,"submit-btn",3,"disabled"],["type","button",1,"cancel-btn",3,"click"],[1,"error-message"],[4,"ngIf"]],template:function(e,r){if(e&1){let n=Je();c(0,"div",6)(1,"h2"),h(2,"Crear Servicio"),l(),c(3,"form",7,0),J("ngSubmit",function(){return z(n),W(r.crearServicio())}),c(5,"div",8)(6,"label",9),h(7,"C\xF3digo de Servicio:"),l(),c(8,"input",10,1),ye("ngModelChange",function(o){return z(n),xe(r.servicio.codigoServicio,o)||(r.servicio.codigoServicio=o),W(o)}),l(),U(10,i6,3,2,"div",11),l(),c(11,"div",8)(12,"label",12),h(13,"Nombre:"),l(),c(14,"input",13,2),ye("ngModelChange",function(o){return z(n),xe(r.servicio.nombre,o)||(r.servicio.nombre=o),W(o)}),l(),U(16,a6,3,2,"div",11),l(),c(17,"div",8)(18,"label",14),h(19,"Descripci\xF3n:"),l(),c(20,"textarea",15,3),ye("ngModelChange",function(o){return z(n),xe(r.servicio.descripcion,o)||(r.servicio.descripcion=o),W(o)}),l(),U(22,l6,3,2,"div",11),l(),c(23,"div",8)(24,"label",16),h(25,"Costo Unitario:"),l(),c(26,"input",17,4),ye("ngModelChange",function(o){return z(n),xe(r.servicio.precioUnitario,o)||(r.servicio.precioUnitario=o),W(o)}),l(),U(28,u6,3,2,"div",11),l(),c(29,"div",8)(30,"label",18),h(31,"Duraci\xF3n Estimada (d\xEDas):"),l(),c(32,"input",19,5),ye("ngModelChange",function(o){return z(n),xe(r.servicio.duracionEstimada,o)||(r.servicio.duracionEstimada=o),W(o)}),l(),U(34,h6,3,2,"div",11),l(),c(35,"div",20)(36,"button",21),h(37,"Crear"),l(),c(38,"button",22),J("click",function(){return z(n),W(r.cancelar())}),h(39,"Cancelar"),l()()()()}if(e&2){let n=ue(4),a=ue(9),o=ue(15),d=ue(21),u=ue(27),p=ue(33);v(8),be("ngModel",r.servicio.codigoServicio),v(2),M("ngIf",a.invalid&&(a.dirty||a.touched)),v(4),be("ngModel",r.servicio.nombre),v(2),M("ngIf",o.invalid&&(o.dirty||o.touched)),v(4),be("ngModel",r.servicio.descripcion),v(2),M("ngIf",d.invalid&&(d.dirty||d.touched)),v(4),be("ngModel",r.servicio.precioUnitario),v(2),M("ngIf",u.invalid&&(u.dirty||u.touched)),v(4),be("ngModel",r.servicio.duracionEstimada),v(2),M("ngIf",p.invalid&&(p.dirty||p.touched)),v(2),M("disabled",n.invalid)}},dependencies:[kt,ni,Mt,Qi,Tt,ri,si,bi,xr,Ot,oi,ht,Et],styles:[".form-container[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:14px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.error-message[_ngcontent-%COMP%]{color:red;font-size:14px;margin-top:5px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{width:48%;padding:10px;font-size:16px;border-radius:4px;cursor:pointer}.submit-btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;border:none}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6;cursor:not-allowed}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#218838}.cancel-btn[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})};function m6(i,t){i&1&&(c(0,"small"),h(1,"El nombre del servicio es obligatorio."),l())}function g6(i,t){i&1&&(c(0,"small"),h(1,"Debe tener al menos 2 caracteres."),l())}function v6(i,t){if(i&1&&(c(0,"div",23),U(1,m6,2,0,"small",24)(2,g6,2,0,"small",24),l()),i&2){ee();let e=ue(9);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function _6(i,t){i&1&&(c(0,"small"),h(1,"La descripci\xF3n es obligatoria."),l())}function b6(i,t){i&1&&(c(0,"small"),h(1,"Debe tener al menos 2 caracteres."),l())}function x6(i,t){if(i&1&&(c(0,"div",23),U(1,_6,2,0,"small",24)(2,b6,2,0,"small",24),l()),i&2){ee();let e=ue(15);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function y6(i,t){i&1&&(c(0,"small"),h(1,"El costo unitario es obligatorio."),l())}function C6(i,t){i&1&&(c(0,"small"),h(1,"El costo debe ser un valor positivo."),l())}function w6(i,t){if(i&1&&(c(0,"div",23),U(1,y6,2,0,"small",24)(2,C6,2,0,"small",24),l()),i&2){ee();let e=ue(21);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.min)}}function S6(i,t){i&1&&(c(0,"small"),h(1,"El c\xF3digo del servicio es obligatorio."),l())}function E6(i,t){i&1&&(c(0,"small"),h(1,"Debe tener al menos 2 caracteres."),l())}function P6(i,t){if(i&1&&(c(0,"div",23),U(1,S6,2,0,"small",24)(2,E6,2,0,"small",24),l()),i&2){ee();let e=ue(27);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function M6(i,t){i&1&&(c(0,"small"),h(1,"La duraci\xF3n estimada es obligatoria."),l())}function T6(i,t){i&1&&(c(0,"small"),h(1,"La duraci\xF3n debe ser un valor positivo."),l())}function k6(i,t){if(i&1&&(c(0,"div",23),U(1,M6,2,0,"small",24)(2,T6,2,0,"small",24),l()),i&2){ee();let e=ue(33);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.min)}}var Dh=class i{constructor(t,e,r){this.servicioService=t;this.route=e;this.router=r}servicio={id:0,codigoServicio:"",nombre:"",descripcion:"",precioUnitario:0,duracionEstimada:0};ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("id"));t&&this.servicioService.obtenerServicioPorId(t).subscribe(e=>{this.servicio=e})}actualizarServicio(){this.servicio.id!=null&&this.servicioService.actualizarServicio(this.servicio.id,this.servicio).subscribe({next:()=>{this.router.navigate(["/servicio"],{state:{mensaje:"Servicio actualizado exitosamente."}})},error:()=>{this.router.navigate(["/servicio"],{state:{error:"Ocurri\xF3 un error al actualizar el servicio."}})}})}cancelar(){this.router.navigate(["/servicio"])}static \u0275fac=function(e){return new(e||i)(ae(da),ae(Vi),ae(vt))};static \u0275cmp=ot({type:i,selectors:[["app-servicio-update"]],standalone:!0,features:[ut],decls:40,vars:11,consts:[["servicioForm","ngForm"],["nombre","ngModel"],["descripcion","ngModel"],["costo_unitario","ngModel"],["codigo_servicio","ngModel"],["duracion_estimada","ngModel"],[1,"form-container"],[3,"ngSubmit"],[1,"form-group"],["for","nombre"],["id","nombre","name","nombre","placeholder","Nombre del servicio","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","descripcion"],["id","descripcion","name","descripcion","placeholder","Descripci\xF3n del servicio","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["for","costo_unitario"],["id","costo_unitario","name","costo_unitario","type","number","placeholder","Costo unitario","required","","min","0",1,"form-control",3,"ngModelChange","ngModel"],["for","codigo_servicio"],["id","codigo_servicio","name","codigo_servicio","placeholder","C\xF3digo del servicio","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["for","duracion_estimada"],["id","duracion_estimada","name","duracion_estimada","type","number","placeholder","Duraci\xF3n estimada","required","","min","0","step","0.1",1,"form-control",3,"ngModelChange","ngModel"],[1,"button-container"],["type","submit",1,"submit-btn",3,"disabled"],["type","button",1,"cancel-btn",3,"click"],[1,"error-message"],[4,"ngIf"]],template:function(e,r){if(e&1){let n=Je();c(0,"div",6)(1,"h2"),h(2,"Actualizar Servicio"),l(),c(3,"form",7,0),J("ngSubmit",function(){return z(n),W(r.actualizarServicio())}),c(5,"div",8)(6,"label",9),h(7,"Nombre del servicio:"),l(),c(8,"input",10,1),ye("ngModelChange",function(o){return z(n),xe(r.servicio.nombre,o)||(r.servicio.nombre=o),W(o)}),l(),U(10,v6,3,2,"div",11),l(),c(11,"div",8)(12,"label",12),h(13,"Descripci\xF3n:"),l(),c(14,"input",13,2),ye("ngModelChange",function(o){return z(n),xe(r.servicio.descripcion,o)||(r.servicio.descripcion=o),W(o)}),l(),U(16,x6,3,2,"div",11),l(),c(17,"div",8)(18,"label",14),h(19,"Costo unitario:"),l(),c(20,"input",15,3),ye("ngModelChange",function(o){return z(n),xe(r.servicio.precioUnitario,o)||(r.servicio.precioUnitario=o),W(o)}),l(),U(22,w6,3,2,"div",11),l(),c(23,"div",8)(24,"label",16),h(25,"C\xF3digo del servicio:"),l(),c(26,"input",17,4),ye("ngModelChange",function(o){return z(n),xe(r.servicio.codigoServicio,o)||(r.servicio.codigoServicio=o),W(o)}),l(),U(28,P6,3,2,"div",11),l(),c(29,"div",8)(30,"label",18),h(31,"Duraci\xF3n estimada (en horas):"),l(),c(32,"input",19,5),ye("ngModelChange",function(o){return z(n),xe(r.servicio.duracionEstimada,o)||(r.servicio.duracionEstimada=o),W(o)}),l(),U(34,k6,3,2,"div",11),l(),c(35,"div",20)(36,"button",21),h(37,"Actualizar"),l(),c(38,"button",22),J("click",function(){return z(n),W(r.cancelar())}),h(39,"Cancelar"),l()()()()}if(e&2){let n=ue(4),a=ue(9),o=ue(15),d=ue(21),u=ue(27),p=ue(33);v(8),be("ngModel",r.servicio.nombre),v(2),M("ngIf",a.invalid&&(a.dirty||a.touched)),v(4),be("ngModel",r.servicio.descripcion),v(2),M("ngIf",o.invalid&&(o.dirty||o.touched)),v(4),be("ngModel",r.servicio.precioUnitario),v(2),M("ngIf",d.invalid&&(d.dirty||d.touched)),v(4),be("ngModel",r.servicio.codigoServicio),v(2),M("ngIf",u.invalid&&(u.dirty||u.touched)),v(4),be("ngModel",r.servicio.duracionEstimada),v(2),M("ngIf",p.invalid&&(p.dirty||p.touched)),v(2),M("disabled",n.invalid)}},dependencies:[kt,ni,Mt,Qi,Tt,ri,si,bi,xr,Ot,oi,ht,Et],styles:[".form-container[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:14px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.error-message[_ngcontent-%COMP%]{color:red;font-size:16px;margin-top:5px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{width:48%;padding:10px;font-size:16px;border-radius:4px;cursor:pointer}.submit-btn[_ngcontent-%COMP%]{background-color:#ffc107;color:#fff;border:none}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6;cursor:not-allowed}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#e0a800}.cancel-btn[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})};function A6(i,t){if(i&1){let e=Je();c(0,"div",10)(1,"div",11)(2,"h3"),h(3,"\xBFEst\xE1s seguro de eliminar este empleado?"),l(),c(4,"button",12),J("click",function(){z(e);let n=ee();return W(n.eliminarEmpleadoConfirmado())}),h(5,"Confirmar"),l(),c(6,"button",12),J("click",function(){z(e);let n=ee();return W(n.cerrarModal())}),h(7,"Cancelar"),l()()()}}function O6(i,t){if(i&1&&(c(0,"div",13),h(1),l()),i&2){let e=ee();v(),Ve(e.mensajeExito)}}function I6(i,t){if(i&1&&(c(0,"div",14),h(1),l()),i&2){let e=ee();v(),Ve(e.mensajeError)}}function F6(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),h(2),l(),c(3,"td"),h(4),l(),c(5,"td"),h(6),l(),c(7,"td"),h(8),l(),c(9,"td"),h(10),l(),c(11,"td"),h(12),l(),c(13,"td"),h(14),l(),c(15,"td"),h(16),l(),c(17,"td")(18,"button",12),J("click",function(){let n,a=z(e).$implicit,o=ee();return W(o.irAEditarEmpleado((n=a.id)!==null&&n!==void 0?n:0))}),h(19,"Editar"),l(),c(20,"button",12),J("click",function(){let n,a=z(e).$implicit,o=ee();return W(o.confirmarEliminarEmpleado((n=a.id)!==null&&n!==void 0?n:0))}),h(21,"Eliminar"),l()()()}if(i&2){let e=t.$implicit;v(2),Ve(e.nombre),v(2),Ve(e.apellido),v(2),Ve(e.documentoIdentidad),v(2),Ve(e.puesto||"\u2014"),v(2),Ve(e.tipoContrato),v(2),Ve(e.fechaIngreso),v(2),tt("",e.salario," Bs "),v(2),Ve(e.activo?"S\xED":"No")}}var Rh=class i{constructor(t,e,r,n,a){this.empleadoService=t;this.router=e;this.filterService=r;this.paginationService=n;this.location=a}empleados=[];empleadosFiltrados=[];empleadosPaginados=[];textoBusqueda="";paginaActual=1;elementosPorPagina=5;totalPaginas=0;mostrarModal=!1;empleadoAEliminarId=null;mensajeExito="";mensajeError="";ngOnInit(){let t=this.location.getState();t?.mensaje&&(this.mensajeExito=t.mensaje,setTimeout(()=>this.mensajeExito="",3e3)),t?.error&&(this.mensajeError=t.error,setTimeout(()=>this.mensajeError="",3e3)),this.obtenerEmpleados()}obtenerEmpleados(){this.empleadoService.obtenerEmpleados().subscribe(t=>{this.empleados=t,this.empleadosFiltrados=t,this.calcularPaginacion()})}irACrearEmpleado(){this.router.navigate(["/empleado-create"])}irAEditarEmpleado(t){this.router.navigate([`/empleado-update/${t}`])}confirmarEliminarEmpleado(t){this.empleadoAEliminarId=t,this.mostrarModal=!0}eliminarEmpleadoConfirmado(){this.empleadoAEliminarId!==null&&(this.eliminarEmpleado(this.empleadoAEliminarId),this.cerrarModal())}eliminarEmpleado(t){this.empleadoService.eliminarEmpleado(t).subscribe({next:()=>{this.mensajeExito="Empleado eliminado exitosamente.",setTimeout(()=>this.mensajeExito="",3e3),this.obtenerEmpleados()},error:()=>{this.mensajeError="Ocurri\xF3 un error al eliminar el empleado.",setTimeout(()=>this.mensajeError="",3e3)}})}cerrarModal(){this.mostrarModal=!1,this.empleadoAEliminarId=null}filtrarEmpleados(){this.empleadosFiltrados=this.filterService.filtrar(this.empleados,this.textoBusqueda),this.paginaActual=1,this.calcularPaginacion()}calcularPaginacion(){let t=this.paginationService.paginate(this.empleadosFiltrados,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.empleadosPaginados=t.paginatedData}cambiarPagina(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarEmpleadosPaginados()}actualizarEmpleadosPaginados(){let t=this.paginationService.paginate(this.empleadosFiltrados,this.paginaActual,this.elementosPorPagina);this.empleadosPaginados=t.paginatedData}static \u0275fac=function(e){return new(e||i)(ae(Ho),ae(vt),ae(zi),ae(Yi),ae(hl))};static \u0275cmp=ot({type:i,selectors:[["app-empleado"]],standalone:!0,features:[ut],decls:40,vars:9,consts:[["class","modal",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["type","text","placeholder","Buscar...",3,"ngModelChange","input","ngModel"],[1,"btn","btn-primary",2,"float","right","margin-bottom","10px",3,"click"],[1,"bi","bi-plus-circle"],["border","1","cellspacing","0","cellpadding","5",2,"width","100%","margin-top","20px"],[4,"ngFor","ngForOf"],[2,"margin-top","20px"],[3,"click","disabled"],[1,"modal"],[1,"modal-content"],[3,"click"],[1,"alert","alert-success"],[1,"alert","alert-danger"]],template:function(e,r){e&1&&(U(0,A6,8,0,"div",0),c(1,"div"),U(2,O6,2,1,"div",1)(3,I6,2,1,"div",2),c(4,"h2"),h(5,"Empleados"),l(),c(6,"input",3),ye("ngModelChange",function(a){return xe(r.textoBusqueda,a)||(r.textoBusqueda=a),a}),J("input",function(){return r.filtrarEmpleados()}),l(),c(7,"button",4),J("click",function(){return r.irACrearEmpleado()}),Le(8,"i",5),h(9," Crear Empleado "),l(),c(10,"table",6)(11,"thead")(12,"tr")(13,"th"),h(14,"Nombre"),l(),c(15,"th"),h(16,"Apellido"),l(),c(17,"th"),h(18,"C.I."),l(),c(19,"th"),h(20,"Puesto"),l(),c(21,"th"),h(22,"Tipo de Contrato"),l(),c(23,"th"),h(24,"Fecha Ingreso"),l(),c(25,"th"),h(26,"Salario"),l(),c(27,"th"),h(28,"Activo"),l(),c(29,"th"),h(30,"Acciones"),l()()(),c(31,"tbody"),U(32,F6,22,8,"tr",7),l()(),c(33,"div",8)(34,"button",9),J("click",function(){return r.cambiarPagina("previous")}),h(35,"Anterior"),l(),c(36,"span"),h(37),l(),c(38,"button",9),J("click",function(){return r.cambiarPagina("next")}),h(39,"Siguiente"),l()()()),e&2&&(M("ngIf",r.mostrarModal),v(2),M("ngIf",r.mensajeExito),v(),M("ngIf",r.mensajeError),v(3),be("ngModel",r.textoBusqueda),v(26),M("ngForOf",r.empleadosPaginados),v(2),M("disabled",r.paginaActual===1),v(3),Di(" P\xE1gina ",r.paginaActual," de ",r.totalPaginas," "),v(),M("disabled",r.paginaActual===r.totalPaginas))},dependencies:[ht,zt,Et,Ui,kt,Mt,Tt,Ot],styles:['@charset "UTF-8";table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px;box-shadow:0 2px 4px #0000001a}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 15px;text-align:left;border-bottom:1px solid #e0e0e0}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f5f5f5;font-weight:600}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f9f9f9}button[_ngcontent-%COMP%]{cursor:pointer;border:none;border-radius:4px;padding:8px 12px;font-size:14px;transition:background-color .3s;margin-right:5px}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px}.btn-crear-empleado[_ngcontent-%COMP%]{float:right;background-color:#4caf50;color:#fff;margin-bottom:15px}.btn-crear-empleado[_ngcontent-%COMP%]:hover{background-color:#45a049}.btn-editar-empleado[_ngcontent-%COMP%]{background-color:#2196f3;color:#fff}.btn-editar-empleado[_ngcontent-%COMP%]:hover{background-color:#0b7dda}.btn-eliminar-empleado[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.btn-eliminar-empleado[_ngcontent-%COMP%]:hover{background-color:#da190b}.modal[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;z-index:1000}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:#fff;padding:25px;border-radius:8px;width:400px;text-align:center;box-shadow:0 4px 20px #00000026}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:20px;color:#333}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px;min-width:80px}.paginacion-empleados[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center;align-items:center;gap:15px}.paginacion-empleados[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 15px;background-color:#f5f5f5}.paginacion-empleados[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#e0e0e0}.paginacion-empleados[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.paginacion-empleados[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;color:#666}input[_ngcontent-%COMP%]{padding:10px;width:300px;border:1px solid #ddd;border-radius:4px;margin-bottom:15px}input[_ngcontent-%COMP%]:focus{outline:none;border-color:#2196f3;box-shadow:0 0 0 2px #2196f333}']})};function N6(i,t){i&1&&(c(0,"small"),h(1,"El campo es obligatorio."),l())}function L6(i,t){i&1&&(c(0,"small"),h(1,"Debe tener al menos 2 caracteres."),l())}function D6(i,t){if(i&1&&(c(0,"div",35),U(1,N6,2,0,"small",36)(2,L6,2,0,"small",36),l()),i&2){ee();let e=ue(9);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function R6(i,t){i&1&&(c(0,"small"),h(1,"El campo es obligatorio."),l())}function B6(i,t){i&1&&(c(0,"small"),h(1,"Debe tener al menos 2 caracteres."),l())}function U6(i,t){if(i&1&&(c(0,"div",35),U(1,R6,2,0,"small",36)(2,B6,2,0,"small",36),l()),i&2){ee();let e=ue(15);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function V6(i,t){i&1&&(c(0,"small"),h(1,"El campo es obligatorio."),l())}function j6(i,t){i&1&&(c(0,"small"),h(1,"Debe tener al menos 2 caracteres."),l())}function q6(i,t){if(i&1&&(c(0,"div",35),U(1,V6,2,0,"small",36)(2,j6,2,0,"small",36),l()),i&2){ee();let e=ue(49);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function z6(i,t){i&1&&(c(0,"small"),h(1,"El campo es obligatorio."),l())}function W6(i,t){i&1&&(c(0,"small"),h(1,"Debe ser mayor a 0."),l())}function H6(i,t){if(i&1&&(c(0,"div",35),U(1,z6,2,0,"small",36)(2,W6,2,0,"small",36),l()),i&2){ee();let e=ue(55);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.min)}}var Bh=class i{constructor(t,e){this.empleadoService=t;this.router=e}empleado={nombre:"",apellido:"",documentoIdentidad:"",tipoContrato:"planta",fechaIngreso:"",salario:0,activo:!0,puesto:"",email:"",telefono:"",fechaTerminoContrato:""};crearEmpleado(){this.empleadoService.crearEmpleado(this.empleado).subscribe({next:()=>{this.router.navigate(["/empleado"],{state:{mensaje:"Empleado creado exitosamente."}})},error:()=>{this.router.navigate(["/empleado"],{state:{error:"Ocurri\xF3 un error al crear el empleado."}})}})}cancelar(){this.router.navigate(["/empleado"])}static \u0275fac=function(e){return new(e||i)(ae(Ho),ae(vt))};static \u0275cmp=ot({type:i,selectors:[["app-empleado-create"]],standalone:!0,features:[ut],decls:66,vars:16,consts:[["empleadoForm","ngForm"],["nombre","ngModel"],["apellido","ngModel"],["puesto","ngModel"],["salario","ngModel"],[1,"form-container"],[3,"ngSubmit"],[1,"form-group"],["for","nombre"],["id","nombre","type","text","name","nombre","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","apellido"],["id","apellido","type","text","name","apellido","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["for","documento_identidad"],["id","documento_identidad","type","text","name","documento_identidad","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","tipo_contrato"],["id","tipo_contrato","name","tipo_contrato","required","",1,"form-control",3,"ngModelChange","ngModel"],["value","planta"],["value","eventual"],["for","fecha_ingreso"],["id","fecha_ingreso","type","date","name","fecha_ingreso","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","fecha_termino_contrato"],["id","fecha_termino_contrato","type","date","name","fecha_termino_contrato",1,"form-control",3,"ngModelChange","ngModel"],["for","email"],["id","email","type","email","name","email",1,"form-control",3,"ngModelChange","ngModel"],["for","telefono"],["id","telefono","type","text","name","telefono",1,"form-control",3,"ngModelChange","ngModel"],["for","puesto"],["id","puesto","type","text","name","puesto","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["for","salario"],["id","salario","type","number","name","salario","required","","min","0.01","step","0.01",1,"form-control",3,"ngModelChange","ngModel"],["type","checkbox","name","activo",3,"ngModelChange","ngModel"],[1,"button-container"],["type","submit",1,"submit-btn",3,"disabled"],["type","button",1,"cancel-btn",3,"click"],[1,"error-message"],[4,"ngIf"]],template:function(e,r){if(e&1){let n=Je();c(0,"div",5)(1,"h2"),h(2,"Crear Empleado"),l(),c(3,"form",6,0),J("ngSubmit",function(){return z(n),W(r.crearEmpleado())}),c(5,"div",7)(6,"label",8),h(7,"Nombre:"),l(),c(8,"input",9,1),ye("ngModelChange",function(o){return z(n),xe(r.empleado.nombre,o)||(r.empleado.nombre=o),W(o)}),l(),U(10,D6,3,2,"div",10),l(),c(11,"div",7)(12,"label",11),h(13,"Apellido:"),l(),c(14,"input",12,2),ye("ngModelChange",function(o){return z(n),xe(r.empleado.apellido,o)||(r.empleado.apellido=o),W(o)}),l(),U(16,U6,3,2,"div",10),l(),c(17,"div",7)(18,"label",13),h(19,"Documento de Identidad:"),l(),c(20,"input",14),ye("ngModelChange",function(o){return z(n),xe(r.empleado.documentoIdentidad,o)||(r.empleado.documentoIdentidad=o),W(o)}),l()(),c(21,"div",7)(22,"label",15),h(23,"Tipo de Contrato:"),l(),c(24,"select",16),ye("ngModelChange",function(o){return z(n),xe(r.empleado.tipoContrato,o)||(r.empleado.tipoContrato=o),W(o)}),c(25,"option",17),h(26,"Planta"),l(),c(27,"option",18),h(28,"Eventual"),l()()(),c(29,"div",7)(30,"label",19),h(31,"Fecha de Ingreso:"),l(),c(32,"input",20),ye("ngModelChange",function(o){return z(n),xe(r.empleado.fechaIngreso,o)||(r.empleado.fechaIngreso=o),W(o)}),l()(),c(33,"div",7)(34,"label",21),h(35,"Fecha de T\xE9rmino de Contrato (opcional):"),l(),c(36,"input",22),ye("ngModelChange",function(o){return z(n),xe(r.empleado.fechaTerminoContrato,o)||(r.empleado.fechaTerminoContrato=o),W(o)}),l()(),c(37,"div",7)(38,"label",23),h(39,"Email:"),l(),c(40,"input",24),ye("ngModelChange",function(o){return z(n),xe(r.empleado.email,o)||(r.empleado.email=o),W(o)}),l()(),c(41,"div",7)(42,"label",25),h(43,"Tel\xE9fono:"),l(),c(44,"input",26),ye("ngModelChange",function(o){return z(n),xe(r.empleado.telefono,o)||(r.empleado.telefono=o),W(o)}),l()(),c(45,"div",7)(46,"label",27),h(47,"Puesto:"),l(),c(48,"input",28,3),ye("ngModelChange",function(o){return z(n),xe(r.empleado.puesto,o)||(r.empleado.puesto=o),W(o)}),l(),U(50,q6,3,2,"div",10),l(),c(51,"div",7)(52,"label",29),h(53,"Salario:"),l(),c(54,"input",30,4),ye("ngModelChange",function(o){return z(n),xe(r.empleado.salario,o)||(r.empleado.salario=o),W(o)}),l(),U(56,H6,3,2,"div",10),l(),c(57,"div",7)(58,"label")(59,"input",31),ye("ngModelChange",function(o){return z(n),xe(r.empleado.activo,o)||(r.empleado.activo=o),W(o)}),l(),h(60," Activo "),l()(),c(61,"div",32)(62,"button",33),h(63,"Crear"),l(),c(64,"button",34),J("click",function(){return z(n),W(r.cancelar())}),h(65,"Cancelar"),l()()()()}if(e&2){let n=ue(4),a=ue(9),o=ue(15),d=ue(49),u=ue(55);v(8),be("ngModel",r.empleado.nombre),v(2),M("ngIf",a.invalid&&(a.dirty||a.touched)),v(4),be("ngModel",r.empleado.apellido),v(2),M("ngIf",o.invalid&&(o.dirty||o.touched)),v(4),be("ngModel",r.empleado.documentoIdentidad),v(4),be("ngModel",r.empleado.tipoContrato),v(8),be("ngModel",r.empleado.fechaIngreso),v(4),be("ngModel",r.empleado.fechaTerminoContrato),v(4),be("ngModel",r.empleado.email),v(4),be("ngModel",r.empleado.telefono),v(4),be("ngModel",r.empleado.puesto),v(2),M("ngIf",d.invalid&&(d.dirty||d.touched)),v(4),be("ngModel",r.empleado.salario),v(2),M("ngIf",u.invalid&&(u.dirty||u.touched)),v(3),be("ngModel",r.empleado.activo),v(3),M("disabled",n.invalid)}},dependencies:[kt,ni,ji,qi,Mt,Qi,K0,Ri,Tt,ri,si,bi,xr,Ot,oi,ht,Et],styles:[".form-container[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:14px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.error-message[_ngcontent-%COMP%]{color:red;font-size:14px;margin-top:5px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{width:48%;padding:10px;font-size:16px;border-radius:4px;cursor:pointer}.submit-btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;border:none}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6;cursor:not-allowed}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#218838}.cancel-btn[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})};function G6(i,t){i&1&&(c(0,"small"),h(1,"El nombre del empleado es obligatorio."),l())}function $6(i,t){i&1&&(c(0,"small"),h(1,"Debe tener al menos 2 caracteres."),l())}function Z6(i,t){if(i&1&&(c(0,"div",35),U(1,G6,2,0,"small",36)(2,$6,2,0,"small",36),l()),i&2){ee();let e=ue(9);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function X6(i,t){i&1&&(c(0,"small"),h(1,"El apellido es obligatorio."),l())}function Y6(i,t){i&1&&(c(0,"small"),h(1,"Debe tener al menos 2 caracteres."),l())}function K6(i,t){if(i&1&&(c(0,"div",35),U(1,X6,2,0,"small",36)(2,Y6,2,0,"small",36),l()),i&2){ee();let e=ue(15);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function J6(i,t){i&1&&(c(0,"small"),h(1,"El documento de identidad es obligatorio."),l())}function Q6(i,t){i&1&&(c(0,"small"),h(1,"Debe tener al menos 6 caracteres."),l())}function eO(i,t){if(i&1&&(c(0,"div",35),U(1,J6,2,0,"small",36)(2,Q6,2,0,"small",36),l()),i&2){ee();let e=ue(21);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function tO(i,t){i&1&&(c(0,"small"),h(1,"El puesto es obligatorio."),l())}function iO(i,t){i&1&&(c(0,"small"),h(1,"Debe tener al menos 2 caracteres."),l())}function rO(i,t){if(i&1&&(c(0,"div",35),U(1,tO,2,0,"small",36)(2,iO,2,0,"small",36),l()),i&2){ee();let e=ue(27);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function nO(i,t){i&1&&(c(0,"small"),h(1,"El tipo de contrato es obligatorio."),l())}function aO(i,t){if(i&1&&(c(0,"div",35),U(1,nO,2,0,"small",36),l()),i&2){ee();let e=ue(33);v(),M("ngIf",e.errors==null?null:e.errors.required)}}function oO(i,t){i&1&&(c(0,"small"),h(1,"La fecha de ingreso es obligatoria."),l())}function sO(i,t){if(i&1&&(c(0,"div",35),U(1,oO,2,0,"small",36),l()),i&2){ee();let e=ue(45);v(),M("ngIf",e.errors==null?null:e.errors.required)}}function lO(i,t){i&1&&(c(0,"small"),h(1,"El salario es obligatorio."),l())}function cO(i,t){i&1&&(c(0,"small"),h(1,"Debe ser mayor a 0."),l())}function dO(i,t){if(i&1&&(c(0,"div",35),U(1,lO,2,0,"small",36)(2,cO,2,0,"small",36),l()),i&2){ee();let e=ue(51);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.min)}}var Uh=class i{constructor(t,e,r){this.empleadoService=t;this.route=e;this.router=r}empleado={id:0,nombre:"",apellido:"",documentoIdentidad:"",tipoContrato:"planta",fechaIngreso:"",salario:0,activo:!0};ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("id"));t&&this.empleadoService.obtenerEmpleadoPorId(t).subscribe(e=>{this.empleado=e})}actualizarEmpleado(){this.empleado.id!=null&&this.empleadoService.actualizarEmpleado(this.empleado.id,this.empleado).subscribe({next:()=>{this.router.navigate(["/empleado"],{state:{mensaje:"Empleado actualizado exitosamente."}})},error:()=>{this.router.navigate(["/empleado"],{state:{error:"Ocurri\xF3 un error al actualizar el empleado."}})}})}cancelar(){this.router.navigate(["/empleado"])}static \u0275fac=function(e){return new(e||i)(ae(Ho),ae(Vi),ae(vt))};static \u0275cmp=ot({type:i,selectors:[["app-empleado-update"]],standalone:!0,features:[ut],decls:63,vars:16,consts:[["empleadoForm","ngForm"],["nombre","ngModel"],["apellido","ngModel"],["documento_identidad","ngModel"],["puesto","ngModel"],["tipo_contrato","ngModel"],["fecha_ingreso","ngModel"],["salario","ngModel"],["activo","ngModel"],[1,"form-container"],[3,"ngSubmit"],[1,"form-group"],["for","nombre"],["id","nombre","name","nombre","placeholder","Nombre del empleado","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","apellido"],["id","apellido","name","apellido","placeholder","Apellido","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["for","documento_identidad"],["id","documento_identidad","name","documento_identidad","placeholder","Documento de Identidad","required","","minlength","6",1,"form-control",3,"ngModelChange","ngModel"],["for","puesto"],["id","puesto","name","puesto","placeholder","Puesto del empleado","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["for","tipo_contrato"],["id","tipo_contrato","name","tipo_contrato","required","",1,"form-control",3,"ngModelChange","ngModel"],["value","planta"],["value","temporal"],["value","por obra"],["for","fecha_ingreso"],["id","fecha_ingreso","type","date","name","fecha_ingreso","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","salario"],["id","salario","type","number","name","salario","placeholder","Salario","required","","min","0.01","step","0.01",1,"form-control",3,"ngModelChange","ngModel"],["for","activo"],["id","activo","type","checkbox","name","activo",1,"form-control",3,"ngModelChange","ngModel"],[1,"button-container"],["type","submit",1,"submit-btn",3,"disabled"],["type","button",1,"cancel-btn",3,"click"],[1,"error-message"],[4,"ngIf"]],template:function(e,r){if(e&1){let n=Je();c(0,"div",9)(1,"h2"),h(2,"Actualizar Empleado"),l(),c(3,"form",10,0),J("ngSubmit",function(){return z(n),W(r.actualizarEmpleado())}),c(5,"div",11)(6,"label",12),h(7,"Nombre del empleado:"),l(),c(8,"input",13,1),ye("ngModelChange",function(o){return z(n),xe(r.empleado.nombre,o)||(r.empleado.nombre=o),W(o)}),l(),U(10,Z6,3,2,"div",14),l(),c(11,"div",11)(12,"label",15),h(13,"Apellido:"),l(),c(14,"input",16,2),ye("ngModelChange",function(o){return z(n),xe(r.empleado.apellido,o)||(r.empleado.apellido=o),W(o)}),l(),U(16,K6,3,2,"div",14),l(),c(17,"div",11)(18,"label",17),h(19,"Documento de Identidad:"),l(),c(20,"input",18,3),ye("ngModelChange",function(o){return z(n),xe(r.empleado.documentoIdentidad,o)||(r.empleado.documentoIdentidad=o),W(o)}),l(),U(22,eO,3,2,"div",14),l(),c(23,"div",11)(24,"label",19),h(25,"Puesto:"),l(),c(26,"input",20,4),ye("ngModelChange",function(o){return z(n),xe(r.empleado.puesto,o)||(r.empleado.puesto=o),W(o)}),l(),U(28,rO,3,2,"div",14),l(),c(29,"div",11)(30,"label",21),h(31,"Tipo de Contrato:"),l(),c(32,"select",22,5),ye("ngModelChange",function(o){return z(n),xe(r.empleado.tipoContrato,o)||(r.empleado.tipoContrato=o),W(o)}),c(34,"option",23),h(35,"Planta"),l(),c(36,"option",24),h(37,"Temporal"),l(),c(38,"option",25),h(39,"Por Obra"),l()(),U(40,aO,2,1,"div",14),l(),c(41,"div",11)(42,"label",26),h(43,"Fecha de Ingreso:"),l(),c(44,"input",27,6),ye("ngModelChange",function(o){return z(n),xe(r.empleado.fechaIngreso,o)||(r.empleado.fechaIngreso=o),W(o)}),l(),U(46,sO,2,1,"div",14),l(),c(47,"div",11)(48,"label",28),h(49,"Salario:"),l(),c(50,"input",29,7),ye("ngModelChange",function(o){return z(n),xe(r.empleado.salario,o)||(r.empleado.salario=o),W(o)}),l(),U(52,dO,3,2,"div",14),l(),c(53,"div",11)(54,"label",30),h(55,"Activo:"),l(),c(56,"input",31,8),ye("ngModelChange",function(o){return z(n),xe(r.empleado.activo,o)||(r.empleado.activo=o),W(o)}),l()(),c(58,"div",32)(59,"button",33),h(60,"Actualizar"),l(),c(61,"button",34),J("click",function(){return z(n),W(r.cancelar())}),h(62,"Cancelar"),l()()()()}if(e&2){let n=ue(4),a=ue(9),o=ue(15),d=ue(21),u=ue(27),p=ue(33),g=ue(45),y=ue(51);v(8),be("ngModel",r.empleado.nombre),v(2),M("ngIf",a.invalid&&(a.dirty||a.touched)),v(4),be("ngModel",r.empleado.apellido),v(2),M("ngIf",o.invalid&&(o.dirty||o.touched)),v(4),be("ngModel",r.empleado.documentoIdentidad),v(2),M("ngIf",d.invalid&&(d.dirty||d.touched)),v(4),be("ngModel",r.empleado.puesto),v(2),M("ngIf",u.invalid&&(u.dirty||u.touched)),v(4),be("ngModel",r.empleado.tipoContrato),v(8),M("ngIf",p.invalid&&(p.dirty||p.touched)),v(4),be("ngModel",r.empleado.fechaIngreso),v(2),M("ngIf",g.invalid&&(g.dirty||g.touched)),v(4),be("ngModel",r.empleado.salario),v(2),M("ngIf",y.invalid&&(y.dirty||y.touched)),v(4),be("ngModel",r.empleado.activo),v(3),M("disabled",n.invalid)}},dependencies:[kt,ni,ji,qi,Mt,Qi,K0,Ri,Tt,ri,si,bi,xr,Ot,oi,ht,Et],styles:[".form-container[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:14px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.error-message[_ngcontent-%COMP%]{color:red;font-size:16px;margin-top:5px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{width:48%;padding:10px;font-size:16px;border-radius:4px;cursor:pointer}.submit-btn[_ngcontent-%COMP%]{background-color:#ffc107;color:#fff;border:none}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6;cursor:not-allowed}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#e0a800}.cancel-btn[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})};var Go=class i{constructor(t){this.http=t}apiUrl=li.apiUrl;obtenerCompras(){return this.http.get(`${this.apiUrl}/compras`)}obtenerComprasDesc(){return this.http.get(`${this.apiUrl}/compras/ordenadas`)}obtenerCompraPorId(t){return this.http.get(`${this.apiUrl}/compras/${t}`)}crearCompra(t){let e=st({},t);return delete e.id,this.http.post(`${this.apiUrl}/compras`,e)}actualizarCompra(t,e){return this.http.put(`${this.apiUrl}/compras/${t}`,e)}eliminarCompra(t){return this.http.delete(`${this.apiUrl}/compras/${t}`)}static \u0275fac=function(e){return new(e||i)(St(ai))};static \u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"})};var uO=(i,t,e)=>({"bg-warning text-dark":i,"bg-success text-white":t,"bg-danger text-white":e}),fO=(i,t,e,r)=>({"bg-primary text-white":i,"bg-info text-dark":t,"bg-secondary text-white":e,"bg-success text-white":r});function pO(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),h(2),l(),c(3,"td"),h(4),l(),c(5,"td"),h(6),l(),c(7,"td")(8,"span",27),h(9),l()(),c(10,"td")(11,"span",27),h(12),l()(),c(13,"td",23)(14,"button",28),J("click",function(){let n,a=z(e).$implicit,o=ee();return W(o.irAVerDetalleCompra((n=a.id)!==null&&n!==void 0?n:0))}),Le(15,"i",29),h(16," Ver detalle "),l(),c(17,"button",30),J("click",function(){let n,a=z(e).$implicit,o=ee();return W(o.irAVerDetalleCompra((n=a.id)!==null&&n!==void 0?n:0))}),Le(18,"i",31),h(19," Editar "),l(),c(20,"button",32),J("click",function(){let n,a=z(e).$implicit,o=ee();return W(o.irAVerDetalleCompra((n=a.id)!==null&&n!==void 0?n:0))}),Le(21,"i",33),h(22," Cancelar "),l()()()}if(i&2){let e=t.$implicit;v(2),Ve(e.numeroCompra),v(2),Ve(e.fecha),v(2),tt("",e.total," $"),v(2),M("ngClass",x2(7,uO,e.estadoCompra==="PENDIENTE",e.estadoCompra==="APROBADO",e.estadoCompra==="CANCELADA")),v(),tt(" ",e.estadoCompra.toLowerCase()," "),v(2),M("ngClass",Vo(11,fO,e.proveedor.tipoProveedor==="MATERIAL",e.proveedor.tipoProveedor==="EQUIPO",e.proveedor.tipoProveedor==="SERVICIO",e.proveedor.tipoProveedor==="OTROS")),v(),tt(" ",e.proveedor.tipoProveedor==null?null:e.proveedor.tipoProveedor.toLowerCase()," ")}}var Vh=class i{constructor(t,e,r,n){this.compraService=t;this.router=e;this.filterService=r;this.paginationService=n}compras=[];comprasFiltrados=[];comprasPaginados=[];textoBusqueda="";paginaActual=1;elementosPorPagina=6;totalPaginas=0;ngOnInit(){this.obtenerCompras()}obtenerCompras(){this.compraService.obtenerComprasDesc().subscribe(t=>{console.log("Compras",t),this.compras=t,this.filtrarcCompras()})}filtrarcCompras(){let t=[...this.compras];t=this.filterService.filtrar(t,this.textoBusqueda),this.comprasFiltrados=t,this.paginaActual=1,this.calcularPaginacionCompras()}calcularPaginacionCompras(){let t=this.paginationService.paginate(this.comprasFiltrados,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.comprasPaginados=t.paginatedData}cambiarPaginaCompras(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarComprasPaginados()}actualizarComprasPaginados(){let t=this.paginationService.paginate(this.comprasFiltrados,this.paginaActual,this.elementosPorPagina);this.comprasPaginados=t.paginatedData}irACrearCompra(){this.router.navigate(["/compra-create"])}irACrearCompraMaterial(){this.router.navigate(["/compra-material-create"])}irACrearCompraEquipo(){this.router.navigate(["/compra-equipo-create"])}irACrearCompraServicio(){this.router.navigate(["/compra-servicio-create"])}irAVerDetalleCompra(t){console.log("Navegar a detalle compra")}irAEditarCompra(t){console.log("Navegar a editar compra")}confirmarEliminarCompra(t){console.log("Navegar a eliminar compra")}static \u0275fac=function(e){return new(e||i)(ae(Go),ae(vt),ae(zi),ae(Yi))};static \u0275cmp=ot({type:i,selectors:[["app-compra-list"]],standalone:!0,features:[ut],decls:51,vars:6,consts:[[1,"content"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"card","shadow-sm"],[1,"card-body"],[1,"row","mb-3"],[1,"col-12","col-md-6"],[1,"m-0"],[1,"col-12","col-md-6","text-md-end"],[1,"btn","btn-primary","me-2",3,"click"],[1,"bi","bi-box-seam"],[1,"bi","bi-pc-display"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-tools"],["hidden","",1,"btn","btn-primary",3,"click"],[1,"bi","bi-plus-circle"],["id","material","role","tabpanel","aria-labelledby","material-tab",1,"tab-pane","fade","show","active"],[1,"mb-3"],["type","text","placeholder","Buscar compras...",1,"form-control",3,"ngModelChange","input","ngModel"],[2,"max-height","400px","overflow-y","auto"],[1,"table","table-bordered","table-striped"],[1,"table-primary"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"paginacion"],[3,"click","disabled"],[1,"badge","rounded-pill",3,"ngClass"],[1,"btn","btn-info","btn-sm","me-1",3,"click"],[1,"bi","bi-eye"],[1,"btn","btn-warning","btn-sm","me-1",3,"click"],[1,"bi","bi-eyedropper"],[1,"btn","btn-danger","btn-sm","me-1",3,"click"],[1,"bi","bi-x-circle"]],template:function(e,r){e&1&&(c(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h4",8),h(9,"Gesti\xF3n de Compras"),l()(),c(10,"div",9)(11,"button",10),J("click",function(){return r.irACrearCompraMaterial()}),Le(12,"i",11),h(13," Material "),l(),c(14,"button",10),J("click",function(){return r.irACrearCompraEquipo()}),Le(15,"i",12),h(16," Equipo "),l(),c(17,"button",13),J("click",function(){return r.irACrearCompraServicio()}),Le(18,"i",14),h(19," Servicio "),l(),c(20,"button",15),J("click",function(){return r.irACrearCompra()}),Le(21,"i",16),h(22," Nueva Compra "),l()()(),c(23,"div",17)(24,"div",18)(25,"input",19),ye("ngModelChange",function(a){return xe(r.textoBusqueda,a)||(r.textoBusqueda=a),a}),J("input",function(){return r.filtrarcCompras()}),l()(),c(26,"div",20)(27,"table",21)(28,"thead",22)(29,"tr")(30,"th"),h(31,"Nro Compra"),l(),c(32,"th"),h(33,"Fecha"),l(),c(34,"th"),h(35,"Total"),l(),c(36,"th"),h(37,"Estado"),l(),c(38,"th"),h(39,"Tipo Compra"),l(),c(40,"th",23),h(41,"Acciones"),l()()(),c(42,"tbody"),U(43,pO,23,16,"tr",24),l()()(),c(44,"div",25)(45,"button",26),J("click",function(){return r.cambiarPaginaCompras("previous")}),h(46," \u2190 Anterior "),l(),c(47,"span"),h(48),l(),c(49,"button",26),J("click",function(){return r.cambiarPaginaCompras("next")}),h(50," Siguiente \u2192 "),l()()()()()()()()()),e&2&&(v(25),be("ngModel",r.textoBusqueda),v(18),M("ngForOf",r.comprasPaginados),v(2),M("disabled",r.paginaActual===1),v(3),Di("P\xE1gina ",r.paginaActual," de ",r.totalPaginas,""),v(),M("disabled",r.paginaActual===r.totalPaginas))},dependencies:[ht,aa,zt,Ui,kt,Mt,Tt,Ot]})};var ua=class i{constructor(t){this.http=t}apiUrl=li.apiUrl;obtenerProveedores(){return this.http.get(`${this.apiUrl}/proveedores`)}obtenerProveedoresPorTipoEquipo(){return this.http.get(`${this.apiUrl}/proveedores/tipo?tipo=EQUIPO`)}obtenerProveedoresPorTipoMaterial(){return this.http.get(`${this.apiUrl}/proveedores/tipo?tipo=MATERIAL`)}obtenerProveedoresPorTipoServicio(){return this.http.get(`${this.apiUrl}/proveedores/tipo?tipo=SERVICIO`)}obtenerProveedorPorId(t){return this.http.get(`${this.apiUrl}/proveedores/${t}`)}obtenerProveedorPorNitCi(t){return this.http.get(`${this.apiUrl}/proveedores/nitci/${t}`)}crearProveedor(t){let e=st({},t);return delete e.id,this.http.post(`${this.apiUrl}/proveedores`,e)}actualizarProveedor(t,e){return this.http.put(`${this.apiUrl}/proveedores/${t}`,e)}eliminarProveedor(t){return this.http.delete(`${this.apiUrl}/proveedores/${t}`)}static \u0275fac=function(e){return new(e||i)(St(ai))};static \u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"})};var wu=class i{constructor(t){this.http=t}apiUrl=li.apiUrl;obtenerCompraMaterial(){return this.http.get(`${this.apiUrl}/compra-material`)}obtenerCompraMaterialPorId(t){return this.http.get(`${this.apiUrl}/compra-material/${t}`)}crearCompraMaterial(t){return this.http.post(`${this.apiUrl}/compra-material`,t)}actualizarCompraMaterial(t,e){return this.http.put(`${this.apiUrl}/compra-material/${t}`,e)}eliminarCompraMaterial(t){return this.http.delete(`${this.apiUrl}/compra-material/${t}`)}static \u0275fac=function(e){return new(e||i)(St(ai))};static \u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"})};var hO=(i,t,e,r)=>({"bg-primary text-white":i,"bg-info text-dark":t,"bg-success text-white":e,"bg-secondary text-white":r});function mO(i,t){if(i&1&&(c(0,"span",55),h(1),l()),i&2){let e=ee().$implicit;v(),tt("M\xEDn: ",e.stockMinimo,"")}}function gO(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),h(2),l(),c(3,"td"),h(4),l(),c(5,"td"),h(6),l(),c(7,"td"),h(8),ei(9,"currency"),l(),c(10,"td"),h(11),U(12,mO,2,1,"span",52),l(),c(13,"td",27)(14,"button",53),J("click",function(){let n=z(e).$implicit,a=ee();return W(a.agregarACarrito(n,"material"))}),Le(15,"i",54),h(16," Comprar "),l()()()}if(i&2){let e=t.$implicit;v(2),Ve(e.codigoInventario),v(2),Ve(e.nombre),v(2),Ve(e.unidadMedida),v(2),Ve(Ci(9,8,e.precioUnitario)),v(2),fl("text-danger",e.stockActual<e.stockMinimo),v(),tt(" ",e.stockActual," "),v(),M("ngIf",e.stockActual<e.stockMinimo)}}function vO(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),h(2),l(),c(3,"td"),h(4),l(),c(5,"td"),h(6),l(),c(7,"td"),h(8),ei(9,"currency"),l(),c(10,"td",27)(11,"button",53),J("click",function(){let n=z(e).$implicit,a=ee();return W(a.agregarACarrito(n,"equipo"))}),Le(12,"i",54),h(13," Comprar "),l()()()}if(i&2){let e=t.$implicit;v(2),Ve(e.codigoActivo),v(2),Ve(e.nombre),v(2),Ve(e.tipoEquipo),v(2),Ve(Ci(9,4,e.precioUnitario))}}function _O(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),h(2),l(),c(3,"td"),h(4),l(),c(5,"td"),h(6),l(),c(7,"td"),h(8),ei(9,"currency"),l(),c(10,"td",27)(11,"button",53),J("click",function(){let n=z(e).$implicit,a=ee();return W(a.agregarACarrito(n,"servicio"))}),Le(12,"i",54),h(13," Contratar "),l()()()}if(i&2){let e=t.$implicit;v(2),Ve(e.codigoServicio),v(2),Ve(e.nombre),v(2),tt("",e.duracionEstimada," dia/s"),v(2),Ve(Ci(9,4,e.precioUnitario))}}function bO(i,t){if(i&1){let e=Je();c(0,"div",56)(1,"button",57),J("click",function(){z(e);let n=ee();return W(n.seleccionarProveedor())}),Le(2,"i",58),h(3," Seleccionar proveedor "),l()()}}function xO(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),h(2),ei(3,"titlecase"),l(),c(4,"td"),h(5),l(),c(6,"td")(7,"input",69),ye("ngModelChange",function(n){let a=z(e).$implicit;return xe(a.cantidad,n)||(a.cantidad=n),W(n)}),J("change",function(){let n=z(e).$implicit,a=ee(2);return W(a.actualizarSubtotal(n))}),l()(),c(8,"td"),h(9),ei(10,"currency"),l(),c(11,"td"),h(12),ei(13,"currency"),l(),c(14,"td",27)(15,"button",70),J("click",function(){let n=z(e).index,a=ee(2);return W(a.eliminarDelCarrito(n))}),Le(16,"i",71),l()()()}if(i&2){let e=t.$implicit;v(2),Ve(Ci(3,5,e.tipo)),v(3),Ve(e.nombre),v(2),be("ngModel",e.cantidad),v(2),Ve(Ci(10,7,e.precioUnitario)),v(3),Ve(Ci(13,9,e.subtotal))}}function yO(i,t){if(i&1){let e=Je();c(0,"div",59)(1,"div",60)(2,"h5",8),Le(3,"i",61),h(4," Carrito de Compras "),l()(),c(5,"div",5)(6,"div",62)(7,"table",63)(8,"thead")(9,"tr")(10,"th"),h(11,"Tipo"),l(),c(12,"th"),h(13,"Item"),l(),c(14,"th"),h(15,"Cantidad"),l(),c(16,"th"),h(17,"Precio Unitario"),l(),c(18,"th"),h(19,"Subtotal"),l(),Le(20,"th"),l()(),c(21,"tbody"),U(22,xO,17,11,"tr",28),l(),c(23,"tfoot")(24,"tr")(25,"td",64),h(26,"Total:"),l(),c(27,"td",65),h(28),ei(29,"currency"),l()()()()(),c(30,"div",66)(31,"button",67),J("click",function(){z(e);let n=ee();return W(n.confirmarCompra())}),Le(32,"i",58),h(33," Confirmar Compra "),l(),c(34,"button",10),J("click",function(){z(e);let n=ee();return W(n.vaciarCarrito())}),Le(35,"i",68),h(36," Cancelar "),l()()()()}if(i&2){let e=ee();v(22),M("ngForOf",e.carrito),v(6),tt(" ",Ci(29,2,e.calcularTotal())," ")}}function CO(i,t){if(i&1&&(c(0,"div",72),h(1),l()),i&2){let e=ee();v(),tt(" Proveedor seleccionado: ",e.proveedorID," ")}}function wO(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),h(2),l(),c(3,"td"),h(4),l(),c(5,"td")(6,"span",73),h(7),l()(),c(8,"td",27)(9,"button",74),J("click",function(){let n,a=z(e).$implicit,o=ee();return W(o.seleccionarProveedorID((n=a.id)!==null&&n!==void 0?n:0))}),Le(10,"i",75),h(11," OK "),l()()()}if(i&2){let e=t.$implicit;v(2),Ve(e.id),v(2),Ve(e.empresa),v(2),M("ngClass",Vo(4,hO,e.tipoProveedor==="MATERIAL",e.tipoProveedor==="EQUIPO",e.tipoProveedor==="SERVICIO",e.tipoProveedor==="OTROS")),v(),tt(" ",e.tipoProveedor==null?null:e.tipoProveedor.toLowerCase()," ")}}var jh=class i{constructor(t,e,r,n,a,o,d,u,p){this.materialService=t;this.equipoService=e;this.servicioService=r;this.proveedorService=n;this.compraService=a;this.compraMaterialService=o;this.router=d;this.filterService=u;this.paginationService=p}materiales=[];materialesFiltrados=[];materialesPaginados=[];equipos=[];equiposFiltrados=[];equiposPaginados=[];servicios=[];serviciosFiltrados=[];serviciosPaginados=[];textoBusqueda="";paginaActual=1;elementosPorPagina=5;totalPaginas=0;proveedores=[];proveedoresFiltrados=[];proveedoresPaginados=[];estadoSeleccionado="Todos";mostrarModal=!1;compraID=null;proveedorID=null;total=null;proveedorSeleccionado={id:0,nombreCompleto:"",nitCi:"",telefono:"",correo:"",direccion:"",ciudad:"",pais:"",empresa:"",tipoProveedor:"",estado:""};hoy=new Date().toISOString().split("T")[0];compra={numeroCompra:0,fecha:this.hoy,total:0,estadoCompra:"APROBADO",proveedor:{id:0,nombreCompleto:"",nitCi:"",telefono:"",correo:"",direccion:"",ciudad:"",pais:"",empresa:"",tipoProveedor:"",estado:""}};ngOnInit(){this.obtenerMateriales(),this.obtenerEquipos(),this.obtenerServicios(),this.obtenerProveedores()}obtenerMateriales(){this.materialService.obtenerMateriales().subscribe(t=>{console.log("Materiales",t),this.materiales=t,this.filtrarMateriales()})}filtrarMateriales(){let t=[...this.materiales];t=this.filterService.filtrar(t,this.textoBusqueda),this.materialesFiltrados=t,this.paginaActual=1,this.calcularPaginacionMateriales()}calcularPaginacionMateriales(){let t=this.paginationService.paginate(this.materialesFiltrados,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.materialesPaginados=t.paginatedData}cambiarPaginaMateriales(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarmaterialesPaginados()}actualizarmaterialesPaginados(){let t=this.paginationService.paginate(this.materialesFiltrados,this.paginaActual,this.elementosPorPagina);this.materialesPaginados=t.paginatedData}obtenerEquipos(){this.equipoService.obtenerEquipos().subscribe(t=>{this.equipos=t,this.filtrarEquipos()})}filtrarEquipos(){let t=[...this.equipos];t=this.filterService.filtrar(t,this.textoBusqueda),this.equiposFiltrados=t,this.paginaActual=1,this.calcularPaginacionEquipos()}calcularPaginacionEquipos(){let t=this.paginationService.paginate(this.equiposFiltrados,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.equiposPaginados=t.paginatedData}cambiarPaginaEquipos(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarequiposPaginados()}actualizarequiposPaginados(){let t=this.paginationService.paginate(this.equiposFiltrados,this.paginaActual,this.elementosPorPagina);this.equiposPaginados=t.paginatedData}obtenerServicios(){this.servicioService.obtenerServicios().subscribe(t=>{this.servicios=t,this.filtrarServicios()})}filtrarServicios(){let t=[...this.servicios];t=this.filterService.filtrar(t,this.textoBusqueda),this.serviciosFiltrados=t,this.paginaActual=1,this.calcularPaginacionServicios()}calcularPaginacionServicios(){let t=this.paginationService.paginate(this.serviciosFiltrados,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.serviciosPaginados=t.paginatedData}cambiarPaginaServicios(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarserviciosPaginados()}actualizarserviciosPaginados(){let t=this.paginationService.paginate(this.serviciosFiltrados,this.paginaActual,this.elementosPorPagina);this.serviciosPaginados=t.paginatedData}obtenerProveedores(){this.proveedorService.obtenerProveedores().subscribe(t=>{this.proveedores=t,this.filtrarProveedores()})}filtrarProveedores(){let t=[...this.proveedores];t=this.filterService.filtrar(t,this.textoBusqueda),this.proveedoresFiltrados=t,this.paginaActual=1,this.calcularPaginacionProveedores()}calcularPaginacionProveedores(){let t=this.paginationService.paginate(this.proveedoresFiltrados,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.proveedoresPaginados=t.paginatedData}cambiarPaginaProveedores(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarProveedoresPaginados()}actualizarProveedoresPaginados(){let t=this.paginationService.paginate(this.proveedoresFiltrados,this.paginaActual,this.elementosPorPagina);this.proveedoresPaginados=t.paginatedData}carrito=[];agregarACarrito(t,e){let r=this.carrito.find(n=>n.id===t.id&&n.tipo===e);r?(r.cantidad+=1,r.subtotal=r.cantidad*r.precioUnitario):this.carrito.push(Ki(st({},t),{tipo:e,cantidad:1,subtotal:t.precioUnitario}))}eliminarDelCarrito(t){this.carrito.splice(t,1)}actualizarSubtotal(t){t.subtotal=t.cantidad*t.precioUnitario}calcularTotal(){let t=this.carrito.reduce((e,r)=>e+r.subtotal,0);return this.total=t,t}vaciarCarrito(){this.carrito=[]}confirmarCompra(){console.log("Compra confirmada:",this.carrito),console.log("Total:",this.total),console.log("IDProveedor:",this.proveedorID),this.cargarCompra(),this.crearCompra()}cargarCompra(){this.compra.total=this.total,this.compra.proveedorId=this.proveedorID,this.compra.proveedor.id=this.proveedorSeleccionado.id,this.compra.proveedor.ciudad=this.proveedorSeleccionado.ciudad,this.compra.proveedor.correo=this.proveedorSeleccionado.correo,this.compra.proveedor.direccion=this.proveedorSeleccionado.direccion,this.compra.proveedor.empresa=this.proveedorSeleccionado.empresa,this.compra.proveedor.estado=this.proveedorSeleccionado.estado,this.compra.proveedor.nitCi=this.proveedorSeleccionado.nitCi,this.compra.proveedor.nombreCompleto=this.proveedorSeleccionado.nombreCompleto,this.compra.proveedor.pais=this.proveedorSeleccionado.pais,this.compra.proveedor.telefono=this.proveedorSeleccionado.telefono,this.compra.proveedor.tipoProveedor=this.proveedorSeleccionado.tipoProveedor}compraNueva;material;crearCompra(){this.compraService.crearCompra(this.compra).subscribe(t=>{this.compraNueva=t,this.carrito.forEach(e=>{let r={id:e.id,codigoInventario:e.codigoInventario,nombre:e.nombre,descripcion:e.descripcion,unidadMedida:e.unidadMedida,precioUnitario:e.precioUnitario,stockActual:e.stockActual,stockMinimo:e.stockMinimo,categoria:e.categoria},n={compra:this.compraNueva,material:r,precioUnitario:e.precioUnitario,cantidad:e.cantidad,subTotal:e.subtotal};this.compraMaterialService.crearCompraMaterial(n).subscribe(()=>{console.log("CompraMaterial creada para material",e.nombre)})}),console.log("Compra creada:",this.compraNueva)})}irACrearCompra(){console.log("Navegar a crear compra")}irACompras(){this.router.navigate(["/compra"])}seleccionarProveedor(){this.mostrarModal=!0}seleccionarProveedorID(t){this.proveedorID=t,this.obtenerProveedorPorId(t)}obtenerProveedorPorId(t){this.proveedorService.obtenerProveedorPorId(t).subscribe(e=>{this.proveedorSeleccionado=e})}proveedorConfirmado(){this.proveedorID!==null&&this.cerrarModal()}cerrarModal(){this.mostrarModal=!1}static \u0275fac=function(e){return new(e||i)(ae(la),ae(ca),ae(da),ae(ua),ae(Go),ae(wu),ae(vt),ae(zi),ae(Yi))};static \u0275cmp=ot({type:i,selectors:[["app-compra-create"]],standalone:!0,features:[ut],decls:150,vars:27,consts:[[1,"content"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"card","shadow-sm"],[1,"card-body"],[1,"row","mb-3"],[1,"col-12","col-md-6"],[1,"m-0"],[1,"col-12","col-md-6","text-md-end"],[1,"btn","btn-secondary",3,"click"],[1,"bi","bi-arrow-return-left"],["id","comprasTabs","role","tablist",1,"nav","nav-tabs","mb-3"],["role","presentation",1,"nav-item"],["id","material-tab","data-bs-toggle","tab","data-bs-target","#material","type","button","role","tab","aria-controls","material","aria-selected","true",1,"nav-link","active"],[1,"bi","bi-box-seam"],["id","equipo-tab","data-bs-toggle","tab","data-bs-target","#equipo","type","button","role","tab","aria-controls","equipo","aria-selected","false",1,"nav-link"],[1,"bi","bi-pc-display"],["id","servicio-tab","data-bs-toggle","tab","data-bs-target","#servicio","type","button","role","tab","aria-controls","servicio","aria-selected","false",1,"nav-link"],[1,"bi","bi-tools"],["id","comprasTabsContent",1,"tab-content"],["id","material","role","tabpanel","aria-labelledby","material-tab",1,"tab-pane","fade","show","active"],[1,"mb-3"],["type","text","placeholder","Buscar materiales...",1,"form-control",3,"ngModelChange","input","ngModel"],[2,"max-height","400px","overflow-y","auto"],[1,"table","table-bordered","table-striped"],[1,"table-primary"],[1,"text-center"],[4,"ngFor","ngForOf"],["hidden","",1,"paginacion"],[3,"click","disabled"],["id","equipo","role","tabpanel","aria-labelledby","equipo-tab",1,"tab-pane","fade"],["type","text","placeholder","Buscar equipos...",1,"form-control",3,"ngModelChange","input","ngModel"],["id","servicio","role","tabpanel","aria-labelledby","servicio-tab",1,"tab-pane","fade"],["type","text","placeholder","Buscar servicios...",1,"form-control",3,"ngModelChange","input","ngModel"],["class","col-12 text-md-end",4,"ngIf"],["class","card mt-4",4,"ngIf"],["id","proveedorModal","tabindex","-1","aria-labelledby","proveedorModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","proveedorModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["id","proveedor","role","tabpanel","aria-labelledby","material-tab",1,"tab-pane","fade","show","active"],["type","text","placeholder","Buscar proveedor...",1,"form-control",3,"ngModelChange","input","ngModel"],["class","alert alert-success","role","alert",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"bi","bi-x-circle","mr-1"],["type","button","data-bs-dismiss","modal",1,"btn","btn-success",3,"click"],[1,"bi","bi-check-circle","mr-1"],["class","badge bg-warning",4,"ngIf"],[1,"btn","btn-primary","btn-sm","me-1",3,"click"],[1,"bi","bi-cart-plus"],[1,"badge","bg-warning"],[1,"col-12","text-md-end"],["data-bs-toggle","modal","data-bs-target","#proveedorModal",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-check-circle"],[1,"card","mt-4"],[1,"card-header","bg-primary","text-white"],[1,"bi","bi-cart"],[1,"table-responsive"],[1,"table"],["colspan","4",1,"text-end","fw-bold"],["colspan","2",1,"fw-bold"],[1,"d-flex","justify-content-end","mt-3"],[1,"btn","btn-success","me-2",3,"click"],[1,"bi","bi-x-circle"],["type","number","min","1",1,"form-control","form-control-sm",2,"width","80px",3,"ngModelChange","change","ngModel"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"bi","bi-trash"],["role","alert",1,"alert","alert-success"],[1,"badge","rounded-pill",3,"ngClass"],[1,"btn","btn-outline-success","btn-sm","me-1",3,"click"],[1,"bi","bi-check"]],template:function(e,r){e&1&&(c(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h4",8),h(9,"Realizar Compras"),l()(),c(10,"div",9)(11,"button",10),J("click",function(){return r.irACompras()}),Le(12,"i",11),h(13," Volver "),l()()(),c(14,"ul",12)(15,"li",13)(16,"button",14),Le(17,"i",15),h(18," Materiales "),l()(),c(19,"li",13)(20,"button",16),Le(21,"i",17),h(22," Equipos "),l()(),c(23,"li",13)(24,"button",18),Le(25,"i",19),h(26," Servicios "),l()()(),c(27,"div",20)(28,"div",21)(29,"div",22)(30,"input",23),ye("ngModelChange",function(a){return xe(r.textoBusqueda,a)||(r.textoBusqueda=a),a}),J("input",function(){return r.filtrarMateriales()}),l()(),c(31,"div",24)(32,"table",25)(33,"thead",26)(34,"tr")(35,"th"),h(36,"C\xF3d. Inventario"),l(),c(37,"th"),h(38,"Nombre"),l(),c(39,"th"),h(40,"Unidad Medida"),l(),c(41,"th"),h(42,"Precio Unitario"),l(),c(43,"th"),h(44,"Stock Actual"),l(),c(45,"th",27),h(46,"Acciones"),l()()(),c(47,"tbody"),U(48,gO,17,10,"tr",28),l()()(),c(49,"div",29)(50,"button",30),J("click",function(){return r.cambiarPaginaMateriales("previous")}),h(51," \u2190 Anterior "),l(),c(52,"span"),h(53),l(),c(54,"button",30),J("click",function(){return r.cambiarPaginaMateriales("next")}),h(55," Siguiente \u2192 "),l()()(),c(56,"div",31)(57,"div",22)(58,"input",32),ye("ngModelChange",function(a){return xe(r.textoBusqueda,a)||(r.textoBusqueda=a),a}),J("input",function(){return r.filtrarEquipos()}),l()(),c(59,"div",24)(60,"table",25)(61,"thead",26)(62,"tr")(63,"th"),h(64,"C\xF3d. Activo"),l(),c(65,"th"),h(66,"Nombre"),l(),c(67,"th"),h(68,"Tipo"),l(),c(69,"th"),h(70,"Precio Unitario"),l(),c(71,"th",27),h(72,"Acciones"),l()()(),c(73,"tbody"),U(74,vO,14,6,"tr",28),l()()(),c(75,"div",29)(76,"button",30),J("click",function(){return r.cambiarPaginaEquipos("previous")}),h(77," \u2190 Anterior "),l(),c(78,"span"),h(79),l(),c(80,"button",30),J("click",function(){return r.cambiarPaginaEquipos("next")}),h(81," Siguiente \u2192 "),l()()(),c(82,"div",33)(83,"div",22)(84,"input",34),ye("ngModelChange",function(a){return xe(r.textoBusqueda,a)||(r.textoBusqueda=a),a}),J("input",function(){return r.filtrarServicios()}),l()(),c(85,"div",24)(86,"table",25)(87,"thead",26)(88,"tr")(89,"th"),h(90,"C\xF3d. Servicio"),l(),c(91,"th"),h(92,"Nombre"),l(),c(93,"th"),h(94,"Duraci\xF3n"),l(),c(95,"th"),h(96,"Precio Unitario"),l(),c(97,"th",27),h(98,"Acciones"),l()()(),c(99,"tbody"),U(100,_O,14,6,"tr",28),l()()(),c(101,"div",29)(102,"button",30),J("click",function(){return r.cambiarPaginaServicios("previous")}),h(103," \u2190 Anterior "),l(),c(104,"span"),h(105),l(),c(106,"button",30),J("click",function(){return r.cambiarPaginaServicios("next")}),h(107," Siguiente \u2192 "),l()()()(),U(108,bO,4,0,"div",35)(109,yO,37,4,"div",36),l()()()()()(),c(110,"div",37)(111,"div",38)(112,"div",39)(113,"div",40)(114,"h5",41),h(115," Seleccione un Proveedor "),l(),Le(116,"button",42),l(),c(117,"div",43)(118,"div",44)(119,"div",22)(120,"input",45),ye("ngModelChange",function(a){return xe(r.textoBusqueda,a)||(r.textoBusqueda=a),a}),J("input",function(){return r.filtrarProveedores()}),l()(),U(121,CO,2,1,"div",46),c(122,"div",24)(123,"table",25)(124,"thead",26)(125,"tr")(126,"th"),h(127,"ID"),l(),c(128,"th"),h(129,"Proveedor"),l(),c(130,"th"),h(131,"Tipo"),l(),c(132,"th",27),h(133,"Acciones"),l()()(),c(134,"tbody"),U(135,wO,12,9,"tr",28),l()()(),c(136,"div",29)(137,"button",30),J("click",function(){return r.cambiarPaginaProveedores("previous")}),h(138," \u2190 Anterior "),l(),c(139,"span"),h(140),l(),c(141,"button",30),J("click",function(){return r.cambiarPaginaProveedores("next")}),h(142," Siguiente \u2192 "),l()()()(),c(143,"div",47)(144,"button",48),Le(145,"i",49),h(146," Cancelar "),l(),c(147,"button",50),J("click",function(){return r.proveedorConfirmado()}),Le(148,"i",51),h(149," Confirmar "),l()()()()()),e&2&&(v(30),be("ngModel",r.textoBusqueda),v(18),M("ngForOf",r.materialesFiltrados),v(2),M("disabled",r.paginaActual===1),v(3),Di("P\xE1gina ",r.paginaActual," de ",r.totalPaginas,""),v(),M("disabled",r.paginaActual===r.totalPaginas),v(4),be("ngModel",r.textoBusqueda),v(16),M("ngForOf",r.equiposFiltrados),v(2),M("disabled",r.paginaActual===1),v(3),Di("P\xE1gina ",r.paginaActual," de ",r.totalPaginas,""),v(),M("disabled",r.paginaActual===r.totalPaginas),v(4),be("ngModel",r.textoBusqueda),v(16),M("ngForOf",r.serviciosFiltrados),v(2),M("disabled",r.paginaActual===1),v(3),Di("P\xE1gina ",r.paginaActual," de ",r.totalPaginas,""),v(),M("disabled",r.paginaActual===r.totalPaginas),v(2),M("ngIf",r.carrito.length>0),v(),M("ngIf",r.carrito.length>0),v(11),be("ngModel",r.textoBusqueda),v(),M("ngIf",r.proveedorID!=null),v(14),M("ngForOf",r.proveedoresFiltrados),v(2),M("disabled",r.paginaActual===1),v(3),Di("P\xE1gina ",r.paginaActual," de ",r.totalPaginas,""),v(),M("disabled",r.paginaActual===r.totalPaginas))},dependencies:[ht,aa,zt,Et,js,Ya,Ui,kt,Mt,Qi,Tt,xr,Ot]})};function SO(i,t){if(i&1&&(c(0,"li",29),h(1),c(2,"span",30),h(3),ei(4,"date"),l()()),i&2){let e=t.$implicit;v(),tt(" ",e.nombre," "),v(2),Ve(Ci(4,2,e.fechaLimite))}}var qh=class i{totalProyectosActivos=12;totalProyectosCompletados=8;totalProyectosPendientes=5;presupuestoTotal=15e5;progresoProyecto1=80;progresoProyecto2=45;progresoProyecto3=60;tareasPendientes=[{nombre:"Revisi\xF3n de planos",fechaLimite:new Date},{nombre:"Compra de materiales",fechaLimite:new Date(new Date().setDate(new Date().getDate()+5))},{nombre:"Contrataci\xF3n de equipo",fechaLimite:new Date(new Date().setDate(new Date().getDate()+10))}];ngOnInit(){}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=ot({type:i,selectors:[["app-dashboard"]],standalone:!0,features:[ut],decls:68,vars:22,consts:[[1,"content"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"card","shadow-sm"],[1,"card-body"],[1,"row","mt-4"],[1,"col-md-3","mb-4"],[1,"card","shadow-sm","bg-primary","text-white"],[1,"card-body","text-center"],[1,"card-title"],[1,"card-text"],[1,"card","shadow-sm","bg-success","text-white"],[1,"card","shadow-sm","bg-warning","text-dark"],[1,"card","shadow-sm","bg-info","text-white"],[1,"col-md-6","mb-4"],[1,"mb-3"],[1,"progress"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar"],[1,"progress","mt-2"],[1,"list-group"],[1,"list-group-item","list-group-item-success"],[1,"bi","bi-check-circle"],[1,"list-group-item","list-group-item-warning"],[1,"bi","bi-exclamation-circle"],[1,"list-group-item","list-group-item-primary"],[1,"bi","bi-pause-circle"],[1,"col-md-12"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"badge","bg-primary","rounded-pill"]],template:function(e,r){e&1&&(c(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"h5",10),h(11,"Proyectos Activos"),l(),c(12,"p",11),h(13),l()()()(),c(14,"div",7)(15,"div",12)(16,"div",9)(17,"h5",10),h(18,"Proyectos Completados"),l(),c(19,"p",11),h(20),l()()()(),c(21,"div",7)(22,"div",13)(23,"div",9)(24,"h5",10),h(25,"Proyectos Pendientes"),l(),c(26,"p",11),h(27),l()()()(),c(28,"div",7)(29,"div",14)(30,"div",9)(31,"h5",10),h(32,"Presupuesto Total"),l(),c(33,"p",11),h(34),ei(35,"currency"),l()()()()(),c(36,"div",2)(37,"div",15)(38,"h4",16),h(39,"Progreso de Proyectos"),l(),c(40,"div",17)(41,"div",18),h(42),l()(),c(43,"div",19)(44,"div",18),h(45),l()(),c(46,"div",19)(47,"div",18),h(48),l()()(),c(49,"div",15)(50,"h4",16),h(51,"Estado de los Proyectos"),l(),c(52,"div",20)(53,"div",21),Le(54,"i",22),h(55),l(),c(56,"div",23),Le(57,"i",24),h(58),l(),c(59,"div",25),Le(60,"i",26),h(61),l()()()(),c(62,"div",6)(63,"div",27)(64,"h4",16),h(65,"Tareas Pendientes"),l(),c(66,"ul",20),U(67,SO,5,4,"li",28),l()()()()()()()()()),e&2&&(v(13),tt(" ",r.totalProyectosActivos," Obras Civiles "),v(7),tt(" ",r.totalProyectosCompletados," Obras "),v(7),tt(" ",r.totalProyectosPendientes," Obras "),v(7),Ve(Ci(35,20,r.presupuestoTotal)),v(7),Kf("width",r.progresoProyecto1+"%"),us("aria-valuenow",r.progresoProyecto1),v(),tt(" Proyecto 1: ",r.progresoProyecto1,"% "),v(2),Kf("width",r.progresoProyecto2+"%"),us("aria-valuenow",r.progresoProyecto2),v(),tt(" Proyecto 2: ",r.progresoProyecto2,"% "),v(2),Kf("width",r.progresoProyecto3+"%"),us("aria-valuenow",r.progresoProyecto3),v(),tt(" Proyecto 3: ",r.progresoProyecto3,"% "),v(7),tt(" Proyecto Completado (",r.totalProyectosCompletados," obras) "),v(3),tt(" Proyecto Pendiente (",r.totalProyectosPendientes," obras) "),v(3),tt(" Proyecto Activo (",r.totalProyectosActivos," obras) "),v(6),M("ngForOf",r.tareasPendientes))},dependencies:[ht,zt,Ya,oa]})};var EO=["*"];var Lr=function(i){return i.AnnotationChart="AnnotationChart",i.AreaChart="AreaChart",i.Bar="Bar",i.BarChart="BarChart",i.BubbleChart="BubbleChart",i.Calendar="Calendar",i.CandlestickChart="CandlestickChart",i.ColumnChart="ColumnChart",i.ComboChart="ComboChart",i.PieChart="PieChart",i.Gantt="Gantt",i.Gauge="Gauge",i.GeoChart="GeoChart",i.Histogram="Histogram",i.Line="Line",i.LineChart="LineChart",i.Map="Map",i.OrgChart="OrgChart",i.Sankey="Sankey",i.Scatter="Scatter",i.ScatterChart="ScatterChart",i.SteppedAreaChart="SteppedAreaChart",i.Table="Table",i.Timeline="Timeline",i.TreeMap="TreeMap",i.WordTree="WordTree",i}(Lr||{}),PO={[Lr.AnnotationChart]:"annotationchart",[Lr.AreaChart]:"corechart",[Lr.Bar]:"bar",[Lr.BarChart]:"corechart",[Lr.BubbleChart]:"corechart",[Lr.Calendar]:"calendar",[Lr.CandlestickChart]:"corechart",[Lr.ColumnChart]:"corechart",[Lr.ComboChart]:"corechart",[Lr.PieChart]:"corechart",[Lr.Gantt]:"gantt",[Lr.Gauge]:"gauge",[Lr.GeoChart]:"geochart",[Lr.Histogram]:"corechart",[Lr.Line]:"line",[Lr.LineChart]:"corechart",[Lr.Map]:"map",[Lr.OrgChart]:"orgchart",[Lr.Sankey]:"sankey",[Lr.Scatter]:"scatter",[Lr.ScatterChart]:"corechart",[Lr.SteppedAreaChart]:"corechart",[Lr.Table]:"table",[Lr.Timeline]:"timeline",[Lr.TreeMap]:"treemap",[Lr.WordTree]:"wordtree"};function MO(i){return PO[i]}function Rx(){return{version:"current",safeMode:!1}}var Bx=new Ji("GOOGLE_CHARTS_CONFIG"),TO=new Ji("GOOGLE_CHARTS_LAZY_CONFIG",{providedIn:"root",factory:()=>{let i=Jt(Bx,d0.Optional);return _i(st(st({},Rx()),i||{}))}}),zh=(()=>{class i{constructor(e,r,n){this.zone=e,this.localeId=r,this.config$=n,this.scriptSource="https://www.gstatic.com/charts/loader.js",this.scriptLoadSubject=new Do}isGoogleChartsAvailable(){return!(typeof google>"u"||typeof google.charts>"u")}loadChartPackages(...e){return this.loadGoogleCharts().pipe(Aa(()=>this.config$),nr(r=>st(st({},Rx()),r||{})),Oa(r=>new id(n=>{let a={packages:e,language:this.localeId,mapsApiKey:r.mapsApiKey,safeMode:r.safeMode};google.charts.load(r.version,a),google.charts.setOnLoadCallback(()=>{this.zone.run(()=>{n.next(),n.complete()})})})))}loadGoogleCharts(){if(this.isGoogleChartsAvailable())return _i(void 0);if(!this.isLoadingGoogleCharts()){let e=this.createGoogleChartsScript();e.onload=()=>{this.zone.run(()=>{this.scriptLoadSubject.next(),this.scriptLoadSubject.complete()})},e.onerror=()=>{this.zone.run(()=>{console.error("Failed to load the google charts script!"),this.scriptLoadSubject.error(new Error("Failed to load the google charts script!"))})}}return this.scriptLoadSubject.asObservable()}isLoadingGoogleCharts(){return this.getGoogleChartsScript()!=null}getGoogleChartsScript(){return Array.from(document.getElementsByTagName("script")).find(r=>r.src===this.scriptSource)}createGoogleChartsScript(){let e=document.createElement("script");return e.type="text/javascript",e.src=this.scriptSource,e.async=!0,document.getElementsByTagName("head")[0].appendChild(e),e}static{this.\u0275fac=function(r){return new(r||i)(St(Xa),St(w2),St(TO))}}static{this.\u0275prov=Ct({token:i,factory:i.\u0275fac})}}return i})();var Ux=(()=>{class i{create(e,r,n){if(e==null)return;let a=!0;r!=null&&(a=!1);let o=google.visualization.arrayToDataTable(this.getDataAsTable(e,r),a);return n&&this.applyFormatters(o,n),o}getDataAsTable(e,r){return r?[r,...e]:e}applyFormatters(e,r){for(let n of r)n.formatter.format(e,n.colIndex)}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function kO(){return"_"+Math.random().toString(36).substr(2,9)}var AO=(()=>{class i{constructor(e){this.loaderService=e,this.error=new tn,this.ready=new tn,this.stateChange=new tn,this.id=kO(),this.wrapperReadySubject=new vg(1)}get wrapperReady$(){return this.wrapperReadySubject.asObservable()}get controlWrapper(){if(!this._controlWrapper)throw new Error("Cannot access the control wrapper before it being initialized.");return this._controlWrapper}ngOnInit(){this.loaderService.loadChartPackages("controls").subscribe(()=>{this.createControlWrapper()})}ngOnChanges(e){this._controlWrapper&&(e.type&&this._controlWrapper.setControlType(this.type),e.options&&this._controlWrapper.setOptions(this.options||{}),e.state&&this._controlWrapper.setState(this.state||{}))}createControlWrapper(){this._controlWrapper=new google.visualization.ControlWrapper({containerId:this.id,controlType:this.type,state:this.state,options:this.options}),this.addEventListeners(),this.wrapperReadySubject.next(this._controlWrapper)}addEventListeners(){google.visualization.events.removeAllListeners(this._controlWrapper),google.visualization.events.addListener(this._controlWrapper,"ready",e=>this.ready.emit(e)),google.visualization.events.addListener(this._controlWrapper,"error",e=>this.error.emit(e)),google.visualization.events.addListener(this._controlWrapper,"statechange",e=>this.stateChange.emit(e))}static{this.\u0275fac=function(r){return new(r||i)(ae(zh))}}static{this.\u0275cmp=ot({type:i,selectors:[["control-wrapper"]],hostAttrs:[1,"control-wrapper"],hostVars:1,hostBindings:function(r,n){r&2&&h2("id",n.id)},inputs:{for:"for",type:"type",options:"options",state:"state"},outputs:{error:"error",ready:"ready",stateChange:"stateChange"},exportAs:["controlWrapper"],features:[Uo],decls:0,vars:0,template:function(r,n){},encapsulation:2,changeDetection:0})}}return i})(),OO=(()=>{class i{constructor(e,r,n){this.element=e,this.loaderService=r,this.dataTableService=n,this.ready=new tn,this.error=new tn,this.initialized=!1}ngOnInit(){this.loaderService.loadChartPackages("controls").subscribe(()=>{this.dataTable=this.dataTableService.create(this.data,this.columns,this.formatters),this.createDashboard(),this.initialized=!0})}ngOnChanges(e){this.initialized&&(e.data||e.columns||e.formatters)&&(this.dataTable=this.dataTableService.create(this.data,this.columns,this.formatters),this.dashboard.draw(this.dataTable))}createDashboard(){let e=this.controlWrappers.map(n=>n.wrapperReady$),r=this.controlWrappers.map(n=>n.for).map(n=>Array.isArray(n)?rd(n.map(a=>a.wrapperReady$)):n.wrapperReady$);rd([...e,...r]).subscribe(()=>{this.dashboard=new google.visualization.Dashboard(this.element.nativeElement),this.initializeBindings(),this.registerEvents(),this.dashboard.draw(this.dataTable)})}registerEvents(){google.visualization.events.removeAllListeners(this.dashboard);let e=(r,n,a)=>{google.visualization.events.addListener(r,n,a)};e(this.dashboard,"ready",()=>this.ready.emit()),e(this.dashboard,"error",r=>this.error.emit(r))}initializeBindings(){this.controlWrappers.forEach(e=>{if(Array.isArray(e.for)){let r=e.for.map(n=>n.chartWrapper);this.dashboard.bind(e.controlWrapper,r)}else this.dashboard.bind(e.controlWrapper,e.for.chartWrapper)})}static{this.\u0275fac=function(r){return new(r||i)(ae(Vs),ae(zh),ae(Ux))}}static{this.\u0275cmp=ot({type:i,selectors:[["dashboard"]],contentQueries:function(r,n,a){if(r&1&&Tg(a,AO,4),r&2){let o;kg(o=Ag())&&(n.controlWrappers=o)}},hostAttrs:[1,"dashboard"],inputs:{data:"data",columns:"columns",formatters:"formatters"},outputs:{ready:"ready",error:"error"},exportAs:["dashboard"],features:[Uo],ngContentSelectors:EO,decls:1,vars:0,template:function(r,n){r&1&&(m2(),g2(0))},encapsulation:2,changeDetection:0})}}return i})(),Vx=(()=>{class i{constructor(e,r,n,a){this.element=e,this.scriptLoaderService=r,this.dataTableService=n,this.dashboard=a,this.options={},this.dynamicResize=!1,this.ready=new tn,this.error=new tn,this.select=new tn,this.mouseover=new tn,this.mouseleave=new tn,this.wrapperReadySubject=new vg(1),this.initialized=!1,this.eventListeners=new Map}get chart(){return this.chartWrapper.getChart()}get wrapperReady$(){return this.wrapperReadySubject.asObservable()}get chartWrapper(){if(!this.wrapper)throw new Error("Trying to access the chart wrapper before it was fully initialized");return this.wrapper}set chartWrapper(e){this.wrapper=e,this.drawChart()}ngOnInit(){this.scriptLoaderService.loadChartPackages(MO(this.type)).subscribe(()=>{this.dataTable=this.dataTableService.create(this.data,this.columns,this.formatters),this.wrapper=new google.visualization.ChartWrapper({container:this.element.nativeElement,chartType:this.type,dataTable:this.dataTable,options:this.mergeOptions()}),this.registerChartEvents(),this.wrapperReadySubject.next(this.wrapper),this.initialized=!0,this.drawChart()})}ngOnChanges(e){if(e.dynamicResize&&this.updateResizeListener(),this.initialized){let r=!1;(e.data||e.columns||e.formatters)&&(this.dataTable=this.dataTableService.create(this.data,this.columns,this.formatters),this.wrapper.setDataTable(this.dataTable),r=!0),e.type&&(this.wrapper.setChartType(this.type),r=!0),(e.options||e.width||e.height||e.title)&&(this.wrapper.setOptions(this.mergeOptions()),r=!0),r&&this.drawChart()}}ngOnDestroy(){this.unsubscribeToResizeIfSubscribed()}addEventListener(e,r){let n=this.registerChartEvent(this.chart,e,r);return this.eventListeners.set(n,{eventName:e,callback:r,handle:n}),n}removeEventListener(e){let r=this.eventListeners.get(e);r&&(google.visualization.events.removeListener(r.handle),this.eventListeners.delete(e))}updateResizeListener(){this.unsubscribeToResizeIfSubscribed(),this.dynamicResize&&(this.resizeSubscription=H_(window,"resize",{passive:!0}).pipe(G_(100)).subscribe(()=>{this.initialized&&this.drawChart()}))}unsubscribeToResizeIfSubscribed(){this.resizeSubscription!=null&&(this.resizeSubscription.unsubscribe(),this.resizeSubscription=void 0)}mergeOptions(){return st({title:this.title,width:this.width,height:this.height},this.options)}registerChartEvents(){google.visualization.events.removeAllListeners(this.wrapper),this.registerChartEvent(this.wrapper,"ready",()=>{google.visualization.events.removeAllListeners(this.chart),this.registerChartEvent(this.chart,"onmouseover",e=>this.mouseover.emit(e)),this.registerChartEvent(this.chart,"onmouseout",e=>this.mouseleave.emit(e)),this.registerChartEvent(this.chart,"select",()=>{let e=this.chart.getSelection();this.select.emit({selection:e})}),this.eventListeners.forEach(e=>e.handle=this.registerChartEvent(this.chart,e.eventName,e.callback)),this.ready.emit({chart:this.chart})}),this.registerChartEvent(this.wrapper,"error",e=>this.error.emit(e))}registerChartEvent(e,r,n){return google.visualization.events.addListener(e,r,n)}drawChart(){this.dashboard==null&&this.wrapper.draw()}static{this.\u0275fac=function(r){return new(r||i)(ae(Vs),ae(zh),ae(Ux),ae(OO,8))}}static{this.\u0275cmp=ot({type:i,selectors:[["google-chart"]],hostAttrs:[1,"google-chart"],inputs:{type:"type",data:"data",columns:"columns",title:"title",width:"width",height:"height",options:"options",formatters:"formatters",dynamicResize:"dynamicResize"},outputs:{ready:"ready",error:"error",select:"select",mouseover:"mouseover",mouseleave:"mouseleave"},exportAs:["googleChart"],features:[Uo],decls:0,vars:0,template:function(r,n){},styles:["[_nghost-%COMP%]{width:-moz-fit-content;width:fit-content;display:block}"],changeDetection:0})}}return i})();var jx=(()=>{class i{static forRoot(e={}){return{ngModule:i,providers:[{provide:Bx,useValue:e}]}}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275mod=ds({type:i})}static{this.\u0275inj=cs({providers:[zh]})}}return i})();function FO(i,t){if(i&1&&(c(0,"option",15),h(1),l()),i&2){let e=t.$implicit;M("value",e),v(),Ve(e)}}function NO(i,t){i&1&&(c(0,"div",16),Le(1,"span",17),c(2,"span"),h(3,"Cargando tareas, por favor espera..."),l()())}function LO(i,t){if(i&1){let e=Je();c(0,"div",18)(1,"span"),h(2),l(),c(3,"button",19),J("click",function(){z(e);let n=ee();return W(n.onEstadoChange())}),h(4,"\u{1F501} Reintentar"),l()()}if(i&2){let e=ee();v(2),Ve(e.error)}}function DO(i,t){if(i&1&&(c(0,"div",20),Le(1,"google-chart",21),l()),i&2){let e=ee();v(),M("type",e.chart.type)("data",e.chart.data)("columns",e.chart.columns)("options",e.chart.options)}}function RO(i,t){i&1&&(c(0,"div",22)(1,"p"),h(2,"No hay tareas registradas para esta obra civil."),l()())}var Wh=class i{constructor(t,e){this.route=t;this.tareaService=e}chart;chartData=[];rowColors=[];estados=[];estadoFilter="Todos";chartColumns=[{type:"string",label:"Tarea"},{type:"date",label:"Fecha Inicio"},{type:"date",label:"Fecha Fin"},{type:"string",role:"tooltip",p:{html:!0}}];chartOptions={height:400,timeline:{showRowLabels:!0},tooltip:{isHtml:!0},colors:[]};isLoading=!0;error=null;ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("id"));t&&(this.isLoading=!0,this.tareaService.obtenerTareas().subscribe({next:e=>{let r=e.filter(a=>a.obraCivil.id===t),n=new Set(r.map(a=>a.estado));this.estados=["Todos",...Array.from(n)],this.applyFilterAndRender(r),this.isLoading=!1},error:()=>{this.error="No se pudieron cargar las tareas. Intenta recargar.",this.isLoading=!1}}))}onEstadoChange(){this.isLoading=!0,this.tareaService.obtenerTareas().subscribe({next:t=>{let e=Number(this.route.snapshot.paramMap.get("id")),r=t.filter(n=>n.obraCivil.id===e);this.applyFilterAndRender(r),this.isLoading=!1},error:()=>{this.error="Error al filtrar. Intenta de nuevo.",this.isLoading=!1}})}applyFilterAndRender(t){this.estadoFilter!=="Todos"&&(t=t.filter(e=>e.estado===this.estadoFilter)),t.sort((e,r)=>new Date(e.fechaInicio).getTime()-new Date(r.fechaInicio).getTime()),this.chartData=[],this.rowColors=[],t.forEach(e=>{let r=new Date(e.fechaInicio),n=new Date(e.fechaFin),a=Math.max(1,Math.round((n.getTime()-r.getTime())/(1e3*60*60*24))),o="#9e9e9e";switch(e.estado.toLowerCase()){case"pendiente":o="#ffc107";break;case"en progreso":o="#2196f3";break;case"completada":o="#4caf50";break;case"cancelada":o="#f44336";break}this.rowColors.push(o);let d=p=>p.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}),u=`
        <div style="padding:8px; font-size:13px; max-width:300px;">
          <strong>${e.nombre}</strong><br>
          ${e.descripcion?`<em>${e.descripcion}</em><br>`:""}
          <strong>Obra Civil:</strong> ${e.obraCivil.nombre}<br>
          <strong>Estado:</strong> ${e.estado}<br>
          <strong>Prioridad:</strong> ${e.prioridad}<br>
          <strong>Fecha Inicio:</strong> ${d(r)}<br>
          <strong>Fecha Fin:</strong> ${d(n)}<br>
          <strong>Duraci\xF3n:</strong> ${a} d\xEDa(s)
        </div>
      `;this.chartData.push([e.nombre,r,n,u])}),this.chartOptions.colors=this.rowColors,this.chart={title:"Diagrama de Timeline de la Obra",type:"Timeline",data:this.chartData,columns:this.chartColumns,options:this.chartOptions}}static \u0275fac=function(e){return new(e||i)(ae(Vi),ae(Wo))};static \u0275cmp=ot({type:i,selectors:[["app-obra-civil-gantt"]],standalone:!0,features:[ut],decls:26,vars:6,consts:[["role","region","aria-label","Diagrama de Timeline de la Obra",1,"gantt-container"],[1,"header"],[1,"filter"],["for","estado-select"],["id","estado-select",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","loading","role","alert","aria-busy","true",4,"ngIf"],["class","error","role","alert","tabindex","0",4,"ngIf"],["class","chart-wrapper",4,"ngIf"],["class","no-tasks","role","alert","tabindex","0",4,"ngIf"],[1,"legend"],[1,"color-box","pendiente"],[1,"color-box","en-progreso"],[1,"color-box","completada"],[1,"color-box","cancelada"],[3,"value"],["role","alert","aria-busy","true",1,"loading"],["aria-hidden","true",1,"spinner"],["role","alert","tabindex","0",1,"error"],["aria-label","Reintentar cargar las tareas",3,"click"],[1,"chart-wrapper"],[3,"type","data","columns","options"],["role","alert","tabindex","0",1,"no-tasks"]],template:function(e,r){e&1&&(c(0,"div",0)(1,"div",1)(2,"h2"),h(3,"Avance de Obra"),l(),c(4,"div",2)(5,"label",3),h(6,"Filtrar por estado:"),l(),c(7,"select",4),ye("ngModelChange",function(a){return xe(r.estadoFilter,a)||(r.estadoFilter=a),a}),J("change",function(){return r.onEstadoChange()}),U(8,FO,2,2,"option",5),l()()(),U(9,NO,4,0,"div",6)(10,LO,5,1,"div",7)(11,DO,2,4,"div",8)(12,RO,3,0,"div",9),c(13,"div",10)(14,"span"),Le(15,"span",11),h(16," Pendiente"),l(),c(17,"span"),Le(18,"span",12),h(19," En Progreso"),l(),c(20,"span"),Le(21,"span",13),h(22," Completada"),l(),c(23,"span"),Le(24,"span",14),h(25," Cancelada"),l()()()),e&2&&(v(7),be("ngModel",r.estadoFilter),v(),M("ngForOf",r.estados),v(),M("ngIf",r.isLoading),v(),M("ngIf",r.error),v(),M("ngIf",!r.isLoading&&!r.error&&r.chartData.length>0),v(),M("ngIf",!r.isLoading&&r.chartData.length===0))},dependencies:[ht,zt,Et,jx,Vx,kt,ji,qi,Ri,Tt,Ot],styles:[".gantt-container[_ngcontent-%COMP%]{position:relative;padding:1.5rem;max-width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.gantt-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1rem;font-size:1.8rem;color:#222}.gantt-container[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]{position:absolute;top:1.5rem;right:1.5rem;display:flex;align-items:center;gap:.5rem}.gantt-container[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1rem;color:#444}.gantt-container[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.3rem .5rem;font-size:1rem;border:1px solid #ccc;border-radius:4px;background-color:#fff;cursor:pointer}@media (max-width: 600px){.gantt-container[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]{position:static;margin-top:1rem;justify-content:flex-start;gap:.5rem;flex-wrap:wrap}.gantt-container[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.9rem}.gantt-container[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;max-width:200px;font-size:.9rem}}.gantt-container[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%], .gantt-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%], .gantt-container[_ngcontent-%COMP%]   .no-tasks[_ngcontent-%COMP%]{font-size:1.2rem;color:#444;margin-top:1.5rem;display:flex;align-items:center;gap:.75rem}.gantt-container[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem;border:3px solid #ccc;border-top:3px solid #007bff;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.gantt-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:#d32f2f;flex-wrap:wrap}.gantt-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #d32f2f;color:#d32f2f;padding:.4rem .8rem;cursor:pointer;border-radius:4px;font-size:1rem;transition:background-color .2s}.gantt-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#d32f2f;color:#fff}.gantt-container[_ngcontent-%COMP%]   .no-tasks[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.gantt-container[_ngcontent-%COMP%]   .no-tasks[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.gantt-container[_ngcontent-%COMP%]   .no-tasks[_ngcontent-%COMP%]   .action-link[_ngcontent-%COMP%]{margin-top:.5rem;color:#007bff;text-decoration:none;font-weight:600;display:inline-block;padding:.3rem 0;transition:color .2s}.gantt-container[_ngcontent-%COMP%]   .no-tasks[_ngcontent-%COMP%]   .action-link[_ngcontent-%COMP%]:hover{color:#0056b3;text-decoration:underline}.gantt-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]{margin-top:1rem;width:100%;overflow-x:auto;display:block}.gantt-container[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]   google-chart[_ngcontent-%COMP%]{width:max-content!important;min-width:100%;height:auto!important}.gantt-container[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]{margin-top:2rem;display:flex;gap:1.5rem;flex-wrap:wrap;font-size:14px;justify-content:center}.gantt-container[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.gantt-container[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .color-box[_ngcontent-%COMP%]{display:inline-block;width:16px;height:16px;border-radius:3px;vertical-align:middle}.gantt-container[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .pendiente[_ngcontent-%COMP%]{background-color:#ffc107}.gantt-container[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .en-progreso[_ngcontent-%COMP%]{background-color:#2196f3}.gantt-container[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .completada[_ngcontent-%COMP%]{background-color:#4caf50}.gantt-container[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .cancelada[_ngcontent-%COMP%]{background-color:#f44336}@media (max-width: 600px){.gantt-container[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]{justify-content:flex-start;font-size:13px}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};var mf={};mf.version="0.18.5";var yd=1200,Nu=1252,BO=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],UO={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},Ty=function(i){BO.indexOf(i)!=-1&&(Nu=UO[0]=i)};function VO(){Ty(1252)}var gf=function(i){yd=i,Ty(i)};function jO(){gf(1200),VO()}function qO(i){for(var t=[],e=0;e<i.length>>1;++e)t[e]=String.fromCharCode(i.charCodeAt(2*e+1)+(i.charCodeAt(2*e)<<8));return t.join("")}var Hh=function(t){return String.fromCharCode(t)},qx=function(t){return String.fromCharCode(t)},Dr;var $s=null,sf=!0,Sc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function vf(i){for(var t="",e=0,r=0,n=0,a=0,o=0,d=0,u=0,p=0;p<i.length;)e=i.charCodeAt(p++),a=e>>2,r=i.charCodeAt(p++),o=(e&3)<<4|r>>4,n=i.charCodeAt(p++),d=(r&15)<<2|n>>6,u=n&63,isNaN(r)?d=u=64:isNaN(n)&&(u=64),t+=Sc.charAt(a)+Sc.charAt(o)+Sc.charAt(d)+Sc.charAt(u);return t}function wl(i){var t="",e=0,r=0,n=0,a=0,o=0,d=0,u=0;i=i.replace(/[^\w\+\/\=]/g,"");for(var p=0;p<i.length;)a=Sc.indexOf(i.charAt(p++)),o=Sc.indexOf(i.charAt(p++)),e=a<<2|o>>4,t+=String.fromCharCode(e),d=Sc.indexOf(i.charAt(p++)),r=(o&15)<<4|d>>2,d!==64&&(t+=String.fromCharCode(r)),u=Sc.indexOf(i.charAt(p++)),n=(d&3)<<6|u,u!==64&&(t+=String.fromCharCode(n));return t}var ur=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),El=function(){if(typeof Buffer<"u"){var i=!Buffer.from;if(!i)try{Buffer.from("foo","utf8")}catch{i=!0}return i?function(t,e){return e?new Buffer(t,e):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function wd(i){return ur?Buffer.alloc?Buffer.alloc(i):new Buffer(i):typeof Uint8Array<"u"?new Uint8Array(i):new Array(i)}function zx(i){return ur?Buffer.allocUnsafe?Buffer.allocUnsafe(i):new Buffer(i):typeof Uint8Array<"u"?new Uint8Array(i):new Array(i)}var gs=function(t){return ur?El(t,"binary"):t.split("").map(function(e){return e.charCodeAt(0)&255})};function pm(i){if(typeof ArrayBuffer>"u")return gs(i);for(var t=new ArrayBuffer(i.length),e=new Uint8Array(t),r=0;r!=i.length;++r)e[r]=i.charCodeAt(r)&255;return t}function Cf(i){if(Array.isArray(i))return i.map(function(r){return String.fromCharCode(r)}).join("");for(var t=[],e=0;e<i.length;++e)t[e]=String.fromCharCode(i[e]);return t.join("")}function zO(i){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(i)}var Xn=ur?function(i){return Buffer.concat(i.map(function(t){return Buffer.isBuffer(t)?t:El(t)}))}:function(i){if(typeof Uint8Array<"u"){var t=0,e=0;for(t=0;t<i.length;++t)e+=i[t].length;var r=new Uint8Array(e),n=0;for(t=0,e=0;t<i.length;e+=n,++t)if(n=i[t].length,i[t]instanceof Uint8Array)r.set(i[t],e);else{if(typeof i[t]=="string")throw"wtf";r.set(new Uint8Array(i[t]),e)}return r}return[].concat.apply([],i.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function WO(i){for(var t=[],e=0,r=i.length+250,n=wd(i.length+255),a=0;a<i.length;++a){var o=i.charCodeAt(a);if(o<128)n[e++]=o;else if(o<2048)n[e++]=192|o>>6&31,n[e++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var d=i.charCodeAt(++a)&1023;n[e++]=240|o>>8&7,n[e++]=128|o>>2&63,n[e++]=128|d>>6&15|(o&3)<<4,n[e++]=128|d&63}else n[e++]=224|o>>12&15,n[e++]=128|o>>6&63,n[e++]=128|o&63;e>r&&(t.push(n.slice(0,e)),e=0,n=wd(65535),r=65530)}return t.push(n.slice(0,e)),Xn(t)}var ku=/\u0000/g,Gh=/[\u0001-\u0006]/g;function Au(i){for(var t="",e=i.length-1;e>=0;)t+=i.charAt(e--);return t}function vs(i,t){var e=""+i;return e.length>=t?e:cn("0",t-e.length)+e}function dv(i,t){var e=""+i;return e.length>=t?e:cn(" ",t-e.length)+e}function em(i,t){var e=""+i;return e.length>=t?e:e+cn(" ",t-e.length)}function HO(i,t){var e=""+Math.round(i);return e.length>=t?e:cn("0",t-e.length)+e}function GO(i,t){var e=""+i;return e.length>=t?e:cn("0",t-e.length)+e}var Wx=Math.pow(2,32);function Su(i,t){if(i>Wx||i<-Wx)return HO(i,t);var e=Math.round(i);return GO(e,t)}function tm(i,t){return t=t||0,i.length>=7+t&&(i.charCodeAt(t)|32)===103&&(i.charCodeAt(t+1)|32)===101&&(i.charCodeAt(t+2)|32)===110&&(i.charCodeAt(t+3)|32)===101&&(i.charCodeAt(t+4)|32)===114&&(i.charCodeAt(t+5)|32)===97&&(i.charCodeAt(t+6)|32)===108}var Hx=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],J1=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function $O(i){return i||(i={}),i[0]="General",i[1]="0",i[2]="0.00",i[3]="#,##0",i[4]="#,##0.00",i[9]="0%",i[10]="0.00%",i[11]="0.00E+00",i[12]="# ?/?",i[13]="# ??/??",i[14]="m/d/yy",i[15]="d-mmm-yy",i[16]="d-mmm",i[17]="mmm-yy",i[18]="h:mm AM/PM",i[19]="h:mm:ss AM/PM",i[20]="h:mm",i[21]="h:mm:ss",i[22]="m/d/yy h:mm",i[37]="#,##0 ;(#,##0)",i[38]="#,##0 ;[Red](#,##0)",i[39]="#,##0.00;(#,##0.00)",i[40]="#,##0.00;[Red](#,##0.00)",i[45]="mm:ss",i[46]="[h]:mm:ss",i[47]="mmss.0",i[48]="##0.0E+0",i[49]="@",i[56]='"\u4E0A\u5348/\u4E0B\u5348 "hh"\u6642"mm"\u5206"ss"\u79D2 "',i}var dn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4E0A\u5348/\u4E0B\u5348 "hh"\u6642"mm"\u5206"ss"\u79D2 "'},Gx={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},ZO={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function im(i,t,e){for(var r=i<0?-1:1,n=i*r,a=0,o=1,d=0,u=1,p=0,g=0,y=Math.floor(n);p<t&&(y=Math.floor(n),d=y*o+a,g=y*p+u,!(n-y<5e-8));)n=1/(n-y),a=o,o=d,u=p,p=g;if(g>t&&(p>t?(g=u,d=a):(g=p,d=o)),!e)return[0,r*d,g];var w=Math.floor(r*d/g);return[w,r*d-w*g,g]}function $h(i,t,e){if(i>2958465||i<0)return null;var r=i|0,n=Math.floor(86400*(i-r)),a=0,o=[],d={D:r,T:n,u:86400*(i-r)-n,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(d.u)<1e-6&&(d.u=0),t&&t.date1904&&(r+=1462),d.u>.9999&&(d.u=0,++n==86400&&(d.T=n=0,++r,++d.D)),r===60)o=e?[1317,10,29]:[1900,2,29],a=3;else if(r===0)o=e?[1317,8,29]:[1900,1,0],a=6;else{r>60&&--r;var u=new Date(1900,0,1);u.setDate(u.getDate()+r-1),o=[u.getFullYear(),u.getMonth()+1,u.getDate()],a=u.getDay(),r<60&&(a=(a+6)%7),e&&(a=tI(u,o))}return d.y=o[0],d.m=o[1],d.d=o[2],d.S=n%60,n=Math.floor(n/60),d.M=n%60,n=Math.floor(n/60),d.H=n,d.q=a,d}var ky=new Date(1899,11,31,0,0,0),XO=ky.getTime(),YO=new Date(1900,2,1,0,0,0);function Ay(i,t){var e=i.getTime();return t?e-=1461*24*60*60*1e3:i>=YO&&(e+=24*60*60*1e3),(e-(XO+(i.getTimezoneOffset()-ky.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function uv(i){return i.indexOf(".")==-1?i:i.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function KO(i){return i.indexOf("E")==-1?i:i.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function JO(i){var t=i<0?12:11,e=uv(i.toFixed(12));return e.length<=t||(e=i.toPrecision(10),e.length<=t)?e:i.toExponential(5)}function QO(i){var t=uv(i.toFixed(11));return t.length>(i<0?12:11)||t==="0"||t==="-0"?i.toPrecision(6):t}function eI(i){var t=Math.floor(Math.log(Math.abs(i))*Math.LOG10E),e;return t>=-4&&t<=-1?e=i.toPrecision(10+t):Math.abs(t)<=9?e=JO(i):t===10?e=i.toFixed(10).substr(0,12):e=QO(i),uv(KO(e.toUpperCase()))}function ov(i,t){switch(typeof i){case"string":return i;case"boolean":return i?"TRUE":"FALSE";case"number":return(i|0)===i?i.toString(10):eI(i);case"undefined":return"";case"object":if(i==null)return"";if(i instanceof Date)return Pc(14,Ay(i,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+i)}function tI(i,t){t[0]-=581;var e=i.getDay();return i<60&&(e=(e+6)%7),e}function iI(i,t,e,r){var n="",a=0,o=0,d=e.y,u,p=0;switch(i){case 98:d=e.y+543;case 121:switch(t.length){case 1:case 2:u=d%100,p=2;break;default:u=d%1e4,p=4;break}break;case 109:switch(t.length){case 1:case 2:u=e.m,p=t.length;break;case 3:return J1[e.m-1][1];case 5:return J1[e.m-1][0];default:return J1[e.m-1][2]}break;case 100:switch(t.length){case 1:case 2:u=e.d,p=t.length;break;case 3:return Hx[e.q][0];default:return Hx[e.q][1]}break;case 104:switch(t.length){case 1:case 2:u=1+(e.H+11)%12,p=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:u=e.H,p=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:u=e.M,p=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return e.u===0&&(t=="s"||t=="ss")?vs(e.S,t.length):(r>=2?o=r===3?1e3:100:o=r===1?10:1,a=Math.round(o*(e.S+e.u)),a>=60*o&&(a=0),t==="s"?a===0?"0":""+a/o:(n=vs(a,2+r),t==="ss"?n.substr(0,2):"."+n.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":u=e.D*24+e.H;break;case"[m]":case"[mm]":u=(e.D*24+e.H)*60+e.M;break;case"[s]":case"[ss]":u=((e.D*24+e.H)*60+e.M)*60+Math.round(e.S+e.u);break;default:throw"bad abstime format: "+t}p=t.length===3?1:2;break;case 101:u=d,p=1;break}var g=p>0?vs(u,p):"";return g}function Ec(i){var t=3;if(i.length<=t)return i;for(var e=i.length%t,r=i.substr(0,e);e!=i.length;e+=t)r+=(r.length>0?",":"")+i.substr(e,t);return r}var Oy=/%/g;function rI(i,t,e){var r=t.replace(Oy,""),n=t.length-r.length;return xl(i,r,e*Math.pow(10,2*n))+cn("%",n)}function nI(i,t,e){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return xl(i,t.substr(0,r),e/Math.pow(10,3*(t.length-r)))}function Iy(i,t){var e,r=i.indexOf("E")-i.indexOf(".")-1;if(i.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Iy(i,-t);var n=i.indexOf(".");n===-1&&(n=i.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%n;if(a<0&&(a+=n),e=(t/Math.pow(10,a)).toPrecision(r+1+(n+a)%n),e.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(e.indexOf(".")===-1?e=e.charAt(0)+"."+e.substr(1)+"E+"+(o-e.length+a):e+="E+"+(o-a);e.substr(0,2)==="0.";)e=e.charAt(0)+e.substr(2,n)+"."+e.substr(2+n),e=e.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");e=e.replace(/\+-/,"-")}e=e.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(d,u,p,g){return u+p+g.substr(0,(n+a)%n)+"."+g.substr(a)+"E"})}else e=t.toExponential(r);return i.match(/E\+00$/)&&e.match(/e[+-]\d$/)&&(e=e.substr(0,e.length-1)+"0"+e.charAt(e.length-1)),i.match(/E\-/)&&e.match(/e\+/)&&(e=e.replace(/e\+/,"e")),e.replace("e","E")}var Fy=/# (\?+)( ?)\/( ?)(\d+)/;function aI(i,t,e){var r=parseInt(i[4],10),n=Math.round(t*r),a=Math.floor(n/r),o=n-a*r,d=r;return e+(a===0?"":""+a)+" "+(o===0?cn(" ",i[1].length+1+i[4].length):dv(o,i[1].length)+i[2]+"/"+i[3]+vs(d,i[4].length))}function oI(i,t,e){return e+(t===0?"":""+t)+cn(" ",i[1].length+2+i[4].length)}var Ny=/^#*0*\.([0#]+)/,Ly=/\).*[0#]/,Dy=/\(###\) ###\\?-####/;function Fa(i){for(var t="",e,r=0;r!=i.length;++r)switch(e=i.charCodeAt(r)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(e)}return t}function $x(i,t){var e=Math.pow(10,t);return""+Math.round(i*e)/e}function Zx(i,t){var e=i-Math.floor(i),r=Math.pow(10,t);return t<(""+Math.round(e*r)).length?0:Math.round(e*r)}function sI(i,t){return t<(""+Math.round((i-Math.floor(i))*Math.pow(10,t))).length?1:0}function lI(i){return i<2147483647&&i>-2147483648?""+(i>=0?i|0:i-1|0):""+Math.floor(i)}function $o(i,t,e){if(i.charCodeAt(0)===40&&!t.match(Ly)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return e>=0?$o("n",r,e):"("+$o("n",r,-e)+")"}if(t.charCodeAt(t.length-1)===44)return nI(i,t,e);if(t.indexOf("%")!==-1)return rI(i,t,e);if(t.indexOf("E")!==-1)return Iy(t,e);if(t.charCodeAt(0)===36)return"$"+$o(i,t.substr(t.charAt(1)==" "?2:1),e);var n,a,o,d,u=Math.abs(e),p=e<0?"-":"";if(t.match(/^00+$/))return p+Su(u,t.length);if(t.match(/^[#?]+$/))return n=Su(e,0),n==="0"&&(n=""),n.length>t.length?n:Fa(t.substr(0,t.length-n.length))+n;if(a=t.match(Fy))return aI(a,u,p);if(t.match(/^#+0+$/))return p+Su(u,t.length-t.indexOf("0"));if(a=t.match(Ny))return n=$x(e,a[1].length).replace(/^([^\.]+)$/,"$1."+Fa(a[1])).replace(/\.$/,"."+Fa(a[1])).replace(/\.(\d*)$/,function(T,E){return"."+E+cn("0",Fa(a[1]).length-E.length)}),t.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return p+$x(u,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return p+Ec(Su(u,0));if(a=t.match(/^#,##0\.([#0]*0)$/))return e<0?"-"+$o(i,t,-e):Ec(""+(Math.floor(e)+sI(e,a[1].length)))+"."+vs(Zx(e,a[1].length),a[1].length);if(a=t.match(/^#,#*,#0/))return $o(i,t.replace(/^#,#*,/,""),e);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return n=Au($o(i,t.replace(/[\\-]/g,""),e)),o=0,Au(Au(t.replace(/\\/g,"")).replace(/[0#]/g,function(T){return o<n.length?n.charAt(o++):T==="0"?"0":""}));if(t.match(Dy))return n=$o(i,"##########",e),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var g="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(a[4].length,7),d=im(u,Math.pow(10,o)-1,!1),n=""+p,g=xl("n",a[1],d[1]),g.charAt(g.length-1)==" "&&(g=g.substr(0,g.length-1)+"0"),n+=g+a[2]+"/"+a[3],g=em(d[2],o),g.length<a[4].length&&(g=Fa(a[4].substr(a[4].length-g.length))+g),n+=g,n;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(a[1].length,a[4].length),7),d=im(u,Math.pow(10,o)-1,!0),p+(d[0]||(d[1]?"":"0"))+" "+(d[1]?dv(d[1],o)+a[2]+"/"+a[3]+em(d[2],o):cn(" ",2*o+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return n=Su(e,0),t.length<=n.length?n:Fa(t.substr(0,t.length-n.length))+n;if(a=t.match(/^([#0?]+)\.([#0]+)$/)){n=""+e.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),o=n.indexOf(".");var y=t.indexOf(".")-o,w=t.length-n.length-y;return Fa(t.substr(0,y)+n+t.substr(t.length-w))}if(a=t.match(/^00,000\.([#0]*0)$/))return o=Zx(e,a[1].length),e<0?"-"+$o(i,t,-e):Ec(lI(e)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(T){return"00,"+(T.length<3?vs(0,3-T.length):"")+T})+"."+vs(o,a[1].length);switch(t){case"###,##0.00":return $o(i,"#,##0.00",e);case"###,###":case"##,###":case"#,###":var x=Ec(Su(u,0));return x!=="0"?p+x:"";case"###,###.00":return $o(i,"###,##0.00",e).replace(/^0\./,".");case"#,###.00":return $o(i,"#,##0.00",e).replace(/^0\./,".");default:}throw new Error("unsupported format |"+t+"|")}function cI(i,t,e){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return xl(i,t.substr(0,r),e/Math.pow(10,3*(t.length-r)))}function dI(i,t,e){var r=t.replace(Oy,""),n=t.length-r.length;return xl(i,r,e*Math.pow(10,2*n))+cn("%",n)}function Ry(i,t){var e,r=i.indexOf("E")-i.indexOf(".")-1;if(i.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Ry(i,-t);var n=i.indexOf(".");n===-1&&(n=i.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%n;if(a<0&&(a+=n),e=(t/Math.pow(10,a)).toPrecision(r+1+(n+a)%n),!e.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);e.indexOf(".")===-1?e=e.charAt(0)+"."+e.substr(1)+"E+"+(o-e.length+a):e+="E+"+(o-a),e=e.replace(/\+-/,"-")}e=e.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(d,u,p,g){return u+p+g.substr(0,(n+a)%n)+"."+g.substr(a)+"E"})}else e=t.toExponential(r);return i.match(/E\+00$/)&&e.match(/e[+-]\d$/)&&(e=e.substr(0,e.length-1)+"0"+e.charAt(e.length-1)),i.match(/E\-/)&&e.match(/e\+/)&&(e=e.replace(/e\+/,"e")),e.replace("e","E")}function Hs(i,t,e){if(i.charCodeAt(0)===40&&!t.match(Ly)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return e>=0?Hs("n",r,e):"("+Hs("n",r,-e)+")"}if(t.charCodeAt(t.length-1)===44)return cI(i,t,e);if(t.indexOf("%")!==-1)return dI(i,t,e);if(t.indexOf("E")!==-1)return Ry(t,e);if(t.charCodeAt(0)===36)return"$"+Hs(i,t.substr(t.charAt(1)==" "?2:1),e);var n,a,o,d,u=Math.abs(e),p=e<0?"-":"";if(t.match(/^00+$/))return p+vs(u,t.length);if(t.match(/^[#?]+$/))return n=""+e,e===0&&(n=""),n.length>t.length?n:Fa(t.substr(0,t.length-n.length))+n;if(a=t.match(Fy))return oI(a,u,p);if(t.match(/^#+0+$/))return p+vs(u,t.length-t.indexOf("0"));if(a=t.match(Ny))return n=(""+e).replace(/^([^\.]+)$/,"$1."+Fa(a[1])).replace(/\.$/,"."+Fa(a[1])),n=n.replace(/\.(\d*)$/,function(T,E){return"."+E+cn("0",Fa(a[1]).length-E.length)}),t.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return p+(""+u).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return p+Ec(""+u);if(a=t.match(/^#,##0\.([#0]*0)$/))return e<0?"-"+Hs(i,t,-e):Ec(""+e)+"."+cn("0",a[1].length);if(a=t.match(/^#,#*,#0/))return Hs(i,t.replace(/^#,#*,/,""),e);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return n=Au(Hs(i,t.replace(/[\\-]/g,""),e)),o=0,Au(Au(t.replace(/\\/g,"")).replace(/[0#]/g,function(T){return o<n.length?n.charAt(o++):T==="0"?"0":""}));if(t.match(Dy))return n=Hs(i,"##########",e),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var g="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(a[4].length,7),d=im(u,Math.pow(10,o)-1,!1),n=""+p,g=xl("n",a[1],d[1]),g.charAt(g.length-1)==" "&&(g=g.substr(0,g.length-1)+"0"),n+=g+a[2]+"/"+a[3],g=em(d[2],o),g.length<a[4].length&&(g=Fa(a[4].substr(a[4].length-g.length))+g),n+=g,n;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(a[1].length,a[4].length),7),d=im(u,Math.pow(10,o)-1,!0),p+(d[0]||(d[1]?"":"0"))+" "+(d[1]?dv(d[1],o)+a[2]+"/"+a[3]+em(d[2],o):cn(" ",2*o+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return n=""+e,t.length<=n.length?n:Fa(t.substr(0,t.length-n.length))+n;if(a=t.match(/^([#0]+)\.([#0]+)$/)){n=""+e.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),o=n.indexOf(".");var y=t.indexOf(".")-o,w=t.length-n.length-y;return Fa(t.substr(0,y)+n+t.substr(t.length-w))}if(a=t.match(/^00,000\.([#0]*0)$/))return e<0?"-"+Hs(i,t,-e):Ec(""+e).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(T){return"00,"+(T.length<3?vs(0,3-T.length):"")+T})+"."+vs(0,a[1].length);switch(t){case"###,###":case"##,###":case"#,###":var x=Ec(""+u);return x!=="0"?p+x:"";default:if(t.match(/\.[0#?]*$/))return Hs(i,t.slice(0,t.lastIndexOf(".")),e)+Fa(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function xl(i,t,e){return(e|0)===e?Hs(i,t,e):$o(i,t,e)}function uI(i){for(var t=[],e=!1,r=0,n=0;r<i.length;++r)switch(i.charCodeAt(r)){case 34:e=!e;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=i.substr(n,r-n),n=r+1}if(t[t.length]=i.substr(n),e===!0)throw new Error("Format |"+i+"| unterminated string ");return t}var By=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Uy(i){for(var t=0,e="",r="";t<i.length;)switch(e=i.charAt(t)){case"G":tm(i,t)&&(t+=6),t++;break;case'"':for(;i.charCodeAt(++t)!==34&&t<i.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(i.charAt(t+1)==="1"||i.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4E0A":if(i.substr(t,3).toUpperCase()==="A/P"||i.substr(t,5).toUpperCase()==="AM/PM"||i.substr(t,5).toUpperCase()==="\u4E0A\u5348/\u4E0B\u5348")return!0;++t;break;case"[":for(r=e;i.charAt(t++)!=="]"&&t<i.length;)r+=i.charAt(t);if(r.match(By))return!0;break;case".":case"0":case"#":for(;t<i.length&&("0#?.,E+-%".indexOf(e=i.charAt(++t))>-1||e=="\\"&&i.charAt(t+1)=="-"&&"0#".indexOf(i.charAt(t+2))>-1););break;case"?":for(;i.charAt(++t)===e;);break;case"*":++t,(i.charAt(t)==" "||i.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<i.length&&"0123456789".indexOf(i.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function fI(i,t,e,r){for(var n=[],a="",o=0,d="",u="t",p,g,y,w="H";o<i.length;)switch(d=i.charAt(o)){case"G":if(!tm(i,o))throw new Error("unrecognized character "+d+" in "+i);n[n.length]={t:"G",v:"General"},o+=7;break;case'"':for(a="";(y=i.charCodeAt(++o))!==34&&o<i.length;)a+=String.fromCharCode(y);n[n.length]={t:"t",v:a},++o;break;case"\\":var x=i.charAt(++o),T=x==="("||x===")"?x:"t";n[n.length]={t:T,v:x},++o;break;case"_":n[n.length]={t:"t",v:" "},o+=2;break;case"@":n[n.length]={t:"T",v:t},++o;break;case"B":case"b":if(i.charAt(o+1)==="1"||i.charAt(o+1)==="2"){if(p==null&&(p=$h(t,e,i.charAt(o+1)==="2"),p==null))return"";n[n.length]={t:"X",v:i.substr(o,2)},u=d,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":d=d.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||p==null&&(p=$h(t,e),p==null))return"";for(a=d;++o<i.length&&i.charAt(o).toLowerCase()===d;)a+=d;d==="m"&&u.toLowerCase()==="h"&&(d="M"),d==="h"&&(d=w),n[n.length]={t:d,v:a},u=d;break;case"A":case"a":case"\u4E0A":var E={t:d,v:d};if(p==null&&(p=$h(t,e)),i.substr(o,3).toUpperCase()==="A/P"?(p!=null&&(E.v=p.H>=12?"P":"A"),E.t="T",w="h",o+=3):i.substr(o,5).toUpperCase()==="AM/PM"?(p!=null&&(E.v=p.H>=12?"PM":"AM"),E.t="T",o+=5,w="h"):i.substr(o,5).toUpperCase()==="\u4E0A\u5348/\u4E0B\u5348"?(p!=null&&(E.v=p.H>=12?"\u4E0B\u5348":"\u4E0A\u5348"),E.t="T",o+=5,w="h"):(E.t="t",++o),p==null&&E.t==="T")return"";n[n.length]=E,u=d;break;case"[":for(a=d;i.charAt(o++)!=="]"&&o<i.length;)a+=i.charAt(o);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(By)){if(p==null&&(p=$h(t,e),p==null))return"";n[n.length]={t:"Z",v:a.toLowerCase()},u=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",Uy(i)||(n[n.length]={t:"t",v:a}));break;case".":if(p!=null){for(a=d;++o<i.length&&(d=i.charAt(o))==="0";)a+=d;n[n.length]={t:"s",v:a};break}case"0":case"#":for(a=d;++o<i.length&&"0#?.,E+-%".indexOf(d=i.charAt(o))>-1;)a+=d;n[n.length]={t:"n",v:a};break;case"?":for(a=d;i.charAt(++o)===d;)a+=d;n[n.length]={t:d,v:a},u=d;break;case"*":++o,(i.charAt(o)==" "||i.charAt(o)=="*")&&++o;break;case"(":case")":n[n.length]={t:r===1?"t":d,v:d},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=d;o<i.length&&"0123456789".indexOf(i.charAt(++o))>-1;)a+=i.charAt(o);n[n.length]={t:"D",v:a};break;case" ":n[n.length]={t:d,v:d},++o;break;case"$":n[n.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=\u20ACacfijklopqrtuvwxzP".indexOf(d)===-1)throw new Error("unrecognized character "+d+" in "+i);n[n.length]={t:"t",v:d},++o;break}var k=0,F=0,D;for(o=n.length-1,u="t";o>=0;--o)switch(n[o].t){case"h":case"H":n[o].t=w,u="h",k<1&&(k=1);break;case"s":(D=n[o].v.match(/\.0+$/))&&(F=Math.max(F,D[0].length-1)),k<3&&(k=3);case"d":case"y":case"M":case"e":u=n[o].t;break;case"m":u==="s"&&(n[o].t="M",k<2&&(k=2));break;case"X":break;case"Z":k<1&&n[o].v.match(/[Hh]/)&&(k=1),k<2&&n[o].v.match(/[Mm]/)&&(k=2),k<3&&n[o].v.match(/[Ss]/)&&(k=3)}switch(k){case 0:break;case 1:p.u>=.5&&(p.u=0,++p.S),p.S>=60&&(p.S=0,++p.M),p.M>=60&&(p.M=0,++p.H);break;case 2:p.u>=.5&&(p.u=0,++p.S),p.S>=60&&(p.S=0,++p.M);break}var X="",he;for(o=0;o<n.length;++o)switch(n[o].t){case"t":case"T":case" ":case"D":break;case"X":n[o].v="",n[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":n[o].v=iI(n[o].t.charCodeAt(0),n[o].v,p,F),n[o].t="t";break;case"n":case"?":for(he=o+1;n[he]!=null&&((d=n[he].t)==="?"||d==="D"||(d===" "||d==="t")&&n[he+1]!=null&&(n[he+1].t==="?"||n[he+1].t==="t"&&n[he+1].v==="/")||n[o].t==="("&&(d===" "||d==="n"||d===")")||d==="t"&&(n[he].v==="/"||n[he].v===" "&&n[he+1]!=null&&n[he+1].t=="?"));)n[o].v+=n[he].v,n[he]={v:"",t:";"},++he;X+=n[o].v,o=he-1;break;case"G":n[o].t="t",n[o].v=ov(t,e);break}var we="",Be,re;if(X.length>0){X.charCodeAt(0)==40?(Be=t<0&&X.charCodeAt(0)===45?-t:t,re=xl("n",X,Be)):(Be=t<0&&r>1?-t:t,re=xl("n",X,Be),Be<0&&n[0]&&n[0].t=="t"&&(re=re.substr(1),n[0].v="-"+n[0].v)),he=re.length-1;var ie=n.length;for(o=0;o<n.length;++o)if(n[o]!=null&&n[o].t!="t"&&n[o].v.indexOf(".")>-1){ie=o;break}var le=n.length;if(ie===n.length&&re.indexOf("E")===-1){for(o=n.length-1;o>=0;--o)n[o]==null||"n?".indexOf(n[o].t)===-1||(he>=n[o].v.length-1?(he-=n[o].v.length,n[o].v=re.substr(he+1,n[o].v.length)):he<0?n[o].v="":(n[o].v=re.substr(0,he+1),he=-1),n[o].t="t",le=o);he>=0&&le<n.length&&(n[le].v=re.substr(0,he+1)+n[le].v)}else if(ie!==n.length&&re.indexOf("E")===-1){for(he=re.indexOf(".")-1,o=ie;o>=0;--o)if(!(n[o]==null||"n?".indexOf(n[o].t)===-1)){for(g=n[o].v.indexOf(".")>-1&&o===ie?n[o].v.indexOf(".")-1:n[o].v.length-1,we=n[o].v.substr(g+1);g>=0;--g)he>=0&&(n[o].v.charAt(g)==="0"||n[o].v.charAt(g)==="#")&&(we=re.charAt(he--)+we);n[o].v=we,n[o].t="t",le=o}for(he>=0&&le<n.length&&(n[le].v=re.substr(0,he+1)+n[le].v),he=re.indexOf(".")+1,o=ie;o<n.length;++o)if(!(n[o]==null||"n?(".indexOf(n[o].t)===-1&&o!==ie)){for(g=n[o].v.indexOf(".")>-1&&o===ie?n[o].v.indexOf(".")+1:0,we=n[o].v.substr(0,g);g<n[o].v.length;++g)he<re.length&&(we+=re.charAt(he++));n[o].v=we,n[o].t="t",le=o}}}for(o=0;o<n.length;++o)n[o]!=null&&"n?".indexOf(n[o].t)>-1&&(Be=r>1&&t<0&&o>0&&n[o-1].v==="-"?-t:t,n[o].v=xl(n[o].t,n[o].v,Be),n[o].t="t");var Ce="";for(o=0;o!==n.length;++o)n[o]!=null&&(Ce+=n[o].v);return Ce}var Xx=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Yx(i,t){if(t==null)return!1;var e=parseFloat(t[2]);switch(t[1]){case"=":if(i==e)return!0;break;case">":if(i>e)return!0;break;case"<":if(i<e)return!0;break;case"<>":if(i!=e)return!0;break;case">=":if(i>=e)return!0;break;case"<=":if(i<=e)return!0;break}return!1}function pI(i,t){var e=uI(i),r=e.length,n=e[r-1].indexOf("@");if(r<4&&n>-1&&--r,e.length>4)throw new Error("cannot find right format for |"+e.join("|")+"|");if(typeof t!="number")return[4,e.length===4||n>-1?e[e.length-1]:"@"];switch(e.length){case 1:e=n>-1?["General","General","General",e[0]]:[e[0],e[0],e[0],"@"];break;case 2:e=n>-1?[e[0],e[0],e[0],e[1]]:[e[0],e[1],e[0],"@"];break;case 3:e=n>-1?[e[0],e[1],e[0],e[2]]:[e[0],e[1],e[2],"@"];break;case 4:break}var a=t>0?e[0]:t<0?e[1]:e[2];if(e[0].indexOf("[")===-1&&e[1].indexOf("[")===-1)return[r,a];if(e[0].match(/\[[=<>]/)!=null||e[1].match(/\[[=<>]/)!=null){var o=e[0].match(Xx),d=e[1].match(Xx);return Yx(t,o)?[r,e[0]]:Yx(t,d)?[r,e[1]]:[r,e[o!=null&&d!=null?2:1]]}return[r,a]}function Pc(i,t,e){e==null&&(e={});var r="";switch(typeof i){case"string":i=="m/d/yy"&&e.dateNF?r=e.dateNF:r=i;break;case"number":i==14&&e.dateNF?r=e.dateNF:r=(e.table!=null?e.table:dn)[i],r==null&&(r=e.table&&e.table[Gx[i]]||dn[Gx[i]]),r==null&&(r=ZO[i]||"General");break}if(tm(r,0))return ov(t,e);t instanceof Date&&(t=Ay(t,e.date1904));var n=pI(r,t);if(tm(n[1]))return ov(t,e);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return fI(n[1],t,e,n[0])}function Vy(i,t){if(typeof t!="number"){t=+t||-1;for(var e=0;e<392;++e){if(dn[e]==null){t<0&&(t=e);continue}if(dn[e]==i){t=e;break}}t<0&&(t=391)}return dn[t]=i,t}function hm(i){for(var t=0;t!=392;++t)i[t]!==void 0&&Vy(i[t],t)}function mm(){dn=$O()}var jy=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function hI(i){var t=typeof i=="number"?dn[i]:i;return t=t.replace(jy,"(\\d+)"),new RegExp("^"+t+"$")}function mI(i,t,e){var r=-1,n=-1,a=-1,o=-1,d=-1,u=-1;(t.match(jy)||[]).forEach(function(y,w){var x=parseInt(e[w+1],10);switch(y.toLowerCase().charAt(0)){case"y":r=x;break;case"d":a=x;break;case"h":o=x;break;case"s":u=x;break;case"m":o>=0?d=x:n=x;break}}),u>=0&&d==-1&&n>=0&&(d=n,n=-1);var p=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(n>=1?n:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);p.length==7&&(p="0"+p),p.length==8&&(p="20"+p);var g=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2);return o==-1&&d==-1&&u==-1?p:r==-1&&n==-1&&a==-1?g:p+"T"+g}var gI=function(){var i={};i.version="1.2.0";function t(){for(var re=0,ie=new Array(256),le=0;le!=256;++le)re=le,re=re&1?-306674912^re>>>1:re>>>1,re=re&1?-306674912^re>>>1:re>>>1,re=re&1?-306674912^re>>>1:re>>>1,re=re&1?-306674912^re>>>1:re>>>1,re=re&1?-306674912^re>>>1:re>>>1,re=re&1?-306674912^re>>>1:re>>>1,re=re&1?-306674912^re>>>1:re>>>1,re=re&1?-306674912^re>>>1:re>>>1,ie[le]=re;return typeof Int32Array<"u"?new Int32Array(ie):ie}var e=t();function r(re){var ie=0,le=0,Ce=0,q=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(Ce=0;Ce!=256;++Ce)q[Ce]=re[Ce];for(Ce=0;Ce!=256;++Ce)for(le=re[Ce],ie=256+Ce;ie<4096;ie+=256)le=q[ie]=le>>>8^re[le&255];var H=[];for(Ce=1;Ce!=16;++Ce)H[Ce-1]=typeof Int32Array<"u"?q.subarray(Ce*256,Ce*256+256):q.slice(Ce*256,Ce*256+256);return H}var n=r(e),a=n[0],o=n[1],d=n[2],u=n[3],p=n[4],g=n[5],y=n[6],w=n[7],x=n[8],T=n[9],E=n[10],k=n[11],F=n[12],D=n[13],X=n[14];function he(re,ie){for(var le=ie^-1,Ce=0,q=re.length;Ce<q;)le=le>>>8^e[(le^re.charCodeAt(Ce++))&255];return~le}function we(re,ie){for(var le=ie^-1,Ce=re.length-15,q=0;q<Ce;)le=X[re[q++]^le&255]^D[re[q++]^le>>8&255]^F[re[q++]^le>>16&255]^k[re[q++]^le>>>24]^E[re[q++]]^T[re[q++]]^x[re[q++]]^w[re[q++]]^y[re[q++]]^g[re[q++]]^p[re[q++]]^u[re[q++]]^d[re[q++]]^o[re[q++]]^a[re[q++]]^e[re[q++]];for(Ce+=15;q<Ce;)le=le>>>8^e[(le^re[q++])&255];return~le}function Be(re,ie){for(var le=ie^-1,Ce=0,q=re.length,H=0,ve=0;Ce<q;)H=re.charCodeAt(Ce++),H<128?le=le>>>8^e[(le^H)&255]:H<2048?(le=le>>>8^e[(le^(192|H>>6&31))&255],le=le>>>8^e[(le^(128|H&63))&255]):H>=55296&&H<57344?(H=(H&1023)+64,ve=re.charCodeAt(Ce++)&1023,le=le>>>8^e[(le^(240|H>>8&7))&255],le=le>>>8^e[(le^(128|H>>2&63))&255],le=le>>>8^e[(le^(128|ve>>6&15|(H&3)<<4))&255],le=le>>>8^e[(le^(128|ve&63))&255]):(le=le>>>8^e[(le^(224|H>>12&15))&255],le=le>>>8^e[(le^(128|H>>6&63))&255],le=le>>>8^e[(le^(128|H&63))&255]);return~le}return i.table=e,i.bstr=he,i.buf=we,i.str=Be,i}(),Ir=function(){var t={};t.version="1.2.1";function e(G,fe){for(var ne=G.split("/"),oe=fe.split("/"),de=0,pe=0,ze=Math.min(ne.length,oe.length);de<ze;++de){if(pe=ne[de].length-oe[de].length)return pe;if(ne[de]!=oe[de])return ne[de]<oe[de]?-1:1}return ne.length-oe.length}function r(G){if(G.charAt(G.length-1)=="/")return G.slice(0,-1).indexOf("/")===-1?G:r(G.slice(0,-1));var fe=G.lastIndexOf("/");return fe===-1?G:G.slice(0,fe+1)}function n(G){if(G.charAt(G.length-1)=="/")return n(G.slice(0,-1));var fe=G.lastIndexOf("/");return fe===-1?G:G.slice(fe+1)}function a(G,fe){typeof fe=="string"&&(fe=new Date(fe));var ne=fe.getHours();ne=ne<<6|fe.getMinutes(),ne=ne<<5|fe.getSeconds()>>>1,G.write_shift(2,ne);var oe=fe.getFullYear()-1980;oe=oe<<4|fe.getMonth()+1,oe=oe<<5|fe.getDate(),G.write_shift(2,oe)}function o(G){var fe=G.read_shift(2)&65535,ne=G.read_shift(2)&65535,oe=new Date,de=ne&31;ne>>>=5;var pe=ne&15;ne>>>=4,oe.setMilliseconds(0),oe.setFullYear(ne+1980),oe.setMonth(pe-1),oe.setDate(de);var ze=fe&31;fe>>>=5;var et=fe&63;return fe>>>=6,oe.setHours(fe),oe.setMinutes(et),oe.setSeconds(ze<<1),oe}function d(G){xo(G,0);for(var fe={},ne=0;G.l<=G.length-4;){var oe=G.read_shift(2),de=G.read_shift(2),pe=G.l+de,ze={};switch(oe){case 21589:ne=G.read_shift(1),ne&1&&(ze.mtime=G.read_shift(4)),de>5&&(ne&2&&(ze.atime=G.read_shift(4)),ne&4&&(ze.ctime=G.read_shift(4))),ze.mtime&&(ze.mt=new Date(ze.mtime*1e3));break}G.l=pe,fe[oe]=ze}return fe}var u;function p(){return u||(u={})}function g(G,fe){if(G[0]==80&&G[1]==75)return Pr(G,fe);if((G[0]|32)==109&&(G[1]|32)==105)return Ba(G,fe);if(G.length<512)throw new Error("CFB file size "+G.length+" < 512");var ne=3,oe=512,de=0,pe=0,ze=0,et=0,We=0,He=[],Xe=G.slice(0,512);xo(Xe,0);var yt=y(Xe);switch(ne=yt[0],ne){case 3:oe=512;break;case 4:oe=4096;break;case 0:if(yt[1]==0)return Pr(G,fe);default:throw new Error("Major Version: Expected 3 or 4 saw "+ne)}oe!==512&&(Xe=G.slice(0,oe),xo(Xe,28));var At=G.slice(0,oe);w(Xe,ne);var Zt=Xe.read_shift(4,"i");if(ne===3&&Zt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Zt);Xe.l+=4,ze=Xe.read_shift(4,"i"),Xe.l+=4,Xe.chk("00100000","Mini Stream Cutoff Size: "),et=Xe.read_shift(4,"i"),de=Xe.read_shift(4,"i"),We=Xe.read_shift(4,"i"),pe=Xe.read_shift(4,"i");for(var Nt=-1,Rt=0;Rt<109&&(Nt=Xe.read_shift(4,"i"),!(Nt<0));++Rt)He[Rt]=Nt;var xi=x(G,oe);k(We,pe,xi,oe,He);var or=D(xi,ze,He,oe);or[ze].name="!Directory",de>0&&et!==ve&&(or[et].name="!MiniFAT"),or[He[0]].name="!FAT",or.fat_addrs=He,or.ssz=oe;var Jr={},pr=[],rn=[],So=[];X(ze,or,xi,pr,de,Jr,rn,et),T(rn,So,pr),pr.shift();var ea={FileIndex:rn,FullPaths:So};return fe&&fe.raw&&(ea.raw={header:At,sectors:xi}),ea}function y(G){if(G[G.l]==80&&G[G.l+1]==75)return[0,0];G.chk(_e,"Header Signature: "),G.l+=16;var fe=G.read_shift(2,"u");return[G.read_shift(2,"u"),fe]}function w(G,fe){var ne=9;switch(G.l+=2,ne=G.read_shift(2)){case 9:if(fe!=3)throw new Error("Sector Shift: Expected 9 saw "+ne);break;case 12:if(fe!=4)throw new Error("Sector Shift: Expected 12 saw "+ne);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ne)}G.chk("0600","Mini Sector Shift: "),G.chk("000000000000","Reserved: ")}function x(G,fe){for(var ne=Math.ceil(G.length/fe)-1,oe=[],de=1;de<ne;++de)oe[de-1]=G.slice(de*fe,(de+1)*fe);return oe[ne-1]=G.slice(ne*fe),oe}function T(G,fe,ne){for(var oe=0,de=0,pe=0,ze=0,et=0,We=ne.length,He=[],Xe=[];oe<We;++oe)He[oe]=Xe[oe]=oe,fe[oe]=ne[oe];for(;et<Xe.length;++et)oe=Xe[et],de=G[oe].L,pe=G[oe].R,ze=G[oe].C,He[oe]===oe&&(de!==-1&&He[de]!==de&&(He[oe]=He[de]),pe!==-1&&He[pe]!==pe&&(He[oe]=He[pe])),ze!==-1&&(He[ze]=oe),de!==-1&&oe!=He[oe]&&(He[de]=He[oe],Xe.lastIndexOf(de)<et&&Xe.push(de)),pe!==-1&&oe!=He[oe]&&(He[pe]=He[oe],Xe.lastIndexOf(pe)<et&&Xe.push(pe));for(oe=1;oe<We;++oe)He[oe]===oe&&(pe!==-1&&He[pe]!==pe?He[oe]=He[pe]:de!==-1&&He[de]!==de&&(He[oe]=He[de]));for(oe=1;oe<We;++oe)if(G[oe].type!==0){if(et=oe,et!=He[et])do et=He[et],fe[oe]=fe[et]+"/"+fe[oe];while(et!==0&&He[et]!==-1&&et!=He[et]);He[oe]=-1}for(fe[0]+="/",oe=1;oe<We;++oe)G[oe].type!==2&&(fe[oe]+="/")}function E(G,fe,ne){for(var oe=G.start,de=G.size,pe=[],ze=oe;ne&&de>0&&ze>=0;)pe.push(fe.slice(ze*H,ze*H+H)),de-=H,ze=xd(ne,ze*4);return pe.length===0?nt(0):Xn(pe).slice(0,G.size)}function k(G,fe,ne,oe,de){var pe=ve;if(G===ve){if(fe!==0)throw new Error("DIFAT chain shorter than expected")}else if(G!==-1){var ze=ne[G],et=(oe>>>2)-1;if(!ze)return;for(var We=0;We<et&&(pe=xd(ze,We*4))!==ve;++We)de.push(pe);k(xd(ze,oe-4),fe-1,ne,oe,de)}}function F(G,fe,ne,oe,de){var pe=[],ze=[];de||(de=[]);var et=oe-1,We=0,He=0;for(We=fe;We>=0;){de[We]=!0,pe[pe.length]=We,ze.push(G[We]);var Xe=ne[Math.floor(We*4/oe)];if(He=We*4&et,oe<4+He)throw new Error("FAT boundary crossed: "+We+" 4 "+oe);if(!G[Xe])break;We=xd(G[Xe],He)}return{nodes:pe,data:ny([ze])}}function D(G,fe,ne,oe){var de=G.length,pe=[],ze=[],et=[],We=[],He=oe-1,Xe=0,yt=0,At=0,Zt=0;for(Xe=0;Xe<de;++Xe)if(et=[],At=Xe+fe,At>=de&&(At-=de),!ze[At]){We=[];var Nt=[];for(yt=At;yt>=0;){Nt[yt]=!0,ze[yt]=!0,et[et.length]=yt,We.push(G[yt]);var Rt=ne[Math.floor(yt*4/oe)];if(Zt=yt*4&He,oe<4+Zt)throw new Error("FAT boundary crossed: "+yt+" 4 "+oe);if(!G[Rt]||(yt=xd(G[Rt],Zt),Nt[yt]))break}pe[At]={nodes:et,data:ny([We])}}return pe}function X(G,fe,ne,oe,de,pe,ze,et){for(var We=0,He=oe.length?2:0,Xe=fe[G].data,yt=0,At=0,Zt;yt<Xe.length;yt+=128){var Nt=Xe.slice(yt,yt+128);xo(Nt,64),At=Nt.read_shift(2),Zt=_m(Nt,0,At-He),oe.push(Zt);var Rt={name:Zt,type:Nt.read_shift(1),color:Nt.read_shift(1),L:Nt.read_shift(4,"i"),R:Nt.read_shift(4,"i"),C:Nt.read_shift(4,"i"),clsid:Nt.read_shift(16),state:Nt.read_shift(4,"i"),start:0,size:0},xi=Nt.read_shift(2)+Nt.read_shift(2)+Nt.read_shift(2)+Nt.read_shift(2);xi!==0&&(Rt.ct=he(Nt,Nt.l-8));var or=Nt.read_shift(2)+Nt.read_shift(2)+Nt.read_shift(2)+Nt.read_shift(2);or!==0&&(Rt.mt=he(Nt,Nt.l-8)),Rt.start=Nt.read_shift(4,"i"),Rt.size=Nt.read_shift(4,"i"),Rt.size<0&&Rt.start<0&&(Rt.size=Rt.type=0,Rt.start=ve,Rt.name=""),Rt.type===5?(We=Rt.start,de>0&&We!==ve&&(fe[We].name="!StreamData")):Rt.size>=4096?(Rt.storage="fat",fe[Rt.start]===void 0&&(fe[Rt.start]=F(ne,Rt.start,fe.fat_addrs,fe.ssz)),fe[Rt.start].name=Rt.name,Rt.content=fe[Rt.start].data.slice(0,Rt.size)):(Rt.storage="minifat",Rt.size<0?Rt.size=0:We!==ve&&Rt.start!==ve&&fe[We]&&(Rt.content=E(Rt,fe[We].data,(fe[et]||{}).data))),Rt.content&&xo(Rt.content,0),pe[Zt]=Rt,ze.push(Rt)}}function he(G,fe){return new Date((Rn(G,fe+4)/1e7*Math.pow(2,32)+Rn(G,fe)/1e7-11644473600)*1e3)}function we(G,fe){return p(),g(u.readFileSync(G),fe)}function Be(G,fe){var ne=fe&&fe.type;switch(ne||ur&&Buffer.isBuffer(G)&&(ne="buffer"),ne||"base64"){case"file":return we(G,fe);case"base64":return g(gs(wl(G)),fe);case"binary":return g(gs(G),fe)}return g(G,fe)}function re(G,fe){var ne=fe||{},oe=ne.root||"Root Entry";if(G.FullPaths||(G.FullPaths=[]),G.FileIndex||(G.FileIndex=[]),G.FullPaths.length!==G.FileIndex.length)throw new Error("inconsistent CFB structure");G.FullPaths.length===0&&(G.FullPaths[0]=oe+"/",G.FileIndex[0]={name:oe,type:5}),ne.CLSID&&(G.FileIndex[0].clsid=ne.CLSID),ie(G)}function ie(G){var fe="Sh33tJ5";if(!Ir.find(G,"/"+fe)){var ne=nt(4);ne[0]=55,ne[1]=ne[3]=50,ne[2]=54,G.FileIndex.push({name:fe,type:2,content:ne,size:4,L:69,R:69,C:69}),G.FullPaths.push(G.FullPaths[0]+fe),le(G)}}function le(G,fe){re(G);for(var ne=!1,oe=!1,de=G.FullPaths.length-1;de>=0;--de){var pe=G.FileIndex[de];switch(pe.type){case 0:oe?ne=!0:(G.FileIndex.pop(),G.FullPaths.pop());break;case 1:case 2:case 5:oe=!0,isNaN(pe.R*pe.L*pe.C)&&(ne=!0),pe.R>-1&&pe.L>-1&&pe.R==pe.L&&(ne=!0);break;default:ne=!0;break}}if(!(!ne&&!fe)){var ze=new Date(1987,1,19),et=0,We=Object.create?Object.create(null):{},He=[];for(de=0;de<G.FullPaths.length;++de)We[G.FullPaths[de]]=!0,G.FileIndex[de].type!==0&&He.push([G.FullPaths[de],G.FileIndex[de]]);for(de=0;de<He.length;++de){var Xe=r(He[de][0]);oe=We[Xe],oe||(He.push([Xe,{name:n(Xe).replace("/",""),type:1,clsid:ke,ct:ze,mt:ze,content:null}]),We[Xe]=!0)}for(He.sort(function(Zt,Nt){return e(Zt[0],Nt[0])}),G.FullPaths=[],G.FileIndex=[],de=0;de<He.length;++de)G.FullPaths[de]=He[de][0],G.FileIndex[de]=He[de][1];for(de=0;de<He.length;++de){var yt=G.FileIndex[de],At=G.FullPaths[de];if(yt.name=n(At).replace("/",""),yt.L=yt.R=yt.C=-(yt.color=1),yt.size=yt.content?yt.content.length:0,yt.start=0,yt.clsid=yt.clsid||ke,de===0)yt.C=He.length>1?1:-1,yt.size=0,yt.type=5;else if(At.slice(-1)=="/"){for(et=de+1;et<He.length&&r(G.FullPaths[et])!=At;++et);for(yt.C=et>=He.length?-1:et,et=de+1;et<He.length&&r(G.FullPaths[et])!=r(At);++et);yt.R=et>=He.length?-1:et,yt.type=1}else r(G.FullPaths[de+1]||"")==r(At)&&(yt.R=de+1),yt.type=2}}}function Ce(G,fe){var ne=fe||{};if(ne.fileType=="mad")return fi(G,ne);switch(le(G),ne.fileType){case"zip":return no(G,ne)}var oe=function(Zt){for(var Nt=0,Rt=0,xi=0;xi<Zt.FileIndex.length;++xi){var or=Zt.FileIndex[xi];if(or.content){var Jr=or.content.length;Jr>0&&(Jr<4096?Nt+=Jr+63>>6:Rt+=Jr+511>>9)}}for(var pr=Zt.FullPaths.length+3>>2,rn=Nt+7>>3,So=Nt+127>>7,ea=rn+Rt+pr+So,Oi=ea+127>>7,sr=Oi<=109?0:Math.ceil((Oi-109)/127);ea+Oi+sr+127>>7>Oi;)sr=++Oi<=109?0:Math.ceil((Oi-109)/127);var An=[1,sr,Oi,So,pr,Rt,Nt,0];return Zt.FileIndex[0].size=Nt<<6,An[7]=(Zt.FileIndex[0].start=An[0]+An[1]+An[2]+An[3]+An[4]+An[5])+(An[6]+7>>3),An}(G),de=nt(oe[7]<<9),pe=0,ze=0;{for(pe=0;pe<8;++pe)de.write_shift(1,Fe[pe]);for(pe=0;pe<8;++pe)de.write_shift(2,0);for(de.write_shift(2,62),de.write_shift(2,3),de.write_shift(2,65534),de.write_shift(2,9),de.write_shift(2,6),pe=0;pe<3;++pe)de.write_shift(2,0);for(de.write_shift(4,0),de.write_shift(4,oe[2]),de.write_shift(4,oe[0]+oe[1]+oe[2]+oe[3]-1),de.write_shift(4,0),de.write_shift(4,4096),de.write_shift(4,oe[3]?oe[0]+oe[1]+oe[2]-1:ve),de.write_shift(4,oe[3]),de.write_shift(-4,oe[1]?oe[0]-1:ve),de.write_shift(4,oe[1]),pe=0;pe<109;++pe)de.write_shift(-4,pe<oe[2]?oe[1]+pe:-1)}if(oe[1])for(ze=0;ze<oe[1];++ze){for(;pe<236+ze*127;++pe)de.write_shift(-4,pe<oe[2]?oe[1]+pe:-1);de.write_shift(-4,ze===oe[1]-1?ve:ze+1)}var et=function(Zt){for(ze+=Zt;pe<ze-1;++pe)de.write_shift(-4,pe+1);Zt&&(++pe,de.write_shift(-4,ve))};for(ze=pe=0,ze+=oe[1];pe<ze;++pe)de.write_shift(-4,Ye.DIFSECT);for(ze+=oe[2];pe<ze;++pe)de.write_shift(-4,Ye.FATSECT);et(oe[3]),et(oe[4]);for(var We=0,He=0,Xe=G.FileIndex[0];We<G.FileIndex.length;++We)Xe=G.FileIndex[We],Xe.content&&(He=Xe.content.length,!(He<4096)&&(Xe.start=ze,et(He+511>>9)));for(et(oe[6]+7>>3);de.l&511;)de.write_shift(-4,Ye.ENDOFCHAIN);for(ze=pe=0,We=0;We<G.FileIndex.length;++We)Xe=G.FileIndex[We],Xe.content&&(He=Xe.content.length,!(!He||He>=4096)&&(Xe.start=ze,et(He+63>>6)));for(;de.l&511;)de.write_shift(-4,Ye.ENDOFCHAIN);for(pe=0;pe<oe[4]<<2;++pe){var yt=G.FullPaths[pe];if(!yt||yt.length===0){for(We=0;We<17;++We)de.write_shift(4,0);for(We=0;We<3;++We)de.write_shift(4,-1);for(We=0;We<12;++We)de.write_shift(4,0);continue}Xe=G.FileIndex[pe],pe===0&&(Xe.start=Xe.size?Xe.start-1:ve);var At=pe===0&&ne.root||Xe.name;if(He=2*(At.length+1),de.write_shift(64,At,"utf16le"),de.write_shift(2,He),de.write_shift(1,Xe.type),de.write_shift(1,Xe.color),de.write_shift(-4,Xe.L),de.write_shift(-4,Xe.R),de.write_shift(-4,Xe.C),Xe.clsid)de.write_shift(16,Xe.clsid,"hex");else for(We=0;We<4;++We)de.write_shift(4,0);de.write_shift(4,Xe.state||0),de.write_shift(4,0),de.write_shift(4,0),de.write_shift(4,0),de.write_shift(4,0),de.write_shift(4,Xe.start),de.write_shift(4,Xe.size),de.write_shift(4,0)}for(pe=1;pe<G.FileIndex.length;++pe)if(Xe=G.FileIndex[pe],Xe.size>=4096)if(de.l=Xe.start+1<<9,ur&&Buffer.isBuffer(Xe.content))Xe.content.copy(de,de.l,0,Xe.size),de.l+=Xe.size+511&-512;else{for(We=0;We<Xe.size;++We)de.write_shift(1,Xe.content[We]);for(;We&511;++We)de.write_shift(1,0)}for(pe=1;pe<G.FileIndex.length;++pe)if(Xe=G.FileIndex[pe],Xe.size>0&&Xe.size<4096)if(ur&&Buffer.isBuffer(Xe.content))Xe.content.copy(de,de.l,0,Xe.size),de.l+=Xe.size+63&-64;else{for(We=0;We<Xe.size;++We)de.write_shift(1,Xe.content[We]);for(;We&63;++We)de.write_shift(1,0)}if(ur)de.l=de.length;else for(;de.l<de.length;)de.write_shift(1,0);return de}function q(G,fe){var ne=G.FullPaths.map(function(We){return We.toUpperCase()}),oe=ne.map(function(We){var He=We.split("/");return He[He.length-(We.slice(-1)=="/"?2:1)]}),de=!1;fe.charCodeAt(0)===47?(de=!0,fe=ne[0].slice(0,-1)+fe):de=fe.indexOf("/")!==-1;var pe=fe.toUpperCase(),ze=de===!0?ne.indexOf(pe):oe.indexOf(pe);if(ze!==-1)return G.FileIndex[ze];var et=!pe.match(Gh);for(pe=pe.replace(ku,""),et&&(pe=pe.replace(Gh,"!")),ze=0;ze<ne.length;++ze)if((et?ne[ze].replace(Gh,"!"):ne[ze]).replace(ku,"")==pe||(et?oe[ze].replace(Gh,"!"):oe[ze]).replace(ku,"")==pe)return G.FileIndex[ze];return null}var H=64,ve=-2,_e="d0cf11e0a1b11ae1",Fe=[208,207,17,224,161,177,26,225],ke="00000000000000000000000000000000",Ye={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:ve,FREESECT:-1,HEADER_SIGNATURE:_e,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ke,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Me(G,fe,ne){p();var oe=Ce(G,ne);u.writeFileSync(fe,oe)}function je(G){for(var fe=new Array(G.length),ne=0;ne<G.length;++ne)fe[ne]=String.fromCharCode(G[ne]);return fe.join("")}function Ze(G,fe){var ne=Ce(G,fe);switch(fe&&fe.type||"buffer"){case"file":return p(),u.writeFileSync(fe.filename,ne),ne;case"binary":return typeof ne=="string"?ne:je(ne);case"base64":return vf(typeof ne=="string"?ne:je(ne));case"buffer":if(ur)return Buffer.isBuffer(ne)?ne:El(ne);case"array":return typeof ne=="string"?gs(ne):ne}return ne}var wt;function A(G){try{var fe=G.InflateRaw,ne=new fe;if(ne._processChunk(new Uint8Array([3,0]),ne._finishFlushFlag),ne.bytesRead)wt=G;else throw new Error("zlib does not expose bytesRead")}catch(oe){console.error("cannot use native zlib: "+(oe.message||oe))}}function V(G,fe){if(!wt)return tr(G,fe);var ne=wt.InflateRaw,oe=new ne,de=oe._processChunk(G.slice(G.l),oe._finishFlushFlag);return G.l+=oe.bytesRead,de}function N(G){return wt?wt.deflateRawSync(G):Fi(G)}var j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],se=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Ee=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ie(G){var fe=(G<<1|G<<11)&139536|(G<<5|G<<15)&558144;return(fe>>16|fe>>8|fe)&255}for(var Te=typeof Uint8Array<"u",Re=Te?new Uint8Array(256):[],at=0;at<256;++at)Re[at]=Ie(at);function pt(G,fe){var ne=Re[G&255];return fe<=8?ne>>>8-fe:(ne=ne<<8|Re[G>>8&255],fe<=16?ne>>>16-fe:(ne=ne<<8|Re[G>>16&255],ne>>>24-fe))}function Pt(G,fe){var ne=fe&7,oe=fe>>>3;return(G[oe]|(ne<=6?0:G[oe+1]<<8))>>>ne&3}function Lt(G,fe){var ne=fe&7,oe=fe>>>3;return(G[oe]|(ne<=5?0:G[oe+1]<<8))>>>ne&7}function Qe(G,fe){var ne=fe&7,oe=fe>>>3;return(G[oe]|(ne<=4?0:G[oe+1]<<8))>>>ne&15}function ge(G,fe){var ne=fe&7,oe=fe>>>3;return(G[oe]|(ne<=3?0:G[oe+1]<<8))>>>ne&31}function mt(G,fe){var ne=fe&7,oe=fe>>>3;return(G[oe]|(ne<=1?0:G[oe+1]<<8))>>>ne&127}function Wt(G,fe,ne){var oe=fe&7,de=fe>>>3,pe=(1<<ne)-1,ze=G[de]>>>oe;return ne<8-oe||(ze|=G[de+1]<<8-oe,ne<16-oe)||(ze|=G[de+2]<<16-oe,ne<24-oe)||(ze|=G[de+3]<<24-oe),ze&pe}function gt(G,fe,ne){var oe=fe&7,de=fe>>>3;return oe<=5?G[de]|=(ne&7)<<oe:(G[de]|=ne<<oe&255,G[de+1]=(ne&7)>>8-oe),fe+3}function Ft(G,fe,ne){var oe=fe&7,de=fe>>>3;return ne=(ne&1)<<oe,G[de]|=ne,fe+1}function Ut(G,fe,ne){var oe=fe&7,de=fe>>>3;return ne<<=oe,G[de]|=ne&255,ne>>>=8,G[de+1]=ne,fe+8}function Vt(G,fe,ne){var oe=fe&7,de=fe>>>3;return ne<<=oe,G[de]|=ne&255,ne>>>=8,G[de+1]=ne&255,G[de+2]=ne>>>8,fe+16}function Qt(G,fe){var ne=G.length,oe=2*ne>fe?2*ne:fe+5,de=0;if(ne>=fe)return G;if(ur){var pe=zx(oe);if(G.copy)G.copy(pe);else for(;de<G.length;++de)pe[de]=G[de];return pe}else if(Te){var ze=new Uint8Array(oe);if(ze.set)ze.set(G);else for(;de<ne;++de)ze[de]=G[de];return ze}return G.length=oe,G}function ti(G){for(var fe=new Array(G),ne=0;ne<G;++ne)fe[ne]=0;return fe}function yi(G,fe,ne){var oe=1,de=0,pe=0,ze=0,et=0,We=G.length,He=Te?new Uint16Array(32):ti(32);for(pe=0;pe<32;++pe)He[pe]=0;for(pe=We;pe<ne;++pe)G[pe]=0;We=G.length;var Xe=Te?new Uint16Array(We):ti(We);for(pe=0;pe<We;++pe)He[de=G[pe]]++,oe<de&&(oe=de),Xe[pe]=0;for(He[0]=0,pe=1;pe<=oe;++pe)He[pe+16]=et=et+He[pe-1]<<1;for(pe=0;pe<We;++pe)et=G[pe],et!=0&&(Xe[pe]=He[et+16]++);var yt=0;for(pe=0;pe<We;++pe)if(yt=G[pe],yt!=0)for(et=pt(Xe[pe],oe)>>oe-yt,ze=(1<<oe+4-yt)-1;ze>=0;--ze)fe[et|ze<<yt]=yt&15|pe<<4;return oe}var Ti=Te?new Uint16Array(512):ti(512),Hi=Te?new Uint16Array(32):ti(32);if(!Te){for(var Gi=0;Gi<512;++Gi)Ti[Gi]=0;for(Gi=0;Gi<32;++Gi)Hi[Gi]=0}(function(){for(var G=[],fe=0;fe<32;fe++)G.push(5);yi(G,Hi,32);var ne=[];for(fe=0;fe<=143;fe++)ne.push(8);for(;fe<=255;fe++)ne.push(9);for(;fe<=279;fe++)ne.push(7);for(;fe<=287;fe++)ne.push(8);yi(ne,Ti,288)})();var mi=function(){for(var fe=Te?new Uint8Array(32768):[],ne=0,oe=0;ne<Ee.length-1;++ne)for(;oe<Ee[ne+1];++oe)fe[oe]=ne;for(;oe<32768;++oe)fe[oe]=29;var de=Te?new Uint8Array(259):[];for(ne=0,oe=0;ne<se.length-1;++ne)for(;oe<se[ne+1];++oe)de[oe]=ne;function pe(et,We){for(var He=0;He<et.length;){var Xe=Math.min(65535,et.length-He),yt=He+Xe==et.length;for(We.write_shift(1,+yt),We.write_shift(2,Xe),We.write_shift(2,~Xe&65535);Xe-- >0;)We[We.l++]=et[He++]}return We.l}function ze(et,We){for(var He=0,Xe=0,yt=Te?new Uint16Array(32768):[];Xe<et.length;){var At=Math.min(65535,et.length-Xe);if(At<10){for(He=gt(We,He,+(Xe+At==et.length)),He&7&&(He+=8-(He&7)),We.l=He/8|0,We.write_shift(2,At),We.write_shift(2,~At&65535);At-- >0;)We[We.l++]=et[Xe++];He=We.l*8;continue}He=gt(We,He,+(Xe+At==et.length)+2);for(var Zt=0;At-- >0;){var Nt=et[Xe];Zt=(Zt<<5^Nt)&32767;var Rt=-1,xi=0;if((Rt=yt[Zt])&&(Rt|=Xe&-32768,Rt>Xe&&(Rt-=32768),Rt<Xe))for(;et[Rt+xi]==et[Xe+xi]&&xi<250;)++xi;if(xi>2){Nt=de[xi],Nt<=22?He=Ut(We,He,Re[Nt+1]>>1)-1:(Ut(We,He,3),He+=5,Ut(We,He,Re[Nt-23]>>5),He+=3);var or=Nt<8?0:Nt-4>>2;or>0&&(Vt(We,He,xi-se[Nt]),He+=or),Nt=fe[Xe-Rt],He=Ut(We,He,Re[Nt]>>3),He-=3;var Jr=Nt<4?0:Nt-2>>1;Jr>0&&(Vt(We,He,Xe-Rt-Ee[Nt]),He+=Jr);for(var pr=0;pr<xi;++pr)yt[Zt]=Xe&32767,Zt=(Zt<<5^et[Xe])&32767,++Xe;At-=xi-1}else Nt<=143?Nt=Nt+48:He=Ft(We,He,1),He=Ut(We,He,Re[Nt]),yt[Zt]=Xe&32767,++Xe}He=Ut(We,He,0)-1}return We.l=(He+7)/8|0,We.l}return function(We,He){return We.length<8?pe(We,He):ze(We,He)}}();function Fi(G){var fe=nt(50+Math.floor(G.length*1.1)),ne=mi(G,fe);return fe.slice(0,ne)}var qt=Te?new Uint16Array(32768):ti(32768),Yr=Te?new Uint16Array(32768):ti(32768),Zi=Te?new Uint16Array(128):ti(128),Qn=1,er=1;function Er(G,fe){var ne=ge(G,fe)+257;fe+=5;var oe=ge(G,fe)+1;fe+=5;var de=Qe(G,fe)+4;fe+=4;for(var pe=0,ze=Te?new Uint8Array(19):ti(19),et=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],We=1,He=Te?new Uint8Array(8):ti(8),Xe=Te?new Uint8Array(8):ti(8),yt=ze.length,At=0;At<de;++At)ze[j[At]]=pe=Lt(G,fe),We<pe&&(We=pe),He[pe]++,fe+=3;var Zt=0;for(He[0]=0,At=1;At<=We;++At)Xe[At]=Zt=Zt+He[At-1]<<1;for(At=0;At<yt;++At)(Zt=ze[At])!=0&&(et[At]=Xe[Zt]++);var Nt=0;for(At=0;At<yt;++At)if(Nt=ze[At],Nt!=0){Zt=Re[et[At]]>>8-Nt;for(var Rt=(1<<7-Nt)-1;Rt>=0;--Rt)Zi[Zt|Rt<<Nt]=Nt&7|At<<3}var xi=[];for(We=1;xi.length<ne+oe;)switch(Zt=Zi[mt(G,fe)],fe+=Zt&7,Zt>>>=3){case 16:for(pe=3+Pt(G,fe),fe+=2,Zt=xi[xi.length-1];pe-- >0;)xi.push(Zt);break;case 17:for(pe=3+Lt(G,fe),fe+=3;pe-- >0;)xi.push(0);break;case 18:for(pe=11+mt(G,fe),fe+=7;pe-- >0;)xi.push(0);break;default:xi.push(Zt),We<Zt&&(We=Zt);break}var or=xi.slice(0,ne),Jr=xi.slice(ne);for(At=ne;At<286;++At)or[At]=0;for(At=oe;At<30;++At)Jr[At]=0;return Qn=yi(or,qt,286),er=yi(Jr,Yr,30),fe}function Da(G,fe){if(G[0]==3&&!(G[1]&3))return[wd(fe),2];for(var ne=0,oe=0,de=zx(fe||1<<18),pe=0,ze=de.length>>>0,et=0,We=0;!(oe&1);){if(oe=Lt(G,ne),ne+=3,oe>>>1)oe>>1==1?(et=9,We=5):(ne=Er(G,ne),et=Qn,We=er);else{ne&7&&(ne+=8-(ne&7));var He=G[ne>>>3]|G[(ne>>>3)+1]<<8;if(ne+=32,He>0)for(!fe&&ze<pe+He&&(de=Qt(de,pe+He),ze=de.length);He-- >0;)de[pe++]=G[ne>>>3],ne+=8;continue}for(;;){!fe&&ze<pe+32767&&(de=Qt(de,pe+32767),ze=de.length);var Xe=Wt(G,ne,et),yt=oe>>>1==1?Ti[Xe]:qt[Xe];if(ne+=yt&15,yt>>>=4,!(yt>>>8&255))de[pe++]=yt;else{if(yt==256)break;yt-=257;var At=yt<8?0:yt-4>>2;At>5&&(At=0);var Zt=pe+se[yt];At>0&&(Zt+=Wt(G,ne,At),ne+=At),Xe=Wt(G,ne,We),yt=oe>>>1==1?Hi[Xe]:Yr[Xe],ne+=yt&15,yt>>>=4;var Nt=yt<4?0:yt-2>>1,Rt=Ee[yt];for(Nt>0&&(Rt+=Wt(G,ne,Nt),ne+=Nt),!fe&&ze<Zt&&(de=Qt(de,Zt+100),ze=de.length);pe<Zt;)de[pe]=de[pe-Rt],++pe}}}return fe?[de,ne+7>>>3]:[de.slice(0,pe),ne+7>>>3]}function tr(G,fe){var ne=G.slice(G.l||0),oe=Da(ne,fe);return G.l+=oe[1],oe[0]}function ro(G,fe){if(G)typeof console<"u"&&console.error(fe);else throw new Error(fe)}function Pr(G,fe){var ne=G;xo(ne,0);var oe=[],de=[],pe={FileIndex:oe,FullPaths:de};re(pe,{root:fe.root});for(var ze=ne.length-4;(ne[ze]!=80||ne[ze+1]!=75||ne[ze+2]!=5||ne[ze+3]!=6)&&ze>=0;)--ze;ne.l=ze+4,ne.l+=4;var et=ne.read_shift(2);ne.l+=6;var We=ne.read_shift(4);for(ne.l=We,ze=0;ze<et;++ze){ne.l+=20;var He=ne.read_shift(4),Xe=ne.read_shift(4),yt=ne.read_shift(2),At=ne.read_shift(2),Zt=ne.read_shift(2);ne.l+=8;var Nt=ne.read_shift(4),Rt=d(ne.slice(ne.l+yt,ne.l+yt+At));ne.l+=yt+At+Zt;var xi=ne.l;ne.l=Nt+4,ba(ne,He,Xe,pe,Rt),ne.l=xi}return pe}function ba(G,fe,ne,oe,de){G.l+=2;var pe=G.read_shift(2),ze=G.read_shift(2),et=o(G);if(pe&8257)throw new Error("Unsupported ZIP encryption");for(var We=G.read_shift(4),He=G.read_shift(4),Xe=G.read_shift(4),yt=G.read_shift(2),At=G.read_shift(2),Zt="",Nt=0;Nt<yt;++Nt)Zt+=String.fromCharCode(G[G.l++]);if(At){var Rt=d(G.slice(G.l,G.l+At));(Rt[21589]||{}).mt&&(et=Rt[21589].mt),((de||{})[21589]||{}).mt&&(et=de[21589].mt)}G.l+=At;var xi=G.slice(G.l,G.l+He);switch(ze){case 8:xi=V(G,Xe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ze)}var or=!1;pe&8&&(We=G.read_shift(4),We==134695760&&(We=G.read_shift(4),or=!0),He=G.read_shift(4),Xe=G.read_shift(4)),He!=fe&&ro(or,"Bad compressed size: "+fe+" != "+He),Xe!=ne&&ro(or,"Bad uncompressed size: "+ne+" != "+Xe),Vr(oe,Zt,xi,{unsafe:!0,mt:et})}function no(G,fe){var ne=fe||{},oe=[],de=[],pe=nt(1),ze=ne.compression?8:0,et=0,We=!1;We&&(et|=8);var He=0,Xe=0,yt=0,At=0,Zt=G.FullPaths[0],Nt=Zt,Rt=G.FileIndex[0],xi=[],or=0;for(He=1;He<G.FullPaths.length;++He)if(Nt=G.FullPaths[He].slice(Zt.length),Rt=G.FileIndex[He],!(!Rt.size||!Rt.content||Nt=="Sh33tJ5")){var Jr=yt,pr=nt(Nt.length);for(Xe=0;Xe<Nt.length;++Xe)pr.write_shift(1,Nt.charCodeAt(Xe)&127);pr=pr.slice(0,pr.l),xi[At]=gI.buf(Rt.content,0);var rn=Rt.content;ze==8&&(rn=N(rn)),pe=nt(30),pe.write_shift(4,67324752),pe.write_shift(2,20),pe.write_shift(2,et),pe.write_shift(2,ze),Rt.mt?a(pe,Rt.mt):pe.write_shift(4,0),pe.write_shift(-4,et&8?0:xi[At]),pe.write_shift(4,et&8?0:rn.length),pe.write_shift(4,et&8?0:Rt.content.length),pe.write_shift(2,pr.length),pe.write_shift(2,0),yt+=pe.length,oe.push(pe),yt+=pr.length,oe.push(pr),yt+=rn.length,oe.push(rn),et&8&&(pe=nt(12),pe.write_shift(-4,xi[At]),pe.write_shift(4,rn.length),pe.write_shift(4,Rt.content.length),yt+=pe.l,oe.push(pe)),pe=nt(46),pe.write_shift(4,33639248),pe.write_shift(2,0),pe.write_shift(2,20),pe.write_shift(2,et),pe.write_shift(2,ze),pe.write_shift(4,0),pe.write_shift(-4,xi[At]),pe.write_shift(4,rn.length),pe.write_shift(4,Rt.content.length),pe.write_shift(2,pr.length),pe.write_shift(2,0),pe.write_shift(2,0),pe.write_shift(2,0),pe.write_shift(2,0),pe.write_shift(4,0),pe.write_shift(4,Jr),or+=pe.l,de.push(pe),or+=pr.length,de.push(pr),++At}return pe=nt(22),pe.write_shift(4,101010256),pe.write_shift(2,0),pe.write_shift(2,0),pe.write_shift(2,At),pe.write_shift(2,At),pe.write_shift(4,or),pe.write_shift(4,yt),pe.write_shift(2,0),Xn([Xn(oe),Xn(de),pe])}var vr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Si(G,fe){if(G.ctype)return G.ctype;var ne=G.name||"",oe=ne.match(/\.([^\.]+)$/);return oe&&vr[oe[1]]||fe&&(oe=(ne=fe).match(/[\.\\]([^\.\\])+$/),oe&&vr[oe[1]])?vr[oe[1]]:"application/octet-stream"}function ar(G){for(var fe=vf(G),ne=[],oe=0;oe<fe.length;oe+=76)ne.push(fe.slice(oe,oe+76));return ne.join(`\r
`)+`\r
`}function Yo(G){var fe=G.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(He){var Xe=He.charCodeAt(0).toString(16).toUpperCase();return"="+(Xe.length==1?"0"+Xe:Xe)});fe=fe.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),fe.charAt(0)==`
`&&(fe="=0D"+fe.slice(1)),fe=fe.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ne=[],oe=fe.split(`\r
`),de=0;de<oe.length;++de){var pe=oe[de];if(pe.length==0){ne.push("");continue}for(var ze=0;ze<pe.length;){var et=76,We=pe.slice(ze,ze+et);We.charAt(et-1)=="="?et--:We.charAt(et-2)=="="?et-=2:We.charAt(et-3)=="="&&(et-=3),We=pe.slice(ze,ze+et),ze+=et,ze<pe.length&&(We+="="),ne.push(We)}}return ne.join(`\r
`)}function Kr(G){for(var fe=[],ne=0;ne<G.length;++ne){for(var oe=G[ne];ne<=G.length&&oe.charAt(oe.length-1)=="=";)oe=oe.slice(0,oe.length-1)+G[++ne];fe.push(oe)}for(var de=0;de<fe.length;++de)fe[de]=fe[de].replace(/[=][0-9A-Fa-f]{2}/g,function(pe){return String.fromCharCode(parseInt(pe.slice(1),16))});return gs(fe.join(`\r
`))}function Ra(G,fe,ne){for(var oe="",de="",pe="",ze,et=0;et<10;++et){var We=fe[et];if(!We||We.match(/^\s*$/))break;var He=We.match(/^(.*?):\s*([^\s].*)$/);if(He)switch(He[1].toLowerCase()){case"content-location":oe=He[2].trim();break;case"content-type":pe=He[2].trim();break;case"content-transfer-encoding":de=He[2].trim();break}}switch(++et,de.toLowerCase()){case"base64":ze=gs(wl(fe.slice(et).join("")));break;case"quoted-printable":ze=Kr(fe.slice(et));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+de)}var Xe=Vr(G,oe.slice(ne.length),ze,{unsafe:!0});pe&&(Xe.ctype=pe)}function Ba(G,fe){if(je(G.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ne=fe&&fe.root||"",oe=(ur&&Buffer.isBuffer(G)?G.toString("binary"):je(G)).split(`\r
`),de=0,pe="";for(de=0;de<oe.length;++de)if(pe=oe[de],!!/^Content-Location:/i.test(pe)&&(pe=pe.slice(pe.indexOf("file")),ne||(ne=pe.slice(0,pe.lastIndexOf("/")+1)),pe.slice(0,ne.length)!=ne))for(;ne.length>0&&(ne=ne.slice(0,ne.length-1),ne=ne.slice(0,ne.lastIndexOf("/")+1),pe.slice(0,ne.length)!=ne););var ze=(oe[1]||"").match(/boundary="(.*?)"/);if(!ze)throw new Error("MAD cannot find boundary");var et="--"+(ze[1]||""),We=[],He=[],Xe={FileIndex:We,FullPaths:He};re(Xe);var yt,At=0;for(de=0;de<oe.length;++de){var Zt=oe[de];Zt!==et&&Zt!==et+"--"||(At++&&Ra(Xe,oe.slice(yt,de),ne),yt=de)}return Xe}function fi(G,fe){var ne=fe||{},oe=ne.boundary||"SheetJS";oe="------="+oe;for(var de=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+oe.slice(2)+'"',"","",""],pe=G.FullPaths[0],ze=pe,et=G.FileIndex[0],We=1;We<G.FullPaths.length;++We)if(ze=G.FullPaths[We].slice(pe.length),et=G.FileIndex[We],!(!et.size||!et.content||ze=="Sh33tJ5")){ze=ze.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(xi){return"_x"+xi.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(xi){return"_u"+xi.charCodeAt(0).toString(16)+"_"});for(var He=et.content,Xe=ur&&Buffer.isBuffer(He)?He.toString("binary"):je(He),yt=0,At=Math.min(1024,Xe.length),Zt=0,Nt=0;Nt<=At;++Nt)(Zt=Xe.charCodeAt(Nt))>=32&&Zt<128&&++yt;var Rt=yt>=At*4/5;de.push(oe),de.push("Content-Location: "+(ne.root||"file:///C:/SheetJS/")+ze),de.push("Content-Transfer-Encoding: "+(Rt?"quoted-printable":"base64")),de.push("Content-Type: "+Si(et,ze)),de.push(""),de.push(Rt?Yo(Xe):ar(Xe))}return de.push(oe+`--\r
`),de.join(`\r
`)}function xa(G){var fe={};return re(fe,G),fe}function Vr(G,fe,ne,oe){var de=oe&&oe.unsafe;de||re(G);var pe=!de&&Ir.find(G,fe);if(!pe){var ze=G.FullPaths[0];fe.slice(0,ze.length)==ze?ze=fe:(ze.slice(-1)!="/"&&(ze+="/"),ze=(ze+fe).replace("//","/")),pe={name:n(fe),type:2},G.FileIndex.push(pe),G.FullPaths.push(ze),de||Ir.utils.cfb_gc(G)}return pe.content=ne,pe.size=ne?ne.length:0,oe&&(oe.CLSID&&(pe.clsid=oe.CLSID),oe.mt&&(pe.mt=oe.mt),oe.ct&&(pe.ct=oe.ct)),pe}function $t(G,fe){re(G);var ne=Ir.find(G,fe);if(ne){for(var oe=0;oe<G.FileIndex.length;++oe)if(G.FileIndex[oe]==ne)return G.FileIndex.splice(oe,1),G.FullPaths.splice(oe,1),!0}return!1}function Hr(G,fe,ne){re(G);var oe=Ir.find(G,fe);if(oe){for(var de=0;de<G.FileIndex.length;++de)if(G.FileIndex[de]==oe)return G.FileIndex[de].name=n(ne),G.FullPaths[de]=ne,!0}return!1}function jr(G){le(G,!0)}return t.find=q,t.read=Be,t.parse=g,t.write=Ze,t.writeFile=Me,t.utils={cfb_new:xa,cfb_add:Vr,cfb_del:$t,cfb_mov:Hr,cfb_gc:jr,ReadShift:uf,CheckField:eC,prep_blob:xo,bconcat:Xn,use_zlib:A,_deflateRaw:Fi,_inflateRaw:tr,consts:Ye},t}(),Zh;function vI(i){return typeof i=="string"?pm(i):Array.isArray(i)?zO(i):i}function wf(i,t,e){if(typeof Zh<"u"&&Zh.writeFileSync)return e?Zh.writeFileSync(i,t,e):Zh.writeFileSync(i,t);if(typeof Deno<"u"){if(e&&typeof t=="string")switch(e){case"utf8":t=new TextEncoder(e).encode(t);break;case"binary":t=pm(t);break;default:throw new Error("Unsupported encoding "+e)}return Deno.writeFileSync(i,t)}var r=e=="utf8"?bl(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,i);if(typeof Blob<"u"){var n=new Blob([vI(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(n,i);if(typeof saveAs<"u")return saveAs(n,i);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(n);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:i,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=i,o.href=a,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var d=File(i);return d.open("w"),d.encoding="binary",Array.isArray(t)&&(t=Cf(t)),d.write(t),d.close(),t}catch(u){if(!u.message||!u.message.match(/onstruct/))throw u}throw new Error("cannot save file "+i)}function Jn(i){for(var t=Object.keys(i),e=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(i,t[r])&&e.push(t[r]);return e}function Kx(i,t){for(var e=[],r=Jn(i),n=0;n!==r.length;++n)e[i[r[n]][t]]==null&&(e[i[r[n]][t]]=r[n]);return e}function fv(i){for(var t=[],e=Jn(i),r=0;r!==e.length;++r)t[i[e[r]]]=e[r];return t}function gm(i){for(var t=[],e=Jn(i),r=0;r!==e.length;++r)t[i[e[r]]]=parseInt(e[r],10);return t}function _I(i){for(var t=[],e=Jn(i),r=0;r!==e.length;++r)t[i[e[r]]]==null&&(t[i[e[r]]]=[]),t[i[e[r]]].push(e[r]);return t}var rm=new Date(1899,11,30,0,0,0);function eo(i,t){var e=i.getTime();t&&(e-=1462*24*60*60*1e3);var r=rm.getTime()+(i.getTimezoneOffset()-rm.getTimezoneOffset())*6e4;return(e-r)/(24*60*60*1e3)}var qy=new Date,bI=rm.getTime()+(qy.getTimezoneOffset()-rm.getTimezoneOffset())*6e4,Jx=qy.getTimezoneOffset();function zy(i){var t=new Date;return t.setTime(i*24*60*60*1e3+bI),t.getTimezoneOffset()!==Jx&&t.setTime(t.getTime()+(t.getTimezoneOffset()-Jx)*6e4),t}var Qx=new Date("2017-02-19T19:06:09.000Z"),Wy=isNaN(Qx.getFullYear())?new Date("2/19/17"):Qx,xI=Wy.getFullYear()==2017;function La(i,t){var e=new Date(i);if(xI)return t>0?e.setTime(e.getTime()+e.getTimezoneOffset()*60*1e3):t<0&&e.setTime(e.getTime()-e.getTimezoneOffset()*60*1e3),e;if(i instanceof Date)return i;if(Wy.getFullYear()==1917&&!isNaN(e.getFullYear())){var r=e.getFullYear();return i.indexOf(""+r)>-1||e.setFullYear(e.getFullYear()+100),e}var n=i.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+n[0],+n[1]-1,+n[2],+n[3]||0,+n[4]||0,+n[5]||0);return i.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function vm(i,t){if(ur&&Buffer.isBuffer(i)){if(t){if(i[0]==255&&i[1]==254)return bl(i.slice(2).toString("utf16le"));if(i[1]==254&&i[2]==255)return bl(qO(i.slice(2).toString("binary")))}return i.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(i[0]==255&&i[1]==254)return bl(new TextDecoder("utf-16le").decode(i.slice(2)));if(i[0]==254&&i[1]==255)return bl(new TextDecoder("utf-16be").decode(i.slice(2)))}var e={"\u20AC":"\x80","\u201A":"\x82",\u0192:"\x83","\u201E":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87","\u02C6":"\x88","\u2030":"\x89",\u0160:"\x8A","\u2039":"\x8B",\u0152:"\x8C",\u017D:"\x8E","\u2018":"\x91","\u2019":"\x92","\u201C":"\x93","\u201D":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02DC":"\x98","\u2122":"\x99",\u0161:"\x9A","\u203A":"\x9B",\u0153:"\x9C",\u017E:"\x9E",\u0178:"\x9F"};return Array.isArray(i)&&(i=new Uint8Array(i)),new TextDecoder("latin1").decode(i).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(a){return e[a]||a})}catch{}for(var r=[],n=0;n!=i.length;++n)r.push(String.fromCharCode(i[n]));return r.join("")}function to(i){if(typeof JSON<"u"&&!Array.isArray(i))return JSON.parse(JSON.stringify(i));if(typeof i!="object"||i==null)return i;if(i instanceof Date)return new Date(i.getTime());var t={};for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=to(i[e]));return t}function cn(i,t){for(var e="";e.length<t;)e+=i;return e}function yl(i){var t=Number(i);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(i))return t;var e=1,r=i.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return e*=100,""});return!isNaN(t=Number(r))||(r=r.replace(/[(](.*)[)]/,function(n,a){return e=-e,a}),!isNaN(t=Number(r)))?t/e:t}var yI=["january","february","march","april","may","june","july","august","september","october","november","december"];function _f(i){var t=new Date(i),e=new Date(NaN),r=t.getYear(),n=t.getMonth(),a=t.getDate();if(isNaN(a))return e;var o=i.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&yI.indexOf(o)==-1)return e}else if(o.match(/[a-z]/))return e;return r<0||r>8099?e:(n>0||a>1)&&r!=101?t:i.match(/[^-0-9:,\/\\]/)?e:t}function Wi(i,t,e){if(i.FullPaths){if(typeof e=="string"){var r;return ur?r=El(e):r=WO(e),Ir.utils.cfb_add(i,t,r)}Ir.utils.cfb_add(i,t,e)}else i.file(t,e)}function pv(){return Ir.utils.cfb_new()}var En=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`;var CI={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},hv=fv(CI);var mv=/[&<>'"]/g,wI=/[\u0000-\u0008\u000b-\u001f]/g;function wr(i){var t=i+"";return t.replace(mv,function(e){return hv[e]}).replace(wI,function(e){return"_x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+"_"})}function ey(i){return wr(i).replace(/ /g,"_x0020_")}var Hy=/[\u0000-\u001f]/g;function SI(i){var t=i+"";return t.replace(mv,function(e){return hv[e]}).replace(/\n/g,"<br/>").replace(Hy,function(e){return"&#x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+";"})}function EI(i){var t=i+"";return t.replace(mv,function(e){return hv[e]}).replace(Hy,function(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"})}function PI(i){return i.replace(/(\r\n|[\r\n])/g,"&#10;")}function MI(i){switch(i){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Q1(i){for(var t="",e=0,r=0,n=0,a=0,o=0,d=0;e<i.length;){if(r=i.charCodeAt(e++),r<128){t+=String.fromCharCode(r);continue}if(n=i.charCodeAt(e++),r>191&&r<224){o=(r&31)<<6,o|=n&63,t+=String.fromCharCode(o);continue}if(a=i.charCodeAt(e++),r<240){t+=String.fromCharCode((r&15)<<12|(n&63)<<6|a&63);continue}o=i.charCodeAt(e++),d=((r&7)<<18|(n&63)<<12|(a&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(d>>>10&1023)),t+=String.fromCharCode(56320+(d&1023))}return t}function ty(i){var t=wd(2*i.length),e,r,n=1,a=0,o=0,d;for(r=0;r<i.length;r+=n)n=1,(d=i.charCodeAt(r))<128?e=d:d<224?(e=(d&31)*64+(i.charCodeAt(r+1)&63),n=2):d<240?(e=(d&15)*4096+(i.charCodeAt(r+1)&63)*64+(i.charCodeAt(r+2)&63),n=3):(n=4,e=(d&7)*262144+(i.charCodeAt(r+1)&63)*4096+(i.charCodeAt(r+2)&63)*64+(i.charCodeAt(r+3)&63),e-=65536,o=55296+(e>>>10&1023),e=56320+(e&1023)),o!==0&&(t[a++]=o&255,t[a++]=o>>>8,o=0),t[a++]=e%256,t[a++]=e>>>8;return t.slice(0,a).toString("ucs2")}function iy(i){return El(i,"binary").toString("utf8")}var Xh="foo bar baz\xE2\x98\x83\xF0\x9F\x8D\xA3",df=ur&&(iy(Xh)==Q1(Xh)&&iy||ty(Xh)==Q1(Xh)&&ty)||Q1,bl=ur?function(i){return El(i,"utf8").toString("binary")}:function(i){for(var t=[],e=0,r=0,n=0;e<i.length;)switch(r=i.charCodeAt(e++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,n=i.charCodeAt(e++)-56320+(r<<10),t.push(String.fromCharCode(240+(n>>18&7))),t.push(String.fromCharCode(144+(n>>12&63))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(r&63)))}return t.join("")};var TI=function(){var i=[["nbsp"," "],["middot","\xB7"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(e){for(var r=e.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),n=0;n<i.length;++n)r=r.replace(i[n][0],i[n][1]);return r}}();var Gy=/(^\s|\s$|\n)/;function Yn(i,t){return"<"+i+(t.match(Gy)?' xml:space="preserve"':"")+">"+t+"</"+i+">"}function bf(i){return Jn(i).map(function(t){return" "+t+'="'+i[t]+'"'}).join("")}function Dt(i,t,e){return"<"+i+(e!=null?bf(e):"")+(t!=null?(t.match(Gy)?' xml:space="preserve"':"")+">"+t+"</"+i:"/")+">"}function sv(i,t){try{return i.toISOString().replace(/\.\d*/,"")}catch(e){if(t)throw e}return""}function kI(i,t){switch(typeof i){case"string":var e=Dt("vt:lpwstr",wr(i));return t&&(e=e.replace(/&quot;/g,"_x0022_")),e;case"number":return Dt((i|0)==i?"vt:i4":"vt:r8",wr(String(i)));case"boolean":return Dt("vt:bool",i?"true":"false")}if(i instanceof Date)return Dt("vt:filetime",sv(i));throw new Error("Unable to serialize "+i)}var Bn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Du=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],yo={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function AI(i,t){for(var e=1-2*(i[t+7]>>>7),r=((i[t+7]&127)<<4)+(i[t+6]>>>4&15),n=i[t+6]&15,a=5;a>=0;--a)n=n*256+i[t+a];return r==2047?n==0?e*(1/0):NaN:(r==0?r=-1022:(r-=1023,n+=Math.pow(2,52)),e*Math.pow(2,r-52)*n)}function OI(i,t,e){var r=(t<0||1/t==-1/0?1:0)<<7,n=0,a=0,o=r?-t:t;isFinite(o)?o==0?n=a=0:(n=Math.floor(Math.log(o)/Math.LN2),a=o*Math.pow(2,52-n),n<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?n=-1022:(a-=Math.pow(2,52),n+=1023)):(n=2047,a=isNaN(t)?26985:0);for(var d=0;d<=5;++d,a/=256)i[e+d]=a&255;i[e+6]=(n&15)<<4|a&15,i[e+7]=n>>4|r}var ry=function(i){for(var t=[],e=10240,r=0;r<i[0].length;++r)if(i[0][r])for(var n=0,a=i[0][r].length;n<a;n+=e)t.push.apply(t,i[0][r].slice(n,n+e));return t},ny=ur?function(i){return i[0].length>0&&Buffer.isBuffer(i[0][0])?Buffer.concat(i[0].map(function(t){return Buffer.isBuffer(t)?t:El(t)})):ry(i)}:ry,ay=function(i,t,e){for(var r=[],n=t;n<e;n+=2)r.push(String.fromCharCode(cf(i,n)));return r.join("").replace(ku,"")},_m=ur?function(i,t,e){return Buffer.isBuffer(i)?i.toString("utf16le",t,e).replace(ku,""):ay(i,t,e)}:ay,oy=function(i,t,e){for(var r=[],n=t;n<t+e;++n)r.push(("0"+i[n].toString(16)).slice(-2));return r.join("")},$y=ur?function(i,t,e){return Buffer.isBuffer(i)?i.toString("hex",t,t+e):oy(i,t,e)}:oy,sy=function(i,t,e){for(var r=[],n=t;n<e;n++)r.push(String.fromCharCode(Mu(i,n)));return r.join("")},Ru=ur?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf8",e,r):sy(t,e,r)}:sy,Zy=function(i,t){var e=Rn(i,t);return e>0?Ru(i,t+4,t+4+e-1):""},gv=Zy,Xy=function(i,t){var e=Rn(i,t);return e>0?Ru(i,t+4,t+4+e-1):""},vv=Xy,Yy=function(i,t){var e=2*Rn(i,t);return e>0?Ru(i,t+4,t+4+e-1):""},_v=Yy,Ky=function(t,e){var r=Rn(t,e);return r>0?_m(t,e+4,e+4+r):""},bv=Ky,Jy=function(i,t){var e=Rn(i,t);return e>0?Ru(i,t+4,t+4+e):""},xv=Jy,Qy=function(i,t){return AI(i,t)},nm=Qy,yv=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};ur&&(gv=function(t,e){if(!Buffer.isBuffer(t))return Zy(t,e);var r=t.readUInt32LE(e);return r>0?t.toString("utf8",e+4,e+4+r-1):""},vv=function(t,e){if(!Buffer.isBuffer(t))return Xy(t,e);var r=t.readUInt32LE(e);return r>0?t.toString("utf8",e+4,e+4+r-1):""},_v=function(t,e){if(!Buffer.isBuffer(t))return Yy(t,e);var r=2*t.readUInt32LE(e);return t.toString("utf16le",e+4,e+4+r-1)},bv=function(t,e){if(!Buffer.isBuffer(t))return Ky(t,e);var r=t.readUInt32LE(e);return t.toString("utf16le",e+4,e+4+r)},xv=function(t,e){if(!Buffer.isBuffer(t))return Jy(t,e);var r=t.readUInt32LE(e);return t.toString("utf8",e+4,e+4+r)},nm=function(t,e){return Buffer.isBuffer(t)?t.readDoubleLE(e):Qy(t,e)},yv=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});function II(){_m=function(i,t,e){return Dr.utils.decode(1200,i.slice(t,e)).replace(ku,"")},Ru=function(i,t,e){return Dr.utils.decode(65001,i.slice(t,e))},gv=function(i,t){var e=Rn(i,t);return e>0?Dr.utils.decode(Nu,i.slice(t+4,t+4+e-1)):""},vv=function(i,t){var e=Rn(i,t);return e>0?Dr.utils.decode(yd,i.slice(t+4,t+4+e-1)):""},_v=function(i,t){var e=2*Rn(i,t);return e>0?Dr.utils.decode(1200,i.slice(t+4,t+4+e-1)):""},bv=function(i,t){var e=Rn(i,t);return e>0?Dr.utils.decode(1200,i.slice(t+4,t+4+e)):""},xv=function(i,t){var e=Rn(i,t);return e>0?Dr.utils.decode(65001,i.slice(t+4,t+4+e)):""}}typeof Dr<"u"&&II();var Mu=function(i,t){return i[t]},cf=function(i,t){return i[t+1]*256+i[t]},FI=function(i,t){var e=i[t+1]*256+i[t];return e<32768?e:(65535-e+1)*-1},Rn=function(i,t){return i[t+3]*(1<<24)+(i[t+2]<<16)+(i[t+1]<<8)+i[t]},xd=function(i,t){return i[t+3]<<24|i[t+2]<<16|i[t+1]<<8|i[t]},NI=function(i,t){return i[t]<<24|i[t+1]<<16|i[t+2]<<8|i[t+3]};function uf(i,t){var e="",r,n,a=[],o,d,u,p;switch(t){case"dbcs":if(p=this.l,ur&&Buffer.isBuffer(this))e=this.slice(this.l,this.l+2*i).toString("utf16le");else for(u=0;u<i;++u)e+=String.fromCharCode(cf(this,p)),p+=2;i*=2;break;case"utf8":e=Ru(this,this.l,this.l+i);break;case"utf16le":i*=2,e=_m(this,this.l,this.l+i);break;case"wstr":if(typeof Dr<"u")e=Dr.utils.decode(yd,this.slice(this.l,this.l+2*i));else return uf.call(this,i,"dbcs");i=2*i;break;case"lpstr-ansi":e=gv(this,this.l),i=4+Rn(this,this.l);break;case"lpstr-cp":e=vv(this,this.l),i=4+Rn(this,this.l);break;case"lpwstr":e=_v(this,this.l),i=4+2*Rn(this,this.l);break;case"lpp4":i=4+Rn(this,this.l),e=bv(this,this.l),i&2&&(i+=2);break;case"8lpp4":i=4+Rn(this,this.l),e=xv(this,this.l),i&3&&(i+=4-(i&3));break;case"cstr":for(i=0,e="";(o=Mu(this,this.l+i++))!==0;)a.push(Hh(o));e=a.join("");break;case"_wstr":for(i=0,e="";(o=cf(this,this.l+i))!==0;)a.push(Hh(o)),i+=2;i+=2,e=a.join("");break;case"dbcs-cont":for(e="",p=this.l,u=0;u<i;++u){if(this.lens&&this.lens.indexOf(p)!==-1)return o=Mu(this,p),this.l=p+1,d=uf.call(this,i-u,o?"dbcs-cont":"sbcs-cont"),a.join("")+d;a.push(Hh(cf(this,p))),p+=2}e=a.join(""),i*=2;break;case"cpstr":if(typeof Dr<"u"){e=Dr.utils.decode(yd,this.slice(this.l,this.l+i));break}case"sbcs-cont":for(e="",p=this.l,u=0;u!=i;++u){if(this.lens&&this.lens.indexOf(p)!==-1)return o=Mu(this,p),this.l=p+1,d=uf.call(this,i-u,o?"dbcs-cont":"sbcs-cont"),a.join("")+d;a.push(Hh(Mu(this,p))),p+=1}e=a.join("");break;default:switch(i){case 1:return r=Mu(this,this.l),this.l++,r;case 2:return r=(t==="i"?FI:cf)(this,this.l),this.l+=2,r;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(r=(i>0?xd:NI)(this,this.l),this.l+=4,r):(n=Rn(this,this.l),this.l+=4,n);case 8:case-8:if(t==="f")return i==8?n=nm(this,this.l):n=nm([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,n;i=8;case 16:e=$y(this,this.l,i);break}}return this.l+=i,e}var LI=function(i,t,e){i[e]=t&255,i[e+1]=t>>>8&255,i[e+2]=t>>>16&255,i[e+3]=t>>>24&255},DI=function(i,t,e){i[e]=t&255,i[e+1]=t>>8&255,i[e+2]=t>>16&255,i[e+3]=t>>24&255},RI=function(i,t,e){i[e]=t&255,i[e+1]=t>>>8&255};function BI(i,t,e){var r=0,n=0;if(e==="dbcs"){for(n=0;n!=t.length;++n)RI(this,t.charCodeAt(n),this.l+2*n);r=2*t.length}else if(e==="sbcs"){if(typeof Dr<"u"&&Nu==874)for(n=0;n!=t.length;++n){var a=Dr.utils.encode(Nu,t.charAt(n));this[this.l+n]=a[0]}else for(t=t.replace(/[^\x00-\x7F]/g,"_"),n=0;n!=t.length;++n)this[this.l+n]=t.charCodeAt(n)&255;r=t.length}else if(e==="hex"){for(;n<i;++n)this[this.l++]=parseInt(t.slice(2*n,2*n+2),16)||0;return this}else if(e==="utf16le"){var o=Math.min(this.l+i,this.length);for(n=0;n<Math.min(t.length,i);++n){var d=t.charCodeAt(n);this[this.l++]=d&255,this[this.l++]=d>>8}for(;this.l<o;)this[this.l++]=0;return this}else switch(i){case 1:r=1,this[this.l]=t&255;break;case 2:r=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:r=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:r=4,LI(this,t,this.l);break;case 8:if(r=8,e==="f"){OI(this,t,this.l);break}case 16:break;case-4:r=4,DI(this,t,this.l);break}return this.l+=r,this}function eC(i,t){var e=$y(this,this.l,i.length>>1);if(e!==i)throw new Error(t+"Expected "+i+" saw "+e);this.l+=i.length>>1}function xo(i,t){i.l=t,i.read_shift=uf,i.chk=eC,i.write_shift=BI}function Zs(i,t){i.l+=t}function nt(i){var t=wd(i);return xo(t,0),t}function Qa(){var i=[],t=ur?256:2048,e=function(p){var g=nt(p);return xo(g,0),g},r=e(t),n=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&i.push(r),r=null)},a=function(p){return r&&p<r.length-r.l?r:(n(),r=e(Math.max(p+1,t)))},o=function(){return n(),Xn(i)},d=function(p){n(),r=p,r.l==null&&(r.l=r.length),a(t)};return{next:a,push:d,end:o,_bufs:i}}function _t(i,t,e,r){var n=+t,a;if(!isNaN(n)){r||(r=OD[n].p||(e||[]).length||0),a=1+(n>=128?1:0)+1,r>=128&&++a,r>=16384&&++a,r>=2097152&&++a;var o=i.next(a);n<=127?o.write_shift(1,n):(o.write_shift(1,(n&127)+128),o.write_shift(1,n>>7));for(var d=0;d!=4;++d)if(r>=128)o.write_shift(1,(r&127)+128),r>>=7;else{o.write_shift(1,r);break}r>0&&yv(e)&&i.push(e)}}function ff(i,t,e){var r=to(i);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!e||e.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function ly(i,t,e){var r=to(i);return r.s=ff(r.s,t.s,e),r.e=ff(r.e,t.s,e),r}function pf(i,t){if(i.cRel&&i.c<0)for(i=to(i);i.c<0;)i.c+=t>8?16384:256;if(i.rRel&&i.r<0)for(i=to(i);i.r<0;)i.r+=t>8?1048576:t>5?65536:16384;var e=Sr(i);return!i.cRel&&i.cRel!=null&&(e=jI(e)),!i.rRel&&i.rRel!=null&&(e=UI(e)),e}function ev(i,t){return i.s.r==0&&!i.s.rRel&&i.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!i.e.rRel?(i.s.cRel?"":"$")+fa(i.s.c)+":"+(i.e.cRel?"":"$")+fa(i.e.c):i.s.c==0&&!i.s.cRel&&i.e.c==(t.biff>=12?16383:255)&&!i.e.cRel?(i.s.rRel?"":"$")+Kn(i.s.r)+":"+(i.e.rRel?"":"$")+Kn(i.e.r):pf(i.s,t.biff)+":"+pf(i.e,t.biff)}function Cv(i){return parseInt(VI(i),10)-1}function Kn(i){return""+(i+1)}function UI(i){return i.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function VI(i){return i.replace(/\$(\d+)$/,"$1")}function wv(i){for(var t=qI(i),e=0,r=0;r!==t.length;++r)e=26*e+t.charCodeAt(r)-64;return e-1}function fa(i){if(i<0)throw new Error("invalid column "+i);var t="";for(++i;i;i=Math.floor((i-1)/26))t=String.fromCharCode((i-1)%26+65)+t;return t}function jI(i){return i.replace(/^([A-Z])/,"$$$1")}function qI(i){return i.replace(/^\$([A-Z])/,"$1")}function zI(i){return i.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Un(i){for(var t=0,e=0,r=0;r<i.length;++r){var n=i.charCodeAt(r);n>=48&&n<=57?t=10*t+(n-48):n>=65&&n<=90&&(e=26*e+(n-64))}return{c:e-1,r:t-1}}function Sr(i){for(var t=i.c+1,e="";t;t=(t-1)/26|0)e=String.fromCharCode((t-1)%26+65)+e;return e+(i.r+1)}function Co(i){var t=i.indexOf(":");return t==-1?{s:Un(i),e:Un(i)}:{s:Un(i.slice(0,t)),e:Un(i.slice(t+1))}}function Sn(i,t){return typeof t>"u"||typeof t=="number"?Sn(i.s,i.e):(typeof i!="string"&&(i=Sr(i)),typeof t!="string"&&(t=Sr(t)),i==t?i:i+":"+t)}function Wr(i){var t={s:{c:0,r:0},e:{c:0,r:0}},e=0,r=0,n=0,a=i.length;for(e=0;r<a&&!((n=i.charCodeAt(r)-64)<1||n>26);++r)e=26*e+n;for(t.s.c=--e,e=0;r<a&&!((n=i.charCodeAt(r)-48)<0||n>9);++r)e=10*e+n;if(t.s.r=--e,r===a||n!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,e=0;r!=a&&!((n=i.charCodeAt(r)-64)<1||n>26);++r)e=26*e+n;for(t.e.c=--e,e=0;r!=a&&!((n=i.charCodeAt(r)-48)<0||n>9);++r)e=10*e+n;return t.e.r=--e,t}function cy(i,t){var e=i.t=="d"&&t instanceof Date;if(i.z!=null)try{return i.w=Pc(i.z,e?eo(t):t)}catch{}try{return i.w=Pc((i.XF||{}).numFmtId||(e?14:0),e?eo(t):t)}catch{return""+t}}function Sl(i,t,e){return i==null||i.t==null||i.t=="z"?"":i.w!==void 0?i.w:(i.t=="d"&&!i.z&&e&&e.dateNF&&(i.z=e.dateNF),i.t=="e"?Sf[i.v]||i.v:t==null?cy(i,i.v):cy(i,t))}function Pd(i,t){var e=t&&t.sheet?t.sheet:"Sheet1",r={};return r[e]=i,{SheetNames:[e],Sheets:r}}function tC(i,t,e){var r=e||{},n=i?Array.isArray(i):r.dense;$s!=null&&n==null&&(n=$s);var a=i||(n?[]:{}),o=0,d=0;if(a&&r.origin!=null){if(typeof r.origin=="number")o=r.origin;else{var u=typeof r.origin=="string"?Un(r.origin):r.origin;o=u.r,d=u.c}a["!ref"]||(a["!ref"]="A1:A1")}var p={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var g=Wr(a["!ref"]);p.s.c=g.s.c,p.s.r=g.s.r,p.e.c=Math.max(p.e.c,g.e.c),p.e.r=Math.max(p.e.r,g.e.r),o==-1&&(p.e.r=o=g.e.r+1)}for(var y=0;y!=t.length;++y)if(t[y]){if(!Array.isArray(t[y]))throw new Error("aoa_to_sheet expects an array of arrays");for(var w=0;w!=t[y].length;++w)if(!(typeof t[y][w]>"u")){var x={v:t[y][w]},T=o+y,E=d+w;if(p.s.r>T&&(p.s.r=T),p.s.c>E&&(p.s.c=E),p.e.r<T&&(p.e.r=T),p.e.c<E&&(p.e.c=E),t[y][w]&&typeof t[y][w]=="object"&&!Array.isArray(t[y][w])&&!(t[y][w]instanceof Date))x=t[y][w];else if(Array.isArray(x.v)&&(x.f=t[y][w][1],x.v=x.v[0]),x.v===null)if(x.f)x.t="n";else if(r.nullError)x.t="e",x.v=0;else if(r.sheetStubs)x.t="z";else continue;else typeof x.v=="number"?x.t="n":typeof x.v=="boolean"?x.t="b":x.v instanceof Date?(x.z=r.dateNF||dn[14],r.cellDates?(x.t="d",x.w=Pc(x.z,eo(x.v))):(x.t="n",x.v=eo(x.v),x.w=Pc(x.z,x.v))):x.t="s";if(n)a[T]||(a[T]=[]),a[T][E]&&a[T][E].z&&(x.z=a[T][E].z),a[T][E]=x;else{var k=Sr({c:E,r:T});a[k]&&a[k].z&&(x.z=a[k].z),a[k]=x}}}return p.s.c<1e7&&(a["!ref"]=Sn(p)),a}function Bu(i,t){return tC(null,i,t)}function WI(i){return i.read_shift(4,"i")}function _s(i,t){return t||(t=nt(4)),t.write_shift(4,i),t}function pa(i){var t=i.read_shift(4);return t===0?"":i.read_shift(t,"dbcs")}function Vn(i,t){var e=!1;return t==null&&(e=!0,t=nt(4+2*i.length)),t.write_shift(4,i.length),i.length>0&&t.write_shift(0,i,"dbcs"),e?t.slice(0,t.l):t}function HI(i){return{ich:i.read_shift(2),ifnt:i.read_shift(2)}}function GI(i,t){return t||(t=nt(4)),t.write_shift(2,i.ich||0),t.write_shift(2,i.ifnt||0),t}function Sv(i,t){var e=i.l,r=i.read_shift(1),n=pa(i),a=[],o={t:n,h:n};if(r&1){for(var d=i.read_shift(4),u=0;u!=d;++u)a.push(HI(i));o.r=a}else o.r=[{ich:0,ifnt:0}];return i.l=e+t,o}function $I(i,t){var e=!1;return t==null&&(e=!0,t=nt(15+4*i.t.length)),t.write_shift(1,0),Vn(i.t,t),e?t.slice(0,t.l):t}var ZI=Sv;function XI(i,t){var e=!1;return t==null&&(e=!0,t=nt(23+4*i.t.length)),t.write_shift(1,1),Vn(i.t,t),t.write_shift(4,1),GI({ich:0,ifnt:0},t),e?t.slice(0,t.l):t}function Xo(i){var t=i.read_shift(4),e=i.read_shift(2);return e+=i.read_shift(1)<<16,i.l++,{c:t,iStyleRef:e}}function Md(i,t){return t==null&&(t=nt(8)),t.write_shift(-4,i.c),t.write_shift(3,i.iStyleRef||i.s),t.write_shift(1,0),t}function Td(i){var t=i.read_shift(2);return t+=i.read_shift(1)<<16,i.l++,{c:-1,iStyleRef:t}}function kd(i,t){return t==null&&(t=nt(4)),t.write_shift(3,i.iStyleRef||i.s),t.write_shift(1,0),t}var YI=pa,iC=Vn;function Ev(i){var t=i.read_shift(4);return t===0||t===4294967295?"":i.read_shift(t,"dbcs")}function am(i,t){var e=!1;return t==null&&(e=!0,t=nt(127)),t.write_shift(4,i.length>0?i.length:4294967295),i.length>0&&t.write_shift(0,i,"dbcs"),e?t.slice(0,t.l):t}var KI=pa,lv=Ev,Pv=am;function rC(i){var t=i.slice(i.l,i.l+4),e=t[0]&1,r=t[0]&2;i.l+=4;var n=r===0?nm([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):xd(t,0)>>2;return e?n/100:n}function nC(i,t){t==null&&(t=nt(4));var e=0,r=0,n=i*100;if(i==(i|0)&&i>=-(1<<29)&&i<1<<29?r=1:n==(n|0)&&n>=-(1<<29)&&n<1<<29&&(r=1,e=1),r)t.write_shift(-4,((e?n:i)<<2)+(e+2));else throw new Error("unsupported RkNumber "+i)}function aC(i){var t={s:{},e:{}};return t.s.r=i.read_shift(4),t.e.r=i.read_shift(4),t.s.c=i.read_shift(4),t.e.c=i.read_shift(4),t}function JI(i,t){return t||(t=nt(16)),t.write_shift(4,i.s.r),t.write_shift(4,i.e.r),t.write_shift(4,i.s.c),t.write_shift(4,i.e.c),t}var Ad=aC,Uu=JI;function Vu(i){if(i.length-i.l<8)throw"XLS Xnum Buffer underflow";return i.read_shift(8,"f")}function Sd(i,t){return(t||nt(8)).write_shift(8,i,"f")}function QI(i){var t={},e=i.read_shift(1),r=e>>>1,n=i.read_shift(1),a=i.read_shift(2,"i"),o=i.read_shift(1),d=i.read_shift(1),u=i.read_shift(1);switch(i.l++,r){case 0:t.auto=1;break;case 1:t.index=n;var p=l8[n];p&&(t.rgb=xy(p));break;case 2:t.rgb=xy([o,d,u]);break;case 3:t.theme=n;break}return a!=0&&(t.tint=a>0?a/32767:a/32768),t}function om(i,t){if(t||(t=nt(8)),!i||i.auto)return t.write_shift(4,0),t.write_shift(4,0),t;i.index!=null?(t.write_shift(1,2),t.write_shift(1,i.index)):i.theme!=null?(t.write_shift(1,6),t.write_shift(1,i.theme)):(t.write_shift(1,5),t.write_shift(1,0));var e=i.tint||0;if(e>0?e*=32767:e<0&&(e*=32768),t.write_shift(2,e),!i.rgb||i.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var r=i.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),t.write_shift(1,parseInt(r.slice(0,2),16)),t.write_shift(1,parseInt(r.slice(2,4),16)),t.write_shift(1,parseInt(r.slice(4,6),16)),t.write_shift(1,255)}return t}function e8(i){var t=i.read_shift(1);i.l++;var e={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return e}function t8(i,t){t||(t=nt(2));var e=(i.italic?2:0)|(i.strike?8:0)|(i.outline?16:0)|(i.shadow?32:0)|(i.condense?64:0)|(i.extend?128:0);return t.write_shift(1,e),t.write_shift(1,0),t}var oC=2,bo=3,Yh=11;var sm=19;var Kh=64,i8=65,r8=71;var n8=4108,a8=4126,Zn=80;var dy={1:{n:"CodePage",t:oC},2:{n:"Category",t:Zn},3:{n:"PresentationFormat",t:Zn},4:{n:"ByteCount",t:bo},5:{n:"LineCount",t:bo},6:{n:"ParagraphCount",t:bo},7:{n:"SlideCount",t:bo},8:{n:"NoteCount",t:bo},9:{n:"HiddenCount",t:bo},10:{n:"MultimediaClipCount",t:bo},11:{n:"ScaleCrop",t:Yh},12:{n:"HeadingPairs",t:n8},13:{n:"TitlesOfParts",t:a8},14:{n:"Manager",t:Zn},15:{n:"Company",t:Zn},16:{n:"LinksUpToDate",t:Yh},17:{n:"CharacterCount",t:bo},19:{n:"SharedDoc",t:Yh},22:{n:"HyperlinksChanged",t:Yh},23:{n:"AppVersion",t:bo,p:"version"},24:{n:"DigSig",t:i8},26:{n:"ContentType",t:Zn},27:{n:"ContentStatus",t:Zn},28:{n:"Language",t:Zn},29:{n:"Version",t:Zn},255:{},2147483648:{n:"Locale",t:sm},2147483651:{n:"Behavior",t:sm},1919054434:{}},uy={1:{n:"CodePage",t:oC},2:{n:"Title",t:Zn},3:{n:"Subject",t:Zn},4:{n:"Author",t:Zn},5:{n:"Keywords",t:Zn},6:{n:"Comments",t:Zn},7:{n:"Template",t:Zn},8:{n:"LastAuthor",t:Zn},9:{n:"RevNumber",t:Zn},10:{n:"EditTime",t:Kh},11:{n:"LastPrinted",t:Kh},12:{n:"CreatedDate",t:Kh},13:{n:"ModifiedDate",t:Kh},14:{n:"PageCount",t:bo},15:{n:"WordCount",t:bo},16:{n:"CharCount",t:bo},17:{n:"Thumbnail",t:r8},18:{n:"Application",t:Zn},19:{n:"DocSecurity",t:bo},255:{},2147483648:{n:"Locale",t:sm},2147483651:{n:"Behavior",t:sm},1919054434:{}};function o8(i){return i.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var s8=o8([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),l8=to(s8),Sf={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"};var c8={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Jh={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function sC(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function lC(i,t){var e=_I(c8),r=[],n;r[r.length]=En,r[r.length]=Dt("Types",null,{xmlns:Bn.CT,"xmlns:xsd":Bn.xsd,"xmlns:xsi":Bn.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(u){return Dt("Default",null,{Extension:u[0],ContentType:u[1]})}));var a=function(u){i[u]&&i[u].length>0&&(n=i[u][0],r[r.length]=Dt("Override",null,{PartName:(n[0]=="/"?"":"/")+n,ContentType:Jh[u][t.bookType]||Jh[u].xlsx}))},o=function(u){(i[u]||[]).forEach(function(p){r[r.length]=Dt("Override",null,{PartName:(p[0]=="/"?"":"/")+p,ContentType:Jh[u][t.bookType]||Jh[u].xlsx})})},d=function(u){(i[u]||[]).forEach(function(p){r[r.length]=Dt("Override",null,{PartName:(p[0]=="/"?"":"/")+p,ContentType:e[u][0]})})};return a("workbooks"),o("sheets"),o("charts"),d("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(d),d("vba"),d("comments"),d("threadedcomments"),d("drawings"),o("metadata"),d("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var cr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function cC(i){var t=i.lastIndexOf("/");return i.slice(0,t+1)+"_rels/"+i.slice(t+1)+".rels"}function Ou(i){var t=[En,Dt("Relationships",null,{xmlns:Bn.RELS})];return Jn(i["!id"]).forEach(function(e){t[t.length]=Dt("Relationship",null,i["!id"][e])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Cr(i,t,e,r,n,a){if(n||(n={}),i["!id"]||(i["!id"]={}),i["!idx"]||(i["!idx"]=1),t<0)for(t=i["!idx"];i["!id"]["rId"+t];++t);if(i["!idx"]=t+1,n.Id="rId"+t,n.Type=r,n.Target=e,a?n.TargetMode=a:[cr.HLINK,cr.XPATH,cr.XMISS].indexOf(n.Type)>-1&&(n.TargetMode="External"),i["!id"][n.Id])throw new Error("Cannot rewrite rId "+t);return i["!id"][n.Id]=n,i[("/"+n.Target).replace("//","/")]=n,t}function d8(i){var t=[En];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var e=0;e<i.length;++e)t.push('  <manifest:file-entry manifest:full-path="'+i[e][0]+'" manifest:media-type="'+i[e][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function fy(i,t,e){return['  <rdf:Description rdf:about="'+i+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(e||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function u8(i,t){return['  <rdf:Description rdf:about="'+i+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function f8(i){var t=[En];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var e=0;e!=i.length;++e)t.push(fy(i[e][0],i[e][1])),t.push(u8("",i[e][0]));return t.push(fy("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function dC(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+mf.version+"</meta:generator></office:meta></office:document-meta>"}var Cd=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function tv(i,t,e,r,n){n[i]!=null||t==null||t===""||(n[i]=t,t=wr(t),r[r.length]=e?Dt(i,t,e):Yn(i,t))}function uC(i,t){var e=t||{},r=[En,Dt("cp:coreProperties",null,{"xmlns:cp":Bn.CORE_PROPS,"xmlns:dc":Bn.dc,"xmlns:dcterms":Bn.dcterms,"xmlns:dcmitype":Bn.dcmitype,"xmlns:xsi":Bn.xsi})],n={};if(!i&&!e.Props)return r.join("");i&&(i.CreatedDate!=null&&tv("dcterms:created",typeof i.CreatedDate=="string"?i.CreatedDate:sv(i.CreatedDate,e.WTF),{"xsi:type":"dcterms:W3CDTF"},r,n),i.ModifiedDate!=null&&tv("dcterms:modified",typeof i.ModifiedDate=="string"?i.ModifiedDate:sv(i.ModifiedDate,e.WTF),{"xsi:type":"dcterms:W3CDTF"},r,n));for(var a=0;a!=Cd.length;++a){var o=Cd[a],d=e.Props&&e.Props[o[1]]!=null?e.Props[o[1]]:i?i[o[1]]:null;d===!0?d="1":d===!1?d="0":typeof d=="number"&&(d=String(d)),d!=null&&tv(o[0],d,null,r,n)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var Iu=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],fC=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function pC(i){var t=[],e=Dt;return i||(i={}),i.Application="SheetJS",t[t.length]=En,t[t.length]=Dt("Properties",null,{xmlns:Bn.EXT_PROPS,"xmlns:vt":Bn.vt}),Iu.forEach(function(r){if(i[r[1]]!==void 0){var n;switch(r[2]){case"string":n=wr(String(i[r[1]]));break;case"bool":n=i[r[1]]?"true":"false";break}n!==void 0&&(t[t.length]=e(r[0],n))}}),t[t.length]=e("HeadingPairs",e("vt:vector",e("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+e("vt:variant",e("vt:i4",String(i.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=e("TitlesOfParts",e("vt:vector",i.SheetNames.map(function(r){return"<vt:lpstr>"+wr(r)+"</vt:lpstr>"}).join(""),{size:i.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function hC(i){var t=[En,Dt("Properties",null,{xmlns:Bn.CUST_PROPS,"xmlns:vt":Bn.vt})];if(!i)return t.join("");var e=1;return Jn(i).forEach(function(n){++e,t[t.length]=Dt("property",kI(i[n],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e,name:wr(n)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var py={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function p8(i,t){var e=[];return Jn(py).map(function(r){for(var n=0;n<Cd.length;++n)if(Cd[n][1]==r)return Cd[n];for(n=0;n<Iu.length;++n)if(Iu[n][1]==r)return Iu[n];throw r}).forEach(function(r){if(i[r[1]]!=null){var n=t&&t.Props&&t.Props[r[1]]!=null?t.Props[r[1]]:i[r[1]];switch(r[2]){case"date":n=new Date(n).toISOString().replace(/\.\d*Z/,"Z");break}typeof n=="number"?n=String(n):n===!0||n===!1?n=n?"1":"0":n instanceof Date&&(n=new Date(n).toISOString().replace(/\.\d*Z/,"")),e.push(Yn(py[r[1]]||r[1],n))}}),Dt("DocumentProperties",e.join(""),{xmlns:yo.o})}function h8(i,t){var e=["Worksheets","SheetNames"],r="CustomDocumentProperties",n=[];return i&&Jn(i).forEach(function(a){if(Object.prototype.hasOwnProperty.call(i,a)){for(var o=0;o<Cd.length;++o)if(a==Cd[o][1])return;for(o=0;o<Iu.length;++o)if(a==Iu[o][1])return;for(o=0;o<e.length;++o)if(a==e[o])return;var d=i[a],u="string";typeof d=="number"?(u="float",d=String(d)):d===!0||d===!1?(u="boolean",d=d?"1":"0"):d=String(d),n.push(Dt(ey(a),d,{"dt:dt":u}))}}),t&&Jn(t).forEach(function(a){if(Object.prototype.hasOwnProperty.call(t,a)&&!(i&&Object.prototype.hasOwnProperty.call(i,a))){var o=t[a],d="string";typeof o=="number"?(d="float",o=String(o)):o===!0||o===!1?(d="boolean",o=o?"1":"0"):o instanceof Date?(d="dateTime.tz",o=o.toISOString()):o=String(o),n.push(Dt(ey(a),o,{"dt:dt":d}))}}),"<"+r+' xmlns="'+yo.o+'">'+n.join("")+"</"+r+">"}function m8(i){var t=typeof i=="string"?new Date(Date.parse(i)):i,e=t.getTime()/1e3+11644473600,r=e%Math.pow(2,32),n=(e-r)/Math.pow(2,32);r*=1e7,n*=1e7;var a=r/Math.pow(2,32)|0;a>0&&(r=r%Math.pow(2,32),n+=a);var o=nt(8);return o.write_shift(4,r),o.write_shift(4,n),o}function hy(i,t){var e=nt(4),r=nt(4);switch(e.write_shift(4,i==80?31:i),i){case 3:r.write_shift(-4,t);break;case 5:r=nt(8),r.write_shift(8,t,"f");break;case 11:r.write_shift(4,t?1:0);break;case 64:r=m8(t);break;case 31:case 80:for(r=nt(4+2*(t.length+1)+(t.length%2?0:2)),r.write_shift(4,t.length+1),r.write_shift(0,t,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+i+" "+t)}return Xn([e,r])}var mC=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function g8(i){switch(typeof i){case"boolean":return 11;case"number":return(i|0)==i?3:5;case"string":return 31;case"object":if(i instanceof Date)return 64;break}return-1}function my(i,t,e){var r=nt(8),n=[],a=[],o=8,d=0,u=nt(8),p=nt(8);if(u.write_shift(4,2),u.write_shift(4,1200),p.write_shift(4,1),a.push(u),n.push(p),o+=8+u.length,!t){p=nt(8),p.write_shift(4,0),n.unshift(p);var g=[nt(4)];for(g[0].write_shift(4,i.length),d=0;d<i.length;++d){var y=i[d][0];for(u=nt(8+2*(y.length+1)+(y.length%2?0:2)),u.write_shift(4,d+2),u.write_shift(4,y.length+1),u.write_shift(0,y,"dbcs");u.l!=u.length;)u.write_shift(1,0);g.push(u)}u=Xn(g),a.unshift(u),o+=8+u.length}for(d=0;d<i.length;++d)if(!(t&&!t[i[d][0]])&&!(mC.indexOf(i[d][0])>-1||fC.indexOf(i[d][0])>-1)&&i[d][1]!=null){var w=i[d][1],x=0;if(t){x=+t[i[d][0]];var T=e[x];if(T.p=="version"&&typeof w=="string"){var E=w.split(".");w=(+E[0]<<16)+(+E[1]||0)}u=hy(T.t,w)}else{var k=g8(w);k==-1&&(k=31,w=String(w)),u=hy(k,w)}a.push(u),p=nt(8),p.write_shift(4,t?x:2+d),n.push(p),o+=8+u.length}var F=8*(a.length+1);for(d=0;d<a.length;++d)n[d].write_shift(4,F),F+=a[d].length;return r.write_shift(4,o),r.write_shift(4,a.length),Xn([r].concat(n).concat(a))}function gy(i,t,e,r,n,a){var o=nt(n?68:48),d=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Ir.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,n?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,n?68:48);var u=my(i,e,r);if(d.push(u),n){var p=my(n,null,null);o.write_shift(16,a,"hex"),o.write_shift(4,68+u.length),d.push(p)}return Xn(d)}function v8(i,t){t||(t=nt(i));for(var e=0;e<i;++e)t.write_shift(1,0);return t}function _8(i,t){return i.read_shift(t)===1}function Na(i,t){return t||(t=nt(2)),t.write_shift(2,+!!i),t}function gC(i){return i.read_shift(2,"u")}function Zo(i,t){return t||(t=nt(2)),t.write_shift(2,i),t}function vC(i,t,e){return e||(e=nt(2)),e.write_shift(1,t=="e"?+i:+!!i),e.write_shift(1,t=="e"?1:0),e}function _C(i,t,e){var r=i.read_shift(e&&e.biff>=12?2:1),n="sbcs-cont",a=yd;if(e&&e.biff>=8&&(yd=1200),!e||e.biff==8){var o=i.read_shift(1);o&&(n="dbcs-cont")}else e.biff==12&&(n="wstr");e.biff>=2&&e.biff<=5&&(n="cpstr");var d=r?i.read_shift(r,n):"";return yd=a,d}function b8(i){var t=i.t||"",e=1,r=nt(3+(e>1?2:0));r.write_shift(2,t.length),r.write_shift(1,(e>1?8:0)|1),e>1&&r.write_shift(2,e);var n=nt(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return Xn(a)}function x8(i,t,e){var r;if(e){if(e.biff>=2&&e.biff<=5)return i.read_shift(t,"cpstr");if(e.biff>=12)return i.read_shift(t,"dbcs-cont")}var n=i.read_shift(1);return n===0?r=i.read_shift(t,"sbcs-cont"):r=i.read_shift(t,"dbcs-cont"),r}function y8(i,t,e){var r=i.read_shift(e&&e.biff==2?1:2);return r===0?(i.l++,""):x8(i,r,e)}function C8(i,t,e){if(e.biff>5)return y8(i,t,e);var r=i.read_shift(1);return r===0?(i.l++,""):i.read_shift(r,e.biff<=4||!i.lens?"cpstr":"sbcs-cont")}function bC(i,t,e){return e||(e=nt(3+2*i.length)),e.write_shift(2,i.length),e.write_shift(1,1),e.write_shift(31,i,"utf16le"),e}function vy(i,t){t||(t=nt(6+i.length*2)),t.write_shift(4,1+i.length);for(var e=0;e<i.length;++e)t.write_shift(2,i.charCodeAt(e));return t.write_shift(2,0),t}function w8(i){var t=nt(512),e=0,r=i.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var n=r.indexOf("#"),a=n>-1?31:23;switch(r.charAt(0)){case"#":a=28;break;case".":a&=-3;break}t.write_shift(4,2),t.write_shift(4,a);var o=[8,6815827,6619237,4849780,83];for(e=0;e<o.length;++e)t.write_shift(4,o[e]);if(a==28)r=r.slice(1),vy(r,t);else if(a&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),e=0;e<o.length;++e)t.write_shift(1,parseInt(o[e],16));var d=n>-1?r.slice(0,n):r;for(t.write_shift(4,2*(d.length+1)),e=0;e<d.length;++e)t.write_shift(2,d.charCodeAt(e));t.write_shift(2,0),a&8&&vy(n>-1?r.slice(n+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),e=0;e<o.length;++e)t.write_shift(1,parseInt(o[e],16));for(var u=0;r.slice(u*3,u*3+3)=="../"||r.slice(u*3,u*3+3)=="..\\";)++u;for(t.write_shift(2,u),t.write_shift(4,r.length-3*u+1),e=0;e<r.length-3*u;++e)t.write_shift(1,r.charCodeAt(e+3*u)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),e=0;e<6;++e)t.write_shift(4,0)}return t.slice(0,t.l)}function Ed(i,t,e,r){return r||(r=nt(6)),r.write_shift(2,i),r.write_shift(2,t),r.write_shift(2,e||0),r}function S8(i,t,e){var r=e.biff>8?4:2,n=i.read_shift(r),a=i.read_shift(r,"i"),o=i.read_shift(r,"i");return[n,a,o]}function E8(i){var t=i.read_shift(2),e=i.read_shift(2),r=i.read_shift(2),n=i.read_shift(2);return{s:{c:r,r:t},e:{c:n,r:e}}}function xC(i,t){return t||(t=nt(8)),t.write_shift(2,i.s.r),t.write_shift(2,i.e.r),t.write_shift(2,i.s.c),t.write_shift(2,i.e.c),t}function Mv(i,t,e){var r=1536,n=16;switch(e.bookType){case"biff8":break;case"biff5":r=1280,n=8;break;case"biff4":r=4,n=6;break;case"biff3":r=3,n=6;break;case"biff2":r=2,n=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=nt(n);return a.write_shift(2,r),a.write_shift(2,t),n>4&&a.write_shift(2,29282),n>6&&a.write_shift(2,1997),n>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function P8(i,t){var e=!t||t.biff==8,r=nt(e?112:54);for(r.write_shift(t.biff==8?2:1,7),e&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(e?0:536870912));r.l<r.length;)r.write_shift(1,e?0:32);return r}function M8(i,t){var e=!t||t.biff>=8?2:1,r=nt(8+e*i.name.length);r.write_shift(4,i.pos),r.write_shift(1,i.hs||0),r.write_shift(1,i.dt),r.write_shift(1,i.name.length),t.biff>=8&&r.write_shift(1,1),r.write_shift(e*i.name.length,i.name,t.biff<8?"sbcs":"utf16le");var n=r.slice(0,r.l);return n.l=r.l,n}function T8(i,t){var e=nt(8);e.write_shift(4,i.Count),e.write_shift(4,i.Unique);for(var r=[],n=0;n<i.length;++n)r[n]=b8(i[n],t);var a=Xn([e].concat(r));return a.parts=[e.length].concat(r.map(function(o){return o.length})),a}function k8(){var i=nt(18);return i.write_shift(2,0),i.write_shift(2,0),i.write_shift(2,29280),i.write_shift(2,17600),i.write_shift(2,56),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(2,1),i.write_shift(2,500),i}function A8(i){var t=nt(18),e=1718;return i&&i.RTL&&(e|=64),t.write_shift(2,e),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function O8(i,t){var e=i.name||"Arial",r=t&&t.biff==5,n=r?15+e.length:16+2*e.length,a=nt(n);return a.write_shift(2,(i.sz||12)*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,e.length),r||a.write_shift(1,1),a.write_shift((r?1:2)*e.length,e,r?"sbcs":"utf16le"),a}function I8(i,t,e,r){var n=nt(10);return Ed(i,t,r,n),n.write_shift(4,e),n}function F8(i,t,e,r,n){var a=!n||n.biff==8,o=nt(8+ +a+(1+a)*e.length);return Ed(i,t,r,o),o.write_shift(2,e.length),a&&o.write_shift(1,1),o.write_shift((1+a)*e.length,e,a?"utf16le":"sbcs"),o}function N8(i,t,e,r){var n=e&&e.biff==5;r||(r=nt(n?3+t.length:5+2*t.length)),r.write_shift(2,i),r.write_shift(n?1:2,t.length),n||r.write_shift(1,1),r.write_shift((n?1:2)*t.length,t,n?"sbcs":"utf16le");var a=r.length>r.l?r.slice(0,r.l):r;return a.l==null&&(a.l=a.length),a}function L8(i,t){var e=t.biff==8||!t.biff?4:2,r=nt(2*e+6);return r.write_shift(e,i.s.r),r.write_shift(e,i.e.r+1),r.write_shift(2,i.s.c),r.write_shift(2,i.e.c+1),r.write_shift(2,0),r}function _y(i,t,e,r){var n=e&&e.biff==5;r||(r=nt(n?16:20)),r.write_shift(2,0),i.style?(r.write_shift(2,i.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,i.numFmtId||0),r.write_shift(2,t<<4));var a=0;return i.numFmtId>0&&n&&(a|=1024),r.write_shift(4,a),r.write_shift(4,0),n||r.write_shift(4,0),r.write_shift(2,0),r}function D8(i){var t=nt(8);return t.write_shift(4,0),t.write_shift(2,i[0]?i[0]+1:0),t.write_shift(2,i[1]?i[1]+1:0),t}function R8(i,t,e,r,n,a){var o=nt(8);return Ed(i,t,r,o),vC(e,a,o),o}function B8(i,t,e,r){var n=nt(14);return Ed(i,t,r,n),Sd(e,n),n}function U8(i,t,e){if(e.biff<8)return V8(i,t,e);for(var r=[],n=i.l+t,a=i.read_shift(e.biff>8?4:2);a--!==0;)r.push(S8(i,e.biff>8?12:6,e));if(i.l!=n)throw new Error("Bad ExternSheet: "+i.l+" != "+n);return r}function V8(i,t,e){i[i.l+1]==3&&i[i.l]++;var r=_C(i,t,e);return r.charCodeAt(0)==3?r.slice(1):r}function j8(i){var t=nt(2+i.length*8);t.write_shift(2,i.length);for(var e=0;e<i.length;++e)xC(i[e],t);return t}function q8(i){var t=nt(24),e=Un(i[0]);t.write_shift(2,e.r),t.write_shift(2,e.r),t.write_shift(2,e.c),t.write_shift(2,e.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<16;++n)t.write_shift(1,parseInt(r[n],16));return Xn([t,w8(i[1])])}function z8(i){var t=i[1].Tooltip,e=nt(10+2*(t.length+1));e.write_shift(2,2048);var r=Un(i[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n=0;n<t.length;++n)e.write_shift(2,t.charCodeAt(n));return e.write_shift(2,0),e}function W8(i){return i||(i=nt(4)),i.write_shift(2,1),i.write_shift(2,1),i}function H8(i,t,e){if(!e.cellStyles)return Zs(i,t);var r=e&&e.biff>=12?4:2,n=i.read_shift(r),a=i.read_shift(r),o=i.read_shift(r),d=i.read_shift(r),u=i.read_shift(2);r==2&&(i.l+=2);var p={s:n,e:a,w:o,ixfe:d,flags:u};return(e.biff>=5||!e.biff)&&(p.level=u>>8&7),p}function G8(i,t){var e=nt(12);e.write_shift(2,t),e.write_shift(2,t),e.write_shift(2,i.width*256),e.write_shift(2,0);var r=0;return i.hidden&&(r|=1),e.write_shift(1,r),r=i.level||0,e.write_shift(1,r),e.write_shift(2,0),e}function $8(i){for(var t=nt(2*i),e=0;e<i;++e)t.write_shift(2,e+1);return t}function Z8(i,t,e){var r=nt(15);return Pf(r,i,t),r.write_shift(8,e,"f"),r}function X8(i,t,e){var r=nt(9);return Pf(r,i,t),r.write_shift(2,e),r}var Y8=function(){var i={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=fv({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function e(d,u){var p=[],g=wd(1);switch(u.type){case"base64":g=gs(wl(d));break;case"binary":g=gs(d);break;case"buffer":case"array":g=d;break}xo(g,0);var y=g.read_shift(1),w=!!(y&136),x=!1,T=!1;switch(y){case 2:break;case 3:break;case 48:x=!0,w=!0;break;case 49:x=!0,w=!0;break;case 131:break;case 139:break;case 140:T=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+y.toString(16))}var E=0,k=521;y==2&&(E=g.read_shift(2)),g.l+=3,y!=2&&(E=g.read_shift(4)),E>1048576&&(E=1e6),y!=2&&(k=g.read_shift(2));var F=g.read_shift(2),D=u.codepage||1252;y!=2&&(g.l+=16,g.read_shift(1),g[g.l]!==0&&(D=i[g[g.l]]),g.l+=1,g.l+=2),T&&(g.l+=36);for(var X=[],he={},we=Math.min(g.length,y==2?521:k-10-(x?264:0)),Be=T?32:11;g.l<we&&g[g.l]!=13;)switch(he={},he.name=Dr.utils.decode(D,g.slice(g.l,g.l+Be)).replace(/[\u0000\r\n].*$/g,""),g.l+=Be,he.type=String.fromCharCode(g.read_shift(1)),y!=2&&!T&&(he.offset=g.read_shift(4)),he.len=g.read_shift(1),y==2&&(he.offset=g.read_shift(2)),he.dec=g.read_shift(1),he.name.length&&X.push(he),y!=2&&(g.l+=T?13:14),he.type){case"B":(!x||he.len!=8)&&u.WTF&&console.log("Skipping "+he.name+":"+he.type);break;case"G":case"P":u.WTF&&console.log("Skipping "+he.name+":"+he.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+he.type)}if(g[g.l]!==13&&(g.l=k-1),g.read_shift(1)!==13)throw new Error("DBF Terminator not found "+g.l+" "+g[g.l]);g.l=k;var re=0,ie=0;for(p[0]=[],ie=0;ie!=X.length;++ie)p[0][ie]=X[ie].name;for(;E-- >0;){if(g[g.l]===42){g.l+=F;continue}for(++g.l,p[++re]=[],ie=0,ie=0;ie!=X.length;++ie){var le=g.slice(g.l,g.l+X[ie].len);g.l+=X[ie].len,xo(le,0);var Ce=Dr.utils.decode(D,le);switch(X[ie].type){case"C":Ce.trim().length&&(p[re][ie]=Ce.replace(/\s+$/,""));break;case"D":Ce.length===8?p[re][ie]=new Date(+Ce.slice(0,4),+Ce.slice(4,6)-1,+Ce.slice(6,8)):p[re][ie]=Ce;break;case"F":p[re][ie]=parseFloat(Ce.trim());break;case"+":case"I":p[re][ie]=T?le.read_shift(-4,"i")^2147483648:le.read_shift(4,"i");break;case"L":switch(Ce.trim().toUpperCase()){case"Y":case"T":p[re][ie]=!0;break;case"N":case"F":p[re][ie]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+Ce+"|")}break;case"M":if(!w)throw new Error("DBF Unexpected MEMO for type "+y.toString(16));p[re][ie]="##MEMO##"+(T?parseInt(Ce.trim(),10):le.read_shift(4));break;case"N":Ce=Ce.replace(/\u0000/g,"").trim(),Ce&&Ce!="."&&(p[re][ie]=+Ce||0);break;case"@":p[re][ie]=new Date(le.read_shift(-8,"f")-621356832e5);break;case"T":p[re][ie]=new Date((le.read_shift(4)-2440588)*864e5+le.read_shift(4));break;case"Y":p[re][ie]=le.read_shift(4,"i")/1e4+le.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":p[re][ie]=-le.read_shift(-8,"f");break;case"B":if(x&&X[ie].len==8){p[re][ie]=le.read_shift(8,"f");break}case"G":case"P":le.l+=X[ie].len;break;case"0":if(X[ie].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+X[ie].type)}}}if(y!=2&&g.l<g.length&&g[g.l++]!=26)throw new Error("DBF EOF Marker missing "+(g.l-1)+" of "+g.length+" "+g[g.l-1].toString(16));return u&&u.sheetRows&&(p=p.slice(0,u.sheetRows)),u.DBF=X,p}function r(d,u){var p=u||{};p.dateNF||(p.dateNF="yyyymmdd");var g=Bu(e(d,p),p);return g["!cols"]=p.DBF.map(function(y){return{wch:y.len,DBF:y}}),delete p.DBF,g}function n(d,u){try{return Pd(r(d,u),u)}catch(p){if(u&&u.WTF)throw p}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function o(d,u){var p=u||{};if(+p.codepage>=0&&gf(+p.codepage),p.type=="string")throw new Error("Cannot write DBF to JS string");var g=Qa(),y=fm(d,{header:1,raw:!0,cellDates:!0}),w=y[0],x=y.slice(1),T=d["!cols"]||[],E=0,k=0,F=0,D=1;for(E=0;E<w.length;++E){if(((T[E]||{}).DBF||{}).name){w[E]=T[E].DBF.name,++F;continue}if(w[E]!=null){if(++F,typeof w[E]=="number"&&(w[E]=w[E].toString(10)),typeof w[E]!="string")throw new Error("DBF Invalid column name "+w[E]+" |"+typeof w[E]+"|");if(w.indexOf(w[E])!==E){for(k=0;k<1024;++k)if(w.indexOf(w[E]+"_"+k)==-1){w[E]+="_"+k;break}}}}var X=Wr(d["!ref"]),he=[],we=[],Be=[];for(E=0;E<=X.e.c-X.s.c;++E){var re="",ie="",le=0,Ce=[];for(k=0;k<x.length;++k)x[k][E]!=null&&Ce.push(x[k][E]);if(Ce.length==0||w[E]==null){he[E]="?";continue}for(k=0;k<Ce.length;++k){switch(typeof Ce[k]){case"number":ie="B";break;case"string":ie="C";break;case"boolean":ie="L";break;case"object":ie=Ce[k]instanceof Date?"D":"C";break;default:ie="C"}le=Math.max(le,String(Ce[k]).length),re=re&&re!=ie?"C":ie}le>250&&(le=250),ie=((T[E]||{}).DBF||{}).type,ie=="C"&&T[E].DBF.len>le&&(le=T[E].DBF.len),re=="B"&&ie=="N"&&(re="N",Be[E]=T[E].DBF.dec,le=T[E].DBF.len),we[E]=re=="C"||ie=="N"?le:a[re]||0,D+=we[E],he[E]=re}var q=g.next(32);for(q.write_shift(4,318902576),q.write_shift(4,x.length),q.write_shift(2,296+32*F),q.write_shift(2,D),E=0;E<4;++E)q.write_shift(4,0);for(q.write_shift(4,0|(+t[Nu]||3)<<8),E=0,k=0;E<w.length;++E)if(w[E]!=null){var H=g.next(32),ve=(w[E].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);H.write_shift(1,ve,"sbcs"),H.write_shift(1,he[E]=="?"?"C":he[E],"sbcs"),H.write_shift(4,k),H.write_shift(1,we[E]||a[he[E]]||0),H.write_shift(1,Be[E]||0),H.write_shift(1,2),H.write_shift(4,0),H.write_shift(1,0),H.write_shift(4,0),H.write_shift(4,0),k+=we[E]||a[he[E]]||0}var _e=g.next(264);for(_e.write_shift(4,13),E=0;E<65;++E)_e.write_shift(4,0);for(E=0;E<x.length;++E){var Fe=g.next(D);for(Fe.write_shift(1,0),k=0;k<w.length;++k)if(w[k]!=null)switch(he[k]){case"L":Fe.write_shift(1,x[E][k]==null?63:x[E][k]?84:70);break;case"B":Fe.write_shift(8,x[E][k]||0,"f");break;case"N":var ke="0";for(typeof x[E][k]=="number"&&(ke=x[E][k].toFixed(Be[k]||0)),F=0;F<we[k]-ke.length;++F)Fe.write_shift(1,32);Fe.write_shift(1,ke,"sbcs");break;case"D":x[E][k]?(Fe.write_shift(4,("0000"+x[E][k].getFullYear()).slice(-4),"sbcs"),Fe.write_shift(2,("00"+(x[E][k].getMonth()+1)).slice(-2),"sbcs"),Fe.write_shift(2,("00"+x[E][k].getDate()).slice(-2),"sbcs")):Fe.write_shift(8,"00000000","sbcs");break;case"C":var Ye=String(x[E][k]!=null?x[E][k]:"").slice(0,we[k]);for(Fe.write_shift(1,Ye,"sbcs"),F=0;F<we[k]-Ye.length;++F)Fe.write_shift(1,32);break}}return g.next(1).write_shift(1,26),g.end()}return{to_workbook:n,to_sheet:r,from_sheet:o}}(),K8=function(){var i={AA:"\xC0",BA:"\xC1",CA:"\xC2",DA:195,HA:"\xC4",JA:197,AE:"\xC8",BE:"\xC9",CE:"\xCA",HE:"\xCB",AI:"\xCC",BI:"\xCD",CI:"\xCE",HI:"\xCF",AO:"\xD2",BO:"\xD3",CO:"\xD4",DO:213,HO:"\xD6",AU:"\xD9",BU:"\xDA",CU:"\xDB",HU:"\xDC",Aa:"\xE0",Ba:"\xE1",Ca:"\xE2",Da:227,Ha:"\xE4",Ja:229,Ae:"\xE8",Be:"\xE9",Ce:"\xEA",He:"\xEB",Ai:"\xEC",Bi:"\xED",Ci:"\xEE",Hi:"\xEF",Ao:"\xF2",Bo:"\xF3",Co:"\xF4",Do:245,Ho:"\xF6",Au:"\xF9",Bu:"\xFA",Cu:"\xFB",Hu:"\xFC",KC:"\xC7",Kc:"\xE7",q:"\xE6",z:"\u0153",a:"\xC6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Jn(i).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),e=function(w,x){var T=i[x];return typeof T=="number"?qx(T):T},r=function(w,x,T){var E=x.charCodeAt(0)-32<<4|T.charCodeAt(0)-48;return E==59?w:qx(E)};i["|"]=254;function n(w,x){switch(x.type){case"base64":return a(wl(w),x);case"binary":return a(w,x);case"buffer":return a(ur&&Buffer.isBuffer(w)?w.toString("binary"):Cf(w),x);case"array":return a(vm(w),x)}throw new Error("Unrecognized type "+x.type)}function a(w,x){var T=w.split(/[\n\r]+/),E=-1,k=-1,F=0,D=0,X=[],he=[],we=null,Be={},re=[],ie=[],le=[],Ce=0,q;for(+x.codepage>=0&&gf(+x.codepage);F!==T.length;++F){Ce=0;var H=T[F].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,e),ve=H.replace(/;;/g,"\0").split(";").map(function(j){return j.replace(/\u0000/g,";")}),_e=ve[0],Fe;if(H.length>0)switch(_e){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":ve[1].charAt(0)=="P"&&he.push(H.slice(3).replace(/;;/g,";"));break;case"C":var ke=!1,Ye=!1,Me=!1,je=!1,Ze=-1,wt=-1;for(D=1;D<ve.length;++D)switch(ve[D].charAt(0)){case"A":break;case"X":k=parseInt(ve[D].slice(1))-1,Ye=!0;break;case"Y":for(E=parseInt(ve[D].slice(1))-1,Ye||(k=0),q=X.length;q<=E;++q)X[q]=[];break;case"K":Fe=ve[D].slice(1),Fe.charAt(0)==='"'?Fe=Fe.slice(1,Fe.length-1):Fe==="TRUE"?Fe=!0:Fe==="FALSE"?Fe=!1:isNaN(yl(Fe))?isNaN(_f(Fe).getDate())||(Fe=La(Fe)):(Fe=yl(Fe),we!==null&&Uy(we)&&(Fe=zy(Fe))),typeof Dr<"u"&&typeof Fe=="string"&&(x||{}).type!="string"&&(x||{}).codepage&&(Fe=Dr.utils.decode(x.codepage,Fe)),ke=!0;break;case"E":je=!0;var A=XF(ve[D].slice(1),{r:E,c:k});X[E][k]=[X[E][k],A];break;case"S":Me=!0,X[E][k]=[X[E][k],"S5S"];break;case"G":break;case"R":Ze=parseInt(ve[D].slice(1))-1;break;case"C":wt=parseInt(ve[D].slice(1))-1;break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+H)}if(ke&&(X[E][k]&&X[E][k].length==2?X[E][k][0]=Fe:X[E][k]=Fe,we=null),Me){if(je)throw new Error("SYLK shared formula cannot have own formula");var V=Ze>-1&&X[Ze][wt];if(!V||!V[1])throw new Error("SYLK shared formula cannot find base");X[E][k][1]=YF(V[1],{r:E-Ze,c:k-wt})}break;case"F":var N=0;for(D=1;D<ve.length;++D)switch(ve[D].charAt(0)){case"X":k=parseInt(ve[D].slice(1))-1,++N;break;case"Y":for(E=parseInt(ve[D].slice(1))-1,q=X.length;q<=E;++q)X[q]=[];break;case"M":Ce=parseInt(ve[D].slice(1))/20;break;case"F":break;case"G":break;case"P":we=he[parseInt(ve[D].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(le=ve[D].slice(1).split(" "),q=parseInt(le[0],10);q<=parseInt(le[1],10);++q)Ce=parseInt(le[2],10),ie[q-1]=Ce===0?{hidden:!0}:{wch:Ce},Tv(ie[q-1]);break;case"C":k=parseInt(ve[D].slice(1))-1,ie[k]||(ie[k]={});break;case"R":E=parseInt(ve[D].slice(1))-1,re[E]||(re[E]={}),Ce>0?(re[E].hpt=Ce,re[E].hpx=EC(Ce)):Ce===0&&(re[E].hidden=!0);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+H)}N<1&&(we=null);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+H)}}return re.length>0&&(Be["!rows"]=re),ie.length>0&&(Be["!cols"]=ie),x&&x.sheetRows&&(X=X.slice(0,x.sheetRows)),[X,Be]}function o(w,x){var T=n(w,x),E=T[0],k=T[1],F=Bu(E,x);return Jn(k).forEach(function(D){F[D]=k[D]}),F}function d(w,x){return Pd(o(w,x),x)}function u(w,x,T,E){var k="C;Y"+(T+1)+";X"+(E+1)+";K";switch(w.t){case"n":k+=w.v||0,w.f&&!w.F&&(k+=";E"+Av(w.f,{r:T,c:E}));break;case"b":k+=w.v?"TRUE":"FALSE";break;case"e":k+=w.w||w.v;break;case"d":k+='"'+(w.w||w.v)+'"';break;case"s":k+='"'+w.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return k}function p(w,x){x.forEach(function(T,E){var k="F;W"+(E+1)+" "+(E+1)+" ";T.hidden?k+="0":(typeof T.width=="number"&&!T.wpx&&(T.wpx=lm(T.width)),typeof T.wpx=="number"&&!T.wch&&(T.wch=cm(T.wpx)),typeof T.wch=="number"&&(k+=Math.round(T.wch))),k.charAt(k.length-1)!=" "&&w.push(k)})}function g(w,x){x.forEach(function(T,E){var k="F;";T.hidden?k+="M0;":T.hpt?k+="M"+20*T.hpt+";":T.hpx&&(k+="M"+20*dm(T.hpx)+";"),k.length>2&&w.push(k+"R"+(E+1))})}function y(w,x){var T=["ID;PWXL;N;E"],E=[],k=Wr(w["!ref"]),F,D=Array.isArray(w),X=`\r
`;T.push("P;PGeneral"),T.push("F;P0;DG0G8;M255"),w["!cols"]&&p(T,w["!cols"]),w["!rows"]&&g(T,w["!rows"]),T.push("B;Y"+(k.e.r-k.s.r+1)+";X"+(k.e.c-k.s.c+1)+";D"+[k.s.c,k.s.r,k.e.c,k.e.r].join(" "));for(var he=k.s.r;he<=k.e.r;++he)for(var we=k.s.c;we<=k.e.c;++we){var Be=Sr({r:he,c:we});F=D?(w[he]||[])[we]:w[Be],!(!F||F.v==null&&(!F.f||F.F))&&E.push(u(F,w,he,we,x))}return T.join(X)+X+E.join(X)+X+"E"+X}return{to_workbook:d,to_sheet:o,from_sheet:y}}(),J8=function(){function i(a,o){switch(o.type){case"base64":return t(wl(a),o);case"binary":return t(a,o);case"buffer":return t(ur&&Buffer.isBuffer(a)?a.toString("binary"):Cf(a),o);case"array":return t(vm(a),o)}throw new Error("Unrecognized type "+o.type)}function t(a,o){for(var d=a.split(`
`),u=-1,p=-1,g=0,y=[];g!==d.length;++g){if(d[g].trim()==="BOT"){y[++u]=[],p=0;continue}if(!(u<0)){var w=d[g].trim().split(","),x=w[0],T=w[1];++g;for(var E=d[g]||"";(E.match(/["]/g)||[]).length&1&&g<d.length-1;)E+=`
`+d[++g];switch(E=E.trim(),+x){case-1:if(E==="BOT"){y[++u]=[],p=0;continue}else if(E!=="EOD")throw new Error("Unrecognized DIF special command "+E);break;case 0:E==="TRUE"?y[u][p]=!0:E==="FALSE"?y[u][p]=!1:isNaN(yl(T))?isNaN(_f(T).getDate())?y[u][p]=T:y[u][p]=La(T):y[u][p]=yl(T),++p;break;case 1:E=E.slice(1,E.length-1),E=E.replace(/""/g,'"'),sf&&E&&E.match(/^=".*"$/)&&(E=E.slice(2,-1)),y[u][p++]=E!==""?E:null;break}if(E==="EOD")break}}return o&&o.sheetRows&&(y=y.slice(0,o.sheetRows)),y}function e(a,o){return Bu(i(a,o),o)}function r(a,o){return Pd(e(a,o),o)}var n=function(){var a=function(u,p,g,y,w){u.push(p),u.push(g+","+y),u.push('"'+w.replace(/"/g,'""')+'"')},o=function(u,p,g,y){u.push(p+","+g),u.push(p==1?'"'+y.replace(/"/g,'""')+'"':y)};return function(u){var p=[],g=Wr(u["!ref"]),y,w=Array.isArray(u);a(p,"TABLE",0,1,"sheetjs"),a(p,"VECTORS",0,g.e.r-g.s.r+1,""),a(p,"TUPLES",0,g.e.c-g.s.c+1,""),a(p,"DATA",0,0,"");for(var x=g.s.r;x<=g.e.r;++x){o(p,-1,0,"BOT");for(var T=g.s.c;T<=g.e.c;++T){var E=Sr({r:x,c:T});if(y=w?(u[x]||[])[T]:u[E],!y){o(p,1,0,"");continue}switch(y.t){case"n":var k=sf?y.w:y.v;!k&&y.v!=null&&(k=y.v),k==null?sf&&y.f&&!y.F?o(p,1,0,"="+y.f):o(p,1,0,""):o(p,0,k,"V");break;case"b":o(p,0,y.v?1:0,y.v?"TRUE":"FALSE");break;case"s":o(p,1,0,!sf||isNaN(y.v)?y.v:'="'+y.v+'"');break;case"d":y.w||(y.w=Pc(y.z||dn[14],eo(La(y.v)))),sf?o(p,0,y.w,"V"):o(p,1,0,y.w);break;default:o(p,1,0,"")}}}o(p,-1,0,"EOD");var F=`\r
`,D=p.join(F);return D}}();return{to_workbook:r,to_sheet:e,from_sheet:n}}(),yC=function(){function i(y){return y.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(y){return y.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function e(y,w){for(var x=y.split(`
`),T=-1,E=-1,k=0,F=[];k!==x.length;++k){var D=x[k].trim().split(":");if(D[0]==="cell"){var X=Un(D[1]);if(F.length<=X.r)for(T=F.length;T<=X.r;++T)F[T]||(F[T]=[]);switch(T=X.r,E=X.c,D[2]){case"t":F[T][E]=i(D[3]);break;case"v":F[T][E]=+D[3];break;case"vtf":var he=D[D.length-1];case"vtc":switch(D[3]){case"nl":F[T][E]=!!+D[4];break;default:F[T][E]=+D[4];break}D[2]=="vtf"&&(F[T][E]=[F[T][E],he])}}}return w&&w.sheetRows&&(F=F.slice(0,w.sheetRows)),F}function r(y,w){return Bu(e(y,w),w)}function n(y,w){return Pd(r(y,w),w)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,d=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),u="--SocialCalcSpreadsheetControlSave--";function p(y){if(!y||!y["!ref"])return"";for(var w=[],x=[],T,E="",k=Co(y["!ref"]),F=Array.isArray(y),D=k.s.r;D<=k.e.r;++D)for(var X=k.s.c;X<=k.e.c;++X)if(E=Sr({r:D,c:X}),T=F?(y[D]||[])[X]:y[E],!(!T||T.v==null||T.t==="z")){switch(x=["cell",E,"t"],T.t){case"s":case"str":x.push(t(T.v));break;case"n":T.f?(x[2]="vtf",x[3]="n",x[4]=T.v,x[5]=t(T.f)):(x[2]="v",x[3]=T.v);break;case"b":x[2]="vt"+(T.f?"f":"c"),x[3]="nl",x[4]=T.v?"1":"0",x[5]=t(T.f||(T.v?"TRUE":"FALSE"));break;case"d":var he=eo(La(T.v));x[2]="vtc",x[3]="nd",x[4]=""+he,x[5]=T.w||Pc(T.z||dn[14],he);break;case"e":continue}w.push(x.join(":"))}return w.push("sheet:c:"+(k.e.c-k.s.c+1)+":r:"+(k.e.r-k.s.r+1)+":tvf:1"),w.push("valueformat:1:text-wiki"),w.join(`
`)}function g(y){return[a,o,d,o,p(y),u].join(`
`)}return{to_workbook:n,to_sheet:r,from_sheet:g}}(),Q8=function(){function i(g,y,w,x,T){T.raw?y[w][x]=g:g===""||(g==="TRUE"?y[w][x]=!0:g==="FALSE"?y[w][x]=!1:isNaN(yl(g))?isNaN(_f(g).getDate())?y[w][x]=g:y[w][x]=La(g):y[w][x]=yl(g))}function t(g,y){var w=y||{},x=[];if(!g||g.length===0)return x;for(var T=g.split(/[\r\n]/),E=T.length-1;E>=0&&T[E].length===0;)--E;for(var k=10,F=0,D=0;D<=E;++D)F=T[D].indexOf(" "),F==-1?F=T[D].length:F++,k=Math.max(k,F);for(D=0;D<=E;++D){x[D]=[];var X=0;for(i(T[D].slice(0,k).trim(),x,D,X,w),X=1;X<=(T[D].length-k)/10+1;++X)i(T[D].slice(k+(X-1)*10,k+X*10).trim(),x,D,X,w)}return w.sheetRows&&(x=x.slice(0,w.sheetRows)),x}var e={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function n(g){for(var y={},w=!1,x=0,T=0;x<g.length;++x)(T=g.charCodeAt(x))==34?w=!w:!w&&T in e&&(y[T]=(y[T]||0)+1);T=[];for(x in y)Object.prototype.hasOwnProperty.call(y,x)&&T.push([y[x],x]);if(!T.length){y=r;for(x in y)Object.prototype.hasOwnProperty.call(y,x)&&T.push([y[x],x])}return T.sort(function(E,k){return E[0]-k[0]||r[E[1]]-r[k[1]]}),e[T.pop()[1]]||44}function a(g,y){var w=y||{},x="";$s!=null&&w.dense==null&&(w.dense=$s);var T=w.dense?[]:{},E={s:{c:0,r:0},e:{c:0,r:0}};g.slice(0,4)=="sep="?g.charCodeAt(5)==13&&g.charCodeAt(6)==10?(x=g.charAt(4),g=g.slice(7)):g.charCodeAt(5)==13||g.charCodeAt(5)==10?(x=g.charAt(4),g=g.slice(6)):x=n(g.slice(0,1024)):w&&w.FS?x=w.FS:x=n(g.slice(0,1024));var k=0,F=0,D=0,X=0,he=0,we=x.charCodeAt(0),Be=!1,re=0,ie=g.charCodeAt(0);g=g.replace(/\r\n/mg,`
`);var le=w.dateNF!=null?hI(w.dateNF):null;function Ce(){var q=g.slice(X,he),H={};if(q.charAt(0)=='"'&&q.charAt(q.length-1)=='"'&&(q=q.slice(1,-1).replace(/""/g,'"')),q.length===0)H.t="z";else if(w.raw)H.t="s",H.v=q;else if(q.trim().length===0)H.t="s",H.v=q;else if(q.charCodeAt(0)==61)q.charCodeAt(1)==34&&q.charCodeAt(q.length-1)==34?(H.t="s",H.v=q.slice(2,-1).replace(/""/g,'"')):KF(q)?(H.t="n",H.f=q.slice(1)):(H.t="s",H.v=q);else if(q=="TRUE")H.t="b",H.v=!0;else if(q=="FALSE")H.t="b",H.v=!1;else if(!isNaN(D=yl(q)))H.t="n",w.cellText!==!1&&(H.w=q),H.v=D;else if(!isNaN(_f(q).getDate())||le&&q.match(le)){H.z=w.dateNF||dn[14];var ve=0;le&&q.match(le)&&(q=mI(q,w.dateNF,q.match(le)||[]),ve=1),w.cellDates?(H.t="d",H.v=La(q,ve)):(H.t="n",H.v=eo(La(q,ve))),w.cellText!==!1&&(H.w=Pc(H.z,H.v instanceof Date?eo(H.v):H.v)),w.cellNF||delete H.z}else H.t="s",H.v=q;if(H.t=="z"||(w.dense?(T[k]||(T[k]=[]),T[k][F]=H):T[Sr({c:F,r:k})]=H),X=he+1,ie=g.charCodeAt(X),E.e.c<F&&(E.e.c=F),E.e.r<k&&(E.e.r=k),re==we)++F;else if(F=0,++k,w.sheetRows&&w.sheetRows<=k)return!0}e:for(;he<g.length;++he)switch(re=g.charCodeAt(he)){case 34:ie===34&&(Be=!Be);break;case we:case 10:case 13:if(!Be&&Ce())break e;break;default:break}return he-X>0&&Ce(),T["!ref"]=Sn(E),T}function o(g,y){return!(y&&y.PRN)||y.FS||g.slice(0,4)=="sep="||g.indexOf("	")>=0||g.indexOf(",")>=0||g.indexOf(";")>=0?a(g,y):Bu(t(g,y),y)}function d(g,y){var w="",x=y.type=="string"?[0,0,0,0]:uR(g,y);switch(y.type){case"base64":w=wl(g);break;case"binary":w=g;break;case"buffer":y.codepage==65001?w=g.toString("utf8"):y.codepage&&typeof Dr<"u"?w=Dr.utils.decode(y.codepage,g):w=ur&&Buffer.isBuffer(g)?g.toString("binary"):Cf(g);break;case"array":w=vm(g);break;case"string":w=g;break;default:throw new Error("Unrecognized type "+y.type)}return x[0]==239&&x[1]==187&&x[2]==191?w=df(w.slice(3)):y.type!="string"&&y.type!="buffer"&&y.codepage==65001?w=df(w):y.type=="binary"&&typeof Dr<"u"&&y.codepage&&(w=Dr.utils.decode(y.codepage,Dr.utils.encode(28591,w))),w.slice(0,19)=="socialcalc:version:"?yC.to_sheet(y.type=="string"?w:df(w),y):o(w,y)}function u(g,y){return Pd(d(g,y),y)}function p(g){for(var y=[],w=Wr(g["!ref"]),x,T=Array.isArray(g),E=w.s.r;E<=w.e.r;++E){for(var k=[],F=w.s.c;F<=w.e.c;++F){var D=Sr({r:E,c:F});if(x=T?(g[E]||[])[F]:g[D],!x||x.v==null){k.push("          ");continue}for(var X=(x.w||(Sl(x),x.w)||"").slice(0,10);X.length<10;)X+=" ";k.push(X+(F===0?" ":""))}y.push(k.join(""))}return y.join(`
`)}return{to_workbook:u,to_sheet:d,from_sheet:p}}();var by=function(){function i(A,V,N){if(A){xo(A,A.l||0);for(var j=N.Enum||Ze;A.l<A.length;){var se=A.read_shift(2),Ee=j[se]||j[65535],Ie=A.read_shift(2),Te=A.l+Ie,Re=Ee.f&&Ee.f(A,Ie,N);if(A.l=Te,V(Re,Ee,se))return}}}function t(A,V){switch(V.type){case"base64":return e(gs(wl(A)),V);case"binary":return e(gs(A),V);case"buffer":case"array":return e(A,V)}throw"Unsupported type "+V.type}function e(A,V){if(!A)return A;var N=V||{};$s!=null&&N.dense==null&&(N.dense=$s);var j=N.dense?[]:{},se="Sheet1",Ee="",Ie=0,Te={},Re=[],at=[],pt={s:{r:0,c:0},e:{r:0,c:0}},Pt=N.sheetRows||0;if(A[2]==0&&(A[3]==8||A[3]==9)&&A.length>=16&&A[14]==5&&A[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(A[2]==2)N.Enum=Ze,i(A,function(mt,Wt,gt){switch(gt){case 0:N.vers=mt,mt>=4096&&(N.qpro=!0);break;case 6:pt=mt;break;case 204:mt&&(Ee=mt);break;case 222:Ee=mt;break;case 15:case 51:N.qpro||(mt[1].v=mt[1].v.slice(1));case 13:case 14:case 16:gt==14&&(mt[2]&112)==112&&(mt[2]&15)>1&&(mt[2]&15)<15&&(mt[1].z=N.dateNF||dn[14],N.cellDates&&(mt[1].t="d",mt[1].v=zy(mt[1].v))),N.qpro&&mt[3]>Ie&&(j["!ref"]=Sn(pt),Te[se]=j,Re.push(se),j=N.dense?[]:{},pt={s:{r:0,c:0},e:{r:0,c:0}},Ie=mt[3],se=Ee||"Sheet"+(Ie+1),Ee="");var Ft=N.dense?(j[mt[0].r]||[])[mt[0].c]:j[Sr(mt[0])];if(Ft){Ft.t=mt[1].t,Ft.v=mt[1].v,mt[1].z!=null&&(Ft.z=mt[1].z),mt[1].f!=null&&(Ft.f=mt[1].f);break}N.dense?(j[mt[0].r]||(j[mt[0].r]=[]),j[mt[0].r][mt[0].c]=mt[1]):j[Sr(mt[0])]=mt[1];break;default:}},N);else if(A[2]==26||A[2]==14)N.Enum=wt,A[2]==14&&(N.qpro=!0,A.l=0),i(A,function(mt,Wt,gt){switch(gt){case 204:se=mt;break;case 22:mt[1].v=mt[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(mt[3]>Ie&&(j["!ref"]=Sn(pt),Te[se]=j,Re.push(se),j=N.dense?[]:{},pt={s:{r:0,c:0},e:{r:0,c:0}},Ie=mt[3],se="Sheet"+(Ie+1)),Pt>0&&mt[0].r>=Pt)break;N.dense?(j[mt[0].r]||(j[mt[0].r]=[]),j[mt[0].r][mt[0].c]=mt[1]):j[Sr(mt[0])]=mt[1],pt.e.c<mt[0].c&&(pt.e.c=mt[0].c),pt.e.r<mt[0].r&&(pt.e.r=mt[0].r);break;case 27:mt[14e3]&&(at[mt[14e3][0]]=mt[14e3][1]);break;case 1537:at[mt[0]]=mt[1],mt[0]==Ie&&(se=mt[1]);break;default:break}},N);else throw new Error("Unrecognized LOTUS BOF "+A[2]);if(j["!ref"]=Sn(pt),Te[Ee||se]=j,Re.push(Ee||se),!at.length)return{SheetNames:Re,Sheets:Te};for(var Lt={},Qe=[],ge=0;ge<at.length;++ge)Te[Re[ge]]?(Qe.push(at[ge]||Re[ge]),Lt[at[ge]]=Te[at[ge]]||Te[Re[ge]]):(Qe.push(at[ge]),Lt[at[ge]]={"!ref":"A1"});return{SheetNames:Qe,Sheets:Lt}}function r(A,V){var N=V||{};if(+N.codepage>=0&&gf(+N.codepage),N.type=="string")throw new Error("Cannot write WK1 to JS string");var j=Qa(),se=Wr(A["!ref"]),Ee=Array.isArray(A),Ie=[];Bt(j,0,a(1030)),Bt(j,6,u(se));for(var Te=Math.min(se.e.r,8191),Re=se.s.r;Re<=Te;++Re)for(var at=Kn(Re),pt=se.s.c;pt<=se.e.c;++pt){Re===se.s.r&&(Ie[pt]=fa(pt));var Pt=Ie[pt]+at,Lt=Ee?(A[Re]||[])[pt]:A[Pt];if(!(!Lt||Lt.t=="z"))if(Lt.t=="n")(Lt.v|0)==Lt.v&&Lt.v>=-32768&&Lt.v<=32767?Bt(j,13,x(Re,pt,Lt.v)):Bt(j,14,E(Re,pt,Lt.v));else{var Qe=Sl(Lt);Bt(j,15,y(Re,pt,Qe.slice(0,239)))}}return Bt(j,1),j.end()}function n(A,V){var N=V||{};if(+N.codepage>=0&&gf(+N.codepage),N.type=="string")throw new Error("Cannot write WK3 to JS string");var j=Qa();Bt(j,0,o(A));for(var se=0,Ee=0;se<A.SheetNames.length;++se)(A.Sheets[A.SheetNames[se]]||{})["!ref"]&&Bt(j,27,je(A.SheetNames[se],Ee++));var Ie=0;for(se=0;se<A.SheetNames.length;++se){var Te=A.Sheets[A.SheetNames[se]];if(!(!Te||!Te["!ref"])){for(var Re=Wr(Te["!ref"]),at=Array.isArray(Te),pt=[],Pt=Math.min(Re.e.r,8191),Lt=Re.s.r;Lt<=Pt;++Lt)for(var Qe=Kn(Lt),ge=Re.s.c;ge<=Re.e.c;++ge){Lt===Re.s.r&&(pt[ge]=fa(ge));var mt=pt[ge]+Qe,Wt=at?(Te[Lt]||[])[ge]:Te[mt];if(!(!Wt||Wt.t=="z"))if(Wt.t=="n")Bt(j,23,Ce(Lt,ge,Ie,Wt.v));else{var gt=Sl(Wt);Bt(j,22,re(Lt,ge,Ie,gt.slice(0,239)))}}++Ie}}return Bt(j,1),j.end()}function a(A){var V=nt(2);return V.write_shift(2,A),V}function o(A){var V=nt(26);V.write_shift(2,4096),V.write_shift(2,4),V.write_shift(4,0);for(var N=0,j=0,se=0,Ee=0;Ee<A.SheetNames.length;++Ee){var Ie=A.SheetNames[Ee],Te=A.Sheets[Ie];if(!(!Te||!Te["!ref"])){++se;var Re=Co(Te["!ref"]);N<Re.e.r&&(N=Re.e.r),j<Re.e.c&&(j=Re.e.c)}}return N>8191&&(N=8191),V.write_shift(2,N),V.write_shift(1,se),V.write_shift(1,j),V.write_shift(2,0),V.write_shift(2,0),V.write_shift(1,1),V.write_shift(1,2),V.write_shift(4,0),V.write_shift(4,0),V}function d(A,V,N){var j={s:{c:0,r:0},e:{c:0,r:0}};return V==8&&N.qpro?(j.s.c=A.read_shift(1),A.l++,j.s.r=A.read_shift(2),j.e.c=A.read_shift(1),A.l++,j.e.r=A.read_shift(2),j):(j.s.c=A.read_shift(2),j.s.r=A.read_shift(2),V==12&&N.qpro&&(A.l+=2),j.e.c=A.read_shift(2),j.e.r=A.read_shift(2),V==12&&N.qpro&&(A.l+=2),j.s.c==65535&&(j.s.c=j.e.c=j.s.r=j.e.r=0),j)}function u(A){var V=nt(8);return V.write_shift(2,A.s.c),V.write_shift(2,A.s.r),V.write_shift(2,A.e.c),V.write_shift(2,A.e.r),V}function p(A,V,N){var j=[{c:0,r:0},{t:"n",v:0},0,0];return N.qpro&&N.vers!=20768?(j[0].c=A.read_shift(1),j[3]=A.read_shift(1),j[0].r=A.read_shift(2),A.l+=2):(j[2]=A.read_shift(1),j[0].c=A.read_shift(2),j[0].r=A.read_shift(2)),j}function g(A,V,N){var j=A.l+V,se=p(A,V,N);if(se[1].t="s",N.vers==20768){A.l++;var Ee=A.read_shift(1);return se[1].v=A.read_shift(Ee,"utf8"),se}return N.qpro&&A.l++,se[1].v=A.read_shift(j-A.l,"cstr"),se}function y(A,V,N){var j=nt(7+N.length);j.write_shift(1,255),j.write_shift(2,V),j.write_shift(2,A),j.write_shift(1,39);for(var se=0;se<j.length;++se){var Ee=N.charCodeAt(se);j.write_shift(1,Ee>=128?95:Ee)}return j.write_shift(1,0),j}function w(A,V,N){var j=p(A,V,N);return j[1].v=A.read_shift(2,"i"),j}function x(A,V,N){var j=nt(7);return j.write_shift(1,255),j.write_shift(2,V),j.write_shift(2,A),j.write_shift(2,N,"i"),j}function T(A,V,N){var j=p(A,V,N);return j[1].v=A.read_shift(8,"f"),j}function E(A,V,N){var j=nt(13);return j.write_shift(1,255),j.write_shift(2,V),j.write_shift(2,A),j.write_shift(8,N,"f"),j}function k(A,V,N){var j=A.l+V,se=p(A,V,N);if(se[1].v=A.read_shift(8,"f"),N.qpro)A.l=j;else{var Ee=A.read_shift(2);he(A.slice(A.l,A.l+Ee),se),A.l+=Ee}return se}function F(A,V,N){var j=V&32768;return V&=-32769,V=(j?A:0)+(V>=8192?V-16384:V),(j?"":"$")+(N?fa(V):Kn(V))}var D={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},X=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function he(A,V){xo(A,0);for(var N=[],j=0,se="",Ee="",Ie="",Te="";A.l<A.length;){var Re=A[A.l++];switch(Re){case 0:N.push(A.read_shift(8,"f"));break;case 1:Ee=F(V[0].c,A.read_shift(2),!0),se=F(V[0].r,A.read_shift(2),!1),N.push(Ee+se);break;case 2:{var at=F(V[0].c,A.read_shift(2),!0),pt=F(V[0].r,A.read_shift(2),!1);Ee=F(V[0].c,A.read_shift(2),!0),se=F(V[0].r,A.read_shift(2),!1),N.push(at+pt+":"+Ee+se)}break;case 3:if(A.l<A.length){console.error("WK1 premature formula end");return}break;case 4:N.push("("+N.pop()+")");break;case 5:N.push(A.read_shift(2));break;case 6:{for(var Pt="";Re=A[A.l++];)Pt+=String.fromCharCode(Re);N.push('"'+Pt.replace(/"/g,'""')+'"')}break;case 8:N.push("-"+N.pop());break;case 23:N.push("+"+N.pop());break;case 22:N.push("NOT("+N.pop()+")");break;case 20:case 21:Te=N.pop(),Ie=N.pop(),N.push(["AND","OR"][Re-20]+"("+Ie+","+Te+")");break;default:if(Re<32&&X[Re])Te=N.pop(),Ie=N.pop(),N.push(Ie+X[Re]+Te);else if(D[Re]){if(j=D[Re][1],j==69&&(j=A[A.l++]),j>N.length){console.error("WK1 bad formula parse 0x"+Re.toString(16)+":|"+N.join("|")+"|");return}var Lt=N.slice(-j);N.length-=j,N.push(D[Re][0]+"("+Lt.join(",")+")")}else return Re<=7?console.error("WK1 invalid opcode "+Re.toString(16)):Re<=24?console.error("WK1 unsupported op "+Re.toString(16)):Re<=30?console.error("WK1 invalid opcode "+Re.toString(16)):Re<=115?console.error("WK1 unsupported function opcode "+Re.toString(16)):console.error("WK1 unrecognized opcode "+Re.toString(16))}}N.length==1?V[1].f=""+N[0]:console.error("WK1 bad formula parse |"+N.join("|")+"|")}function we(A){var V=[{c:0,r:0},{t:"n",v:0},0];return V[0].r=A.read_shift(2),V[3]=A[A.l++],V[0].c=A[A.l++],V}function Be(A,V){var N=we(A,V);return N[1].t="s",N[1].v=A.read_shift(V-4,"cstr"),N}function re(A,V,N,j){var se=nt(6+j.length);se.write_shift(2,A),se.write_shift(1,N),se.write_shift(1,V),se.write_shift(1,39);for(var Ee=0;Ee<j.length;++Ee){var Ie=j.charCodeAt(Ee);se.write_shift(1,Ie>=128?95:Ie)}return se.write_shift(1,0),se}function ie(A,V){var N=we(A,V);N[1].v=A.read_shift(2);var j=N[1].v>>1;if(N[1].v&1)switch(j&7){case 0:j=(j>>3)*5e3;break;case 1:j=(j>>3)*500;break;case 2:j=(j>>3)/20;break;case 3:j=(j>>3)/200;break;case 4:j=(j>>3)/2e3;break;case 5:j=(j>>3)/2e4;break;case 6:j=(j>>3)/16;break;case 7:j=(j>>3)/64;break}return N[1].v=j,N}function le(A,V){var N=we(A,V),j=A.read_shift(4),se=A.read_shift(4),Ee=A.read_shift(2);if(Ee==65535)return j===0&&se===3221225472?(N[1].t="e",N[1].v=15):j===0&&se===3489660928?(N[1].t="e",N[1].v=42):N[1].v=0,N;var Ie=Ee&32768;return Ee=(Ee&32767)-16446,N[1].v=(1-Ie*2)*(se*Math.pow(2,Ee+32)+j*Math.pow(2,Ee)),N}function Ce(A,V,N,j){var se=nt(14);if(se.write_shift(2,A),se.write_shift(1,N),se.write_shift(1,V),j==0)return se.write_shift(4,0),se.write_shift(4,0),se.write_shift(2,65535),se;var Ee=0,Ie=0,Te=0,Re=0;return j<0&&(Ee=1,j=-j),Ie=Math.log2(j)|0,j/=Math.pow(2,Ie-31),Re=j>>>0,Re&2147483648||(j/=2,++Ie,Re=j>>>0),j-=Re,Re|=2147483648,Re>>>=0,j*=Math.pow(2,32),Te=j>>>0,se.write_shift(4,Te),se.write_shift(4,Re),Ie+=16383+(Ee?32768:0),se.write_shift(2,Ie),se}function q(A,V){var N=le(A,14);return A.l+=V-14,N}function H(A,V){var N=we(A,V),j=A.read_shift(4);return N[1].v=j>>6,N}function ve(A,V){var N=we(A,V),j=A.read_shift(8,"f");return N[1].v=j,N}function _e(A,V){var N=ve(A,14);return A.l+=V-10,N}function Fe(A,V){return A[A.l+V-1]==0?A.read_shift(V,"cstr"):""}function ke(A,V){var N=A[A.l++];N>V-1&&(N=V-1);for(var j="";j.length<N;)j+=String.fromCharCode(A[A.l++]);return j}function Ye(A,V,N){if(!(!N.qpro||V<21)){var j=A.read_shift(1);A.l+=17,A.l+=1,A.l+=2;var se=A.read_shift(V-21,"cstr");return[j,se]}}function Me(A,V){for(var N={},j=A.l+V;A.l<j;){var se=A.read_shift(2);if(se==14e3){for(N[se]=[0,""],N[se][0]=A.read_shift(2);A[A.l];)N[se][1]+=String.fromCharCode(A[A.l]),A.l++;A.l++}}return N}function je(A,V){var N=nt(5+A.length);N.write_shift(2,14e3),N.write_shift(2,V);for(var j=0;j<A.length;++j){var se=A.charCodeAt(j);N[N.l++]=se>127?95:se}return N[N.l++]=0,N}var Ze={0:{n:"BOF",f:gC},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:d},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:w},14:{n:"NUMBER",f:T},15:{n:"LABEL",f:g},16:{n:"FORMULA",f:k},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:g},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Fe},222:{n:"SHEETNAMELP",f:ke},65535:{n:""}},wt={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:Be},23:{n:"NUMBER17",f:le},24:{n:"NUMBER18",f:ie},25:{n:"FORMULA19",f:q},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Me},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:H},38:{n:"??"},39:{n:"NUMBER27",f:ve},40:{n:"FORMULA28",f:_e},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Fe},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Ye},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:n,to_workbook:t}}();var eF=/^\s|\s$|[\t\n\r]/;function CC(i,t){if(!t.bookSST)return"";var e=[En];e[e.length]=Dt("sst",null,{xmlns:Du[0],count:i.Count,uniqueCount:i.Unique});for(var r=0;r!=i.length;++r)if(i[r]!=null){var n=i[r],a="<si>";n.r?a+=n.r:(a+="<t",n.t||(n.t=""),n.t.match(eF)&&(a+=' xml:space="preserve"'),a+=">"+wr(n.t)+"</t>"),a+="</si>",e[e.length]=a}return e.length>2&&(e[e.length]="</sst>",e[1]=e[1].replace("/>",">")),e.join("")}function tF(i){return[i.read_shift(4),i.read_shift(4)]}function iF(i,t){return t||(t=nt(8)),t.write_shift(4,i.Count),t.write_shift(4,i.Unique),t}var rF=$I;function nF(i){var t=Qa();_t(t,159,iF(i));for(var e=0;e<i.length;++e)_t(t,19,rF(i[e]));return _t(t,160),t.end()}function aF(i){if(typeof Dr<"u")return Dr.utils.encode(Nu,i);for(var t=[],e=i.split(""),r=0;r<e.length;++r)t[r]=e[r].charCodeAt(0);return t}function wC(i){var t=0,e,r=aF(i),n=r.length+1,a,o,d,u,p;for(e=wd(n),e[0]=r.length,a=1;a!=n;++a)e[a]=r[a-1];for(a=n-1;a>=0;--a)o=e[a],d=t&16384?1:0,u=t<<1&32767,p=d|u,t=p^o;return t^52811}var oF=function(){function i(n,a){switch(a.type){case"base64":return t(wl(n),a);case"binary":return t(n,a);case"buffer":return t(ur&&Buffer.isBuffer(n)?n.toString("binary"):Cf(n),a);case"array":return t(vm(n),a)}throw new Error("Unrecognized type "+a.type)}function t(n,a){var o=a||{},d=o.dense?[]:{},u=n.match(/\\trowd.*?\\row\b/g);if(!u.length)throw new Error("RTF missing table");var p={s:{c:0,r:0},e:{c:0,r:u.length-1}};return u.forEach(function(g,y){Array.isArray(d)&&(d[y]=[]);for(var w=/\\\w+\b/g,x=0,T,E=-1;T=w.exec(g);){switch(T[0]){case"\\cell":var k=g.slice(x,w.lastIndex-T[0].length);if(k[0]==" "&&(k=k.slice(1)),++E,k.length){var F={v:k,t:"s"};Array.isArray(d)?d[y][E]=F:d[Sr({r:y,c:E})]=F}break}x=w.lastIndex}E>p.e.c&&(p.e.c=E)}),d["!ref"]=Sn(p),d}function e(n,a){return Pd(i(n,a),a)}function r(n){for(var a=["{\\rtf1\\ansi"],o=Wr(n["!ref"]),d,u=Array.isArray(n),p=o.s.r;p<=o.e.r;++p){a.push("\\trowd\\trautofit1");for(var g=o.s.c;g<=o.e.c;++g)a.push("\\cellx"+(g+1));for(a.push("\\pard\\intbl"),g=o.s.c;g<=o.e.c;++g){var y=Sr({r:p,c:g});d=u?(n[p]||[])[g]:n[y],!(!d||d.v==null&&(!d.f||d.F))&&(a.push(" "+(d.w||(Sl(d),d.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:e,to_sheet:i,from_sheet:r}}();function xy(i){for(var t=0,e=1;t!=3;++t)e=e*256+(i[t]>255?255:i[t]<0?0:i[t]);return e.toString(16).toUpperCase().slice(1)}var sF=6;var Cl=sF;function lm(i){return Math.floor((i+Math.round(128/Cl)/256)*Cl)}function cm(i){return Math.floor((i-5)/Cl*100+.5)/100}function cv(i){return Math.round((i*Cl+5)/Cl*256)/256}function Tv(i){i.width?(i.wpx=lm(i.width),i.wch=cm(i.wpx),i.MDW=Cl):i.wpx?(i.wch=cm(i.wpx),i.width=cv(i.wch),i.MDW=Cl):typeof i.wch=="number"&&(i.width=cv(i.wch),i.wpx=lm(i.width),i.MDW=Cl),i.customWidth&&delete i.customWidth}var lF=96,SC=lF;function dm(i){return i*96/SC}function EC(i){return i*SC/96}function cF(i){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(e){for(var r=e[0];r<=e[1];++r)i[r]!=null&&(t[t.length]=Dt("numFmt",null,{numFmtId:r,formatCode:wr(i[r])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Dt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function dF(i){var t=[];return t[t.length]=Dt("cellXfs",null),i.forEach(function(e){t[t.length]=Dt("xf",null,e)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Dt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function PC(i,t){var e=[En,Dt("styleSheet",null,{xmlns:Du[0],"xmlns:vt":Bn.vt})],r;return i.SSF&&(r=cF(i.SSF))!=null&&(e[e.length]=r),e[e.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',e[e.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',e[e.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',e[e.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=dF(t.cellXfs))&&(e[e.length]=r),e[e.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',e[e.length]='<dxfs count="0"/>',e[e.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',e.length>2&&(e[e.length]="</styleSheet>",e[1]=e[1].replace("/>",">")),e.join("")}function uF(i,t){var e=i.read_shift(2),r=pa(i,t-2);return[e,r]}function fF(i,t,e){e||(e=nt(6+4*t.length)),e.write_shift(2,i),Vn(t,e);var r=e.length>e.l?e.slice(0,e.l):e;return e.l==null&&(e.l=e.length),r}function pF(i,t,e){var r={};r.sz=i.read_shift(2)/20;var n=e8(i,2,e);n.fItalic&&(r.italic=1),n.fCondense&&(r.condense=1),n.fExtend&&(r.extend=1),n.fShadow&&(r.shadow=1),n.fOutline&&(r.outline=1),n.fStrikeout&&(r.strike=1);var a=i.read_shift(2);switch(a===700&&(r.bold=1),i.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var o=i.read_shift(1);o!=0&&(r.underline=o);var d=i.read_shift(1);d>0&&(r.family=d);var u=i.read_shift(1);switch(u>0&&(r.charset=u),i.l++,r.color=QI(i,8),i.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=pa(i,t-21),r}function hF(i,t){t||(t=nt(25+4*32)),t.write_shift(2,i.sz*20),t8(i,t),t.write_shift(2,i.bold?700:400);var e=0;i.vertAlign=="superscript"?e=1:i.vertAlign=="subscript"&&(e=2),t.write_shift(2,e),t.write_shift(1,i.underline||0),t.write_shift(1,i.family||0),t.write_shift(1,i.charset||0),t.write_shift(1,0),om(i.color,t);var r=0;return i.scheme=="major"&&(r=1),i.scheme=="minor"&&(r=2),t.write_shift(1,r),Vn(i.name,t),t.length>t.l?t.slice(0,t.l):t}var mF=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],iv,gF=Zs;function yy(i,t){t||(t=nt(4*3+8*7+16*1)),iv||(iv=fv(mF));var e=iv[i.patternType];e==null&&(e=40),t.write_shift(4,e);var r=0;if(e!=40)for(om({auto:1},t),om({auto:1},t);r<12;++r)t.write_shift(4,0);else{for(;r<4;++r)t.write_shift(4,0);for(;r<12;++r)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function vF(i,t){var e=i.l+t,r=i.read_shift(2),n=i.read_shift(2);return i.l=e,{ixfe:r,numFmtId:n}}function MC(i,t,e){e||(e=nt(16)),e.write_shift(2,t||0),e.write_shift(2,i.numFmtId||0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);var r=0;return e.write_shift(1,r),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(1,0),e}function lf(i,t){return t||(t=nt(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var _F=Zs;function bF(i,t){return t||(t=nt(51)),t.write_shift(1,0),lf(null,t),lf(null,t),lf(null,t),lf(null,t),lf(null,t),t.length>t.l?t.slice(0,t.l):t}function xF(i,t){return t||(t=nt(12+4*10)),t.write_shift(4,i.xfId),t.write_shift(2,1),t.write_shift(1,+i.builtinId),t.write_shift(1,0),am(i.name||"",t),t.length>t.l?t.slice(0,t.l):t}function yF(i,t,e){var r=nt(2052);return r.write_shift(4,i),am(t,r),am(e,r),r.length>r.l?r.slice(0,r.l):r}function CF(i,t){if(t){var e=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&++e}),e!=0&&(_t(i,615,_s(e)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&_t(i,44,fF(n,t[n]))}),_t(i,616))}}function wF(i){var t=1;t!=0&&(_t(i,611,_s(t)),_t(i,43,hF({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),_t(i,612))}function SF(i){var t=2;t!=0&&(_t(i,603,_s(t)),_t(i,45,yy({patternType:"none"})),_t(i,45,yy({patternType:"gray125"})),_t(i,604))}function EF(i){var t=1;t!=0&&(_t(i,613,_s(t)),_t(i,46,bF({})),_t(i,614))}function PF(i){var t=1;_t(i,626,_s(t)),_t(i,47,MC({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),_t(i,627)}function MF(i,t){_t(i,617,_s(t.length)),t.forEach(function(e){_t(i,47,MC(e,0))}),_t(i,618)}function TF(i){var t=1;_t(i,619,_s(t)),_t(i,48,xF({xfId:0,builtinId:0,name:"Normal"})),_t(i,620)}function kF(i){var t=0;_t(i,505,_s(t)),_t(i,506)}function AF(i){var t=0;_t(i,508,yF(t,"TableStyleMedium9","PivotStyleMedium4")),_t(i,509)}function OF(i,t){var e=Qa();return _t(e,278),CF(e,i.SSF),wF(e,i),SF(e,i),EF(e,i),PF(e,i),MF(e,t.cellXfs),TF(e,i),kF(e,i),AF(e,i),_t(e,279),e.end()}function TC(i,t){if(t&&t.themeXLSX)return t.themeXLSX;if(i&&typeof i.raw=="string")return i.raw;var e=[En];return e[e.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',e[e.length]="<a:themeElements>",e[e.length]='<a:clrScheme name="Office">',e[e.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',e[e.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',e[e.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',e[e.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',e[e.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',e[e.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',e[e.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',e[e.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',e[e.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',e[e.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',e[e.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',e[e.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',e[e.length]="</a:clrScheme>",e[e.length]='<a:fontScheme name="Office">',e[e.length]="<a:majorFont>",e[e.length]='<a:latin typeface="Cambria"/>',e[e.length]='<a:ea typeface=""/>',e[e.length]='<a:cs typeface=""/>',e[e.length]='<a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/>',e[e.length]='<a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/>',e[e.length]='<a:font script="Hans" typeface="\u5B8B\u4F53"/>',e[e.length]='<a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/>',e[e.length]='<a:font script="Arab" typeface="Times New Roman"/>',e[e.length]='<a:font script="Hebr" typeface="Times New Roman"/>',e[e.length]='<a:font script="Thai" typeface="Tahoma"/>',e[e.length]='<a:font script="Ethi" typeface="Nyala"/>',e[e.length]='<a:font script="Beng" typeface="Vrinda"/>',e[e.length]='<a:font script="Gujr" typeface="Shruti"/>',e[e.length]='<a:font script="Khmr" typeface="MoolBoran"/>',e[e.length]='<a:font script="Knda" typeface="Tunga"/>',e[e.length]='<a:font script="Guru" typeface="Raavi"/>',e[e.length]='<a:font script="Cans" typeface="Euphemia"/>',e[e.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',e[e.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',e[e.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',e[e.length]='<a:font script="Thaa" typeface="MV Boli"/>',e[e.length]='<a:font script="Deva" typeface="Mangal"/>',e[e.length]='<a:font script="Telu" typeface="Gautami"/>',e[e.length]='<a:font script="Taml" typeface="Latha"/>',e[e.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',e[e.length]='<a:font script="Orya" typeface="Kalinga"/>',e[e.length]='<a:font script="Mlym" typeface="Kartika"/>',e[e.length]='<a:font script="Laoo" typeface="DokChampa"/>',e[e.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',e[e.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',e[e.length]='<a:font script="Viet" typeface="Times New Roman"/>',e[e.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',e[e.length]='<a:font script="Geor" typeface="Sylfaen"/>',e[e.length]="</a:majorFont>",e[e.length]="<a:minorFont>",e[e.length]='<a:latin typeface="Calibri"/>',e[e.length]='<a:ea typeface=""/>',e[e.length]='<a:cs typeface=""/>',e[e.length]='<a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/>',e[e.length]='<a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/>',e[e.length]='<a:font script="Hans" typeface="\u5B8B\u4F53"/>',e[e.length]='<a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/>',e[e.length]='<a:font script="Arab" typeface="Arial"/>',e[e.length]='<a:font script="Hebr" typeface="Arial"/>',e[e.length]='<a:font script="Thai" typeface="Tahoma"/>',e[e.length]='<a:font script="Ethi" typeface="Nyala"/>',e[e.length]='<a:font script="Beng" typeface="Vrinda"/>',e[e.length]='<a:font script="Gujr" typeface="Shruti"/>',e[e.length]='<a:font script="Khmr" typeface="DaunPenh"/>',e[e.length]='<a:font script="Knda" typeface="Tunga"/>',e[e.length]='<a:font script="Guru" typeface="Raavi"/>',e[e.length]='<a:font script="Cans" typeface="Euphemia"/>',e[e.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',e[e.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',e[e.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',e[e.length]='<a:font script="Thaa" typeface="MV Boli"/>',e[e.length]='<a:font script="Deva" typeface="Mangal"/>',e[e.length]='<a:font script="Telu" typeface="Gautami"/>',e[e.length]='<a:font script="Taml" typeface="Latha"/>',e[e.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',e[e.length]='<a:font script="Orya" typeface="Kalinga"/>',e[e.length]='<a:font script="Mlym" typeface="Kartika"/>',e[e.length]='<a:font script="Laoo" typeface="DokChampa"/>',e[e.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',e[e.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',e[e.length]='<a:font script="Viet" typeface="Arial"/>',e[e.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',e[e.length]='<a:font script="Geor" typeface="Sylfaen"/>',e[e.length]="</a:minorFont>",e[e.length]="</a:fontScheme>",e[e.length]='<a:fmtScheme name="Office">',e[e.length]="<a:fillStyleLst>",e[e.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:lin ang="16200000" scaled="1"/>',e[e.length]="</a:gradFill>",e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:lin ang="16200000" scaled="0"/>',e[e.length]="</a:gradFill>",e[e.length]="</a:fillStyleLst>",e[e.length]="<a:lnStyleLst>",e[e.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]="</a:lnStyleLst>",e[e.length]="<a:effectStyleLst>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]="</a:effectStyle>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]="</a:effectStyle>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',e[e.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',e[e.length]="</a:effectStyle>",e[e.length]="</a:effectStyleLst>",e[e.length]="<a:bgFillStyleLst>",e[e.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',e[e.length]="</a:gradFill>",e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',e[e.length]="</a:gradFill>",e[e.length]="</a:bgFillStyleLst>",e[e.length]="</a:fmtScheme>",e[e.length]="</a:themeElements>",e[e.length]="<a:objectDefaults>",e[e.length]="<a:spDef>",e[e.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',e[e.length]="</a:spDef>",e[e.length]="<a:lnDef>",e[e.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',e[e.length]="</a:lnDef>",e[e.length]="</a:objectDefaults>",e[e.length]="<a:extraClrSchemeLst/>",e[e.length]="</a:theme>",e.join("")}function IF(i,t){return{flags:i.read_shift(4),version:i.read_shift(4),name:pa(i,t-8)}}function FF(i){var t=nt(12+2*i.name.length);return t.write_shift(4,i.flags),t.write_shift(4,i.version),Vn(i.name,t),t.slice(0,t.l)}function NF(i){for(var t=[],e=i.read_shift(4);e-- >0;)t.push([i.read_shift(4),i.read_shift(4)]);return t}function LF(i){var t=nt(4+8*i.length);t.write_shift(4,i.length);for(var e=0;e<i.length;++e)t.write_shift(4,i[e][0]),t.write_shift(4,i[e][1]);return t}function DF(i,t){var e=nt(8+2*t.length);return e.write_shift(4,i),Vn(t,e),e.slice(0,e.l)}function RF(i){return i.l+=4,i.read_shift(4)!=0}function BF(i,t){var e=nt(8);return e.write_shift(4,i),e.write_shift(4,t?1:0),e}function UF(){var i=Qa();return _t(i,332),_t(i,334,_s(1)),_t(i,335,FF({name:"XLDAPR",version:12e4,flags:3496657072})),_t(i,336),_t(i,339,DF(1,"XLDAPR")),_t(i,52),_t(i,35,_s(514)),_t(i,4096,_s(0)),_t(i,4097,Zo(1)),_t(i,36),_t(i,53),_t(i,340),_t(i,337,BF(1,!0)),_t(i,51,LF([[1,0]])),_t(i,338),_t(i,333),i.end()}function kC(){var i=[En];return i.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),i.join("")}function VF(i){var t={};t.i=i.read_shift(4);var e={};e.r=i.read_shift(4),e.c=i.read_shift(4),t.r=Sr(e);var r=i.read_shift(1);return r&2&&(t.l="1"),r&8&&(t.a="1"),t}var Tu=1024;function AC(i,t){for(var e=[21600,21600],r=["m0,0l0",e[1],e[0],e[1],e[0],"0xe"].join(","),n=[Dt("xml",null,{"xmlns:v":yo.v,"xmlns:o":yo.o,"xmlns:x":yo.x,"xmlns:mv":yo.mv}).replace(/\/>/,">"),Dt("o:shapelayout",Dt("o:idmap",null,{"v:ext":"edit",data:i}),{"v:ext":"edit"}),Dt("v:shapetype",[Dt("v:stroke",null,{joinstyle:"miter"}),Dt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:e.join(","),path:r})];Tu<i*1e3;)Tu+=1e3;return t.forEach(function(a){var o=Un(a[0]),d={color2:"#BEFF82",type:"gradient"};d.type=="gradient"&&(d.angle="-180");var u=d.type=="gradient"?Dt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,p=Dt("v:fill",u,d),g={on:"t",obscured:"t"};++Tu,n=n.concat(["<v:shape"+bf({id:"_x0000_s"+Tu,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",p,Dt("v:shadow",null,g),Dt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Yn("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),Yn("x:AutoFill","False"),Yn("x:Row",String(o.r)),Yn("x:Column",String(o.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),n.push("</xml>"),n.join("")}function OC(i){var t=[En,Dt("comments",null,{xmlns:Du[0]})],e=[];return t.push("<authors>"),i.forEach(function(r){r[1].forEach(function(n){var a=wr(n.a);e.indexOf(a)==-1&&(e.push(a),t.push("<author>"+a+"</author>")),n.T&&n.ID&&e.indexOf("tc="+n.ID)==-1&&(e.push("tc="+n.ID),t.push("<author>tc="+n.ID+"</author>"))})}),e.length==0&&(e.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),i.forEach(function(r){var n=0,a=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?n=e.indexOf("tc="+r[1][0].ID):r[1].forEach(function(u){u.a&&(n=e.indexOf(wr(u.a))),a.push(u.t||"")}),t.push('<comment ref="'+r[0]+'" authorId="'+n+'"><text>'),a.length<=1)t.push(Yn("t",wr(a[0]||"")));else{for(var o=`Comment:
    `+a[0]+`
`,d=1;d<a.length;++d)o+=`Reply:
    `+a[d]+`
`;t.push(Yn("t",wr(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function jF(i,t,e){var r=[En,Dt("ThreadedComments",null,{xmlns:Bn.TCMNT}).replace(/[\/]>/,">")];return i.forEach(function(n){var a="";(n[1]||[]).forEach(function(o,d){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var u={ref:n[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+e.tcid++).slice(-12)+"}"};d==0?a=u.id:u.parentId=a,o.ID=u.id,o.a&&(u.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),r.push(Dt("threadedComment",Yn("text",o.t||""),u))})}),r.push("</ThreadedComments>"),r.join("")}function qF(i){var t=[En,Dt("personList",null,{xmlns:Bn.TCMNT,"xmlns:x":Du[0]}).replace(/[\/]>/,">")];return i.forEach(function(e,r){t.push(Dt("person",null,{displayName:e,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:e,providerId:"None"}))}),t.push("</personList>"),t.join("")}function zF(i){var t={};t.iauthor=i.read_shift(4);var e=Ad(i,16);return t.rfx=e.s,t.ref=Sr(e.s),i.l+=16,t}function WF(i,t){return t==null&&(t=nt(36)),t.write_shift(4,i[1].iauthor),Uu(i[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var HF=pa;function GF(i){return Vn(i.slice(0,54))}function $F(i){var t=Qa(),e=[];return _t(t,628),_t(t,630),i.forEach(function(r){r[1].forEach(function(n){e.indexOf(n.a)>-1||(e.push(n.a.slice(0,54)),_t(t,632,GF(n.a)))})}),_t(t,631),_t(t,633),i.forEach(function(r){r[1].forEach(function(n){n.iauthor=e.indexOf(n.a);var a={s:Un(r[0]),e:Un(r[0])};_t(t,635,WF([a,n])),n.t&&n.t.length>0&&_t(t,637,XI(n)),_t(t,636),delete n.iauthor})}),_t(t,634),_t(t,629),t.end()}function ZF(i,t){t.FullPaths.forEach(function(e,r){if(r!=0){var n=e.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");n.slice(-1)!=="/"&&Ir.utils.cfb_add(i,n,t.FileIndex[r].content)}})}var IC=["xlsb","xlsm","xlam","biff8","xla"];var XF=function(){var i=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function e(r,n,a,o){var d=!1,u=!1;a.length==0?u=!0:a.charAt(0)=="["&&(u=!0,a=a.slice(1,-1)),o.length==0?d=!0:o.charAt(0)=="["&&(d=!0,o=o.slice(1,-1));var p=a.length>0?parseInt(a,10)|0:0,g=o.length>0?parseInt(o,10)|0:0;return d?g+=t.c:--g,u?p+=t.r:--p,n+(d?"":"$")+fa(g)+(u?"":"$")+Kn(p)}return function(n,a){return t=a,n.replace(i,e)}}(),kv=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Av=function(){return function(t,e){return t.replace(kv,function(r,n,a,o,d,u){var p=wv(o)-(a?0:e.c),g=Cv(u)-(d?0:e.r),y=g==0?"":d?g+1:"["+g+"]",w=p==0?"":a?p+1:"["+p+"]";return n+"R"+y+"C"+w})}}();function YF(i,t){return i.replace(kv,function(e,r,n,a,o,d){return r+(n=="$"?n+a:fa(wv(a)+t.c))+(o=="$"?o+d:Kn(Cv(d)+t.r))})}function KF(i){return i.length!=1}function wn(i){i.l+=1}function Mc(i,t){var e=i.read_shift(t==1?1:2);return[e&16383,e>>14&1,e>>15&1]}function FC(i,t,e){var r=2;if(e){if(e.biff>=2&&e.biff<=5)return NC(i,t,e);e.biff==12&&(r=4)}var n=i.read_shift(r),a=i.read_shift(r),o=Mc(i,2),d=Mc(i,2);return{s:{r:n,c:o[0],cRel:o[1],rRel:o[2]},e:{r:a,c:d[0],cRel:d[1],rRel:d[2]}}}function NC(i){var t=Mc(i,2),e=Mc(i,2),r=i.read_shift(1),n=i.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:e[0],c:n,cRel:e[1],rRel:e[2]}}}function JF(i,t,e){if(e.biff<8)return NC(i,t,e);var r=i.read_shift(e.biff==12?4:2),n=i.read_shift(e.biff==12?4:2),a=Mc(i,2),o=Mc(i,2);return{s:{r,c:a[0],cRel:a[1],rRel:a[2]},e:{r:n,c:o[0],cRel:o[1],rRel:o[2]}}}function LC(i,t,e){if(e&&e.biff>=2&&e.biff<=5)return QF(i,t,e);var r=i.read_shift(e&&e.biff==12?4:2),n=Mc(i,2);return{r,c:n[0],cRel:n[1],rRel:n[2]}}function QF(i){var t=Mc(i,2),e=i.read_shift(1);return{r:t[0],c:e,cRel:t[1],rRel:t[2]}}function eN(i){var t=i.read_shift(2),e=i.read_shift(2);return{r:t,c:e&255,fQuoted:!!(e&16384),cRel:e>>15,rRel:e>>15}}function tN(i,t,e){var r=e&&e.biff?e.biff:8;if(r>=2&&r<=5)return iN(i,t,e);var n=i.read_shift(r>=12?4:2),a=i.read_shift(2),o=(a&16384)>>14,d=(a&32768)>>15;if(a&=16383,d==1)for(;n>524287;)n-=1048576;if(o==1)for(;a>8191;)a=a-16384;return{r:n,c:a,cRel:o,rRel:d}}function iN(i){var t=i.read_shift(2),e=i.read_shift(1),r=(t&32768)>>15,n=(t&16384)>>14;return t&=16383,r==1&&t>=8192&&(t=t-16384),n==1&&e>=128&&(e=e-256),{r:t,c:e,cRel:n,rRel:r}}function rN(i,t,e){var r=(i[i.l++]&96)>>5,n=FC(i,e.biff>=2&&e.biff<=5?6:8,e);return[r,n]}function nN(i,t,e){var r=(i[i.l++]&96)>>5,n=i.read_shift(2,"i"),a=8;if(e)switch(e.biff){case 5:i.l+=12,a=6;break;case 12:a=12;break}var o=FC(i,a,e);return[r,n,o]}function aN(i,t,e){var r=(i[i.l++]&96)>>5;return i.l+=e&&e.biff>8?12:e.biff<8?6:8,[r]}function oN(i,t,e){var r=(i[i.l++]&96)>>5,n=i.read_shift(2),a=8;if(e)switch(e.biff){case 5:i.l+=12,a=6;break;case 12:a=12;break}return i.l+=a,[r,n]}function sN(i,t,e){var r=(i[i.l++]&96)>>5,n=JF(i,t-1,e);return[r,n]}function lN(i,t,e){var r=(i[i.l++]&96)>>5;return i.l+=e.biff==2?6:e.biff==12?14:7,[r]}function Cy(i){var t=i[i.l+1]&1,e=1;return i.l+=4,[t,e]}function cN(i,t,e){i.l+=2;for(var r=i.read_shift(e&&e.biff==2?1:2),n=[],a=0;a<=r;++a)n.push(i.read_shift(e&&e.biff==2?1:2));return n}function dN(i,t,e){var r=i[i.l+1]&255?1:0;return i.l+=2,[r,i.read_shift(e&&e.biff==2?1:2)]}function uN(i,t,e){var r=i[i.l+1]&255?1:0;return i.l+=2,[r,i.read_shift(e&&e.biff==2?1:2)]}function fN(i){var t=i[i.l+1]&255?1:0;return i.l+=2,[t,i.read_shift(2)]}function pN(i,t,e){var r=i[i.l+1]&255?1:0;return i.l+=e&&e.biff==2?3:4,[r]}function DC(i){var t=i.read_shift(1),e=i.read_shift(1);return[t,e]}function hN(i){return i.read_shift(2),DC(i,2)}function mN(i){return i.read_shift(2),DC(i,2)}function gN(i,t,e){var r=(i[i.l]&96)>>5;i.l+=1;var n=LC(i,0,e);return[r,n]}function vN(i,t,e){var r=(i[i.l]&96)>>5;i.l+=1;var n=tN(i,0,e);return[r,n]}function _N(i,t,e){var r=(i[i.l]&96)>>5;i.l+=1;var n=i.read_shift(2);e&&e.biff==5&&(i.l+=12);var a=LC(i,0,e);return[r,n,a]}function bN(i,t,e){var r=(i[i.l]&96)>>5;i.l+=1;var n=i.read_shift(e&&e.biff<=3?1:2);return[b7[n],UC[n],r]}function xN(i,t,e){var r=i[i.l++],n=i.read_shift(1),a=e&&e.biff<=3?[r==88?-1:0,i.read_shift(1)]:yN(i);return[n,(a[0]===0?UC:_7)[a[1]]]}function yN(i){return[i[i.l+1]>>7,i.read_shift(2)&32767]}function CN(i,t,e){i.l+=e&&e.biff==2?3:4}function wN(i,t,e){if(i.l++,e&&e.biff==12)return[i.read_shift(4,"i"),0];var r=i.read_shift(2),n=i.read_shift(e&&e.biff==2?1:2);return[r,n]}function SN(i){return i.l++,Sf[i.read_shift(1)]}function EN(i){return i.l++,i.read_shift(2)}function PN(i){return i.l++,i.read_shift(1)!==0}function MN(i){return i.l++,Vu(i,8)}function TN(i,t,e){return i.l++,_C(i,t-1,e)}function kN(i,t){var e=[i.read_shift(1)];if(t==12)switch(e[0]){case 2:e[0]=4;break;case 4:e[0]=16;break;case 0:e[0]=1;break;case 1:e[0]=2;break}switch(e[0]){case 4:e[1]=_8(i,1)?"TRUE":"FALSE",t!=12&&(i.l+=7);break;case 37:case 16:e[1]=Sf[i[i.l]],i.l+=t==12?4:8;break;case 0:i.l+=8;break;case 1:e[1]=Vu(i,8);break;case 2:e[1]=C8(i,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+e[0])}return e}function AN(i,t,e){for(var r=i.read_shift(e.biff==12?4:2),n=[],a=0;a!=r;++a)n.push((e.biff==12?Ad:E8)(i,8));return n}function ON(i,t,e){var r=0,n=0;e.biff==12?(r=i.read_shift(4),n=i.read_shift(4)):(n=1+i.read_shift(1),r=1+i.read_shift(2)),e.biff>=2&&e.biff<8&&(--r,--n==0&&(n=256));for(var a=0,o=[];a!=r&&(o[a]=[]);++a)for(var d=0;d!=n;++d)o[a][d]=kN(i,e.biff);return o}function IN(i,t,e){var r=i.read_shift(1)>>>5&3,n=!e||e.biff>=8?4:2,a=i.read_shift(n);switch(e.biff){case 2:i.l+=5;break;case 3:case 4:i.l+=8;break;case 5:i.l+=12;break}return[r,0,a]}function FN(i,t,e){if(e.biff==5)return NN(i,t,e);var r=i.read_shift(1)>>>5&3,n=i.read_shift(2),a=i.read_shift(4);return[r,n,a]}function NN(i){var t=i.read_shift(1)>>>5&3,e=i.read_shift(2,"i");i.l+=8;var r=i.read_shift(2);return i.l+=12,[t,e,r]}function LN(i,t,e){var r=i.read_shift(1)>>>5&3;i.l+=e&&e.biff==2?3:4;var n=i.read_shift(e&&e.biff==2?1:2);return[r,n]}function DN(i,t,e){var r=i.read_shift(1)>>>5&3,n=i.read_shift(e&&e.biff==2?1:2);return[r,n]}function RN(i,t,e){var r=i.read_shift(1)>>>5&3;return i.l+=4,e.biff<8&&i.l--,e.biff==12&&(i.l+=2),[r]}function BN(i,t,e){var r=(i[i.l++]&96)>>5,n=i.read_shift(2),a=4;if(e)switch(e.biff){case 5:a=15;break;case 12:a=6;break}return i.l+=a,[r,n]}var UN=Zs,VN=Zs,jN=Zs;function Ef(i,t,e){return i.l+=2,[eN(i,4,e)]}function Ov(i){return i.l+=6,[]}var qN=Ef,zN=Ov,WN=Ov,HN=Ef;function RC(i){return i.l+=2,[gC(i),i.read_shift(2)&1]}var GN=Ef,$N=RC,ZN=Ov,XN=Ef,YN=Ef,KN=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function JN(i){i.l+=2;var t=i.read_shift(2),e=i.read_shift(2),r=i.read_shift(4),n=i.read_shift(2),a=i.read_shift(2),o=KN[e>>2&31];return{ixti:t,coltype:e&3,rt:o,idx:r,c:n,C:a}}function QN(i){return i.l+=2,[i.read_shift(4)]}function e7(i,t,e){return i.l+=5,i.l+=2,i.l+=e.biff==2?1:4,["PTGSHEET"]}function t7(i,t,e){return i.l+=e.biff==2?4:5,["PTGENDSHEET"]}function i7(i){var t=i.read_shift(1)>>>5&3,e=i.read_shift(2);return[t,e]}function r7(i){var t=i.read_shift(1)>>>5&3,e=i.read_shift(2);return[t,e]}function n7(i){return i.l+=4,[0,0]}var wy={1:{n:"PtgExp",f:wN},2:{n:"PtgTbl",f:jN},3:{n:"PtgAdd",f:wn},4:{n:"PtgSub",f:wn},5:{n:"PtgMul",f:wn},6:{n:"PtgDiv",f:wn},7:{n:"PtgPower",f:wn},8:{n:"PtgConcat",f:wn},9:{n:"PtgLt",f:wn},10:{n:"PtgLe",f:wn},11:{n:"PtgEq",f:wn},12:{n:"PtgGe",f:wn},13:{n:"PtgGt",f:wn},14:{n:"PtgNe",f:wn},15:{n:"PtgIsect",f:wn},16:{n:"PtgUnion",f:wn},17:{n:"PtgRange",f:wn},18:{n:"PtgUplus",f:wn},19:{n:"PtgUminus",f:wn},20:{n:"PtgPercent",f:wn},21:{n:"PtgParen",f:wn},22:{n:"PtgMissArg",f:wn},23:{n:"PtgStr",f:TN},26:{n:"PtgSheet",f:e7},27:{n:"PtgEndSheet",f:t7},28:{n:"PtgErr",f:SN},29:{n:"PtgBool",f:PN},30:{n:"PtgInt",f:EN},31:{n:"PtgNum",f:MN},32:{n:"PtgArray",f:lN},33:{n:"PtgFunc",f:bN},34:{n:"PtgFuncVar",f:xN},35:{n:"PtgName",f:IN},36:{n:"PtgRef",f:gN},37:{n:"PtgArea",f:rN},38:{n:"PtgMemArea",f:LN},39:{n:"PtgMemErr",f:UN},40:{n:"PtgMemNoMem",f:VN},41:{n:"PtgMemFunc",f:DN},42:{n:"PtgRefErr",f:RN},43:{n:"PtgAreaErr",f:aN},44:{n:"PtgRefN",f:vN},45:{n:"PtgAreaN",f:sN},46:{n:"PtgMemAreaN",f:i7},47:{n:"PtgMemNoMemN",f:r7},57:{n:"PtgNameX",f:FN},58:{n:"PtgRef3d",f:_N},59:{n:"PtgArea3d",f:nN},60:{n:"PtgRefErr3d",f:BN},61:{n:"PtgAreaErr3d",f:oN},255:{}},a7={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},o7={1:{n:"PtgElfLel",f:RC},2:{n:"PtgElfRw",f:XN},3:{n:"PtgElfCol",f:qN},6:{n:"PtgElfRwV",f:YN},7:{n:"PtgElfColV",f:HN},10:{n:"PtgElfRadical",f:GN},11:{n:"PtgElfRadicalS",f:ZN},13:{n:"PtgElfColS",f:zN},15:{n:"PtgElfColSV",f:WN},16:{n:"PtgElfRadicalLel",f:$N},25:{n:"PtgList",f:JN},29:{n:"PtgSxName",f:QN},255:{}},s7={0:{n:"PtgAttrNoop",f:n7},1:{n:"PtgAttrSemi",f:pN},2:{n:"PtgAttrIf",f:uN},4:{n:"PtgAttrChoose",f:cN},8:{n:"PtgAttrGoto",f:dN},16:{n:"PtgAttrSum",f:CN},32:{n:"PtgAttrBaxcel",f:Cy},33:{n:"PtgAttrBaxcel",f:Cy},64:{n:"PtgAttrSpace",f:hN},65:{n:"PtgAttrSpaceSemi",f:mN},128:{n:"PtgAttrIfError",f:fN},255:{}};function l7(i,t,e,r){if(r.biff<8)return Zs(i,t);for(var n=i.l+t,a=[],o=0;o!==e.length;++o)switch(e[o][0]){case"PtgArray":e[o][1]=ON(i,0,r),a.push(e[o][1]);break;case"PtgMemArea":e[o][2]=AN(i,e[o][1],r),a.push(e[o][2]);break;case"PtgExp":r&&r.biff==12&&(e[o][1][1]=i.read_shift(4),a.push(e[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+e[o][0];default:break}return t=n-i.l,t!==0&&a.push(Zs(i,t)),a}function c7(i,t,e){for(var r=i.l+t,n,a,o=[];r!=i.l;)t=r-i.l,a=i[i.l],n=wy[a]||wy[a7[a]],(a===24||a===25)&&(n=(a===24?o7:s7)[i[i.l+1]]),!n||!n.f?Zs(i,t):o.push([n.n,n.f(i,t,e)]);return o}function d7(i){for(var t=[],e=0;e<i.length;++e){for(var r=i[e],n=[],a=0;a<r.length;++a){var o=r[a];if(o)switch(o[0]){case 2:n.push('"'+o[1].replace(/"/g,'""')+'"');break;default:n.push(o[1])}else n.push("")}t.push(n.join(","))}return t.join(";")}var u7={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function f7(i,t){if(!i&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(i)?"'"+i+"'":i}function BC(i,t,e){if(!i)return"SH33TJSERR0";if(e.biff>8&&(!i.XTI||!i.XTI[t]))return i.SheetNames[t];if(!i.XTI)return"SH33TJSERR6";var r=i.XTI[t];if(e.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":i.XTI[t-1];if(!r)return"SH33TJSERR1";var n="";if(e.biff>8)switch(i[r[0]][0]){case 357:return n=r[1]==-1?"#REF":i.SheetNames[r[1]],r[1]==r[2]?n:n+":"+i.SheetNames[r[2]];case 358:return e.SID!=null?i.SheetNames[e.SID]:"SH33TJSSAME"+i[r[0]][0];case 355:default:return"SH33TJSSRC"+i[r[0]][0]}switch(i[r[0]][0][0]){case 1025:return n=r[1]==-1?"#REF":i.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?n:n+":"+i.SheetNames[r[2]];case 14849:return i[r[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return i[r[0]][0][3]?(n=r[1]==-1?"#REF":i[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?n:n+":"+i[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function Sy(i,t,e){var r=BC(i,t,e);return r=="#REF"?r:f7(r,e)}function Lu(i,t,e,r,n){var a=n&&n.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},d=[],u,p,g,y=0,w=0,x,T="";if(!i[0]||!i[0][0])return"";for(var E=-1,k="",F=0,D=i[0].length;F<D;++F){var X=i[0][F];switch(X[0]){case"PtgUminus":d.push("-"+d.pop());break;case"PtgUplus":d.push("+"+d.pop());break;case"PtgPercent":d.push(d.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(u=d.pop(),p=d.pop(),E>=0){switch(i[0][E][1][0]){case 0:k=cn(" ",i[0][E][1][1]);break;case 1:k=cn("\r",i[0][E][1][1]);break;default:if(k="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+i[0][E][1][0])}p=p+k,E=-1}d.push(p+u7[X[0]]+u);break;case"PtgIsect":u=d.pop(),p=d.pop(),d.push(p+" "+u);break;case"PtgUnion":u=d.pop(),p=d.pop(),d.push(p+","+u);break;case"PtgRange":u=d.pop(),p=d.pop(),d.push(p+":"+u);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":g=ff(X[1][1],o,n),d.push(pf(g,a));break;case"PtgRefN":g=e?ff(X[1][1],e,n):X[1][1],d.push(pf(g,a));break;case"PtgRef3d":y=X[1][1],g=ff(X[1][2],o,n),T=Sy(r,y,n);var he=T;d.push(T+"!"+pf(g,a));break;case"PtgFunc":case"PtgFuncVar":var we=X[1][0],Be=X[1][1];we||(we=0),we&=127;var re=we==0?[]:d.slice(-we);d.length-=we,Be==="User"&&(Be=re.shift()),d.push(Be+"("+re.join(",")+")");break;case"PtgBool":d.push(X[1]?"TRUE":"FALSE");break;case"PtgInt":d.push(X[1]);break;case"PtgNum":d.push(String(X[1]));break;case"PtgStr":d.push('"'+X[1].replace(/"/g,'""')+'"');break;case"PtgErr":d.push(X[1]);break;case"PtgAreaN":x=ly(X[1][1],e?{s:e}:o,n),d.push(ev(x,n));break;case"PtgArea":x=ly(X[1][1],o,n),d.push(ev(x,n));break;case"PtgArea3d":y=X[1][1],x=X[1][2],T=Sy(r,y,n),d.push(T+"!"+ev(x,n));break;case"PtgAttrSum":d.push("SUM("+d.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":w=X[1][2];var ie=(r.names||[])[w-1]||(r[0]||[])[w],le=ie?ie.Name:"SH33TJSNAME"+String(w);le&&le.slice(0,6)=="_xlfn."&&!n.xlfn&&(le=le.slice(6)),d.push(le);break;case"PtgNameX":var Ce=X[1][1];w=X[1][2];var q;if(n.biff<=5)Ce<0&&(Ce=-Ce),r[Ce]&&(q=r[Ce][w]);else{var H="";if(((r[Ce]||[])[0]||[])[0]==14849||(((r[Ce]||[])[0]||[])[0]==1025?r[Ce][w]&&r[Ce][w].itab>0&&(H=r.SheetNames[r[Ce][w].itab-1]+"!"):H=r.SheetNames[w-1]+"!"),r[Ce]&&r[Ce][w])H+=r[Ce][w].Name;else if(r[0]&&r[0][w])H+=r[0][w].Name;else{var ve=(BC(r,Ce,n)||"").split(";;");ve[w-1]?H=ve[w-1]:H+="SH33TJSERRX"}d.push(H);break}q||(q={Name:"SH33TJSERRY"}),d.push(q.Name);break;case"PtgParen":var _e="(",Fe=")";if(E>=0){switch(k="",i[0][E][1][0]){case 2:_e=cn(" ",i[0][E][1][1])+_e;break;case 3:_e=cn("\r",i[0][E][1][1])+_e;break;case 4:Fe=cn(" ",i[0][E][1][1])+Fe;break;case 5:Fe=cn("\r",i[0][E][1][1])+Fe;break;default:if(n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+i[0][E][1][0])}E=-1}d.push(_e+d.pop()+Fe);break;case"PtgRefErr":d.push("#REF!");break;case"PtgRefErr3d":d.push("#REF!");break;case"PtgExp":g={c:X[1][1],r:X[1][0]};var ke={c:e.c,r:e.r};if(r.sharedf[Sr(g)]){var Ye=r.sharedf[Sr(g)];d.push(Lu(Ye,o,ke,r,n))}else{var Me=!1;for(u=0;u!=r.arrayf.length;++u)if(p=r.arrayf[u],!(g.c<p[0].s.c||g.c>p[0].e.c)&&!(g.r<p[0].s.r||g.r>p[0].e.r)){d.push(Lu(p[1],o,ke,r,n)),Me=!0;break}Me||d.push(X[1])}break;case"PtgArray":d.push("{"+d7(X[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":E=F;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":d.push("");break;case"PtgAreaErr":d.push("#REF!");break;case"PtgAreaErr3d":d.push("#REF!");break;case"PtgList":d.push("Table"+X[1].idx+"[#"+X[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(X));default:throw new Error("Unrecognized Formula Token: "+String(X))}var je=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(n.biff!=3&&E>=0&&je.indexOf(i[0][F][0])==-1){X=i[0][E];var Ze=!0;switch(X[1][0]){case 4:Ze=!1;case 0:k=cn(" ",X[1][1]);break;case 5:Ze=!1;case 1:k=cn("\r",X[1][1]);break;default:if(k="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+X[1][0])}d.push((Ze?k:"")+d.pop()+(Ze?"":k)),E=-1}}if(d.length>1&&n.WTF)throw new Error("bad formula stack");return d[0]}function p7(i){if(i==null){var t=nt(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof i=="number")return Sd(i);return Sd(0)}function h7(i,t,e,r,n){var a=Ed(t,e,n),o=p7(i.v),d=nt(6),u=33;d.write_shift(2,u),d.write_shift(4,0);for(var p=nt(i.bf.length),g=0;g<i.bf.length;++g)p[g]=i.bf[g];var y=Xn([a,o,d,p]);return y}function bm(i,t,e){var r=i.read_shift(4),n=c7(i,r,e),a=i.read_shift(4),o=a>0?l7(i,a,n,e):null;return[n,o]}var m7=bm,xm=bm,g7=bm,v7=bm,_7={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},UC={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},b7={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function x7(i){var t="of:="+i.replace(kv,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function y7(i){return i.replace(/\./,"!")}var hf=typeof Map<"u";function Iv(i,t,e){var r=0,n=i.length;if(e){if(hf?e.has(t):Object.prototype.hasOwnProperty.call(e,t)){for(var a=hf?e.get(t):e[t];r<a.length;++r)if(i[a[r]].t===t)return i.Count++,a[r]}}else for(;r<n;++r)if(i[r].t===t)return i.Count++,r;return i[n]={t},i.Count++,i.Unique++,e&&(hf?(e.has(t)||e.set(t,[]),e.get(t).push(n)):(Object.prototype.hasOwnProperty.call(e,t)||(e[t]=[]),e[t].push(n))),n}function ym(i,t){var e={min:i+1,max:i+1},r=-1;return t.MDW&&(Cl=t.MDW),t.width!=null?e.customWidth=1:t.wpx!=null?r=cm(t.wpx):t.wch!=null&&(r=t.wch),r>-1?(e.width=cv(r),e.customWidth=1):t.width!=null&&(e.width=t.width),t.hidden&&(e.hidden=!0),t.level!=null&&(e.outlineLevel=e.level=t.level),e}function VC(i,t){if(i){var e=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(e=[1,1,1,1,.5,.5]),i.left==null&&(i.left=e[0]),i.right==null&&(i.right=e[1]),i.top==null&&(i.top=e[2]),i.bottom==null&&(i.bottom=e[3]),i.header==null&&(i.header=e[4]),i.footer==null&&(i.footer=e[5])}}function kc(i,t,e){var r=e.revssf[t.z!=null?t.z:"General"],n=60,a=i.length;if(r==null&&e.ssf){for(;n<392;++n)if(e.ssf[n]==null){Vy(t.z,n),e.ssf[n]=t.z,e.revssf[t.z]=r=n;break}}for(n=0;n!=a;++n)if(i[n].numFmtId===r)return n;return i[a]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function C7(i,t,e){if(i&&i["!ref"]){var r=Wr(i["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+e+"): "+i["!ref"])}}function w7(i){if(i.length===0)return"";for(var t='<mergeCells count="'+i.length+'">',e=0;e!=i.length;++e)t+='<mergeCell ref="'+Sn(i[e])+'"/>';return t+"</mergeCells>"}function S7(i,t,e,r,n){var a=!1,o={},d=null;if(r.bookType!=="xlsx"&&t.vbaraw){var u=t.SheetNames[e];try{t.Workbook&&(u=t.Workbook.Sheets[e].CodeName||u)}catch{}a=!0,o.codeName=bl(wr(u))}if(i&&i["!outline"]){var p={summaryBelow:1,summaryRight:1};i["!outline"].above&&(p.summaryBelow=0),i["!outline"].left&&(p.summaryRight=0),d=(d||"")+Dt("outlinePr",null,p)}!a&&!d||(n[n.length]=Dt("sheetPr",d,o))}var E7=["objects","scenarios","selectLockedCells","selectUnlockedCells"],P7=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function M7(i){var t={sheet:1};return E7.forEach(function(e){i[e]!=null&&i[e]&&(t[e]="1")}),P7.forEach(function(e){i[e]!=null&&!i[e]&&(t[e]="0")}),i.password&&(t.password=wC(i.password).toString(16).toUpperCase()),Dt("sheetProtection",null,t)}function T7(i){return VC(i),Dt("pageMargins",null,i)}function k7(i,t){for(var e=["<cols>"],r,n=0;n!=t.length;++n)(r=t[n])&&(e[e.length]=Dt("col",null,ym(n,r)));return e[e.length]="</cols>",e.join("")}function A7(i,t,e,r){var n=typeof i.ref=="string"?i.ref:Sn(i.ref);e.Workbook||(e.Workbook={Sheets:[]}),e.Workbook.Names||(e.Workbook.Names=[]);var a=e.Workbook.Names,o=Co(n);o.s.r==o.e.r&&(o.e.r=Co(t["!ref"]).e.r,n=Sn(o));for(var d=0;d<a.length;++d){var u=a[d];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==r){u.Ref="'"+e.SheetNames[r]+"'!"+n;break}}return d==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+e.SheetNames[r]+"'!"+n}),Dt("autoFilter",null,{ref:n})}function O7(i,t,e,r){var n={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(n.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Dt("sheetViews",Dt("sheetView",null,n),{})}function I7(i,t,e,r){if(i.c&&e["!comments"].push([t,i.c]),i.v===void 0&&typeof i.f!="string"||i.t==="z"&&!i.f)return"";var n="",a=i.t,o=i.v;if(i.t!=="z")switch(i.t){case"b":n=i.v?"1":"0";break;case"n":n=""+i.v;break;case"e":n=Sf[i.v];break;case"d":r&&r.cellDates?n=La(i.v,-1).toISOString():(i=to(i),i.t="n",n=""+(i.v=eo(La(i.v)))),typeof i.z>"u"&&(i.z=dn[14]);break;default:n=i.v;break}var d=Yn("v",wr(n)),u={r:t},p=kc(r.cellXfs,i,r);switch(p!==0&&(u.s=p),i.t){case"n":break;case"d":u.t="d";break;case"b":u.t="b";break;case"e":u.t="e";break;case"z":break;default:if(i.v==null){delete i.t;break}if(i.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){d=Yn("v",""+Iv(r.Strings,i.v,r.revStrings)),u.t="s";break}u.t="str";break}if(i.t!=a&&(i.t=a,i.v=o),typeof i.f=="string"&&i.f){var g=i.F&&i.F.slice(0,t.length)==t?{t:"array",ref:i.F}:null;d=Dt("f",wr(i.f),g)+(i.v!=null?d:"")}return i.l&&e["!links"].push([t,i.l]),i.D&&(u.cm=1),Dt("c",d,u)}function F7(i,t,e,r){var n=[],a=[],o=Wr(i["!ref"]),d="",u,p="",g=[],y=0,w=0,x=i["!rows"],T=Array.isArray(i),E={r:p},k,F=-1;for(w=o.s.c;w<=o.e.c;++w)g[w]=fa(w);for(y=o.s.r;y<=o.e.r;++y){for(a=[],p=Kn(y),w=o.s.c;w<=o.e.c;++w){u=g[w]+p;var D=T?(i[y]||[])[w]:i[u];D!==void 0&&(d=I7(D,u,i,t,e,r))!=null&&a.push(d)}(a.length>0||x&&x[y])&&(E={r:p},x&&x[y]&&(k=x[y],k.hidden&&(E.hidden=1),F=-1,k.hpx?F=dm(k.hpx):k.hpt&&(F=k.hpt),F>-1&&(E.ht=F,E.customHeight=1),k.level&&(E.outlineLevel=k.level)),n[n.length]=Dt("row",a.join(""),E))}if(x)for(;y<x.length;++y)x&&x[y]&&(E={r:y+1},k=x[y],k.hidden&&(E.hidden=1),F=-1,k.hpx?F=dm(k.hpx):k.hpt&&(F=k.hpt),F>-1&&(E.ht=F,E.customHeight=1),k.level&&(E.outlineLevel=k.level),n[n.length]=Dt("row","",E));return n.join("")}function jC(i,t,e,r){var n=[En,Dt("worksheet",null,{xmlns:Du[0],"xmlns:r":Bn.r})],a=e.SheetNames[i],o=0,d="",u=e.Sheets[a];u==null&&(u={});var p=u["!ref"]||"A1",g=Wr(p);if(g.e.c>16383||g.e.r>1048575){if(t.WTF)throw new Error("Range "+p+" exceeds format limit A1:XFD1048576");g.e.c=Math.min(g.e.c,16383),g.e.r=Math.min(g.e.c,1048575),p=Sn(g)}r||(r={}),u["!comments"]=[];var y=[];S7(u,e,i,t,n),n[n.length]=Dt("dimension",null,{ref:p}),n[n.length]=O7(u,t,i,e),t.sheetFormat&&(n[n.length]=Dt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),u["!cols"]!=null&&u["!cols"].length>0&&(n[n.length]=k7(u,u["!cols"])),n[o=n.length]="<sheetData/>",u["!links"]=[],u["!ref"]!=null&&(d=F7(u,t,i,e,r),d.length>0&&(n[n.length]=d)),n.length>o+1&&(n[n.length]="</sheetData>",n[o]=n[o].replace("/>",">")),u["!protect"]&&(n[n.length]=M7(u["!protect"])),u["!autofilter"]!=null&&(n[n.length]=A7(u["!autofilter"],u,e,i)),u["!merges"]!=null&&u["!merges"].length>0&&(n[n.length]=w7(u["!merges"]));var w=-1,x,T=-1;return u["!links"].length>0&&(n[n.length]="<hyperlinks>",u["!links"].forEach(function(E){E[1].Target&&(x={ref:E[0]},E[1].Target.charAt(0)!="#"&&(T=Cr(r,-1,wr(E[1].Target).replace(/#.*$/,""),cr.HLINK),x["r:id"]="rId"+T),(w=E[1].Target.indexOf("#"))>-1&&(x.location=wr(E[1].Target.slice(w+1))),E[1].Tooltip&&(x.tooltip=wr(E[1].Tooltip)),n[n.length]=Dt("hyperlink",null,x))}),n[n.length]="</hyperlinks>"),delete u["!links"],u["!margins"]!=null&&(n[n.length]=T7(u["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(n[n.length]=Yn("ignoredErrors",Dt("ignoredError",null,{numberStoredAsText:1,sqref:p}))),y.length>0&&(T=Cr(r,-1,"../drawings/drawing"+(i+1)+".xml",cr.DRAW),n[n.length]=Dt("drawing",null,{"r:id":"rId"+T}),u["!drawing"]=y),u["!comments"].length>0&&(T=Cr(r,-1,"../drawings/vmlDrawing"+(i+1)+".vml",cr.VML),n[n.length]=Dt("legacyDrawing",null,{"r:id":"rId"+T}),u["!legacy"]=T),n.length>1&&(n[n.length]="</worksheet>",n[1]=n[1].replace("/>",">")),n.join("")}function N7(i,t){var e={},r=i.l+t;e.r=i.read_shift(4),i.l+=4;var n=i.read_shift(2);i.l+=1;var a=i.read_shift(1);return i.l=r,a&7&&(e.level=a&7),a&16&&(e.hidden=!0),a&32&&(e.hpt=n/20),e}function L7(i,t,e){var r=nt(145),n=(e["!rows"]||[])[i]||{};r.write_shift(4,i),r.write_shift(4,0);var a=320;n.hpx?a=dm(n.hpx)*20:n.hpt&&(a=n.hpt*20),r.write_shift(2,a),r.write_shift(1,0);var o=0;n.level&&(o|=n.level),n.hidden&&(o|=16),(n.hpx||n.hpt)&&(o|=32),r.write_shift(1,o),r.write_shift(1,0);var d=0,u=r.l;r.l+=4;for(var p={r:i,c:0},g=0;g<16;++g)if(!(t.s.c>g+1<<10||t.e.c<g<<10)){for(var y=-1,w=-1,x=g<<10;x<g+1<<10;++x){p.c=x;var T=Array.isArray(e)?(e[p.r]||[])[p.c]:e[Sr(p)];T&&(y<0&&(y=x),w=x)}y<0||(++d,r.write_shift(4,y),r.write_shift(4,w))}var E=r.l;return r.l=u,r.write_shift(4,d),r.l=E,r.length>r.l?r.slice(0,r.l):r}function D7(i,t,e,r){var n=L7(r,e,t);(n.length>17||(t["!rows"]||[])[r])&&_t(i,0,n)}var R7=Ad,B7=Uu;function U7(){}function V7(i,t){var e={},r=i[i.l];return++i.l,e.above=!(r&64),e.left=!(r&128),i.l+=18,e.name=YI(i,t-19),e}function j7(i,t,e){e==null&&(e=nt(84+4*i.length));var r=192;t&&(t.above&&(r&=-65),t.left&&(r&=-129)),e.write_shift(1,r);for(var n=1;n<3;++n)e.write_shift(1,0);return om({auto:1},e),e.write_shift(-4,-1),e.write_shift(-4,-1),iC(i,e),e.slice(0,e.l)}function q7(i){var t=Xo(i);return[t]}function z7(i,t,e){return e==null&&(e=nt(8)),Md(t,e)}function W7(i){var t=Td(i);return[t]}function H7(i,t,e){return e==null&&(e=nt(4)),kd(t,e)}function G7(i){var t=Xo(i),e=i.read_shift(1);return[t,e,"b"]}function $7(i,t,e){return e==null&&(e=nt(9)),Md(t,e),e.write_shift(1,i.v?1:0),e}function Z7(i){var t=Td(i),e=i.read_shift(1);return[t,e,"b"]}function X7(i,t,e){return e==null&&(e=nt(5)),kd(t,e),e.write_shift(1,i.v?1:0),e}function Y7(i){var t=Xo(i),e=i.read_shift(1);return[t,e,"e"]}function K7(i,t,e){return e==null&&(e=nt(9)),Md(t,e),e.write_shift(1,i.v),e}function J7(i){var t=Td(i),e=i.read_shift(1);return[t,e,"e"]}function Q7(i,t,e){return e==null&&(e=nt(8)),kd(t,e),e.write_shift(1,i.v),e.write_shift(2,0),e.write_shift(1,0),e}function eL(i){var t=Xo(i),e=i.read_shift(4);return[t,e,"s"]}function tL(i,t,e){return e==null&&(e=nt(12)),Md(t,e),e.write_shift(4,t.v),e}function iL(i){var t=Td(i),e=i.read_shift(4);return[t,e,"s"]}function rL(i,t,e){return e==null&&(e=nt(8)),kd(t,e),e.write_shift(4,t.v),e}function nL(i){var t=Xo(i),e=Vu(i);return[t,e,"n"]}function aL(i,t,e){return e==null&&(e=nt(16)),Md(t,e),Sd(i.v,e),e}function oL(i){var t=Td(i),e=Vu(i);return[t,e,"n"]}function sL(i,t,e){return e==null&&(e=nt(12)),kd(t,e),Sd(i.v,e),e}function lL(i){var t=Xo(i),e=rC(i);return[t,e,"n"]}function cL(i,t,e){return e==null&&(e=nt(12)),Md(t,e),nC(i.v,e),e}function dL(i){var t=Td(i),e=rC(i);return[t,e,"n"]}function uL(i,t,e){return e==null&&(e=nt(8)),kd(t,e),nC(i.v,e),e}function fL(i){var t=Xo(i),e=Sv(i);return[t,e,"is"]}function pL(i){var t=Xo(i),e=pa(i);return[t,e,"str"]}function hL(i,t,e){return e==null&&(e=nt(12+4*i.v.length)),Md(t,e),Vn(i.v,e),e.length>e.l?e.slice(0,e.l):e}function mL(i){var t=Td(i),e=pa(i);return[t,e,"str"]}function gL(i,t,e){return e==null&&(e=nt(8+4*i.v.length)),kd(t,e),Vn(i.v,e),e.length>e.l?e.slice(0,e.l):e}function vL(i,t,e){var r=i.l+t,n=Xo(i);n.r=e["!row"];var a=i.read_shift(1),o=[n,a,"b"];if(e.cellFormula){i.l+=2;var d=xm(i,r-i.l,e);o[3]=Lu(d,null,n,e.supbooks,e)}else i.l=r;return o}function _L(i,t,e){var r=i.l+t,n=Xo(i);n.r=e["!row"];var a=i.read_shift(1),o=[n,a,"e"];if(e.cellFormula){i.l+=2;var d=xm(i,r-i.l,e);o[3]=Lu(d,null,n,e.supbooks,e)}else i.l=r;return o}function bL(i,t,e){var r=i.l+t,n=Xo(i);n.r=e["!row"];var a=Vu(i),o=[n,a,"n"];if(e.cellFormula){i.l+=2;var d=xm(i,r-i.l,e);o[3]=Lu(d,null,n,e.supbooks,e)}else i.l=r;return o}function xL(i,t,e){var r=i.l+t,n=Xo(i);n.r=e["!row"];var a=pa(i),o=[n,a,"str"];if(e.cellFormula){i.l+=2;var d=xm(i,r-i.l,e);o[3]=Lu(d,null,n,e.supbooks,e)}else i.l=r;return o}var yL=Ad,CL=Uu;function wL(i,t){return t==null&&(t=nt(4)),t.write_shift(4,i),t}function SL(i,t){var e=i.l+t,r=Ad(i,16),n=Ev(i),a=pa(i),o=pa(i),d=pa(i);i.l=e;var u={rfx:r,relId:n,loc:a,display:d};return o&&(u.Tooltip=o),u}function EL(i,t){var e=nt(50+4*(i[1].Target.length+(i[1].Tooltip||"").length));Uu({s:Un(i[0]),e:Un(i[0])},e),Pv("rId"+t,e);var r=i[1].Target.indexOf("#"),n=r==-1?"":i[1].Target.slice(r+1);return Vn(n||"",e),Vn(i[1].Tooltip||"",e),Vn("",e),e.slice(0,e.l)}function PL(){}function ML(i,t,e){var r=i.l+t,n=aC(i,16),a=i.read_shift(1),o=[n];if(o[2]=a,e.cellFormula){var d=m7(i,r-i.l,e);o[1]=d}else i.l=r;return o}function TL(i,t,e){var r=i.l+t,n=Ad(i,16),a=[n];if(e.cellFormula){var o=v7(i,r-i.l,e);a[1]=o,i.l=r}else i.l=r;return a}function kL(i,t,e){e==null&&(e=nt(18));var r=ym(i,t);e.write_shift(-4,i),e.write_shift(-4,i),e.write_shift(4,(r.width||10)*256),e.write_shift(4,0);var n=0;return t.hidden&&(n|=1),typeof r.width=="number"&&(n|=2),t.level&&(n|=t.level<<8),e.write_shift(2,n),e}var qC=["left","right","top","bottom","header","footer"];function AL(i){var t={};return qC.forEach(function(e){t[e]=Vu(i,8)}),t}function OL(i,t){return t==null&&(t=nt(6*8)),VC(i),qC.forEach(function(e){Sd(i[e],t)}),t}function IL(i){var t=i.read_shift(2);return i.l+=28,{RTL:t&32}}function FL(i,t,e){e==null&&(e=nt(30));var r=924;return(((t||{}).Views||[])[0]||{}).RTL&&(r|=32),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,100),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(4,0),e}function NL(i){var t=nt(24);return t.write_shift(4,4),t.write_shift(4,1),Uu(i,t),t}function LL(i,t){return t==null&&(t=nt(16*4+2)),t.write_shift(2,i.password?wC(i.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(e){e[1]?t.write_shift(4,i[e[0]]!=null&&!i[e[0]]?1:0):t.write_shift(4,i[e[0]]!=null&&i[e[0]]?0:1)}),t}function DL(){}function RL(){}function BL(i,t,e,r,n,a,o){if(t.v===void 0)return!1;var d="";switch(t.t){case"b":d=t.v?"1":"0";break;case"d":t=to(t),t.z=t.z||dn[14],t.v=eo(La(t.v)),t.t="n";break;case"n":case"e":d=""+t.v;break;default:d=t.v;break}var u={r:e,c:r};switch(u.s=kc(n.cellXfs,t,n),t.l&&a["!links"].push([Sr(u),t.l]),t.c&&a["!comments"].push([Sr(u),t.c]),t.t){case"s":case"str":return n.bookSST?(d=Iv(n.Strings,t.v,n.revStrings),u.t="s",u.v=d,o?_t(i,18,rL(t,u)):_t(i,7,tL(t,u))):(u.t="str",o?_t(i,17,gL(t,u)):_t(i,6,hL(t,u))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?_t(i,13,uL(t,u)):_t(i,2,cL(t,u)):o?_t(i,16,sL(t,u)):_t(i,5,aL(t,u)),!0;case"b":return u.t="b",o?_t(i,15,X7(t,u)):_t(i,4,$7(t,u)),!0;case"e":return u.t="e",o?_t(i,14,Q7(t,u)):_t(i,3,K7(t,u)),!0}return o?_t(i,12,H7(t,u)):_t(i,1,z7(t,u)),!0}function UL(i,t,e,r){var n=Wr(t["!ref"]||"A1"),a,o="",d=[];_t(i,145);var u=Array.isArray(t),p=n.e.r;t["!rows"]&&(p=Math.max(n.e.r,t["!rows"].length-1));for(var g=n.s.r;g<=p;++g){o=Kn(g),D7(i,t,n,g);var y=!1;if(g<=n.e.r)for(var w=n.s.c;w<=n.e.c;++w){g===n.s.r&&(d[w]=fa(w)),a=d[w]+o;var x=u?(t[g]||[])[w]:t[a];if(!x){y=!1;continue}y=BL(i,x,g,w,r,t,y)}}_t(i,146)}function VL(i,t){!t||!t["!merges"]||(_t(i,177,wL(t["!merges"].length)),t["!merges"].forEach(function(e){_t(i,176,CL(e))}),_t(i,178))}function jL(i,t){!t||!t["!cols"]||(_t(i,390),t["!cols"].forEach(function(e,r){e&&_t(i,60,kL(r,e))}),_t(i,391))}function qL(i,t){!t||!t["!ref"]||(_t(i,648),_t(i,649,NL(Wr(t["!ref"]))),_t(i,650))}function zL(i,t,e){t["!links"].forEach(function(r){if(r[1].Target){var n=Cr(e,-1,r[1].Target.replace(/#.*$/,""),cr.HLINK);_t(i,494,EL(r,n))}}),delete t["!links"]}function WL(i,t,e,r){if(t["!comments"].length>0){var n=Cr(r,-1,"../drawings/vmlDrawing"+(e+1)+".vml",cr.VML);_t(i,551,Pv("rId"+n)),t["!legacy"]=n}}function HL(i,t,e,r){if(t["!autofilter"]){var n=t["!autofilter"],a=typeof n.ref=="string"?n.ref:Sn(n.ref);e.Workbook||(e.Workbook={Sheets:[]}),e.Workbook.Names||(e.Workbook.Names=[]);var o=e.Workbook.Names,d=Co(a);d.s.r==d.e.r&&(d.e.r=Co(t["!ref"]).e.r,a=Sn(d));for(var u=0;u<o.length;++u){var p=o[u];if(p.Name=="_xlnm._FilterDatabase"&&p.Sheet==r){p.Ref="'"+e.SheetNames[r]+"'!"+a;break}}u==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+e.SheetNames[r]+"'!"+a}),_t(i,161,Uu(Wr(a))),_t(i,162)}}function GL(i,t,e){_t(i,133),_t(i,137,FL(t,e)),_t(i,138),_t(i,134)}function $L(i,t){t["!protect"]&&_t(i,535,LL(t["!protect"]))}function ZL(i,t,e,r){var n=Qa(),a=e.SheetNames[i],o=e.Sheets[a]||{},d=a;try{e&&e.Workbook&&(d=e.Workbook.Sheets[i].CodeName||d)}catch{}var u=Wr(o["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],_t(n,129),(e.vbaraw||o["!outline"])&&_t(n,147,j7(d,o["!outline"])),_t(n,148,B7(u)),GL(n,o,e.Workbook),jL(n,o,i,t,e),UL(n,o,i,t,e),$L(n,o),HL(n,o,e,i),VL(n,o),zL(n,o,r),o["!margins"]&&_t(n,476,OL(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&qL(n,o),WL(n,o,i,r),_t(n,130),n.end()}function XL(i,t){i.l+=10;var e=pa(i,t-10);return{name:e}}var YL=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function KL(i){return!i.Workbook||!i.Workbook.WBProps?"false":MI(i.Workbook.WBProps.date1904)?"true":"false"}var JL="][*?/\\".split("");function zC(i,t){if(i.length>31){if(t)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var e=!0;return JL.forEach(function(r){if(i.indexOf(r)!=-1){if(!t)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");e=!1}}),e}function QL(i,t,e){i.forEach(function(r,n){zC(r);for(var a=0;a<n;++a)if(r==i[a])throw new Error("Duplicate Sheet Name: "+r);if(e){var o=t&&t[n]&&t[n].CodeName||r;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function eD(i){if(!i||!i.SheetNames||!i.Sheets)throw new Error("Invalid Workbook");if(!i.SheetNames.length)throw new Error("Workbook is empty");var t=i.Workbook&&i.Workbook.Sheets||[];QL(i.SheetNames,t,!!i.vbaraw);for(var e=0;e<i.SheetNames.length;++e)C7(i.Sheets[i.SheetNames[e]],i.SheetNames[e],e)}function WC(i){var t=[En];t[t.length]=Dt("workbook",null,{xmlns:Du[0],"xmlns:r":Bn.r});var e=i.Workbook&&(i.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};i.Workbook&&i.Workbook.WBProps&&(YL.forEach(function(d){i.Workbook.WBProps[d[0]]!=null&&i.Workbook.WBProps[d[0]]!=d[1]&&(r[d[0]]=i.Workbook.WBProps[d[0]])}),i.Workbook.WBProps.CodeName&&(r.codeName=i.Workbook.WBProps.CodeName,delete r.CodeName)),t[t.length]=Dt("workbookPr",null,r);var n=i.Workbook&&i.Workbook.Sheets||[],a=0;if(n&&n[0]&&n[0].Hidden){for(t[t.length]="<bookViews>",a=0;a!=i.SheetNames.length&&!(!n[a]||!n[a].Hidden);++a);a==i.SheetNames.length&&(a=0),t[t.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",a=0;a!=i.SheetNames.length;++a){var o={name:wr(i.SheetNames[a].slice(0,31))};if(o.sheetId=""+(a+1),o["r:id"]="rId"+(a+1),n[a])switch(n[a].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=Dt("sheet",null,o)}return t[t.length]="</sheets>",e&&(t[t.length]="<definedNames>",i.Workbook&&i.Workbook.Names&&i.Workbook.Names.forEach(function(d){var u={name:d.Name};d.Comment&&(u.comment=d.Comment),d.Sheet!=null&&(u.localSheetId=""+d.Sheet),d.Hidden&&(u.hidden="1"),d.Ref&&(t[t.length]=Dt("definedName",wr(d.Ref),u))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function tD(i,t){var e={};return e.Hidden=i.read_shift(4),e.iTabID=i.read_shift(4),e.strRelID=lv(i,t-8),e.name=pa(i),e}function iD(i,t){return t||(t=nt(127)),t.write_shift(4,i.Hidden),t.write_shift(4,i.iTabID),Pv(i.strRelID,t),Vn(i.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function rD(i,t){var e={},r=i.read_shift(4);e.defaultThemeVersion=i.read_shift(4);var n=t>8?pa(i):"";return n.length>0&&(e.CodeName=n),e.autoCompressPictures=!!(r&65536),e.backupFile=!!(r&64),e.checkCompatibility=!!(r&4096),e.date1904=!!(r&1),e.filterPrivacy=!!(r&8),e.hidePivotFieldList=!!(r&1024),e.promptedSolutions=!!(r&16),e.publishItems=!!(r&2048),e.refreshAllConnections=!!(r&262144),e.saveExternalLinkValues=!!(r&128),e.showBorderUnselectedTables=!!(r&4),e.showInkAnnotation=!!(r&32),e.showObjects=["all","placeholders","none"][r>>13&3],e.showPivotChartFilter=!!(r&32768),e.updateLinks=["userSet","never","always"][r>>8&3],e}function nD(i,t){t||(t=nt(72));var e=0;return i&&i.filterPrivacy&&(e|=8),t.write_shift(4,e),t.write_shift(4,0),iC(i&&i.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function aD(i,t,e){var r=i.l+t;i.l+=4,i.l+=1;var n=i.read_shift(4),a=KI(i),o=g7(i,0,e),d=Ev(i);i.l=r;var u={Name:a,Ptg:o};return n<268435455&&(u.Sheet=n),d&&(u.Comment=d),u}function oD(i,t){_t(i,143);for(var e=0;e!=t.SheetNames.length;++e){var r=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[e]&&t.Workbook.Sheets[e].Hidden||0,n={Hidden:r,iTabID:e+1,strRelID:"rId"+(e+1),name:t.SheetNames[e]};_t(i,156,iD(n))}_t(i,144)}function sD(i,t){t||(t=nt(127));for(var e=0;e!=4;++e)t.write_shift(4,0);return Vn("SheetJS",t),Vn(mf.version,t),Vn(mf.version,t),Vn("7262",t),t.length>t.l?t.slice(0,t.l):t}function lD(i,t){t||(t=nt(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,i),t.write_shift(4,i);var e=120;return t.write_shift(1,e),t.length>t.l?t.slice(0,t.l):t}function cD(i,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var e=t.Workbook.Sheets,r=0,n=-1,a=-1;r<e.length;++r)!e[r]||!e[r].Hidden&&n==-1?n=r:e[r].Hidden==1&&a==-1&&(a=r);a>n||(_t(i,135),_t(i,158,lD(n)),_t(i,136))}}function dD(i,t){var e=Qa();return _t(e,131),_t(e,128,sD()),_t(e,153,nD(i.Workbook&&i.Workbook.WBProps||null)),cD(e,i,t),oD(e,i,t),_t(e,132),e.end()}function uD(i,t,e){return(t.slice(-4)===".bin"?dD:WC)(i,e)}function fD(i,t,e,r,n){return(t.slice(-4)===".bin"?ZL:jC)(i,e,r,n)}function pD(i,t,e){return(t.slice(-4)===".bin"?OF:PC)(i,e)}function hD(i,t,e){return(t.slice(-4)===".bin"?nF:CC)(i,e)}function mD(i,t,e){return(t.slice(-4)===".bin"?$F:OC)(i,e)}function gD(i){return(i.slice(-4)===".bin"?UF:kC)()}function vD(i,t){var e=[];return i.Props&&e.push(p8(i.Props,t)),i.Custprops&&e.push(h8(i.Props,i.Custprops,t)),e.join("")}function _D(){return""}function bD(i,t){var e=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(r,n){var a=[];a.push(Dt("NumberFormat",null,{"ss:Format":wr(dn[r.numFmtId])}));var o={"ss:ID":"s"+(21+n)};e.push(Dt("Style",a.join(""),o))}),Dt("Styles",e.join(""))}function HC(i){return Dt("NamedRange",null,{"ss:Name":i.Name,"ss:RefersTo":"="+Av(i.Ref,{r:0,c:0})})}function xD(i){if(!((i||{}).Workbook||{}).Names)return"";for(var t=i.Workbook.Names,e=[],r=0;r<t.length;++r){var n=t[r];n.Sheet==null&&(n.Name.match(/^_xlfn\./)||e.push(HC(n)))}return Dt("Names",e.join(""))}function yD(i,t,e,r){if(!i||!((r||{}).Workbook||{}).Names)return"";for(var n=r.Workbook.Names,a=[],o=0;o<n.length;++o){var d=n[o];d.Sheet==e&&(d.Name.match(/^_xlfn\./)||a.push(HC(d)))}return a.join("")}function CD(i,t,e,r){if(!i)return"";var n=[];if(i["!margins"]&&(n.push("<PageSetup>"),i["!margins"].header&&n.push(Dt("Header",null,{"x:Margin":i["!margins"].header})),i["!margins"].footer&&n.push(Dt("Footer",null,{"x:Margin":i["!margins"].footer})),n.push(Dt("PageMargins",null,{"x:Bottom":i["!margins"].bottom||"0.75","x:Left":i["!margins"].left||"0.7","x:Right":i["!margins"].right||"0.7","x:Top":i["!margins"].top||"0.75"})),n.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[e])if(r.Workbook.Sheets[e].Hidden)n.push(Dt("Visible",r.Workbook.Sheets[e].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<e&&!(r.Workbook.Sheets[a]&&!r.Workbook.Sheets[a].Hidden);++a);a==e&&n.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&n.push("<DisplayRightToLeft/>"),i["!protect"]&&(n.push(Yn("ProtectContents","True")),i["!protect"].objects&&n.push(Yn("ProtectObjects","True")),i["!protect"].scenarios&&n.push(Yn("ProtectScenarios","True")),i["!protect"].selectLockedCells!=null&&!i["!protect"].selectLockedCells?n.push(Yn("EnableSelection","NoSelection")):i["!protect"].selectUnlockedCells!=null&&!i["!protect"].selectUnlockedCells&&n.push(Yn("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){i["!protect"][o[0]]&&n.push("<"+o[1]+"/>")})),n.length==0?"":Dt("WorksheetOptions",n.join(""),{xmlns:yo.x})}function wD(i){return i.map(function(t){var e=PI(t.t||""),r=Dt("ss:Data",e,{xmlns:"http://www.w3.org/TR/REC-html40"});return Dt("Comment",r,{"ss:Author":t.a})}).join("")}function SD(i,t,e,r,n,a,o){if(!i||i.v==null&&i.f==null)return"";var d={};if(i.f&&(d["ss:Formula"]="="+wr(Av(i.f,o))),i.F&&i.F.slice(0,t.length)==t){var u=Un(i.F.slice(t.length+1));d["ss:ArrayRange"]="RC:R"+(u.r==o.r?"":"["+(u.r-o.r)+"]")+"C"+(u.c==o.c?"":"["+(u.c-o.c)+"]")}if(i.l&&i.l.Target&&(d["ss:HRef"]=wr(i.l.Target),i.l.Tooltip&&(d["x:HRefScreenTip"]=wr(i.l.Tooltip))),e["!merges"])for(var p=e["!merges"],g=0;g!=p.length;++g)p[g].s.c!=o.c||p[g].s.r!=o.r||(p[g].e.c>p[g].s.c&&(d["ss:MergeAcross"]=p[g].e.c-p[g].s.c),p[g].e.r>p[g].s.r&&(d["ss:MergeDown"]=p[g].e.r-p[g].s.r));var y="",w="";switch(i.t){case"z":if(!r.sheetStubs)return"";break;case"n":y="Number",w=String(i.v);break;case"b":y="Boolean",w=i.v?"1":"0";break;case"e":y="Error",w=Sf[i.v];break;case"d":y="DateTime",w=new Date(i.v).toISOString(),i.z==null&&(i.z=i.z||dn[14]);break;case"s":y="String",w=EI(i.v||"");break}var x=kc(r.cellXfs,i,r);d["ss:StyleID"]="s"+(21+x),d["ss:Index"]=o.c+1;var T=i.v!=null?w:"",E=i.t=="z"?"":'<Data ss:Type="'+y+'">'+T+"</Data>";return(i.c||[]).length>0&&(E+=wD(i.c)),Dt("Cell",E,d)}function ED(i,t){var e='<Row ss:Index="'+(i+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=EC(t.hpt)),t.hpx&&(e+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(e+=' ss:Hidden="1"')),e+">"}function PD(i,t,e,r){if(!i["!ref"])return"";var n=Wr(i["!ref"]),a=i["!merges"]||[],o=0,d=[];i["!cols"]&&i["!cols"].forEach(function(k,F){Tv(k);var D=!!k.width,X=ym(F,k),he={"ss:Index":F+1};D&&(he["ss:Width"]=lm(X.width)),k.hidden&&(he["ss:Hidden"]="1"),d.push(Dt("Column",null,he))});for(var u=Array.isArray(i),p=n.s.r;p<=n.e.r;++p){for(var g=[ED(p,(i["!rows"]||[])[p])],y=n.s.c;y<=n.e.c;++y){var w=!1;for(o=0;o!=a.length;++o)if(!(a[o].s.c>y)&&!(a[o].s.r>p)&&!(a[o].e.c<y)&&!(a[o].e.r<p)){(a[o].s.c!=y||a[o].s.r!=p)&&(w=!0);break}if(!w){var x={r:p,c:y},T=Sr(x),E=u?(i[p]||[])[y]:i[T];g.push(SD(E,T,i,t,e,r,x))}}g.push("</Row>"),g.length>2&&d.push(g.join(""))}return d.join("")}function MD(i,t,e){var r=[],n=e.SheetNames[i],a=e.Sheets[n],o=a?yD(a,t,i,e):"";return o.length>0&&r.push("<Names>"+o+"</Names>"),o=a?PD(a,t,i,e):"",o.length>0&&r.push("<Table>"+o+"</Table>"),r.push(CD(a,t,i,e)),r.join("")}function TD(i,t){t||(t={}),i.SSF||(i.SSF=to(dn)),i.SSF&&(mm(),hm(i.SSF),t.revssf=gm(i.SSF),t.revssf[i.SSF[65535]]=0,t.ssf=i.SSF,t.cellXfs=[],kc(t.cellXfs,{},{revssf:{General:0}}));var e=[];e.push(vD(i,t)),e.push(_D(i,t)),e.push(""),e.push("");for(var r=0;r<i.SheetNames.length;++r)e.push(Dt("Worksheet",MD(r,t,i),{"ss:Name":wr(i.SheetNames[r])}));return e[2]=bD(i,t),e[3]=xD(i,t),En+Dt("Workbook",e.join(""),{xmlns:yo.ss,"xmlns:o":yo.o,"xmlns:x":yo.x,"xmlns:ss":yo.ss,"xmlns:dt":yo.dt,"xmlns:html":yo.html})}var rv={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function kD(i,t){var e=[],r=[],n=[],a=0,o,d=Kx(dy,"n"),u=Kx(uy,"n");if(i.Props)for(o=Jn(i.Props),a=0;a<o.length;++a)(Object.prototype.hasOwnProperty.call(d,o[a])?e:Object.prototype.hasOwnProperty.call(u,o[a])?r:n).push([o[a],i.Props[o[a]]]);if(i.Custprops)for(o=Jn(i.Custprops),a=0;a<o.length;++a)Object.prototype.hasOwnProperty.call(i.Props||{},o[a])||(Object.prototype.hasOwnProperty.call(d,o[a])?e:Object.prototype.hasOwnProperty.call(u,o[a])?r:n).push([o[a],i.Custprops[o[a]]]);var p=[];for(a=0;a<n.length;++a)mC.indexOf(n[a][0])>-1||fC.indexOf(n[a][0])>-1||n[a][1]!=null&&p.push(n[a]);r.length&&Ir.utils.cfb_add(t,"/SummaryInformation",gy(r,rv.SI,u,uy)),(e.length||p.length)&&Ir.utils.cfb_add(t,"/DocumentSummaryInformation",gy(e,rv.DSI,d,dy,p.length?p:null,rv.UDI))}function AD(i,t){var e=t||{},r=Ir.utils.cfb_new({root:"R"}),n="/Workbook";switch(e.bookType||"xls"){case"xls":e.bookType="biff8";case"xla":e.bookType||(e.bookType="xla");case"biff8":n="/Workbook",e.biff=8;break;case"biff5":n="/Book",e.biff=5;break;default:throw new Error("invalid type "+e.bookType+" for XLS CFB")}return Ir.utils.cfb_add(r,n,GC(i,e)),e.biff==8&&(i.Props||i.Custprops)&&kD(i,r),e.biff==8&&i.vbaraw&&ZF(r,Ir.read(i.vbaraw,{type:typeof i.vbaraw=="string"?"binary":"buffer"})),r}var OD={0:{f:N7},1:{f:q7},2:{f:lL},3:{f:Y7},4:{f:G7},5:{f:nL},6:{f:pL},7:{f:eL},8:{f:xL},9:{f:bL},10:{f:vL},11:{f:_L},12:{f:W7},13:{f:dL},14:{f:J7},15:{f:Z7},16:{f:oL},17:{f:mL},18:{f:iL},19:{f:Sv},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:aD},40:{},42:{},43:{f:pF},44:{f:uF},45:{f:gF},46:{f:_F},47:{f:vF},48:{},49:{f:WI},50:{},51:{f:NF},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:H8},62:{f:fL},63:{f:VF},64:{f:DL},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Zs,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:IL},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:V7},148:{f:R7,p:16},151:{f:PL},152:{},153:{f:rD},154:{},155:{},156:{f:tD},157:{},158:{},159:{T:1,f:tF},160:{T:-1},161:{T:1,f:Ad},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:yL},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:IF},336:{T:-1},337:{f:RF,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:lv},357:{},358:{},359:{},360:{T:1},361:{},362:{f:U8},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:ML},427:{f:TL},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:AL},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:U7},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:SL},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:lv},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:HF},633:{T:1},634:{T:-1},635:{T:1,f:zF},636:{T:-1},637:{f:ZI},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:XL},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:RL},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Bt(i,t,e,r){var n=t;if(!isNaN(n)){var a=r||(e||[]).length||0,o=i.next(4);o.write_shift(2,n),o.write_shift(2,a),a>0&&yv(e)&&i.push(e)}}function ID(i,t,e,r){var n=r||(e||[]).length||0;if(n<=8224)return Bt(i,t,e,n);var a=t;if(!isNaN(a)){for(var o=e.parts||[],d=0,u=0,p=0;p+(o[d]||8224)<=8224;)p+=o[d]||8224,d++;var g=i.next(4);for(g.write_shift(2,a),g.write_shift(2,p),i.push(e.slice(u,u+p)),u+=p;u<n;){for(g=i.next(4),g.write_shift(2,60),p=0;p+(o[d]||8224)<=8224;)p+=o[d]||8224,d++;g.write_shift(2,p),i.push(e.slice(u,u+p)),u+=p}}}function Pf(i,t,e){return i||(i=nt(7)),i.write_shift(2,t),i.write_shift(2,e),i.write_shift(2,0),i.write_shift(1,0),i}function FD(i,t,e,r){var n=nt(9);return Pf(n,i,t),vC(e,r||"b",n),n}function ND(i,t,e){var r=nt(8+2*e.length);return Pf(r,i,t),r.write_shift(1,e.length),r.write_shift(e.length,e,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function LD(i,t,e,r){if(t.v!=null)switch(t.t){case"d":case"n":var n=t.t=="d"?eo(La(t.v)):t.v;n==(n|0)&&n>=0&&n<65536?Bt(i,2,X8(e,r,n)):Bt(i,3,Z8(e,r,n));return;case"b":case"e":Bt(i,5,FD(e,r,t.v,t.t));return;case"s":case"str":Bt(i,4,ND(e,r,(t.v||"").slice(0,255)));return}Bt(i,1,Pf(null,e,r))}function DD(i,t,e,r){var n=Array.isArray(t),a=Wr(t["!ref"]||"A1"),o,d="",u=[];if(a.e.c>255||a.e.r>16383){if(r.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),o=Sn(a)}for(var p=a.s.r;p<=a.e.r;++p){d=Kn(p);for(var g=a.s.c;g<=a.e.c;++g){p===a.s.r&&(u[g]=fa(g)),o=u[g]+d;var y=n?(t[p]||[])[g]:t[o];y&&LD(i,y,p,g,r)}}}function RD(i,t){var e=t||{};$s!=null&&e.dense==null&&(e.dense=$s);for(var r=Qa(),n=0,a=0;a<i.SheetNames.length;++a)i.SheetNames[a]==e.sheet&&(n=a);if(n==0&&e.sheet&&i.SheetNames[0]!=e.sheet)throw new Error("Sheet not found: "+e.sheet);return Bt(r,e.biff==4?1033:e.biff==3?521:9,Mv(i,16,e)),DD(r,i.Sheets[i.SheetNames[n]],n,e,i),Bt(r,10),r.end()}function BD(i,t,e){Bt(i,49,O8({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},e))}function UD(i,t,e){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&Bt(i,1054,N8(n,t[n],e))})}function VD(i,t){var e=nt(19);e.write_shift(4,2151),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(2,3),e.write_shift(1,1),e.write_shift(4,0),Bt(i,2151,e),e=nt(39),e.write_shift(4,2152),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(2,3),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(2,1),e.write_shift(4,4),e.write_shift(2,0),xC(Wr(t["!ref"]||"A1"),e),e.write_shift(4,4),Bt(i,2152,e)}function jD(i,t){for(var e=0;e<16;++e)Bt(i,224,_y({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(r){Bt(i,224,_y(r,0,t))})}function qD(i,t){for(var e=0;e<t["!links"].length;++e){var r=t["!links"][e];Bt(i,440,q8(r)),r[1].Tooltip&&Bt(i,2048,z8(r))}delete t["!links"]}function zD(i,t){if(t){var e=0;t.forEach(function(r,n){++e<=256&&r&&Bt(i,125,G8(ym(n,r),n))})}}function WD(i,t,e,r,n){var a=16+kc(n.cellXfs,t,n);if(t.v==null&&!t.bf){Bt(i,513,Ed(e,r,a));return}if(t.bf)Bt(i,6,h7(t,e,r,n,a));else switch(t.t){case"d":case"n":var o=t.t=="d"?eo(La(t.v)):t.v;Bt(i,515,B8(e,r,o,a,n));break;case"b":case"e":Bt(i,517,R8(e,r,t.v,a,n,t.t));break;case"s":case"str":if(n.bookSST){var d=Iv(n.Strings,t.v,n.revStrings);Bt(i,253,I8(e,r,d,a,n))}else Bt(i,516,F8(e,r,(t.v||"").slice(0,255),a,n));break;default:Bt(i,513,Ed(e,r,a))}}function HD(i,t,e){var r=Qa(),n=e.SheetNames[i],a=e.Sheets[n]||{},o=(e||{}).Workbook||{},d=(o.Sheets||[])[i]||{},u=Array.isArray(a),p=t.biff==8,g,y="",w=[],x=Wr(a["!ref"]||"A1"),T=p?65536:16384;if(x.e.c>255||x.e.r>=T){if(t.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");x.e.c=Math.min(x.e.c,255),x.e.r=Math.min(x.e.c,T-1)}Bt(r,2057,Mv(e,16,t)),Bt(r,13,Zo(1)),Bt(r,12,Zo(100)),Bt(r,15,Na(!0)),Bt(r,17,Na(!1)),Bt(r,16,Sd(.001)),Bt(r,95,Na(!0)),Bt(r,42,Na(!1)),Bt(r,43,Na(!1)),Bt(r,130,Zo(1)),Bt(r,128,D8([0,0])),Bt(r,131,Na(!1)),Bt(r,132,Na(!1)),p&&zD(r,a["!cols"]),Bt(r,512,L8(x,t)),p&&(a["!links"]=[]);for(var E=x.s.r;E<=x.e.r;++E){y=Kn(E);for(var k=x.s.c;k<=x.e.c;++k){E===x.s.r&&(w[k]=fa(k)),g=w[k]+y;var F=u?(a[E]||[])[k]:a[g];F&&(WD(r,F,E,k,t),p&&F.l&&a["!links"].push([g,F.l]))}}var D=d.CodeName||d.name||n;return p&&Bt(r,574,A8((o.Views||[])[0])),p&&(a["!merges"]||[]).length&&Bt(r,229,j8(a["!merges"])),p&&qD(r,a),Bt(r,442,bC(D,t)),p&&VD(r,a),Bt(r,10),r.end()}function GD(i,t,e){var r=Qa(),n=(i||{}).Workbook||{},a=n.Sheets||[],o=n.WBProps||{},d=e.biff==8,u=e.biff==5;if(Bt(r,2057,Mv(i,5,e)),e.bookType=="xla"&&Bt(r,135),Bt(r,225,d?Zo(1200):null),Bt(r,193,v8(2)),u&&Bt(r,191),u&&Bt(r,192),Bt(r,226),Bt(r,92,P8("SheetJS",e)),Bt(r,66,Zo(d?1200:1252)),d&&Bt(r,353,Zo(0)),d&&Bt(r,448),Bt(r,317,$8(i.SheetNames.length)),d&&i.vbaraw&&Bt(r,211),d&&i.vbaraw){var p=o.CodeName||"ThisWorkbook";Bt(r,442,bC(p,e))}Bt(r,156,Zo(17)),Bt(r,25,Na(!1)),Bt(r,18,Na(!1)),Bt(r,19,Zo(0)),d&&Bt(r,431,Na(!1)),d&&Bt(r,444,Zo(0)),Bt(r,61,k8(e)),Bt(r,64,Na(!1)),Bt(r,141,Zo(0)),Bt(r,34,Na(KL(i)=="true")),Bt(r,14,Na(!0)),d&&Bt(r,439,Na(!1)),Bt(r,218,Zo(0)),BD(r,i,e),UD(r,i.SSF,e),jD(r,e),d&&Bt(r,352,Na(!1));var g=r.end(),y=Qa();d&&Bt(y,140,W8()),d&&e.Strings&&ID(y,252,T8(e.Strings,e)),Bt(y,10);var w=y.end(),x=Qa(),T=0,E=0;for(E=0;E<i.SheetNames.length;++E)T+=(d?12:11)+(d?2:1)*i.SheetNames[E].length;var k=g.length+T+w.length;for(E=0;E<i.SheetNames.length;++E){var F=a[E]||{};Bt(x,133,M8({pos:k,hs:F.Hidden||0,dt:0,name:i.SheetNames[E]},e)),k+=t[E].length}var D=x.end();if(T!=D.length)throw new Error("BS8 "+T+" != "+D.length);var X=[];return g.length&&X.push(g),D.length&&X.push(D),w.length&&X.push(w),Xn(X)}function $D(i,t){var e=t||{},r=[];i&&!i.SSF&&(i.SSF=to(dn)),i&&i.SSF&&(mm(),hm(i.SSF),e.revssf=gm(i.SSF),e.revssf[i.SSF[65535]]=0,e.ssf=i.SSF),e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Fv(e),e.cellXfs=[],kc(e.cellXfs,{},{revssf:{General:0}}),i.Props||(i.Props={});for(var n=0;n<i.SheetNames.length;++n)r[r.length]=HD(n,e,i);return r.unshift(GD(i,r,e)),Xn(r)}function GC(i,t){for(var e=0;e<=i.SheetNames.length;++e){var r=i.Sheets[i.SheetNames[e]];if(!(!r||!r["!ref"])){var n=Co(r["!ref"]);n.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+i.SheetNames[e]+"' extends beyond column IV (255).  Data may be lost.")}}var a=t||{};switch(a.biff||2){case 8:case 5:return $D(i,t);case 4:case 3:case 2:return RD(i,t)}throw new Error("invalid type "+a.bookType+" for BIFF")}function ZD(i,t,e,r){for(var n=i["!merges"]||[],a=[],o=t.s.c;o<=t.e.c;++o){for(var d=0,u=0,p=0;p<n.length;++p)if(!(n[p].s.r>e||n[p].s.c>o)&&!(n[p].e.r<e||n[p].e.c<o)){if(n[p].s.r<e||n[p].s.c<o){d=-1;break}d=n[p].e.r-n[p].s.r+1,u=n[p].e.c-n[p].s.c+1;break}if(!(d<0)){var g=Sr({r:e,c:o}),y=r.dense?(i[e]||[])[o]:i[g],w=y&&y.v!=null&&(y.h||SI(y.w||(Sl(y),y.w)||""))||"",x={};d>1&&(x.rowspan=d),u>1&&(x.colspan=u),r.editable?w='<span contenteditable="true">'+w+"</span>":y&&(x["data-t"]=y&&y.t||"z",y.v!=null&&(x["data-v"]=y.v),y.z!=null&&(x["data-z"]=y.z),y.l&&(y.l.Target||"#").charAt(0)!="#"&&(w='<a href="'+y.l.Target+'">'+w+"</a>")),x.id=(r.id||"sjs")+"-"+g,a.push(Dt("td",w,x))}}var T="<tr>";return T+a.join("")+"</tr>"}var XD='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',YD="</body></html>";function KD(i,t,e){var r=[];return r.join("")+"<table"+(e&&e.id?' id="'+e.id+'"':"")+">"}function $C(i,t){var e=t||{},r=e.header!=null?e.header:XD,n=e.footer!=null?e.footer:YD,a=[r],o=Co(i["!ref"]);e.dense=Array.isArray(i),a.push(KD(i,o,e));for(var d=o.s.r;d<=o.e.r;++d)a.push(ZD(i,o,d,e));return a.push("</table>"+n),a.join("")}function ZC(i,t,e){var r=e||{};$s!=null&&(r.dense=$s);var n=0,a=0;if(r.origin!=null)if(typeof r.origin=="number")n=r.origin;else{var o=typeof r.origin=="string"?Un(r.origin):r.origin;n=o.r,a=o.c}var d=t.getElementsByTagName("tr"),u=Math.min(r.sheetRows||1e7,d.length),p={s:{r:0,c:0},e:{r:n,c:a}};if(i["!ref"]){var g=Co(i["!ref"]);p.s.r=Math.min(p.s.r,g.s.r),p.s.c=Math.min(p.s.c,g.s.c),p.e.r=Math.max(p.e.r,g.e.r),p.e.c=Math.max(p.e.c,g.e.c),n==-1&&(p.e.r=n=g.e.r+1)}var y=[],w=0,x=i["!rows"]||(i["!rows"]=[]),T=0,E=0,k=0,F=0,D=0,X=0;for(i["!cols"]||(i["!cols"]=[]);T<d.length&&E<u;++T){var he=d[T];if(Ey(he)){if(r.display)continue;x[E]={hidden:!0}}var we=he.children;for(k=F=0;k<we.length;++k){var Be=we[k];if(!(r.display&&Ey(Be))){var re=Be.hasAttribute("data-v")?Be.getAttribute("data-v"):Be.hasAttribute("v")?Be.getAttribute("v"):TI(Be.innerHTML),ie=Be.getAttribute("data-z")||Be.getAttribute("z");for(w=0;w<y.length;++w){var le=y[w];le.s.c==F+a&&le.s.r<E+n&&E+n<=le.e.r&&(F=le.e.c+1-a,w=-1)}X=+Be.getAttribute("colspan")||1,((D=+Be.getAttribute("rowspan")||1)>1||X>1)&&y.push({s:{r:E+n,c:F+a},e:{r:E+n+(D||1)-1,c:F+a+(X||1)-1}});var Ce={t:"s",v:re},q=Be.getAttribute("data-t")||Be.getAttribute("t")||"";re!=null&&(re.length==0?Ce.t=q||"z":r.raw||re.trim().length==0||q=="s"||(re==="TRUE"?Ce={t:"b",v:!0}:re==="FALSE"?Ce={t:"b",v:!1}:isNaN(yl(re))?isNaN(_f(re).getDate())||(Ce={t:"d",v:La(re)},r.cellDates||(Ce={t:"n",v:eo(Ce.v)}),Ce.z=r.dateNF||dn[14]):Ce={t:"n",v:yl(re)})),Ce.z===void 0&&ie!=null&&(Ce.z=ie);var H="",ve=Be.getElementsByTagName("A");if(ve&&ve.length)for(var _e=0;_e<ve.length&&!(ve[_e].hasAttribute("href")&&(H=ve[_e].getAttribute("href"),H.charAt(0)!="#"));++_e);H&&H.charAt(0)!="#"&&(Ce.l={Target:H}),r.dense?(i[E+n]||(i[E+n]=[]),i[E+n][F+a]=Ce):i[Sr({c:F+a,r:E+n})]=Ce,p.e.c<F+a&&(p.e.c=F+a),F+=X}}++E}return y.length&&(i["!merges"]=(i["!merges"]||[]).concat(y)),p.e.r=Math.max(p.e.r,E-1+n),i["!ref"]=Sn(p),E>=u&&(i["!fullref"]=Sn((p.e.r=d.length-T+E-1+n,p))),i}function XC(i,t){var e=t||{},r=e.dense?[]:{};return ZC(r,i,t)}function JD(i,t){return Pd(XC(i,t),t)}function Ey(i){var t="",e=QD(i);return e&&(t=e(i).getPropertyValue("display")),t||(t=i.style&&i.style.display),t==="none"}function QD(i){return i.ownerDocument.defaultView&&typeof i.ownerDocument.defaultView.getComputedStyle=="function"?i.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var eR=function(){var i=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+bf({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+i+"</office:document-styles>";return function(){return En+t}}(),Py=function(){var i=function(a){return wr(a).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,e=`          <table:covered-table-cell/>
`,r=function(a,o,d){var u=[];u.push('      <table:table table:name="'+wr(o.SheetNames[d])+`" table:style-name="ta1">
`);var p=0,g=0,y=Co(a["!ref"]||"A1"),w=a["!merges"]||[],x=0,T=Array.isArray(a);if(a["!cols"])for(g=0;g<=y.e.c;++g)u.push("        <table:table-column"+(a["!cols"][g]?' table:style-name="co'+a["!cols"][g].ods+'"':"")+`></table:table-column>
`);var E="",k=a["!rows"]||[];for(p=0;p<y.s.r;++p)E=k[p]?' table:style-name="ro'+k[p].ods+'"':"",u.push("        <table:table-row"+E+`></table:table-row>
`);for(;p<=y.e.r;++p){for(E=k[p]?' table:style-name="ro'+k[p].ods+'"':"",u.push("        <table:table-row"+E+`>
`),g=0;g<y.s.c;++g)u.push(t);for(;g<=y.e.c;++g){var F=!1,D={},X="";for(x=0;x!=w.length;++x)if(!(w[x].s.c>g)&&!(w[x].s.r>p)&&!(w[x].e.c<g)&&!(w[x].e.r<p)){(w[x].s.c!=g||w[x].s.r!=p)&&(F=!0),D["table:number-columns-spanned"]=w[x].e.c-w[x].s.c+1,D["table:number-rows-spanned"]=w[x].e.r-w[x].s.r+1;break}if(F){u.push(e);continue}var he=Sr({r:p,c:g}),we=T?(a[p]||[])[g]:a[he];if(we&&we.f&&(D["table:formula"]=wr(x7(we.f)),we.F&&we.F.slice(0,he.length)==he)){var Be=Co(we.F);D["table:number-matrix-columns-spanned"]=Be.e.c-Be.s.c+1,D["table:number-matrix-rows-spanned"]=Be.e.r-Be.s.r+1}if(!we){u.push(t);continue}switch(we.t){case"b":X=we.v?"TRUE":"FALSE",D["office:value-type"]="boolean",D["office:boolean-value"]=we.v?"true":"false";break;case"n":X=we.w||String(we.v||0),D["office:value-type"]="float",D["office:value"]=we.v||0;break;case"s":case"str":X=we.v==null?"":we.v,D["office:value-type"]="string";break;case"d":X=we.w||La(we.v).toISOString(),D["office:value-type"]="date",D["office:date-value"]=La(we.v).toISOString(),D["table:style-name"]="ce1";break;default:u.push(t);continue}var re=i(X);if(we.l&&we.l.Target){var ie=we.l.Target;ie=ie.charAt(0)=="#"?"#"+y7(ie.slice(1)):ie,ie.charAt(0)!="#"&&!ie.match(/^\w+:/)&&(ie="../"+ie),re=Dt("text:a",re,{"xlink:href":ie.replace(/&/g,"&amp;")})}u.push("          "+Dt("table:table-cell",Dt("text:p",re,{}),D)+`
`)}u.push(`        </table:table-row>
`)}return u.push(`      </table:table>
`),u.join("")},n=function(a,o){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var d=0;o.SheetNames.map(function(p){return o.Sheets[p]}).forEach(function(p){if(p&&p["!cols"]){for(var g=0;g<p["!cols"].length;++g)if(p["!cols"][g]){var y=p["!cols"][g];if(y.width==null&&y.wpx==null&&y.wch==null)continue;Tv(y),y.ods=d;var w=p["!cols"][g].wpx+"px";a.push('  <style:style style:name="co'+d+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+w+`"/>
`),a.push(`  </style:style>
`),++d}}});var u=0;o.SheetNames.map(function(p){return o.Sheets[p]}).forEach(function(p){if(p&&p["!rows"]){for(var g=0;g<p["!rows"].length;++g)if(p["!rows"][g]){p["!rows"][g].ods=u;var y=p["!rows"][g].hpx+"px";a.push('  <style:style style:name="ro'+u+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+y+`"/>
`),a.push(`  </style:style>
`),++u}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(o,d){var u=[En],p=bf({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),g=bf({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});d.bookType=="fods"?(u.push("<office:document"+p+g+`>
`),u.push(dC().replace(/office:document-meta/g,"office:meta"))):u.push("<office:document-content"+p+`>
`),n(u,o),u.push(`  <office:body>
`),u.push(`    <office:spreadsheet>
`);for(var y=0;y!=o.SheetNames.length;++y)u.push(r(o.Sheets[o.SheetNames[y]],o,y,d));return u.push(`    </office:spreadsheet>
`),u.push(`  </office:body>
`),d.bookType=="fods"?u.push("</office:document>"):u.push("</office:document-content>"),u.join("")}}();function YC(i,t){if(t.bookType=="fods")return Py(i,t);var e=pv(),r="",n=[],a=[];return r="mimetype",Wi(e,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",Wi(e,r,Py(i,t)),n.push([r,"text/xml"]),a.push([r,"ContentFile"]),r="styles.xml",Wi(e,r,eR(i,t)),n.push([r,"text/xml"]),a.push([r,"StylesFile"]),r="meta.xml",Wi(e,r,En+dC()),n.push([r,"text/xml"]),a.push([r,"MetadataFile"]),r="manifest.rdf",Wi(e,r,f8(a)),n.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",Wi(e,r,d8(n)),e}function um(i){return new DataView(i.buffer,i.byteOffset,i.byteLength)}function tR(i){return typeof TextEncoder<"u"?new TextEncoder().encode(i):gs(bl(i))}function iR(i,t){e:for(var e=0;e<=i.length-t.length;++e){for(var r=0;r<t.length;++r)if(i[e+r]!=t[r])continue e;return!0}return!1}function Tc(i){var t=i.reduce(function(n,a){return n+a.length},0),e=new Uint8Array(t),r=0;return i.forEach(function(n){e.set(n,r),r+=n.length}),e}function rR(i,t,e){var r=Math.floor(e==0?0:Math.LOG10E*Math.log(Math.abs(e)))+6176-20,n=e/Math.pow(10,r-6176);i[t+15]|=r>>7,i[t+14]|=(r&127)<<1;for(var a=0;n>=1;++a,n/=256)i[t+a]=n&255;i[t+15]|=e>=0?0:128}function xf(i,t){var e=t?t[0]:0,r=i[e]&127;e:if(i[e++]>=128&&(r|=(i[e]&127)<<7,i[e++]<128||(r|=(i[e]&127)<<14,i[e++]<128)||(r|=(i[e]&127)<<21,i[e++]<128)||(r+=(i[e]&127)*Math.pow(2,28),++e,i[e++]<128)||(r+=(i[e]&127)*Math.pow(2,35),++e,i[e++]<128)||(r+=(i[e]&127)*Math.pow(2,42),++e,i[e++]<128)))break e;return t&&(t[0]=e),r}function yr(i){var t=new Uint8Array(7);t[0]=i&127;var e=1;e:if(i>127){if(t[e-1]|=128,t[e]=i>>7&127,++e,i<=16383||(t[e-1]|=128,t[e]=i>>14&127,++e,i<=2097151)||(t[e-1]|=128,t[e]=i>>21&127,++e,i<=268435455)||(t[e-1]|=128,t[e]=i/256>>>21&127,++e,i<=34359738367)||(t[e-1]|=128,t[e]=i/65536>>>21&127,++e,i<=4398046511103))break e;t[e-1]|=128,t[e]=i/16777216>>>21&127,++e}return t.slice(0,e)}function Fu(i){var t=0,e=i[t]&127;e:if(i[t++]>=128){if(e|=(i[t]&127)<<7,i[t++]<128||(e|=(i[t]&127)<<14,i[t++]<128)||(e|=(i[t]&127)<<21,i[t++]<128))break e;e|=(i[t]&127)<<28}return e}function kn(i){for(var t=[],e=[0];e[0]<i.length;){var r=e[0],n=xf(i,e),a=n&7;n=Math.floor(n/8);var o=0,d;if(n==0)break;switch(a){case 0:{for(var u=e[0];i[e[0]++]>=128;);d=i.slice(u,e[0])}break;case 5:o=4,d=i.slice(e[0],e[0]+o),e[0]+=o;break;case 1:o=8,d=i.slice(e[0],e[0]+o),e[0]+=o;break;case 2:o=xf(i,e),d=i.slice(e[0],e[0]+o),e[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(n," at offset ").concat(r))}var p={data:d,type:a};t[n]==null?t[n]=[p]:t[n].push(p)}return t}function $n(i){var t=[];return i.forEach(function(e,r){e.forEach(function(n){n.data&&(t.push(yr(r*8+n.type)),n.type==2&&t.push(yr(n.data.length)),t.push(n.data))})}),Tc(t)}function hs(i){for(var t,e=[],r=[0];r[0]<i.length;){var n=xf(i,r),a=kn(i.slice(r[0],r[0]+n));r[0]+=n;var o={id:Fu(a[1][0].data),messages:[]};a[2].forEach(function(d){var u=kn(d.data),p=Fu(u[3][0].data);o.messages.push({meta:u,data:i.slice(r[0],r[0]+p)}),r[0]+=p}),(t=a[3])!=null&&t[0]&&(o.merge=Fu(a[3][0].data)>>>0>0),e.push(o)}return e}function Eu(i){var t=[];return i.forEach(function(e){var r=[];r[1]=[{data:yr(e.id),type:0}],r[2]=[],e.merge!=null&&(r[3]=[{data:yr(+!!e.merge),type:0}]);var n=[];e.messages.forEach(function(o){n.push(o.data),o.meta[3]=[{type:0,data:yr(o.data.length)}],r[2].push({data:$n(o.meta),type:2})});var a=$n(r);t.push(yr(a.length)),t.push(a),n.forEach(function(o){return t.push(o)})}),Tc(t)}function nR(i,t){if(i!=0)throw new Error("Unexpected Snappy chunk type ".concat(i));for(var e=[0],r=xf(t,e),n=[];e[0]<t.length;){var a=t[e[0]]&3;if(a==0){var o=t[e[0]++]>>2;if(o<60)++o;else{var d=o-59;o=t[e[0]],d>1&&(o|=t[e[0]+1]<<8),d>2&&(o|=t[e[0]+2]<<16),d>3&&(o|=t[e[0]+3]<<24),o>>>=0,o++,e[0]+=d}n.push(t.slice(e[0],e[0]+o)),e[0]+=o;continue}else{var u=0,p=0;if(a==1?(p=(t[e[0]]>>2&7)+4,u=(t[e[0]++]&224)<<3,u|=t[e[0]++]):(p=(t[e[0]++]>>2)+1,a==2?(u=t[e[0]]|t[e[0]+1]<<8,e[0]+=2):(u=(t[e[0]]|t[e[0]+1]<<8|t[e[0]+2]<<16|t[e[0]+3]<<24)>>>0,e[0]+=4)),n=[Tc(n)],u==0)throw new Error("Invalid offset 0");if(u>n[0].length)throw new Error("Invalid offset beyond length");if(p>=u)for(n.push(n[0].slice(-u)),p-=u;p>=n[n.length-1].length;)n.push(n[n.length-1]),p-=n[n.length-1].length;n.push(n[0].slice(-u,-u+p))}}var g=Tc(n);if(g.length!=r)throw new Error("Unexpected length: ".concat(g.length," != ").concat(r));return g}function ms(i){for(var t=[],e=0;e<i.length;){var r=i[e++],n=i[e]|i[e+1]<<8|i[e+2]<<16;e+=3,t.push(nR(r,i.slice(e,e+n))),e+=n}if(e!==i.length)throw new Error("data is not a valid framed stream!");return Tc(t)}function Pu(i){for(var t=[],e=0;e<i.length;){var r=Math.min(i.length-e,268435455),n=new Uint8Array(4);t.push(n);var a=yr(r),o=a.length;t.push(a),r<=60?(o++,t.push(new Uint8Array([r-1<<2]))):r<=256?(o+=2,t.push(new Uint8Array([240,r-1&255]))):r<=65536?(o+=3,t.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(o+=4,t.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(o+=5,t.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),t.push(i.slice(e,e+r)),o+=r,n[0]=0,n[1]=o&255,n[2]=o>>8&255,n[3]=o>>16&255,e+=r}return Tc(t)}function nv(i,t){var e=new Uint8Array(32),r=um(e),n=12,a=0;switch(e[0]=5,i.t){case"n":e[1]=2,rR(e,n,i.v),a|=1,n+=16;break;case"b":e[1]=6,r.setFloat64(n,i.v?1:0,!0),a|=2,n+=8;break;case"s":if(t.indexOf(i.v)==-1)throw new Error("Value ".concat(i.v," missing from SST!"));e[1]=3,r.setUint32(n,t.indexOf(i.v),!0),a|=8,n+=4;break;default:throw"unsupported cell type "+i.t}return r.setUint32(8,a,!0),e.slice(0,n)}function av(i,t){var e=new Uint8Array(32),r=um(e),n=12,a=0;switch(e[0]=3,i.t){case"n":e[2]=2,r.setFloat64(n,i.v,!0),a|=32,n+=8;break;case"b":e[2]=6,r.setFloat64(n,i.v?1:0,!0),a|=32,n+=8;break;case"s":if(t.indexOf(i.v)==-1)throw new Error("Value ".concat(i.v," missing from SST!"));e[2]=3,r.setUint32(n,t.indexOf(i.v),!0),a|=16,n+=4;break;default:throw"unsupported cell type "+i.t}return r.setUint32(4,a,!0),e.slice(0,n)}function wc(i){var t=kn(i);return xf(t[1][0].data)}function aR(i,t,e){var r,n,a,o;if(!((r=i[6])!=null&&r[0])||!((n=i[7])!=null&&n[0]))throw"Mutation only works on post-BNC storages!";var d=((o=(a=i[8])==null?void 0:a[0])==null?void 0:o.data)&&Fu(i[8][0].data)>0||!1;if(d)throw"Math only works with normal offsets";for(var u=0,p=um(i[7][0].data),g=0,y=[],w=um(i[4][0].data),x=0,T=[],E=0;E<t.length;++E){if(t[E]==null){p.setUint16(E*2,65535,!0),w.setUint16(E*2,65535);continue}p.setUint16(E*2,g,!0),w.setUint16(E*2,x,!0);var k,F;switch(typeof t[E]){case"string":k=nv({t:"s",v:t[E]},e),F=av({t:"s",v:t[E]},e);break;case"number":k=nv({t:"n",v:t[E]},e),F=av({t:"n",v:t[E]},e);break;case"boolean":k=nv({t:"b",v:t[E]},e),F=av({t:"b",v:t[E]},e);break;default:throw new Error("Unsupported value "+t[E])}y.push(k),g+=k.length,T.push(F),x+=F.length,++u}for(i[2][0].data=yr(u);E<i[7][0].data.length/2;++E)p.setUint16(E*2,65535,!0),w.setUint16(E*2,65535,!0);return i[6][0].data=Tc(y),i[3][0].data=Tc(T),u}function oR(i,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var e=i.Sheets[i.SheetNames[0]];i.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=Co(e["!ref"]);r.s.r=r.s.c=0;var n=!1;r.e.c>9&&(n=!0,r.e.c=9),r.e.r>49&&(n=!0,r.e.r=49),n&&console.error("The Numbers writer is currently limited to ".concat(Sn(r)));var a=fm(e,{range:r,header:1}),o=["~Sh33tJ5~"];a.forEach(function(N){return N.forEach(function(j){typeof j=="string"&&o.push(j)})});var d={},u=[],p=Ir.read(t.numbers,{type:"base64"});p.FileIndex.map(function(N,j){return[N,p.FullPaths[j]]}).forEach(function(N){var j=N[0],se=N[1];if(j.type==2&&j.name.match(/\.iwa/)){var Ee=j.content,Ie=ms(Ee),Te=hs(Ie);Te.forEach(function(Re){u.push(Re.id),d[Re.id]={deps:[],location:se,type:Fu(Re.messages[0].meta[1][0].data)}})}}),u.sort(function(N,j){return N-j});var g=u.filter(function(N){return N>1}).map(function(N){return[N,yr(N)]});p.FileIndex.map(function(N,j){return[N,p.FullPaths[j]]}).forEach(function(N){var j=N[0],se=N[1];if(j.name.match(/\.iwa/)){var Ee=hs(ms(j.content));Ee.forEach(function(Ie){Ie.messages.forEach(function(Te){g.forEach(function(Re){Ie.messages.some(function(at){return Fu(at.meta[1][0].data)!=11006&&iR(at.data,Re[1])})&&d[Re[0]].deps.push(Ie.id)})})})}});function y(){for(var N=927262;N<2e6;++N)if(!d[N])return N;throw new Error("Too many messages")}for(var w=Ir.find(p,d[1].location),x=hs(ms(w.content)),T,E=0;E<x.length;++E){var k=x[E];k.id==1&&(T=k)}var F=wc(kn(T.messages[0].data)[1][0].data);for(w=Ir.find(p,d[F].location),x=hs(ms(w.content)),E=0;E<x.length;++E)k=x[E],k.id==F&&(T=k);for(F=wc(kn(T.messages[0].data)[2][0].data),w=Ir.find(p,d[F].location),x=hs(ms(w.content)),E=0;E<x.length;++E)k=x[E],k.id==F&&(T=k);for(F=wc(kn(T.messages[0].data)[2][0].data),w=Ir.find(p,d[F].location),x=hs(ms(w.content)),E=0;E<x.length;++E)k=x[E],k.id==F&&(T=k);var D=kn(T.messages[0].data);{D[6][0].data=yr(r.e.r+1),D[7][0].data=yr(r.e.c+1);var X=wc(D[46][0].data),he=Ir.find(p,d[X].location),we=hs(ms(he.content));{for(var Be=0;Be<we.length&&we[Be].id!=X;++Be);if(we[Be].id!=X)throw"Bad ColumnRowUIDMapArchive";var re=kn(we[Be].messages[0].data);re[1]=[],re[2]=[],re[3]=[];for(var ie=0;ie<=r.e.c;++ie){var le=[];le[1]=le[2]=[{type:0,data:yr(ie+420690)}],re[1].push({type:2,data:$n(le)}),re[2].push({type:0,data:yr(ie)}),re[3].push({type:0,data:yr(ie)})}re[4]=[],re[5]=[],re[6]=[];for(var Ce=0;Ce<=r.e.r;++Ce)le=[],le[1]=le[2]=[{type:0,data:yr(Ce+726270)}],re[4].push({type:2,data:$n(le)}),re[5].push({type:0,data:yr(Ce)}),re[6].push({type:0,data:yr(Ce)});we[Be].messages[0].data=$n(re)}he.content=Pu(Eu(we)),he.size=he.content.length,delete D[46];var q=kn(D[4][0].data);{q[7][0].data=yr(r.e.r+1);var H=kn(q[1][0].data),ve=wc(H[2][0].data);he=Ir.find(p,d[ve].location),we=hs(ms(he.content));{if(we[0].id!=ve)throw"Bad HeaderStorageBucket";var _e=kn(we[0].messages[0].data);for(Ce=0;Ce<a.length;++Ce){var Fe=kn(_e[2][0].data);Fe[1][0].data=yr(Ce),Fe[4][0].data=yr(a[Ce].length),_e[2][Ce]={type:_e[2][0].type,data:$n(Fe)}}we[0].messages[0].data=$n(_e)}he.content=Pu(Eu(we)),he.size=he.content.length;var ke=wc(q[2][0].data);he=Ir.find(p,d[ke].location),we=hs(ms(he.content));{if(we[0].id!=ke)throw"Bad HeaderStorageBucket";for(_e=kn(we[0].messages[0].data),ie=0;ie<=r.e.c;++ie)Fe=kn(_e[2][0].data),Fe[1][0].data=yr(ie),Fe[4][0].data=yr(r.e.r+1),_e[2][ie]={type:_e[2][0].type,data:$n(Fe)};we[0].messages[0].data=$n(_e)}he.content=Pu(Eu(we)),he.size=he.content.length;var Ye=wc(q[4][0].data);(function(){for(var N=Ir.find(p,d[Ye].location),j=hs(ms(N.content)),se,Ee=0;Ee<j.length;++Ee){var Ie=j[Ee];Ie.id==Ye&&(se=Ie)}var Te=kn(se.messages[0].data);{Te[3]=[];var Re=[];o.forEach(function(Pt,Lt){Re[1]=[{type:0,data:yr(Lt)}],Re[2]=[{type:0,data:yr(1)}],Re[3]=[{type:2,data:tR(Pt)}],Te[3].push({type:2,data:$n(Re)})})}se.messages[0].data=$n(Te);var at=Eu(j),pt=Pu(at);N.content=pt,N.size=N.content.length})();var Me=kn(q[3][0].data);{var je=Me[1][0];delete Me[2];var Ze=kn(je.data);{var wt=wc(Ze[2][0].data);(function(){for(var N=Ir.find(p,d[wt].location),j=hs(ms(N.content)),se,Ee=0;Ee<j.length;++Ee){var Ie=j[Ee];Ie.id==wt&&(se=Ie)}var Te=kn(se.messages[0].data);{delete Te[6],delete Me[7];var Re=new Uint8Array(Te[5][0].data);Te[5]=[];for(var at=0,pt=0;pt<=r.e.r;++pt){var Pt=kn(Re);at+=aR(Pt,a[pt],o),Pt[1][0].data=yr(pt),Te[5].push({data:$n(Pt),type:2})}Te[1]=[{type:0,data:yr(r.e.c+1)}],Te[2]=[{type:0,data:yr(r.e.r+1)}],Te[3]=[{type:0,data:yr(at)}],Te[4]=[{type:0,data:yr(r.e.r+1)}]}se.messages[0].data=$n(Te);var Lt=Eu(j),Qe=Pu(Lt);N.content=Qe,N.size=N.content.length})()}je.data=$n(Ze)}q[3][0].data=$n(Me)}D[4][0].data=$n(q)}T.messages[0].data=$n(D);var A=Eu(x),V=Pu(A);return w.content=V,w.size=w.content.length,p}function sR(i){return function(e){for(var r=0;r!=i.length;++r){var n=i[r];e[n[0]]===void 0&&(e[n[0]]=n[1]),n[2]==="n"&&(e[n[0]]=Number(e[n[0]]))}}}function Fv(i){sR([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(i)}function lR(i,t){return t.bookType=="ods"?YC(i,t):t.bookType=="numbers"?oR(i,t):t.bookType=="xlsb"?cR(i,t):dR(i,t)}function cR(i,t){Tu=1024,i&&!i.SSF&&(i.SSF=to(dn)),i&&i.SSF&&(mm(),hm(i.SSF),t.revssf=gm(i.SSF),t.revssf[i.SSF[65535]]=0,t.ssf=i.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,hf?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var e=t.bookType=="xlsb"?"bin":"xml",r=IC.indexOf(t.bookType)>-1,n=sC();Fv(t=t||{});var a=pv(),o="",d=0;if(t.cellXfs=[],kc(t.cellXfs,{},{revssf:{General:0}}),i.Props||(i.Props={}),o="docProps/core.xml",Wi(a,o,uC(i.Props,t)),n.coreprops.push(o),Cr(t.rels,2,o,cr.CORE_PROPS),o="docProps/app.xml",!(i.Props&&i.Props.SheetNames))if(!i.Workbook||!i.Workbook.Sheets)i.Props.SheetNames=i.SheetNames;else{for(var u=[],p=0;p<i.SheetNames.length;++p)(i.Workbook.Sheets[p]||{}).Hidden!=2&&u.push(i.SheetNames[p]);i.Props.SheetNames=u}for(i.Props.Worksheets=i.Props.SheetNames.length,Wi(a,o,pC(i.Props,t)),n.extprops.push(o),Cr(t.rels,3,o,cr.EXT_PROPS),i.Custprops!==i.Props&&Jn(i.Custprops||{}).length>0&&(o="docProps/custom.xml",Wi(a,o,hC(i.Custprops,t)),n.custprops.push(o),Cr(t.rels,4,o,cr.CUST_PROPS)),d=1;d<=i.SheetNames.length;++d){var g={"!id":{}},y=i.Sheets[i.SheetNames[d-1]],w=(y||{})["!type"]||"sheet";switch(w){case"chart":default:o="xl/worksheets/sheet"+d+"."+e,Wi(a,o,fD(d-1,o,t,i,g)),n.sheets.push(o),Cr(t.wbrels,-1,"worksheets/sheet"+d+"."+e,cr.WS[0])}if(y){var x=y["!comments"],T=!1,E="";x&&x.length>0&&(E="xl/comments"+d+"."+e,Wi(a,E,mD(x,E,t)),n.comments.push(E),Cr(g,-1,"../comments"+d+"."+e,cr.CMNT),T=!0),y["!legacy"]&&T&&Wi(a,"xl/drawings/vmlDrawing"+d+".vml",AC(d,y["!comments"])),delete y["!comments"],delete y["!legacy"]}g["!id"].rId1&&Wi(a,cC(o),Ou(g))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+e,Wi(a,o,hD(t.Strings,o,t)),n.strs.push(o),Cr(t.wbrels,-1,"sharedStrings."+e,cr.SST)),o="xl/workbook."+e,Wi(a,o,uD(i,o,t)),n.workbooks.push(o),Cr(t.rels,1,o,cr.WB),o="xl/theme/theme1.xml",Wi(a,o,TC(i.Themes,t)),n.themes.push(o),Cr(t.wbrels,-1,"theme/theme1.xml",cr.THEME),o="xl/styles."+e,Wi(a,o,pD(i,o,t)),n.styles.push(o),Cr(t.wbrels,-1,"styles."+e,cr.STY),i.vbaraw&&r&&(o="xl/vbaProject.bin",Wi(a,o,i.vbaraw),n.vba.push(o),Cr(t.wbrels,-1,"vbaProject.bin",cr.VBA)),o="xl/metadata."+e,Wi(a,o,gD(o)),n.metadata.push(o),Cr(t.wbrels,-1,"metadata."+e,cr.XLMETA),Wi(a,"[Content_Types].xml",lC(n,t)),Wi(a,"_rels/.rels",Ou(t.rels)),Wi(a,"xl/_rels/workbook."+e+".rels",Ou(t.wbrels)),delete t.revssf,delete t.ssf,a}function dR(i,t){Tu=1024,i&&!i.SSF&&(i.SSF=to(dn)),i&&i.SSF&&(mm(),hm(i.SSF),t.revssf=gm(i.SSF),t.revssf[i.SSF[65535]]=0,t.ssf=i.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,hf?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var e="xml",r=IC.indexOf(t.bookType)>-1,n=sC();Fv(t=t||{});var a=pv(),o="",d=0;if(t.cellXfs=[],kc(t.cellXfs,{},{revssf:{General:0}}),i.Props||(i.Props={}),o="docProps/core.xml",Wi(a,o,uC(i.Props,t)),n.coreprops.push(o),Cr(t.rels,2,o,cr.CORE_PROPS),o="docProps/app.xml",!(i.Props&&i.Props.SheetNames))if(!i.Workbook||!i.Workbook.Sheets)i.Props.SheetNames=i.SheetNames;else{for(var u=[],p=0;p<i.SheetNames.length;++p)(i.Workbook.Sheets[p]||{}).Hidden!=2&&u.push(i.SheetNames[p]);i.Props.SheetNames=u}i.Props.Worksheets=i.Props.SheetNames.length,Wi(a,o,pC(i.Props,t)),n.extprops.push(o),Cr(t.rels,3,o,cr.EXT_PROPS),i.Custprops!==i.Props&&Jn(i.Custprops||{}).length>0&&(o="docProps/custom.xml",Wi(a,o,hC(i.Custprops,t)),n.custprops.push(o),Cr(t.rels,4,o,cr.CUST_PROPS));var g=["SheetJ5"];for(t.tcid=0,d=1;d<=i.SheetNames.length;++d){var y={"!id":{}},w=i.Sheets[i.SheetNames[d-1]],x=(w||{})["!type"]||"sheet";switch(x){case"chart":default:o="xl/worksheets/sheet"+d+"."+e,Wi(a,o,jC(d-1,t,i,y)),n.sheets.push(o),Cr(t.wbrels,-1,"worksheets/sheet"+d+"."+e,cr.WS[0])}if(w){var T=w["!comments"],E=!1,k="";if(T&&T.length>0){var F=!1;T.forEach(function(D){D[1].forEach(function(X){X.T==!0&&(F=!0)})}),F&&(k="xl/threadedComments/threadedComment"+d+"."+e,Wi(a,k,jF(T,g,t)),n.threadedcomments.push(k),Cr(y,-1,"../threadedComments/threadedComment"+d+"."+e,cr.TCMNT)),k="xl/comments"+d+"."+e,Wi(a,k,OC(T,t)),n.comments.push(k),Cr(y,-1,"../comments"+d+"."+e,cr.CMNT),E=!0}w["!legacy"]&&E&&Wi(a,"xl/drawings/vmlDrawing"+d+".vml",AC(d,w["!comments"])),delete w["!comments"],delete w["!legacy"]}y["!id"].rId1&&Wi(a,cC(o),Ou(y))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+e,Wi(a,o,CC(t.Strings,t)),n.strs.push(o),Cr(t.wbrels,-1,"sharedStrings."+e,cr.SST)),o="xl/workbook."+e,Wi(a,o,WC(i,t)),n.workbooks.push(o),Cr(t.rels,1,o,cr.WB),o="xl/theme/theme1.xml",Wi(a,o,TC(i.Themes,t)),n.themes.push(o),Cr(t.wbrels,-1,"theme/theme1.xml",cr.THEME),o="xl/styles."+e,Wi(a,o,PC(i,t)),n.styles.push(o),Cr(t.wbrels,-1,"styles."+e,cr.STY),i.vbaraw&&r&&(o="xl/vbaProject.bin",Wi(a,o,i.vbaraw),n.vba.push(o),Cr(t.wbrels,-1,"vbaProject.bin",cr.VBA)),o="xl/metadata."+e,Wi(a,o,kC()),n.metadata.push(o),Cr(t.wbrels,-1,"metadata."+e,cr.XLMETA),g.length>1&&(o="xl/persons/person.xml",Wi(a,o,qF(g,t)),n.people.push(o),Cr(t.wbrels,-1,"persons/person.xml",cr.PEOPLE)),Wi(a,"[Content_Types].xml",lC(n,t)),Wi(a,"_rels/.rels",Ou(t.rels)),Wi(a,"xl/_rels/workbook."+e+".rels",Ou(t.wbrels)),delete t.revssf,delete t.ssf,a}function uR(i,t){var e="";switch((t||{}).type||"base64"){case"buffer":return[i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7]];case"base64":e=wl(i.slice(0,12));break;case"binary":e=i;break;case"array":return[i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3),e.charCodeAt(4),e.charCodeAt(5),e.charCodeAt(6),e.charCodeAt(7)]}function KC(i,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return wf(t.file,Ir.write(i,{type:ur?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Ir.write(i,t)}function fR(i,t){var e=to(t||{}),r=lR(i,e);return pR(r,e)}function pR(i,t){var e={},r=ur?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(e.compression="DEFLATE"),t.password)e.type=r;else switch(t.type){case"base64":e.type="base64";break;case"binary":e.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":e.type=r;break;default:throw new Error("Unrecognized type "+t.type)}var n=i.FullPaths?Ir.write(i,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[e.type]||e.type,compression:!!t.compression}):i.generate(e);if(typeof Deno<"u"&&typeof n=="string"){if(t.type=="binary"||t.type=="base64")return n;n=new Uint8Array(pm(n))}return t.password&&typeof encrypt_agile<"u"?KC(encrypt_agile(n,t.password),t):t.type==="file"?wf(t.file,n):t.type=="string"?df(n):n}function hR(i,t){var e=t||{},r=AD(i,e);return KC(r,e)}function Gs(i,t,e){e||(e="");var r=e+i;switch(t.type){case"base64":return vf(bl(r));case"binary":return bl(r);case"string":return i;case"file":return wf(t.file,r,"utf8");case"buffer":return ur?El(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):Gs(r,{type:"binary"}).split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function mR(i,t){switch(t.type){case"base64":return vf(i);case"binary":return i;case"string":return i;case"file":return wf(t.file,i,"binary");case"buffer":return ur?El(i,"binary"):i.split("").map(function(e){return e.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Qh(i,t){switch(t.type){case"string":case"base64":case"binary":for(var e="",r=0;r<i.length;++r)e+=String.fromCharCode(i[r]);return t.type=="base64"?vf(e):t.type=="string"?df(e):e;case"file":return wf(t.file,i);case"buffer":return i;default:throw new Error("Unrecognized type "+t.type)}}function Mf(i,t){jO(),eD(i);var e=to(t||{});if(e.cellStyles&&(e.cellNF=!0,e.sheetStubs=!0),e.type=="array"){e.type="binary";var r=Mf(i,e);return e.type="array",pm(r)}var n=0;if(e.sheet&&(typeof e.sheet=="number"?n=e.sheet:n=i.SheetNames.indexOf(e.sheet),!i.SheetNames[n]))throw new Error("Sheet not found: "+e.sheet+" : "+typeof e.sheet);switch(e.bookType||"xlsb"){case"xml":case"xlml":return Gs(TD(i,e),e);case"slk":case"sylk":return Gs(K8.from_sheet(i.Sheets[i.SheetNames[n]],e),e);case"htm":case"html":return Gs($C(i.Sheets[i.SheetNames[n]],e),e);case"txt":return mR(JC(i.Sheets[i.SheetNames[n]],e),e);case"csv":return Gs(Nv(i.Sheets[i.SheetNames[n]],e),e,"\uFEFF");case"dif":return Gs(J8.from_sheet(i.Sheets[i.SheetNames[n]],e),e);case"dbf":return Qh(Y8.from_sheet(i.Sheets[i.SheetNames[n]],e),e);case"prn":return Gs(Q8.from_sheet(i.Sheets[i.SheetNames[n]],e),e);case"rtf":return Gs(oF.from_sheet(i.Sheets[i.SheetNames[n]],e),e);case"eth":return Gs(yC.from_sheet(i.Sheets[i.SheetNames[n]],e),e);case"fods":return Gs(YC(i,e),e);case"wk1":return Qh(by.sheet_to_wk1(i.Sheets[i.SheetNames[n]],e),e);case"wk3":return Qh(by.book_to_wk3(i,e),e);case"biff2":e.biff||(e.biff=2);case"biff3":e.biff||(e.biff=3);case"biff4":return e.biff||(e.biff=4),Qh(GC(i,e),e);case"biff5":e.biff||(e.biff=5);case"biff8":case"xla":case"xls":return e.biff||(e.biff=8),hR(i,e);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return fR(i,e);default:throw new Error("Unrecognized bookType |"+e.bookType+"|")}}function gR(i,t,e,r,n,a,o,d){var u=Kn(e),p=d.defval,g=d.raw||!Object.prototype.hasOwnProperty.call(d,"raw"),y=!0,w=n===1?[]:{};if(n!==1)if(Object.defineProperty)try{Object.defineProperty(w,"__rowNum__",{value:e,enumerable:!1})}catch{w.__rowNum__=e}else w.__rowNum__=e;if(!o||i[e])for(var x=t.s.c;x<=t.e.c;++x){var T=o?i[e][x]:i[r[x]+u];if(T===void 0||T.t===void 0){if(p===void 0)continue;a[x]!=null&&(w[a[x]]=p);continue}var E=T.v;switch(T.t){case"z":if(E==null)break;continue;case"e":E=E==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+T.t)}if(a[x]!=null){if(E==null)if(T.t=="e"&&E===null)w[a[x]]=null;else if(p!==void 0)w[a[x]]=p;else if(g&&E===null)w[a[x]]=null;else continue;else w[a[x]]=g&&(T.t!=="n"||T.t==="n"&&d.rawNumbers!==!1)?E:Sl(T,E,d);E!=null&&(y=!1)}}return{row:w,isempty:y}}function fm(i,t){if(i==null||i["!ref"]==null)return[];var e={t:"n",v:0},r=0,n=1,a=[],o=0,d="",u={s:{r:0,c:0},e:{r:0,c:0}},p=t||{},g=p.range!=null?p.range:i["!ref"];switch(p.header===1?r=1:p.header==="A"?r=2:Array.isArray(p.header)?r=3:p.header==null&&(r=0),typeof g){case"string":u=Wr(g);break;case"number":u=Wr(i["!ref"]),u.s.r=g;break;default:u=g}r>0&&(n=0);var y=Kn(u.s.r),w=[],x=[],T=0,E=0,k=Array.isArray(i),F=u.s.r,D=0,X={};k&&!i[F]&&(i[F]=[]);var he=p.skipHidden&&i["!cols"]||[],we=p.skipHidden&&i["!rows"]||[];for(D=u.s.c;D<=u.e.c;++D)if(!(he[D]||{}).hidden)switch(w[D]=fa(D),e=k?i[F][D]:i[w[D]+y],r){case 1:a[D]=D-u.s.c;break;case 2:a[D]=w[D];break;case 3:a[D]=p.header[D-u.s.c];break;default:if(e==null&&(e={w:"__EMPTY",t:"s"}),d=o=Sl(e,null,p),E=X[o]||0,!E)X[o]=1;else{do d=o+"_"+E++;while(X[d]);X[o]=E,X[d]=1}a[D]=d}for(F=u.s.r+n;F<=u.e.r;++F)if(!(we[F]||{}).hidden){var Be=gR(i,u,F,w,r,a,k,p);(Be.isempty===!1||(r===1?p.blankrows!==!1:p.blankrows))&&(x[T++]=Be.row)}return x.length=T,x}var My=/"/g;function vR(i,t,e,r,n,a,o,d){for(var u=!0,p=[],g="",y=Kn(e),w=t.s.c;w<=t.e.c;++w)if(r[w]){var x=d.dense?(i[e]||[])[w]:i[r[w]+y];if(x==null)g="";else if(x.v!=null){u=!1,g=""+(d.rawNumbers&&x.t=="n"?x.v:Sl(x,null,d));for(var T=0,E=0;T!==g.length;++T)if((E=g.charCodeAt(T))===n||E===a||E===34||d.forceQuotes){g='"'+g.replace(My,'""')+'"';break}g=="ID"&&(g='"ID"')}else x.f!=null&&!x.F?(u=!1,g="="+x.f,g.indexOf(",")>=0&&(g='"'+g.replace(My,'""')+'"')):g="";p.push(g)}return d.blankrows===!1&&u?null:p.join(o)}function Nv(i,t){var e=[],r=t??{};if(i==null||i["!ref"]==null)return"";var n=Wr(i["!ref"]),a=r.FS!==void 0?r.FS:",",o=a.charCodeAt(0),d=r.RS!==void 0?r.RS:`
`,u=d.charCodeAt(0),p=new RegExp((a=="|"?"\\|":a)+"+$"),g="",y=[];r.dense=Array.isArray(i);for(var w=r.skipHidden&&i["!cols"]||[],x=r.skipHidden&&i["!rows"]||[],T=n.s.c;T<=n.e.c;++T)(w[T]||{}).hidden||(y[T]=fa(T));for(var E=0,k=n.s.r;k<=n.e.r;++k)(x[k]||{}).hidden||(g=vR(i,n,k,y,o,u,a,r),g!=null&&(r.strip&&(g=g.replace(p,"")),(g||r.blankrows!==!1)&&e.push((E++?d:"")+g)));return delete r.dense,e.join("")}function JC(i,t){t||(t={}),t.FS="	",t.RS=`
`;var e=Nv(i,t);if(typeof Dr>"u"||t.type=="string")return e;var r=Dr.utils.encode(1200,e,"str");return"\xFF\xFE"+r}function _R(i){var t="",e,r="";if(i==null||i["!ref"]==null)return[];var n=Wr(i["!ref"]),a="",o=[],d,u=[],p=Array.isArray(i);for(d=n.s.c;d<=n.e.c;++d)o[d]=fa(d);for(var g=n.s.r;g<=n.e.r;++g)for(a=Kn(g),d=n.s.c;d<=n.e.c;++d)if(t=o[d]+a,e=p?(i[g]||[])[d]:i[t],r="",e!==void 0){if(e.F!=null){if(t=e.F,!e.f)continue;r=e.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(e.f!=null)r=e.f;else{if(e.t=="z")continue;if(e.t=="n"&&e.v!=null)r=""+e.v;else if(e.t=="b")r=e.v?"TRUE":"FALSE";else if(e.w!==void 0)r="'"+e.w;else{if(e.v===void 0)continue;e.t=="s"?r="'"+e.v:r=""+e.v}}u[u.length]=t+"="+r}return u}function QC(i,t,e){var r=e||{},n=+!r.skipHeader,a=i||{},o=0,d=0;if(a&&r.origin!=null)if(typeof r.origin=="number")o=r.origin;else{var u=typeof r.origin=="string"?Un(r.origin):r.origin;o=u.r,d=u.c}var p,g={s:{c:0,r:0},e:{c:d,r:o+t.length-1+n}};if(a["!ref"]){var y=Wr(a["!ref"]);g.e.c=Math.max(g.e.c,y.e.c),g.e.r=Math.max(g.e.r,y.e.r),o==-1&&(o=y.e.r+1,g.e.r=o+t.length-1+n)}else o==-1&&(o=0,g.e.r=t.length-1+n);var w=r.header||[],x=0;t.forEach(function(E,k){Jn(E).forEach(function(F){(x=w.indexOf(F))==-1&&(w[x=w.length]=F);var D=E[F],X="z",he="",we=Sr({c:d+x,r:o+k+n});p=yf(a,we),D&&typeof D=="object"&&!(D instanceof Date)?a[we]=D:(typeof D=="number"?X="n":typeof D=="boolean"?X="b":typeof D=="string"?X="s":D instanceof Date?(X="d",r.cellDates||(X="n",D=eo(D)),he=r.dateNF||dn[14]):D===null&&r.nullError&&(X="e",D=0),p?(p.t=X,p.v=D,delete p.w,delete p.R,he&&(p.z=he)):a[we]=p={t:X,v:D},he&&(p.z=he))})}),g.e.c=Math.max(g.e.c,d+w.length-1);var T=Kn(o);if(n)for(x=0;x<w.length;++x)a[fa(x+d)+T]={t:"s",v:w[x]};return a["!ref"]=Sn(g),a}function bR(i,t){return QC(null,i,t)}function yf(i,t,e){if(typeof t=="string"){if(Array.isArray(i)){var r=Un(t);return i[r.r]||(i[r.r]=[]),i[r.r][r.c]||(i[r.r][r.c]={t:"z"})}return i[t]||(i[t]={t:"z"})}return typeof t!="number"?yf(i,Sr(t)):yf(i,Sr({r:t,c:e||0}))}function xR(i,t){if(typeof t=="number"){if(t>=0&&i.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var e=i.SheetNames.indexOf(t);if(e>-1)return e;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function yR(){return{SheetNames:[],Sheets:{}}}function CR(i,t,e,r){var n=1;if(!e)for(;n<=65535&&i.SheetNames.indexOf(e="Sheet"+n)!=-1;++n,e=void 0);if(!e||i.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&i.SheetNames.indexOf(e)>=0){var a=e.match(/(^.*?)(\d+)$/);n=a&&+a[2]||0;var o=a&&a[1]||e;for(++n;n<=65535&&i.SheetNames.indexOf(e=o+n)!=-1;++n);}if(zC(e),i.SheetNames.indexOf(e)>=0)throw new Error("Worksheet with name |"+e+"| already exists!");return i.SheetNames.push(e),i.Sheets[e]=t,e}function wR(i,t,e){i.Workbook||(i.Workbook={}),i.Workbook.Sheets||(i.Workbook.Sheets=[]);var r=xR(i,t);switch(i.Workbook.Sheets[r]||(i.Workbook.Sheets[r]={}),e){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+e)}i.Workbook.Sheets[r].Hidden=e}function SR(i,t){return i.z=t,i}function ew(i,t,e){return t?(i.l={Target:t},e&&(i.l.Tooltip=e)):delete i.l,i}function ER(i,t,e){return ew(i,"#"+t,e)}function PR(i,t,e){i.c||(i.c=[]),i.c.push({t,a:e||"SheetJS"})}function MR(i,t,e,r){for(var n=typeof t!="string"?t:Wr(t),a=typeof t=="string"?t:Sn(t),o=n.s.r;o<=n.e.r;++o)for(var d=n.s.c;d<=n.e.c;++d){var u=yf(i,o,d);u.t="n",u.F=a,delete u.v,o==n.s.r&&d==n.s.c&&(u.f=e,r&&(u.D=!0))}return i}var Cm={encode_col:fa,encode_row:Kn,encode_cell:Sr,encode_range:Sn,decode_col:wv,decode_row:Cv,split_cell:zI,decode_cell:Un,decode_range:Co,format_cell:Sl,sheet_add_aoa:tC,sheet_add_json:QC,sheet_add_dom:ZC,aoa_to_sheet:Bu,json_to_sheet:bR,table_to_sheet:XC,table_to_book:JD,sheet_to_csv:Nv,sheet_to_txt:JC,sheet_to_json:fm,sheet_to_html:$C,sheet_to_formulae:_R,sheet_to_row_object_array:fm,sheet_get_cell:yf,book_new:yR,book_append_sheet:CR,book_set_sheet_visibility:wR,cell_set_number_format:SR,cell_set_hyperlink:ew,cell_set_internal_link:ER,cell_add_comment:PR,sheet_set_array_formula:MR,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};var WW=mf.version;var m_=Xd(Rv());var ha=Uint8Array,wo=Uint16Array,Hv=Int32Array,wm=new ha([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Sm=new ha([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),jv=new ha([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),aw=function(i,t){for(var e=new wo(31),r=0;r<31;++r)e[r]=t+=1<<i[r-1];for(var n=new Hv(e[30]),r=1;r<30;++r)for(var a=e[r];a<e[r+1];++a)n[a]=a-e[r]<<5|r;return{b:e,r:n}},ow=aw(wm,2),sw=ow.b,qv=ow.r;sw[28]=258,qv[258]=28;var lw=aw(Sm,0),TR=lw.b,iw=lw.r,zv=new wo(32768);for(fr=0;fr<32768;++fr)Pl=(fr&43690)>>1|(fr&21845)<<1,Pl=(Pl&52428)>>2|(Pl&13107)<<2,Pl=(Pl&61680)>>4|(Pl&3855)<<4,zv[fr]=((Pl&65280)>>8|(Pl&255)<<8)>>1;var Pl,fr,Xs=function(i,t,e){for(var r=i.length,n=0,a=new wo(t);n<r;++n)i[n]&&++a[i[n]-1];var o=new wo(t);for(n=1;n<t;++n)o[n]=o[n-1]+a[n-1]<<1;var d;if(e){d=new wo(1<<t);var u=15-t;for(n=0;n<r;++n)if(i[n])for(var p=n<<4|i[n],g=t-i[n],y=o[i[n]-1]++<<g,w=y|(1<<g)-1;y<=w;++y)d[zv[y]>>u]=p}else for(d=new wo(r),n=0;n<r;++n)i[n]&&(d[n]=zv[o[i[n]-1]++]>>15-i[n]);return d},Ac=new ha(288);for(fr=0;fr<144;++fr)Ac[fr]=8;var fr;for(fr=144;fr<256;++fr)Ac[fr]=9;var fr;for(fr=256;fr<280;++fr)Ac[fr]=7;var fr;for(fr=280;fr<288;++fr)Ac[fr]=8;var fr,Af=new ha(32);for(fr=0;fr<32;++fr)Af[fr]=5;var fr,kR=Xs(Ac,9,0),AR=Xs(Ac,9,1),OR=Xs(Af,5,0),IR=Xs(Af,5,1),Bv=function(i){for(var t=i[0],e=1;e<i.length;++e)i[e]>t&&(t=i[e]);return t},bs=function(i,t,e){var r=t/8|0;return(i[r]|i[r+1]<<8)>>(t&7)&e},Uv=function(i,t){var e=t/8|0;return(i[e]|i[e+1]<<8|i[e+2]<<16)>>(t&7)},Gv=function(i){return(i+7)/8|0},cw=function(i,t,e){return(t==null||t<0)&&(t=0),(e==null||e>i.length)&&(e=i.length),new ha(i.subarray(t,e))};var FR=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],xs=function(i,t,e){var r=new Error(t||FR[i]);if(r.code=i,Error.captureStackTrace&&Error.captureStackTrace(r,xs),!e)throw r;return r},NR=function(i,t,e,r){var n=i.length,a=r?r.length:0;if(!n||t.f&&!t.l)return e||new ha(0);var o=!e,d=o||t.i!=2,u=t.i;o&&(e=new ha(n*3));var p=function(at){var pt=e.length;if(at>pt){var Pt=new ha(Math.max(pt*2,at));Pt.set(e),e=Pt}},g=t.f||0,y=t.p||0,w=t.b||0,x=t.l,T=t.d,E=t.m,k=t.n,F=n*8;do{if(!x){g=bs(i,y,1);var D=bs(i,y+1,3);if(y+=3,D)if(D==1)x=AR,T=IR,E=9,k=5;else if(D==2){var Be=bs(i,y,31)+257,re=bs(i,y+10,15)+4,ie=Be+bs(i,y+5,31)+1;y+=14;for(var le=new ha(ie),Ce=new ha(19),q=0;q<re;++q)Ce[jv[q]]=bs(i,y+q*3,7);y+=re*3;for(var H=Bv(Ce),ve=(1<<H)-1,_e=Xs(Ce,H,1),q=0;q<ie;){var Fe=_e[bs(i,y,ve)];y+=Fe&15;var X=Fe>>4;if(X<16)le[q++]=X;else{var ke=0,Ye=0;for(X==16?(Ye=3+bs(i,y,3),y+=2,ke=le[q-1]):X==17?(Ye=3+bs(i,y,7),y+=3):X==18&&(Ye=11+bs(i,y,127),y+=7);Ye--;)le[q++]=ke}}var Me=le.subarray(0,Be),je=le.subarray(Be);E=Bv(Me),k=Bv(je),x=Xs(Me,E,1),T=Xs(je,k,1)}else xs(1);else{var X=Gv(y)+4,he=i[X-4]|i[X-3]<<8,we=X+he;if(we>n){u&&xs(0);break}d&&p(w+he),e.set(i.subarray(X,we),w),t.b=w+=he,t.p=y=we*8,t.f=g;continue}if(y>F){u&&xs(0);break}}d&&p(w+131072);for(var Ze=(1<<E)-1,wt=(1<<k)-1,A=y;;A=y){var ke=x[Uv(i,y)&Ze],V=ke>>4;if(y+=ke&15,y>F){u&&xs(0);break}if(ke||xs(2),V<256)e[w++]=V;else if(V==256){A=y,x=null;break}else{var N=V-254;if(V>264){var q=V-257,j=wm[q];N=bs(i,y,(1<<j)-1)+sw[q],y+=j}var se=T[Uv(i,y)&wt],Ee=se>>4;se||xs(3),y+=se&15;var je=TR[Ee];if(Ee>3){var j=Sm[Ee];je+=Uv(i,y)&(1<<j)-1,y+=j}if(y>F){u&&xs(0);break}d&&p(w+131072);var Ie=w+N;if(w<je){var Te=a-je,Re=Math.min(je,Ie);for(Te+w<0&&xs(3);w<Re;++w)e[w]=r[Te+w]}for(;w<Ie;++w)e[w]=e[w-je]}}t.l=x,t.p=A,t.b=w,t.f=g,x&&(g=1,t.m=E,t.d=T,t.n=k)}while(!g);return w!=e.length&&o?cw(e,0,w):e.subarray(0,w)},Ml=function(i,t,e){e<<=t&7;var r=t/8|0;i[r]|=e,i[r+1]|=e>>8},Tf=function(i,t,e){e<<=t&7;var r=t/8|0;i[r]|=e,i[r+1]|=e>>8,i[r+2]|=e>>16},Vv=function(i,t){for(var e=[],r=0;r<i.length;++r)i[r]&&e.push({s:r,f:i[r]});var n=e.length,a=e.slice();if(!n)return{t:uw,l:0};if(n==1){var o=new ha(e[0].s+1);return o[e[0].s]=1,{t:o,l:1}}e.sort(function(we,Be){return we.f-Be.f}),e.push({s:-1,f:25001});var d=e[0],u=e[1],p=0,g=1,y=2;for(e[0]={s:-1,f:d.f+u.f,l:d,r:u};g!=n-1;)d=e[e[p].f<e[y].f?p++:y++],u=e[p!=g&&e[p].f<e[y].f?p++:y++],e[g++]={s:-1,f:d.f+u.f,l:d,r:u};for(var w=a[0].s,r=1;r<n;++r)a[r].s>w&&(w=a[r].s);var x=new wo(w+1),T=Wv(e[g-1],x,0);if(T>t){var r=0,E=0,k=T-t,F=1<<k;for(a.sort(function(Be,re){return x[re.s]-x[Be.s]||Be.f-re.f});r<n;++r){var D=a[r].s;if(x[D]>t)E+=F-(1<<T-x[D]),x[D]=t;else break}for(E>>=k;E>0;){var X=a[r].s;x[X]<t?E-=1<<t-x[X]++-1:++r}for(;r>=0&&E;--r){var he=a[r].s;x[he]==t&&(--x[he],++E)}T=t}return{t:new ha(x),l:T}},Wv=function(i,t,e){return i.s==-1?Math.max(Wv(i.l,t,e+1),Wv(i.r,t,e+1)):t[i.s]=e},rw=function(i){for(var t=i.length;t&&!i[--t];);for(var e=new wo(++t),r=0,n=i[0],a=1,o=function(u){e[r++]=u},d=1;d<=t;++d)if(i[d]==n&&d!=t)++a;else{if(!n&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(n),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(n);a=1,n=i[d]}return{c:e.subarray(0,r),n:t}},kf=function(i,t){for(var e=0,r=0;r<t.length;++r)e+=i[r]*t[r];return e},dw=function(i,t,e){var r=e.length,n=Gv(t+2);i[n]=r&255,i[n+1]=r>>8,i[n+2]=i[n]^255,i[n+3]=i[n+1]^255;for(var a=0;a<r;++a)i[n+a+4]=e[a];return(n+4+r)*8},nw=function(i,t,e,r,n,a,o,d,u,p,g){Ml(t,g++,e),++n[256];for(var y=Vv(n,15),w=y.t,x=y.l,T=Vv(a,15),E=T.t,k=T.l,F=rw(w),D=F.c,X=F.n,he=rw(E),we=he.c,Be=he.n,re=new wo(19),ie=0;ie<D.length;++ie)++re[D[ie]&31];for(var ie=0;ie<we.length;++ie)++re[we[ie]&31];for(var le=Vv(re,7),Ce=le.t,q=le.l,H=19;H>4&&!Ce[jv[H-1]];--H);var ve=p+5<<3,_e=kf(n,Ac)+kf(a,Af)+o,Fe=kf(n,w)+kf(a,E)+o+14+3*H+kf(re,Ce)+2*re[16]+3*re[17]+7*re[18];if(u>=0&&ve<=_e&&ve<=Fe)return dw(t,g,i.subarray(u,u+p));var ke,Ye,Me,je;if(Ml(t,g,1+(Fe<_e)),g+=2,Fe<_e){ke=Xs(w,x,0),Ye=w,Me=Xs(E,k,0),je=E;var Ze=Xs(Ce,q,0);Ml(t,g,X-257),Ml(t,g+5,Be-1),Ml(t,g+10,H-4),g+=14;for(var ie=0;ie<H;++ie)Ml(t,g+3*ie,Ce[jv[ie]]);g+=3*H;for(var wt=[D,we],A=0;A<2;++A)for(var V=wt[A],ie=0;ie<V.length;++ie){var N=V[ie]&31;Ml(t,g,Ze[N]),g+=Ce[N],N>15&&(Ml(t,g,V[ie]>>5&127),g+=V[ie]>>12)}}else ke=kR,Ye=Ac,Me=OR,je=Af;for(var ie=0;ie<d;++ie){var j=r[ie];if(j>255){var N=j>>18&31;Tf(t,g,ke[N+257]),g+=Ye[N+257],N>7&&(Ml(t,g,j>>23&31),g+=wm[N]);var se=j&31;Tf(t,g,Me[se]),g+=je[se],se>3&&(Tf(t,g,j>>5&8191),g+=Sm[se])}else Tf(t,g,ke[j]),g+=Ye[j]}return Tf(t,g,ke[256]),g+Ye[256]},LR=new Hv([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),uw=new ha(0),DR=function(i,t,e,r,n,a){var o=a.z||i.length,d=new ha(r+o+5*(1+Math.ceil(o/7e3))+n),u=d.subarray(r,d.length-n),p=a.l,g=(a.r||0)&7;if(t){g&&(u[0]=a.r>>3);for(var y=LR[t-1],w=y>>13,x=y&8191,T=(1<<e)-1,E=a.p||new wo(32768),k=a.h||new wo(T+1),F=Math.ceil(e/3),D=2*F,X=function(Lt){return(i[Lt]^i[Lt+1]<<F^i[Lt+2]<<D)&T},he=new Hv(25e3),we=new wo(288),Be=new wo(32),re=0,ie=0,le=a.i||0,Ce=0,q=a.w||0,H=0;le+2<o;++le){var ve=X(le),_e=le&32767,Fe=k[ve];if(E[_e]=Fe,k[ve]=_e,q<=le){var ke=o-le;if((re>7e3||Ce>24576)&&(ke>423||!p)){g=nw(i,u,0,he,we,Be,ie,Ce,H,le-H,g),Ce=re=ie=0,H=le;for(var Ye=0;Ye<286;++Ye)we[Ye]=0;for(var Ye=0;Ye<30;++Ye)Be[Ye]=0}var Me=2,je=0,Ze=x,wt=_e-Fe&32767;if(ke>2&&ve==X(le-wt))for(var A=Math.min(w,ke)-1,V=Math.min(32767,le),N=Math.min(258,ke);wt<=V&&--Ze&&_e!=Fe;){if(i[le+Me]==i[le+Me-wt]){for(var j=0;j<N&&i[le+j]==i[le+j-wt];++j);if(j>Me){if(Me=j,je=wt,j>A)break;for(var se=Math.min(wt,j-2),Ee=0,Ye=0;Ye<se;++Ye){var Ie=le-wt+Ye&32767,Te=E[Ie],Re=Ie-Te&32767;Re>Ee&&(Ee=Re,Fe=Ie)}}}_e=Fe,Fe=E[_e],wt+=_e-Fe&32767}if(je){he[Ce++]=268435456|qv[Me]<<18|iw[je];var at=qv[Me]&31,pt=iw[je]&31;ie+=wm[at]+Sm[pt],++we[257+at],++Be[pt],q=le+Me,++re}else he[Ce++]=i[le],++we[i[le]]}}for(le=Math.max(le,q);le<o;++le)he[Ce++]=i[le],++we[i[le]];g=nw(i,u,p,he,we,Be,ie,Ce,H,le-H,g),p||(a.r=g&7|u[g/8|0]<<3,g-=7,a.h=k,a.p=E,a.i=le,a.w=q)}else{for(var le=a.w||0;le<o+p;le+=65535){var Pt=le+65535;Pt>=o&&(u[g/8|0]=p,Pt=o),g=dw(u,g+1,i.subarray(le,Pt))}a.i=o}return cw(d,0,r+Gv(g)+n)};var fw=function(){var i=1,t=0;return{p:function(e){for(var r=i,n=t,a=e.length|0,o=0;o!=a;){for(var d=Math.min(o+2655,a);o<d;++o)n+=r+=e[o];r=(r&65535)+15*(r>>16),n=(n&65535)+15*(n>>16)}i=r,t=n},d:function(){return i%=65521,t%=65521,(i&255)<<24|(i&65280)<<8|(t&255)<<8|t>>8}}},RR=function(i,t,e,r,n){if(!n&&(n={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),o=new ha(a.length+i.length);o.set(a),o.set(i,a.length),i=o,n.w=a.length}return DR(i,t.level==null?6:t.level,t.mem==null?n.l?Math.ceil(Math.max(8,Math.min(13,Math.log(i.length)))*1.5):20:12+t.mem,e,r,n)};var pw=function(i,t,e){for(;e;++t)i[t]=e,e>>>=8};var BR=function(i,t){var e=t.level,r=e==0?0:e<6?1:e==9?3:2;if(i[0]=120,i[1]=r<<6|(t.dictionary&&32),i[1]|=31-(i[0]<<8|i[1])%31,t.dictionary){var n=fw();n.p(t.dictionary),pw(i,2,n.d())}},UR=function(i,t){return((i[0]&15)!=8||i[0]>>4>7||(i[0]<<8|i[1])%31)&&xs(6,"invalid zlib data"),(i[1]>>5&1)==+!t&&xs(6,"invalid zlib data: "+(i[1]&32?"need":"unexpected")+" dictionary"),(i[1]>>3&4)+2};function Em(i,t){t||(t={});var e=fw();e.p(i);var r=RR(i,t,t.dictionary?6:2,4);return BR(r,t),pw(r,r.length-4,e.d()),r}function hw(i,t){return NR(i.subarray(UR(i,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var VR=typeof TextDecoder<"u"&&new TextDecoder,jR=0;try{VR.decode(uw,{stream:!0}),jR=1}catch{}var wi=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function $v(){wi.console&&typeof wi.console.log=="function"&&wi.console.log.apply(wi.console,arguments)}var Rr={log:$v,warn:function(i){wi.console&&(typeof wi.console.warn=="function"?wi.console.warn.apply(wi.console,arguments):$v.call(null,arguments))},error:function(i){wi.console&&(typeof wi.console.error=="function"?wi.console.error.apply(wi.console,arguments):$v(i))}};function Zv(i,t,e){var r=new XMLHttpRequest;r.open("GET",i),r.responseType="blob",r.onload=function(){Od(r.response,t,e)},r.onerror=function(){Rr.error("could not download file")},r.send()}function mw(i){var t=new XMLHttpRequest;t.open("HEAD",i,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Pm(i){try{i.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),i.dispatchEvent(t)}}var Of,Qv,Od=wi.saveAs||((typeof window>"u"?"undefined":Ar(window))!=="object"||window!==wi?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(i,t,e){var r=wi.URL||wi.webkitURL,n=document.createElement("a");t=t||i.name||"download",n.download=t,n.rel="noopener",typeof i=="string"?(n.href=i,n.origin!==location.origin?mw(n.href)?Zv(i,t,e):Pm(n,n.target="_blank"):Pm(n)):(n.href=r.createObjectURL(i),setTimeout(function(){r.revokeObjectURL(n.href)},4e4),setTimeout(function(){Pm(n)},0))}:"msSaveOrOpenBlob"in navigator?function(i,t,e){if(t=t||i.name||"download",typeof i=="string")if(mw(i))Zv(i,t,e);else{var r=document.createElement("a");r.href=i,r.target="_blank",setTimeout(function(){Pm(r)})}else navigator.msSaveOrOpenBlob(function(n,a){return a===void 0?a={autoBom:!1}:Ar(a)!=="object"&&(Rr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob(["\uFEFF",n],{type:n.type}):n}(i,e),t)}:function(i,t,e,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof i=="string")return Zv(i,t,e);var n=i.type==="application/octet-stream",a=/constructor/i.test(wi.HTMLElement)||wi.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||n&&a)&&(typeof FileReader>"u"?"undefined":Ar(FileReader))==="object"){var d=new FileReader;d.onloadend=function(){var g=d.result;g=o?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=g:location=g,r=null},d.readAsDataURL(i)}else{var u=wi.URL||wi.webkitURL,p=u.createObjectURL(i);r?r.location=p:location.href=p,r=null,setTimeout(function(){u.revokeObjectURL(p)},4e4)}});function Iw(i){var t;i=i||"",this.ok=!1,i.charAt(0)=="#"&&(i=i.substr(1,6)),i={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[i=(i=i.replace(/ /g,"")).toLowerCase()]||i;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(d){return[parseInt(d[1]),parseInt(d[2]),parseInt(d[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(d){return[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(d){return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)]}}],r=0;r<e.length;r++){var n=e[r].re,a=e[r].process,o=n.exec(i);o&&(t=a(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var d=this.r.toString(16),u=this.g.toString(16),p=this.b.toString(16);return d.length==1&&(d="0"+d),u.length==1&&(u="0"+u),p.length==1&&(p="0"+p),"#"+d+u+p}}function Xv(i,t){var e=i[0],r=i[1],n=i[2],a=i[3];e=ma(e,r,n,a,t[0],7,-680876936),a=ma(a,e,r,n,t[1],12,-389564586),n=ma(n,a,e,r,t[2],17,606105819),r=ma(r,n,a,e,t[3],22,-1044525330),e=ma(e,r,n,a,t[4],7,-176418897),a=ma(a,e,r,n,t[5],12,1200080426),n=ma(n,a,e,r,t[6],17,-1473231341),r=ma(r,n,a,e,t[7],22,-45705983),e=ma(e,r,n,a,t[8],7,1770035416),a=ma(a,e,r,n,t[9],12,-1958414417),n=ma(n,a,e,r,t[10],17,-42063),r=ma(r,n,a,e,t[11],22,-1990404162),e=ma(e,r,n,a,t[12],7,1804603682),a=ma(a,e,r,n,t[13],12,-40341101),n=ma(n,a,e,r,t[14],17,-1502002290),e=ga(e,r=ma(r,n,a,e,t[15],22,1236535329),n,a,t[1],5,-165796510),a=ga(a,e,r,n,t[6],9,-1069501632),n=ga(n,a,e,r,t[11],14,643717713),r=ga(r,n,a,e,t[0],20,-373897302),e=ga(e,r,n,a,t[5],5,-701558691),a=ga(a,e,r,n,t[10],9,38016083),n=ga(n,a,e,r,t[15],14,-660478335),r=ga(r,n,a,e,t[4],20,-405537848),e=ga(e,r,n,a,t[9],5,568446438),a=ga(a,e,r,n,t[14],9,-1019803690),n=ga(n,a,e,r,t[3],14,-187363961),r=ga(r,n,a,e,t[8],20,1163531501),e=ga(e,r,n,a,t[13],5,-1444681467),a=ga(a,e,r,n,t[2],9,-51403784),n=ga(n,a,e,r,t[7],14,1735328473),e=va(e,r=ga(r,n,a,e,t[12],20,-1926607734),n,a,t[5],4,-378558),a=va(a,e,r,n,t[8],11,-2022574463),n=va(n,a,e,r,t[11],16,1839030562),r=va(r,n,a,e,t[14],23,-35309556),e=va(e,r,n,a,t[1],4,-1530992060),a=va(a,e,r,n,t[4],11,1272893353),n=va(n,a,e,r,t[7],16,-155497632),r=va(r,n,a,e,t[10],23,-1094730640),e=va(e,r,n,a,t[13],4,681279174),a=va(a,e,r,n,t[0],11,-358537222),n=va(n,a,e,r,t[3],16,-722521979),r=va(r,n,a,e,t[6],23,76029189),e=va(e,r,n,a,t[9],4,-640364487),a=va(a,e,r,n,t[12],11,-421815835),n=va(n,a,e,r,t[15],16,530742520),e=_a(e,r=va(r,n,a,e,t[2],23,-995338651),n,a,t[0],6,-198630844),a=_a(a,e,r,n,t[7],10,1126891415),n=_a(n,a,e,r,t[14],15,-1416354905),r=_a(r,n,a,e,t[5],21,-57434055),e=_a(e,r,n,a,t[12],6,1700485571),a=_a(a,e,r,n,t[3],10,-1894986606),n=_a(n,a,e,r,t[10],15,-1051523),r=_a(r,n,a,e,t[1],21,-2054922799),e=_a(e,r,n,a,t[8],6,1873313359),a=_a(a,e,r,n,t[15],10,-30611744),n=_a(n,a,e,r,t[6],15,-1560198380),r=_a(r,n,a,e,t[13],21,1309151649),e=_a(e,r,n,a,t[4],6,-145523070),a=_a(a,e,r,n,t[11],10,-1120210379),n=_a(n,a,e,r,t[2],15,718787259),r=_a(r,n,a,e,t[9],21,-343485551),i[0]=Ic(e,i[0]),i[1]=Ic(r,i[1]),i[2]=Ic(n,i[2]),i[3]=Ic(a,i[3])}function Dm(i,t,e,r,n,a){return t=Ic(Ic(t,i),Ic(r,a)),Ic(t<<n|t>>>32-n,e)}function ma(i,t,e,r,n,a,o){return Dm(t&e|~t&r,i,t,n,a,o)}function ga(i,t,e,r,n,a,o){return Dm(t&r|e&~r,i,t,n,a,o)}function va(i,t,e,r,n,a,o){return Dm(t^e^r,i,t,n,a,o)}function _a(i,t,e,r,n,a,o){return Dm(e^(t|~r),i,t,n,a,o)}function Fw(i){var t,e=i.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=i.length;t+=64)Xv(r,qR(i.substring(t-64,t)));i=i.substring(t-64);var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i.length;t++)n[t>>2]|=i.charCodeAt(t)<<(t%4<<3);if(n[t>>2]|=128<<(t%4<<3),t>55)for(Xv(r,n),t=0;t<16;t++)n[t]=0;return n[14]=8*e,Xv(r,n),r}function qR(i){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=i.charCodeAt(t)+(i.charCodeAt(t+1)<<8)+(i.charCodeAt(t+2)<<16)+(i.charCodeAt(t+3)<<24);return e}Of=wi.atob.bind(wi),Qv=wi.btoa.bind(wi);var gw="0123456789abcdef".split("");function zR(i){for(var t="",e=0;e<4;e++)t+=gw[i>>8*e+4&15]+gw[i>>8*e&15];return t}function WR(i){return String.fromCharCode((255&i)>>0,(65280&i)>>8,(16711680&i)>>16,(4278190080&i)>>24)}function e_(i){return Fw(i).map(WR).join("")}var HR=function(i){for(var t=0;t<i.length;t++)i[t]=zR(i[t]);return i.join("")}(Fw("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ic(i,t){if(HR){var e=(65535&i)+(65535&t);return(i>>16)+(t>>16)+(e>>16)<<16|65535&e}return i+t&4294967295}function t_(i,t){var e,r,n,a;if(i!==e){for(var o=(n=i,a=1+(256/i.length>>0),new Array(a+1).join(n)),d=[],u=0;u<256;u++)d[u]=u;var p=0;for(u=0;u<256;u++){var g=d[u];p=(p+g+o.charCodeAt(u))%256,d[u]=d[p],d[p]=g}e=i,r=d}else d=r;var y=t.length,w=0,x=0,T="";for(u=0;u<y;u++)x=(x+(g=d[w=(w+1)%256]))%256,d[w]=d[x],d[x]=g,o=d[(d[w]+d[x])%256],T+=String.fromCharCode(t.charCodeAt(u)^o);return T}var vw={print:4,modify:8,copy:16,"annot-forms":32};function zu(i,t,e,r){this.v=1,this.r=2;var n=192;i.forEach(function(d){if(vw.perm!==void 0)throw new Error("Invalid permission: "+d);n+=vw[d]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var a=(t+this.padding).substr(0,32),o=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^n)),this.encryptionKey=e_(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=t_(this.encryptionKey,this.padding)}function Wu(i){if(/[^\u0000-\u00ff]/.test(i))throw new Error("Invalid PDF Name Object: "+i+", Only accept ASCII characters.");for(var t="",e=i.length,r=0;r<e;r++){var n=i.charCodeAt(r);n<33||n===35||n===37||n===40||n===41||n===47||n===60||n===62||n===91||n===93||n===123||n===125||n>126?t+="#"+("0"+n.toString(16)).slice(-2):t+=i[r]}return t}function _w(i){if(Ar(i)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,r,n){if(n=n||!1,typeof e!="string"||typeof r!="function"||typeof n!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var a=Math.random().toString(35);return t[e][a]=[r,!!n],a},this.unsubscribe=function(e){for(var r in t)if(t[r][e])return delete t[r][e],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var r=Array.prototype.slice.call(arguments,1),n=[];for(var a in t[e]){var o=t[e][a];try{o[0].apply(i,r)}catch(d){wi.console&&Rr.error("jsPDF PubSub Error",d.message,d)}o[1]&&n.push(a)}n.length&&n.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Nm(i){if(!(this instanceof Nm))return new Nm(i);var t="opacity,stroke-opacity".split(",");for(var e in i)i.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=i[e]);this.id="",this.objectNumber=-1}function Nw(i,t){this.gState=i,this.matrix=t,this.id="",this.objectNumber=-1}function Id(i,t,e,r,n){if(!(this instanceof Id))return new Id(i,t,e,r,n);this.type=i==="axial"?2:3,this.coords=t,this.colors=e,Nw.call(this,r,n)}function Hu(i,t,e,r,n){if(!(this instanceof Hu))return new Hu(i,t,e,r,n);this.boundingBox=i,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,Nw.call(this,r,n)}function hi(i){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],n=arguments[2],a=arguments[3],o=[],d=1,u=16,p="S",g=null;Ar(i=i||{})==="object"&&(e=i.orientation,r=i.unit||r,n=i.format||n,a=i.compress||i.compressPdf||a,(g=i.encryption||null)!==null&&(g.userPassword=g.userPassword||"",g.ownerPassword=g.ownerPassword||"",g.userPermissions=g.userPermissions||[]),d=typeof i.userUnit=="number"?Math.abs(i.userUnit):1,i.precision!==void 0&&(t=i.precision),i.floatPrecision!==void 0&&(u=i.floatPrecision),p=i.defaultPathOperation||"S"),o=i.filters||(a===!0?["FlateEncode"]:o),r=r||"mm",e=(""+(e||"P")).toLowerCase();var y=i.putOnlyUsedFonts||!1,w={},x={internal:{},__private__:{}};x.__private__.PubSub=_w;var T="1.3",E=x.__private__.getPdfVersion=function(){return T};x.__private__.setPdfVersion=function(C){T=C};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};x.__private__.getPageFormats=function(){return k};var F=x.__private__.getPageFormat=function(C){return k[C]};n=n||"a4";var D={COMPAT:"compat",ADVANCED:"advanced"},X=D.COMPAT;function he(){this.saveGraphicsState(),ge(new fi(qt,0,0,-qt,0,Mo()*qt).toString()+" cm"),this.setFontSize(this.getFontSize()/qt),p="n",X=D.ADVANCED}function we(){this.restoreGraphicsState(),p="S",X=D.COMPAT}var Be=x.__private__.combineFontStyleAndFontWeight=function(C,R){if(C=="bold"&&R=="normal"||C=="bold"&&R==400||C=="normal"&&R=="italic"||C=="bold"&&R=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return R&&(C=R==400||R==="normal"?C==="italic"?"italic":"normal":R!=700&&R!=="bold"||C!=="normal"?(R==700?"bold":R)+""+C:"bold"),C};x.advancedAPI=function(C){var R=X===D.COMPAT;return R&&he.call(this),typeof C!="function"||(C(this),R&&we.call(this)),this},x.compatAPI=function(C){var R=X===D.ADVANCED;return R&&we.call(this),typeof C!="function"||(C(this),R&&he.call(this)),this},x.isAdvancedAPI=function(){return X===D.ADVANCED};var re,ie=function(C){if(X!==D.ADVANCED)throw new Error(C+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},le=x.roundToPrecision=x.__private__.roundToPrecision=function(C,R){var me=t||R;if(isNaN(C)||isNaN(me))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return C.toFixed(me).replace(/0+$/,"")};re=x.hpf=x.__private__.hpf=typeof u=="number"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return le(C,u)}:u==="smart"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return le(C,C>-1&&C<1?16:5)}:function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return le(C,16)};var Ce=x.f2=x.__private__.f2=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f2");return le(C,2)},q=x.__private__.f3=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f3");return le(C,3)},H=x.scale=x.__private__.scale=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.scale");return X===D.COMPAT?C*qt:X===D.ADVANCED?C:void 0},ve=function(C){return X===D.COMPAT?Mo()-C:X===D.ADVANCED?C:void 0},_e=function(C){return H(ve(C))};x.__private__.setPrecision=x.setPrecision=function(C){typeof parseInt(C,10)=="number"&&(t=parseInt(C,10))};var Fe,ke="00000000000000000000000000000000",Ye=x.__private__.getFileId=function(){return ke},Me=x.__private__.setFileId=function(C){return ke=C!==void 0&&/^[a-fA-F0-9]{32}$/.test(C)?C.toUpperCase():ke.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),g!==null&&(vn=new zu(g.userPermissions,g.userPassword,g.ownerPassword,ke)),ke};x.setFileId=function(C){return Me(C),this},x.getFileId=function(){return Ye()};var je=x.__private__.convertDateToPDFDate=function(C){var R=C.getTimezoneOffset(),me=R<0?"+":"-",Pe=Math.floor(Math.abs(R/60)),Ue=Math.abs(R%60),it=[me,N(Pe),"'",N(Ue),"'"].join("");return["D:",C.getFullYear(),N(C.getMonth()+1),N(C.getDate()),N(C.getHours()),N(C.getMinutes()),N(C.getSeconds()),it].join("")},Ze=x.__private__.convertPDFDateToDate=function(C){var R=parseInt(C.substr(2,4),10),me=parseInt(C.substr(6,2),10)-1,Pe=parseInt(C.substr(8,2),10),Ue=parseInt(C.substr(10,2),10),it=parseInt(C.substr(12,2),10),ct=parseInt(C.substr(14,2),10);return new Date(R,me,Pe,Ue,it,ct,0)},wt=x.__private__.setCreationDate=function(C){var R;if(C===void 0&&(C=new Date),C instanceof Date)R=je(C);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(C))throw new Error("Invalid argument passed to jsPDF.setCreationDate");R=C}return Fe=R},A=x.__private__.getCreationDate=function(C){var R=Fe;return C==="jsDate"&&(R=Ze(Fe)),R};x.setCreationDate=function(C){return wt(C),this},x.getCreationDate=function(C){return A(C)};var V,N=x.__private__.padd2=function(C){return("0"+parseInt(C)).slice(-2)},j=x.__private__.padd2Hex=function(C){return("00"+(C=C.toString())).substr(C.length)},se=0,Ee=[],Ie=[],Te=0,Re=[],at=[],pt=!1,Pt=Ie,Lt=function(){se=0,Te=0,Ie=[],Ee=[],Re=[],ne=jr(),oe=jr()};x.__private__.setCustomOutputDestination=function(C){pt=!0,Pt=C};var Qe=function(C){pt||(Pt=C)};x.__private__.resetCustomOutputDestination=function(){pt=!1,Pt=Ie};var ge=x.__private__.out=function(C){return C=C.toString(),Te+=C.length+1,Pt.push(C),Pt},mt=x.__private__.write=function(C){return ge(arguments.length===1?C.toString():Array.prototype.join.call(arguments," "))},Wt=x.__private__.getArrayBuffer=function(C){for(var R=C.length,me=new ArrayBuffer(R),Pe=new Uint8Array(me);R--;)Pe[R]=C.charCodeAt(R);return me},gt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];x.__private__.getStandardFonts=function(){return gt};var Ft=i.fontSize||16;x.__private__.setFontSize=x.setFontSize=function(C){return Ft=X===D.ADVANCED?C/qt:C,this};var Ut,Vt=x.__private__.getFontSize=x.getFontSize=function(){return X===D.COMPAT?Ft:Ft*qt},Qt=i.R2L||!1;x.__private__.setR2L=x.setR2L=function(C){return Qt=C,this},x.__private__.getR2L=x.getR2L=function(){return Qt};var ti,yi=x.__private__.setZoomMode=function(C){var R=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(C))Ut=C;else if(isNaN(C)){if(R.indexOf(C)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+C+'" is not recognized.');Ut=C}else Ut=parseInt(C,10)};x.__private__.getZoomMode=function(){return Ut};var Ti,Hi=x.__private__.setPageMode=function(C){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(C)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+C+'" is not recognized.');ti=C};x.__private__.getPageMode=function(){return ti};var Gi=x.__private__.setLayoutMode=function(C){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(C)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+C+'" is not recognized.');Ti=C};x.__private__.getLayoutMode=function(){return Ti},x.__private__.setDisplayMode=x.setDisplayMode=function(C,R,me){return yi(C),Gi(R),Hi(me),this};var mi={title:"",subject:"",author:"",keywords:"",creator:""};x.__private__.getDocumentProperty=function(C){if(Object.keys(mi).indexOf(C)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return mi[C]},x.__private__.getDocumentProperties=function(){return mi},x.__private__.setDocumentProperties=x.setProperties=x.setDocumentProperties=function(C){for(var R in mi)mi.hasOwnProperty(R)&&C[R]&&(mi[R]=C[R]);return this},x.__private__.setDocumentProperty=function(C,R){if(Object.keys(mi).indexOf(C)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return mi[C]=R};var Fi,qt,Yr,Zi,Qn,er={},Er={},Da=[],tr={},ro={},Pr={},ba={},no=null,vr=0,Si=[],ar=new _w(x),Yo=i.hotfixes||[],Kr={},Ra={},Ba=[],fi=function C(R,me,Pe,Ue,it,ct){if(!(this instanceof C))return new C(R,me,Pe,Ue,it,ct);isNaN(R)&&(R=1),isNaN(me)&&(me=0),isNaN(Pe)&&(Pe=0),isNaN(Ue)&&(Ue=1),isNaN(it)&&(it=0),isNaN(ct)&&(ct=0),this._matrix=[R,me,Pe,Ue,it,ct]};Object.defineProperty(fi.prototype,"sx",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(fi.prototype,"shy",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(fi.prototype,"shx",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(fi.prototype,"sy",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(fi.prototype,"tx",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(fi.prototype,"ty",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(fi.prototype,"a",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(fi.prototype,"b",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(fi.prototype,"c",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(fi.prototype,"d",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(fi.prototype,"e",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(fi.prototype,"f",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(fi.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(fi.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(fi.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(fi.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),fi.prototype.join=function(C){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(re).join(C)},fi.prototype.multiply=function(C){var R=C.sx*this.sx+C.shy*this.shx,me=C.sx*this.shy+C.shy*this.sy,Pe=C.shx*this.sx+C.sy*this.shx,Ue=C.shx*this.shy+C.sy*this.sy,it=C.tx*this.sx+C.ty*this.shx+this.tx,ct=C.tx*this.shy+C.ty*this.sy+this.ty;return new fi(R,me,Pe,Ue,it,ct)},fi.prototype.decompose=function(){var C=this.sx,R=this.shy,me=this.shx,Pe=this.sy,Ue=this.tx,it=this.ty,ct=Math.sqrt(C*C+R*R),Gt=(C/=ct)*me+(R/=ct)*Pe;me-=C*Gt,Pe-=R*Gt;var ii=Math.sqrt(me*me+Pe*Pe);return Gt/=ii,C*(Pe/=ii)<R*(me/=ii)&&(C=-C,R=-R,Gt=-Gt,ct=-ct),{scale:new fi(ct,0,0,ii,0,0),translate:new fi(1,0,0,1,Ue,it),rotate:new fi(C,R,-R,C,0,0),skew:new fi(1,0,Gt,1,0,0)}},fi.prototype.toString=function(C){return this.join(" ")},fi.prototype.inversed=function(){var C=this.sx,R=this.shy,me=this.shx,Pe=this.sy,Ue=this.tx,it=this.ty,ct=1/(C*Pe-R*me),Gt=Pe*ct,ii=-R*ct,Ai=-me*ct,Ei=C*ct;return new fi(Gt,ii,Ai,Ei,-Gt*Ue-Ai*it,-ii*Ue-Ei*it)},fi.prototype.applyToPoint=function(C){var R=C.x*this.sx+C.y*this.shx+this.tx,me=C.x*this.shy+C.y*this.sy+this.ty;return new nl(R,me)},fi.prototype.applyToRectangle=function(C){var R=this.applyToPoint(C),me=this.applyToPoint(new nl(C.x+C.w,C.y+C.h));return new Rl(R.x,R.y,me.x-R.x,me.y-R.y)},fi.prototype.clone=function(){var C=this.sx,R=this.shy,me=this.shx,Pe=this.sy,Ue=this.tx,it=this.ty;return new fi(C,R,me,Pe,Ue,it)},x.Matrix=fi;var xa=x.matrixMult=function(C,R){return R.multiply(C)},Vr=new fi(1,0,0,1,0,0);x.unitMatrix=x.identityMatrix=Vr;var $t=function(C,R){if(!ro[C]){var me=(R instanceof Id?"Sh":"P")+(Object.keys(tr).length+1).toString(10);R.id=me,ro[C]=me,tr[me]=R,ar.publish("addPattern",R)}};x.ShadingPattern=Id,x.TilingPattern=Hu,x.addShadingPattern=function(C,R){return ie("addShadingPattern()"),$t(C,R),this},x.beginTilingPattern=function(C){ie("beginTilingPattern()"),Bd(C.boundingBox[0],C.boundingBox[1],C.boundingBox[2]-C.boundingBox[0],C.boundingBox[3]-C.boundingBox[1],C.matrix)},x.endTilingPattern=function(C,R){ie("endTilingPattern()"),R.stream=at[V].join(`
`),$t(C,R),ar.publish("endTilingPattern",R),Ba.pop().restore()};var Hr=x.__private__.newObject=function(){var C=jr();return G(C,!0),C},jr=x.__private__.newObjectDeferred=function(){return se++,Ee[se]=function(){return Te},se},G=function(C,R){return R=typeof R=="boolean"&&R,Ee[C]=Te,R&&ge(C+" 0 obj"),C},fe=x.__private__.newAdditionalObject=function(){var C={objId:jr(),content:""};return Re.push(C),C},ne=jr(),oe=jr(),de=x.__private__.decodeColorString=function(C){var R=C.split(" ");if(R.length!==2||R[1]!=="g"&&R[1]!=="G")R.length===5&&(R[4]==="k"||R[4]==="K")&&(R=[(1-R[0])*(1-R[3]),(1-R[1])*(1-R[3]),(1-R[2])*(1-R[3]),"r"]);else{var me=parseFloat(R[0]);R=[me,me,me,"r"]}for(var Pe="#",Ue=0;Ue<3;Ue++)Pe+=("0"+Math.floor(255*parseFloat(R[Ue])).toString(16)).slice(-2);return Pe},pe=x.__private__.encodeColorString=function(C){var R;typeof C=="string"&&(C={ch1:C});var me=C.ch1,Pe=C.ch2,Ue=C.ch3,it=C.ch4,ct=C.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof me=="string"&&me.charAt(0)!=="#"){var Gt=new Iw(me);if(Gt.ok)me=Gt.toHex();else if(!/^\d*\.?\d*$/.test(me))throw new Error('Invalid color "'+me+'" passed to jsPDF.encodeColorString.')}if(typeof me=="string"&&/^#[0-9A-Fa-f]{3}$/.test(me)&&(me="#"+me[1]+me[1]+me[2]+me[2]+me[3]+me[3]),typeof me=="string"&&/^#[0-9A-Fa-f]{6}$/.test(me)){var ii=parseInt(me.substr(1),16);me=ii>>16&255,Pe=ii>>8&255,Ue=255&ii}if(Pe===void 0||it===void 0&&me===Pe&&Pe===Ue)if(typeof me=="string")R=me+" "+ct[0];else switch(C.precision){case 2:R=Ce(me/255)+" "+ct[0];break;case 3:default:R=q(me/255)+" "+ct[0]}else if(it===void 0||Ar(it)==="object"){if(it&&!isNaN(it.a)&&it.a===0)return R=["1.","1.","1.",ct[1]].join(" ");if(typeof me=="string")R=[me,Pe,Ue,ct[1]].join(" ");else switch(C.precision){case 2:R=[Ce(me/255),Ce(Pe/255),Ce(Ue/255),ct[1]].join(" ");break;default:case 3:R=[q(me/255),q(Pe/255),q(Ue/255),ct[1]].join(" ")}}else if(typeof me=="string")R=[me,Pe,Ue,it,ct[2]].join(" ");else switch(C.precision){case 2:R=[Ce(me),Ce(Pe),Ce(Ue),Ce(it),ct[2]].join(" ");break;case 3:default:R=[q(me),q(Pe),q(Ue),q(it),ct[2]].join(" ")}return R},ze=x.__private__.getFilters=function(){return o},et=x.__private__.putStream=function(C){var R=(C=C||{}).data||"",me=C.filters||ze(),Pe=C.alreadyAppliedFilters||[],Ue=C.addLength1||!1,it=R.length,ct=C.objectId,Gt=function(On){return On};if(g!==null&&ct===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");g!==null&&(Gt=vn.encryptor(ct,0));var ii={};me===!0&&(me=["FlateEncode"]);var Ai=C.additionalKeyValues||[],Ei=(ii=hi.API.processDataByFilters!==void 0?hi.API.processDataByFilters(R,me):{data:R,reverseChain:[]}).reverseChain+(Array.isArray(Pe)?Pe.join(" "):Pe.toString());if(ii.data.length!==0&&(Ai.push({key:"Length",value:ii.data.length}),Ue===!0&&Ai.push({key:"Length1",value:it})),Ei.length!=0)if(Ei.split("/").length-1==1)Ai.push({key:"Filter",value:Ei});else{Ai.push({key:"Filter",value:"["+Ei+"]"});for(var Xi=0;Xi<Ai.length;Xi+=1)if(Ai[Xi].key==="DecodeParms"){for(var qr=[],$r=0;$r<ii.reverseChain.split("/").length-1;$r+=1)qr.push("null");qr.push(Ai[Xi].value),Ai[Xi].value="["+qr.join(" ")+"]"}}ge("<<");for(var Qr=0;Qr<Ai.length;Qr++)ge("/"+Ai[Qr].key+" "+Ai[Qr].value);ge(">>"),ii.data.length!==0&&(ge("stream"),ge(Gt(ii.data)),ge("endstream"))},We=x.__private__.putPage=function(C){var R=C.number,me=C.data,Pe=C.objId,Ue=C.contentsObjId;G(Pe,!0),ge("<</Type /Page"),ge("/Parent "+C.rootDictionaryObjId+" 0 R"),ge("/Resources "+C.resourceDictionaryObjId+" 0 R"),ge("/MediaBox ["+parseFloat(re(C.mediaBox.bottomLeftX))+" "+parseFloat(re(C.mediaBox.bottomLeftY))+" "+re(C.mediaBox.topRightX)+" "+re(C.mediaBox.topRightY)+"]"),C.cropBox!==null&&ge("/CropBox ["+re(C.cropBox.bottomLeftX)+" "+re(C.cropBox.bottomLeftY)+" "+re(C.cropBox.topRightX)+" "+re(C.cropBox.topRightY)+"]"),C.bleedBox!==null&&ge("/BleedBox ["+re(C.bleedBox.bottomLeftX)+" "+re(C.bleedBox.bottomLeftY)+" "+re(C.bleedBox.topRightX)+" "+re(C.bleedBox.topRightY)+"]"),C.trimBox!==null&&ge("/TrimBox ["+re(C.trimBox.bottomLeftX)+" "+re(C.trimBox.bottomLeftY)+" "+re(C.trimBox.topRightX)+" "+re(C.trimBox.topRightY)+"]"),C.artBox!==null&&ge("/ArtBox ["+re(C.artBox.bottomLeftX)+" "+re(C.artBox.bottomLeftY)+" "+re(C.artBox.topRightX)+" "+re(C.artBox.topRightY)+"]"),typeof C.userUnit=="number"&&C.userUnit!==1&&ge("/UserUnit "+C.userUnit),ar.publish("putPage",{objId:Pe,pageContext:Si[R],pageNumber:R,page:me}),ge("/Contents "+Ue+" 0 R"),ge(">>"),ge("endobj");var it=me.join(`
`);return X===D.ADVANCED&&(it+=`
Q`),G(Ue,!0),et({data:it,filters:ze(),objectId:Ue}),ge("endobj"),Pe},He=x.__private__.putPages=function(){var C,R,me=[];for(C=1;C<=vr;C++)Si[C].objId=jr(),Si[C].contentsObjId=jr();for(C=1;C<=vr;C++)me.push(We({number:C,data:at[C],objId:Si[C].objId,contentsObjId:Si[C].contentsObjId,mediaBox:Si[C].mediaBox,cropBox:Si[C].cropBox,bleedBox:Si[C].bleedBox,trimBox:Si[C].trimBox,artBox:Si[C].artBox,userUnit:Si[C].userUnit,rootDictionaryObjId:ne,resourceDictionaryObjId:oe}));G(ne,!0),ge("<</Type /Pages");var Pe="/Kids [";for(R=0;R<vr;R++)Pe+=me[R]+" 0 R ";ge(Pe+"]"),ge("/Count "+vr),ge(">>"),ge("endobj"),ar.publish("postPutPages")},Xe=function(C){ar.publish("putFont",{font:C,out:ge,newObject:Hr,putStream:et}),C.isAlreadyPutted!==!0&&(C.objectNumber=Hr(),ge("<<"),ge("/Type /Font"),ge("/BaseFont /"+Wu(C.postScriptName)),ge("/Subtype /Type1"),typeof C.encoding=="string"&&ge("/Encoding /"+C.encoding),ge("/FirstChar 32"),ge("/LastChar 255"),ge(">>"),ge("endobj"))},yt=function(){for(var C in er)er.hasOwnProperty(C)&&(y===!1||y===!0&&w.hasOwnProperty(C))&&Xe(er[C])},At=function(C){C.objectNumber=Hr();var R=[];R.push({key:"Type",value:"/XObject"}),R.push({key:"Subtype",value:"/Form"}),R.push({key:"BBox",value:"["+[re(C.x),re(C.y),re(C.x+C.width),re(C.y+C.height)].join(" ")+"]"}),R.push({key:"Matrix",value:"["+C.matrix.toString()+"]"});var me=C.pages[1].join(`
`);et({data:me,additionalKeyValues:R,objectId:C.objectNumber}),ge("endobj")},Zt=function(){for(var C in Kr)Kr.hasOwnProperty(C)&&At(Kr[C])},Nt=function(C,R){var me,Pe=[],Ue=1/(R-1);for(me=0;me<1;me+=Ue)Pe.push(me);if(Pe.push(1),C[0].offset!=0){var it={offset:0,color:C[0].color};C.unshift(it)}if(C[C.length-1].offset!=1){var ct={offset:1,color:C[C.length-1].color};C.push(ct)}for(var Gt="",ii=0,Ai=0;Ai<Pe.length;Ai++){for(me=Pe[Ai];me>C[ii+1].offset;)ii++;var Ei=C[ii].offset,Xi=(me-Ei)/(C[ii+1].offset-Ei),qr=C[ii].color,$r=C[ii+1].color;Gt+=j(Math.round((1-Xi)*qr[0]+Xi*$r[0]).toString(16))+j(Math.round((1-Xi)*qr[1]+Xi*$r[1]).toString(16))+j(Math.round((1-Xi)*qr[2]+Xi*$r[2]).toString(16))}return Gt.trim()},Rt=function(C,R){R||(R=21);var me=Hr(),Pe=Nt(C.colors,R),Ue=[];Ue.push({key:"FunctionType",value:"0"}),Ue.push({key:"Domain",value:"[0.0 1.0]"}),Ue.push({key:"Size",value:"["+R+"]"}),Ue.push({key:"BitsPerSample",value:"8"}),Ue.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ue.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),et({data:Pe,additionalKeyValues:Ue,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:me}),ge("endobj"),C.objectNumber=Hr(),ge("<< /ShadingType "+C.type),ge("/ColorSpace /DeviceRGB");var it="/Coords ["+re(parseFloat(C.coords[0]))+" "+re(parseFloat(C.coords[1]))+" ";C.type===2?it+=re(parseFloat(C.coords[2]))+" "+re(parseFloat(C.coords[3])):it+=re(parseFloat(C.coords[2]))+" "+re(parseFloat(C.coords[3]))+" "+re(parseFloat(C.coords[4]))+" "+re(parseFloat(C.coords[5])),ge(it+="]"),C.matrix&&ge("/Matrix ["+C.matrix.toString()+"]"),ge("/Function "+me+" 0 R"),ge("/Extend [true true]"),ge(">>"),ge("endobj")},xi=function(C,R){var me=jr(),Pe=Hr();R.push({resourcesOid:me,objectOid:Pe}),C.objectNumber=Pe;var Ue=[];Ue.push({key:"Type",value:"/Pattern"}),Ue.push({key:"PatternType",value:"1"}),Ue.push({key:"PaintType",value:"1"}),Ue.push({key:"TilingType",value:"1"}),Ue.push({key:"BBox",value:"["+C.boundingBox.map(re).join(" ")+"]"}),Ue.push({key:"XStep",value:re(C.xStep)}),Ue.push({key:"YStep",value:re(C.yStep)}),Ue.push({key:"Resources",value:me+" 0 R"}),C.matrix&&Ue.push({key:"Matrix",value:"["+C.matrix.toString()+"]"}),et({data:C.stream,additionalKeyValues:Ue,objectId:C.objectNumber}),ge("endobj")},or=function(C){var R;for(R in tr)tr.hasOwnProperty(R)&&(tr[R]instanceof Id?Rt(tr[R]):tr[R]instanceof Hu&&xi(tr[R],C))},Jr=function(C){for(var R in C.objectNumber=Hr(),ge("<<"),C)switch(R){case"opacity":ge("/ca "+Ce(C[R]));break;case"stroke-opacity":ge("/CA "+Ce(C[R]))}ge(">>"),ge("endobj")},pr=function(){var C;for(C in Pr)Pr.hasOwnProperty(C)&&Jr(Pr[C])},rn=function(){for(var C in ge("/XObject <<"),Kr)Kr.hasOwnProperty(C)&&Kr[C].objectNumber>=0&&ge("/"+C+" "+Kr[C].objectNumber+" 0 R");ar.publish("putXobjectDict"),ge(">>")},So=function(){vn.oid=Hr(),ge("<<"),ge("/Filter /Standard"),ge("/V "+vn.v),ge("/R "+vn.r),ge("/U <"+vn.toHexString(vn.U)+">"),ge("/O <"+vn.toHexString(vn.O)+">"),ge("/P "+vn.P),ge(">>"),ge("endobj")},ea=function(){for(var C in ge("/Font <<"),er)er.hasOwnProperty(C)&&(y===!1||y===!0&&w.hasOwnProperty(C))&&ge("/"+C+" "+er[C].objectNumber+" 0 R");ge(">>")},Oi=function(){if(Object.keys(tr).length>0){for(var C in ge("/Shading <<"),tr)tr.hasOwnProperty(C)&&tr[C]instanceof Id&&tr[C].objectNumber>=0&&ge("/"+C+" "+tr[C].objectNumber+" 0 R");ar.publish("putShadingPatternDict"),ge(">>")}},sr=function(C){if(Object.keys(tr).length>0){for(var R in ge("/Pattern <<"),tr)tr.hasOwnProperty(R)&&tr[R]instanceof x.TilingPattern&&tr[R].objectNumber>=0&&tr[R].objectNumber<C&&ge("/"+R+" "+tr[R].objectNumber+" 0 R");ar.publish("putTilingPatternDict"),ge(">>")}},An=function(){if(Object.keys(Pr).length>0){var C;for(C in ge("/ExtGState <<"),Pr)Pr.hasOwnProperty(C)&&Pr[C].objectNumber>=0&&ge("/"+C+" "+Pr[C].objectNumber+" 0 R");ar.publish("putGStateDict"),ge(">>")}},Mr=function(C){G(C.resourcesOid,!0),ge("<<"),ge("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ea(),Oi(),sr(C.objectOid),An(),rn(),ge(">>"),ge("endobj")},Ko=function(){var C=[];yt(),pr(),Zt(),or(C),ar.publish("putResources"),C.forEach(Mr),Mr({resourcesOid:oe,objectOid:Number.MAX_SAFE_INTEGER}),ar.publish("postPutResources")},Al=function(){ar.publish("putAdditionalObjects");for(var C=0;C<Re.length;C++){var R=Re[C];G(R.objId,!0),ge(R.content),ge("endobj")}ar.publish("postPutAdditionalObjects")},ki=function(C){Er[C.fontName]=Er[C.fontName]||{},Er[C.fontName][C.fontStyle]=C.id},Fr=function(C,R,me,Pe,Ue){var it={id:"F"+(Object.keys(er).length+1).toString(10),postScriptName:C,fontName:R,fontStyle:me,encoding:Pe,isStandardFont:Ue||!1,metadata:{}};return ar.publish("addFont",{font:it,instance:this}),er[it.id]=it,ki(it),it.id},Nc=function(C){for(var R=0,me=gt.length;R<me;R++){var Pe=Fr.call(this,C[R][0],C[R][1],C[R][2],gt[R][3],!0);y===!1&&(w[Pe]=!0);var Ue=C[R][0].split("-");ki({id:Pe,fontName:Ue[0],fontStyle:Ue[1]||""})}ar.publish("addFonts",{fonts:er,dictionary:Er})},ta=function(C){return C.foo=function(){try{return C.apply(this,arguments)}catch(Pe){var R=Pe.stack||"";~R.indexOf(" at ")&&(R=R.split(" at ")[1]);var me="Error in function "+R.split(`
`)[0].split("<")[0]+": "+Pe.message;if(!wi.console)throw new Error(me);wi.console.error(me,Pe),wi.alert&&alert(me)}},C.foo.bar=C,C.foo},Pn=function(C,R){var me,Pe,Ue,it,ct,Gt,ii,Ai,Ei;if(Ue=(R=R||{}).sourceEncoding||"Unicode",ct=R.outputEncoding,(R.autoencode||ct)&&er[Fi].metadata&&er[Fi].metadata[Ue]&&er[Fi].metadata[Ue].encoding&&(it=er[Fi].metadata[Ue].encoding,!ct&&er[Fi].encoding&&(ct=er[Fi].encoding),!ct&&it.codePages&&(ct=it.codePages[0]),typeof ct=="string"&&(ct=it[ct]),ct)){for(ii=!1,Gt=[],me=0,Pe=C.length;me<Pe;me++)(Ai=ct[C.charCodeAt(me)])?Gt.push(String.fromCharCode(Ai)):Gt.push(C[me]),Gt[me].charCodeAt(0)>>8&&(ii=!0);C=Gt.join("")}for(me=C.length;ii===void 0&&me!==0;)C.charCodeAt(me-1)>>8&&(ii=!0),me--;if(!ii)return C;for(Gt=R.noBOM?[]:[254,255],me=0,Pe=C.length;me<Pe;me++){if((Ei=(Ai=C.charCodeAt(me))>>8)>>8)throw new Error("Character at position "+me+" of string '"+C+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Gt.push(Ei),Gt.push(Ai-(Ei<<8))}return String.fromCharCode.apply(void 0,Gt)},ia=x.__private__.pdfEscape=x.pdfEscape=function(C,R){return Pn(C,R).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ss=x.__private__.beginPage=function(C){at[++vr]=[],Si[vr]={objId:0,contentsObjId:0,userUnit:Number(d),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(C[0]),topRightY:Number(C[1])}},Po(vr),Qe(at[V])},Eo=function(C,R){var me,Pe,Ue;switch(e=R||e,typeof C=="string"&&(me=F(C.toLowerCase()),Array.isArray(me)&&(Pe=me[0],Ue=me[1])),Array.isArray(C)&&(Pe=C[0]*qt,Ue=C[1]*qt),isNaN(Pe)&&(Pe=n[0],Ue=n[1]),(Pe>14400||Ue>14400)&&(Rr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Pe=Math.min(14400,Pe),Ue=Math.min(14400,Ue)),n=[Pe,Ue],e.substr(0,1)){case"l":Ue>Pe&&(n=[Ue,Pe]);break;case"p":Pe>Ue&&(n=[Ue,Pe])}Ss(n),$i(Uc),ge(ja),zc!==0&&ge(zc+" J"),Dl!==0&&ge(Dl+" j"),ar.publish("addPage",{pageNumber:vr})},Gr=function(C){C>0&&C<=vr&&(at.splice(C,1),Si.splice(C,1),vr--,V>vr&&(V=vr),this.setPage(V))},Po=function(C){C>0&&C<=vr&&(V=C)},Qs=x.__private__.getNumberOfPages=x.getNumberOfPages=function(){return at.length-1},Es=function(C,R,me){var Pe,Ue=void 0;return me=me||{},C=C!==void 0?C:er[Fi].fontName,R=R!==void 0?R:er[Fi].fontStyle,Pe=C.toLowerCase(),Er[Pe]!==void 0&&Er[Pe][R]!==void 0?Ue=Er[Pe][R]:Er[C]!==void 0&&Er[C][R]!==void 0?Ue=Er[C][R]:me.disableWarning===!1&&Rr.warn("Unable to look up font label for font '"+C+"', '"+R+"'. Refer to getFontList() for available fonts."),Ue||me.noFallback||(Ue=Er.times[R])==null&&(Ue=Er.times.normal),Ue},Lc=x.__private__.putInfo=function(){var C=Hr(),R=function(Pe){return Pe};for(var me in g!==null&&(R=vn.encryptor(C,0)),ge("<<"),ge("/Producer ("+ia(R("jsPDF "+hi.version))+")"),mi)mi.hasOwnProperty(me)&&mi[me]&&ge("/"+me.substr(0,1).toUpperCase()+me.substr(1)+" ("+ia(R(mi[me]))+")");ge("/CreationDate ("+ia(R(Fe))+")"),ge(">>"),ge("endobj")},Jo=x.__private__.putCatalog=function(C){var R=(C=C||{}).rootDictionaryObjId||ne;switch(Hr(),ge("<<"),ge("/Type /Catalog"),ge("/Pages "+R+" 0 R"),Ut||(Ut="fullwidth"),Ut){case"fullwidth":ge("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ge("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ge("/OpenAction [3 0 R /Fit]");break;case"original":ge("/OpenAction [3 0 R /XYZ null null 1]");break;default:var me=""+Ut;me.substr(me.length-1)==="%"&&(Ut=parseInt(Ut)/100),typeof Ut=="number"&&ge("/OpenAction [3 0 R /XYZ null null "+Ce(Ut)+"]")}switch(Ti||(Ti="continuous"),Ti){case"continuous":ge("/PageLayout /OneColumn");break;case"single":ge("/PageLayout /SinglePage");break;case"two":case"twoleft":ge("/PageLayout /TwoColumnLeft");break;case"tworight":ge("/PageLayout /TwoColumnRight")}ti&&ge("/PageMode /"+ti),ar.publish("putCatalog"),ge(">>"),ge("endobj")},Dc=x.__private__.putTrailer=function(){ge("trailer"),ge("<<"),ge("/Size "+(se+1)),ge("/Root "+se+" 0 R"),ge("/Info "+(se-1)+" 0 R"),g!==null&&ge("/Encrypt "+vn.oid+" 0 R"),ge("/ID [ <"+ke+"> <"+ke+"> ]"),ge(">>")},Rc=x.__private__.putHeader=function(){ge("%PDF-"+T),ge("%\xBA\xDF\xAC\xE0")},Ol=x.__private__.putXRef=function(){var C="0000000000";ge("xref"),ge("0 "+(se+1)),ge("0000000000 65535 f ");for(var R=1;R<=se;R++)typeof Ee[R]=="function"?ge((C+Ee[R]()).slice(-10)+" 00000 n "):Ee[R]!==void 0?ge((C+Ee[R]).slice(-10)+" 00000 n "):ge("0000000000 00000 n ")},ao=x.__private__.buildDocument=function(){Lt(),Qe(Ie),ar.publish("buildDocument"),Rc(),He(),Al(),Ko(),g!==null&&So(),Lc(),Jo();var C=Te;return Ol(),Dc(),ge("startxref"),ge(""+C),ge("%%EOF"),Qe(at[V]),Ie.join(`
`)},Ps=x.__private__.getBlob=function(C){return new Blob([Wt(C)],{type:"application/pdf"})},Qo=x.output=x.__private__.output=ta(function(C,R){switch(typeof(R=R||{})=="string"?R={filename:R}:R.filename=R.filename||"generated.pdf",C){case void 0:return ao();case"save":x.save(R.filename);break;case"arraybuffer":return Wt(ao());case"blob":return Ps(ao());case"bloburi":case"bloburl":if(wi.URL!==void 0&&typeof wi.URL.createObjectURL=="function")return wi.URL&&wi.URL.createObjectURL(Ps(ao()))||void 0;Rr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var me="",Pe=ao();try{me=Qv(Pe)}catch{me=Qv(unescape(encodeURIComponent(Pe)))}return"data:application/pdf;filename="+R.filename+";base64,"+me;case"pdfobjectnewwindow":if(Object.prototype.toString.call(wi)==="[object Window]"){var Ue="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",it=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';R.pdfObjectUrl&&(Ue=R.pdfObjectUrl,it="");var ct='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ue+'"'+it+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(R)+");<\/script></body></html>",Gt=wi.open();return Gt!==null&&Gt.document.write(ct),Gt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(wi)==="[object Window]"){var ii='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(R.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+R.filename+'" width="500px" height="400px" /></body></html>',Ai=wi.open();if(Ai!==null){Ai.document.write(ii);var Ei=this;Ai.document.documentElement.querySelector("#pdfViewer").onload=function(){Ai.document.title=R.filename,Ai.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ei.output("bloburl"))}}return Ai}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(wi)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Xi='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",R)+'"></iframe></body></html>',qr=wi.open();if(qr!==null&&(qr.document.write(Xi),qr.document.title=R.filename),qr||typeof safari>"u")return qr;break;case"datauri":case"dataurl":return wi.document.location.href=this.output("datauristring",R);default:return null}}),Bc=function(C){return Array.isArray(Yo)===!0&&Yo.indexOf(C)>-1};switch(r){case"pt":qt=1;break;case"mm":qt=72/25.4;break;case"cm":qt=72/2.54;break;case"in":qt=72;break;case"px":qt=Bc("px_scaling")==1?.75:96/72;break;case"pc":case"em":qt=12;break;case"ex":qt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);qt=r}var vn=null;wt(),Me();var Ku=function(C){return g!==null?vn.encryptor(C,0):function(R){return R}},Mi=x.__private__.getPageInfo=x.getPageInfo=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Si[C].objId,pageNumber:C,pageContext:Si[C]}},ci=x.__private__.getPageInfoByObjId=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var R in Si)if(Si[R].objId===C)break;return Mi(R)},hr=x.__private__.getCurrentPageInfo=x.getCurrentPageInfo=function(){return{objId:Si[V].objId,pageNumber:V,pageContext:Si[V]}};x.addPage=function(){return Eo.apply(this,arguments),this},x.setPage=function(){return Po.apply(this,arguments),Qe.call(this,at[V]),this},x.insertPage=function(C){return this.addPage(),this.movePage(V,C),this},x.movePage=function(C,R){var me,Pe;if(C>R){me=at[C],Pe=Si[C];for(var Ue=C;Ue>R;Ue--)at[Ue]=at[Ue-1],Si[Ue]=Si[Ue-1];at[R]=me,Si[R]=Pe,this.setPage(R)}else if(C<R){me=at[C],Pe=Si[C];for(var it=C;it<R;it++)at[it]=at[it+1],Si[it]=Si[it+1];at[R]=me,Si[R]=Pe,this.setPage(R)}return this},x.deletePage=function(){return Gr.apply(this,arguments),this},x.__private__.text=x.text=function(C,R,me,Pe,Ue){var it,ct,Gt,ii,Ai,Ei,Xi,qr,$r,Qr=(Pe=Pe||{}).scope||this;if(typeof C=="number"&&typeof R=="number"&&(typeof me=="string"||Array.isArray(me))){var On=me;me=R,R=C,C=On}if(arguments[3]instanceof fi?(ie("The transform parameter of text() with a Matrix value"),$r=Ue):(Gt=arguments[4],ii=arguments[5],Ar(Xi=arguments[3])==="object"&&Xi!==null||(typeof Gt=="string"&&(ii=Gt,Gt=null),typeof Xi=="string"&&(ii=Xi,Xi=null),typeof Xi=="number"&&(Gt=Xi,Xi=null),Pe={flags:Xi,angle:Gt,align:ii})),isNaN(R)||isNaN(me)||C==null)throw new Error("Invalid arguments passed to jsPDF.text");if(C.length===0)return Qr;var mr="",In=!1,ya=typeof Pe.lineHeightFactor=="number"?Pe.lineHeightFactor:ts,_n=Qr.internal.scaleFactor;function Vd(Tr){return Tr=Tr.split("	").join(Array(Pe.TabLen||9).join(" ")),ia(Tr,Xi)}function To(Tr){for(var ir,Xr=Tr.concat(),on=[],Pa=Xr.length;Pa--;)typeof(ir=Xr.shift())=="string"?on.push(ir):Array.isArray(Tr)&&(ir.length===1||ir[1]===void 0&&ir[2]===void 0)?on.push(ir[0]):on.push([ir[0],ir[1],ir[2]]);return on}function Gc(Tr,ir){var Xr;if(typeof Tr=="string")Xr=ir(Tr)[0];else if(Array.isArray(Tr)){for(var on,Pa,Xc=Tr.concat(),os=[],Rs=Xc.length;Rs--;)typeof(on=Xc.shift())=="string"?os.push(ir(on)[0]):Array.isArray(on)&&typeof on[0]=="string"&&(Pa=ir(on[0],on[1],on[2]),os.push([Pa[0],Pa[1],Pa[2]]));Xr=os}return Xr}var ko=!1,Bl=!0;if(typeof C=="string")ko=!0;else if(Array.isArray(C)){var Os=C.concat();ct=[];for(var Ul,Br=Os.length;Br--;)(typeof(Ul=Os.shift())!="string"||Array.isArray(Ul)&&typeof Ul[0]!="string")&&(Bl=!1);ko=Bl}if(ko===!1)throw new Error('Type of text must be string or Array. "'+C+'" is not recognized.');typeof C=="string"&&(C=C.match(/[\r?\n]/)?C.split(/\r\n|\r|\n/g):[C]);var rs=Ft/Qr.internal.scaleFactor,Vl=rs*(ya-1);switch(Pe.baseline){case"bottom":me-=Vl;break;case"top":me+=rs-Vl;break;case"hanging":me+=rs-2*Vl;break;case"middle":me+=rs/2-Vl}if((Ei=Pe.maxWidth||0)>0&&(typeof C=="string"?C=Qr.splitTextToSize(C,Ei):Object.prototype.toString.call(C)==="[object Array]"&&(C=C.reduce(function(Tr,ir){return Tr.concat(Qr.splitTextToSize(ir,Ei))},[]))),it={text:C,x:R,y:me,options:Pe,mutex:{pdfEscape:ia,activeFontKey:Fi,fonts:er,activeFontSize:Ft}},ar.publish("preProcessText",it),C=it.text,Gt=(Pe=it.options).angle,!($r instanceof fi)&&Gt&&typeof Gt=="number"){Gt*=Math.PI/180,Pe.rotationDirection===0&&(Gt=-Gt),X===D.ADVANCED&&(Gt=-Gt);var Is=Math.cos(Gt),$c=Math.sin(Gt);$r=new fi(Is,$c,-$c,Is,0,0)}else Gt&&Gt instanceof fi&&($r=Gt);X!==D.ADVANCED||$r||($r=Vr),(Ai=Pe.charSpace||Ll)!==void 0&&(mr+=re(H(Ai))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(qr=Pe.horizontalScale)!==void 0&&(mr+=re(100*qr)+` Tz
`),Pe.lang;var Zr=-1,Ju=Pe.renderingMode!==void 0?Pe.renderingMode:Pe.stroke,Ao=Qr.internal.getCurrentPageInfo().pageContext;switch(Ju){case 0:case!1:case"fill":Zr=0;break;case 1:case!0:case"stroke":Zr=1;break;case 2:case"fillThenStroke":Zr=2;break;case 3:case"invisible":Zr=3;break;case 4:case"fillAndAddForClipping":Zr=4;break;case 5:case"strokeAndAddPathForClipping":Zr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Zr=6;break;case 7:case"addToPathForClipping":Zr=7}var jd=Ao.usedRenderingMode!==void 0?Ao.usedRenderingMode:-1;Zr!==-1?mr+=Zr+` Tr
`:jd!==-1&&(mr+=`0 Tr
`),Zr!==-1&&(Ao.usedRenderingMode=Zr),ii=Pe.align||"left";var nn,ns=Ft*ya,Zc=Qr.internal.pageSize.getWidth(),jl=er[Fi];Ai=Pe.charSpace||Ll,Ei=Pe.maxWidth||0,Xi=Object.assign({autoencode:!0,noBOM:!0},Pe.flags);var lo=[],as=function(Tr){return Qr.getStringUnitWidth(Tr,{font:jl,charSpace:Ai,fontSize:Ft,doKerning:!1})*Ft/_n};if(Object.prototype.toString.call(C)==="[object Array]"){var Mn;ct=To(C),ii!=="left"&&(nn=ct.map(as));var an,co=0;if(ii==="right"){R-=nn[0],C=[],Br=ct.length;for(var uo=0;uo<Br;uo++)uo===0?(an=oo(R),Mn=is(me)):(an=H(co-nn[uo]),Mn=-ns),C.push([ct[uo],an,Mn]),co=nn[uo]}else if(ii==="center"){R-=nn[0]/2,C=[],Br=ct.length;for(var Oo=0;Oo<Br;Oo++)Oo===0?(an=oo(R),Mn=is(me)):(an=H((co-nn[Oo])/2),Mn=-ns),C.push([ct[Oo],an,Mn]),co=nn[Oo]}else if(ii==="left"){C=[],Br=ct.length;for(var ql=0;ql<Br;ql++)C.push(ct[ql])}else if(ii==="justify"&&jl.encoding==="Identity-H"){C=[],Br=ct.length,Ei=Ei!==0?Ei:Zc;for(var za=0,en=0;en<Br;en++)if(Mn=en===0?is(me):-ns,an=en===0?oo(R):za,en<Br-1){var zl=H((Ei-nn[en])/(ct[en].split(" ").length-1)),qn=ct[en].split(" ");C.push([qn[0]+" ",an,Mn]),za=0;for(var Ca=1;Ca<qn.length;Ca++){var Wl=(as(qn[Ca-1]+" "+qn[Ca])-as(qn[Ca]))*_n+zl;Ca==qn.length-1?C.push([qn[Ca],Wl,0]):C.push([qn[Ca]+" ",Wl,0]),za-=Wl}}else C.push([ct[en],an,Mn]);C.push(["",za,0])}else{if(ii!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(C=[],Br=ct.length,Ei=Ei!==0?Ei:Zc,en=0;en<Br;en++)Mn=en===0?is(me):-ns,an=en===0?oo(R):0,en<Br-1?lo.push(re(H((Ei-nn[en])/(ct[en].split(" ").length-1)))):lo.push(0),C.push([ct[en],an,Mn])}}var wa=typeof Pe.R2L=="boolean"?Pe.R2L:Qt;wa===!0&&(C=Gc(C,function(Tr,ir,Xr){return[Tr.split("").reverse().join(""),ir,Xr]})),it={text:C,x:R,y:me,options:Pe,mutex:{pdfEscape:ia,activeFontKey:Fi,fonts:er,activeFontSize:Ft}},ar.publish("postProcessText",it),C=it.text,In=it.mutex.isHex||!1;var Fs=er[Fi].encoding;Fs!=="WinAnsiEncoding"&&Fs!=="StandardEncoding"||(C=Gc(C,function(Tr,ir,Xr){return[Vd(Tr),ir,Xr]})),ct=To(C),C=[];for(var ll,Io,Ns,Ls=0,Hl=1,fo=Array.isArray(ct[0])?Hl:Ls,Ds="",Fo=function(Tr,ir,Xr){var on="";return Xr instanceof fi?(Xr=typeof Pe.angle=="number"?xa(Xr,new fi(1,0,0,1,Tr,ir)):xa(new fi(1,0,0,1,Tr,ir),Xr),X===D.ADVANCED&&(Xr=xa(new fi(1,0,0,-1,0,0),Xr)),on=Xr.join(" ")+` Tm
`):on=re(Tr)+" "+re(ir)+` Td
`,on},Sa=0;Sa<ct.length;Sa++){switch(Ds="",fo){case Hl:Ns=(In?"<":"(")+ct[Sa][0]+(In?">":")"),ll=parseFloat(ct[Sa][1]),Io=parseFloat(ct[Sa][2]);break;case Ls:Ns=(In?"<":"(")+ct[Sa]+(In?">":")"),ll=oo(R),Io=is(me)}lo!==void 0&&lo[Sa]!==void 0&&(Ds=lo[Sa]+` Tw
`),Sa===0?C.push(Ds+Fo(ll,Io,$r)+Ns):fo===Ls?C.push(Ds+Ns):fo===Hl&&C.push(Ds+Fo(ll,Io,$r)+Ns)}C=fo===Ls?C.join(` Tj
T* `):C.join(` Tj
`),C+=` Tj
`;var Ea=`BT
/`;return Ea+=Fi+" "+Ft+` Tf
`,Ea+=re(Ft*ya)+` TL
`,Ea+=rl+`
`,Ea+=mr,Ea+=C,ge(Ea+="ET"),w[Fi]=!0,Qr};var Ld=x.__private__.clip=x.clip=function(C){return ge(C==="evenodd"?"W*":"W"),this};x.clipEvenOdd=function(){return Ld("evenodd")},x.__private__.discardPath=x.discardPath=function(){return ge("n"),this};var Ua=x.__private__.isValidStyle=function(C){var R=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(C)!==-1&&(R=!0),R};x.__private__.setDefaultPathOperation=x.setDefaultPathOperation=function(C){return Ua(C)&&(p=C),this};var Il=x.__private__.getStyle=x.getStyle=function(C){var R=p;switch(C){case"D":case"S":R="S";break;case"F":R="f";break;case"FD":case"DF":R="B";break;case"f":case"f*":case"B":case"B*":R=C}return R},Fl=x.close=function(){return ge("h"),this};x.stroke=function(){return ge("S"),this},x.fill=function(C){return Va("f",C),this},x.fillEvenOdd=function(C){return Va("f*",C),this},x.fillStroke=function(C){return Va("B",C),this},x.fillStrokeEvenOdd=function(C){return Va("B*",C),this};var Va=function(C,R){Ar(R)==="object"?fn(R,C):ge(C)},el=function(C){C===null||X===D.ADVANCED&&C===void 0||(C=Il(C),ge(C))};function tl(C,R,me,Pe,Ue){var it=new Hu(R||this.boundingBox,me||this.xStep,Pe||this.yStep,this.gState,Ue||this.matrix);it.stream=this.stream;var ct=C+"$$"+this.cloneIndex+++"$$";return $t(ct,it),it}var fn=function(C,R){var me=ro[C.key],Pe=tr[me];if(Pe instanceof Id)ge("q"),ge(es(R)),Pe.gState&&x.setGState(Pe.gState),ge(C.matrix.toString()+" cm"),ge("/"+me+" sh"),ge("Q");else if(Pe instanceof Hu){var Ue=new fi(1,0,0,-1,0,Mo());C.matrix&&(Ue=Ue.multiply(C.matrix||Vr),me=tl.call(Pe,C.key,C.boundingBox,C.xStep,C.yStep,Ue).id),ge("q"),ge("/Pattern cs"),ge("/"+me+" scn"),Pe.gState&&x.setGState(Pe.gState),ge(R),ge("Q")}},es=function(C){switch(C){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Nl=x.moveTo=function(C,R){return ge(re(H(C))+" "+re(_e(R))+" m"),this},Ms=x.lineTo=function(C,R){return ge(re(H(C))+" "+re(_e(R))+" l"),this},Ts=x.curveTo=function(C,R,me,Pe,Ue,it){return ge([re(H(C)),re(_e(R)),re(H(me)),re(_e(Pe)),re(H(Ue)),re(_e(it)),"c"].join(" ")),this};x.__private__.line=x.line=function(C,R,me,Pe,Ue){if(isNaN(C)||isNaN(R)||isNaN(me)||isNaN(Pe)||!Ua(Ue))throw new Error("Invalid arguments passed to jsPDF.line");return X===D.COMPAT?this.lines([[me-C,Pe-R]],C,R,[1,1],Ue||"S"):this.lines([[me-C,Pe-R]],C,R,[1,1]).stroke()},x.__private__.lines=x.lines=function(C,R,me,Pe,Ue,it){var ct,Gt,ii,Ai,Ei,Xi,qr,$r,Qr,On,mr,In;if(typeof C=="number"&&(In=me,me=R,R=C,C=In),Pe=Pe||[1,1],it=it||!1,isNaN(R)||isNaN(me)||!Array.isArray(C)||!Array.isArray(Pe)||!Ua(Ue)||typeof it!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Nl(R,me),ct=Pe[0],Gt=Pe[1],Ai=C.length,On=R,mr=me,ii=0;ii<Ai;ii++)(Ei=C[ii]).length===2?(On=Ei[0]*ct+On,mr=Ei[1]*Gt+mr,Ms(On,mr)):(Xi=Ei[0]*ct+On,qr=Ei[1]*Gt+mr,$r=Ei[2]*ct+On,Qr=Ei[3]*Gt+mr,On=Ei[4]*ct+On,mr=Ei[5]*Gt+mr,Ts(Xi,qr,$r,Qr,On,mr));return it&&Fl(),el(Ue),this},x.path=function(C){for(var R=0;R<C.length;R++){var me=C[R],Pe=me.c;switch(me.op){case"m":Nl(Pe[0],Pe[1]);break;case"l":Ms(Pe[0],Pe[1]);break;case"c":Ts.apply(this,Pe);break;case"h":Fl()}}return this},x.__private__.rect=x.rect=function(C,R,me,Pe,Ue){if(isNaN(C)||isNaN(R)||isNaN(me)||isNaN(Pe)||!Ua(Ue))throw new Error("Invalid arguments passed to jsPDF.rect");return X===D.COMPAT&&(Pe=-Pe),ge([re(H(C)),re(_e(R)),re(H(me)),re(H(Pe)),"re"].join(" ")),el(Ue),this},x.__private__.triangle=x.triangle=function(C,R,me,Pe,Ue,it,ct){if(isNaN(C)||isNaN(R)||isNaN(me)||isNaN(Pe)||isNaN(Ue)||isNaN(it)||!Ua(ct))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[me-C,Pe-R],[Ue-me,it-Pe],[C-Ue,R-it]],C,R,[1,1],ct,!0),this},x.__private__.roundedRect=x.roundedRect=function(C,R,me,Pe,Ue,it,ct){if(isNaN(C)||isNaN(R)||isNaN(me)||isNaN(Pe)||isNaN(Ue)||isNaN(it)||!Ua(ct))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Gt=4/3*(Math.SQRT2-1);return Ue=Math.min(Ue,.5*me),it=Math.min(it,.5*Pe),this.lines([[me-2*Ue,0],[Ue*Gt,0,Ue,it-it*Gt,Ue,it],[0,Pe-2*it],[0,it*Gt,-Ue*Gt,it,-Ue,it],[2*Ue-me,0],[-Ue*Gt,0,-Ue,-it*Gt,-Ue,-it],[0,2*it-Pe],[0,-it*Gt,Ue*Gt,-it,Ue,-it]],C+Ue,R,[1,1],ct,!0),this},x.__private__.ellipse=x.ellipse=function(C,R,me,Pe,Ue){if(isNaN(C)||isNaN(R)||isNaN(me)||isNaN(Pe)||!Ua(Ue))throw new Error("Invalid arguments passed to jsPDF.ellipse");var it=4/3*(Math.SQRT2-1)*me,ct=4/3*(Math.SQRT2-1)*Pe;return Nl(C+me,R),Ts(C+me,R-ct,C+it,R-Pe,C,R-Pe),Ts(C-it,R-Pe,C-me,R-ct,C-me,R),Ts(C-me,R+ct,C-it,R+Pe,C,R+Pe),Ts(C+it,R+Pe,C+me,R+ct,C+me,R),el(Ue),this},x.__private__.circle=x.circle=function(C,R,me,Pe){if(isNaN(C)||isNaN(R)||isNaN(me)||!Ua(Pe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(C,R,me,me,Pe)},x.setFont=function(C,R,me){return me&&(R=Be(R,me)),Fi=Es(C,R,{disableWarning:!1}),this};var Dd=x.__private__.getFont=x.getFont=function(){return er[Es.apply(x,arguments)]};x.__private__.getFontList=x.getFontList=function(){var C,R,me={};for(C in Er)if(Er.hasOwnProperty(C))for(R in me[C]=[],Er[C])Er[C].hasOwnProperty(R)&&me[C].push(R);return me},x.addFont=function(C,R,me,Pe,Ue){var it=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&it.indexOf(arguments[3])!==-1?Ue=arguments[3]:arguments[3]&&it.indexOf(arguments[3])==-1&&(me=Be(me,Pe)),Ue=Ue||"Identity-H",Fr.call(this,C,R,me,Ue)};var ts,Uc=i.lineWidth||.200025,il=x.__private__.getLineWidth=x.getLineWidth=function(){return Uc},$i=x.__private__.setLineWidth=x.setLineWidth=function(C){return Uc=C,ge(re(H(C))+" w"),this};x.__private__.setLineDash=hi.API.setLineDash=hi.API.setLineDashPattern=function(C,R){if(C=C||[],R=R||0,isNaN(R)||!Array.isArray(C))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return C=C.map(function(me){return re(H(me))}).join(" "),R=re(H(R)),ge("["+C+"] "+R+" d"),this};var Rd=x.__private__.getLineHeight=x.getLineHeight=function(){return Ft*ts};x.__private__.getLineHeight=x.getLineHeight=function(){return Ft*ts};var ra=x.__private__.setLineHeightFactor=x.setLineHeightFactor=function(C){return typeof(C=C||1.15)=="number"&&(ts=C),this},ks=x.__private__.getLineHeightFactor=x.getLineHeightFactor=function(){return ts};ra(i.lineHeight);var oo=x.__private__.getHorizontalCoordinate=function(C){return H(C)},is=x.__private__.getVerticalCoordinate=function(C){return X===D.ADVANCED?C:Si[V].mediaBox.topRightY-Si[V].mediaBox.bottomLeftY-H(C)},Vc=x.__private__.getHorizontalCoordinateString=x.getHorizontalCoordinateString=function(C){return re(oo(C))},As=x.__private__.getVerticalCoordinateString=x.getVerticalCoordinateString=function(C){return re(is(C))},ja=i.strokeColor||"0 G";x.__private__.getStrokeColor=x.getDrawColor=function(){return de(ja)},x.__private__.setStrokeColor=x.setDrawColor=function(C,R,me,Pe){return ja=pe({ch1:C,ch2:R,ch3:me,ch4:Pe,pdfColorType:"draw",precision:2}),ge(ja),this};var jc=i.fillColor||"0 g";x.__private__.getFillColor=x.getFillColor=function(){return de(jc)},x.__private__.setFillColor=x.setFillColor=function(C,R,me,Pe){return jc=pe({ch1:C,ch2:R,ch3:me,ch4:Pe,pdfColorType:"fill",precision:2}),ge(jc),this};var rl=i.textColor||"0 g",qc=x.__private__.getTextColor=x.getTextColor=function(){return de(rl)};x.__private__.setTextColor=x.setTextColor=function(C,R,me,Pe){return rl=pe({ch1:C,ch2:R,ch3:me,ch4:Pe,pdfColorType:"text",precision:3}),this};var Ll=i.charSpace,qa=x.__private__.getCharSpace=x.getCharSpace=function(){return parseFloat(Ll||0)};x.__private__.setCharSpace=x.setCharSpace=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ll=C,this};var zc=0;x.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},x.__private__.setLineCap=x.setLineCap=function(C){var R=x.CapJoinStyles[C];if(R===void 0)throw new Error("Line cap style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return zc=R,ge(R+" J"),this};var Dl=0;x.__private__.setLineJoin=x.setLineJoin=function(C){var R=x.CapJoinStyles[C];if(R===void 0)throw new Error("Line join style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Dl=R,ge(R+" j"),this},x.__private__.setLineMiterLimit=x.__private__.setMiterLimit=x.setLineMiterLimit=x.setMiterLimit=function(C){if(C=C||0,isNaN(C))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ge(re(H(C))+" M"),this},x.GState=Nm,x.setGState=function(C){(C=typeof C=="string"?Pr[ba[C]]:so(null,C)).equals(no)||(ge("/"+C.id+" gs"),no=C)};var so=function(C,R){if(!C||!ba[C]){var me=!1;for(var Pe in Pr)if(Pr.hasOwnProperty(Pe)&&Pr[Pe].equals(R)){me=!0;break}if(me)R=Pr[Pe];else{var Ue="GS"+(Object.keys(Pr).length+1).toString(10);Pr[Ue]=R,R.id=Ue}return C&&(ba[C]=R.id),ar.publish("addGState",R),R}};x.addGState=function(C,R){return so(C,R),this},x.saveGraphicsState=function(){return ge("q"),Da.push({key:Fi,size:Ft,color:rl}),this},x.restoreGraphicsState=function(){ge("Q");var C=Da.pop();return Fi=C.key,Ft=C.size,rl=C.color,no=null,this},x.setCurrentTransformationMatrix=function(C){return ge(C.toString()+" cm"),this},x.comment=function(C){return ge("#"+C),this};var nl=function(C,R){var me=C||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return me},set:function(it){isNaN(it)||(me=parseFloat(it))}});var Pe=R||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Pe},set:function(it){isNaN(it)||(Pe=parseFloat(it))}});var Ue="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ue},set:function(it){Ue=it.toString()}}),this},Rl=function(C,R,me,Pe){nl.call(this,C,R),this.type="rect";var Ue=me||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ue},set:function(ct){isNaN(ct)||(Ue=parseFloat(ct))}});var it=Pe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return it},set:function(ct){isNaN(ct)||(it=parseFloat(ct))}}),this},al=function(){this.page=vr,this.currentPage=V,this.pages=at.slice(0),this.pagesContext=Si.slice(0),this.x=Yr,this.y=Zi,this.matrix=Qn,this.width=sl(V),this.height=Mo(V),this.outputDestination=Pt,this.id="",this.objectNumber=-1};al.prototype.restore=function(){vr=this.page,V=this.currentPage,Si=this.pagesContext,at=this.pages,Yr=this.x,Zi=this.y,Qn=this.matrix,Wc(V,this.width),Hc(V,this.height),Pt=this.outputDestination};var Bd=function(C,R,me,Pe,Ue){Ba.push(new al),vr=V=0,at=[],Yr=C,Zi=R,Qn=Ue,Ss([me,Pe])},Ud=function(C){if(Ra[C])Ba.pop().restore();else{var R=new al,me="Xo"+(Object.keys(Kr).length+1).toString(10);R.id=me,Ra[C]=me,Kr[me]=R,ar.publish("addFormObject",R),Ba.pop().restore()}};for(var ol in x.beginFormObject=function(C,R,me,Pe,Ue){return Bd(C,R,me,Pe,Ue),this},x.endFormObject=function(C){return Ud(C),this},x.doFormObject=function(C,R){var me=Kr[Ra[C]];return ge("q"),ge(R.toString()+" cm"),ge("/"+me.id+" Do"),ge("Q"),this},x.getFormObject=function(C){var R=Kr[Ra[C]];return{x:R.x,y:R.y,width:R.width,height:R.height,matrix:R.matrix}},x.save=function(C,R){return C=C||"generated.pdf",(R=R||{}).returnPromise=R.returnPromise||!1,R.returnPromise===!1?(Od(Ps(ao()),C),typeof Od.unload=="function"&&wi.setTimeout&&setTimeout(Od.unload,911),this):new Promise(function(me,Pe){try{var Ue=Od(Ps(ao()),C);typeof Od.unload=="function"&&wi.setTimeout&&setTimeout(Od.unload,911),me(Ue)}catch(it){Pe(it.message)}})},hi.API)hi.API.hasOwnProperty(ol)&&(ol==="events"&&hi.API.events.length?function(C,R){var me,Pe,Ue;for(Ue=R.length-1;Ue!==-1;Ue--)me=R[Ue][0],Pe=R[Ue][1],C.subscribe.apply(C,[me].concat(typeof Pe=="function"?[Pe]:Pe))}(ar,hi.API.events):x[ol]=hi.API[ol]);var sl=x.getPageWidth=function(C){return(Si[C=C||V].mediaBox.topRightX-Si[C].mediaBox.bottomLeftX)/qt},Wc=x.setPageWidth=function(C,R){Si[C].mediaBox.topRightX=R*qt+Si[C].mediaBox.bottomLeftX},Mo=x.getPageHeight=function(C){return(Si[C=C||V].mediaBox.topRightY-Si[C].mediaBox.bottomLeftY)/qt},Hc=x.setPageHeight=function(C,R){Si[C].mediaBox.topRightY=R*qt+Si[C].mediaBox.bottomLeftY};return x.internal={pdfEscape:ia,getStyle:Il,getFont:Dd,getFontSize:Vt,getCharSpace:qa,getTextColor:qc,getLineHeight:Rd,getLineHeightFactor:ks,getLineWidth:il,write:mt,getHorizontalCoordinate:oo,getVerticalCoordinate:is,getCoordinateString:Vc,getVerticalCoordinateString:As,collections:{},newObject:Hr,newAdditionalObject:fe,newObjectDeferred:jr,newObjectDeferredBegin:G,getFilters:ze,putStream:et,events:ar,scaleFactor:qt,pageSize:{getWidth:function(){return sl(V)},setWidth:function(C){Wc(V,C)},getHeight:function(){return Mo(V)},setHeight:function(C){Hc(V,C)}},encryptionOptions:g,encryption:vn,getEncryptor:Ku,output:Qo,getNumberOfPages:Qs,pages:at,out:ge,f2:Ce,f3:q,getPageInfo:Mi,getPageInfoByObjId:ci,getCurrentPageInfo:hr,getPDFVersion:E,Point:nl,Rectangle:Rl,Matrix:fi,hasHotfix:Bc},Object.defineProperty(x.internal.pageSize,"width",{get:function(){return sl(V)},set:function(C){Wc(V,C)},enumerable:!0,configurable:!0}),Object.defineProperty(x.internal.pageSize,"height",{get:function(){return Mo(V)},set:function(C){Hc(V,C)},enumerable:!0,configurable:!0}),Nc.call(x,gt),Fi="F1",Eo(n,e),ar.publish("initialized"),x}zu.prototype.lsbFirstWord=function(i){return String.fromCharCode(i>>0&255,i>>8&255,i>>16&255,i>>24&255)},zu.prototype.toHexString=function(i){return i.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},zu.prototype.hexToBytes=function(i){for(var t=[],e=0;e<i.length;e+=2)t.push(String.fromCharCode(parseInt(i.substr(e,2),16)));return t.join("")},zu.prototype.processOwnerPassword=function(i,t){return t_(e_(t).substr(0,5),i)},zu.prototype.encryptor=function(i,t){var e=e_(this.encryptionKey+String.fromCharCode(255&i,i>>8&255,i>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return t_(e,r)}},Nm.prototype.equals=function(i){var t,e="id,objectNumber,equals";if(!i||Ar(i)!==Ar(this))return!1;var r=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!i.hasOwnProperty(t)||this[t]!==i[t])return!1;r++}for(t in i)i.hasOwnProperty(t)&&e.indexOf(t)<0&&r--;return r===0},hi.API={events:[]},hi.version="3.0.1";var un=hi.API,a_=1,Nd=function(i){return i.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ju=function(i){return i.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ii=function(i){return i.toFixed(2)},Oc=function(i){return i.toFixed(5)};un.__acroform__={};var io=function(i,t){i.prototype=Object.create(t.prototype),i.prototype.constructor=i},bw=function(i){return i*a_},Ys=function(i){var t=new Dw,e=Kt.internal.getHeight(i)||0,r=Kt.internal.getWidth(i)||0;return t.BBox=[0,0,Number(Ii(r)),Number(Ii(e))],t},GR=un.__acroform__.setBit=function(i,t){if(i=i||0,t=t||0,isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return i|=1<<t},$R=un.__acroform__.clearBit=function(i,t){if(i=i||0,t=t||0,isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return i&=~(1<<t)},ZR=un.__acroform__.getBit=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return i&1<<t?1:0},hn=un.__acroform__.getBitForPdf=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return ZR(i,t-1)},mn=un.__acroform__.setBitForPdf=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return GR(i,t-1)},gn=un.__acroform__.clearBitForPdf=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return $R(i,t-1)},XR=un.__acroform__.calculateCoordinates=function(i,t){var e=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,n=i[0],a=i[1],o=i[2],d=i[3],u={};return u.lowerLeft_X=e(n)||0,u.lowerLeft_Y=r(a+d)||0,u.upperRight_X=e(n+o)||0,u.upperRight_Y=r(a)||0,[Number(Ii(u.lowerLeft_X)),Number(Ii(u.lowerLeft_Y)),Number(Ii(u.upperRight_X)),Number(Ii(u.upperRight_Y))]},YR=function(i){if(i.appearanceStreamContent)return i.appearanceStreamContent;if(i.V||i.DV){var t=[],e=i._V||i.DV,r=i_(i,e),n=i.scope.internal.getFont(i.fontName,i.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(i.scope.__private__.encodeColorString(i.color)),t.push("/"+n+" "+Ii(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=Ys(i);return a.scope=i.scope,a.stream=t.join(`
`),a}},i_=function(i,t){var e=i.fontSize===0?i.maxFontSize:i.fontSize,r={text:"",fontSize:""},n=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");n=i.multiline?n.map(function(q){return q.split(`
`)}):n.map(function(q){return[q]});var a=e,o=Kt.internal.getHeight(i)||0;o=o<0?-o:o;var d=Kt.internal.getWidth(i)||0;d=d<0?-d:d;var u=function(q,H,ve){if(q+1<n.length){var _e=H+" "+n[q+1][0];return Mm(_e,i,ve).width<=d-4}return!1};a++;e:for(;a>0;){t="",a--;var p,g,y=Mm("3",i,a).height,w=i.multiline?o-a:(o-y)/2,x=w+=2,T=0,E=0,k=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+Mm(t,i,a=12).width+", FieldWidth:"+d+`
`;break}for(var F="",D=0,X=0;X<n.length;X++)if(n.hasOwnProperty(X)){var he=!1;if(n[X].length!==1&&k!==n[X].length-1){if((y+2)*(D+2)+2>o)continue e;F+=n[X][k],he=!0,E=X,X--}else{F=(F+=n[X][k]+" ").substr(F.length-1)==" "?F.substr(0,F.length-1):F;var we=parseInt(X),Be=u(we,F,a),re=X>=n.length-1;if(Be&&!re){F+=" ",k=0;continue}if(Be||re){if(re)E=we;else if(i.multiline&&(y+2)*(D+2)+2>o)continue e}else{if(!i.multiline||(y+2)*(D+2)+2>o)continue e;E=we}}for(var ie="",le=T;le<=E;le++){var Ce=n[le];if(i.multiline){if(le===E){ie+=Ce[k]+" ",k=(k+1)%Ce.length;continue}if(le===T){ie+=Ce[Ce.length-1]+" ";continue}}ie+=Ce[0]+" "}switch(ie=ie.substr(ie.length-1)==" "?ie.substr(0,ie.length-1):ie,g=Mm(ie,i,a).width,i.textAlign){case"right":p=d-g-2;break;case"center":p=(d-g)/2;break;case"left":default:p=2}t+=Ii(p)+" "+Ii(x)+` Td
`,t+="("+Nd(ie)+`) Tj
`,t+=-Ii(p)+` 0 Td
`,x=-(a+2),g=0,T=he?E:E+1,D++,F=""}break}return r.text=t,r.fontSize=a,r},Mm=function(i,t,e){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),n=t.scope.getStringUnitWidth(i,{font:r,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:n}},KR={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},JR=function(i,t){var e={type:"reference",object:i};t.internal.getPageInfo(i.page).pageContext.annotations.find(function(r){return r.type===e.type&&r.object===e.object})===void 0&&t.internal.getPageInfo(i.page).pageContext.annotations.push(e)},QR=function(i,t){for(var e in i)if(i.hasOwnProperty(e)){var r=e,n=i[e];t.internal.newObjectDeferredBegin(n.objId,!0),Ar(n)==="object"&&typeof n.putStream=="function"&&n.putStream(),delete i[r]}},e9=function(i,t){if(t.scope=i,i.internal!==void 0&&(i.internal.acroformPlugin===void 0||i.internal.acroformPlugin.isInitialized===!1)){if(Cs.FieldNum=0,i.internal.acroformPlugin=JSON.parse(JSON.stringify(KR)),i.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");a_=i.internal.scaleFactor,i.internal.acroformPlugin.acroFormDictionaryRoot=new Rw,i.internal.acroformPlugin.acroFormDictionaryRoot.scope=i,i.internal.acroformPlugin.acroFormDictionaryRoot._eventID=i.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(i)}),i.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in r)if(r.hasOwnProperty(n)){var a=r[n];a.objId=void 0,a.hasAnnotation&&JR(a,e)}})(i)}),i.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(i)}),i.internal.events.subscribe("postPutPages",function(e){(function(r,n){var a=!r;for(var o in r||(n.internal.newObjectDeferredBegin(n.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),n.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||n.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var d=r[o],u=[],p=d.Rect;if(d.Rect&&(d.Rect=XR(d.Rect,n)),n.internal.newObjectDeferredBegin(d.objId,!0),d.DA=Kt.createDefaultAppearanceStream(d),Ar(d)==="object"&&typeof d.getKeyValueListForStream=="function"&&(u=d.getKeyValueListForStream()),d.Rect=p,d.hasAppearanceStream&&!d.appearanceStreamContent){var g=YR(d);u.push({key:"AP",value:"<</N "+g+">>"}),n.internal.acroformPlugin.xForms.push(g)}if(d.appearanceStreamContent){var y="";for(var w in d.appearanceStreamContent)if(d.appearanceStreamContent.hasOwnProperty(w)){var x=d.appearanceStreamContent[w];if(y+="/"+w+" ",y+="<<",Object.keys(x).length>=1||Array.isArray(x)){for(var o in x)if(x.hasOwnProperty(o)){var T=x[o];typeof T=="function"&&(T=T.call(n,d)),y+="/"+o+" "+T+" ",n.internal.acroformPlugin.xForms.indexOf(T)>=0||n.internal.acroformPlugin.xForms.push(T)}}else typeof(T=x)=="function"&&(T=T.call(n,d)),y+="/"+o+" "+T,n.internal.acroformPlugin.xForms.indexOf(T)>=0||n.internal.acroformPlugin.xForms.push(T);y+=">>"}u.push({key:"AP",value:`<<
`+y+">>"})}n.internal.putStream({additionalKeyValues:u,objectId:d.objId}),n.internal.out("endobj")}a&&QR(n.internal.acroformPlugin.xForms,n)})(e,i)}),i.internal.acroformPlugin.isInitialized=!0}},Lw=un.__acroform__.arrayToPdfArray=function(i,t,e){var r=function(o){return o};if(Array.isArray(i)){for(var n="[",a=0;a<i.length;a++)switch(a!==0&&(n+=" "),Ar(i[a])){case"boolean":case"number":case"object":n+=i[a].toString();break;case"string":i[a].substr(0,1)!=="/"?(t!==void 0&&e&&(r=e.internal.getEncryptor(t)),n+="("+Nd(r(i[a].toString()))+")"):n+=i[a].toString()}return n+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Yv=function(i,t,e){var r=function(n){return n};return t!==void 0&&e&&(r=e.internal.getEncryptor(t)),(i=i||"").toString(),i="("+Nd(r(i))+")"},Ks=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(i){this._objId=i}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ks.prototype.toString=function(){return this.objId+" 0 R"},Ks.prototype.putStream=function(){var i=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:i,objectId:this.objId}),this.scope.internal.out("endobj")},Ks.prototype.getKeyValueListForStream=function(){var i=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var r=t[e],n=this[r];n&&(Array.isArray(n)?i.push({key:r,value:Lw(n,this.objId,this.scope)}):n instanceof Ks?(n.scope=this.scope,i.push({key:r,value:n.objId+" 0 R"})):typeof n!="function"&&i.push({key:r,value:n}))}return i};var Dw=function(){Ks.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var i,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){i=e.trim()},get:function(){return i||null}})};io(Dw,Ks);var Rw=function(){Ks.call(this);var i,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(i){var e=function(r){return r};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+Nd(e(i))+")"}},set:function(e){i=e}})};io(Rw,Ks);var Cs=function i(){Ks.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(F){if(isNaN(F))throw new Error('Invalid value "'+F+'" for attribute F supplied.');t=F}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!hn(t,3)},set:function(F){F?this.F=mn(t,3):this.F=gn(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(F){if(isNaN(F))throw new Error('Invalid value "'+F+'" for attribute Ff supplied.');e=F}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(F){r=F!==void 0?F:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(F){r[0]=F}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(F){r[1]=F}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(F){r[2]=F}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(F){r[3]=F}});var n="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return n},set:function(F){switch(F){case"/Btn":case"/Tx":case"/Ch":case"/Sig":n=F;break;default:throw new Error('Invalid value "'+F+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Lm)return;a="FieldObject"+i.FieldNum++}var F=function(D){return D};return this.scope&&(F=this.scope.internal.getEncryptor(this.objId)),"("+Nd(F(a))+")"},set:function(F){a=F.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(F){a=F}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(F){o=F}});var d="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return d},set:function(F){d=F}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(F){u=F}});var p=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return p===void 0?50/a_:p},set:function(F){p=F}});var g="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return g},set:function(F){g=F}});var y="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!y||this instanceof Lm||this instanceof Fd))return Yv(y,this.objId,this.scope)},set:function(F){F=F.toString(),y=F}});var w=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof jn?w:Yv(w,this.objId,this.scope)},set:function(F){F=F.toString(),w=this instanceof jn?F:F.substr(0,1)==="("?ju(F.substr(1,F.length-2)):ju(F)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof jn?ju(w.substr(1,w.length-1)):w},set:function(F){F=F.toString(),w=this instanceof jn?"/"+F:F}});var x=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(x)return x},set:function(F){this.V=F}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof jn?x:Yv(x,this.objId,this.scope)},set:function(F){F=F.toString(),x=this instanceof jn?F:F.substr(0,1)==="("?ju(F.substr(1,F.length-2)):ju(F)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof jn?ju(x.substr(1,x.length-1)):x},set:function(F){F=F.toString(),x=this instanceof jn?"/"+F:F}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var T,E=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return E},set:function(F){F=!!F,E=F}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(T)return T},set:function(F){T=F}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,1)},set:function(F){F?this.Ff=mn(this.Ff,1):this.Ff=gn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,2)},set:function(F){F?this.Ff=mn(this.Ff,2):this.Ff=gn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,3)},set:function(F){F?this.Ff=mn(this.Ff,3):this.Ff=gn(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(F){if([0,1,2].indexOf(F)===-1)throw new Error('Invalid value "'+F+'" for attribute Q supplied.');k=F}}),Object.defineProperty(this,"textAlign",{get:function(){var F;switch(k){case 0:default:F="left";break;case 1:F="center";break;case 2:F="right"}return F},configurable:!0,enumerable:!0,set:function(F){switch(F){case"right":case 2:k=2;break;case"center":case 1:k=1;break;case"left":case 0:default:k=0}}})};io(Cs,Ks);var Gu=function(){Cs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var i=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return i},set:function(e){i=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Lw(t,this.objId,this.scope)},set:function(e){var r,n;n=[],typeof(r=e)=="string"&&(n=function(a,o,d){d||(d=1);for(var u,p=[];u=o.exec(a);)p.push(u[d]);return p}(r,/\((.*?)\)/g)),t=n}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,r){for(r=r||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,18)},set:function(e){e?this.Ff=mn(this.Ff,18):this.Ff=gn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=mn(this.Ff,19):this.Ff=gn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,20)},set:function(e){e?(this.Ff=mn(this.Ff,20),t.sort()):this.Ff=gn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,22)},set:function(e){e?this.Ff=mn(this.Ff,22):this.Ff=gn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,23)},set:function(e){e?this.Ff=mn(this.Ff,23):this.Ff=gn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,27)},set:function(e){e?this.Ff=mn(this.Ff,27):this.Ff=gn(this.Ff,27)}}),this.hasAppearanceStream=!1};io(Gu,Cs);var $u=function(){Gu.call(this),this.fontName="helvetica",this.combo=!1};io($u,Gu);var Zu=function(){$u.call(this),this.combo=!0};io(Zu,$u);var Am=function(){Zu.call(this),this.edit=!0};io(Am,Zu);var jn=function(){Cs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,15)},set:function(e){e?this.Ff=mn(this.Ff,15):this.Ff=gn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,16)},set:function(e){e?this.Ff=mn(this.Ff,16):this.Ff=gn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,17)},set:function(e){e?this.Ff=mn(this.Ff,17):this.Ff=gn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,26)},set:function(e){e?this.Ff=mn(this.Ff,26):this.Ff=gn(this.Ff,26)}});var i,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(a){return a};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,n=[];for(r in n.push("<<"),t)n.push("/"+r+" ("+Nd(e(t[r]))+")");return n.push(">>"),n.join(`
`)}},set:function(e){Ar(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return i.substr(1,i.length-1)},set:function(e){i="/"+e}})};io(jn,Cs);var Om=function(){jn.call(this),this.pushButton=!0};io(Om,jn);var Xu=function(){jn.call(this),this.radio=!0,this.pushButton=!1;var i=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return i},set:function(t){i=t!==void 0?t:[]}})};io(Xu,jn);var Lm=function(){var i,t;Cs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return i},set:function(n){i=n}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(n){t=n}});var e,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(d){return d};this.scope&&(n=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),r)o.push("/"+a+" ("+Nd(n(r[a]))+")");return o.push(">>"),o.join(`
`)},set:function(n){Ar(n)==="object"&&(r=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(n){typeof n=="string"&&(r.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Kt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};io(Lm,Cs),Xu.prototype.setAppearance=function(i){if(!("createAppearanceStream"in i)||!("getCA"in i))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=i.createAppearanceStream(e.optionName),e.caption=i.getCA()}},Xu.prototype.createOption=function(i){var t=new Lm;return t.Parent=this,t.optionName=i,this.Kids.push(t),t9.call(this.scope,t),t};var Im=function(){jn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Kt.CheckBox.createAppearanceStream()};io(Im,jn);var Fd=function(){Cs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,13)},set:function(t){t?this.Ff=mn(this.Ff,13):this.Ff=gn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,21)},set:function(t){t?this.Ff=mn(this.Ff,21):this.Ff=gn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,23)},set:function(t){t?this.Ff=mn(this.Ff,23):this.Ff=gn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,24)},set:function(t){t?this.Ff=mn(this.Ff,24):this.Ff=gn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,25)},set:function(t){t?this.Ff=mn(this.Ff,25):this.Ff=gn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,26)},set:function(t){t?this.Ff=mn(this.Ff,26):this.Ff=gn(this.Ff,26)}});var i=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return i},set:function(t){i=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return i},set:function(t){Number.isInteger(t)&&(i=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};io(Fd,Cs);var Fm=function(){Fd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!hn(this.Ff,14)},set:function(i){i?this.Ff=mn(this.Ff,14):this.Ff=gn(this.Ff,14)}}),this.password=!0};io(Fm,Fd);var Kt={CheckBox:{createAppearanceStream:function(){return{N:{On:Kt.CheckBox.YesNormal},D:{On:Kt.CheckBox.YesPushDown,Off:Kt.CheckBox.OffPushDown}}},YesPushDown:function(i){var t=Ys(i);t.scope=i.scope;var e=[],r=i.scope.internal.getFont(i.fontName,i.fontStyle).id,n=i.scope.__private__.encodeColorString(i.color),a=i_(i,i.caption);return e.push("0.749023 g"),e.push("0 0 "+Ii(Kt.internal.getWidth(i))+" "+Ii(Kt.internal.getHeight(i))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+r+" "+Ii(a.fontSize)+" Tf "+n),e.push("BT"),e.push(a.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(i){var t=Ys(i);t.scope=i.scope;var e=i.scope.internal.getFont(i.fontName,i.fontStyle).id,r=i.scope.__private__.encodeColorString(i.color),n=[],a=Kt.internal.getHeight(i),o=Kt.internal.getWidth(i),d=i_(i,i.caption);return n.push("1 g"),n.push("0 0 "+Ii(o)+" "+Ii(a)+" re"),n.push("f"),n.push("q"),n.push("0 0 1 rg"),n.push("0 0 "+Ii(o-1)+" "+Ii(a-1)+" re"),n.push("W"),n.push("n"),n.push("0 g"),n.push("BT"),n.push("/"+e+" "+Ii(d.fontSize)+" Tf "+r),n.push(d.text),n.push("ET"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(i){var t=Ys(i);t.scope=i.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Ii(Kt.internal.getWidth(i))+" "+Ii(Kt.internal.getHeight(i))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(i){var t={D:{Off:Kt.RadioButton.Circle.OffPushDown},N:{}};return t.N[i]=Kt.RadioButton.Circle.YesNormal,t.D[i]=Kt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(i){var t=Ys(i);t.scope=i.scope;var e=[],r=Kt.internal.getWidth(i)<=Kt.internal.getHeight(i)?Kt.internal.getWidth(i)/4:Kt.internal.getHeight(i)/4;r=Number((.9*r).toFixed(5));var n=Kt.internal.Bezier_C,a=Number((r*n).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+Oc(Kt.internal.getWidth(i)/2)+" "+Oc(Kt.internal.getHeight(i)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),e.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),e.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),e.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(i){var t=Ys(i);t.scope=i.scope;var e=[],r=Kt.internal.getWidth(i)<=Kt.internal.getHeight(i)?Kt.internal.getWidth(i)/4:Kt.internal.getHeight(i)/4;r=Number((.9*r).toFixed(5));var n=Number((2*r).toFixed(5)),a=Number((n*Kt.internal.Bezier_C).toFixed(5)),o=Number((r*Kt.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Oc(Kt.internal.getWidth(i)/2)+" "+Oc(Kt.internal.getHeight(i)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),e.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),e.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),e.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+Oc(Kt.internal.getWidth(i)/2)+" "+Oc(Kt.internal.getHeight(i)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),e.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),e.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),e.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(i){var t=Ys(i);t.scope=i.scope;var e=[],r=Kt.internal.getWidth(i)<=Kt.internal.getHeight(i)?Kt.internal.getWidth(i)/4:Kt.internal.getHeight(i)/4;r=Number((.9*r).toFixed(5));var n=Number((2*r).toFixed(5)),a=Number((n*Kt.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Oc(Kt.internal.getWidth(i)/2)+" "+Oc(Kt.internal.getHeight(i)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),e.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),e.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),e.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(i){var t={D:{Off:Kt.RadioButton.Cross.OffPushDown},N:{}};return t.N[i]=Kt.RadioButton.Cross.YesNormal,t.D[i]=Kt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(i){var t=Ys(i);t.scope=i.scope;var e=[],r=Kt.internal.calculateCross(i);return e.push("q"),e.push("1 1 "+Ii(Kt.internal.getWidth(i)-2)+" "+Ii(Kt.internal.getHeight(i)-2)+" re"),e.push("W"),e.push("n"),e.push(Ii(r.x1.x)+" "+Ii(r.x1.y)+" m"),e.push(Ii(r.x2.x)+" "+Ii(r.x2.y)+" l"),e.push(Ii(r.x4.x)+" "+Ii(r.x4.y)+" m"),e.push(Ii(r.x3.x)+" "+Ii(r.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(i){var t=Ys(i);t.scope=i.scope;var e=Kt.internal.calculateCross(i),r=[];return r.push("0.749023 g"),r.push("0 0 "+Ii(Kt.internal.getWidth(i))+" "+Ii(Kt.internal.getHeight(i))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Ii(Kt.internal.getWidth(i)-2)+" "+Ii(Kt.internal.getHeight(i)-2)+" re"),r.push("W"),r.push("n"),r.push(Ii(e.x1.x)+" "+Ii(e.x1.y)+" m"),r.push(Ii(e.x2.x)+" "+Ii(e.x2.y)+" l"),r.push(Ii(e.x4.x)+" "+Ii(e.x4.y)+" m"),r.push(Ii(e.x3.x)+" "+Ii(e.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(i){var t=Ys(i);t.scope=i.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Ii(Kt.internal.getWidth(i))+" "+Ii(Kt.internal.getHeight(i))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(i){var t=i.scope.internal.getFont(i.fontName,i.fontStyle).id,e=i.scope.__private__.encodeColorString(i.color);return"/"+t+" "+i.fontSize+" Tf "+e}};Kt.internal={Bezier_C:.551915024494,calculateCross:function(i){var t=Kt.internal.getWidth(i),e=Kt.internal.getHeight(i),r=Math.min(t,e);return{x1:{x:(t-r)/2,y:(e-r)/2+r},x2:{x:(t-r)/2+r,y:(e-r)/2},x3:{x:(t-r)/2,y:(e-r)/2},x4:{x:(t-r)/2+r,y:(e-r)/2+r}}}},Kt.internal.getWidth=function(i){var t=0;return Ar(i)==="object"&&(t=bw(i.Rect[2])),t},Kt.internal.getHeight=function(i){var t=0;return Ar(i)==="object"&&(t=bw(i.Rect[3])),t};var t9=un.addField=function(i){if(e9(this,i),!(i instanceof Cs))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=i).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),i.page=i.scope.internal.getCurrentPageInfo().pageNumber,this};un.AcroFormChoiceField=Gu,un.AcroFormListBox=$u,un.AcroFormComboBox=Zu,un.AcroFormEditBox=Am,un.AcroFormButton=jn,un.AcroFormPushButton=Om,un.AcroFormRadioButton=Xu,un.AcroFormCheckBox=Im,un.AcroFormTextField=Fd,un.AcroFormPasswordField=Fm,un.AcroFormAppearance=Kt,un.AcroForm={ChoiceField:Gu,ListBox:$u,ComboBox:Zu,EditBox:Am,Button:jn,PushButton:Om,RadioButton:Xu,CheckBox:Im,TextField:Fd,PasswordField:Fm,Appearance:Kt},hi.AcroForm={ChoiceField:Gu,ListBox:$u,ComboBox:Zu,EditBox:Am,Button:jn,PushButton:Om,RadioButton:Xu,CheckBox:Im,TextField:Fd,PasswordField:Fm,Appearance:Kt};var ZW=hi.AcroForm;function Bw(i){return i.reduce(function(t,e,r){return t[e]=r,t},{})}(function(i){i.__addimage__={};var t="UNKNOWN",e={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=i.__addimage__.getImageFileTypeByImageData=function(q,H){var ve,_e,Fe,ke,Ye,Me=t;if((H=H||t)==="RGBA"||q.data!==void 0&&q.data instanceof Uint8ClampedArray&&"height"in q&&"width"in q)return"RGBA";if(Be(q))for(Ye in e)for(Fe=e[Ye],ve=0;ve<Fe.length;ve+=1){for(ke=!0,_e=0;_e<Fe[ve].length;_e+=1)if(Fe[ve][_e]!==void 0&&Fe[ve][_e]!==q[_e]){ke=!1;break}if(ke===!0){Me=Ye;break}}else for(Ye in e)for(Fe=e[Ye],ve=0;ve<Fe.length;ve+=1){for(ke=!0,_e=0;_e<Fe[ve].length;_e+=1)if(Fe[ve][_e]!==void 0&&Fe[ve][_e]!==q.charCodeAt(_e)){ke=!1;break}if(ke===!0){Me=Ye;break}}return Me===t&&H!==t&&(Me=H),Me},n=function q(H){for(var ve=this.internal.write,_e=this.internal.putStream,Fe=(0,this.internal.getFilters)();Fe.indexOf("FlateEncode")!==-1;)Fe.splice(Fe.indexOf("FlateEncode"),1);H.objectId=this.internal.newObject();var ke=[];if(ke.push({key:"Type",value:"/XObject"}),ke.push({key:"Subtype",value:"/Image"}),ke.push({key:"Width",value:H.width}),ke.push({key:"Height",value:H.height}),H.colorSpace===k.INDEXED?ke.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(H.palette.length/3-1)+" "+("sMask"in H&&H.sMask!==void 0?H.objectId+2:H.objectId+1)+" 0 R]"}):(ke.push({key:"ColorSpace",value:"/"+H.colorSpace}),H.colorSpace===k.DEVICE_CMYK&&ke.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ke.push({key:"BitsPerComponent",value:H.bitsPerComponent}),"decodeParameters"in H&&H.decodeParameters!==void 0&&ke.push({key:"DecodeParms",value:"<<"+H.decodeParameters+">>"}),"transparency"in H&&Array.isArray(H.transparency)){for(var Ye="",Me=0,je=H.transparency.length;Me<je;Me++)Ye+=H.transparency[Me]+" "+H.transparency[Me]+" ";ke.push({key:"Mask",value:"["+Ye+"]"})}H.sMask!==void 0&&ke.push({key:"SMask",value:H.objectId+1+" 0 R"});var Ze=H.filter!==void 0?["/"+H.filter]:void 0;if(_e({data:H.data,additionalKeyValues:ke,alreadyAppliedFilters:Ze,objectId:H.objectId}),ve("endobj"),"sMask"in H&&H.sMask!==void 0){var wt="/Predictor "+H.predictor+" /Colors 1 /BitsPerComponent "+H.bitsPerComponent+" /Columns "+H.width,A={width:H.width,height:H.height,colorSpace:"DeviceGray",bitsPerComponent:H.bitsPerComponent,decodeParameters:wt,data:H.sMask};"filter"in H&&(A.filter=H.filter),q.call(this,A)}if(H.colorSpace===k.INDEXED){var V=this.internal.newObject();_e({data:ie(new Uint8Array(H.palette)),objectId:V}),ve("endobj")}},a=function(){var q=this.internal.collections.addImage_images;for(var H in q)n.call(this,q[H])},o=function(){var q,H=this.internal.collections.addImage_images,ve=this.internal.write;for(var _e in H)ve("/I"+(q=H[_e]).index,q.objectId,"0","R")},d=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var q=this.internal.collections.addImage_images;return d.call(this),q},p=function(){return Object.keys(this.internal.collections.addImage_images).length},g=function(q){return typeof i["process"+q.toUpperCase()]=="function"},y=function(q){return Ar(q)==="object"&&q.nodeType===1},w=function(q,H){if(q.nodeName==="IMG"&&q.hasAttribute("src")){var ve=""+q.getAttribute("src");if(ve.indexOf("data:image/")===0)return Of(unescape(ve).split("base64,").pop());var _e=i.loadFile(ve,!0);if(_e!==void 0)return _e}if(q.nodeName==="CANVAS"){if(q.width===0||q.height===0)throw new Error("Given canvas must have data. Canvas width: "+q.width+", height: "+q.height);var Fe;switch(H){case"PNG":Fe="image/png";break;case"WEBP":Fe="image/webp";break;case"JPEG":case"JPG":default:Fe="image/jpeg"}return Of(q.toDataURL(Fe,1).split("base64,").pop())}},x=function(q){var H=this.internal.collections.addImage_images;if(H){for(var ve in H)if(q===H[ve].alias)return H[ve]}},T=function(q,H,ve){return q||H||(q=-96,H=-96),q<0&&(q=-1*ve.width*72/q/this.internal.scaleFactor),H<0&&(H=-1*ve.height*72/H/this.internal.scaleFactor),q===0&&(q=H*ve.width/ve.height),H===0&&(H=q*ve.height/ve.width),[q,H]},E=function(q,H,ve,_e,Fe,ke){var Ye=T.call(this,ve,_e,Fe),Me=this.internal.getCoordinateString,je=this.internal.getVerticalCoordinateString,Ze=u.call(this);if(ve=Ye[0],_e=Ye[1],Ze[Fe.index]=Fe,ke){ke*=Math.PI/180;var wt=Math.cos(ke),A=Math.sin(ke),V=function(j){return j.toFixed(4)},N=[V(wt),V(A),V(-1*A),V(wt),0,0,"cm"]}this.internal.write("q"),ke?(this.internal.write([1,"0","0",1,Me(q),je(H+_e),"cm"].join(" ")),this.internal.write(N.join(" ")),this.internal.write([Me(ve),"0","0",Me(_e),"0","0","cm"].join(" "))):this.internal.write([Me(ve),"0","0",Me(_e),Me(q),je(H+_e),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Fe.index+" Do"),this.internal.write("Q")},k=i.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};i.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var F=i.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},D=i.__addimage__.sHashCode=function(q){var H,ve,_e=0;if(typeof q=="string")for(ve=q.length,H=0;H<ve;H++)_e=(_e<<5)-_e+q.charCodeAt(H),_e|=0;else if(Be(q))for(ve=q.byteLength/2,H=0;H<ve;H++)_e=(_e<<5)-_e+q[H],_e|=0;return _e},X=i.__addimage__.validateStringAsBase64=function(q){(q=q||"").toString().trim();var H=!0;return q.length===0&&(H=!1),q.length%4!=0&&(H=!1),/^[A-Za-z0-9+/]+$/.test(q.substr(0,q.length-2))===!1&&(H=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(q.substr(-2))===!1&&(H=!1),H},he=i.__addimage__.extractImageFromDataUrl=function(q){if(q==null||!(q=q.trim()).startsWith("data:"))return null;var H=q.indexOf(",");return H<0?null:q.substring(0,H).trim().endsWith("base64")?q.substring(H+1):null},we=i.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};i.__addimage__.isArrayBuffer=function(q){return we()&&q instanceof ArrayBuffer};var Be=i.__addimage__.isArrayBufferView=function(q){return we()&&typeof Uint32Array<"u"&&(q instanceof Int8Array||q instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&q instanceof Uint8ClampedArray||q instanceof Int16Array||q instanceof Uint16Array||q instanceof Int32Array||q instanceof Uint32Array||q instanceof Float32Array||q instanceof Float64Array)},re=i.__addimage__.binaryStringToUint8Array=function(q){for(var H=q.length,ve=new Uint8Array(H),_e=0;_e<H;_e++)ve[_e]=q.charCodeAt(_e);return ve},ie=i.__addimage__.arrayBufferToBinaryString=function(q){for(var H="",ve=Be(q)?q:new Uint8Array(q),_e=0;_e<ve.length;_e+=8192)H+=String.fromCharCode.apply(null,ve.subarray(_e,_e+8192));return H};i.addImage=function(){var q,H,ve,_e,Fe,ke,Ye,Me,je;if(typeof arguments[1]=="number"?(H=t,ve=arguments[1],_e=arguments[2],Fe=arguments[3],ke=arguments[4],Ye=arguments[5],Me=arguments[6],je=arguments[7]):(H=arguments[1],ve=arguments[2],_e=arguments[3],Fe=arguments[4],ke=arguments[5],Ye=arguments[6],Me=arguments[7],je=arguments[8]),Ar(q=arguments[0])==="object"&&!y(q)&&"imageData"in q){var Ze=q;q=Ze.imageData,H=Ze.format||H||t,ve=Ze.x||ve||0,_e=Ze.y||_e||0,Fe=Ze.w||Ze.width||Fe,ke=Ze.h||Ze.height||ke,Ye=Ze.alias||Ye,Me=Ze.compression||Me,je=Ze.rotation||Ze.angle||je}var wt=this.internal.getFilters();if(Me===void 0&&wt.indexOf("FlateEncode")!==-1&&(Me="SLOW"),isNaN(ve)||isNaN(_e))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var A=le.call(this,q,H,Ye,Me);return E.call(this,ve,_e,Fe,ke,A,je),this};var le=function(q,H,ve,_e){var Fe,ke,Ye;if(typeof q=="string"&&r(q)===t){q=unescape(q);var Me=Ce(q,!1);(Me!==""||(Me=i.loadFile(q,!0))!==void 0)&&(q=Me)}if(y(q)&&(q=w(q,H)),H=r(q,H),!g(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(((Ye=ve)==null||Ye.length===0)&&(ve=function(je){return typeof je=="string"||Be(je)?D(je):Be(je.data)?D(je.data):null}(q)),(Fe=x.call(this,ve))||(we()&&(q instanceof Uint8Array||H==="RGBA"||(ke=q,q=re(q))),Fe=this["process"+H.toUpperCase()](q,p.call(this),ve,function(je){return je&&typeof je=="string"&&(je=je.toUpperCase()),je in i.image_compression?je:F.NONE}(_e),ke)),!Fe)throw new Error("An unknown error occurred whilst processing the image.");return Fe},Ce=i.__addimage__.convertBase64ToBinaryString=function(q,H){H=typeof H!="boolean"||H;var ve,_e="";if(typeof q=="string"){var Fe;ve=(Fe=he(q))!==null&&Fe!==void 0?Fe:q;try{_e=Of(ve)}catch(ke){if(H)throw X(ve)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ke.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return _e};i.getImageProperties=function(q){var H,ve,_e="";if(y(q)&&(q=w(q)),typeof q=="string"&&r(q)===t&&((_e=Ce(q,!1))===""&&(_e=i.loadFile(q)||""),q=_e),ve=r(q),!g(ve))throw new Error("addImage does not support files of type '"+ve+"', please ensure that a plugin for '"+ve+"' support is added.");if(!we()||q instanceof Uint8Array||(q=re(q)),!(H=this["process"+ve.toUpperCase()](q)))throw new Error("An unknown error occurred whilst processing the image");return H.fileType=ve,H}})(hi.API),function(i){var t=function(e){if(e!==void 0&&e!="")return!0};hi.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),i.events.push(["putPage",function(e){for(var r,n,a,o=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(e.objId),p=e.pageContext.annotations,g=!1,y=0;y<p.length&&!g;y++)switch((r=p[y]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(g=!0);break;case"reference":case"text":case"freetext":g=!0}if(g!=0){this.internal.write("/Annots [");for(var w=0;w<p.length;w++){r=p[w];var x=this.internal.pdfEscape,T=this.internal.getEncryptor(e.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var E=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),F=this.internal.getEncryptor(E.objId),D=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(n="/Rect ["+o(r.bounds.x)+" "+d(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+d(r.bounds.y)+"] ")+"/Contents ("+x(F(r.contents))+")",a+=" /Popup "+k.objId+" 0 R",a+=" /P "+u.objId+" 0 R",a+=" /T ("+x(F(D))+") >>",E.content=a;var X=E.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+o(r.bounds.x+30)+" "+d(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+d(r.bounds.y)+"] ")+" /Parent "+X,r.open&&(a+=" /Open true"),a+=" >>",k.content=a,this.internal.write(E.objId,"0 R",k.objId,"0 R");break;case"freetext":n="/Rect ["+o(r.bounds.x)+" "+d(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+d(r.bounds.y+r.bounds.h)+"] ";var he=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+x(T(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+he+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var we=this.annotations._nameMap[r.options.name];r.options.pageNumber=we.page,r.options.top=we.y}else r.options.top||(r.options.top=0);if(n="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+x(T(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var Be=d(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+Be+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),i.createAnnotation=function(e){var r=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":r.pageContext.annotations.push(e)}},i.link=function(e,r,n,a,o){var d=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,p=this.internal.getVerticalCoordinateString;d.pageContext.annotations.push({finalBounds:{x:u(e),y:p(r),w:u(e+n),h:p(r+a)},options:o,type:"link"})},i.textWithLink=function(e,r,n,a){var o,d,u=this.getTextWidth(e),p=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){d=a.maxWidth;var g=this.splitTextToSize(e,d).length;o=Math.ceil(p*g)}else d=u,o=p;return this.text(e,r,n,a),n+=.2*p,a.align==="center"&&(r-=u/2),a.align==="right"&&(r-=u),this.link(r,n-p,d,o,a),u},i.getTextWidth=function(e){var r=this.internal.getFontSize();return this.getStringUnitWidth(e)*r/this.internal.scaleFactor}}(hi.API),function(i){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},n=[1570,1571,1573,1575];i.__arabicParser__={};var a=i.__arabicParser__.isInArabicSubstitutionA=function(E){return t[E.charCodeAt(0)]!==void 0},o=i.__arabicParser__.isArabicLetter=function(E){return typeof E=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(E)},d=i.__arabicParser__.isArabicEndLetter=function(E){return o(E)&&a(E)&&t[E.charCodeAt(0)].length<=2},u=i.__arabicParser__.isArabicAlfLetter=function(E){return o(E)&&n.indexOf(E.charCodeAt(0))>=0};i.__arabicParser__.arabicLetterHasIsolatedForm=function(E){return o(E)&&a(E)&&t[E.charCodeAt(0)].length>=1};var p=i.__arabicParser__.arabicLetterHasFinalForm=function(E){return o(E)&&a(E)&&t[E.charCodeAt(0)].length>=2};i.__arabicParser__.arabicLetterHasInitialForm=function(E){return o(E)&&a(E)&&t[E.charCodeAt(0)].length>=3};var g=i.__arabicParser__.arabicLetterHasMedialForm=function(E){return o(E)&&a(E)&&t[E.charCodeAt(0)].length==4},y=i.__arabicParser__.resolveLigatures=function(E){var k=0,F=e,D="",X=0;for(k=0;k<E.length;k+=1)F[E.charCodeAt(k)]!==void 0?(X++,typeof(F=F[E.charCodeAt(k)])=="number"&&(D+=String.fromCharCode(F),F=e,X=0),k===E.length-1&&(F=e,D+=E.charAt(k-(X-1)),k-=X-1,X=0)):(F=e,D+=E.charAt(k-X),k-=X,X=0);return D};i.__arabicParser__.isArabicDiacritic=function(E){return E!==void 0&&r[E.charCodeAt(0)]!==void 0};var w=i.__arabicParser__.getCorrectForm=function(E,k,F){return o(E)?a(E)===!1?-1:!p(E)||!o(k)&&!o(F)||!o(F)&&d(k)||d(E)&&!o(k)||d(E)&&u(k)||d(E)&&d(k)?0:g(E)&&o(k)&&!d(k)&&o(F)&&p(F)?3:d(E)||!o(F)?1:2:-1},x=function(E){var k=0,F=0,D=0,X="",he="",we="",Be=(E=E||"").split("\\s+"),re=[];for(k=0;k<Be.length;k+=1){for(re.push(""),F=0;F<Be[k].length;F+=1)X=Be[k][F],he=Be[k][F-1],we=Be[k][F+1],o(X)?(D=w(X,he,we),re[k]+=D!==-1?String.fromCharCode(t[X.charCodeAt(0)][D]):X):re[k]+=X;re[k]=y(re[k])}return re.join(" ")},T=i.__arabicParser__.processArabic=i.processArabic=function(){var E,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,F=[];if(Array.isArray(k)){var D=0;for(F=[],D=0;D<k.length;D+=1)Array.isArray(k[D])?F.push([x(k[D][0]),k[D][1],k[D][2]]):F.push([x(k[D])]);E=F}else E=x(k);return typeof arguments[0]=="string"?E:(arguments[0].text=E,arguments[0])};i.events.push(["preProcessText",T])}(hi.API),hi.API.autoPrint=function(i){var t;switch((i=i||{}).variant=i.variant||"non-conform",i.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(i){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(d){e=d}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(d){r=isNaN(d)||Number.isInteger(d)===!1||d<0?150:d,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(d){n=isNaN(d)||Number.isInteger(d)===!1||d<0?300:d,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(d){a=d}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(d){o=d}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,r){var n;if((e=e||"2d")!=="2d")return null;for(n in r)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=r[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},i.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(hi.API),function(i){var t={left:0,top:0,bottom:0,right:0},e=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),n.call(this))},n=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(E){u=E}});var p=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return p},set:function(E){p=E}});var g=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return g},set:function(E){g=E}});var y=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return y},set:function(E){y=E}});var w=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return w},set:function(E){w=E}});var x=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return x},set:function(E){x=E}});var T=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return T},set:function(E){T=E}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},i.setHeaderFunction=function(u){return r.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},i.getTextDimensions=function(u,p){r.call(this);var g=(p=p||{}).fontSize||this.getFontSize(),y=p.font||this.getFont(),w=p.scaleFactor||this.internal.scaleFactor,x=0,T=0,E=0,k=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var F=p.maxWidth;F>0?typeof u=="string"?u=this.splitTextToSize(u,F):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(X,he){return X.concat(k.splitTextToSize(he,F))},[])):u=Array.isArray(u)?u:[u];for(var D=0;D<u.length;D++)x<(E=this.getStringUnitWidth(u[D],{font:y})*g)&&(x=E);return x!==0&&(T=u.length),{w:x/=w,h:Math.max((T*g*this.getLineHeightFactor()-g*(this.getLineHeightFactor()-1))/w,0)}},i.cellAddPage=function(){r.call(this),this.addPage();var u=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=i.cell=function(){var u;u=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var p=this.internal.__cell__.lastCell,g=this.internal.__cell__.padding,y=this.internal.__cell__.margins||t,w=this.internal.__cell__.tableHeaderRow,x=this.internal.__cell__.printHeaders;return p.lineNumber!==void 0&&(p.lineNumber===u.lineNumber?(u.x=(p.x||0)+(p.width||0),u.y=p.y||0):p.y+p.height+u.height+y.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=y.top,x&&w&&(this.printHeaderRow(u.lineNumber,!0),u.y+=w[0].height)):u.y=p.y+p.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,e===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-g,u.y+g,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+g,{align:"center",baseline:"top",maxWidth:u.width-g-g}):this.text(u.text,u.x+g,u.y+g,{align:"left",baseline:"top",maxWidth:u.width-g-g})),this.internal.__cell__.lastCell=u,this};i.table=function(u,p,g,y,w){if(r.call(this),!g)throw new Error("No data for PDF table.");var x,T,E,k,F=[],D=[],X=[],he={},we={},Be=[],re=[],ie=(w=w||{}).autoSize||!1,le=w.printHeaders!==!1,Ce=w.css&&w.css["font-size"]!==void 0?16*w.css["font-size"]:w.fontSize||12,q=w.margins||Object.assign({width:this.getPageWidth()},t),H=typeof w.padding=="number"?w.padding:3,ve=w.headerBackgroundColor||"#c8c8c8",_e=w.headerTextColor||"#000";if(n.call(this),this.internal.__cell__.printHeaders=le,this.internal.__cell__.margins=q,this.internal.__cell__.table_font_size=Ce,this.internal.__cell__.padding=H,this.internal.__cell__.headerBackgroundColor=ve,this.internal.__cell__.headerTextColor=_e,this.setFontSize(Ce),y==null)D=F=Object.keys(g[0]),X=F.map(function(){return"left"});else if(Array.isArray(y)&&Ar(y[0])==="object")for(F=y.map(function(Ze){return Ze.name}),D=y.map(function(Ze){return Ze.prompt||Ze.name||""}),X=y.map(function(Ze){return Ze.align||"left"}),x=0;x<y.length;x+=1)we[y[x].name]=y[x].width*(19.049976/25.4);else Array.isArray(y)&&typeof y[0]=="string"&&(D=F=y,X=F.map(function(){return"left"}));if(ie||Array.isArray(y)&&typeof y[0]=="string")for(x=0;x<F.length;x+=1){for(he[k=F[x]]=g.map(function(Ze){return Ze[k]}),this.setFont(void 0,"bold"),Be.push(this.getTextDimensions(D[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),T=he[k],this.setFont(void 0,"normal"),E=0;E<T.length;E+=1)Be.push(this.getTextDimensions(T[E],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);we[k]=Math.max.apply(null,Be)+H+H,Be=[]}if(le){var Fe={};for(x=0;x<F.length;x+=1)Fe[F[x]]={},Fe[F[x]].text=D[x],Fe[F[x]].align=X[x];var ke=d.call(this,Fe,we);re=F.map(function(Ze){return new a(u,p,we[Ze],ke,Fe[Ze].text,void 0,Fe[Ze].align)}),this.setTableHeaderRow(re),this.printHeaderRow(1,!1)}var Ye=y.reduce(function(Ze,wt){return Ze[wt.name]=wt.align,Ze},{});for(x=0;x<g.length;x+=1){"rowStart"in w&&w.rowStart instanceof Function&&w.rowStart({row:x,data:g[x]},this);var Me=d.call(this,g[x],we);for(E=0;E<F.length;E+=1){var je=g[x][F[E]];"cellStart"in w&&w.cellStart instanceof Function&&w.cellStart({row:x,col:E,data:je},this),o.call(this,new a(u,p,we[F[E]],Me,je,x+2,Ye[F[E]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=p,this};var d=function(u,p){var g=this.internal.__cell__.padding,y=this.internal.__cell__.table_font_size,w=this.internal.scaleFactor;return Object.keys(u).map(function(x){var T=u[x];return this.splitTextToSize(T.hasOwnProperty("text")?T.text:T,p[x]-g-g)},this).map(function(x){return this.getLineHeightFactor()*x.length*y/w+g+g},this).reduce(function(x,T){return Math.max(x,T)},0)};i.setTableHeaderRow=function(u){r.call(this),this.internal.__cell__.tableHeaderRow=u},i.printHeaderRow=function(u,p){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var g;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var y=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(y[0],y[1],y[2],y[3],void 0,-1)}this.setFont(void 0,"bold");for(var w=[],x=0;x<this.internal.__cell__.tableHeaderRow.length;x+=1){g=this.internal.__cell__.tableHeaderRow[x].clone(),p&&(g.y=this.internal.__cell__.margins.top||0,w.push(g)),g.lineNumber=u;var T=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,g),this.setTextColor(T)}w.length>0&&this.setTableHeaderRow(w),this.setFont(void 0,"normal"),e=!1}}(hi.API);var Uw={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Vw=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],r_=Bw(Vw),jw=[100,200,300,400,500,600,700,800,900],i9=Bw(jw);function n_(i){var t=i.family.replace(/"|'/g,"").toLowerCase(),e=function(a){return Uw[a=a||"normal"]?a:"normal"}(i.style),r=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(i.weight),n=function(a){return typeof r_[a=a||"normal"]=="number"?a:"normal"}(i.stretch);return{family:t,style:e,weight:r,stretch:n,src:i.src||[],ref:i.ref||{name:t,style:[n,e,r].join(" ")}}}function xw(i,t,e,r){var n;for(n=e;n>=0&&n<t.length;n+=r)if(i[t[n]])return i[t[n]];for(n=e;n>=0&&n<t.length;n-=r)if(i[t[n]])return i[t[n]]}var r9={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},yw={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Cw(i){return[i.stretch,i.style,i.weight,i.family].join(" ")}function n9(i,t,e){for(var r=(e=e||{}).defaultFontFamily||"times",n=Object.assign({},r9,e.genericFontFamilies||{}),a=null,o=null,d=0;d<t.length;++d)if(n[(a=n_(t[d])).family]&&(a.family=n[a.family]),i.hasOwnProperty(a.family)){o=i[a.family];break}if(!(o=o||i[r]))throw new Error("Could not find a font-family for the rule '"+Cw(a)+"' and default family '"+r+"'.");if(o=function(u,p){if(p[u])return p[u];var g=r_[u],y=g<=r_.normal?-1:1,w=xw(p,Vw,g,y);if(!w)throw new Error("Could not find a matching font-stretch value for "+u);return w}(a.stretch,o),o=function(u,p){if(p[u])return p[u];for(var g=Uw[u],y=0;y<g.length;++y)if(p[g[y]])return p[g[y]];throw new Error("Could not find a matching font-style for "+u)}(a.style,o),!(o=function(u,p){if(p[u])return p[u];if(u===400&&p[500])return p[500];if(u===500&&p[400])return p[400];var g=i9[u],y=xw(p,jw,g,u<400?-1:1);if(!y)throw new Error("Could not find a matching font-weight for value "+u);return y}(a.weight,o)))throw new Error("Failed to resolve a font for the rule '"+Cw(a)+"'.");return o}function ww(i){return i.trimLeft()}function a9(i,t){for(var e=0;e<i.length;){if(i.charAt(e)===t)return[i.substring(0,e),i.substring(e+1)];e+=1}return null}function o9(i){var t=i.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],i.substring(t[0].length)]}var Tm,Sw,Ew,Kv=["times"];(function(i){var t,e,r,n,a,o,d,u,p,g=function(A){return A=A||{},this.isStrokeTransparent=A.isStrokeTransparent||!1,this.strokeOpacity=A.strokeOpacity||1,this.strokeStyle=A.strokeStyle||"#000000",this.fillStyle=A.fillStyle||"#000000",this.isFillTransparent=A.isFillTransparent||!1,this.fillOpacity=A.fillOpacity||1,this.font=A.font||"10px sans-serif",this.textBaseline=A.textBaseline||"alphabetic",this.textAlign=A.textAlign||"left",this.lineWidth=A.lineWidth||1,this.lineJoin=A.lineJoin||"miter",this.lineCap=A.lineCap||"butt",this.path=A.path||[],this.transform=A.transform!==void 0?A.transform.clone():new u,this.globalCompositeOperation=A.globalCompositeOperation||"normal",this.globalAlpha=A.globalAlpha||1,this.clip_path=A.clip_path||[],this.currentPoint=A.currentPoint||new o,this.miterLimit=A.miterLimit||10,this.lastPoint=A.lastPoint||new o,this.lineDashOffset=A.lineDashOffset||0,this.lineDash=A.lineDash||[],this.margin=A.margin||[0,0,0,0],this.prevPageLastElemOffset=A.prevPageLastElemOffset||0,this.ignoreClearRect=typeof A.ignoreClearRect!="boolean"||A.ignoreClearRect,this};i.events.push(["initialized",function(){this.context2d=new y(this),t=this.internal.f2,e=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,n=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,d=this.internal.Rectangle,u=this.internal.Matrix,p=new g}]);var y=function(A){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var V=A;Object.defineProperty(this,"pdf",{get:function(){return V}});var N=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return N},set:function(Qe){N=!!Qe}});var j=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return j},set:function(Qe){j=!!Qe}});var se=0;Object.defineProperty(this,"posX",{get:function(){return se},set:function(Qe){isNaN(Qe)||(se=Qe)}});var Ee=0;Object.defineProperty(this,"posY",{get:function(){return Ee},set:function(Qe){isNaN(Qe)||(Ee=Qe)}}),Object.defineProperty(this,"margin",{get:function(){return p.margin},set:function(Qe){var ge;typeof Qe=="number"?ge=[Qe,Qe,Qe,Qe]:((ge=new Array(4))[0]=Qe[0],ge[1]=Qe.length>=2?Qe[1]:ge[0],ge[2]=Qe.length>=3?Qe[2]:ge[0],ge[3]=Qe.length>=4?Qe[3]:ge[1]),p.margin=ge}});var Ie=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ie},set:function(Qe){Ie=Qe}});var Te=0;Object.defineProperty(this,"lastBreak",{get:function(){return Te},set:function(Qe){Te=Qe}});var Re=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Re},set:function(Qe){Re=Qe}}),Object.defineProperty(this,"ctx",{get:function(){return p},set:function(Qe){Qe instanceof g&&(p=Qe)}}),Object.defineProperty(this,"path",{get:function(){return p.path},set:function(Qe){p.path=Qe}});var at=[];Object.defineProperty(this,"ctxStack",{get:function(){return at},set:function(Qe){at=Qe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Qe){var ge;ge=w(Qe),this.ctx.fillStyle=ge.style,this.ctx.isFillTransparent=ge.a===0,this.ctx.fillOpacity=ge.a,this.pdf.setFillColor(ge.r,ge.g,ge.b,{a:ge.a}),this.pdf.setTextColor(ge.r,ge.g,ge.b,{a:ge.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Qe){var ge=w(Qe);this.ctx.strokeStyle=ge.style,this.ctx.isStrokeTransparent=ge.a===0,this.ctx.strokeOpacity=ge.a,ge.a===0?this.pdf.setDrawColor(255,255,255):(ge.a,this.pdf.setDrawColor(ge.r,ge.g,ge.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Qe){["butt","round","square"].indexOf(Qe)!==-1&&(this.ctx.lineCap=Qe,this.pdf.setLineCap(Qe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Qe){isNaN(Qe)||(this.ctx.lineWidth=Qe,this.pdf.setLineWidth(Qe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Qe){["bevel","round","miter"].indexOf(Qe)!==-1&&(this.ctx.lineJoin=Qe,this.pdf.setLineJoin(Qe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Qe){isNaN(Qe)||(this.ctx.miterLimit=Qe,this.pdf.setMiterLimit(Qe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Qe){this.ctx.textBaseline=Qe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Qe){["right","end","center","left","start"].indexOf(Qe)!==-1&&(this.ctx.textAlign=Qe)}});var pt=null;function Pt(Qe,ge){if(pt===null){var mt=function(Wt){var gt=[];return Object.keys(Wt).forEach(function(Ft){Wt[Ft].forEach(function(Ut){var Vt=null;switch(Ut){case"bold":Vt={family:Ft,weight:"bold"};break;case"italic":Vt={family:Ft,style:"italic"};break;case"bolditalic":Vt={family:Ft,weight:"bold",style:"italic"};break;case"":case"normal":Vt={family:Ft}}Vt!==null&&(Vt.ref={name:Ft,style:Ut},gt.push(Vt))})}),gt}(Qe.getFontList());pt=function(Wt){for(var gt={},Ft=0;Ft<Wt.length;++Ft){var Ut=n_(Wt[Ft]),Vt=Ut.family,Qt=Ut.stretch,ti=Ut.style,yi=Ut.weight;gt[Vt]=gt[Vt]||{},gt[Vt][Qt]=gt[Vt][Qt]||{},gt[Vt][Qt][ti]=gt[Vt][Qt][ti]||{},gt[Vt][Qt][ti][yi]=Ut}return gt}(mt.concat(ge))}return pt}var Lt=null;Object.defineProperty(this,"fontFaces",{get:function(){return Lt},set:function(Qe){pt=null,Lt=Qe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Qe){var ge;if(this.ctx.font=Qe,(ge=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Qe))!==null){var mt=ge[1];ge[2];var Wt=ge[3],gt=ge[4];ge[5];var Ft=ge[6],Ut=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(gt)[2];gt=Math.floor(Ut==="px"?parseFloat(gt)*this.pdf.internal.scaleFactor:Ut==="em"?parseFloat(gt)*this.pdf.getFontSize():parseFloat(gt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(gt);var Vt=function(mi){var Fi,qt,Yr=[],Zi=mi.trim();if(Zi==="")return Kv;if(Zi in yw)return[yw[Zi]];for(;Zi!=="";){switch(qt=null,Fi=(Zi=ww(Zi)).charAt(0)){case'"':case"'":qt=a9(Zi.substring(1),Fi);break;default:qt=o9(Zi)}if(qt===null||(Yr.push(qt[0]),(Zi=ww(qt[1]))!==""&&Zi.charAt(0)!==","))return Kv;Zi=Zi.replace(/^,/,"")}return Yr}(Ft);if(this.fontFaces){var Qt=n9(Pt(this.pdf,this.fontFaces),Vt.map(function(mi){return{family:mi,stretch:"normal",weight:Wt,style:mt}}));this.pdf.setFont(Qt.ref.name,Qt.ref.style)}else{var ti="";(Wt==="bold"||parseInt(Wt,10)>=700||mt==="bold")&&(ti="bold"),mt==="italic"&&(ti+="italic"),ti.length===0&&(ti="normal");for(var yi="",Ti={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Hi=0;Hi<Vt.length;Hi++){if(this.pdf.internal.getFont(Vt[Hi],ti,{noFallback:!0,disableWarning:!0})!==void 0){yi=Vt[Hi];break}if(ti==="bolditalic"&&this.pdf.internal.getFont(Vt[Hi],"bold",{noFallback:!0,disableWarning:!0})!==void 0)yi=Vt[Hi],ti="bold";else if(this.pdf.internal.getFont(Vt[Hi],"normal",{noFallback:!0,disableWarning:!0})!==void 0){yi=Vt[Hi],ti="normal";break}}if(yi===""){for(var Gi=0;Gi<Vt.length;Gi++)if(Ti[Vt[Gi]]){yi=Ti[Vt[Gi]];break}}yi=yi===""?"Times":yi,this.pdf.setFont(yi,ti)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Qe){this.ctx.globalCompositeOperation=Qe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Qe){this.ctx.globalAlpha=Qe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Qe){this.ctx.lineDashOffset=Qe,wt.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Qe){this.ctx.lineDash=Qe,wt.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Qe){this.ctx.ignoreClearRect=!!Qe}})};y.prototype.setLineDash=function(A){this.lineDash=A},y.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},y.prototype.fill=function(){he.call(this,"fill",!1)},y.prototype.stroke=function(){he.call(this,"stroke",!1)},y.prototype.beginPath=function(){this.path=[{type:"begin"}]},y.prototype.moveTo=function(A,V){if(isNaN(A)||isNaN(V))throw Rr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var N=this.ctx.transform.applyToPoint(new o(A,V));this.path.push({type:"mt",x:N.x,y:N.y}),this.ctx.lastPoint=new o(A,V)},y.prototype.closePath=function(){var A=new o(0,0),V=0;for(V=this.path.length-1;V!==-1;V--)if(this.path[V].type==="begin"&&Ar(this.path[V+1])==="object"&&typeof this.path[V+1].x=="number"){A=new o(this.path[V+1].x,this.path[V+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(A.x,A.y)},y.prototype.lineTo=function(A,V){if(isNaN(A)||isNaN(V))throw Rr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var N=this.ctx.transform.applyToPoint(new o(A,V));this.path.push({type:"lt",x:N.x,y:N.y}),this.ctx.lastPoint=new o(N.x,N.y)},y.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),he.call(this,null,!0)},y.prototype.quadraticCurveTo=function(A,V,N,j){if(isNaN(N)||isNaN(j)||isNaN(A)||isNaN(V))throw Rr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var se=this.ctx.transform.applyToPoint(new o(N,j)),Ee=this.ctx.transform.applyToPoint(new o(A,V));this.path.push({type:"qct",x1:Ee.x,y1:Ee.y,x:se.x,y:se.y}),this.ctx.lastPoint=new o(se.x,se.y)},y.prototype.bezierCurveTo=function(A,V,N,j,se,Ee){if(isNaN(se)||isNaN(Ee)||isNaN(A)||isNaN(V)||isNaN(N)||isNaN(j))throw Rr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ie=this.ctx.transform.applyToPoint(new o(se,Ee)),Te=this.ctx.transform.applyToPoint(new o(A,V)),Re=this.ctx.transform.applyToPoint(new o(N,j));this.path.push({type:"bct",x1:Te.x,y1:Te.y,x2:Re.x,y2:Re.y,x:Ie.x,y:Ie.y}),this.ctx.lastPoint=new o(Ie.x,Ie.y)},y.prototype.arc=function(A,V,N,j,se,Ee){if(isNaN(A)||isNaN(V)||isNaN(N)||isNaN(j)||isNaN(se))throw Rr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ee=!!Ee,!this.ctx.transform.isIdentity){var Ie=this.ctx.transform.applyToPoint(new o(A,V));A=Ie.x,V=Ie.y;var Te=this.ctx.transform.applyToPoint(new o(0,N)),Re=this.ctx.transform.applyToPoint(new o(0,0));N=Math.sqrt(Math.pow(Te.x-Re.x,2)+Math.pow(Te.y-Re.y,2))}Math.abs(se-j)>=2*Math.PI&&(j=0,se=2*Math.PI),this.path.push({type:"arc",x:A,y:V,radius:N,startAngle:j,endAngle:se,counterclockwise:Ee})},y.prototype.arcTo=function(A,V,N,j,se){throw new Error("arcTo not implemented.")},y.prototype.rect=function(A,V,N,j){if(isNaN(A)||isNaN(V)||isNaN(N)||isNaN(j))throw Rr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(A,V),this.lineTo(A+N,V),this.lineTo(A+N,V+j),this.lineTo(A,V+j),this.lineTo(A,V),this.lineTo(A+N,V),this.lineTo(A,V)},y.prototype.fillRect=function(A,V,N,j){if(isNaN(A)||isNaN(V)||isNaN(N)||isNaN(j))throw Rr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!x.call(this)){var se={};this.lineCap!=="butt"&&(se.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(se.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(A,V,N,j),this.fill(),se.hasOwnProperty("lineCap")&&(this.lineCap=se.lineCap),se.hasOwnProperty("lineJoin")&&(this.lineJoin=se.lineJoin)}},y.prototype.strokeRect=function(A,V,N,j){if(isNaN(A)||isNaN(V)||isNaN(N)||isNaN(j))throw Rr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");T.call(this)||(this.beginPath(),this.rect(A,V,N,j),this.stroke())},y.prototype.clearRect=function(A,V,N,j){if(isNaN(A)||isNaN(V)||isNaN(N)||isNaN(j))throw Rr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(A,V,N,j))},y.prototype.save=function(A){A=typeof A!="boolean"||A;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,N=0;N<this.pdf.internal.getNumberOfPages();N++)this.pdf.setPage(N+1),this.pdf.internal.out("q");if(this.pdf.setPage(V),A){this.ctx.fontSize=this.pdf.internal.getFontSize();var j=new g(this.ctx);this.ctxStack.push(this.ctx),this.ctx=j}},y.prototype.restore=function(A){A=typeof A!="boolean"||A;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,N=0;N<this.pdf.internal.getNumberOfPages();N++)this.pdf.setPage(N+1),this.pdf.internal.out("Q");this.pdf.setPage(V),A&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},y.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var w=function(A){var V,N,j,se;if(A.isCanvasGradient===!0&&(A=A.getColor()),!A)return{r:0,g:0,b:0,a:0,style:A};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(A))V=0,N=0,j=0,se=0;else{var Ee=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(A);if(Ee!==null)V=parseInt(Ee[1]),N=parseInt(Ee[2]),j=parseInt(Ee[3]),se=1;else if((Ee=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(A))!==null)V=parseInt(Ee[1]),N=parseInt(Ee[2]),j=parseInt(Ee[3]),se=parseFloat(Ee[4]);else{if(se=1,typeof A=="string"&&A.charAt(0)!=="#"){var Ie=new Iw(A);A=Ie.ok?Ie.toHex():"#000000"}A.length===4?(V=A.substring(1,2),V+=V,N=A.substring(2,3),N+=N,j=A.substring(3,4),j+=j):(V=A.substring(1,3),N=A.substring(3,5),j=A.substring(5,7)),V=parseInt(V,16),N=parseInt(N,16),j=parseInt(j,16)}}return{r:V,g:N,b:j,a:se,style:A}},x=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},T=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};y.prototype.fillText=function(A,V,N,j){if(isNaN(V)||isNaN(N)||typeof A!="string")throw Rr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(j=isNaN(j)?void 0:j,!x.call(this)){var se=Me(this.ctx.transform.rotation),Ee=this.ctx.transform.scaleX;H.call(this,{text:A,x:V,y:N,scale:Ee,angle:se,align:this.textAlign,maxWidth:j})}},y.prototype.strokeText=function(A,V,N,j){if(isNaN(V)||isNaN(N)||typeof A!="string")throw Rr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!T.call(this)){j=isNaN(j)?void 0:j;var se=Me(this.ctx.transform.rotation),Ee=this.ctx.transform.scaleX;H.call(this,{text:A,x:V,y:N,scale:Ee,renderingMode:"stroke",angle:se,align:this.textAlign,maxWidth:j})}},y.prototype.measureText=function(A){if(typeof A!="string")throw Rr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var V=this.pdf,N=this.pdf.internal.scaleFactor,j=V.internal.getFontSize(),se=V.getStringUnitWidth(A)*j/V.internal.scaleFactor,Ee=function(Ie){var Te=(Ie=Ie||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Te}}),this};return new Ee({width:se*=Math.round(96*N/72*1e4)/1e4})},y.prototype.scale=function(A,V){if(isNaN(A)||isNaN(V))throw Rr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var N=new u(A,0,0,V,0,0);this.ctx.transform=this.ctx.transform.multiply(N)},y.prototype.rotate=function(A){if(isNaN(A))throw Rr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var V=new u(Math.cos(A),Math.sin(A),-Math.sin(A),Math.cos(A),0,0);this.ctx.transform=this.ctx.transform.multiply(V)},y.prototype.translate=function(A,V){if(isNaN(A)||isNaN(V))throw Rr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var N=new u(1,0,0,1,A,V);this.ctx.transform=this.ctx.transform.multiply(N)},y.prototype.transform=function(A,V,N,j,se,Ee){if(isNaN(A)||isNaN(V)||isNaN(N)||isNaN(j)||isNaN(se)||isNaN(Ee))throw Rr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ie=new u(A,V,N,j,se,Ee);this.ctx.transform=this.ctx.transform.multiply(Ie)},y.prototype.setTransform=function(A,V,N,j,se,Ee){A=isNaN(A)?1:A,V=isNaN(V)?0:V,N=isNaN(N)?0:N,j=isNaN(j)?1:j,se=isNaN(se)?0:se,Ee=isNaN(Ee)?0:Ee,this.ctx.transform=new u(A,V,N,j,se,Ee)};var E=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};y.prototype.drawImage=function(A,V,N,j,se,Ee,Ie,Te,Re){var at=this.pdf.getImageProperties(A),pt=1,Pt=1,Lt=1,Qe=1;j!==void 0&&Te!==void 0&&(Lt=Te/j,Qe=Re/se,pt=at.width/j*Te/j,Pt=at.height/se*Re/se),Ee===void 0&&(Ee=V,Ie=N,V=0,N=0),j!==void 0&&Te===void 0&&(Te=j,Re=se),j===void 0&&Te===void 0&&(Te=at.width,Re=at.height);for(var ge,mt=this.ctx.transform.decompose(),Wt=Me(mt.rotate.shx),gt=new u,Ft=(gt=(gt=(gt=gt.multiply(mt.translate)).multiply(mt.skew)).multiply(mt.scale)).applyToRectangle(new d(Ee-V*Lt,Ie-N*Qe,j*pt,se*Pt)),Ut=k.call(this,Ft),Vt=[],Qt=0;Qt<Ut.length;Qt+=1)Vt.indexOf(Ut[Qt])===-1&&Vt.push(Ut[Qt]);if(X(Vt),this.autoPaging)for(var ti=Vt[0],yi=Vt[Vt.length-1],Ti=ti;Ti<yi+1;Ti++){this.pdf.setPage(Ti);var Hi=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Gi=Ti===1?this.posY+this.margin[0]:this.margin[0],mi=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Fi=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],qt=Ti===1?0:mi+(Ti-2)*Fi;if(this.ctx.clip_path.length!==0){var Yr=this.path;ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(ge,this.posX+this.margin[3],-qt+Gi+this.ctx.prevPageLastElemOffset),we.call(this,"fill",!0),this.path=Yr}var Zi=JSON.parse(JSON.stringify(Ft));Zi=D([Zi],this.posX+this.margin[3],-qt+Gi+this.ctx.prevPageLastElemOffset)[0];var Qn=(Ti>ti||Ti<yi)&&E.call(this);Qn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Hi,Fi,null).clip().discardPath()),this.pdf.addImage(A,"JPEG",Zi.x,Zi.y,Zi.w,Zi.h,null,null,Wt),Qn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(A,"JPEG",Ft.x,Ft.y,Ft.w,Ft.h,null,null,Wt)};var k=function(A,V,N){var j=[];V=V||this.pdf.internal.pageSize.width,N=N||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var se=this.posY+this.ctx.prevPageLastElemOffset;switch(A.type){default:case"mt":case"lt":j.push(Math.floor((A.y+se)/N)+1);break;case"arc":j.push(Math.floor((A.y+se-A.radius)/N)+1),j.push(Math.floor((A.y+se+A.radius)/N)+1);break;case"qct":var Ee=je(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x,A.y);j.push(Math.floor((Ee.y+se)/N)+1),j.push(Math.floor((Ee.y+Ee.h+se)/N)+1);break;case"bct":var Ie=Ze(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x2,A.y2,A.x,A.y);j.push(Math.floor((Ie.y+se)/N)+1),j.push(Math.floor((Ie.y+Ie.h+se)/N)+1);break;case"rect":j.push(Math.floor((A.y+se)/N)+1),j.push(Math.floor((A.y+A.h+se)/N)+1)}for(var Te=0;Te<j.length;Te+=1)for(;this.pdf.internal.getNumberOfPages()<j[Te];)F.call(this);return j},F=function(){var A=this.fillStyle,V=this.strokeStyle,N=this.font,j=this.lineCap,se=this.lineWidth,Ee=this.lineJoin;this.pdf.addPage(),this.fillStyle=A,this.strokeStyle=V,this.font=N,this.lineCap=j,this.lineWidth=se,this.lineJoin=Ee},D=function(A,V,N){for(var j=0;j<A.length;j++)switch(A[j].type){case"bct":A[j].x2+=V,A[j].y2+=N;case"qct":A[j].x1+=V,A[j].y1+=N;case"mt":case"lt":case"arc":default:A[j].x+=V,A[j].y+=N}return A},X=function(A){return A.sort(function(V,N){return V-N})},he=function(A,V){for(var N,j,se=this.fillStyle,Ee=this.strokeStyle,Ie=this.lineCap,Te=this.lineWidth,Re=Math.abs(Te*this.ctx.transform.scaleX),at=this.lineJoin,pt=JSON.parse(JSON.stringify(this.path)),Pt=JSON.parse(JSON.stringify(this.path)),Lt=[],Qe=0;Qe<Pt.length;Qe++)if(Pt[Qe].x!==void 0)for(var ge=k.call(this,Pt[Qe]),mt=0;mt<ge.length;mt+=1)Lt.indexOf(ge[mt])===-1&&Lt.push(ge[mt]);for(var Wt=0;Wt<Lt.length;Wt++)for(;this.pdf.internal.getNumberOfPages()<Lt[Wt];)F.call(this);if(X(Lt),this.autoPaging)for(var gt=Lt[0],Ft=Lt[Lt.length-1],Ut=gt;Ut<Ft+1;Ut++){this.pdf.setPage(Ut),this.fillStyle=se,this.strokeStyle=Ee,this.lineCap=Ie,this.lineWidth=Re,this.lineJoin=at;var Vt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Qt=Ut===1?this.posY+this.margin[0]:this.margin[0],ti=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yi=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ti=Ut===1?0:ti+(Ut-2)*yi;if(this.ctx.clip_path.length!==0){var Hi=this.path;N=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(N,this.posX+this.margin[3],-Ti+Qt+this.ctx.prevPageLastElemOffset),we.call(this,A,!0),this.path=Hi}if(j=JSON.parse(JSON.stringify(pt)),this.path=D(j,this.posX+this.margin[3],-Ti+Qt+this.ctx.prevPageLastElemOffset),V===!1||Ut===0){var Gi=(Ut>gt||Ut<Ft)&&E.call(this);Gi&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Vt,yi,null).clip().discardPath()),we.call(this,A,V),Gi&&this.pdf.restoreGraphicsState()}this.lineWidth=Te}else this.lineWidth=Re,we.call(this,A,V),this.lineWidth=Te;this.path=pt},we=function(A,V){if((A!=="stroke"||V||!T.call(this))&&(A==="stroke"||V||!x.call(this))){for(var N,j,se=[],Ee=this.path,Ie=0;Ie<Ee.length;Ie++){var Te=Ee[Ie];switch(Te.type){case"begin":se.push({begin:!0});break;case"close":se.push({close:!0});break;case"mt":se.push({start:Te,deltas:[],abs:[]});break;case"lt":var Re=se.length;if(Ee[Ie-1]&&!isNaN(Ee[Ie-1].x)&&(N=[Te.x-Ee[Ie-1].x,Te.y-Ee[Ie-1].y],Re>0)){for(;Re>=0;Re--)if(se[Re-1].close!==!0&&se[Re-1].begin!==!0){se[Re-1].deltas.push(N),se[Re-1].abs.push(Te);break}}break;case"bct":N=[Te.x1-Ee[Ie-1].x,Te.y1-Ee[Ie-1].y,Te.x2-Ee[Ie-1].x,Te.y2-Ee[Ie-1].y,Te.x-Ee[Ie-1].x,Te.y-Ee[Ie-1].y],se[se.length-1].deltas.push(N);break;case"qct":var at=Ee[Ie-1].x+2/3*(Te.x1-Ee[Ie-1].x),pt=Ee[Ie-1].y+2/3*(Te.y1-Ee[Ie-1].y),Pt=Te.x+2/3*(Te.x1-Te.x),Lt=Te.y+2/3*(Te.y1-Te.y),Qe=Te.x,ge=Te.y;N=[at-Ee[Ie-1].x,pt-Ee[Ie-1].y,Pt-Ee[Ie-1].x,Lt-Ee[Ie-1].y,Qe-Ee[Ie-1].x,ge-Ee[Ie-1].y],se[se.length-1].deltas.push(N);break;case"arc":se.push({deltas:[],abs:[],arc:!0}),Array.isArray(se[se.length-1].abs)&&se[se.length-1].abs.push(Te)}}j=V?null:A==="stroke"?"stroke":"fill";for(var mt=!1,Wt=0;Wt<se.length;Wt++)if(se[Wt].arc)for(var gt=se[Wt].abs,Ft=0;Ft<gt.length;Ft++){var Ut=gt[Ft];Ut.type==="arc"?ie.call(this,Ut.x,Ut.y,Ut.radius,Ut.startAngle,Ut.endAngle,Ut.counterclockwise,void 0,V,!mt):ve.call(this,Ut.x,Ut.y),mt=!0}else if(se[Wt].close===!0)this.pdf.internal.out("h"),mt=!1;else if(se[Wt].begin!==!0){var Vt=se[Wt].start.x,Qt=se[Wt].start.y;_e.call(this,se[Wt].deltas,Vt,Qt),mt=!0}j&&le.call(this,j),V&&Ce.call(this)}},Be=function(A){var V=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,N=V*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return A-N;case"top":return A+V-N;case"hanging":return A+V-2*N;case"middle":return A+V/2-N;case"ideographic":return A;case"alphabetic":default:return A}},re=function(A){return A+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};y.prototype.createLinearGradient=function(){var A=function(){};return A.colorStops=[],A.addColorStop=function(V,N){this.colorStops.push([V,N])},A.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},A.isCanvasGradient=!0,A},y.prototype.createPattern=function(){return this.createLinearGradient()},y.prototype.createRadialGradient=function(){return this.createLinearGradient()};var ie=function(A,V,N,j,se,Ee,Ie,Te,Re){for(var at=ke.call(this,N,j,se,Ee),pt=0;pt<at.length;pt++){var Pt=at[pt];pt===0&&(Re?q.call(this,Pt.x1+A,Pt.y1+V):ve.call(this,Pt.x1+A,Pt.y1+V)),Fe.call(this,A,V,Pt.x2,Pt.y2,Pt.x3,Pt.y3,Pt.x4,Pt.y4)}Te?Ce.call(this):le.call(this,Ie)},le=function(A){switch(A){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Ce=function(){this.pdf.clip(),this.pdf.discardPath()},q=function(A,V){this.pdf.internal.out(e(A)+" "+r(V)+" m")},H=function(A){var V;switch(A.align){case"right":case"end":V="right";break;case"center":V="center";break;case"left":case"start":default:V="left"}var N=this.pdf.getTextDimensions(A.text),j=Be.call(this,A.y),se=re.call(this,j)-N.h,Ee=this.ctx.transform.applyToPoint(new o(A.x,j)),Ie=this.ctx.transform.decompose(),Te=new u;Te=(Te=(Te=Te.multiply(Ie.translate)).multiply(Ie.skew)).multiply(Ie.scale);for(var Re,at,pt,Pt=this.ctx.transform.applyToRectangle(new d(A.x,j,N.w,N.h)),Lt=Te.applyToRectangle(new d(A.x,se,N.w,N.h)),Qe=k.call(this,Lt),ge=[],mt=0;mt<Qe.length;mt+=1)ge.indexOf(Qe[mt])===-1&&ge.push(Qe[mt]);if(X(ge),this.autoPaging)for(var Wt=ge[0],gt=ge[ge.length-1],Ft=Wt;Ft<gt+1;Ft++){this.pdf.setPage(Ft);var Ut=Ft===1?this.posY+this.margin[0]:this.margin[0],Vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Qt=this.pdf.internal.pageSize.height-this.margin[2],ti=Qt-this.margin[0],yi=this.pdf.internal.pageSize.width-this.margin[1],Ti=yi-this.margin[3],Hi=Ft===1?0:Vt+(Ft-2)*ti;if(this.ctx.clip_path.length!==0){var Gi=this.path;Re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(Re,this.posX+this.margin[3],-1*Hi+Ut),we.call(this,"fill",!0),this.path=Gi}var mi=D([JSON.parse(JSON.stringify(Lt))],this.posX+this.margin[3],-Hi+Ut+this.ctx.prevPageLastElemOffset)[0];A.scale>=.01&&(at=this.pdf.internal.getFontSize(),this.pdf.setFontSize(at*A.scale),pt=this.lineWidth,this.lineWidth=pt*A.scale);var Fi=this.autoPaging!=="text";if(Fi||mi.y+mi.h<=Qt){if(Fi||mi.y>=Ut&&mi.x<=yi){var qt=Fi?A.text:this.pdf.splitTextToSize(A.text,A.maxWidth||yi-mi.x)[0],Yr=D([JSON.parse(JSON.stringify(Pt))],this.posX+this.margin[3],-Hi+Ut+this.ctx.prevPageLastElemOffset)[0],Zi=Fi&&(Ft>Wt||Ft<gt)&&E.call(this);Zi&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ti,ti,null).clip().discardPath()),this.pdf.text(qt,Yr.x,Yr.y,{angle:A.angle,align:V,renderingMode:A.renderingMode}),Zi&&this.pdf.restoreGraphicsState()}}else mi.y<Qt&&(this.ctx.prevPageLastElemOffset+=Qt-mi.y);A.scale>=.01&&(this.pdf.setFontSize(at),this.lineWidth=pt)}else A.scale>=.01&&(at=this.pdf.internal.getFontSize(),this.pdf.setFontSize(at*A.scale),pt=this.lineWidth,this.lineWidth=pt*A.scale),this.pdf.text(A.text,Ee.x+this.posX,Ee.y+this.posY,{angle:A.angle,align:V,renderingMode:A.renderingMode,maxWidth:A.maxWidth}),A.scale>=.01&&(this.pdf.setFontSize(at),this.lineWidth=pt)},ve=function(A,V,N,j){N=N||0,j=j||0,this.pdf.internal.out(e(A+N)+" "+r(V+j)+" l")},_e=function(A,V,N){return this.pdf.lines(A,V,N,null,null)},Fe=function(A,V,N,j,se,Ee,Ie,Te){this.pdf.internal.out([t(n(N+A)),t(a(j+V)),t(n(se+A)),t(a(Ee+V)),t(n(Ie+A)),t(a(Te+V)),"c"].join(" "))},ke=function(A,V,N,j){for(var se=2*Math.PI,Ee=Math.PI/2;V>N;)V-=se;var Ie=Math.abs(N-V);Ie<se&&j&&(Ie=se-Ie);for(var Te=[],Re=j?-1:1,at=V;Ie>1e-5;){var pt=at+Re*Math.min(Ie,Ee);Te.push(Ye.call(this,A,at,pt)),Ie-=Math.abs(pt-at),at=pt}return Te},Ye=function(A,V,N){var j=(N-V)/2,se=A*Math.cos(j),Ee=A*Math.sin(j),Ie=se,Te=-Ee,Re=Ie*Ie+Te*Te,at=Re+Ie*se+Te*Ee,pt=4/3*(Math.sqrt(2*Re*at)-at)/(Ie*Ee-Te*se),Pt=Ie-pt*Te,Lt=Te+pt*Ie,Qe=Pt,ge=-Lt,mt=j+V,Wt=Math.cos(mt),gt=Math.sin(mt);return{x1:A*Math.cos(V),y1:A*Math.sin(V),x2:Pt*Wt-Lt*gt,y2:Pt*gt+Lt*Wt,x3:Qe*Wt-ge*gt,y3:Qe*gt+ge*Wt,x4:A*Math.cos(N),y4:A*Math.sin(N)}},Me=function(A){return 180*A/Math.PI},je=function(A,V,N,j,se,Ee){var Ie=A+.5*(N-A),Te=V+.5*(j-V),Re=se+.5*(N-se),at=Ee+.5*(j-Ee),pt=Math.min(A,se,Ie,Re),Pt=Math.max(A,se,Ie,Re),Lt=Math.min(V,Ee,Te,at),Qe=Math.max(V,Ee,Te,at);return new d(pt,Lt,Pt-pt,Qe-Lt)},Ze=function(A,V,N,j,se,Ee,Ie,Te){var Re,at,pt,Pt,Lt,Qe,ge,mt,Wt,gt,Ft,Ut,Vt,Qt,ti=N-A,yi=j-V,Ti=se-N,Hi=Ee-j,Gi=Ie-se,mi=Te-Ee;for(at=0;at<41;at++)Wt=(ge=(pt=A+(Re=at/40)*ti)+Re*((Lt=N+Re*Ti)-pt))+Re*(Lt+Re*(se+Re*Gi-Lt)-ge),gt=(mt=(Pt=V+Re*yi)+Re*((Qe=j+Re*Hi)-Pt))+Re*(Qe+Re*(Ee+Re*mi-Qe)-mt),at==0?(Ft=Wt,Ut=gt,Vt=Wt,Qt=gt):(Ft=Math.min(Ft,Wt),Ut=Math.min(Ut,gt),Vt=Math.max(Vt,Wt),Qt=Math.max(Qt,gt));return new d(Math.round(Ft),Math.round(Ut),Math.round(Vt-Ft),Math.round(Qt-Ut))},wt=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var A,V,N=(A=this.ctx.lineDash,V=this.ctx.lineDashOffset,JSON.stringify({lineDash:A,lineDashOffset:V}));this.prevLineDash!==N&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=N)}}})(hi.API),function(i){var t=function(a){var o,d,u,p,g,y,w,x,T,E;for(/[^\x00-\xFF]/.test(a),d=[],u=0,p=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;p>u;u+=4)(g=(a.charCodeAt(u)<<24)+(a.charCodeAt(u+1)<<16)+(a.charCodeAt(u+2)<<8)+a.charCodeAt(u+3))!==0?(y=(g=((g=((g=((g=(g-(E=g%85))/85)-(T=g%85))/85)-(x=g%85))/85)-(w=g%85))/85)%85,d.push(y+33,w+33,x+33,T+33,E+33)):d.push(122);return function(k,F){for(var D=F;D>0;D--)k.pop()}(d,o.length),String.fromCharCode.apply(String,d)+"~>"},e=function(a){var o,d,u,p,g,y=String,w="length",x=255,T="charCodeAt",E="slice",k="replace";for(a[E](-2),a=a[E](0,-2)[k](/\s/g,"")[k]("z","!!!!!"),u=[],p=0,g=(a+=o="uuuuu"[E](a[w]%5||5))[w];g>p;p+=5)d=52200625*(a[T](p)-33)+614125*(a[T](p+1)-33)+7225*(a[T](p+2)-33)+85*(a[T](p+3)-33)+(a[T](p+4)-33),u.push(x&d>>24,x&d>>16,x&d>>8,x&d);return function(F,D){for(var X=D;X>0;X--)F.pop()}(u,o[w]),y.fromCharCode.apply(y,u)},r=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var d="",u=0;u<a.length;u+=2)d+=String.fromCharCode("0x"+(a[u]+a[u+1]));return d},n=function(a){for(var o=new Uint8Array(a.length),d=a.length;d--;)o[d]=a.charCodeAt(d);return a=(o=Em(o)).reduce(function(u,p){return u+String.fromCharCode(p)},"")};i.processDataByFilters=function(a,o){var d=0,u=a||"",p=[];for(typeof(o=o||[])=="string"&&(o=[o]),d=0;d<o.length;d+=1)switch(o[d]){case"ASCII85Decode":case"/ASCII85Decode":u=e(u),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=r(u),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=u.split("").map(function(g){return("0"+g.charCodeAt().toString(16)).slice(-2)}).join("")+">",p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=n(u),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[d]+'" is not implemented')}return{data:u,reverseChain:p.reverse().join(" ")}}}(hi.API),function(i){i.loadFile=function(t,e,r){return function(n,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var d=void 0;try{d=function(u,p,g){var y=new XMLHttpRequest,w=0,x=function(T){var E=T.length,k=[],F=String.fromCharCode;for(w=0;w<E;w+=1)k.push(F(255&T.charCodeAt(w)));return k.join("")};if(y.open("GET",u,!p),y.overrideMimeType("text/plain; charset=x-user-defined"),p===!1&&(y.onload=function(){y.status===200?g(x(this.responseText)):g(void 0)}),y.send(null),p&&y.status===200)return x(y.responseText)}(n,a,o)}catch{}return d}(t,e,r)},i.loadImageFile=i.loadFile}(hi.API),function(i){function t(){return(wi.html2canvas?Promise.resolve(wi.html2canvas):import("./chunk-SWBZ2T66.js")).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function e(){return(wi.DOMPurify?Promise.resolve(wi.DOMPurify):import("./chunk-TJOU6LZ6.js")).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var d=Ar(o);return d==="undefined"?"undefined":d==="string"||o instanceof String?"string":d==="number"||o instanceof Number?"number":d==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":d==="object"?"object":"unknown"},n=function(o,d){var u=document.createElement(o);for(var p in d.className&&(u.className=d.className),d.innerHTML&&d.dompurify&&(u.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)u.style[p]=d.style[p];return u},a=function o(d){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),p=o.convert(Promise.resolve(),u);return p=(p=p.setProgress(1,o,1,[o])).set(d)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,d){return o.__proto__=d||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,d){return this.then(function(){switch(d=d||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(e).then(function(u){return this.set({src:n("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=function u(p,g){for(var y=p.nodeType===3?document.createTextNode(p.nodeValue):p.cloneNode(!1),w=p.firstChild;w;w=w.nextSibling)g!==!0&&w.nodeType===1&&w.nodeName==="SCRIPT"||y.appendChild(u(w,g));return p.nodeType===1&&(p.nodeName==="CANVAS"?(y.width=p.width,y.height=p.height,y.getContext("2d").drawImage(p,0,0)):p.nodeName!=="TEXTAREA"&&p.nodeName!=="SELECT"||(y.value=p.value),y.addEventListener("load",function(){y.scrollTop=p.scrollTop,y.scrollLeft=p.scrollLeft},!0)),y}(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=n("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=n("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(n("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(d){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,d(this.prop.container,u)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(d){var u=this.opt.jsPDF,p=this.opt.fontFaces,g=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:g,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=p,p)for(var w=0;w<p.length;++w){var x=p[w],T=x.src.find(function(E){return E.format==="truetype"});T&&u.addFont(T.url,x.ref.name,x.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,u.context2d.save(!0),d(this.prop.container,y)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,d,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,d):this.outputPdf(o,d)},a.prototype.outputPdf=function(o,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,d)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(r(o)!=="object")return this;var d=Object.keys(o||{}).map(function(u){if(u in a.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(d)})},a.prototype.get=function(o,d){return this.then(function(){var u=o in a.template.prop?this.prop[o]:this.opt[o];return d?d(u):u})},a.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function d(u,p){return Math.floor(u*p/72*96)}return this.then(function(){(o=o||hi.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:d(o.inner.width,o.k),height:d(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,d,u,p){return o!=null&&(this.progress.val=o),d!=null&&(this.progress.state=d),u!=null&&(this.progress.n=u),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,d,u,p){return this.setProgress(o?this.progress.val+o:null,d||null,u?this.progress.n+u:null,p?this.progress.stack.concat(p):null)},a.prototype.then=function(o,d){var u=this;return this.thenCore(o,d,function(p,g){return u.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(y){return u.updateProgress(null,p),y}).then(p,g).then(function(y){return u.updateProgress(1),y})})},a.prototype.thenCore=function(o,d,u){u=u||Promise.prototype.then,o&&(o=o.bind(this)),d&&(d=d.bind(this));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),g=u.call(p,o,d);return a.convert(g,this.__proto__)},a.prototype.thenExternal=function(o,d){return Promise.prototype.then.call(this,o,d)},a.prototype.thenList=function(o){var d=this;return o.forEach(function(u){d=d.thenCore(u)}),d},a.prototype.catch=function(o){o&&(o=o.bind(this));var d=Promise.prototype.catch.call(this,o);return a.convert(d,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,hi.getPageSize=function(o,d,u){if(Ar(o)==="object"){var p=o;o=p.orientation,d=p.unit||d,u=p.format||u}d=d||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var g,y=(""+u).toLowerCase(),w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":g=1;break;case"mm":g=72/25.4;break;case"cm":g=72/2.54;break;case"in":g=72;break;case"px":g=.75;break;case"pc":case"em":g=12;break;case"ex":g=6;break;default:throw"Invalid unit: "+d}var x,T=0,E=0;if(w.hasOwnProperty(y))T=w[y][1]/g,E=w[y][0]/g;else try{T=u[1],E=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",E>T&&(x=E,E=T,T=x);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",T>E&&(x=E,E=T,T=x)}return{width:E,height:T,unit:d,k:g,orientation:o}},i.html=function(o,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(n_):null;var u=new a(d);return d.worker?u:u.from(o).doCallback()}}(hi.API),hi.API.addJS=function(i){return Ew=i,this.internal.events.subscribe("postPutResources",function(){Tm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Tm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Sw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ew+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Tm!==void 0&&Sw!==void 0&&this.internal.out("/Names <</JavaScript "+Tm+" 0 R>>")}),this},function(i){var t;i.events.push(["postPutResources",function(){var e=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n=e.outline.render().split(/\r\n/),a=0;a<n.length;a++){var o=n[a],d=r.exec(o);if(d!=null){var u=d[1];e.internal.newObjectDeferredBegin(u,!1)}e.internal.write(o)}if(this.outline.createNamedDestinations){var p=this.internal.pages.length,g=[];for(a=0;a<p;a++){var y=e.internal.newObject();g.push(y);var w=e.internal.getPageInfo(a+1);e.internal.write("<< /D["+w.objId+" 0 R /XYZ null null null]>> endobj")}var x=e.internal.newObject();for(e.internal.write("<< /Names [ "),a=0;a<g.length;a++)e.internal.write("(page_"+(a+1)+")"+g[a]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+x+" 0 R"),e.internal.write(">>","endobj")}}]),i.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),i.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(r,n,a){var o={title:n,options:a,children:[]};return r==null&&(r=this.root),r.children.push(o),o},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(r){r.id=e.internal.newObjectDeferred();for(var n=0;n<r.children.length;n++)this.genIds_r(r.children[n])},e.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},e.outline.renderItems=function(r){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var o=r.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var d=this.count=this.count_r({count:0},o);if(d>0&&this.line("/Count "+d),o.options&&o.options.pageNumber){var u=e.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var p=0;p<r.children.length;p++)this.renderItems(r.children[p])},e.outline.line=function(r){this.ctx.val+=r+`\r
`},e.outline.makeRef=function(r){return r.id+" 0 R"},e.outline.makeString=function(r){return"("+e.internal.pdfEscape(r)+")"},e.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(r,n){for(var a=0;a<n.children.length;a++)r.count++,this.count_r(r,n.children[a]);return r.count}}])}(hi.API),function(i){var t=[192,193,194,195,196,197,198,199];i.processJPEG=function(e,r,n,a,o,d){var u,p=this.decode.DCT_DECODE,g=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=o||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(u=function(y){for(var w,x=256*y.charCodeAt(4)+y.charCodeAt(5),T=y.length,E={width:0,height:0,numcomponents:1},k=4;k<T;k+=2){if(k+=x,t.indexOf(y.charCodeAt(k+1))!==-1){w=256*y.charCodeAt(k+5)+y.charCodeAt(k+6),E={width:256*y.charCodeAt(k+7)+y.charCodeAt(k+8),height:w,numcomponents:y.charCodeAt(k+9)};break}x=256*y.charCodeAt(k+2)+y.charCodeAt(k+3)}return E}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:d=this.color_spaces.DEVICE_GRAY;break;case 4:d=this.color_spaces.DEVICE_CMYK;break;case 3:d=this.color_spaces.DEVICE_RGB}g={data:e,width:u.width,height:u.height,colorSpace:d,bitsPerComponent:8,filter:p,index:r,alias:n}}return g}}(hi.API);var qu,km,Pw,Mw,Tw,s9=function(){var i,t,e;function r(a){var o,d,u,p,g,y,w,x,T,E,k,F,D,X;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},y=null;;){switch(o=this.readUInt32(),T=function(){var he,we;for(we=[],he=0;he<4;++he)we.push(String.fromCharCode(this.data[this.pos++]));return we}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":y&&this.animation.frames.push(y),this.pos+=4,y={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},g=this.readUInt16(),p=this.readUInt16()||100,y.delay=1e3*g/p,y.disposeOp=this.data[this.pos++],y.blendOp=this.data[this.pos++],y.data=[];break;case"IDAT":case"fdAT":for(T==="fdAT"&&(this.pos+=4,o-=4),a=y?.data||this.imgData,F=0;0<=o?F<o:F>o;0<=o?++F:--F)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(u=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>u)throw new Error("More transparent colors than palette size");if((E=u-this.transparency.indexed.length)>0)for(D=0;0<=E?D<E:D>E;0<=E?++D:--D)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":w=(k=this.read(o)).indexOf(0),x=String.fromCharCode.apply(String,k.slice(0,w)),this.text[x]=String.fromCharCode.apply(String,k.slice(w+1));break;case"IEND":return y&&this.animation.frames.push(y),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=(X=this.colorType)===4||X===6,d=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*d,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(a){var o,d;for(d=[],o=0;0<=a?o<a:o>a;0<=a?++o:--o)d.push(this.data[this.pos++]);return d},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(a){var o=this.pixelBitlength/8,d=new Uint8Array(this.width*this.height*o),u=0,p=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function g(y,w,x,T){var E,k,F,D,X,he,we,Be,re,ie,le,Ce,q,H,ve,_e,Fe,ke,Ye,Me,je,Ze=Math.ceil((p.width-y)/x),wt=Math.ceil((p.height-w)/T),A=p.width==Ze&&p.height==wt;for(H=o*Ze,Ce=A?d:new Uint8Array(H*wt),he=a.length,q=0,k=0;q<wt&&u<he;){switch(a[u++]){case 0:for(D=Fe=0;Fe<H;D=Fe+=1)Ce[k++]=a[u++];break;case 1:for(D=ke=0;ke<H;D=ke+=1)E=a[u++],X=D<o?0:Ce[k-o],Ce[k++]=(E+X)%256;break;case 2:for(D=Ye=0;Ye<H;D=Ye+=1)E=a[u++],F=(D-D%o)/o,ve=q&&Ce[(q-1)*H+F*o+D%o],Ce[k++]=(ve+E)%256;break;case 3:for(D=Me=0;Me<H;D=Me+=1)E=a[u++],F=(D-D%o)/o,X=D<o?0:Ce[k-o],ve=q&&Ce[(q-1)*H+F*o+D%o],Ce[k++]=(E+Math.floor((X+ve)/2))%256;break;case 4:for(D=je=0;je<H;D=je+=1)E=a[u++],F=(D-D%o)/o,X=D<o?0:Ce[k-o],q===0?ve=_e=0:(ve=Ce[(q-1)*H+F*o+D%o],_e=F&&Ce[(q-1)*H+(F-1)*o+D%o]),we=X+ve-_e,Be=Math.abs(we-X),ie=Math.abs(we-ve),le=Math.abs(we-_e),re=Be<=ie&&Be<=le?X:ie<=le?ve:_e,Ce[k++]=(E+re)%256;break;default:throw new Error("Invalid filter algorithm: "+a[u-1])}if(!A){var V=((w+q*T)*p.width+y)*o,N=q*H;for(D=0;D<Ze;D+=1){for(var j=0;j<o;j+=1)d[V++]=Ce[N++];V+=(x-1)*o}}q++}}return a=hw(a),p.interlaceMethod==1?(g(0,0,8,8),g(4,0,8,8),g(0,4,4,8),g(2,0,4,4),g(0,2,2,4),g(1,0,2,2),g(0,1,1,2)):g(0,0,1,1),d},r.prototype.decodePalette=function(){var a,o,d,u,p,g,y,w,x;for(d=this.palette,g=this.transparency.indexed||[],p=new Uint8Array((g.length||0)+d.length),u=0,a=0,o=y=0,w=d.length;y<w;o=y+=3)p[u++]=d[o],p[u++]=d[o+1],p[u++]=d[o+2],p[u++]=(x=g[a++])!=null?x:255;return p},r.prototype.copyToImageData=function(a,o){var d,u,p,g,y,w,x,T,E,k,F;if(u=this.colors,E=null,d=this.hasAlphaChannel,this.palette.length&&(E=(F=this._decodedPalette)!=null?F:this._decodedPalette=this.decodePalette(),u=4,d=!0),T=(p=a.data||a).length,y=E||o,g=w=0,u===1)for(;g<T;)x=E?4*o[g/4]:w,k=y[x++],p[g++]=k,p[g++]=k,p[g++]=k,p[g++]=d?y[x++]:255,w=x;else for(;g<T;)x=E?4*o[g/4]:w,p[g++]=y[x++],p[g++]=y[x++],p[g++]=y[x++],p[g++]=d?y[x++]:255,w=x},r.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var n=function(){if(Object.prototype.toString.call(wi)==="[object Window]"){try{t=wi.document.createElement("canvas"),e=t.getContext("2d")}catch{return!1}return!0}return!1};return n(),i=function(a){var o;if(n()===!0)return e.width=a.width,e.height=a.height,e.clearRect(0,0,a.width,a.height),e.putImageData(a,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(a){var o,d,u,p,g,y,w,x;if(this.animation){for(x=[],d=g=0,y=(w=this.animation.frames).length;g<y;d=++g)o=w[d],u=a.createImageData(o.width,o.height),p=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(u,p),o.imageData=u,x.push(o.image=i(u));return x}},r.prototype.renderFrame=function(a,o){var d,u,p;return d=(u=this.animation.frames)[o],p=u[o-1],o===0&&a.clearRect(0,0,this.width,this.height),p?.disposeOp===1?a.clearRect(p.xOffset,p.yOffset,p.width,p.height):p?.disposeOp===2&&a.putImageData(p.imageData,p.xOffset,p.yOffset),d.blendOp===0&&a.clearRect(d.xOffset,d.yOffset,d.width,d.height),a.drawImage(d.image,d.xOffset,d.yOffset)},r.prototype.animate=function(a){var o,d,u,p,g,y,w=this;return d=0,y=this.animation,p=y.numFrames,u=y.frames,g=y.numPlays,(o=function(){var x,T;if(x=d++%p,T=u[x],w.renderFrame(a,x),p>1&&d/p<g)return w.animation._timeout=setTimeout(o,T.delay)})()},r.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},r.prototype.render=function(a){var o,d;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,o=a.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(d=o.createImageData(this.width,this.height),this.copyToImageData(d,this.decodePixels()),o.putImageData(d,0,0))},r}();function l9(i){var t=0;if(i[t++]!==71||i[t++]!==73||i[t++]!==70||i[t++]!==56||(i[t++]+1&253)!=56||i[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=i[t++]|i[t++]<<8,r=i[t++]|i[t++]<<8,n=i[t++],a=n>>7,o=1<<(7&n)+1;i[t++],i[t++];var d=null,u=null;a&&(d=t,u=o,t+=3*o);var p=!0,g=[],y=0,w=null,x=0,T=null;for(this.width=e,this.height=r;p&&t<i.length;)switch(i[t++]){case 33:switch(i[t++]){case 255:if(i[t]!==11||i[t+1]==78&&i[t+2]==69&&i[t+3]==84&&i[t+4]==83&&i[t+5]==67&&i[t+6]==65&&i[t+7]==80&&i[t+8]==69&&i[t+9]==50&&i[t+10]==46&&i[t+11]==48&&i[t+12]==3&&i[t+13]==1&&i[t+16]==0)t+=14,T=i[t++]|i[t++]<<8,t++;else for(t+=12;;){if(!((q=i[t++])>=0))throw Error("Invalid block size");if(q===0)break;t+=q}break;case 249:if(i[t++]!==4||i[t+4]!==0)throw new Error("Invalid graphics extension block.");var E=i[t++];y=i[t++]|i[t++]<<8,w=i[t++],!(1&E)&&(w=null),x=E>>2&7,t++;break;case 254:for(;;){if(!((q=i[t++])>=0))throw Error("Invalid block size");if(q===0)break;t+=q}break;default:throw new Error("Unknown graphic control label: 0x"+i[t-1].toString(16))}break;case 44:var k=i[t++]|i[t++]<<8,F=i[t++]|i[t++]<<8,D=i[t++]|i[t++]<<8,X=i[t++]|i[t++]<<8,he=i[t++],we=he>>6&1,Be=1<<(7&he)+1,re=d,ie=u,le=!1;he>>7&&(le=!0,re=t,ie=Be,t+=3*Be);var Ce=t;for(t++;;){var q;if(!((q=i[t++])>=0))throw Error("Invalid block size");if(q===0)break;t+=q}g.push({x:k,y:F,width:D,height:X,has_local_palette:le,palette_offset:re,palette_size:ie,data_offset:Ce,data_length:t-Ce,transparent_index:w,interlaced:!!we,delay:y,disposal:x});break;case 59:p=!1;break;default:throw new Error("Unknown gif block: 0x"+i[t-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return T},this.frameInfo=function(H){if(H<0||H>=g.length)throw new Error("Frame index out of range.");return g[H]},this.decodeAndBlitFrameBGRA=function(H,ve){var _e=this.frameInfo(H),Fe=_e.width*_e.height,ke=new Uint8Array(Fe);kw(i,_e.data_offset,ke,Fe);var Ye=_e.palette_offset,Me=_e.transparent_index;Me===null&&(Me=256);var je=_e.width,Ze=e-je,wt=je,A=4*(_e.y*e+_e.x),V=4*((_e.y+_e.height)*e+_e.x),N=A,j=4*Ze;_e.interlaced===!0&&(j+=4*e*7);for(var se=8,Ee=0,Ie=ke.length;Ee<Ie;++Ee){var Te=ke[Ee];if(wt===0&&(wt=je,(N+=j)>=V&&(j=4*Ze+4*e*(se-1),N=A+(je+Ze)*(se<<1),se>>=1)),Te===Me)N+=4;else{var Re=i[Ye+3*Te],at=i[Ye+3*Te+1],pt=i[Ye+3*Te+2];ve[N++]=pt,ve[N++]=at,ve[N++]=Re,ve[N++]=255}--wt}},this.decodeAndBlitFrameRGBA=function(H,ve){var _e=this.frameInfo(H),Fe=_e.width*_e.height,ke=new Uint8Array(Fe);kw(i,_e.data_offset,ke,Fe);var Ye=_e.palette_offset,Me=_e.transparent_index;Me===null&&(Me=256);var je=_e.width,Ze=e-je,wt=je,A=4*(_e.y*e+_e.x),V=4*((_e.y+_e.height)*e+_e.x),N=A,j=4*Ze;_e.interlaced===!0&&(j+=4*e*7);for(var se=8,Ee=0,Ie=ke.length;Ee<Ie;++Ee){var Te=ke[Ee];if(wt===0&&(wt=je,(N+=j)>=V&&(j=4*Ze+4*e*(se-1),N=A+(je+Ze)*(se<<1),se>>=1)),Te===Me)N+=4;else{var Re=i[Ye+3*Te],at=i[Ye+3*Te+1],pt=i[Ye+3*Te+2];ve[N++]=Re,ve[N++]=at,ve[N++]=pt,ve[N++]=255}--wt}}}function kw(i,t,e,r){for(var n=i[t++],a=1<<n,o=a+1,d=o+1,u=n+1,p=(1<<u)-1,g=0,y=0,w=0,x=i[t++],T=new Int32Array(4096),E=null;;){for(;g<16&&x!==0;)y|=i[t++]<<g,g+=8,x===1?x=i[t++]:--x;if(g<u)break;var k=y&p;if(y>>=u,g-=u,k!==a){if(k===o)break;for(var F=k<d?k:E,D=0,X=F;X>a;)X=T[X]>>8,++D;var he=X;if(w+D+(F!==k?1:0)>r)return void Rr.log("Warning, gif stream longer than expected.");e[w++]=he;var we=w+=D;for(F!==k&&(e[w++]=he),X=F;D--;)X=T[X],e[--we]=255&X,X>>=8;E!==null&&d<4096&&(T[d++]=E<<8|he,d>=p+1&&u<12&&(++u,p=p<<1|1)),E=k}else d=o+1,p=(1<<(u=n+1))-1,E=null}return w!==r&&Rr.log("Warning, gif stream shorter than expected."),e}function Jv(i){var t,e,r,n,a,o=Math.floor,d=new Array(64),u=new Array(64),p=new Array(64),g=new Array(64),y=new Array(65535),w=new Array(65535),x=new Array(64),T=new Array(64),E=[],k=0,F=7,D=new Array(64),X=new Array(64),he=new Array(64),we=new Array(256),Be=new Array(2048),re=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],ie=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],le=[0,1,2,3,4,5,6,7,8,9,10,11],Ce=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],q=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],H=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ve=[0,1,2,3,4,5,6,7,8,9,10,11],_e=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Fe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ke(A,V){for(var N=0,j=0,se=new Array,Ee=1;Ee<=16;Ee++){for(var Ie=1;Ie<=A[Ee];Ie++)se[V[j]]=[],se[V[j]][0]=N,se[V[j]][1]=Ee,j++,N++;N*=2}return se}function Ye(A){for(var V=A[0],N=A[1]-1;N>=0;)V&1<<N&&(k|=1<<F),N--,--F<0&&(k==255?(Me(255),Me(0)):Me(k),F=7,k=0)}function Me(A){E.push(A)}function je(A){Me(A>>8&255),Me(255&A)}function Ze(A,V,N,j,se){for(var Ee,Ie=se[0],Te=se[240],Re=function(gt,Ft){var Ut,Vt,Qt,ti,yi,Ti,Hi,Gi,mi,Fi,qt=0;for(mi=0;mi<8;++mi){Ut=gt[qt],Vt=gt[qt+1],Qt=gt[qt+2],ti=gt[qt+3],yi=gt[qt+4],Ti=gt[qt+5],Hi=gt[qt+6];var Yr=Ut+(Gi=gt[qt+7]),Zi=Ut-Gi,Qn=Vt+Hi,er=Vt-Hi,Er=Qt+Ti,Da=Qt-Ti,tr=ti+yi,ro=ti-yi,Pr=Yr+tr,ba=Yr-tr,no=Qn+Er,vr=Qn-Er;gt[qt]=Pr+no,gt[qt+4]=Pr-no;var Si=.707106781*(vr+ba);gt[qt+2]=ba+Si,gt[qt+6]=ba-Si;var ar=.382683433*((Pr=ro+Da)-(vr=er+Zi)),Yo=.5411961*Pr+ar,Kr=1.306562965*vr+ar,Ra=.707106781*(no=Da+er),Ba=Zi+Ra,fi=Zi-Ra;gt[qt+5]=fi+Yo,gt[qt+3]=fi-Yo,gt[qt+1]=Ba+Kr,gt[qt+7]=Ba-Kr,qt+=8}for(qt=0,mi=0;mi<8;++mi){Ut=gt[qt],Vt=gt[qt+8],Qt=gt[qt+16],ti=gt[qt+24],yi=gt[qt+32],Ti=gt[qt+40],Hi=gt[qt+48];var xa=Ut+(Gi=gt[qt+56]),Vr=Ut-Gi,$t=Vt+Hi,Hr=Vt-Hi,jr=Qt+Ti,G=Qt-Ti,fe=ti+yi,ne=ti-yi,oe=xa+fe,de=xa-fe,pe=$t+jr,ze=$t-jr;gt[qt]=oe+pe,gt[qt+32]=oe-pe;var et=.707106781*(ze+de);gt[qt+16]=de+et,gt[qt+48]=de-et;var We=.382683433*((oe=ne+G)-(ze=Hr+Vr)),He=.5411961*oe+We,Xe=1.306562965*ze+We,yt=.707106781*(pe=G+Hr),At=Vr+yt,Zt=Vr-yt;gt[qt+40]=Zt+He,gt[qt+24]=Zt-He,gt[qt+8]=At+Xe,gt[qt+56]=At-Xe,qt++}for(mi=0;mi<64;++mi)Fi=gt[mi]*Ft[mi],x[mi]=Fi>0?Fi+.5|0:Fi-.5|0;return x}(A,V),at=0;at<64;++at)T[re[at]]=Re[at];var pt=T[0]-N;N=T[0],pt==0?Ye(j[0]):(Ye(j[w[Ee=32767+pt]]),Ye(y[Ee]));for(var Pt=63;Pt>0&&T[Pt]==0;)Pt--;if(Pt==0)return Ye(Ie),N;for(var Lt,Qe=1;Qe<=Pt;){for(var ge=Qe;T[Qe]==0&&Qe<=Pt;)++Qe;var mt=Qe-ge;if(mt>=16){Lt=mt>>4;for(var Wt=1;Wt<=Lt;++Wt)Ye(Te);mt&=15}Ee=32767+T[Qe],Ye(se[(mt<<4)+w[Ee]]),Ye(y[Ee]),Qe++}return Pt!=63&&Ye(Ie),N}function wt(A){A=Math.min(Math.max(A,1),100),a!=A&&(function(V){for(var N=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],j=0;j<64;j++){var se=o((N[j]*V+50)/100);se=Math.min(Math.max(se,1),255),d[re[j]]=se}for(var Ee=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ie=0;Ie<64;Ie++){var Te=o((Ee[Ie]*V+50)/100);Te=Math.min(Math.max(Te,1),255),u[re[Ie]]=Te}for(var Re=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],at=0,pt=0;pt<8;pt++)for(var Pt=0;Pt<8;Pt++)p[at]=1/(d[re[at]]*Re[pt]*Re[Pt]*8),g[at]=1/(u[re[at]]*Re[pt]*Re[Pt]*8),at++}(A<50?Math.floor(5e3/A):Math.floor(200-2*A)),a=A)}this.encode=function(A,V){V&&wt(V),E=new Array,k=0,F=7,je(65496),je(65504),je(16),Me(74),Me(70),Me(73),Me(70),Me(0),Me(1),Me(1),Me(0),je(1),je(1),Me(0),Me(0),function(){je(65499),je(132),Me(0);for(var Vt=0;Vt<64;Vt++)Me(d[Vt]);Me(1);for(var Qt=0;Qt<64;Qt++)Me(u[Qt])}(),function(Vt,Qt){je(65472),je(17),Me(8),je(Qt),je(Vt),Me(3),Me(1),Me(17),Me(0),Me(2),Me(17),Me(1),Me(3),Me(17),Me(1)}(A.width,A.height),function(){je(65476),je(418),Me(0);for(var Vt=0;Vt<16;Vt++)Me(ie[Vt+1]);for(var Qt=0;Qt<=11;Qt++)Me(le[Qt]);Me(16);for(var ti=0;ti<16;ti++)Me(Ce[ti+1]);for(var yi=0;yi<=161;yi++)Me(q[yi]);Me(1);for(var Ti=0;Ti<16;Ti++)Me(H[Ti+1]);for(var Hi=0;Hi<=11;Hi++)Me(ve[Hi]);Me(17);for(var Gi=0;Gi<16;Gi++)Me(_e[Gi+1]);for(var mi=0;mi<=161;mi++)Me(Fe[mi])}(),je(65498),je(12),Me(3),Me(1),Me(0),Me(2),Me(17),Me(3),Me(17),Me(0),Me(63),Me(0);var N=0,j=0,se=0;k=0,F=7,this.encode.displayName="_encode_";for(var Ee,Ie,Te,Re,at,pt,Pt,Lt,Qe,ge=A.data,mt=A.width,Wt=A.height,gt=4*mt,Ft=0;Ft<Wt;){for(Ee=0;Ee<gt;){for(at=gt*Ft+Ee,Pt=-1,Lt=0,Qe=0;Qe<64;Qe++)pt=at+(Lt=Qe>>3)*gt+(Pt=4*(7&Qe)),Ft+Lt>=Wt&&(pt-=gt*(Ft+1+Lt-Wt)),Ee+Pt>=gt&&(pt-=Ee+Pt-gt+4),Ie=ge[pt++],Te=ge[pt++],Re=ge[pt++],D[Qe]=(Be[Ie]+Be[Te+256>>0]+Be[Re+512>>0]>>16)-128,X[Qe]=(Be[Ie+768>>0]+Be[Te+1024>>0]+Be[Re+1280>>0]>>16)-128,he[Qe]=(Be[Ie+1280>>0]+Be[Te+1536>>0]+Be[Re+1792>>0]>>16)-128;N=Ze(D,p,N,t,r),j=Ze(X,g,j,e,n),se=Ze(he,g,se,e,n),Ee+=32}Ft+=8}if(F>=0){var Ut=[];Ut[1]=F+1,Ut[0]=(1<<F+1)-1,Ye(Ut)}return je(65497),new Uint8Array(E)},i=i||50,function(){for(var A=String.fromCharCode,V=0;V<256;V++)we[V]=A(V)}(),t=ke(ie,le),e=ke(H,ve),r=ke(Ce,q),n=ke(_e,Fe),function(){for(var A=1,V=2,N=1;N<=15;N++){for(var j=A;j<V;j++)w[32767+j]=N,y[32767+j]=[],y[32767+j][1]=N,y[32767+j][0]=j;for(var se=-(V-1);se<=-A;se++)w[32767+se]=N,y[32767+se]=[],y[32767+se][1]=N,y[32767+se][0]=V-1+se;A<<=1,V<<=1}}(),function(){for(var A=0;A<256;A++)Be[A]=19595*A,Be[A+256>>0]=38470*A,Be[A+512>>0]=7471*A+32768,Be[A+768>>0]=-11059*A,Be[A+1024>>0]=-21709*A,Be[A+1280>>0]=32768*A+8421375,Be[A+1536>>0]=-27439*A,Be[A+1792>>0]=-5329*A}(),wt(i)}function ys(i,t){if(this.pos=0,this.buffer=i,this.datav=new DataView(i.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Aw(i){function t(ie){if(!ie)throw Error("assert :P")}function e(ie,le,Ce){for(var q=0;4>q;q++)if(ie[le+q]!=Ce.charCodeAt(q))return!0;return!1}function r(ie,le,Ce,q,H){for(var ve=0;ve<H;ve++)ie[le+ve]=Ce[q+ve]}function n(ie,le,Ce,q){for(var H=0;H<q;H++)ie[le+H]=Ce}function a(ie){return new Int32Array(ie)}function o(ie,le){for(var Ce=[],q=0;q<ie;q++)Ce.push(new le);return Ce}function d(ie,le){var Ce=[];return function q(H,ve,_e){for(var Fe=_e[ve],ke=0;ke<Fe&&(H.push(_e.length>ve+1?[]:new le),!(_e.length<ve+1));ke++)q(H[ke],ve+1,_e)}(Ce,0,ie),Ce}var u=function(){var ie=this;function le(m,b){for(var P=1<<b-1>>>0;m&P;)P>>>=1;return P?(m&P-1)+P:m}function Ce(m,b,P,O,B){t(!(O%P));do m[b+(O-=P)]=B;while(0<O)}function q(m,b,P,O,B){if(t(2328>=B),512>=B)var Z=a(512);else if((Z=a(B))==null)return 0;return function(Y,Q,te,ce,Ae,Ge){var $e,De,ft=Q,rt=1<<te,Oe=a(16),Ne=a(16);for(t(Ae!=0),t(ce!=null),t(Y!=null),t(0<te),De=0;De<Ae;++De){if(15<ce[De])return 0;++Oe[ce[De]]}if(Oe[0]==Ae)return 0;for(Ne[1]=0,$e=1;15>$e;++$e){if(Oe[$e]>1<<$e)return 0;Ne[$e+1]=Ne[$e]+Oe[$e]}for(De=0;De<Ae;++De)$e=ce[De],0<ce[De]&&(Ge[Ne[$e]++]=De);if(Ne[15]==1)return(ce=new H).g=0,ce.value=Ge[0],Ce(Y,ft,1,rt,ce),rt;var lt,xt=-1,dt=rt-1,Yt=0,jt=1,gi=1,Ht=1<<te;for(De=0,$e=1,Ae=2;$e<=te;++$e,Ae<<=1){if(jt+=gi<<=1,0>(gi-=Oe[$e]))return 0;for(;0<Oe[$e];--Oe[$e])(ce=new H).g=$e,ce.value=Ge[De++],Ce(Y,ft+Yt,Ae,Ht,ce),Yt=le(Yt,$e)}for($e=te+1,Ae=2;15>=$e;++$e,Ae<<=1){if(jt+=gi<<=1,0>(gi-=Oe[$e]))return 0;for(;0<Oe[$e];--Oe[$e]){if(ce=new H,(Yt&dt)!=xt){for(ft+=Ht,lt=1<<(xt=$e)-te;15>xt&&!(0>=(lt-=Oe[xt]));)++xt,lt<<=1;rt+=Ht=1<<(lt=xt-te),Y[Q+(xt=Yt&dt)].g=lt+te,Y[Q+xt].value=ft-Q-xt}ce.g=$e-te,ce.value=Ge[De++],Ce(Y,ft+(Yt>>te),Ae,Ht,ce),Yt=le(Yt,$e)}}return jt!=2*Ne[15]-1?0:rt}(m,b,P,O,B,Z)}function H(){this.value=this.g=0}function ve(){this.value=this.g=0}function _e(){this.G=o(5,H),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Br,ve)}function Fe(m,b,P,O){t(m!=null),t(b!=null),t(2147483648>O),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=b,m.pa=P,m.Jd=b,m.Yc=P+O,m.Zc=4<=O?P+O-4+1:P,Ee(m)}function ke(m,b){for(var P=0;0<b--;)P|=Te(m,128)<<b;return P}function Ye(m,b){var P=ke(m,b);return Ie(m)?-P:P}function Me(m,b,P,O){var B,Z=0;for(t(m!=null),t(b!=null),t(4294967288>O),m.Sb=O,m.Ra=0,m.u=0,m.h=0,4<O&&(O=4),B=0;B<O;++B)Z+=b[P+B]<<8*B;m.Ra=Z,m.bb=O,m.oa=b,m.pa=P}function je(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<Is-8>>>0,++m.bb,m.u-=8;N(m)&&(m.h=1,m.u=0)}function Ze(m,b){if(t(0<=b),!m.h&&b<=Vl){var P=V(m)&rs[b];return m.u+=b,je(m),P}return m.h=1,m.u=0}function wt(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function A(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function V(m){return m.Ra>>>(m.u&Is-1)>>>0}function N(m){return t(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>Is}function j(m,b){m.u=b,m.h=N(m)}function se(m){m.u>=$c&&(t(m.u>=$c),je(m))}function Ee(m){t(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(t(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function Ie(m){return ke(m,1)}function Te(m,b){var P=m.Ca;0>m.b&&Ee(m);var O=m.b,B=P*b>>>8,Z=(m.I>>>O>B)+0;for(Z?(P-=B,m.I-=B+1<<O>>>0):P=B+1,O=P,B=0;256<=O;)B+=8,O>>=8;return O=7^B+Zr[O],m.b-=O,m.Ca=(P<<O)-1,Z}function Re(m,b,P){m[b+0]=P>>24&255,m[b+1]=P>>16&255,m[b+2]=P>>8&255,m[b+3]=P>>0&255}function at(m,b){return m[b+0]<<0|m[b+1]<<8}function pt(m,b){return at(m,b)|m[b+2]<<16}function Pt(m,b){return at(m,b)|at(m,b+2)<<16}function Lt(m,b){var P=1<<b;return t(m!=null),t(0<b),m.X=a(P),m.X==null?0:(m.Mb=32-b,m.Xa=b,1)}function Qe(m,b){t(m!=null),t(b!=null),t(m.Xa==b.Xa),r(b.X,0,m.X,0,1<<b.Xa)}function ge(){this.X=[],this.Xa=this.Mb=0}function mt(m,b,P,O){t(P!=null),t(O!=null);var B=P[0],Z=O[0];return B==0&&(B=(m*Z+b/2)/b),Z==0&&(Z=(b*B+m/2)/m),0>=B||0>=Z?0:(P[0]=B,O[0]=Z,1)}function Wt(m,b){return m+(1<<b)-1>>>b}function gt(m,b){return((4278255360&m)+(4278255360&b)>>>0&4278255360)+((16711935&m)+(16711935&b)>>>0&16711935)>>>0}function Ft(m,b){ie[b]=function(P,O,B,Z,Y,Q,te){var ce;for(ce=0;ce<Y;++ce){var Ae=ie[m](Q[te+ce-1],B,Z+ce);Q[te+ce]=gt(P[O+ce],Ae)}}}function Ut(){this.ud=this.hd=this.jd=0}function Vt(m,b){return((4278124286&(m^b))>>>1)+(m&b)>>>0}function Qt(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function ti(m,b){return Qt(m+(m-b+.5>>1))}function yi(m,b,P){return Math.abs(b-P)-Math.abs(m-P)}function Ti(m,b,P,O,B,Z,Y){for(O=Z[Y-1],P=0;P<B;++P)Z[Y+P]=O=gt(m[b+P],O)}function Hi(m,b,P,O,B){var Z;for(Z=0;Z<P;++Z){var Y=m[b+Z],Q=Y>>8&255,te=16711935&(te=(te=16711935&Y)+((Q<<16)+Q));O[B+Z]=(4278255360&Y)+te>>>0}}function Gi(m,b){b.jd=m>>0&255,b.hd=m>>8&255,b.ud=m>>16&255}function mi(m,b,P,O,B,Z){var Y;for(Y=0;Y<O;++Y){var Q=b[P+Y],te=Q>>>8,ce=Q,Ae=255&(Ae=(Ae=Q>>>16)+((m.jd<<24>>24)*(te<<24>>24)>>>5));ce=255&(ce=(ce=ce+((m.hd<<24>>24)*(te<<24>>24)>>>5))+((m.ud<<24>>24)*(Ae<<24>>24)>>>5)),B[Z+Y]=(4278255360&Q)+(Ae<<16)+ce}}function Fi(m,b,P,O,B){ie[b]=function(Z,Y,Q,te,ce,Ae,Ge,$e,De){for(te=Ge;te<$e;++te)for(Ge=0;Ge<De;++Ge)ce[Ae++]=B(Q[O(Z[Y++])])},ie[m]=function(Z,Y,Q,te,ce,Ae,Ge){var $e=8>>Z.b,De=Z.Ea,ft=Z.K[0],rt=Z.w;if(8>$e)for(Z=(1<<Z.b)-1,rt=(1<<$e)-1;Y<Q;++Y){var Oe,Ne=0;for(Oe=0;Oe<De;++Oe)Oe&Z||(Ne=O(te[ce++])),Ae[Ge++]=B(ft[Ne&rt]),Ne>>=$e}else ie["VP8LMapColor"+P](te,ce,ft,rt,Ae,Ge,Y,Q,De)}}function qt(m,b,P,O,B){for(P=b+P;b<P;){var Z=m[b++];O[B++]=Z>>16&255,O[B++]=Z>>8&255,O[B++]=Z>>0&255}}function Yr(m,b,P,O,B){for(P=b+P;b<P;){var Z=m[b++];O[B++]=Z>>16&255,O[B++]=Z>>8&255,O[B++]=Z>>0&255,O[B++]=Z>>24&255}}function Zi(m,b,P,O,B){for(P=b+P;b<P;){var Z=(Y=m[b++])>>16&240|Y>>12&15,Y=Y>>0&240|Y>>28&15;O[B++]=Z,O[B++]=Y}}function Qn(m,b,P,O,B){for(P=b+P;b<P;){var Z=(Y=m[b++])>>16&248|Y>>13&7,Y=Y>>5&224|Y>>3&31;O[B++]=Z,O[B++]=Y}}function er(m,b,P,O,B){for(P=b+P;b<P;){var Z=m[b++];O[B++]=Z>>0&255,O[B++]=Z>>8&255,O[B++]=Z>>16&255}}function Er(m,b,P,O,B,Z){if(Z==0)for(P=b+P;b<P;)Re(O,((Z=m[b++])[0]>>24|Z[1]>>8&65280|Z[2]<<8&16711680|Z[3]<<24)>>>0),B+=32;else r(O,B,m,b,P)}function Da(m,b){ie[b][0]=ie[m+"0"],ie[b][1]=ie[m+"1"],ie[b][2]=ie[m+"2"],ie[b][3]=ie[m+"3"],ie[b][4]=ie[m+"4"],ie[b][5]=ie[m+"5"],ie[b][6]=ie[m+"6"],ie[b][7]=ie[m+"7"],ie[b][8]=ie[m+"8"],ie[b][9]=ie[m+"9"],ie[b][10]=ie[m+"10"],ie[b][11]=ie[m+"11"],ie[b][12]=ie[m+"12"],ie[b][13]=ie[m+"13"],ie[b][14]=ie[m+"0"],ie[b][15]=ie[m+"0"]}function tr(m){return m==t0||m==s||m==f||m==_}function ro(){this.eb=[],this.size=this.A=this.fb=0}function Pr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ba(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ro,this.f.kb=new Pr,this.sd=null}function no(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function vr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Si(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function ar(m,b){var P=m.T,O=b.ba.f.RGBA,B=O.eb,Z=O.fb+m.ka*O.A,Y=Ha[b.ba.S],Q=m.y,te=m.O,ce=m.f,Ae=m.N,Ge=m.ea,$e=m.W,De=b.cc,ft=b.dc,rt=b.Mc,Oe=b.Nc,Ne=m.ka,lt=m.ka+m.T,xt=m.U,dt=xt+1>>1;for(Ne==0?Y(Q,te,null,null,ce,Ae,Ge,$e,ce,Ae,Ge,$e,B,Z,null,null,xt):(Y(b.ec,b.fc,Q,te,De,ft,rt,Oe,ce,Ae,Ge,$e,B,Z-O.A,B,Z,xt),++P);Ne+2<lt;Ne+=2)De=ce,ft=Ae,rt=Ge,Oe=$e,Ae+=m.Rc,$e+=m.Rc,Z+=2*O.A,Y(Q,(te+=2*m.fa)-m.fa,Q,te,De,ft,rt,Oe,ce,Ae,Ge,$e,B,Z-O.A,B,Z,xt);return te+=m.fa,m.j+lt<m.o?(r(b.ec,b.fc,Q,te,xt),r(b.cc,b.dc,ce,Ae,dt),r(b.Mc,b.Nc,Ge,$e,dt),P--):1&lt||Y(Q,te,null,null,ce,Ae,Ge,$e,ce,Ae,Ge,$e,B,Z+O.A,null,null,xt),P}function Yo(m,b,P){var O=m.F,B=[m.J];if(O!=null){var Z=m.U,Y=b.ba.S,Q=Y==zd||Y==f;b=b.ba.f.RGBA;var te=[0],ce=m.ka;te[0]=m.T,m.Kb&&(ce==0?--te[0]:(--ce,B[0]-=m.width),m.j+m.ka+m.T==m.o&&(te[0]=m.o-m.j-ce));var Ae=b.eb;ce=b.fb+ce*b.A,m=ir(O,B[0],m.width,Z,te,Ae,ce+(Q?0:3),b.A),t(P==te),m&&tr(Y)&&Ea(Ae,ce,Q,Z,te,b.A)}return 0}function Kr(m){var b=m.ma,P=b.ba.S,O=11>P,B=P==Jc||P==Qc||P==zd||P==Wd||P==12||tr(P);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!Bl(b.Oa,m,B?11:12))return 0;if(B&&tr(P)&&ct(),m.da)alert("todo:use_scaling");else{if(O){if(b.Ib=Si,m.Kb){if(P=m.U+1>>1,b.memory=a(m.U+2*P),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+m.U,b.Mc=b.cc,b.Nc=b.dc+P,b.Ib=ar,ct()}}else alert("todo:EmitYUV");B&&(b.Jb=Yo,O&&Ue())}if(O&&!x_){for(m=0;256>m;++m)g5[m]=89858*(m-128)+Lf>>Nf,b5[m]=-22014*(m-128)+Lf,_5[m]=-45773*(m-128),v5[m]=113618*(m-128)+Lf>>Nf;for(m=n0;m<ng;++m)b=76283*(m-16)+Lf>>Nf,x5[m-n0]=ya(b,255),y5[m-n0]=ya(b+8>>4,15);x_=1}return 1}function Ra(m){var b=m.ma,P=m.U,O=m.T;return t(!(1&m.ka)),0>=P||0>=O?0:(P=b.Ib(m,b),b.Jb!=null&&b.Jb(m,b,P),b.Dc+=P,1)}function Ba(m){m.ma.memory=null}function fi(m,b,P,O){return Ze(m,8)!=47?0:(b[0]=Ze(m,14)+1,P[0]=Ze(m,14)+1,O[0]=Ze(m,1),Ze(m,3)!=0?0:!m.h)}function xa(m,b){if(4>m)return m+1;var P=m-2>>1;return(2+(1&m)<<P)+Ze(b,P)+1}function Vr(m,b){return 120<b?b-120:1<=(P=((P=Ke[b-1])>>4)*m+(8-(15&P)))?P:1;var P}function $t(m,b,P){var O=V(P),B=m[b+=255&O].g-8;return 0<B&&(j(P,P.u+8),O=V(P),b+=m[b].value,b+=O&(1<<B)-1),j(P,P.u+m[b].g),m[b].value}function Hr(m,b,P){return P.g+=m.g,P.value+=m.value<<b>>>0,t(8>=P.g),m.g}function jr(m,b,P){var O=m.xc;return t((b=O==0?0:m.vc[m.md*(P>>O)+(b>>O)])<m.Wb),m.Ya[b]}function G(m,b,P,O){var B=m.ab,Z=m.c*b,Y=m.C;b=Y+b;var Q=P,te=O;for(O=m.Ta,P=m.Ua;0<B--;){var ce=m.gc[B],Ae=Y,Ge=b,$e=Q,De=te,ft=(te=O,Q=P,ce.Ea);switch(t(Ae<Ge),t(Ge<=ce.nc),ce.hc){case 2:jd($e,De,(Ge-Ae)*ft,te,Q);break;case 0:var rt=Ae,Oe=Ge,Ne=te,lt=Q,xt=(Ht=ce).Ea;rt==0&&(Ju($e,De,null,null,1,Ne,lt),Ti($e,De+1,0,0,xt-1,Ne,lt+1),De+=xt,lt+=xt,++rt);for(var dt=1<<Ht.b,Yt=dt-1,jt=Wt(xt,Ht.b),gi=Ht.K,Ht=Ht.w+(rt>>Ht.b)*jt;rt<Oe;){var dr=gi,_r=Ht,lr=1;for(Ao($e,De,Ne,lt-xt,1,Ne,lt);lr<xt;){var rr=(lr&~Yt)+dt;rr>xt&&(rr=xt),(0,lo[dr[_r++]>>8&15])($e,De+ +lr,Ne,lt+lr-xt,rr-lr,Ne,lt+lr),lr=rr}De+=xt,lt+=xt,++rt&Yt||(Ht+=jt)}Ge!=ce.nc&&r(te,Q-ft,te,Q+(Ge-Ae-1)*ft,ft);break;case 1:for(ft=$e,Oe=De,xt=($e=ce.Ea)-(lt=$e&~(Ne=(De=1<<ce.b)-1)),rt=Wt($e,ce.b),dt=ce.K,ce=ce.w+(Ae>>ce.b)*rt;Ae<Ge;){for(Yt=dt,jt=ce,gi=new Ut,Ht=Oe+lt,dr=Oe+$e;Oe<Ht;)Gi(Yt[jt++],gi),as(gi,ft,Oe,De,te,Q),Oe+=De,Q+=De;Oe<dr&&(Gi(Yt[jt++],gi),as(gi,ft,Oe,xt,te,Q),Oe+=xt,Q+=xt),++Ae&Ne||(ce+=rt)}break;case 3:if($e==te&&De==Q&&0<ce.b){for(Oe=te,$e=ft=Q+(Ge-Ae)*ft-(lt=(Ge-Ae)*Wt(ce.Ea,ce.b)),De=te,Ne=Q,rt=[],lt=(xt=lt)-1;0<=lt;--lt)rt[lt]=De[Ne+lt];for(lt=xt-1;0<=lt;--lt)Oe[$e+lt]=rt[lt];nn(ce,Ae,Ge,te,ft,te,Q)}else nn(ce,Ae,Ge,$e,De,te,Q)}Q=O,te=P}te!=P&&r(O,P,Q,te,Z)}function fe(m,b){var P=m.V,O=m.Ba+m.c*m.C,B=b-m.C;if(t(b<=m.l.o),t(16>=B),0<B){var Z=m.l,Y=m.Ta,Q=m.Ua,te=Z.width;if(G(m,B,P,O),B=Q=[Q],t((P=m.C)<(O=b)),t(Z.v<Z.va),O>Z.o&&(O=Z.o),P<Z.j){var ce=Z.j-P;P=Z.j,B[0]+=ce*te}if(P>=O?P=0:(B[0]+=4*Z.v,Z.ka=P-Z.j,Z.U=Z.va-Z.v,Z.T=O-P,P=1),P){if(Q=Q[0],11>(P=m.ca).S){var Ae=P.f.RGBA,Ge=(O=P.S,B=Z.U,Z=Z.T,ce=Ae.eb,Ae.A),$e=Z;for(Ae=Ae.fb+m.Ma*Ae.A;0<$e--;){var De=Y,ft=Q,rt=B,Oe=ce,Ne=Ae;switch(O){case Kc:Mn(De,ft,rt,Oe,Ne);break;case Jc:an(De,ft,rt,Oe,Ne);break;case t0:an(De,ft,rt,Oe,Ne),Ea(Oe,Ne,0,rt,1,0);break;case Qu:Oo(De,ft,rt,Oe,Ne);break;case Qc:Er(De,ft,rt,Oe,Ne,1);break;case s:Er(De,ft,rt,Oe,Ne,1),Ea(Oe,Ne,0,rt,1,0);break;case zd:Er(De,ft,rt,Oe,Ne,0);break;case f:Er(De,ft,rt,Oe,Ne,0),Ea(Oe,Ne,1,rt,1,0);break;case Wd:co(De,ft,rt,Oe,Ne);break;case _:co(De,ft,rt,Oe,Ne),Tr(Oe,Ne,rt,1,0);break;case e0:uo(De,ft,rt,Oe,Ne);break;default:t(0)}Q+=te,Ae+=Ge}m.Ma+=Z}else alert("todo:EmitRescaledRowsYUVA");t(m.Ma<=P.height)}}m.C=b,t(m.C<=m.i)}function ne(m){var b;if(0<m.ua)return 0;for(b=0;b<m.Wb;++b){var P=m.Ya[b].G,O=m.Ya[b].H;if(0<P[1][O[1]+0].g||0<P[2][O[2]+0].g||0<P[3][O[3]+0].g)return 0}return 1}function oe(m,b,P,O,B,Z){if(m.Z!=0){var Y=m.qd,Q=m.rd;for(t(Bs[m.Z]!=null);b<P;++b)Bs[m.Z](Y,Q,O,B,O,B,Z),Y=O,Q=B,B+=Z;m.qd=Y,m.rd=Q}}function de(m,b){var P=m.l.ma,O=P.Z==0||P.Z==1?m.l.j:m.C;if(O=m.C<O?O:m.C,t(b<=m.l.o),b>O){var B=m.l.width,Z=P.ca,Y=P.tb+B*O,Q=m.V,te=m.Ba+m.c*O,ce=m.gc;t(m.ab==1),t(ce[0].hc==3),Zc(ce[0],O,b,Q,te,Z,Y),oe(P,O,b,Z,Y,B)}m.C=m.Ma=b}function pe(m,b,P,O,B,Z,Y){var Q=m.$/O,te=m.$%O,ce=m.m,Ae=m.s,Ge=P+m.$,$e=Ge;B=P+O*B;var De=P+O*Z,ft=280+Ae.ua,rt=m.Pb?Q:16777216,Oe=0<Ae.ua?Ae.Wa:null,Ne=Ae.wc,lt=Ge<De?jr(Ae,te,Q):null;t(m.C<Z),t(De<=B);var xt=!1;e:for(;;){for(;xt||Ge<De;){var dt=0;if(Q>=rt){var Yt=Ge-P;t((rt=m).Pb),rt.wd=rt.m,rt.xd=Yt,0<rt.s.ua&&Qe(rt.s.Wa,rt.s.vb),rt=Q+Xt}if(te&Ne||(lt=jr(Ae,te,Q)),t(lt!=null),lt.Qb&&(b[Ge]=lt.qb,xt=!0),!xt)if(se(ce),lt.jc){dt=ce,Yt=b;var jt=Ge,gi=lt.pd[V(dt)&Br-1];t(lt.jc),256>gi.g?(j(dt,dt.u+gi.g),Yt[jt]=gi.value,dt=0):(j(dt,dt.u+gi.g-256),t(256<=gi.value),dt=gi.value),dt==0&&(xt=!0)}else dt=$t(lt.G[0],lt.H[0],ce);if(ce.h)break;if(xt||256>dt){if(!xt)if(lt.nd)b[Ge]=(lt.qb|dt<<8)>>>0;else{if(se(ce),xt=$t(lt.G[1],lt.H[1],ce),se(ce),Yt=$t(lt.G[2],lt.H[2],ce),jt=$t(lt.G[3],lt.H[3],ce),ce.h)break;b[Ge]=(jt<<24|xt<<16|dt<<8|Yt)>>>0}if(xt=!1,++Ge,++te>=O&&(te=0,++Q,Y!=null&&Q<=Z&&!(Q%16)&&Y(m,Q),Oe!=null))for(;$e<Ge;)dt=b[$e++],Oe.X[(506832829*dt&4294967295)>>>Oe.Mb]=dt}else if(280>dt){if(dt=xa(dt-256,ce),Yt=$t(lt.G[4],lt.H[4],ce),se(ce),Yt=Vr(O,Yt=xa(Yt,ce)),ce.h)break;if(Ge-P<Yt||B-Ge<dt)break e;for(jt=0;jt<dt;++jt)b[Ge+jt]=b[Ge+jt-Yt];for(Ge+=dt,te+=dt;te>=O;)te-=O,++Q,Y!=null&&Q<=Z&&!(Q%16)&&Y(m,Q);if(t(Ge<=B),te&Ne&&(lt=jr(Ae,te,Q)),Oe!=null)for(;$e<Ge;)dt=b[$e++],Oe.X[(506832829*dt&4294967295)>>>Oe.Mb]=dt}else{if(!(dt<ft))break e;for(xt=dt-280,t(Oe!=null);$e<Ge;)dt=b[$e++],Oe.X[(506832829*dt&4294967295)>>>Oe.Mb]=dt;dt=Ge,t(!(xt>>>(Yt=Oe).Xa)),b[dt]=Yt.X[xt],xt=!0}xt||t(ce.h==N(ce))}if(m.Pb&&ce.h&&Ge<B)t(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&Qe(m.s.vb,m.s.Wa);else{if(ce.h)break e;Y?.(m,Q>Z?Z:Q),m.a=0,m.$=Ge-P}return 1}return m.a=3,0}function ze(m){t(m!=null),m.vc=null,m.yc=null,m.Ya=null;var b=m.Wa;b!=null&&(b.X=null),m.vb=null,t(m!=null)}function et(){var m=new Ud;return m==null?null:(m.a=0,m.xb=ed,Da("Predictor","VP8LPredictors"),Da("Predictor","VP8LPredictors_C"),Da("PredictorAdd","VP8LPredictorsAdd"),Da("PredictorAdd","VP8LPredictorsAdd_C"),jd=Hi,as=mi,Mn=qt,an=Yr,co=Zi,uo=Qn,Oo=er,ie.VP8LMapColor32b=ns,ie.VP8LMapColor8b=jl,m)}function We(m,b,P,O,B){var Z=1,Y=[m],Q=[b],te=O.m,ce=O.s,Ae=null,Ge=0;e:for(;;){if(P)for(;Z&&Ze(te,1);){var $e=Y,De=Q,ft=O,rt=1,Oe=ft.m,Ne=ft.gc[ft.ab],lt=Ze(Oe,2);if(ft.Oc&1<<lt)Z=0;else{switch(ft.Oc|=1<<lt,Ne.hc=lt,Ne.Ea=$e[0],Ne.nc=De[0],Ne.K=[null],++ft.ab,t(4>=ft.ab),lt){case 0:case 1:Ne.b=Ze(Oe,3)+2,rt=We(Wt(Ne.Ea,Ne.b),Wt(Ne.nc,Ne.b),0,ft,Ne.K),Ne.K=Ne.K[0];break;case 3:var xt,dt=Ze(Oe,8)+1,Yt=16<dt?0:4<dt?1:2<dt?2:3;if($e[0]=Wt(Ne.Ea,Yt),Ne.b=Yt,xt=rt=We(dt,1,0,ft,Ne.K)){var jt,gi=dt,Ht=Ne,dr=1<<(8>>Ht.b),_r=a(dr);if(_r==null)xt=0;else{var lr=Ht.K[0],rr=Ht.w;for(_r[0]=Ht.K[0][0],jt=1;jt<1*gi;++jt)_r[jt]=gt(lr[rr+jt],_r[jt-1]);for(;jt<4*dr;++jt)_r[jt]=0;Ht.K[0]=null,Ht.K[0]=_r,xt=1}}rt=xt;break;case 2:break;default:t(0)}Z=rt}}if(Y=Y[0],Q=Q[0],Z&&Ze(te,1)&&!(Z=1<=(Ge=Ze(te,4))&&11>=Ge)){O.a=3;break e}var Nr;if(Nr=Z)t:{var kr,Li,xn,Ga=O,yn=Y,$a=Q,br=Ge,ho=P,mo=Ga.m,Fn=Ga.s,Wn=[null],ka=1,Lo=0,Us=bt[br];i:for(;;){if(ho&&Ze(mo,1)){var Nn=Ze(mo,3)+2,cl=Wt(yn,Nn),td=Wt($a,Nn),Hd=cl*td;if(!We(cl,td,0,Ga,Wn))break i;for(Wn=Wn[0],Fn.xc=Nn,kr=0;kr<Hd;++kr){var $l=Wn[kr]>>8&65535;Wn[kr]=$l,$l>=ka&&(ka=$l+1)}}if(mo.h)break i;for(Li=0;5>Li;++Li){var ln=K[Li];!Li&&0<br&&(ln+=1<<br),Lo<ln&&(Lo=ln)}var ag=o(ka*Us,H),w_=ka,S_=o(w_,_e);if(S_==null)var Rf=null;else t(65536>=w_),Rf=S_;var a0=a(Lo);if(Rf==null||a0==null||ag==null){Ga.a=1;break i}var Bf=ag;for(kr=xn=0;kr<ka;++kr){var ls=Rf[kr],Gd=ls.G,$d=ls.H,E_=0,Uf=1,P_=0;for(Li=0;5>Li;++Li){ln=K[Li],Gd[Li]=Bf,$d[Li]=xn,!Li&&0<br&&(ln+=1<<br);n:{var Vf,og=ln,jf=Ga,o0=a0,S5=Bf,E5=xn,sg=0,Zl=jf.m,P5=Ze(Zl,1);if(n(o0,0,0,og),P5){var M5=Ze(Zl,1)+1,T5=Ze(Zl,1),M_=Ze(Zl,T5==0?1:8);o0[M_]=1,M5==2&&(o0[M_=Ze(Zl,8)]=1);var qf=1}else{var T_=a(19),k_=Ze(Zl,4)+4;if(19<k_){jf.a=3;var zf=0;break n}for(Vf=0;Vf<k_;++Vf)T_[qe[Vf]]=Ze(Zl,3);var lg=void 0,s0=void 0,A_=jf,k5=T_,Wf=og,O_=o0,cg=0,Xl=A_.m,I_=8,F_=o(128,H);r:for(;q(F_,0,7,k5,19);){if(Ze(Xl,1)){var A5=2+2*Ze(Xl,3);if((lg=2+Ze(Xl,A5))>Wf)break r}else lg=Wf;for(s0=0;s0<Wf&&lg--;){se(Xl);var N_=F_[0+(127&V(Xl))];j(Xl,Xl.u+N_.g);var Zd=N_.value;if(16>Zd)O_[s0++]=Zd,Zd!=0&&(I_=Zd);else{var O5=Zd==16,L_=Zd-16,I5=I[L_],D_=Ze(Xl,S[L_])+I5;if(s0+D_>Wf)break r;for(var F5=O5?I_:0;0<D_--;)O_[s0++]=F5}}cg=1;break r}cg||(A_.a=3),qf=cg}(qf=qf&&!Zl.h)&&(sg=q(S5,E5,8,o0,og)),qf&&sg!=0?zf=sg:(jf.a=3,zf=0)}if(zf==0)break i;if(Uf&&Se[Li]==1&&(Uf=Bf[xn].g==0),E_+=Bf[xn].g,xn+=zf,3>=Li){var l0,dg=a0[0];for(l0=1;l0<ln;++l0)a0[l0]>dg&&(dg=a0[l0]);P_+=dg}}if(ls.nd=Uf,ls.Qb=0,Uf&&(ls.qb=(Gd[3][$d[3]+0].value<<24|Gd[1][$d[1]+0].value<<16|Gd[2][$d[2]+0].value)>>>0,E_==0&&256>Gd[0][$d[0]+0].value&&(ls.Qb=1,ls.qb+=Gd[0][$d[0]+0].value<<8)),ls.jc=!ls.Qb&&6>P_,ls.jc){var Hf,dl=ls;for(Hf=0;Hf<Br;++Hf){var Yl=Hf,Kl=dl.pd[Yl],Gf=dl.G[0][dl.H[0]+Yl];256<=Gf.value?(Kl.g=Gf.g+256,Kl.value=Gf.value):(Kl.g=0,Kl.value=0,Yl>>=Hr(Gf,8,Kl),Yl>>=Hr(dl.G[1][dl.H[1]+Yl],16,Kl),Yl>>=Hr(dl.G[2][dl.H[2]+Yl],0,Kl),Hr(dl.G[3][dl.H[3]+Yl],24,Kl))}}}Fn.vc=Wn,Fn.Wb=ka,Fn.Ya=Rf,Fn.yc=ag,Nr=1;break t}Nr=0}if(!(Z=Nr)){O.a=3;break e}if(0<Ge){if(ce.ua=1<<Ge,!Lt(ce.Wa,Ge)){O.a=1,Z=0;break e}}else ce.ua=0;var ug=O,R_=Y,N5=Q,fg=ug.s,pg=fg.xc;if(ug.c=R_,ug.i=N5,fg.md=Wt(R_,pg),fg.wc=pg==0?-1:(1<<pg)-1,P){O.xb=sn;break e}if((Ae=a(Y*Q))==null){O.a=1,Z=0;break e}Z=(Z=pe(O,Ae,0,Y,Q,Q,null))&&!te.h;break e}return Z?(B!=null?B[0]=Ae:(t(Ae==null),t(P)),O.$=0,P||ze(ce)):ze(ce),Z}function He(m,b){var P=m.c*m.i,O=P+b+16*b;return t(m.c<=b),m.V=a(O),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+P+b,1)}function Xe(m,b){var P=m.C,O=b-P,B=m.V,Z=m.Ba+m.c*P;for(t(b<=m.l.o);0<O;){var Y=16<O?16:O,Q=m.l.ma,te=m.l.width,ce=te*Y,Ae=Q.ca,Ge=Q.tb+te*P,$e=m.Ta,De=m.Ua;G(m,Y,B,Z),Xr($e,De,Ae,Ge,ce),oe(Q,P,P+Y,Ae,Ge,te),O-=Y,B+=Y*m.c,P+=Y}t(P==b),m.C=m.Ma=b}function yt(){this.ub=this.yd=this.td=this.Rb=0}function At(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Zt(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Nt(){this.Yb=function(){var m=[];return function b(P,O,B){for(var Z=B[O],Y=0;Y<Z&&(P.push(B.length>O+1?[]:0),!(B.length<O+1));Y++)b(P[Y],O+1,B)}(m,0,[3,11]),m}()}function Rt(){this.jb=a(3),this.Wc=d([4,8],Nt),this.Xc=d([4,17],Nt)}function xi(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function or(){this.ld=this.La=this.dd=this.tc=0}function Jr(){this.Na=this.la=0}function pr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function rn(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function So(){this.uc=this.M=this.Nb=0,this.wa=Array(new or),this.Y=0,this.ya=Array(new rn),this.aa=0,this.l=new sr}function ea(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Oi(){this.cb=this.a=0,this.sc="",this.m=new wt,this.Od=new yt,this.Kc=new At,this.ed=new xi,this.Qa=new Zt,this.Ic=this.$c=this.Aa=0,this.D=new So,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,wt),this.ia=0,this.pb=o(4,pr),this.Pa=new Rt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ea),this.Hd=0,this.rb=Array(new Jr),this.sb=0,this.wa=Array(new or),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new rn),this.L=this.aa=0,this.gd=d([4,2],or),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function sr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function An(){var m=new Oi;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,pn||(pn=ki)),m}function Mr(m,b,P){return m.a==0&&(m.a=b,m.sc=P,m.cb=0),0}function Ko(m,b,P){return 3<=P&&m[b+0]==157&&m[b+1]==1&&m[b+2]==42}function Al(m,b){if(m==null)return 0;if(m.a=0,m.sc="OK",b==null)return Mr(m,2,"null VP8Io passed to VP8GetHeaders()");var P=b.data,O=b.w,B=b.ha;if(4>B)return Mr(m,7,"Truncated header.");var Z=P[O+0]|P[O+1]<<8|P[O+2]<<16,Y=m.Od;if(Y.Rb=!(1&Z),Y.td=Z>>1&7,Y.yd=Z>>4&1,Y.ub=Z>>5,3<Y.td)return Mr(m,3,"Incorrect keyframe parameters.");if(!Y.yd)return Mr(m,4,"Frame not displayable.");O+=3,B-=3;var Q=m.Kc;if(Y.Rb){if(7>B)return Mr(m,7,"cannot parse picture header");if(!Ko(P,O,B))return Mr(m,3,"Bad code word");Q.c=16383&(P[O+4]<<8|P[O+3]),Q.Td=P[O+4]>>6,Q.i=16383&(P[O+6]<<8|P[O+5]),Q.Ud=P[O+6]>>6,O+=7,B-=7,m.za=Q.c+15>>4,m.Ub=Q.i+15>>4,b.width=Q.c,b.height=Q.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,n((Z=m.Pa).jb,0,255,Z.jb.length),t((Z=m.Qa)!=null),Z.Cb=0,Z.Bb=0,Z.Fb=1,n(Z.Zb,0,0,Z.Zb.length),n(Z.Lb,0,0,Z.Lb)}if(Y.ub>B)return Mr(m,7,"bad partition length");Fe(Z=m.m,P,O,Y.ub),O+=Y.ub,B-=Y.ub,Y.Rb&&(Q.Ld=Ie(Z),Q.Kd=Ie(Z)),Q=m.Qa;var te,ce=m.Pa;if(t(Z!=null),t(Q!=null),Q.Cb=Ie(Z),Q.Cb){if(Q.Bb=Ie(Z),Ie(Z)){for(Q.Fb=Ie(Z),te=0;4>te;++te)Q.Zb[te]=Ie(Z)?Ye(Z,7):0;for(te=0;4>te;++te)Q.Lb[te]=Ie(Z)?Ye(Z,6):0}if(Q.Bb)for(te=0;3>te;++te)ce.jb[te]=Ie(Z)?ke(Z,8):255}else Q.Bb=0;if(Z.Ka)return Mr(m,3,"cannot parse segment header");if((Q=m.ed).zd=Ie(Z),Q.Tb=ke(Z,6),Q.wb=ke(Z,3),Q.Pc=Ie(Z),Q.Pc&&Ie(Z)){for(ce=0;4>ce;++ce)Ie(Z)&&(Q.vd[ce]=Ye(Z,6));for(ce=0;4>ce;++ce)Ie(Z)&&(Q.od[ce]=Ye(Z,6))}if(m.L=Q.Tb==0?0:Q.zd?1:2,Z.Ka)return Mr(m,3,"cannot parse filter header");var Ae=B;if(B=te=O,O=te+Ae,Q=Ae,m.Xb=(1<<ke(m.m,2))-1,Ae<3*(ce=m.Xb))P=7;else{for(te+=3*ce,Q-=3*ce,Ae=0;Ae<ce;++Ae){var Ge=P[B+0]|P[B+1]<<8|P[B+2]<<16;Ge>Q&&(Ge=Q),Fe(m.Jc[+Ae],P,te,Ge),te+=Ge,Q-=Ge,B+=3}Fe(m.Jc[+ce],P,te,Q),P=te<O?0:5}if(P!=0)return Mr(m,P,"cannot parse partitions");for(P=ke(te=m.m,7),B=Ie(te)?Ye(te,4):0,O=Ie(te)?Ye(te,4):0,Q=Ie(te)?Ye(te,4):0,ce=Ie(te)?Ye(te,4):0,te=Ie(te)?Ye(te,4):0,Ae=m.Qa,Ge=0;4>Ge;++Ge){if(Ae.Cb){var $e=Ae.Zb[Ge];Ae.Fb||($e+=P)}else{if(0<Ge){m.pb[Ge]=m.pb[0];continue}$e=P}var De=m.pb[Ge];De.Sc[0]=pi[ya($e+B,127)],De.Sc[1]=Ni[ya($e+0,127)],De.Eb[0]=2*pi[ya($e+O,127)],De.Eb[1]=101581*Ni[ya($e+Q,127)]>>16,8>De.Eb[1]&&(De.Eb[1]=8),De.Qc[0]=pi[ya($e+ce,117)],De.Qc[1]=Ni[ya($e+te,127)],De.lc=$e+te}if(!Y.Rb)return Mr(m,4,"Not a key frame.");for(Ie(Z),Y=m.Pa,P=0;4>P;++P){for(B=0;8>B;++B)for(O=0;3>O;++O)for(Q=0;11>Q;++Q)ce=Te(Z,tg[P][B][O][Q])?ke(Z,8):Gl[P][B][O][Q],Y.Wc[P][B].Yb[O][Q]=ce;for(B=0;17>B;++B)Y.Xc[P][B]=Y.Wc[P][ig[B]]}return m.kc=Ie(Z),m.kc&&(m.Bd=ke(Z,8)),m.cb=1}function ki(m,b,P,O,B,Z,Y){var Q=b[B].Yb[P];for(P=0;16>B;++B){if(!Te(m,Q[P+0]))return B;for(;!Te(m,Q[P+1]);)if(Q=b[++B].Yb[0],P=0,B==16)return 16;var te=b[B+1].Yb;if(Te(m,Q[P+2])){var ce=m,Ae=0;if(Te(ce,($e=Q)[(Ge=P)+3]))if(Te(ce,$e[Ge+6])){for(Q=0,Ge=2*(Ae=Te(ce,$e[Ge+8]))+($e=Te(ce,$e[Ge+9+Ae])),Ae=0,$e=bn[Ge];$e[Q];++Q)Ae+=Ae+Te(ce,$e[Q]);Ae+=3+(8<<Ge)}else Te(ce,$e[Ge+7])?(Ae=7+2*Te(ce,165),Ae+=Te(ce,145)):Ae=5+Te(ce,159);else Ae=Te(ce,$e[Ge+4])?3+Te(ce,$e[Ge+5]):2;Q=te[2]}else Ae=1,Q=te[1];te=Y+Wa[B],0>(ce=m).b&&Ee(ce);var Ge,$e=ce.b,De=(Ge=ce.Ca>>1)-(ce.I>>$e)>>31;--ce.b,ce.Ca+=De,ce.Ca|=1,ce.I-=(Ge+1&De)<<$e,Z[te]=((Ae^De)-De)*O[(0<B)+0]}return 16}function Fr(m){var b=m.rb[m.sb-1];b.la=0,b.Na=0,n(m.zc,0,0,m.zc.length),m.ja=0}function Nc(m,b){if(m==null)return 0;if(b==null)return Mr(m,2,"NULL VP8Io parameter in VP8Decode().");if(!m.cb&&!Al(m,b))return 0;if(t(m.cb),b.ac==null||b.ac(b)){b.ob&&(m.L=0);var P=Df[m.L];if(m.L==2?(m.yb=0,m.zb=0):(m.yb=b.v-P>>4,m.zb=b.j-P>>4,0>m.yb&&(m.yb=0),0>m.zb&&(m.zb=0)),m.Va=b.o+15+P>>4,m.Hb=b.va+15+P>>4,m.Hb>m.za&&(m.Hb=m.za),m.Va>m.Ub&&(m.Va=m.Ub),0<m.L){var O=m.ed;for(P=0;4>P;++P){var B;if(m.Qa.Cb){var Z=m.Qa.Lb[P];m.Qa.Fb||(Z+=O.Tb)}else Z=O.Tb;for(B=0;1>=B;++B){var Y=m.gd[P][B],Q=Z;if(O.Pc&&(Q+=O.vd[0],B&&(Q+=O.od[0])),0<(Q=0>Q?0:63<Q?63:Q)){var te=Q;0<O.wb&&(te=4<O.wb?te>>2:te>>1)>9-O.wb&&(te=9-O.wb),1>te&&(te=1),Y.dd=te,Y.tc=2*Q+te,Y.ld=40<=Q?2:15<=Q?1:0}else Y.tc=0;Y.La=B}}}P=0}else Mr(m,6,"Frame setup failed"),P=m.a;if(P=P==0){if(P){m.$c=0,0<m.Aa||(m.Ic=w5);e:{P=m.Ic,O=4*(te=m.za);var ce=32*te,Ae=te+1,Ge=0<m.L?te*(0<m.Aa?2:1):0,$e=(m.Aa==2?2:1)*te;if((Y=O+832+(B=3*(16*P+Df[m.L])/2*ce)+(Z=m.Fa!=null&&0<m.Fa.length?m.Kc.c*m.Kc.i:0))!=Y)P=0;else{if(Y>m.Vb){if(m.Vb=0,m.Ec=a(Y),m.Fc=0,m.Ec==null){P=Mr(m,1,"no memory during frame initialization.");break e}m.Vb=Y}Y=m.Ec,Q=m.Fc,m.Ac=Y,m.Bc=Q,Q+=O,m.Gd=o(ce,ea),m.Hd=0,m.rb=o(Ae+1,Jr),m.sb=1,m.wa=Ge?o(Ge,or):null,m.Y=0,m.D.Nb=0,m.D.wa=m.wa,m.D.Y=m.Y,0<m.Aa&&(m.D.Y+=te),t(!0),m.oc=Y,m.pc=Q,Q+=832,m.ya=o($e,rn),m.aa=0,m.D.ya=m.ya,m.D.aa=m.aa,m.Aa==2&&(m.D.aa+=te),m.R=16*te,m.B=8*te,te=(ce=Df[m.L])*m.R,ce=ce/2*m.B,m.sa=Y,m.ta=Q+te,m.qa=m.sa,m.ra=m.ta+16*P*m.R+ce,m.Ha=m.qa,m.Ia=m.ra+8*P*m.B+ce,m.$c=0,Q+=B,m.mb=Z?Y:null,m.nb=Z?Q:null,t(Q+Z<=m.Fc+m.Vb),Fr(m),n(m.Ac,m.Bc,0,O),P=1}}if(P){if(b.ka=0,b.y=m.sa,b.O=m.ta,b.f=m.qa,b.N=m.ra,b.ea=m.Ha,b.Vd=m.Ia,b.fa=m.R,b.Rc=m.B,b.F=null,b.J=0,!Rs){for(P=-255;255>=P;++P)on[255+P]=0>P?-P:P;for(P=-1020;1020>=P;++P)Pa[1020+P]=-128>P?-128:127<P?127:P;for(P=-112;112>=P;++P)Xc[112+P]=-16>P?-16:15<P?15:P;for(P=-255;510>=P;++P)os[255+P]=0>P?0:255<P?255:P;Rs=1}ql=Lc,za=Gr,zl=Po,qn=Qs,Ca=Es,en=Eo,Wl=jc,wa=rl,Fs=qa,ll=zc,Io=qc,Ns=Ll,Ls=Dl,Hl=so,fo=ks,Ds=oo,Fo=is,Sa=Vc,po[0]=Ua,po[1]=Dc,po[2]=hr,po[3]=Ld,po[4]=Il,po[5]=Va,po[6]=Fl,po[7]=el,po[8]=fn,po[9]=tl,ss[0]=Bc,ss[1]=Ol,ss[2]=ao,ss[3]=Ps,ss[4]=vn,ss[5]=Ku,ss[6]=Mi,No[0]=Ts,No[1]=Rc,No[2]=es,No[3]=Nl,No[4]=ts,No[5]=Dd,No[6]=Uc,P=1}else P=0}P&&(P=function(De,ft){for(De.M=0;De.M<De.Va;++De.M){var rt,Oe=De.Jc[De.M&De.Xb],Ne=De.m,lt=De;for(rt=0;rt<lt.za;++rt){var xt=Ne,dt=lt,Yt=dt.Ac,jt=dt.Bc+4*rt,gi=dt.zc,Ht=dt.ya[dt.aa+rt];if(dt.Qa.Bb?Ht.$b=Te(xt,dt.Pa.jb[0])?2+Te(xt,dt.Pa.jb[2]):Te(xt,dt.Pa.jb[1]):Ht.$b=0,dt.kc&&(Ht.Ad=Te(xt,dt.Bd)),Ht.Za=!Te(xt,145)+0,Ht.Za){var dr=Ht.Ob,_r=0;for(dt=0;4>dt;++dt){var lr,rr=gi[0+dt];for(lr=0;4>lr;++lr){rr=eg[Yt[jt+lr]][rr];for(var Nr=zn[Te(xt,rr[0])];0<Nr;)Nr=zn[2*Nr+Te(xt,rr[Nr])];rr=-Nr,Yt[jt+lr]=rr}r(dr,_r,Yt,jt,4),_r+=4,gi[0+dt]=rr}}else rr=Te(xt,156)?Te(xt,128)?1:3:Te(xt,163)?2:0,Ht.Ob[0]=rr,n(Yt,jt,rr,4),n(gi,0,rr,4);Ht.Dd=Te(xt,142)?Te(xt,114)?Te(xt,183)?1:3:2:0}if(lt.m.Ka)return Mr(De,7,"Premature end-of-partition0 encountered.");for(;De.ja<De.za;++De.ja){if(lt=Oe,xt=(Ne=De).rb[Ne.sb-1],Yt=Ne.rb[Ne.sb+Ne.ja],rt=Ne.ya[Ne.aa+Ne.ja],jt=Ne.kc?rt.Ad:0)xt.la=Yt.la=0,rt.Za||(xt.Na=Yt.Na=0),rt.Hc=0,rt.Gc=0,rt.ia=0;else{var kr,Li;if(xt=Yt,Yt=lt,jt=Ne.Pa.Xc,gi=Ne.ya[Ne.aa+Ne.ja],Ht=Ne.pb[gi.$b],dt=gi.ad,dr=0,_r=Ne.rb[Ne.sb-1],rr=lr=0,n(dt,dr,0,384),gi.Za)var xn=0,Ga=jt[3];else{Nr=a(16);var yn=xt.Na+_r.Na;if(yn=pn(Yt,jt[1],yn,Ht.Eb,0,Nr,0),xt.Na=_r.Na=(0<yn)+0,1<yn)ql(Nr,0,dt,dr);else{var $a=Nr[0]+3>>3;for(Nr=0;256>Nr;Nr+=16)dt[dr+Nr]=$a}xn=1,Ga=jt[0]}var br=15&xt.la,ho=15&_r.la;for(Nr=0;4>Nr;++Nr){var mo=1&ho;for($a=Li=0;4>$a;++$a)br=br>>1|(mo=(yn=pn(Yt,Ga,yn=mo+(1&br),Ht.Sc,xn,dt,dr))>xn)<<7,Li=Li<<2|(3<yn?3:1<yn?2:dt[dr+0]!=0),dr+=16;br>>=4,ho=ho>>1|mo<<7,lr=(lr<<8|Li)>>>0}for(Ga=br,xn=ho>>4,kr=0;4>kr;kr+=2){for(Li=0,br=xt.la>>4+kr,ho=_r.la>>4+kr,Nr=0;2>Nr;++Nr){for(mo=1&ho,$a=0;2>$a;++$a)yn=mo+(1&br),br=br>>1|(mo=0<(yn=pn(Yt,jt[2],yn,Ht.Qc,0,dt,dr)))<<3,Li=Li<<2|(3<yn?3:1<yn?2:dt[dr+0]!=0),dr+=16;br>>=2,ho=ho>>1|mo<<5}rr|=Li<<4*kr,Ga|=br<<4<<kr,xn|=(240&ho)<<kr}xt.la=Ga,_r.la=xn,gi.Hc=lr,gi.Gc=rr,gi.ia=43690&rr?0:Ht.ia,jt=!(lr|rr)}if(0<Ne.L&&(Ne.wa[Ne.Y+Ne.ja]=Ne.gd[rt.$b][rt.Za],Ne.wa[Ne.Y+Ne.ja].La|=!jt),lt.Ka)return Mr(De,7,"Premature end-of-file encountered.")}if(Fr(De),Ne=ft,lt=1,rt=(Oe=De).D,xt=0<Oe.L&&Oe.M>=Oe.zb&&Oe.M<=Oe.Va,Oe.Aa==0)e:{if(rt.M=Oe.M,rt.uc=xt,Gc(Oe,rt),lt=1,rt=(Li=Oe.D).Nb,xt=(rr=Df[Oe.L])*Oe.R,Yt=rr/2*Oe.B,Nr=16*rt*Oe.R,$a=8*rt*Oe.B,jt=Oe.sa,gi=Oe.ta-xt+Nr,Ht=Oe.qa,dt=Oe.ra-Yt+$a,dr=Oe.Ha,_r=Oe.Ia-Yt+$a,ho=(br=Li.M)==0,lr=br>=Oe.Va-1,Oe.Aa==2&&Gc(Oe,Li),Li.uc)for(mo=(yn=Oe).D.M,t(yn.D.uc),Li=yn.yb;Li<yn.Hb;++Li){xn=Li,Ga=mo;var Fn=(Wn=(ln=yn).D).Nb;kr=ln.R;var Wn=Wn.wa[Wn.Y+xn],ka=ln.sa,Lo=ln.ta+16*Fn*kr+16*xn,Us=Wn.dd,Nn=Wn.tc;if(Nn!=0)if(t(3<=Nn),ln.L==1)0<xn&&Ds(ka,Lo,kr,Nn+4),Wn.La&&Sa(ka,Lo,kr,Nn),0<Ga&&fo(ka,Lo,kr,Nn+4),Wn.La&&Fo(ka,Lo,kr,Nn);else{var cl=ln.B,td=ln.qa,Hd=ln.ra+8*Fn*cl+8*xn,$l=ln.Ha,ln=ln.Ia+8*Fn*cl+8*xn;Fn=Wn.ld,0<xn&&(wa(ka,Lo,kr,Nn+4,Us,Fn),ll(td,Hd,$l,ln,cl,Nn+4,Us,Fn)),Wn.La&&(Ns(ka,Lo,kr,Nn,Us,Fn),Hl(td,Hd,$l,ln,cl,Nn,Us,Fn)),0<Ga&&(Wl(ka,Lo,kr,Nn+4,Us,Fn),Fs(td,Hd,$l,ln,cl,Nn+4,Us,Fn)),Wn.La&&(Io(ka,Lo,kr,Nn,Us,Fn),Ls(td,Hd,$l,ln,cl,Nn,Us,Fn))}}if(Oe.ia&&alert("todo:DitherRow"),Ne.put!=null){if(Li=16*br,br=16*(br+1),ho?(Ne.y=Oe.sa,Ne.O=Oe.ta+Nr,Ne.f=Oe.qa,Ne.N=Oe.ra+$a,Ne.ea=Oe.Ha,Ne.W=Oe.Ia+$a):(Li-=rr,Ne.y=jt,Ne.O=gi,Ne.f=Ht,Ne.N=dt,Ne.ea=dr,Ne.W=_r),lr||(br-=rr),br>Ne.o&&(br=Ne.o),Ne.F=null,Ne.J=null,Oe.Fa!=null&&0<Oe.Fa.length&&Li<br&&(Ne.J=Hc(Oe,Ne,Li,br-Li),Ne.F=Oe.mb,Ne.F==null&&Ne.F.length==0)){lt=Mr(Oe,3,"Could not decode alpha data.");break e}Li<Ne.j&&(rr=Ne.j-Li,Li=Ne.j,t(!(1&rr)),Ne.O+=Oe.R*rr,Ne.N+=Oe.B*(rr>>1),Ne.W+=Oe.B*(rr>>1),Ne.F!=null&&(Ne.J+=Ne.width*rr)),Li<br&&(Ne.O+=Ne.v,Ne.N+=Ne.v>>1,Ne.W+=Ne.v>>1,Ne.F!=null&&(Ne.J+=Ne.v),Ne.ka=Li-Ne.j,Ne.U=Ne.va-Ne.v,Ne.T=br-Li,lt=Ne.put(Ne))}rt+1!=Oe.Ic||lr||(r(Oe.sa,Oe.ta-xt,jt,gi+16*Oe.R,xt),r(Oe.qa,Oe.ra-Yt,Ht,dt+8*Oe.B,Yt),r(Oe.Ha,Oe.Ia-Yt,dr,_r+8*Oe.B,Yt))}if(!lt)return Mr(De,6,"Output aborted.")}return 1}(m,b)),b.bc!=null&&b.bc(b),P&=1}return P?(m.cb=0,P):0}function ta(m,b,P,O,B){B=m[b+P+32*O]+(B>>3),m[b+P+32*O]=-256&B?0>B?0:255:B}function Pn(m,b,P,O,B,Z){ta(m,b,0,P,O+B),ta(m,b,1,P,O+Z),ta(m,b,2,P,O-Z),ta(m,b,3,P,O-B)}function ia(m){return(20091*m>>16)+m}function Ss(m,b,P,O){var B,Z=0,Y=a(16);for(B=0;4>B;++B){var Q=m[b+0]+m[b+8],te=m[b+0]-m[b+8],ce=(35468*m[b+4]>>16)-ia(m[b+12]),Ae=ia(m[b+4])+(35468*m[b+12]>>16);Y[Z+0]=Q+Ae,Y[Z+1]=te+ce,Y[Z+2]=te-ce,Y[Z+3]=Q-Ae,Z+=4,b++}for(B=Z=0;4>B;++B)Q=(m=Y[Z+0]+4)+Y[Z+8],te=m-Y[Z+8],ce=(35468*Y[Z+4]>>16)-ia(Y[Z+12]),ta(P,O,0,0,Q+(Ae=ia(Y[Z+4])+(35468*Y[Z+12]>>16))),ta(P,O,1,0,te+ce),ta(P,O,2,0,te-ce),ta(P,O,3,0,Q-Ae),Z++,O+=32}function Eo(m,b,P,O){var B=m[b+0]+4,Z=35468*m[b+4]>>16,Y=ia(m[b+4]),Q=35468*m[b+1]>>16;Pn(P,O,0,B+Y,m=ia(m[b+1]),Q),Pn(P,O,1,B+Z,m,Q),Pn(P,O,2,B-Z,m,Q),Pn(P,O,3,B-Y,m,Q)}function Gr(m,b,P,O,B){Ss(m,b,P,O),B&&Ss(m,b+16,P,O+4)}function Po(m,b,P,O){za(m,b+0,P,O,1),za(m,b+32,P,O+128,1)}function Qs(m,b,P,O){var B;for(m=m[b+0]+4,B=0;4>B;++B)for(b=0;4>b;++b)ta(P,O,b,B,m)}function Es(m,b,P,O){m[b+0]&&qn(m,b+0,P,O),m[b+16]&&qn(m,b+16,P,O+4),m[b+32]&&qn(m,b+32,P,O+128),m[b+48]&&qn(m,b+48,P,O+128+4)}function Lc(m,b,P,O){var B,Z=a(16);for(B=0;4>B;++B){var Y=m[b+0+B]+m[b+12+B],Q=m[b+4+B]+m[b+8+B],te=m[b+4+B]-m[b+8+B],ce=m[b+0+B]-m[b+12+B];Z[0+B]=Y+Q,Z[8+B]=Y-Q,Z[4+B]=ce+te,Z[12+B]=ce-te}for(B=0;4>B;++B)Y=(m=Z[0+4*B]+3)+Z[3+4*B],Q=Z[1+4*B]+Z[2+4*B],te=Z[1+4*B]-Z[2+4*B],ce=m-Z[3+4*B],P[O+0]=Y+Q>>3,P[O+16]=ce+te>>3,P[O+32]=Y-Q>>3,P[O+48]=ce-te>>3,O+=64}function Jo(m,b,P){var O,B=b-32,Z=Ma,Y=255-m[B-1];for(O=0;O<P;++O){var Q,te=Z,ce=Y+m[b-1];for(Q=0;Q<P;++Q)m[b+Q]=te[ce+m[B+Q]];b+=32}}function Dc(m,b){Jo(m,b,4)}function Rc(m,b){Jo(m,b,8)}function Ol(m,b){Jo(m,b,16)}function ao(m,b){var P;for(P=0;16>P;++P)r(m,b+32*P,m,b-32,16)}function Ps(m,b){var P;for(P=16;0<P;--P)n(m,b,m[b-1],16),b+=32}function Qo(m,b,P){var O;for(O=0;16>O;++O)n(b,P+32*O,m,16)}function Bc(m,b){var P,O=16;for(P=0;16>P;++P)O+=m[b-1+32*P]+m[b+P-32];Qo(O>>5,m,b)}function vn(m,b){var P,O=8;for(P=0;16>P;++P)O+=m[b-1+32*P];Qo(O>>4,m,b)}function Ku(m,b){var P,O=8;for(P=0;16>P;++P)O+=m[b+P-32];Qo(O>>4,m,b)}function Mi(m,b){Qo(128,m,b)}function ci(m,b,P){return m+2*b+P+2>>2}function hr(m,b){var P,O=b-32;for(O=new Uint8Array([ci(m[O-1],m[O+0],m[O+1]),ci(m[O+0],m[O+1],m[O+2]),ci(m[O+1],m[O+2],m[O+3]),ci(m[O+2],m[O+3],m[O+4])]),P=0;4>P;++P)r(m,b+32*P,O,0,O.length)}function Ld(m,b){var P=m[b-1],O=m[b-1+32],B=m[b-1+64],Z=m[b-1+96];Re(m,b+0,16843009*ci(m[b-1-32],P,O)),Re(m,b+32,16843009*ci(P,O,B)),Re(m,b+64,16843009*ci(O,B,Z)),Re(m,b+96,16843009*ci(B,Z,Z))}function Ua(m,b){var P,O=4;for(P=0;4>P;++P)O+=m[b+P-32]+m[b-1+32*P];for(O>>=3,P=0;4>P;++P)n(m,b+32*P,O,4)}function Il(m,b){var P=m[b-1+0],O=m[b-1+32],B=m[b-1+64],Z=m[b-1-32],Y=m[b+0-32],Q=m[b+1-32],te=m[b+2-32],ce=m[b+3-32];m[b+0+96]=ci(O,B,m[b-1+96]),m[b+1+96]=m[b+0+64]=ci(P,O,B),m[b+2+96]=m[b+1+64]=m[b+0+32]=ci(Z,P,O),m[b+3+96]=m[b+2+64]=m[b+1+32]=m[b+0+0]=ci(Y,Z,P),m[b+3+64]=m[b+2+32]=m[b+1+0]=ci(Q,Y,Z),m[b+3+32]=m[b+2+0]=ci(te,Q,Y),m[b+3+0]=ci(ce,te,Q)}function Fl(m,b){var P=m[b+1-32],O=m[b+2-32],B=m[b+3-32],Z=m[b+4-32],Y=m[b+5-32],Q=m[b+6-32],te=m[b+7-32];m[b+0+0]=ci(m[b+0-32],P,O),m[b+1+0]=m[b+0+32]=ci(P,O,B),m[b+2+0]=m[b+1+32]=m[b+0+64]=ci(O,B,Z),m[b+3+0]=m[b+2+32]=m[b+1+64]=m[b+0+96]=ci(B,Z,Y),m[b+3+32]=m[b+2+64]=m[b+1+96]=ci(Z,Y,Q),m[b+3+64]=m[b+2+96]=ci(Y,Q,te),m[b+3+96]=ci(Q,te,te)}function Va(m,b){var P=m[b-1+0],O=m[b-1+32],B=m[b-1+64],Z=m[b-1-32],Y=m[b+0-32],Q=m[b+1-32],te=m[b+2-32],ce=m[b+3-32];m[b+0+0]=m[b+1+64]=Z+Y+1>>1,m[b+1+0]=m[b+2+64]=Y+Q+1>>1,m[b+2+0]=m[b+3+64]=Q+te+1>>1,m[b+3+0]=te+ce+1>>1,m[b+0+96]=ci(B,O,P),m[b+0+64]=ci(O,P,Z),m[b+0+32]=m[b+1+96]=ci(P,Z,Y),m[b+1+32]=m[b+2+96]=ci(Z,Y,Q),m[b+2+32]=m[b+3+96]=ci(Y,Q,te),m[b+3+32]=ci(Q,te,ce)}function el(m,b){var P=m[b+0-32],O=m[b+1-32],B=m[b+2-32],Z=m[b+3-32],Y=m[b+4-32],Q=m[b+5-32],te=m[b+6-32],ce=m[b+7-32];m[b+0+0]=P+O+1>>1,m[b+1+0]=m[b+0+64]=O+B+1>>1,m[b+2+0]=m[b+1+64]=B+Z+1>>1,m[b+3+0]=m[b+2+64]=Z+Y+1>>1,m[b+0+32]=ci(P,O,B),m[b+1+32]=m[b+0+96]=ci(O,B,Z),m[b+2+32]=m[b+1+96]=ci(B,Z,Y),m[b+3+32]=m[b+2+96]=ci(Z,Y,Q),m[b+3+64]=ci(Y,Q,te),m[b+3+96]=ci(Q,te,ce)}function tl(m,b){var P=m[b-1+0],O=m[b-1+32],B=m[b-1+64],Z=m[b-1+96];m[b+0+0]=P+O+1>>1,m[b+2+0]=m[b+0+32]=O+B+1>>1,m[b+2+32]=m[b+0+64]=B+Z+1>>1,m[b+1+0]=ci(P,O,B),m[b+3+0]=m[b+1+32]=ci(O,B,Z),m[b+3+32]=m[b+1+64]=ci(B,Z,Z),m[b+3+64]=m[b+2+64]=m[b+0+96]=m[b+1+96]=m[b+2+96]=m[b+3+96]=Z}function fn(m,b){var P=m[b-1+0],O=m[b-1+32],B=m[b-1+64],Z=m[b-1+96],Y=m[b-1-32],Q=m[b+0-32],te=m[b+1-32],ce=m[b+2-32];m[b+0+0]=m[b+2+32]=P+Y+1>>1,m[b+0+32]=m[b+2+64]=O+P+1>>1,m[b+0+64]=m[b+2+96]=B+O+1>>1,m[b+0+96]=Z+B+1>>1,m[b+3+0]=ci(Q,te,ce),m[b+2+0]=ci(Y,Q,te),m[b+1+0]=m[b+3+32]=ci(P,Y,Q),m[b+1+32]=m[b+3+64]=ci(O,P,Y),m[b+1+64]=m[b+3+96]=ci(B,O,P),m[b+1+96]=ci(Z,B,O)}function es(m,b){var P;for(P=0;8>P;++P)r(m,b+32*P,m,b-32,8)}function Nl(m,b){var P;for(P=0;8>P;++P)n(m,b,m[b-1],8),b+=32}function Ms(m,b,P){var O;for(O=0;8>O;++O)n(b,P+32*O,m,8)}function Ts(m,b){var P,O=8;for(P=0;8>P;++P)O+=m[b+P-32]+m[b-1+32*P];Ms(O>>4,m,b)}function Dd(m,b){var P,O=4;for(P=0;8>P;++P)O+=m[b+P-32];Ms(O>>3,m,b)}function ts(m,b){var P,O=4;for(P=0;8>P;++P)O+=m[b-1+32*P];Ms(O>>3,m,b)}function Uc(m,b){Ms(128,m,b)}function il(m,b,P){var O=m[b-P],B=m[b+0],Z=3*(B-O)+qd[1020+m[b-2*P]-m[b+P]],Y=Yc[112+(Z+4>>3)];m[b-P]=Ma[255+O+Yc[112+(Z+3>>3)]],m[b+0]=Ma[255+B-Y]}function $i(m,b,P,O){var B=m[b+0],Z=m[b+P];return Ta[255+m[b-2*P]-m[b-P]]>O||Ta[255+Z-B]>O}function Rd(m,b,P,O){return 4*Ta[255+m[b-P]-m[b+0]]+Ta[255+m[b-2*P]-m[b+P]]<=O}function ra(m,b,P,O,B){var Z=m[b-3*P],Y=m[b-2*P],Q=m[b-P],te=m[b+0],ce=m[b+P],Ae=m[b+2*P],Ge=m[b+3*P];return 4*Ta[255+Q-te]+Ta[255+Y-ce]>O?0:Ta[255+m[b-4*P]-Z]<=B&&Ta[255+Z-Y]<=B&&Ta[255+Y-Q]<=B&&Ta[255+Ge-Ae]<=B&&Ta[255+Ae-ce]<=B&&Ta[255+ce-te]<=B}function ks(m,b,P,O){var B=2*O+1;for(O=0;16>O;++O)Rd(m,b+O,P,B)&&il(m,b+O,P)}function oo(m,b,P,O){var B=2*O+1;for(O=0;16>O;++O)Rd(m,b+O*P,1,B)&&il(m,b+O*P,1)}function is(m,b,P,O){var B;for(B=3;0<B;--B)ks(m,b+=4*P,P,O)}function Vc(m,b,P,O){var B;for(B=3;0<B;--B)oo(m,b+=4,P,O)}function As(m,b,P,O,B,Z,Y,Q){for(Z=2*Z+1;0<B--;){if(ra(m,b,P,Z,Y))if($i(m,b,P,Q))il(m,b,P);else{var te=m,ce=b,Ae=P,Ge=te[ce-2*Ae],$e=te[ce-Ae],De=te[ce+0],ft=te[ce+Ae],rt=te[ce+2*Ae],Oe=27*(lt=qd[1020+3*(De-$e)+qd[1020+Ge-ft]])+63>>7,Ne=18*lt+63>>7,lt=9*lt+63>>7;te[ce-3*Ae]=Ma[255+te[ce-3*Ae]+lt],te[ce-2*Ae]=Ma[255+Ge+Ne],te[ce-Ae]=Ma[255+$e+Oe],te[ce+0]=Ma[255+De-Oe],te[ce+Ae]=Ma[255+ft-Ne],te[ce+2*Ae]=Ma[255+rt-lt]}b+=O}}function ja(m,b,P,O,B,Z,Y,Q){for(Z=2*Z+1;0<B--;){if(ra(m,b,P,Z,Y))if($i(m,b,P,Q))il(m,b,P);else{var te=m,ce=b,Ae=P,Ge=te[ce-Ae],$e=te[ce+0],De=te[ce+Ae],ft=Yc[112+((rt=3*($e-Ge))+4>>3)],rt=Yc[112+(rt+3>>3)],Oe=ft+1>>1;te[ce-2*Ae]=Ma[255+te[ce-2*Ae]+Oe],te[ce-Ae]=Ma[255+Ge+rt],te[ce+0]=Ma[255+$e-ft],te[ce+Ae]=Ma[255+De-Oe]}b+=O}}function jc(m,b,P,O,B,Z){As(m,b,P,1,16,O,B,Z)}function rl(m,b,P,O,B,Z){As(m,b,1,P,16,O,B,Z)}function qc(m,b,P,O,B,Z){var Y;for(Y=3;0<Y;--Y)ja(m,b+=4*P,P,1,16,O,B,Z)}function Ll(m,b,P,O,B,Z){var Y;for(Y=3;0<Y;--Y)ja(m,b+=4,1,P,16,O,B,Z)}function qa(m,b,P,O,B,Z,Y,Q){As(m,b,B,1,8,Z,Y,Q),As(P,O,B,1,8,Z,Y,Q)}function zc(m,b,P,O,B,Z,Y,Q){As(m,b,1,B,8,Z,Y,Q),As(P,O,1,B,8,Z,Y,Q)}function Dl(m,b,P,O,B,Z,Y,Q){ja(m,b+4*B,B,1,8,Z,Y,Q),ja(P,O+4*B,B,1,8,Z,Y,Q)}function so(m,b,P,O,B,Z,Y,Q){ja(m,b+4,1,B,8,Z,Y,Q),ja(P,O+4,1,B,8,Z,Y,Q)}function nl(){this.ba=new ba,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new vr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Rl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function al(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Bd(){this.ua=0,this.Wa=new ge,this.vb=new ge,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new _e,this.yc=new H}function Ud(){this.xb=this.a=0,this.l=new sr,this.ca=new ba,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new A,this.Pb=0,this.wd=new A,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Bd,this.ab=0,this.gc=o(4,al),this.Oc=0}function ol(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new sr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function sl(m,b,P,O,B,Z,Y){for(m=m==null?0:m[b+0],b=0;b<Y;++b)B[Z+b]=m+P[O+b]&255,m=B[Z+b]}function Wc(m,b,P,O,B,Z,Y){var Q;if(m==null)sl(null,null,P,O,B,Z,Y);else for(Q=0;Q<Y;++Q)B[Z+Q]=m[b+Q]+P[O+Q]&255}function Mo(m,b,P,O,B,Z,Y){if(m==null)sl(null,null,P,O,B,Z,Y);else{var Q,te=m[b+0],ce=te,Ae=te;for(Q=0;Q<Y;++Q)ce=Ae+(te=m[b+Q])-ce,Ae=P[O+Q]+(-256&ce?0>ce?0:255:ce)&255,ce=te,B[Z+Q]=Ae}}function Hc(m,b,P,O){var B=b.width,Z=b.o;if(t(m!=null&&b!=null),0>P||0>=O||P+O>Z)return null;if(!m.Cc){if(m.ga==null){var Y;if(m.ga=new ol,(Y=m.ga==null)||(Y=b.width*b.o,t(m.Gb.length==0),m.Gb=a(Y),m.Uc=0,m.Gb==null?Y=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,Y=1),Y=!Y),!Y){Y=m.ga;var Q=m.Fa,te=m.P,ce=m.qc,Ae=m.mb,Ge=m.nb,$e=te+1,De=ce-1,ft=Y.l;if(t(Q!=null&&Ae!=null&&b!=null),Bs[0]=null,Bs[1]=sl,Bs[2]=Wc,Bs[3]=Mo,Y.ca=Ae,Y.tb=Ge,Y.c=b.width,Y.i=b.height,t(0<Y.c&&0<Y.i),1>=ce)b=0;else if(Y.$a=Q[te+0]>>0&3,Y.Z=Q[te+0]>>2&3,Y.Lc=Q[te+0]>>4&3,te=Q[te+0]>>6&3,0>Y.$a||1<Y.$a||4<=Y.Z||1<Y.Lc||te)b=0;else if(ft.put=Ra,ft.ac=Kr,ft.bc=Ba,ft.ma=Y,ft.width=b.width,ft.height=b.height,ft.Da=b.Da,ft.v=b.v,ft.va=b.va,ft.j=b.j,ft.o=b.o,Y.$a)e:{t(Y.$a==1),b=et();t:for(;;){if(b==null){b=0;break e}if(t(Y!=null),Y.mc=b,b.c=Y.c,b.i=Y.i,b.l=Y.l,b.l.ma=Y,b.l.width=Y.c,b.l.height=Y.i,b.a=0,Me(b.m,Q,$e,De),!We(Y.c,Y.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&ne(b.s)?(Y.ic=1,Q=b.c*b.i,b.Ta=null,b.Ua=0,b.V=a(Q),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(Y.ic=0,b=He(b,Y.c)),!b))break t;b=1;break e}Y.mc=null,b=0}else b=De>=Y.c*Y.i;Y=!b}if(Y)return null;m.ga.Lc!=1?m.Ga=0:O=Z-P}t(m.ga!=null),t(P+O<=Z);e:{if(b=(Q=m.ga).c,Z=Q.l.o,Q.$a==0){if($e=m.rc,De=m.Vc,ft=m.Fa,te=m.P+1+P*b,ce=m.mb,Ae=m.nb+P*b,t(te<=m.P+m.qc),Q.Z!=0)for(t(Bs[Q.Z]!=null),Y=0;Y<O;++Y)Bs[Q.Z]($e,De,ft,te,ce,Ae,b),$e=ce,De=Ae,Ae+=b,te+=b;else for(Y=0;Y<O;++Y)r(ce,Ae,ft,te,b),$e=ce,De=Ae,Ae+=b,te+=b;m.rc=$e,m.Vc=De}else{if(t(Q.mc!=null),b=P+O,t((Y=Q.mc)!=null),t(b<=Y.i),Y.C>=b)b=1;else if(Q.ic||Ue(),Q.ic){Q=Y.V,$e=Y.Ba,De=Y.c;var rt=Y.i,Oe=(ft=1,te=Y.$/De,ce=Y.$%De,Ae=Y.m,Ge=Y.s,Y.$),Ne=De*rt,lt=De*b,xt=Ge.wc,dt=Oe<lt?jr(Ge,ce,te):null;t(Oe<=Ne),t(b<=rt),t(ne(Ge));t:for(;;){for(;!Ae.h&&Oe<lt;){if(ce&xt||(dt=jr(Ge,ce,te)),t(dt!=null),se(Ae),256>(rt=$t(dt.G[0],dt.H[0],Ae)))Q[$e+Oe]=rt,++Oe,++ce>=De&&(ce=0,++te<=b&&!(te%16)&&de(Y,te));else{if(!(280>rt)){ft=0;break t}rt=xa(rt-256,Ae);var Yt,jt=$t(dt.G[4],dt.H[4],Ae);if(se(Ae),!(Oe>=(jt=Vr(De,jt=xa(jt,Ae)))&&Ne-Oe>=rt)){ft=0;break t}for(Yt=0;Yt<rt;++Yt)Q[$e+Oe+Yt]=Q[$e+Oe+Yt-jt];for(Oe+=rt,ce+=rt;ce>=De;)ce-=De,++te<=b&&!(te%16)&&de(Y,te);Oe<lt&&ce&xt&&(dt=jr(Ge,ce,te))}t(Ae.h==N(Ae))}de(Y,te>b?b:te);break t}!ft||Ae.h&&Oe<Ne?(ft=0,Y.a=Ae.h?5:3):Y.$=Oe,b=ft}else b=pe(Y,Y.V,Y.Ba,Y.c,Y.i,b,Xe);if(!b){O=0;break e}}P+O>=Z&&(m.Cc=1),O=1}if(!O)return null;if(m.Cc&&((O=m.ga)!=null&&(O.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+P*B}function C(m,b,P,O,B,Z){for(;0<B--;){var Y,Q=m,te=b+(P?1:0),ce=m,Ae=b+(P?0:3);for(Y=0;Y<O;++Y){var Ge=ce[Ae+4*Y];Ge!=255&&(Ge*=32897,Q[te+4*Y+0]=Q[te+4*Y+0]*Ge>>23,Q[te+4*Y+1]=Q[te+4*Y+1]*Ge>>23,Q[te+4*Y+2]=Q[te+4*Y+2]*Ge>>23)}b+=Z}}function R(m,b,P,O,B){for(;0<O--;){var Z;for(Z=0;Z<P;++Z){var Y=m[b+2*Z+0],Q=15&(ce=m[b+2*Z+1]),te=4369*Q,ce=(240&ce|ce>>4)*te>>16;m[b+2*Z+0]=(240&Y|Y>>4)*te>>16&240|(15&Y|Y<<4)*te>>16>>4&15,m[b+2*Z+1]=240&ce|Q}b+=B}}function me(m,b,P,O,B,Z,Y,Q){var te,ce,Ae=255;for(ce=0;ce<B;++ce){for(te=0;te<O;++te){var Ge=m[b+te];Z[Y+4*te]=Ge,Ae&=Ge}b+=P,Y+=Q}return Ae!=255}function Pe(m,b,P,O,B){var Z;for(Z=0;Z<B;++Z)P[O+Z]=m[b+Z]>>8}function Ue(){Ea=C,Tr=R,ir=me,Xr=Pe}function it(m,b,P){ie[m]=function(O,B,Z,Y,Q,te,ce,Ae,Ge,$e,De,ft,rt,Oe,Ne,lt,xt){var dt,Yt=xt-1>>1,jt=Q[te+0]|ce[Ae+0]<<16,gi=Ge[$e+0]|De[ft+0]<<16;t(O!=null);var Ht=3*jt+gi+131074>>2;for(b(O[B+0],255&Ht,Ht>>16,rt,Oe),Z!=null&&(Ht=3*gi+jt+131074>>2,b(Z[Y+0],255&Ht,Ht>>16,Ne,lt)),dt=1;dt<=Yt;++dt){var dr=Q[te+dt]|ce[Ae+dt]<<16,_r=Ge[$e+dt]|De[ft+dt]<<16,lr=jt+dr+gi+_r+524296,rr=lr+2*(dr+gi)>>3;Ht=rr+jt>>1,jt=(lr=lr+2*(jt+_r)>>3)+dr>>1,b(O[B+2*dt-1],255&Ht,Ht>>16,rt,Oe+(2*dt-1)*P),b(O[B+2*dt-0],255&jt,jt>>16,rt,Oe+(2*dt-0)*P),Z!=null&&(Ht=lr+gi>>1,jt=rr+_r>>1,b(Z[Y+2*dt-1],255&Ht,Ht>>16,Ne,lt+(2*dt-1)*P),b(Z[Y+2*dt+0],255&jt,jt>>16,Ne,lt+(2*dt+0)*P)),jt=dr,gi=_r}1&xt||(Ht=3*jt+gi+131074>>2,b(O[B+xt-1],255&Ht,Ht>>16,rt,Oe+(xt-1)*P),Z!=null&&(Ht=3*gi+jt+131074>>2,b(Z[Y+xt-1],255&Ht,Ht>>16,Ne,lt+(xt-1)*P)))}}function ct(){Ha[Kc]=rg,Ha[Jc]=r0,Ha[Qu]=i0,Ha[Qc]=Ff,Ha[zd]=v_,Ha[Wd]=__,Ha[e0]=h5,Ha[t0]=r0,Ha[s]=Ff,Ha[f]=v_,Ha[_]=__}function Gt(m){return m&~m5?0>m?0:255:m>>b_}function ii(m,b){return Gt((19077*m>>8)+(26149*b>>8)-14234)}function Ai(m,b,P){return Gt((19077*m>>8)-(6419*b>>8)-(13320*P>>8)+8708)}function Ei(m,b){return Gt((19077*m>>8)+(33050*b>>8)-17685)}function Xi(m,b,P,O,B){O[B+0]=ii(m,P),O[B+1]=Ai(m,b,P),O[B+2]=Ei(m,b)}function qr(m,b,P,O,B){O[B+0]=Ei(m,b),O[B+1]=Ai(m,b,P),O[B+2]=ii(m,P)}function $r(m,b,P,O,B){var Z=Ai(m,b,P);b=Z<<3&224|Ei(m,b)>>3,O[B+0]=248&ii(m,P)|Z>>5,O[B+1]=b}function Qr(m,b,P,O,B){var Z=240&Ei(m,b)|15;O[B+0]=240&ii(m,P)|Ai(m,b,P)>>4,O[B+1]=Z}function On(m,b,P,O,B){O[B+0]=255,Xi(m,b,P,O,B+1)}function mr(m,b,P,O,B){qr(m,b,P,O,B),O[B+3]=255}function In(m,b,P,O,B){Xi(m,b,P,O,B),O[B+3]=255}function ya(m,b){return 0>m?0:m>b?b:m}function _n(m,b,P){ie[m]=function(O,B,Z,Y,Q,te,ce,Ae,Ge){for(var $e=Ae+(-2&Ge)*P;Ae!=$e;)b(O[B+0],Z[Y+0],Q[te+0],ce,Ae),b(O[B+1],Z[Y+0],Q[te+0],ce,Ae+P),B+=2,++Y,++te,Ae+=2*P;1&Ge&&b(O[B+0],Z[Y+0],Q[te+0],ce,Ae)}}function Vd(m,b,P){return P==0?m==0?b==0?6:5:b==0?4:0:P}function To(m,b,P,O,B){switch(m>>>30){case 3:za(b,P,O,B,0);break;case 2:en(b,P,O,B);break;case 1:qn(b,P,O,B)}}function Gc(m,b){var P,O,B=b.M,Z=b.Nb,Y=m.oc,Q=m.pc+40,te=m.oc,ce=m.pc+584,Ae=m.oc,Ge=m.pc+600;for(P=0;16>P;++P)Y[Q+32*P-1]=129;for(P=0;8>P;++P)te[ce+32*P-1]=129,Ae[Ge+32*P-1]=129;for(0<B?Y[Q-1-32]=te[ce-1-32]=Ae[Ge-1-32]=129:(n(Y,Q-32-1,127,21),n(te,ce-32-1,127,9),n(Ae,Ge-32-1,127,9)),O=0;O<m.za;++O){var $e=b.ya[b.aa+O];if(0<O){for(P=-1;16>P;++P)r(Y,Q+32*P-4,Y,Q+32*P+12,4);for(P=-1;8>P;++P)r(te,ce+32*P-4,te,ce+32*P+4,4),r(Ae,Ge+32*P-4,Ae,Ge+32*P+4,4)}var De=m.Gd,ft=m.Hd+O,rt=$e.ad,Oe=$e.Hc;if(0<B&&(r(Y,Q-32,De[ft].y,0,16),r(te,ce-32,De[ft].f,0,8),r(Ae,Ge-32,De[ft].ea,0,8)),$e.Za){var Ne=Y,lt=Q-32+16;for(0<B&&(O>=m.za-1?n(Ne,lt,De[ft].y[15],4):r(Ne,lt,De[ft+1].y,0,4)),P=0;4>P;P++)Ne[lt+128+P]=Ne[lt+256+P]=Ne[lt+384+P]=Ne[lt+0+P];for(P=0;16>P;++P,Oe<<=2)Ne=Y,lt=Q+y_[P],po[$e.Ob[P]](Ne,lt),To(Oe,rt,16*+P,Ne,lt)}else if(Ne=Vd(O,B,$e.Ob[0]),ss[Ne](Y,Q),Oe!=0)for(P=0;16>P;++P,Oe<<=2)To(Oe,rt,16*+P,Y,Q+y_[P]);for(P=$e.Gc,Ne=Vd(O,B,$e.Dd),No[Ne](te,ce),No[Ne](Ae,Ge),Oe=rt,Ne=te,lt=ce,255&($e=P>>0)&&(170&$e?zl(Oe,256,Ne,lt):Ca(Oe,256,Ne,lt)),$e=Ae,Oe=Ge,255&(P>>=8)&&(170&P?zl(rt,320,$e,Oe):Ca(rt,320,$e,Oe)),B<m.Ub-1&&(r(De[ft].y,0,Y,Q+480,16),r(De[ft].f,0,te,ce+224,8),r(De[ft].ea,0,Ae,Ge+224,8)),P=8*Z*m.B,De=m.sa,ft=m.ta+16*O+16*Z*m.R,rt=m.qa,$e=m.ra+8*O+P,Oe=m.Ha,Ne=m.Ia+8*O+P,P=0;16>P;++P)r(De,ft+P*m.R,Y,Q+32*P,16);for(P=0;8>P;++P)r(rt,$e+P*m.B,te,ce+32*P,8),r(Oe,Ne+P*m.B,Ae,Ge+32*P,8)}}function ko(m,b,P,O,B,Z,Y,Q,te){var ce=[0],Ae=[0],Ge=0,$e=te!=null?te.kd:0,De=te??new Rl;if(m==null||12>P)return 7;De.data=m,De.w=b,De.ha=P,b=[b],P=[P],De.gb=[De.gb];e:{var ft=b,rt=P,Oe=De.gb;if(t(m!=null),t(rt!=null),t(Oe!=null),Oe[0]=0,12<=rt[0]&&!e(m,ft[0],"RIFF")){if(e(m,ft[0]+8,"WEBP")){Oe=3;break e}var Ne=Pt(m,ft[0]+4);if(12>Ne||4294967286<Ne){Oe=3;break e}if($e&&Ne>rt[0]-8){Oe=7;break e}Oe[0]=Ne,ft[0]+=12,rt[0]-=12}Oe=0}if(Oe!=0)return Oe;for(Ne=0<De.gb[0],P=P[0];;){e:{var lt=m;rt=b,Oe=P;var xt=ce,dt=Ae,Yt=ft=[0];if((Ht=Ge=[Ge])[0]=0,8>Oe[0])Oe=7;else{if(!e(lt,rt[0],"VP8X")){if(Pt(lt,rt[0]+4)!=10){Oe=3;break e}if(18>Oe[0]){Oe=7;break e}var jt=Pt(lt,rt[0]+8),gi=1+pt(lt,rt[0]+12);if(2147483648<=gi*(lt=1+pt(lt,rt[0]+15))){Oe=3;break e}Yt!=null&&(Yt[0]=jt),xt!=null&&(xt[0]=gi),dt!=null&&(dt[0]=lt),rt[0]+=18,Oe[0]-=18,Ht[0]=1}Oe=0}}if(Ge=Ge[0],ft=ft[0],Oe!=0)return Oe;if(rt=!!(2&ft),!Ne&&Ge)return 3;if(Z!=null&&(Z[0]=!!(16&ft)),Y!=null&&(Y[0]=rt),Q!=null&&(Q[0]=0),Y=ce[0],ft=Ae[0],Ge&&rt&&te==null){Oe=0;break}if(4>P){Oe=7;break}if(Ne&&Ge||!Ne&&!Ge&&!e(m,b[0],"ALPH")){P=[P],De.na=[De.na],De.P=[De.P],De.Sa=[De.Sa];e:{jt=m,Oe=b,Ne=P;var Ht=De.gb;xt=De.na,dt=De.P,Yt=De.Sa,gi=22,t(jt!=null),t(Ne!=null),lt=Oe[0];var dr=Ne[0];for(t(xt!=null),t(Yt!=null),xt[0]=null,dt[0]=null,Yt[0]=0;;){if(Oe[0]=lt,Ne[0]=dr,8>dr){Oe=7;break e}var _r=Pt(jt,lt+4);if(4294967286<_r){Oe=3;break e}var lr=8+_r+1&-2;if(gi+=lr,0<Ht&&gi>Ht){Oe=3;break e}if(!e(jt,lt,"VP8 ")||!e(jt,lt,"VP8L")){Oe=0;break e}if(dr[0]<lr){Oe=7;break e}e(jt,lt,"ALPH")||(xt[0]=jt,dt[0]=lt+8,Yt[0]=_r),lt+=lr,dr-=lr}}if(P=P[0],De.na=De.na[0],De.P=De.P[0],De.Sa=De.Sa[0],Oe!=0)break}P=[P],De.Ja=[De.Ja],De.xa=[De.xa];e:if(Ht=m,Oe=b,Ne=P,xt=De.gb[0],dt=De.Ja,Yt=De.xa,jt=Oe[0],lt=!e(Ht,jt,"VP8 "),gi=!e(Ht,jt,"VP8L"),t(Ht!=null),t(Ne!=null),t(dt!=null),t(Yt!=null),8>Ne[0])Oe=7;else{if(lt||gi){if(Ht=Pt(Ht,jt+4),12<=xt&&Ht>xt-12){Oe=3;break e}if($e&&Ht>Ne[0]-8){Oe=7;break e}dt[0]=Ht,Oe[0]+=8,Ne[0]-=8,Yt[0]=gi}else Yt[0]=5<=Ne[0]&&Ht[jt+0]==47&&!(Ht[jt+4]>>5),dt[0]=Ne[0];Oe=0}if(P=P[0],De.Ja=De.Ja[0],De.xa=De.xa[0],b=b[0],Oe!=0)break;if(4294967286<De.Ja)return 3;if(Q==null||rt||(Q[0]=De.xa?2:1),Y=[Y],ft=[ft],De.xa){if(5>P){Oe=7;break}Q=Y,$e=ft,rt=Z,m==null||5>P?m=0:5<=P&&m[b+0]==47&&!(m[b+4]>>5)?(Ne=[0],Ht=[0],xt=[0],Me(dt=new A,m,b,P),fi(dt,Ne,Ht,xt)?(Q!=null&&(Q[0]=Ne[0]),$e!=null&&($e[0]=Ht[0]),rt!=null&&(rt[0]=xt[0]),m=1):m=0):m=0}else{if(10>P){Oe=7;break}Q=ft,m==null||10>P||!Ko(m,b+3,P-3)?m=0:($e=m[b+0]|m[b+1]<<8|m[b+2]<<16,rt=16383&(m[b+7]<<8|m[b+6]),m=16383&(m[b+9]<<8|m[b+8]),1&$e||3<($e>>1&7)||!($e>>4&1)||$e>>5>=De.Ja||!rt||!m?m=0:(Y&&(Y[0]=rt),Q&&(Q[0]=m),m=1))}if(!m||(Y=Y[0],ft=ft[0],Ge&&(ce[0]!=Y||Ae[0]!=ft)))return 3;te!=null&&(te[0]=De,te.offset=b-te.w,t(4294967286>b-te.w),t(te.offset==te.ha-P));break}return Oe==0||Oe==7&&Ge&&te==null?(Z!=null&&(Z[0]|=De.na!=null&&0<De.na.length),O!=null&&(O[0]=Y),B!=null&&(B[0]=ft),0):Oe}function Bl(m,b,P){var O=b.width,B=b.height,Z=0,Y=0,Q=O,te=B;if(b.Da=m!=null&&0<m.Da,b.Da&&(Q=m.cd,te=m.bd,Z=m.v,Y=m.j,11>P||(Z&=-2,Y&=-2),0>Z||0>Y||0>=Q||0>=te||Z+Q>O||Y+te>B))return 0;if(b.v=Z,b.j=Y,b.va=Z+Q,b.o=Y+te,b.U=Q,b.T=te,b.da=m!=null&&0<m.da,b.da){if(!mt(Q,te,P=[m.ib],Z=[m.hb]))return 0;b.ib=P[0],b.hb=Z[0]}return b.ob=m!=null&&m.ob,b.Kb=m==null||!m.Sd,b.da&&(b.ob=b.ib<3*O/4&&b.hb<3*B/4,b.Kb=0),1}function Os(m){if(m==null)return 2;if(11>m.S){var b=m.f.RGBA;b.fb+=(m.height-1)*b.A,b.A=-b.A}else b=m.f.kb,m=m.height,b.O+=(m-1)*b.fa,b.fa=-b.fa,b.N+=(m-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(m-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(m-1)*b.lb,b.lb=-b.lb);return 0}function Ul(m,b,P,O){if(O==null||0>=m||0>=b)return 2;if(P!=null){if(P.Da){var B=P.cd,Z=P.bd,Y=-2&P.v,Q=-2&P.j;if(0>Y||0>Q||0>=B||0>=Z||Y+B>m||Q+Z>b)return 2;m=B,b=Z}if(P.da){if(!mt(m,b,B=[P.ib],Z=[P.hb]))return 2;m=B[0],b=Z[0]}}O.width=m,O.height=b;e:{var te=O.width,ce=O.height;if(m=O.S,0>=te||0>=ce||!(m>=Kc&&13>m))m=2;else{if(0>=O.Rd&&O.sd==null){Y=Z=B=b=0;var Ae=(Q=te*C_[m])*ce;if(11>m||(Z=(ce+1)/2*(b=(te+1)/2),m==12&&(Y=(B=te)*ce)),(ce=a(Ae+2*Z+Y))==null){m=1;break e}O.sd=ce,11>m?((te=O.f.RGBA).eb=ce,te.fb=0,te.A=Q,te.size=Ae):((te=O.f.kb).y=ce,te.O=0,te.fa=Q,te.Fd=Ae,te.f=ce,te.N=0+Ae,te.Ab=b,te.Cd=Z,te.ea=ce,te.W=0+Ae+Z,te.Db=b,te.Ed=Z,m==12&&(te.F=ce,te.J=0+Ae+2*Z),te.Tc=Y,te.lb=B)}if(b=1,B=O.S,Z=O.width,Y=O.height,B>=Kc&&13>B)if(11>B)m=O.f.RGBA,b&=(Q=Math.abs(m.A))*(Y-1)+Z<=m.size,b&=Q>=Z*C_[B],b&=m.eb!=null;else{m=O.f.kb,Q=(Z+1)/2,Ae=(Y+1)/2,te=Math.abs(m.fa),ce=Math.abs(m.Ab);var Ge=Math.abs(m.Db),$e=Math.abs(m.lb),De=$e*(Y-1)+Z;b&=te*(Y-1)+Z<=m.Fd,b&=ce*(Ae-1)+Q<=m.Cd,b=(b&=Ge*(Ae-1)+Q<=m.Ed)&te>=Z&ce>=Q&Ge>=Q,b&=m.y!=null,b&=m.f!=null,b&=m.ea!=null,B==12&&(b&=$e>=Z,b&=De<=m.Tc,b&=m.F!=null)}else b=0;m=b?0:2}}return m!=0||P!=null&&P.fd&&(m=Os(O)),m}var Br=64,rs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Vl=24,Is=32,$c=8,Zr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ft("Predictor0","PredictorAdd0"),ie.Predictor0=function(){return 4278190080},ie.Predictor1=function(m){return m},ie.Predictor2=function(m,b,P){return b[P+0]},ie.Predictor3=function(m,b,P){return b[P+1]},ie.Predictor4=function(m,b,P){return b[P-1]},ie.Predictor5=function(m,b,P){return Vt(Vt(m,b[P+1]),b[P+0])},ie.Predictor6=function(m,b,P){return Vt(m,b[P-1])},ie.Predictor7=function(m,b,P){return Vt(m,b[P+0])},ie.Predictor8=function(m,b,P){return Vt(b[P-1],b[P+0])},ie.Predictor9=function(m,b,P){return Vt(b[P+0],b[P+1])},ie.Predictor10=function(m,b,P){return Vt(Vt(m,b[P-1]),Vt(b[P+0],b[P+1]))},ie.Predictor11=function(m,b,P){var O=b[P+0];return 0>=yi(O>>24&255,m>>24&255,(b=b[P-1])>>24&255)+yi(O>>16&255,m>>16&255,b>>16&255)+yi(O>>8&255,m>>8&255,b>>8&255)+yi(255&O,255&m,255&b)?O:m},ie.Predictor12=function(m,b,P){var O=b[P+0];return(Qt((m>>24&255)+(O>>24&255)-((b=b[P-1])>>24&255))<<24|Qt((m>>16&255)+(O>>16&255)-(b>>16&255))<<16|Qt((m>>8&255)+(O>>8&255)-(b>>8&255))<<8|Qt((255&m)+(255&O)-(255&b)))>>>0},ie.Predictor13=function(m,b,P){var O=b[P-1];return(ti((m=Vt(m,b[P+0]))>>24&255,O>>24&255)<<24|ti(m>>16&255,O>>16&255)<<16|ti(m>>8&255,O>>8&255)<<8|ti(m>>0&255,O>>0&255))>>>0};var Ju=ie.PredictorAdd0;ie.PredictorAdd1=Ti,Ft("Predictor2","PredictorAdd2"),Ft("Predictor3","PredictorAdd3"),Ft("Predictor4","PredictorAdd4"),Ft("Predictor5","PredictorAdd5"),Ft("Predictor6","PredictorAdd6"),Ft("Predictor7","PredictorAdd7"),Ft("Predictor8","PredictorAdd8"),Ft("Predictor9","PredictorAdd9"),Ft("Predictor10","PredictorAdd10"),Ft("Predictor11","PredictorAdd11"),Ft("Predictor12","PredictorAdd12"),Ft("Predictor13","PredictorAdd13");var Ao=ie.PredictorAdd2;Fi("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),Fi("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var jd,nn=ie.ColorIndexInverseTransform,ns=ie.MapARGB,Zc=ie.VP8LColorIndexInverseTransformAlpha,jl=ie.MapAlpha,lo=ie.VP8LPredictorsAdd=[];lo.length=16,(ie.VP8LPredictors=[]).length=16,(ie.VP8LPredictorsAdd_C=[]).length=16,(ie.VP8LPredictors_C=[]).length=16;var as,Mn,an,co,uo,Oo,ql,za,en,zl,qn,Ca,Wl,wa,Fs,ll,Io,Ns,Ls,Hl,fo,Ds,Fo,Sa,Ea,Tr,ir,Xr,on=a(511),Pa=a(2041),Xc=a(225),os=a(767),Rs=0,qd=Pa,Yc=Xc,Ma=os,Ta=on,Kc=0,Jc=1,Qu=2,Qc=3,zd=4,Wd=5,e0=6,t0=7,s=8,f=9,_=10,S=[2,3,7],I=[3,3,11],K=[280,256,256,256,40],Se=[0,1,1,1,0],qe=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ke=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],bt=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Xt=8,pi=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ni=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],pn=null,bn=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Wa=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],zn=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Gl=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],eg=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],tg=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ig=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ss=[],po=[],No=[],sn=1,ed=2,Bs=[],Ha=[];it("UpsampleRgbLinePair",Xi,3),it("UpsampleBgrLinePair",qr,3),it("UpsampleRgbaLinePair",In,4),it("UpsampleBgraLinePair",mr,4),it("UpsampleArgbLinePair",On,4),it("UpsampleRgba4444LinePair",Qr,2),it("UpsampleRgb565LinePair",$r,2);var rg=ie.UpsampleRgbLinePair,i0=ie.UpsampleBgrLinePair,r0=ie.UpsampleRgbaLinePair,Ff=ie.UpsampleBgraLinePair,v_=ie.UpsampleArgbLinePair,__=ie.UpsampleRgba4444LinePair,h5=ie.UpsampleRgb565LinePair,Nf=16,Lf=1<<Nf-1,n0=-227,ng=482,b_=6,m5=(256<<b_)-1,x_=0,g5=a(256),v5=a(256),_5=a(256),b5=a(256),x5=a(ng-n0),y5=a(ng-n0);_n("YuvToRgbRow",Xi,3),_n("YuvToBgrRow",qr,3),_n("YuvToRgbaRow",In,4),_n("YuvToBgraRow",mr,4),_n("YuvToArgbRow",On,4),_n("YuvToRgba4444Row",Qr,2),_n("YuvToRgb565Row",$r,2);var y_=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Df=[0,2,8],C5=[8,7,6,4,4,2,2,2,1,1,1,1],w5=1;this.WebPDecodeRGBA=function(m,b,P,O,B){var Z=Jc,Y=new nl,Q=new ba;Y.ba=Q,Q.S=Z,Q.width=[Q.width],Q.height=[Q.height];var te=Q.width,ce=Q.height,Ae=new no;if(Ae==null||m==null)var Ge=2;else t(Ae!=null),Ge=ko(m,b,P,Ae.width,Ae.height,Ae.Pd,Ae.Qd,Ae.format,null);if(Ge!=0?te=0:(te!=null&&(te[0]=Ae.width[0]),ce!=null&&(ce[0]=Ae.height[0]),te=1),te){Q.width=Q.width[0],Q.height=Q.height[0],O!=null&&(O[0]=Q.width),B!=null&&(B[0]=Q.height);e:{if(O=new sr,(B=new Rl).data=m,B.w=b,B.ha=P,B.kd=1,b=[0],t(B!=null),((m=ko(B.data,B.w,B.ha,null,null,null,b,null,B))==0||m==7)&&b[0]&&(m=4),(b=m)==0){if(t(Y!=null),O.data=B.data,O.w=B.w+B.offset,O.ha=B.ha-B.offset,O.put=Ra,O.ac=Kr,O.bc=Ba,O.ma=Y,B.xa){if((m=et())==null){Y=1;break e}if(function($e,De){var ft=[0],rt=[0],Oe=[0];t:for(;;){if($e==null)return 0;if(De==null)return $e.a=2,0;if($e.l=De,$e.a=0,Me($e.m,De.data,De.w,De.ha),!fi($e.m,ft,rt,Oe)){$e.a=3;break t}if($e.xb=ed,De.width=ft[0],De.height=rt[0],!We(ft[0],rt[0],1,$e,null))break t;return 1}return t($e.a!=0),0}(m,O)){if(O=(b=Ul(O.width,O.height,Y.Oa,Y.ba))==0){t:{O=m;i:for(;;){if(O==null){O=0;break t}if(t(O.s.yc!=null),t(O.s.Ya!=null),t(0<O.s.Wb),t((P=O.l)!=null),t((B=P.ma)!=null),O.xb!=0){if(O.ca=B.ba,O.tb=B.tb,t(O.ca!=null),!Bl(B.Oa,P,Qc)){O.a=2;break i}if(!He(O,P.width)||P.da)break i;if((P.da||tr(O.ca.S))&&Ue(),11>O.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),O.ca.f.kb.F!=null&&Ue()),O.Pb&&0<O.s.ua&&O.s.vb.X==null&&!Lt(O.s.vb,O.s.Wa.Xa)){O.a=1;break i}O.xb=0}if(!pe(O,O.V,O.Ba,O.c,O.i,P.o,fe))break i;B.Dc=O.Ma,O=1;break t}t(O.a!=0),O=0}O=!O}O&&(b=m.a)}else b=m.a}else{if((m=new An)==null){Y=1;break e}if(m.Fa=B.na,m.P=B.P,m.qc=B.Sa,Al(m,O)){if((b=Ul(O.width,O.height,Y.Oa,Y.ba))==0){if(m.Aa=0,P=Y.Oa,t((B=m)!=null),P!=null){if(0<(te=0>(te=P.Md)?0:100<te?255:255*te/100)){for(ce=Ae=0;4>ce;++ce)12>(Ge=B.pb[ce]).lc&&(Ge.ia=te*C5[0>Ge.lc?0:Ge.lc]>>3),Ae|=Ge.ia;Ae&&(alert("todo:VP8InitRandom"),B.ia=1)}B.Ga=P.Id,100<B.Ga?B.Ga=100:0>B.Ga&&(B.Ga=0)}Nc(m,O)||(b=m.a)}}else b=m.a}b==0&&Y.Oa!=null&&Y.Oa.fd&&(b=Os(Y.ba))}Y=b}Z=Y!=0?null:11>Z?Q.f.RGBA.eb:Q.f.kb.y}else Z=null;return Z};var C_=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function p(ie,le){for(var Ce="",q=0;q<4;q++)Ce+=String.fromCharCode(ie[le++]);return Ce}function g(ie,le){return(ie[le+0]<<0|ie[le+1]<<8|ie[le+2]<<16)>>>0}function y(ie,le){return(ie[le+0]<<0|ie[le+1]<<8|ie[le+2]<<16|ie[le+3]<<24)>>>0}new u;var w=[0],x=[0],T=[],E=new u,k=i,F=function(ie,le){var Ce={},q=0,H=!1,ve=0,_e=0;if(Ce.frames=[],!function(V,N,j,se){for(var Ee=0;Ee<se;Ee++)if(V[N+Ee]!=j.charCodeAt(Ee))return!0;return!1}(ie,le,"RIFF",4)){for(y(ie,le+=4),le+=8;le<ie.length;){var Fe=p(ie,le),ke=y(ie,le+=4);le+=4;var Ye=ke+(1&ke);switch(Fe){case"VP8 ":case"VP8L":Ce.frames[q]===void 0&&(Ce.frames[q]={}),(Ze=Ce.frames[q]).src_off=H?_e:le-8,Ze.src_size=ve+ke+8,q++,H&&(H=!1,ve=0,_e=0);break;case"VP8X":(Ze=Ce.header={}).feature_flags=ie[le];var Me=le+4;Ze.canvas_width=1+g(ie,Me),Me+=3,Ze.canvas_height=1+g(ie,Me),Me+=3;break;case"ALPH":H=!0,ve=Ye+8,_e=le-8;break;case"ANIM":(Ze=Ce.header).bgcolor=y(ie,le),Me=le+4,Ze.loop_count=(wt=ie)[(A=Me)+0]<<0|wt[A+1]<<8,Me+=2;break;case"ANMF":var je,Ze;(Ze=Ce.frames[q]={}).offset_x=2*g(ie,le),le+=3,Ze.offset_y=2*g(ie,le),le+=3,Ze.width=1+g(ie,le),le+=3,Ze.height=1+g(ie,le),le+=3,Ze.duration=g(ie,le),le+=3,je=ie[le++],Ze.dispose=1&je,Ze.blend=je>>1&1}Fe!="ANMF"&&(le+=Ye)}var wt,A;return Ce}}(k,0);F.response=k,F.rgbaoutput=!0,F.dataurl=!1;var D=F.header?F.header:null,X=F.frames?F.frames:null;if(D){D.loop_counter=D.loop_count,w=[D.canvas_height],x=[D.canvas_width];for(var he=0;he<X.length&&X[he].blend!=0;he++);}var we=X[0],Be=E.WebPDecodeRGBA(k,we.src_off,we.src_size,x,w);we.rgba=Be,we.imgwidth=x[0],we.imgheight=w[0];for(var re=0;re<x[0]*w[0]*4;re++)T[re]=Be[re];return this.width=x,this.height=w,this.data=T,this}(function(i){var t=function(){return typeof Em=="function"},e=function(w,x,T,E){var k=4,F=o;switch(E){case i.image_compression.FAST:k=1,F=a;break;case i.image_compression.MEDIUM:k=6,F=d;break;case i.image_compression.SLOW:k=9,F=u}w=r(w,x,T,F);var D=Em(w,{level:k});return i.__addimage__.arrayBufferToBinaryString(D)},r=function(w,x,T,E){for(var k,F,D,X=w.length/x,he=new Uint8Array(w.length+X),we=g(),Be=0;Be<X;Be+=1){if(D=Be*x,k=w.subarray(D,D+x),E)he.set(E(k,T,F),D+Be);else{for(var re,ie=we.length,le=[];re<ie;re+=1)le[re]=we[re](k,T,F);var Ce=y(le.concat());he.set(le[Ce],D+Be)}F=k}return he},n=function(w){var x=Array.apply([],w);return x.unshift(0),x},a=function(w,x){var T,E=[],k=w.length;E[0]=1;for(var F=0;F<k;F+=1)T=w[F-x]||0,E[F+1]=w[F]-T+256&255;return E},o=function(w,x,T){var E,k=[],F=w.length;k[0]=2;for(var D=0;D<F;D+=1)E=T&&T[D]||0,k[D+1]=w[D]-E+256&255;return k},d=function(w,x,T){var E,k,F=[],D=w.length;F[0]=3;for(var X=0;X<D;X+=1)E=w[X-x]||0,k=T&&T[X]||0,F[X+1]=w[X]+256-(E+k>>>1)&255;return F},u=function(w,x,T){var E,k,F,D,X=[],he=w.length;X[0]=4;for(var we=0;we<he;we+=1)E=w[we-x]||0,k=T&&T[we]||0,F=T&&T[we-x]||0,D=p(E,k,F),X[we+1]=w[we]-D+256&255;return X},p=function(w,x,T){if(w===x&&x===T)return w;var E=Math.abs(x-T),k=Math.abs(w-T),F=Math.abs(w+x-T-T);return E<=k&&E<=F?w:k<=F?x:T},g=function(){return[n,a,o,d,u]},y=function(w){var x=w.map(function(T){return T.reduce(function(E,k){return E+Math.abs(k)},0)});return x.indexOf(Math.min.apply(null,x))};i.processPNG=function(w,x,T,E){var k,F,D,X,he,we,Be,re,ie,le,Ce,q,H,ve,_e,Fe=this.decode.FLATE_DECODE,ke="";if(this.__addimage__.isArrayBuffer(w)&&(w=new Uint8Array(w)),this.__addimage__.isArrayBufferView(w)){if(w=(D=new s9(w)).imgData,F=D.bits,k=D.colorSpace,he=D.colors,[4,6].indexOf(D.colorType)!==-1){if(D.bits===8){ie=(re=D.pixelBitlength==32?new Uint32Array(D.decodePixels().buffer):D.pixelBitlength==16?new Uint16Array(D.decodePixels().buffer):new Uint8Array(D.decodePixels().buffer)).length,Ce=new Uint8Array(ie*D.colors),le=new Uint8Array(ie);var Ye,Me=D.pixelBitlength-D.bits;for(ve=0,_e=0;ve<ie;ve++){for(H=re[ve],Ye=0;Ye<Me;)Ce[_e++]=H>>>Ye&255,Ye+=D.bits;le[ve]=H>>>Ye&255}}if(D.bits===16){ie=(re=new Uint32Array(D.decodePixels().buffer)).length,Ce=new Uint8Array(ie*(32/D.pixelBitlength)*D.colors),le=new Uint8Array(ie*(32/D.pixelBitlength)),q=D.colors>1,ve=0,_e=0;for(var je=0;ve<ie;)H=re[ve++],Ce[_e++]=H>>>0&255,q&&(Ce[_e++]=H>>>16&255,H=re[ve++],Ce[_e++]=H>>>0&255),le[je++]=H>>>16&255;F=8}E!==i.image_compression.NONE&&t()?(w=e(Ce,D.width*D.colors,D.colors,E),Be=e(le,D.width,1,E)):(w=Ce,Be=le,Fe=void 0)}if(D.colorType===3&&(k=this.color_spaces.INDEXED,we=D.palette,D.transparency.indexed)){var Ze=D.transparency.indexed,wt=0;for(ve=0,ie=Ze.length;ve<ie;++ve)wt+=Ze[ve];if((wt/=255)===ie-1&&Ze.indexOf(0)!==-1)X=[Ze.indexOf(0)];else if(wt!==ie){for(re=D.decodePixels(),le=new Uint8Array(re.length),ve=0,ie=re.length;ve<ie;ve++)le[ve]=Ze[re[ve]];Be=e(le,D.width,1)}}var A=function(V){var N;switch(V){case i.image_compression.FAST:N=11;break;case i.image_compression.MEDIUM:N=13;break;case i.image_compression.SLOW:N=14;break;default:N=12}return N}(E);return Fe===this.decode.FLATE_DECODE&&(ke="/Predictor "+A+" "),ke+="/Colors "+he+" /BitsPerComponent "+F+" /Columns "+D.width,(this.__addimage__.isArrayBuffer(w)||this.__addimage__.isArrayBufferView(w))&&(w=this.__addimage__.arrayBufferToBinaryString(w)),(Be&&this.__addimage__.isArrayBuffer(Be)||this.__addimage__.isArrayBufferView(Be))&&(Be=this.__addimage__.arrayBufferToBinaryString(Be)),{alias:T,data:w,index:x,filter:Fe,decodeParameters:ke,transparency:X,palette:we,sMask:Be,predictor:A,width:D.width,height:D.height,bitsPerComponent:F,colorSpace:k}}}})(hi.API),function(i){i.processGIF89A=function(t,e,r,n){var a=new l9(t),o=a.width,d=a.height,u=[];a.decodeAndBlitFrameRGBA(0,u);var p={data:u,width:o,height:d},g=new Jv(100).encode(p,100);return i.processJPEG.call(this,g,e,r,n)},i.processGIF87A=i.processGIF89A}(hi.API),ys.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var i=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(i);for(var t=0;t<i;t++){var e=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:n,green:r,blue:e,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ys.prototype.parseBGR=function(){this.pos=this.offset;try{var i="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[i]()}catch(e){Rr.log("bit decode error:"+e)}},ys.prototype.bit1=function(){var i,t=Math.ceil(this.width/8),e=t%4;for(i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,n=0;n<t;n++)for(var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*n*4,d=0;d<8&&8*n+d<this.width;d++){var u=this.palette[a>>7-d&1];this.data[o+4*d]=u.blue,this.data[o+4*d+1]=u.green,this.data[o+4*d+2]=u.red,this.data[o+4*d+3]=255}e!==0&&(this.pos+=4-e)}},ys.prototype.bit4=function(){for(var i=Math.ceil(this.width/2),t=i%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<i;n++){var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*n*4,d=a>>4,u=15&a,p=this.palette[d];if(this.data[o]=p.blue,this.data[o+1]=p.green,this.data[o+2]=p.red,this.data[o+3]=255,2*n+1>=this.width)break;p=this.palette[u],this.data[o+4]=p.blue,this.data[o+4+1]=p.green,this.data[o+4+2]=p.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},ys.prototype.bit8=function(){for(var i=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;if(n<this.palette.length){var o=this.palette[n];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}i!==0&&(this.pos+=4-i)}},ys.prototype.bit15=function(){for(var i=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,d=(a>>5&t)/t*255|0,u=(a>>10&t)/t*255|0,p=a>>15?255:0,g=r*this.width*4+4*n;this.data[g]=u,this.data[g+1]=d,this.data[g+2]=o,this.data[g+3]=p}this.pos+=i}},ys.prototype.bit16=function(){for(var i=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(o&t)/t*255|0,u=(o>>5&e)/e*255|0,p=(o>>11)/t*255|0,g=n*this.width*4+4*a;this.data[g]=p,this.data[g+1]=u,this.data[g+2]=d,this.data[g+3]=255}this.pos+=i}},ys.prototype.bit24=function(){for(var i=this.height-1;i>=0;i--){for(var t=this.bottom_up?i:this.height-1-i,e=0;e<this.width;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*e;this.data[o]=a,this.data[o+1]=n,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},ys.prototype.bit32=function(){for(var i=this.height-1;i>=0;i--)for(var t=this.bottom_up?i:this.height-1-i,e=0;e<this.width;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),d=t*this.width*4+4*e;this.data[d]=a,this.data[d+1]=n,this.data[d+2]=r,this.data[d+3]=o}},ys.prototype.getData=function(){return this.data},function(i){i.processBMP=function(t,e,r,n){var a=new ys(t,!1),o=a.width,d=a.height,u={data:a.getData(),width:o,height:d},p=new Jv(100).encode(u,100);return i.processJPEG.call(this,p,e,r,n)}}(hi.API),Aw.prototype.getData=function(){return this.data},function(i){i.processWEBP=function(t,e,r,n){var a=new Aw(t),o=a.width,d=a.height,u={data:a.getData(),width:o,height:d},p=new Jv(100).encode(u,100);return i.processJPEG.call(this,p,e,r,n)}}(hi.API),hi.API.processRGBA=function(i,t,e){for(var r=i.data,n=r.length,a=new Uint8Array(n/4*3),o=new Uint8Array(n/4),d=0,u=0,p=0;p<n;p+=4){var g=r[p],y=r[p+1],w=r[p+2],x=r[p+3];a[d++]=g,a[d++]=y,a[d++]=w,o[u++]=x}var T=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:T,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:i.width,height:i.height}},hi.API.setLanguage=function(i){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[i]!==void 0&&(this.internal.languageSettings.languageCode=i,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},qu=hi.API,km=qu.getCharWidthsArray=function(i,t){var e,r,n=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),d=t.widths?t.widths:n.metadata.Unicode.widths,u=d.fof?d.fof:1,p=t.kerning?t.kerning:n.metadata.Unicode.kerning,g=p.fof?p.fof:1,y=t.doKerning!==!1,w=0,x=i.length,T=0,E=d[0]||u,k=[];for(e=0;e<x;e++)r=i.charCodeAt(e),typeof n.metadata.widthOfString=="function"?k.push((n.metadata.widthOfGlyph(n.metadata.characterToGlyph(r))+o*(1e3/a)||0)/1e3):(w=y&&Ar(p[r])==="object"&&!isNaN(parseInt(p[r][T],10))?p[r][T]/g:0,k.push((d[r]||E)/u+w)),T=r;return k},Pw=qu.getStringUnitWidth=function(i,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),n=t.charSpace||this.internal.getCharSpace();return qu.processArabic&&(i=qu.processArabic(i)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(i,e,n)/e:km.apply(this,arguments).reduce(function(a,o){return a+o},0)},Mw=function(i,t,e,r){for(var n=[],a=0,o=i.length,d=0;a!==o&&d+t[a]<e;)d+=t[a],a++;n.push(i.slice(0,a));var u=a;for(d=0;a!==o;)d+t[a]>r&&(n.push(i.slice(u,a)),d=0,u=a),d+=t[a],a++;return u!==a&&n.push(i.slice(u,a)),n},Tw=function(i,t,e){e||(e={});var r,n,a,o,d,u,p,g=[],y=[g],w=e.textIndent||0,x=0,T=0,E=i.split(" "),k=km.apply(this,[" ",e])[0];if(u=e.lineIndent===-1?E[0].length+2:e.lineIndent||0){var F=Array(u).join(" "),D=[];E.map(function(he){(he=he.split(/\s*\n/)).length>1?D=D.concat(he.map(function(we,Be){return(Be&&we.length?`
`:"")+we})):D.push(he[0])}),E=D,u=Pw.apply(this,[F,e])}for(a=0,o=E.length;a<o;a++){var X=0;if(r=E[a],u&&r[0]==`
`&&(r=r.substr(1),X=1),w+x+(T=(n=km.apply(this,[r,e])).reduce(function(he,we){return he+we},0))>t||X){if(T>t){for(d=Mw.apply(this,[r,n,t-(w+x),t]),g.push(d.shift()),g=[d.pop()];d.length;)y.push([d.shift()]);T=n.slice(r.length-(g[0]?g[0].length:0)).reduce(function(he,we){return he+we},0)}else g=[r];y.push(g),w=T+u,x=k}else g.push(r),w+=x+T,x=k}return p=u?function(he,we){return(we?F:"")+he.join(" ")}:function(he){return he.join(" ")},y.map(p)},qu.splitTextToSize=function(i,t,e){var r,n=(e=e||{}).fontSize||this.internal.getFontSize(),a=function(g){if(g.widths&&g.kerning)return{widths:g.widths,kerning:g.kerning};var y=this.internal.getFont(g.fontName,g.fontStyle);return y.metadata.Unicode?{widths:y.metadata.Unicode.widths||{0:1},kerning:y.metadata.Unicode.kerning||{}}:{font:y.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,e);r=Array.isArray(i)?i:String(i).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/n;a.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/n:0,a.lineIndent=e.lineIndent;var d,u,p=[];for(d=0,u=r.length;d<u;d++)p=p.concat(Tw.apply(this,[r[d],o,a]));return p},function(i){i.__fontmetrics__=i.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",e={},r={},n=0;n<t.length;n++)e[t[n]]="0123456789abcdef"[n],r["0123456789abcdef"[n]]=t[n];var a=function(y){return"0x"+parseInt(y,10).toString(16)},o=i.__fontmetrics__.compress=function(y){var w,x,T,E,k=["{"];for(var F in y){if(w=y[F],isNaN(parseInt(F,10))?x="'"+F+"'":(F=parseInt(F,10),x=(x=a(F).slice(2)).slice(0,-1)+r[x.slice(-1)]),typeof w=="number")w<0?(T=a(w).slice(3),E="-"):(T=a(w).slice(2),E=""),T=E+T.slice(0,-1)+r[T.slice(-1)];else{if(Ar(w)!=="object")throw new Error("Don't know what to do with value type "+Ar(w)+".");T=o(w)}k.push(x+T)}return k.push("}"),k.join("")},d=i.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var w,x,T,E,k={},F=1,D=k,X=[],he="",we="",Be=y.length-1,re=1;re<Be;re+=1)(E=y[re])=="'"?w?(T=w.join(""),w=void 0):w=[]:w?w.push(E):E=="{"?(X.push([D,T]),D={},T=void 0):E=="}"?((x=X.pop())[0][x[1]]=D,T=void 0,D=x[0]):E=="-"?F=-1:T===void 0?e.hasOwnProperty(E)?(he+=e[E],T=parseInt(he,16)*F,F=1,he=""):he+=E:e.hasOwnProperty(E)?(we+=e[E],D[T]=parseInt(we,16)*F,F=1,T=void 0,we=""):we+=E;return k},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},g={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};i.events.push(["addFont",function(y){var w=y.font,x=g.Unicode[w.postScriptName];x&&(w.metadata.Unicode={},w.metadata.Unicode.widths=x.widths,w.metadata.Unicode.kerning=x.kerning);var T=p.Unicode[w.postScriptName];T&&(w.metadata.Unicode.encoding=T,w.encoding=T.codePages[0])}])}(hi.API),function(i){var t=function(e){for(var r=e.length,n=new Uint8Array(r),a=0;a<r;a++)n[a]=e.charCodeAt(a);return n};i.API.events.push(["addFont",function(e){var r=void 0,n=e.font,a=e.instance;if(!n.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");if(typeof(r=a.existsFileInVFS(n.postScriptName)===!1?a.loadFile(n.postScriptName):a.getFileFromVFS(n.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");(function(o,d){d=/^\x00\x01\x00\x00/.test(d)?t(d):t(Of(d)),o.metadata=i.API.TTFFont.open(d),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(n,r)}}])}(hi),function(i){function t(){return(wi.canvg?Promise.resolve(wi.canvg):import("./chunk-L2OSWPB4.js")).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}hi.API.addSvgAsImage=function(e,r,n,a,o,d,u,p){if(isNaN(r)||isNaN(n))throw Rr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(o))throw Rr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var g=document.createElement("canvas");g.width=a,g.height=o;var y=g.getContext("2d");y.fillStyle="#fff",y.fillRect(0,0,g.width,g.height);var w={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},x=this;return t().then(function(T){return T.fromString(y,e,w)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(T){return T.render(w)}).then(function(){x.addImage(g.toDataURL("image/jpeg",1),r,n,a,o,u,p)})}}(),hi.API.putTotalPages=function(i){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(i,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(i,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var n=0;n<this.internal.pages[r].length;n++)this.internal.pages[r][n]=this.internal.pages[r][n].replace(t,e);return this},hi.API.viewerPreferences=function(i,t){var e;i=i||{},t=t||!1;var r,n,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},d=Object.keys(o),u=[],p=0,g=0,y=0;function w(T,E){var k,F=!1;for(k=0;k<T.length;k+=1)T[k]===E&&(F=!0);return F}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,i==="reset"||t===!0){var x=d.length;for(y=0;y<x;y+=1)e[d[y]].value=e[d[y]].defaultValue,e[d[y]].explicitSet=!1}if(Ar(i)==="object"){for(n in i)if(a=i[n],w(d,n)&&a!==void 0){if(e[n].type==="boolean"&&typeof a=="boolean")e[n].value=a;else if(e[n].type==="name"&&w(e[n].valueSet,a))e[n].value=a;else if(e[n].type==="integer"&&Number.isInteger(a))e[n].value=a;else if(e[n].type==="array"){for(p=0;p<a.length;p+=1)if(r=!0,a[p].length===1&&typeof a[p][0]=="number")u.push(String(a[p]-1));else if(a[p].length>1){for(g=0;g<a[p].length;g+=1)typeof a[p][g]!="number"&&(r=!1);r===!0&&u.push([a[p][0]-1,a[p][1]-1].join(" "))}e[n].value="["+u.join(" ")+"]"}else e[n].value=e[n].defaultValue;e[n].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var T,E=[];for(T in e)e[T].explicitSet===!0&&(e[T].type==="name"?E.push("/"+T+" /"+e[T].value):E.push("/"+T+" "+e[T].value));E.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+E.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},function(i){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',n=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),d=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),p=a.length+o.length+d.length+n.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+p+" >>"),this.internal.write("stream"),this.internal.write(n+a+o+d+u),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};i.addMetadata=function(r,n){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:n||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}}(hi.API),function(i){var t=i.API,e=t.pdfEscape16=function(a,o){for(var d,u=o.metadata.Unicode.widths,p=["","0","00","000","0000"],g=[""],y=0,w=a.length;y<w;++y){if(d=o.metadata.characterToGlyph(a.charCodeAt(y)),o.metadata.glyIdsUsed.push(d),o.metadata.toUnicode[d]=a.charCodeAt(y),u.indexOf(d)==-1&&(u.push(d),u.push([parseInt(o.metadata.widthOfGlyph(d),10)])),d=="0")return g.join("");d=d.toString(16),g.push(p[4-d.length],d)}return g.join("")},r=function(a){var o,d,u,p,g,y,w;for(g=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],y=0,w=(d=Object.keys(a).sort(function(x,T){return x-T})).length;y<w;y++)o=d[y],u.length>=100&&(g+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(p=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),u.push("<"+o+"><"+p+">"));return u.length&&(g+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),g+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(o){var d=o.font,u=o.out,p=o.newObject,g=o.putStream;if(d.metadata instanceof i.API.TTFFont&&d.encoding==="Identity-H"){for(var y=d.metadata.Unicode.widths,w=d.metadata.subset.encode(d.metadata.glyIdsUsed,1),x="",T=0;T<w.length;T++)x+=String.fromCharCode(w[T]);var E=p();g({data:x,addLength1:!0,objectId:E}),u("endobj");var k=p();g({data:r(d.metadata.toUnicode),addLength1:!0,objectId:k}),u("endobj");var F=p();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+Wu(d.fontName)),u("/FontFile2 "+E+" 0 R"),u("/FontBBox "+i.API.PDFObject.convert(d.metadata.bbox)),u("/Flags "+d.metadata.flags),u("/StemV "+d.metadata.stemV),u("/ItalicAngle "+d.metadata.italicAngle),u("/Ascent "+d.metadata.ascender),u("/Descent "+d.metadata.decender),u("/CapHeight "+d.metadata.capHeight),u(">>"),u("endobj");var D=p();u("<<"),u("/Type /Font"),u("/BaseFont /"+Wu(d.fontName)),u("/FontDescriptor "+F+" 0 R"),u("/W "+i.API.PDFObject.convert(y)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+d.encoding+")"),u(">>"),u(">>"),u("endobj"),d.objectNumber=p(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+k+" 0 R"),u("/BaseFont /"+Wu(d.fontName)),u("/Encoding /"+d.encoding),u("/DescendantFonts ["+D+" 0 R]"),u(">>"),u("endobj"),d.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(o){var d=o.font,u=o.out,p=o.newObject,g=o.putStream;if(d.metadata instanceof i.API.TTFFont&&d.encoding==="WinAnsiEncoding"){for(var y=d.metadata.rawData,w="",x=0;x<y.length;x++)w+=String.fromCharCode(y[x]);var T=p();g({data:w,addLength1:!0,objectId:T}),u("endobj");var E=p();g({data:r(d.metadata.toUnicode),addLength1:!0,objectId:E}),u("endobj");var k=p();u("<<"),u("/Descent "+d.metadata.decender),u("/CapHeight "+d.metadata.capHeight),u("/StemV "+d.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+T+" 0 R"),u("/Flags 96"),u("/FontBBox "+i.API.PDFObject.convert(d.metadata.bbox)),u("/FontName /"+Wu(d.fontName)),u("/ItalicAngle "+d.metadata.italicAngle),u("/Ascent "+d.metadata.ascender),u(">>"),u("endobj"),d.objectNumber=p();for(var F=0;F<d.metadata.hmtx.widths.length;F++)d.metadata.hmtx.widths[F]=parseInt(d.metadata.hmtx.widths[F]*(1e3/d.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+E+" 0 R/BaseFont/"+Wu(d.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+d.encoding+" /FirstChar 29 /LastChar 255 /Widths "+i.API.PDFObject.convert(d.metadata.hmtx.widths)+">>"),u("endobj"),d.isAlreadyPutted=!0}})(a)}]);var n=function(a){var o,d=a.text||"",u=a.x,p=a.y,g=a.options||{},y=a.mutex||{},w=y.pdfEscape,x=y.activeFontKey,T=y.fonts,E=x,k="",F=0,D="",X=T[E].encoding;if(T[E].encoding!=="Identity-H")return{text:d,x:u,y:p,options:g,mutex:y};for(D=d,E=x,Array.isArray(d)&&(D=d[0]),F=0;F<D.length;F+=1)T[E].metadata.hasOwnProperty("cmap")&&(o=T[E].metadata.cmap.unicode.codeMap[D[F].charCodeAt(0)]),o||D[F].charCodeAt(0)<256&&T[E].metadata.hasOwnProperty("Unicode")?k+=D[F]:k+="";var he="";return parseInt(E.slice(1))<14||X==="WinAnsiEncoding"?he=w(k,E).split("").map(function(we){return we.charCodeAt(0).toString(16)}).join(""):X==="Identity-H"&&(he=e(k,T[E])),y.isHex=!0,{text:he,x:u,y:p,options:g,mutex:y}};t.events.push(["postProcessText",function(a){var o=a.text||"",d=[],u={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var p=0;for(p=0;p<o.length;p+=1)Array.isArray(o[p])&&o[p].length===3?d.push([n(Object.assign({},u,{text:o[p][0]})).text,o[p][1],o[p][2]]):d.push(n(Object.assign({},u,{text:o[p]})).text);a.text=d}else a.text=n(Object.assign({},u,{text:o})).text}])}(hi),function(i){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};i.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},i.addFileToVFS=function(e,r){return t.call(this),this.internal.vFS[e]=r,this},i.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}}(hi.API),function(i){i.__bidiEngine__=i.prototype.__bidiEngine__=function(r){var n,a,o,d,u,p,g,y=t,w=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],x=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],T={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},E={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],F=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),D=!1,X=0;this.__bidiEngine__={};var he=function(q){var H=q.charCodeAt(),ve=H>>8,_e=E[ve];return _e!==void 0?y[256*_e+(255&H)]:ve===252||ve===253?"AL":F.test(ve)?"L":ve===8?"R":"N"},we=function(q){for(var H,ve=0;ve<q.length;ve++){if((H=he(q.charAt(ve)))==="L")return!1;if(H==="R")return!0}return!1},Be=function(q,H,ve,_e){var Fe,ke,Ye,Me,je=H[_e];switch(je){case"L":case"R":D=!1;break;case"N":case"AN":break;case"EN":D&&(je="AN");break;case"AL":D=!0,je="R";break;case"WS":je="N";break;case"CS":_e<1||_e+1>=H.length||(Fe=ve[_e-1])!=="EN"&&Fe!=="AN"||(ke=H[_e+1])!=="EN"&&ke!=="AN"?je="N":D&&(ke="AN"),je=ke===Fe?ke:"N";break;case"ES":je=(Fe=_e>0?ve[_e-1]:"B")==="EN"&&_e+1<H.length&&H[_e+1]==="EN"?"EN":"N";break;case"ET":if(_e>0&&ve[_e-1]==="EN"){je="EN";break}if(D){je="N";break}for(Ye=_e+1,Me=H.length;Ye<Me&&H[Ye]==="ET";)Ye++;je=Ye<Me&&H[Ye]==="EN"?"EN":"N";break;case"NSM":if(o&&!d){for(Me=H.length,Ye=_e+1;Ye<Me&&H[Ye]==="NSM";)Ye++;if(Ye<Me){var Ze=q[_e],wt=Ze>=1425&&Ze<=2303||Ze===64286;if(Fe=H[Ye],wt&&(Fe==="R"||Fe==="AL")){je="R";break}}}je=_e<1||(Fe=H[_e-1])==="B"?"N":ve[_e-1];break;case"B":D=!1,n=!0,je=X;break;case"S":a=!0,je="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":D=!1;break;case"BN":je="N"}return je},re=function(q,H,ve){var _e=q.split("");return ve&&ie(_e,ve,{hiLevel:X}),_e.reverse(),H&&H.reverse(),_e.join("")},ie=function(q,H,ve){var _e,Fe,ke,Ye,Me,je=-1,Ze=q.length,wt=0,A=[],V=X?x:w,N=[];for(D=!1,n=!1,a=!1,Fe=0;Fe<Ze;Fe++)N[Fe]=he(q[Fe]);for(ke=0;ke<Ze;ke++){if(Me=wt,A[ke]=Be(q,N,A,ke),_e=240&(wt=V[Me][T[A[ke]]]),wt&=15,H[ke]=Ye=V[wt][5],_e>0)if(_e===16){for(Fe=je;Fe<ke;Fe++)H[Fe]=1;je=-1}else je=-1;if(V[wt][6])je===-1&&(je=ke);else if(je>-1){for(Fe=je;Fe<ke;Fe++)H[Fe]=Ye;je=-1}N[ke]==="B"&&(H[ke]=0),ve.hiLevel|=Ye}a&&function(j,se,Ee){for(var Ie=0;Ie<Ee;Ie++)if(j[Ie]==="S"){se[Ie]=X;for(var Te=Ie-1;Te>=0&&j[Te]==="WS";Te--)se[Te]=X}}(N,H,Ze)},le=function(q,H,ve,_e,Fe){if(!(Fe.hiLevel<q)){if(q===1&&X===1&&!n)return H.reverse(),void(ve&&ve.reverse());for(var ke,Ye,Me,je,Ze=H.length,wt=0;wt<Ze;){if(_e[wt]>=q){for(Me=wt+1;Me<Ze&&_e[Me]>=q;)Me++;for(je=wt,Ye=Me-1;je<Ye;je++,Ye--)ke=H[je],H[je]=H[Ye],H[Ye]=ke,ve&&(ke=ve[je],ve[je]=ve[Ye],ve[Ye]=ke);wt=Me}wt++}}},Ce=function(q,H,ve){var _e=q.split(""),Fe={hiLevel:X};return ve||(ve=[]),ie(_e,ve,Fe),function(ke,Ye,Me){if(Me.hiLevel!==0&&g)for(var je,Ze=0;Ze<ke.length;Ze++)Ye[Ze]===1&&(je=k.indexOf(ke[Ze]))>=0&&(ke[Ze]=k[je+1])}(_e,ve,Fe),le(2,_e,H,ve,Fe),le(1,_e,H,ve,Fe),_e.join("")};return this.__bidiEngine__.doBidiReorder=function(q,H,ve){if(function(Fe,ke){if(ke)for(var Ye=0;Ye<Fe.length;Ye++)ke[Ye]=Ye;d===void 0&&(d=we(Fe)),p===void 0&&(p=we(Fe))}(q,H),o||!u||p)if(o&&u&&d^p)X=d?1:0,q=re(q,H,ve);else if(!o&&u&&p)X=d?1:0,q=Ce(q,H,ve),q=re(q,H);else if(!o||d||u||p){if(o&&!u&&d^p)q=re(q,H),d?(X=0,q=Ce(q,H,ve)):(X=1,q=Ce(q,H,ve),q=re(q,H));else if(o&&d&&!u&&p)X=1,q=Ce(q,H,ve),q=re(q,H);else if(!o&&!u&&d^p){var _e=g;d?(X=1,q=Ce(q,H,ve),X=0,g=!1,q=Ce(q,H,ve),g=_e):(X=0,q=Ce(q,H,ve),q=re(q,H),X=1,g=!1,q=Ce(q,H,ve),g=_e,q=re(q,H))}}else X=0,q=Ce(q,H,ve);else X=d?1:0,q=Ce(q,H,ve);return q},this.__bidiEngine__.setOptions=function(q){q&&(o=q.isInputVisual,u=q.isOutputVisual,d=q.isInputRtl,p=q.isOutputRtl,g=q.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new i.__bidiEngine__({isInputVisual:!0});i.API.events.push(["postProcessText",function(r){var n=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,e.setOptions(a),Object.prototype.toString.call(n)==="[object Array]"){var d=0;for(o=[],d=0;d<n.length;d+=1)Object.prototype.toString.call(n[d])==="[object Array]"?o.push([e.doBidiReorder(n[d][0]),n[d][1],n[d][2]]):o.push([e.doBidiReorder(n[d])]);r.text=o}else r.text=e.doBidiReorder(n);e.setOptions({isInputVisual:!0})}])}(hi),hi.API.TTFFont=function(){function i(t){var e;if(this.rawData=t,e=this.contents=new Fc(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new w9(this),this.registerTTF()}return i.open=function(t){return new i(t)},i.prototype.parse=function(){return this.directory=new c9(this.contents),this.head=new u9(this),this.name=new g9(this),this.cmap=new qw(this),this.toUnicode={},this.hhea=new f9(this),this.maxp=new v9(this),this.hmtx=new _9(this),this.post=new h9(this),this.os2=new p9(this),this.loca=new C9(this),this.glyf=new b9(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},i.prototype.registerTTF=function(){var t,e,r,n,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var o,d,u,p;for(p=[],o=0,d=(u=this.bbox).length;o<d;o++)t=u[o],p.push(Math.round(t*this.scaleFactor));return p}.call(this),this.stemV=0,this.post.exists?(r=255&(n=this.post.italic_angle),32768&(e=n>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},i.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},i.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},i.prototype.widthOfString=function(t,e,r){var n,a,o,d;for(o=0,a=0,d=(t=""+t).length;0<=d?a<d:a>d;a=0<=d?++a:--a)n=t.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(n))+r*(1e3/e)||0;return o*(e/1e3)},i.prototype.lineHeight=function(t,e){var r;return e==null&&(e=!1),r=e?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},i}();var ws,Fc=function(){function i(t){this.data=t??[],this.pos=0,this.length=this.data.length}return i.prototype.readByte=function(){return this.data[this.pos++]},i.prototype.writeByte=function(t){return this.data[this.pos++]=t},i.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},i.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},i.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},i.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},i.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},i.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},i.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},i.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},i.prototype.readString=function(t){var e,r;for(r=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)r[e]=String.fromCharCode(this.readByte());return r.join("")},i.prototype.writeString=function(t){var e,r,n;for(n=[],e=0,r=t.length;0<=r?e<r:e>r;e=0<=r?++e:--e)n.push(this.writeByte(t.charCodeAt(e)));return n},i.prototype.readShort=function(){return this.readInt16()},i.prototype.writeShort=function(t){return this.writeInt16(t)},i.prototype.readLongLong=function(){var t,e,r,n,a,o,d,u;return t=this.readByte(),e=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),o=this.readByte(),d=this.readByte(),u=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^r)+4294967296*(255^n)+16777216*(255^a)+65536*(255^o)+256*(255^d)+(255^u)+1):72057594037927940*t+281474976710656*e+1099511627776*r+4294967296*n+16777216*a+65536*o+256*d+u},i.prototype.writeLongLong=function(t){var e,r;return e=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},i.prototype.readInt=function(){return this.readInt32()},i.prototype.writeInt=function(t){return this.writeInt32(t)},i.prototype.read=function(t){var e,r;for(e=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)e.push(this.readByte());return e},i.prototype.write=function(t){var e,r,n,a;for(a=[],r=0,n=t.length;r<n;r++)e=t[r],a.push(this.writeByte(e));return a},i}(),c9=function(){var i;function t(e){var r,n,a;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},n=0,a=this.tableCount;0<=a?n<a:n>a;n=0<=a?++n:--n)r={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(e){var r,n,a,o,d,u,p,g,y,w,x,T,E;for(E in x=Object.keys(e).length,u=Math.log(2),y=16*Math.floor(Math.log(x)/u),o=Math.floor(y/u),g=16*x-y,(n=new Fc).writeInt(this.scalarType),n.writeShort(x),n.writeShort(y),n.writeShort(o),n.writeShort(g),a=16*x,p=n.pos+a,d=null,T=[],e)for(w=e[E],n.writeString(E),n.writeInt(i(w)),n.writeInt(p),n.writeInt(w.length),T=T.concat(w),E==="head"&&(d=p),p+=w.length;p%4;)T.push(0),p++;return n.write(T),r=2981146554-i(n.data),n.pos=d+8,n.writeUInt32(r),n.data},i=function(e){var r,n,a,o;for(e=zw.call(e);e.length%4;)e.push(0);for(a=new Fc(e),n=0,r=0,o=e.length;r<o;r=r+=4)n+=a.readUInt32();return 4294967295&n},t}(),d9={}.hasOwnProperty,Js=function(i,t){for(var e in t)d9.call(t,e)&&(i[e]=t[e]);function r(){this.constructor=i}return r.prototype=t.prototype,i.prototype=new r,i.__super__=t.prototype,i};ws=function(){function i(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return i.prototype.parse=function(){},i.prototype.encode=function(){},i.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},i}();var u9=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Js(t,ws),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new Fc).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t}(),Ow=function(){function i(t,e){var r,n,a,o,d,u,p,g,y,w,x,T,E,k,F,D,X;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),y=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=t.readByte();break;case 4:for(x=t.readUInt16(),w=x/2,t.pos+=6,a=function(){var he,we;for(we=[],u=he=0;0<=w?he<w:he>w;u=0<=w?++he:--he)we.push(t.readUInt16());return we}(),t.pos+=2,E=function(){var he,we;for(we=[],u=he=0;0<=w?he<w:he>w;u=0<=w?++he:--he)we.push(t.readUInt16());return we}(),p=function(){var he,we;for(we=[],u=he=0;0<=w?he<w:he>w;u=0<=w?++he:--he)we.push(t.readUInt16());return we}(),g=function(){var he,we;for(we=[],u=he=0;0<=w?he<w:he>w;u=0<=w?++he:--he)we.push(t.readUInt16());return we}(),n=(this.length-t.pos+this.offset)/2,d=function(){var he,we;for(we=[],u=he=0;0<=n?he<n:he>n;u=0<=n?++he:--he)we.push(t.readUInt16());return we}(),u=F=0,X=a.length;F<X;u=++F)for(k=a[u],r=D=T=E[u];T<=k?D<=k:D>=k;r=T<=k?++D:--D)g[u]===0?o=r+p[u]:(o=d[g[u]/2+(r-T)-(w-u)]||0)!==0&&(o+=p[u]),this.codeMap[r]=65535&o}t.pos=y}return i.encode=function(t,e){var r,n,a,o,d,u,p,g,y,w,x,T,E,k,F,D,X,he,we,Be,re,ie,le,Ce,q,H,ve,_e,Fe,ke,Ye,Me,je,Ze,wt,A,V,N,j,se,Ee,Ie,Te,Re,at,pt;switch(_e=new Fc,o=Object.keys(t).sort(function(Pt,Lt){return Pt-Lt}),e){case"macroman":for(E=0,k=function(){var Pt=[];for(T=0;T<256;++T)Pt.push(0);return Pt}(),D={0:0},a={},Fe=0,je=o.length;Fe<je;Fe++)D[Te=t[n=o[Fe]]]==null&&(D[Te]=++E),a[n]={old:t[n],new:D[t[n]]},k[n]=D[t[n]];return _e.writeUInt16(1),_e.writeUInt16(0),_e.writeUInt32(12),_e.writeUInt16(0),_e.writeUInt16(262),_e.writeUInt16(0),_e.write(k),{charMap:a,subtable:_e.data,maxGlyphID:E+1};case"unicode":for(H=[],y=[],X=0,D={},r={},F=p=null,ke=0,Ze=o.length;ke<Ze;ke++)D[we=t[n=o[ke]]]==null&&(D[we]=++X),r[n]={old:we,new:D[we]},d=D[we]-n,F!=null&&d===p||(F&&y.push(F),H.push(n),p=d),F=n;for(F&&y.push(F),y.push(65535),H.push(65535),Ce=2*(le=H.length),ie=2*Math.pow(Math.log(le)/Math.LN2,2),w=Math.log(ie/2)/Math.LN2,re=2*le-ie,u=[],Be=[],x=[],T=Ye=0,wt=H.length;Ye<wt;T=++Ye){if(q=H[T],g=y[T],q===65535){u.push(0),Be.push(0);break}if(q-(ve=r[q].new)>=32768)for(u.push(0),Be.push(2*(x.length+le-T)),n=Me=q;q<=g?Me<=g:Me>=g;n=q<=g?++Me:--Me)x.push(r[n].new);else u.push(ve-q),Be.push(0)}for(_e.writeUInt16(3),_e.writeUInt16(1),_e.writeUInt32(12),_e.writeUInt16(4),_e.writeUInt16(16+8*le+2*x.length),_e.writeUInt16(0),_e.writeUInt16(Ce),_e.writeUInt16(ie),_e.writeUInt16(w),_e.writeUInt16(re),Ee=0,A=y.length;Ee<A;Ee++)n=y[Ee],_e.writeUInt16(n);for(_e.writeUInt16(0),Ie=0,V=H.length;Ie<V;Ie++)n=H[Ie],_e.writeUInt16(n);for(Re=0,N=u.length;Re<N;Re++)d=u[Re],_e.writeUInt16(d);for(at=0,j=Be.length;at<j;at++)he=Be[at],_e.writeUInt16(he);for(pt=0,se=x.length;pt<se;pt++)E=x[pt],_e.writeUInt16(E);return{charMap:r,subtable:_e.data,maxGlyphID:X+1}}},i}(),qw=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Js(t,ws),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)r=new Ow(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,a;return r==null&&(r="macroman"),n=Ow.encode(e,r),(a=new Fc).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},t}(),f9=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Js(t,ws),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),p9=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Js(t,ws),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),h9=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Js(t,ws),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:break;case 131072:var o;for(n=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)r=e.readByte(),a.push(this.names.push(e.readString(r)));return a;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 196608:break;case 262144:return this.map=function(){var d,u,p;for(p=[],o=d=0,u=this.file.maxp.numGlyphs;0<=u?d<u:d>u;o=0<=u?++d:--d)p.push(e.readUInt32());return p}.call(this)}},t}(),m9=function(i,t){this.raw=i,this.length=i.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},g9=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Js(t,ws),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,a,o,d,u,p,g,y,w,x;for(e.pos=this.offset,e.readShort(),r=e.readShort(),u=e.readShort(),n=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+u+e.readShort()});for(p={},o=y=0,w=n.length;y<w;o=++y)a=n[o],e.pos=a.offset,g=e.readString(a.length),d=new m9(g,a),p[x=a.nameID]==null&&(p[x]=[]),p[a.nameID].push(d);this.strings=p,this.copyright=p[0],this.fontFamily=p[1],this.fontSubfamily=p[2],this.uniqueSubfamily=p[3],this.fontName=p[4],this.version=p[5];try{this.postscriptName=p[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=p[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=p[7],this.manufacturer=p[8],this.designer=p[9],this.description=p[10],this.vendorUrl=p[11],this.designerUrl=p[12],this.license=p[13],this.licenseUrl=p[14],this.preferredFamily=p[15],this.preferredSubfamily=p[17],this.compatibleFull=p[18],this.sampleText=p[19]},t}(),v9=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Js(t,ws),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),_9=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Js(t,ws),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,a,o,d,u,p;for(e.pos=this.offset,this.metrics=[],r=0,u=this.file.hhea.numberOfMetrics;0<=u?r<u:r>u;r=0<=u?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var g,y;for(y=[],r=g=0;0<=a?g<a:g>a;r=0<=a?++g:--g)y.push(e.readInt16());return y}(),this.widths=function(){var g,y,w,x;for(x=[],g=0,y=(w=this.metrics).length;g<y;g++)o=w[g],x.push(o.advance);return x}.call(this),n=this.widths[this.widths.length-1],p=[],r=d=0;0<=a?d<a:d>a;r=0<=a?++d:--d)p.push(this.widths.push(n));return p},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),zw=[].slice,b9=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Js(t,ws),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,a,o,d,u,p,g,y,w;return e in this.cache?this.cache[e]:(o=this.file.loca,r=this.file.contents,n=o.indexOf(e),(a=o.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,d=(u=new Fc(r.read(a))).readShort(),g=u.readShort(),w=u.readShort(),p=u.readShort(),y=u.readShort(),this.cache[e]=d===-1?new y9(u,g,w,p,y):new x9(u,d,g,w,p,y),this.cache[e]))},t.prototype.encode=function(e,r,n){var a,o,d,u,p;for(d=[],o=[],u=0,p=r.length;u<p;u++)a=e[r[u]],o.push(d.length),a&&(d=d.concat(a.encode(n)));return o.push(d.length),{table:d,offsets:o}},t}(),x9=function(){function i(t,e,r,n,a,o){this.raw=t,this.numberOfContours=e,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=o,this.compound=!1}return i.prototype.encode=function(){return this.raw.data},i}(),y9=function(){function i(t,e,r,n,a){var o,d;for(this.raw=t,this.xMin=e,this.yMin=r,this.xMax=n,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;d=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&d;)o.pos+=1&d?4:2,128&d?o.pos+=8:64&d?o.pos+=4:8&d&&(o.pos+=2)}return i.prototype.encode=function(){var t,e,r;for(e=new Fc(zw.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)e.pos=this.glyphOffsets[t];return e.data},i}(),C9=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return Js(t,ws),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?function(){var a,o;for(o=[],n=0,a=this.length;n<a;n+=2)o.push(2*e.readUInt16());return o}.call(this):function(){var a,o;for(o=[],n=0,a=this.length;n<a;n+=4)o.push(e.readUInt32());return o}.call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),a=0,o=0,d=0;d<n.length;++d)if(n[d]=a,o<r.length&&r[o]==d){++o,n[d]=a;var u=this.offsets[d],p=this.offsets[d+1]-u;p>0&&(a+=p)}for(var g=new Array(4*n.length),y=0;y<n.length;++y)g[4*y+3]=255&n[y],g[4*y+2]=(65280&n[y])>>8,g[4*y+1]=(16711680&n[y])>>16,g[4*y]=(4278190080&n[y])>>24;return g},t}(),w9=function(){function i(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return i.prototype.generateCmap=function(){var t,e,r,n,a;for(e in n=this.font.cmap.tables[0].codeMap,t={},a=this.subset)r=a[e],t[e]=n[r];return t},i.prototype.glyphsFor=function(t){var e,r,n,a,o,d,u;for(n={},o=0,d=t.length;o<d;o++)n[a=t[o]]=this.font.glyf.glyphFor(a);for(a in e=[],n)(r=n[a])!=null&&r.compound&&e.push.apply(e,r.glyphIDs);if(e.length>0)for(a in u=this.glyphsFor(e))r=u[a],n[a]=r;return n},i.prototype.encode=function(t,e){var r,n,a,o,d,u,p,g,y,w,x,T,E,k,F;for(n in r=qw.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),x={0:0},F=r.charMap)x[(u=F[n]).old]=u.new;for(T in w=r.maxGlyphID,o)T in x||(x[T]=w++);return g=function(D){var X,he;for(X in he={},D)he[D[X]]=X;return he}(x),y=Object.keys(g).sort(function(D,X){return D-X}),E=function(){var D,X,he;for(he=[],D=0,X=y.length;D<X;D++)d=y[D],he.push(g[d]);return he}(),a=this.font.glyf.encode(o,E,x),p=this.font.loca.encode(a.offsets,E),k={cmap:this.font.cmap.raw(),glyf:a.table,loca:p,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},i}();hi.API.PDFObject=function(){var i;function t(){}return i=function(e,r){return(Array(r+1).join("0")+e).slice(-r)},t.convert=function(e){var r,n,a,o;if(Array.isArray(e))return"["+function(){var d,u,p;for(p=[],d=0,u=e.length;d<u;d++)r=e[d],p.push(t.convert(r));return p}().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e?.isString)return"("+e+")";if(e instanceof Date)return"(D:"+i(e.getUTCFullYear(),4)+i(e.getUTCMonth(),2)+i(e.getUTCDate(),2)+i(e.getUTCHours(),2)+i(e.getUTCMinutes(),2)+i(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(n in a=["<<"],e)o=e[n],a.push("/"+n+" "+t.convert(o));return a.push(">>"),a.join(`
`)}return""+e},t}();function Xw(i,t,e,r,n){r=r||{};var a=1.15,o=n.internal.scaleFactor,d=n.internal.getFontSize()/o,u=n.getLineHeightFactor?n.getLineHeightFactor():a,p=d*u,g=/\r\n|\r|\n/g,y="",w=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(y=typeof i=="string"?i.split(g):i,w=y.length||1),e+=d*(2-a),r.valign==="middle"?e-=w/2*p:r.valign==="bottom"&&(e-=w*p),r.halign==="center"||r.halign==="right"){var x=d;if(r.halign==="center"&&(x*=.5),y&&w>=1){for(var T=0;T<y.length;T++)n.text(y[T],t-n.getStringUnitWidth(y[T])*x,e),e+=p;return n}t-=n.getStringUnitWidth(i)*x}return r.halign==="justify"?n.text(i,t,e,{maxWidth:r.maxWidth||100,align:"justify"}):n.text(i,t,e),n}var Ww={},Yu=function(){function i(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return i.setDefaults=function(t,e){e===void 0&&(e=null),e?e.__autoTableDocumentDefaults=t:Ww=t},i.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},i.prototype.applyStyles=function(t,e){var r,n,a;e===void 0&&(e=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var o=this.jsPDFDocument.internal.getFont(),d=o.fontStyle,u=o.fontName;if(t.font&&(u=t.font),t.fontStyle){d=t.fontStyle;var p=this.getFontList()[u];p&&p.indexOf(d)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(p[0]),d=p[0])}if(this.jsPDFDocument.setFont(u,d),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!e){var g=i.unifyColor(t.fillColor);g&&(r=this.jsPDFDocument).setFillColor.apply(r,g),g=i.unifyColor(t.textColor),g&&(n=this.jsPDFDocument).setTextColor.apply(n,g),g=i.unifyColor(t.lineColor),g&&(a=this.jsPDFDocument).setDrawColor.apply(a,g),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},i.prototype.splitTextToSize=function(t,e,r){return this.jsPDFDocument.splitTextToSize(t,e,r)},i.prototype.rect=function(t,e,r,n,a){return this.jsPDFDocument.rect(t,e,r,n,a)},i.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},i.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},i.prototype.getDocument=function(){return this.jsPDFDocument},i.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},i.prototype.addPage=function(){return this.jsPDFDocument.addPage()},i.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},i.prototype.getGlobalOptions=function(){return Ww||{}},i.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},i.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},i.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},i.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},i.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},i.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},i}(),f_=function(i,t){return f_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])},f_(i,t)};function Yw(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");f_(i,t);function e(){this.constructor=i}i.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var Kw=function(i){Yw(t,i);function t(e){var r=i.call(this)||this;return r._element=e,r}return t}(Array);function S9(i){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/i,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function E9(i){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[i]}function Rm(i,t,e){e.applyStyles(t,!0);var r=Array.isArray(i)?i:[i],n=r.map(function(a){return e.getTextWidth(a)}).reduce(function(a,o){return Math.max(a,o)},0);return n}function Jw(i,t,e,r){var n=t.settings.tableLineWidth,a=t.settings.tableLineColor;i.applyStyles({lineWidth:n,lineColor:a});var o=Qw(n,!1);o&&i.rect(e.x,e.y,t.getWidth(i.pageSize().width),r.y-e.y,o)}function Qw(i,t){var e=i>0,r=t||t===0;return e&&r?"DF":e?"S":r?"F":null}function Um(i,t){var e,r,n,a;if(i=i||t,Array.isArray(i)){if(i.length>=4)return{top:i[0],right:i[1],bottom:i[2],left:i[3]};if(i.length===3)return{top:i[0],right:i[1],bottom:i[2],left:i[1]};if(i.length===2)return{top:i[0],right:i[1],bottom:i[0],left:i[1]};i.length===1?i=i[0]:i=t}return typeof i=="object"?(typeof i.vertical=="number"&&(i.top=i.vertical,i.bottom=i.vertical),typeof i.horizontal=="number"&&(i.right=i.horizontal,i.left=i.horizontal),{left:(e=i.left)!==null&&e!==void 0?e:t,top:(r=i.top)!==null&&r!==void 0?r:t,right:(n=i.right)!==null&&n!==void 0?n:t,bottom:(a=i.bottom)!==null&&a!==void 0?a:t}):(typeof i!="number"&&(i=t),{top:i,right:i,bottom:i,left:i})}function e5(i,t){var e=Um(t.settings.margin,0);return i.pageSize().width-(e.left+e.right)}function P9(i,t,e,r,n){var a={},o=1.3333333333333333,d=o_(t,function(X){return n.getComputedStyle(X).backgroundColor});d!=null&&(a.fillColor=d);var u=o_(t,function(X){return n.getComputedStyle(X).color});u!=null&&(a.textColor=u);var p=T9(r,e);p&&(a.cellPadding=p);var g="borderTopColor",y=o*e,w=r.borderTopWidth;if(r.borderBottomWidth===w&&r.borderRightWidth===w&&r.borderLeftWidth===w){var x=(parseFloat(w)||0)/y;x&&(a.lineWidth=x)}else a.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/y,right:(parseFloat(r.borderRightWidth)||0)/y,bottom:(parseFloat(r.borderBottomWidth)||0)/y,left:(parseFloat(r.borderLeftWidth)||0)/y},a.lineWidth.top||(a.lineWidth.right?g="borderRightColor":a.lineWidth.bottom?g="borderBottomColor":a.lineWidth.left&&(g="borderLeftColor"));var T=o_(t,function(X){return n.getComputedStyle(X)[g]});T!=null&&(a.lineColor=T);var E=["left","right","center","justify"];E.indexOf(r.textAlign)!==-1&&(a.halign=r.textAlign),E=["middle","bottom","top"],E.indexOf(r.verticalAlign)!==-1&&(a.valign=r.verticalAlign);var k=parseInt(r.fontSize||"");isNaN(k)||(a.fontSize=k/o);var F=M9(r);F&&(a.fontStyle=F);var D=(r.fontFamily||"").toLowerCase();return i.indexOf(D)!==-1&&(a.font=D),a}function M9(i){var t="";return(i.fontWeight==="bold"||i.fontWeight==="bolder"||parseInt(i.fontWeight)>=700)&&(t="bold"),(i.fontStyle==="italic"||i.fontStyle==="oblique")&&(t+="italic"),t}function o_(i,t){var e=t5(i,t);if(!e)return null;var r=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var n=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],a=parseInt(r[4]);return a===0||isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function t5(i,t){var e=t(i);return e==="rgba(0, 0, 0, 0)"||e==="transparent"||e==="initial"||e==="inherit"?i.parentElement==null?null:t5(i.parentElement,t):e}function T9(i,t){var e=[i.paddingTop,i.paddingRight,i.paddingBottom,i.paddingLeft],r=96/(72/t),n=(parseInt(i.lineHeight)-parseInt(i.fontSize))/t/2,a=e.map(function(d){return parseInt(d||"0")/r}),o=Um(a,0);return n>o.top&&(o.top=n),n>o.bottom&&(o.bottom=n),o}function i5(i,t,e,r,n){var a,o;r===void 0&&(r=!1),n===void 0&&(n=!1);var d;typeof t=="string"?d=e.document.querySelector(t):d=t;var u=Object.keys(i.getFontList()),p=i.scaleFactor(),g=[],y=[],w=[];if(!d)return console.error("Html table could not be found with input: ",t),{head:g,body:y,foot:w};for(var x=0;x<d.rows.length;x++){var T=d.rows[x],E=(o=(a=T?.parentElement)===null||a===void 0?void 0:a.tagName)===null||o===void 0?void 0:o.toLowerCase(),k=k9(u,p,e,T,r,n);k&&(E==="thead"?g.push(k):E==="tfoot"?w.push(k):y.push(k))}return{head:g,body:y,foot:w}}function k9(i,t,e,r,n,a){for(var o=new Kw(r),d=0;d<r.cells.length;d++){var u=r.cells[d],p=e.getComputedStyle(u);if(n||p.display!=="none"){var g=void 0;a&&(g=P9(i,u,t,p,e)),o.push({rowSpan:u.rowSpan,colSpan:u.colSpan,styles:g,_element:u,content:A9(u)})}}var y=e.getComputedStyle(r);if(o.length>0&&(n||y.display!=="none"))return o}function A9(i){var t=i.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(e){return e.trim()}).join(`
`),t.innerText||t.textContent||""}function O9(i,t,e){for(var r=0,n=[i,t,e];r<n.length;r++){var a=n[r];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function Tl(i,t,e,r,n){if(i==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(i),o=1;o<arguments.length;o++){var d=arguments[o];if(d!=null)for(var u in d)Object.prototype.hasOwnProperty.call(d,u)&&(a[u]=d[u])}return a}function r5(i,t){var e=new Yu(i),r=e.getDocumentOptions(),n=e.getGlobalOptions();O9(n,r,t);var a=Tl({},n,r,t),o;typeof window<"u"&&(o=window);var d=I9(n,r,t),u=F9(n,r,t),p=N9(e,a),g=D9(e,a,o);return{id:t.tableId,content:g,hooks:u,styles:d,settings:p}}function I9(i,t,e){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},n=function(u){if(u==="columnStyles"){var p=i[u],g=t[u],y=e[u];r.columnStyles=Tl({},p,g,y)}else{var w=[i,t,e],x=w.map(function(T){return T[u]||{}});r[u]=Tl({},x[0],x[1],x[2])}},a=0,o=Object.keys(r);a<o.length;a++){var d=o[a];n(d)}return r}function F9(i,t,e){for(var r=[i,t,e],n={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,o=r;a<o.length;a++){var d=o[a];d.didParseCell&&n.didParseCell.push(d.didParseCell),d.willDrawCell&&n.willDrawCell.push(d.willDrawCell),d.didDrawCell&&n.didDrawCell.push(d.didDrawCell),d.willDrawPage&&n.willDrawPage.push(d.willDrawPage),d.didDrawPage&&n.didDrawPage.push(d.didDrawPage)}return n}function N9(i,t){var e,r,n,a,o,d,u,p,g,y,w,x,T=Um(t.margin,40/i.scaleFactor()),E=(e=L9(i,t.startY))!==null&&e!==void 0?e:T.top,k;t.showFoot===!0?k="everyPage":t.showFoot===!1?k="never":k=(r=t.showFoot)!==null&&r!==void 0?r:"everyPage";var F;t.showHead===!0?F="everyPage":t.showHead===!1?F="never":F=(n=t.showHead)!==null&&n!==void 0?n:"everyPage";var D=(a=t.useCss)!==null&&a!==void 0?a:!1,X=t.theme||(D?"plain":"striped"),he=!!t.horizontalPageBreak,we=(o=t.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(d=t.includeHiddenHtml)!==null&&d!==void 0?d:!1,useCss:D,theme:X,startY:E,margin:T,pageBreak:(u=t.pageBreak)!==null&&u!==void 0?u:"auto",rowPageBreak:(p=t.rowPageBreak)!==null&&p!==void 0?p:"auto",tableWidth:(g=t.tableWidth)!==null&&g!==void 0?g:"auto",showHead:F,showFoot:k,tableLineWidth:(y=t.tableLineWidth)!==null&&y!==void 0?y:0,tableLineColor:(w=t.tableLineColor)!==null&&w!==void 0?w:200,horizontalPageBreak:he,horizontalPageBreakRepeat:we,horizontalPageBreakBehaviour:(x=t.horizontalPageBreakBehaviour)!==null&&x!==void 0?x:"afterAllRows"}}function L9(i,t){var e=i.getLastAutoTable(),r=i.scaleFactor(),n=i.pageNumber(),a=!1;if(e&&e.startPageNumber){var o=e.startPageNumber+e.pageNumber-1;a=o===n}return typeof t=="number"?t:(t==null||t===!1)&&a&&e?.finalY!=null?e.finalY+20/r:null}function D9(i,t,e){var r=t.head||[],n=t.body||[],a=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(e){var d=i5(i,t.html,e,o,t.useCss)||{};r=d.head||r,n=d.body||r,a=d.foot||r}else console.error("Cannot parse html in non browser environment")}var u=t.columns||R9(r,n,a);return{columns:u,head:r,body:n,foot:a}}function R9(i,t,e){var r=i[0]||t[0]||e[0]||[],n=[];return Object.keys(r).filter(function(a){return a!=="_element"}).forEach(function(a){var o=1,d;Array.isArray(r)?d=r[parseInt(a)]:d=r[a],typeof d=="object"&&!Array.isArray(d)&&(o=d?.colSpan||1);for(var u=0;u<o;u++){var p=void 0;Array.isArray(r)?p=n.length:p=a+(u>0?"_".concat(u):"");var g={dataKey:p};n.push(g)}}),n}var p_=function(){function i(t,e,r){this.table=e,this.pageNumber=e.pageNumber,this.settings=e.settings,this.cursor=r,this.doc=t.getDocument()}return i}(),B9=function(i){Yw(t,i);function t(e,r,n,a,o,d){var u=i.call(this,e,r,d)||this;return u.cell=n,u.row=a,u.column=o,u.section=a.section,u}return t}(p_),U9=function(){function i(t,e){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=e.columns,this.head=e.head,this.body=e.body,this.foot=e.foot}return i.prototype.getHeadHeight=function(t){return this.head.reduce(function(e,r){return e+r.getMaxCellHeight(t)},0)},i.prototype.getFootHeight=function(t){return this.foot.reduce(function(e,r){return e+r.getMaxCellHeight(t)},0)},i.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},i.prototype.callCellHooks=function(t,e,r,n,a,o){for(var d=0,u=e;d<u.length;d++){var p=u[d],g=new B9(t,this,r,n,a,o),y=p(g)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],y)return!1}return!0},i.prototype.callEndPageHooks=function(t,e){t.applyStyles(t.userStyles);for(var r=0,n=this.hooks.didDrawPage;r<n.length;r++){var a=n[r];a(new p_(t,this,e))}},i.prototype.callWillDrawPageHooks=function(t,e){for(var r=0,n=this.hooks.willDrawPage;r<n.length;r++){var a=n[r];a(new p_(t,this,e))}},i.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var e=this.columns.reduce(function(n,a){return n+a.wrappedWidth},0);return e}else{var r=this.settings.margin;return t-r.left-r.right}},i}(),n5=function(){function i(t,e,r,n,a){a===void 0&&(a=!1),this.height=0,this.raw=t,t instanceof Kw&&(this.raw=t._element,this.element=t._element),this.index=e,this.section=r,this.cells=n,this.spansMultiplePages=a}return i.prototype.getMaxCellHeight=function(t){var e=this;return t.reduce(function(r,n){var a;return Math.max(r,((a=e.cells[n.index])===null||a===void 0?void 0:a.height)||0)},0)},i.prototype.hasRowSpan=function(t){var e=this;return t.filter(function(r){var n=e.cells[r.index];return n?n.rowSpan>1:!1}).length>0},i.prototype.canEntireRowFit=function(t,e){return this.getMaxCellHeight(e)<=t},i.prototype.getMinimumRowHeight=function(t,e){var r=this;return t.reduce(function(n,a){var o=r.cells[a.index];if(!o)return 0;var d=e.getLineHeight(o.styles.fontSize),u=o.padding("vertical"),p=u+d;return p>n?p:n},0)},i}(),a5=function(){function i(t,e,r){var n;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=e,this.section=r,this.raw=t;var a=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,a=(n=t.content)!==null&&n!==void 0?n:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var o=a!=null?""+a:"",d=/\r\n|\r|\n/g;this.text=o.split(d)}return i.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var e=this.height-this.padding("vertical");t=this.y+e/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var n=this.width-this.padding("horizontal");r=this.x+n/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:t}},i.prototype.getContentHeight=function(t,e){e===void 0&&(e=1.15);var r=Array.isArray(this.text)?this.text.length:1,n=this.styles.fontSize/t*e,a=r*n+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},i.prototype.padding=function(t){var e=Um(this.styles.cellPadding,0);return t==="vertical"?e.top+e.bottom:t==="horizontal"?e.left+e.right:e[t]},i}(),V9=function(){function i(t,e,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=e,this.index=r}return i.prototype.getMaxCustomCellWidth=function(t){for(var e=0,r=0,n=t.allRows();r<n.length;r++){var a=n[r],o=a.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(e=Math.max(e,o.styles.cellWidth))}return e},i}();function j9(i,t){q9(i,t);var e=[],r=0;t.columns.forEach(function(a){var o=a.getMaxCustomCellWidth(t);o?a.width=o:(a.width=a.wrappedWidth,e.push(a)),r+=a.width});var n=t.getWidth(i.pageSize().width)-r;n&&(n=h_(e,n,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),n&&(n=h_(e,n,function(a){return a.minWidth})),n=Math.abs(n),!t.settings.horizontalPageBreak&&n>.1/i.scaleFactor()&&(n=n<1?n:Math.round(n),console.warn("Of the table content, ".concat(n," units width could not fit page"))),W9(t),H9(t,i),z9(t)}function q9(i,t){var e=i.scaleFactor(),r=t.settings.horizontalPageBreak,n=e5(i,t);t.allRows().forEach(function(a){for(var o=0,d=t.columns;o<d.length;o++){var u=d[o],p=a.cells[u.index];if(p){var g=t.hooks.didParseCell;t.callCellHooks(i,g,p,a,u,null);var y=p.padding("horizontal");p.contentWidth=Rm(p.text,p.styles,i)+y;var w=Rm(p.text.join(" ").split(/[^\S\u00A0]+/),p.styles,i);if(p.minReadableWidth=w+p.padding("horizontal"),typeof p.styles.cellWidth=="number")p.minWidth=p.styles.cellWidth,p.wrappedWidth=p.styles.cellWidth;else if(p.styles.cellWidth==="wrap"||r===!0)p.contentWidth>n?(p.minWidth=n,p.wrappedWidth=n):(p.minWidth=p.contentWidth,p.wrappedWidth=p.contentWidth);else{var x=10/e;p.minWidth=p.styles.minCellWidth||x,p.wrappedWidth=p.contentWidth,p.minWidth>p.wrappedWidth&&(p.wrappedWidth=p.minWidth)}}}}),t.allRows().forEach(function(a){for(var o=0,d=t.columns;o<d.length;o++){var u=d[o],p=a.cells[u.index];if(p&&p.colSpan===1)u.wrappedWidth=Math.max(u.wrappedWidth,p.wrappedWidth),u.minWidth=Math.max(u.minWidth,p.minWidth),u.minReadableWidth=Math.max(u.minReadableWidth,p.minReadableWidth);else{var g=t.styles.columnStyles[u.dataKey]||t.styles.columnStyles[u.index]||{},y=g.cellWidth||g.minCellWidth;y&&typeof y=="number"&&(u.minWidth=y,u.wrappedWidth=y)}p&&(p.colSpan>1&&!u.minWidth&&(u.minWidth=p.minWidth),p.colSpan>1&&!u.wrappedWidth&&(u.wrappedWidth=p.minWidth))}})}function h_(i,t,e){for(var r=t,n=i.reduce(function(x,T){return x+T.wrappedWidth},0),a=0;a<i.length;a++){var o=i[a],d=o.wrappedWidth/n,u=r*d,p=o.width+u,g=e(o),y=p<g?g:p;t-=y-o.width,o.width=y}if(t=Math.round(t*1e10)/1e10,t){var w=i.filter(function(x){return t<0?x.width>e(x):!0});w.length&&(t=h_(w,t,e))}return t}function z9(i){for(var t={},e=1,r=i.allRows(),n=0;n<r.length;n++)for(var a=r[n],o=0,d=i.columns;o<d.length;o++){var u=d[o],p=t[u.index];if(e>1)e--,delete a.cells[u.index];else if(p)p.cell.height+=a.height,e=p.cell.colSpan,delete a.cells[u.index],p.left--,p.left<=1&&delete t[u.index];else{var g=a.cells[u.index];if(!g)continue;if(g.height=a.height,g.rowSpan>1){var y=r.length-n,w=g.rowSpan>y?y:g.rowSpan;t[u.index]={cell:g,left:w,row:a}}}}}function W9(i){for(var t=i.allRows(),e=0;e<t.length;e++)for(var r=t[e],n=null,a=0,o=0,d=0;d<i.columns.length;d++){var u=i.columns[d];if(o-=1,o>1&&i.columns[d+1])a+=u.width,delete r.cells[u.index];else if(n){var p=n;delete r.cells[u.index],n=null,p.width=u.width+a}else{var p=r.cells[u.index];if(!p)continue;if(o=p.colSpan,a=0,p.colSpan>1){n=p,a+=u.width;continue}p.width=u.width+a}}}function H9(i,t){for(var e={count:0,height:0},r=0,n=i.allRows();r<n.length;r++){for(var a=n[r],o=0,d=i.columns;o<d.length;o++){var u=d[o],p=a.cells[u.index];if(p){t.applyStyles(p.styles,!0);var g=p.width-p.padding("horizontal");if(p.styles.overflow==="linebreak")p.text=t.splitTextToSize(p.text,g+1/t.scaleFactor(),{fontSize:p.styles.fontSize});else if(p.styles.overflow==="ellipsize")p.text=Hw(p.text,g,p.styles,t,"...");else if(p.styles.overflow==="hidden")p.text=Hw(p.text,g,p.styles,t,"");else if(typeof p.styles.overflow=="function"){var y=p.styles.overflow(p.text,g);typeof y=="string"?p.text=[y]:p.text=y}p.contentHeight=p.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var w=p.contentHeight/p.rowSpan;p.rowSpan>1&&e.count*e.height<w*p.rowSpan?e={height:w,count:p.rowSpan}:e&&e.count>0&&e.height>w&&(w=e.height),w>a.height&&(a.height=w)}}e.count--}}function Hw(i,t,e,r,n){return i.map(function(a){return G9(a,t,e,r,n)})}function G9(i,t,e,r,n){var a=1e4*r.scaleFactor();if(t=Math.ceil(t*a)/a,t>=Rm(i,e,r))return i;for(;t<Rm(i+n,e,r)&&!(i.length<=1);)i=i.substring(0,i.length-1);return i.trim()+n}function o5(i,t){var e=new Yu(i),r=$9(t,e.scaleFactor()),n=new U9(t,r);return j9(e,n),e.applyStyles(e.userStyles),n}function $9(i,t){var e=i.content,r=X9(e.columns);if(e.head.length===0){var n=Gw(r,"head");n&&e.head.push(n)}if(e.foot.length===0){var n=Gw(r,"foot");n&&e.foot.push(n)}var a=i.settings.theme,o=i.styles;return{columns:r,head:s_("head",e.head,r,o,a,t),body:s_("body",e.body,r,o,a,t),foot:s_("foot",e.foot,r,o,a,t)}}function s_(i,t,e,r,n,a){var o={},d=t.map(function(u,p){for(var g=0,y={},w=0,x=0,T=0,E=e;T<E.length;T++){var k=E[T];if(o[k.index]==null||o[k.index].left===0)if(x===0){var F=void 0;Array.isArray(u)?F=u[k.index-w-g]:F=u[k.dataKey];var D={};typeof F=="object"&&!Array.isArray(F)&&(D=F?.styles||{});var X=Y9(i,k,p,n,r,a,D),he=new a5(F,X,i);y[k.dataKey]=he,y[k.index]=he,x=he.colSpan-1,o[k.index]={left:he.rowSpan-1,times:x}}else x--,w++;else o[k.index].left--,x=o[k.index].times,g++}return new n5(u,p,i,y)});return d}function Gw(i,t){var e={};return i.forEach(function(r){if(r.raw!=null){var n=Z9(t,r.raw);n!=null&&(e[r.dataKey]=n)}}),Object.keys(e).length>0?e:null}function Z9(i,t){if(i==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(i==="foot"&&typeof t=="object")return t.footer;return null}function X9(i){return i.map(function(t,e){var r,n;return typeof t=="object"?n=(r=t.dataKey)!==null&&r!==void 0?r:e:n=e,new V9(n,t,e)})}function Y9(i,t,e,r,n,a,o){var d=E9(r),u;i==="head"?u=n.headStyles:i==="body"?u=n.bodyStyles:i==="foot"&&(u=n.footStyles);var p=Tl({},d.table,d[i],n.styles,u),g=n.columnStyles[t.dataKey]||n.columnStyles[t.index]||{},y=i==="body"?g:{},w=i==="body"&&e%2===0?Tl({},d.alternateRow,n.alternateRowStyles):{},x=S9(a),T=Tl({},x,p,w,y);return Tl(T,o)}function K9(i,t,e){var r;e===void 0&&(e={});var n=e5(i,t),a=new Map,o=[],d=[],u=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?u=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(u=[t.settings.horizontalPageBreakRepeat]),u.forEach(function(w){var x=t.columns.find(function(T){return T.dataKey===w||T.index===w});x&&!a.has(x.index)&&(a.set(x.index,!0),o.push(x.index),d.push(t.columns[x.index]),n-=x.wrappedWidth)});for(var p=!0,g=(r=e?.start)!==null&&r!==void 0?r:0;g<t.columns.length;){if(a.has(g)){g++;continue}var y=t.columns[g].wrappedWidth;if(p||n>=y)p=!1,o.push(g),d.push(t.columns[g]),n-=y;else break;g++}return{colIndexes:o,columns:d,lastIndex:g-1}}function J9(i,t){for(var e=[],r=0;r<t.columns.length;r++){var n=K9(i,t,{start:r});n.columns.length&&(e.push(n),r=n.lastIndex)}return e}function s5(i,t){var e=t.settings,r=e.startY,n=e.margin,a={x:n.left,y:r},o=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),d=r+n.bottom+o;if(e.pageBreak==="avoid"){var u=t.body,p=u.reduce(function(w,x){return w+x.height},0);d+=p}var g=new Yu(i);(e.pageBreak==="always"||e.startY!=null&&d>g.pageSize().height)&&(c5(g),a.y=n.top),t.callWillDrawPageHooks(g,a);var y=Tl({},a);t.startPageNumber=g.pageNumber(),e.horizontalPageBreak?Q9(g,t,y,a):(g.applyStyles(g.userStyles),(e.showHead==="firstPage"||e.showHead==="everyPage")&&t.head.forEach(function(w){return kl(g,t,w,a,t.columns)}),g.applyStyles(g.userStyles),t.body.forEach(function(w,x){var T=x===t.body.length-1;Bm(g,t,w,T,y,a,t.columns)}),g.applyStyles(g.userStyles),(e.showFoot==="lastPage"||e.showFoot==="everyPage")&&t.foot.forEach(function(w){return kl(g,t,w,a,t.columns)})),Jw(g,t,y,a),t.callEndPageHooks(g,a),t.finalY=a.y,i.lastAutoTable=t,g.applyStyles(g.userStyles)}function Q9(i,t,e,r){var n=J9(i,t),a=t.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")n.forEach(function(p,g){i.applyStyles(i.userStyles),g>0?If(i,t,e,r,p.columns,!0):$w(i,t,r,p.columns),eB(i,t,e,r,p.columns),l_(i,t,r,p.columns)});else for(var o=-1,d=n[0],u=function(){var p=o;if(d){i.applyStyles(i.userStyles);var g=d.columns;o>=0?If(i,t,e,r,g,!0):$w(i,t,r,g),p=Zw(i,t,o+1,r,g),l_(i,t,r,g)}var y=p-o;n.slice(1).forEach(function(w){i.applyStyles(i.userStyles),If(i,t,e,r,w.columns,!0),Zw(i,t,o+1,r,w.columns,y),l_(i,t,r,w.columns)}),o=p};o<t.body.length-1;)u()}function $w(i,t,e,r){var n=t.settings;i.applyStyles(i.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&t.head.forEach(function(a){return kl(i,t,a,e,r)})}function eB(i,t,e,r,n){i.applyStyles(i.userStyles),t.body.forEach(function(a,o){var d=o===t.body.length-1;Bm(i,t,a,d,e,r,n)})}function Zw(i,t,e,r,n,a){i.applyStyles(i.userStyles),a=a??t.body.length;var o=Math.min(e+a,t.body.length),d=-1;return t.body.slice(e,o).forEach(function(u,p){var g=e+p===t.body.length-1,y=l5(i,t,g,r);u.canEntireRowFit(y,n)&&(kl(i,t,u,r,n),d=e+p)}),d}function l_(i,t,e,r){var n=t.settings;i.applyStyles(i.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&t.foot.forEach(function(a){return kl(i,t,a,e,r)})}function tB(i,t,e){var r=e.getLineHeight(i.styles.fontSize),n=i.padding("vertical"),a=Math.floor((t-n)/r);return Math.max(0,a)}function iB(i,t,e,r){var n={};i.spansMultiplePages=!0,i.height=0;for(var a=0,o=0,d=e.columns;o<d.length;o++){var u=d[o],p=i.cells[u.index];if(p){Array.isArray(p.text)||(p.text=[p.text]);var g=new a5(p.raw,p.styles,p.section);g=Tl(g,p),g.text=[];var y=tB(p,t,r);p.text.length>y&&(g.text=p.text.splice(y,p.text.length));var w=r.scaleFactor(),x=r.getLineHeightFactor();p.contentHeight=p.getContentHeight(w,x),p.contentHeight>=t&&(p.contentHeight=t,g.styles.minCellHeight-=t),p.contentHeight>i.height&&(i.height=p.contentHeight),g.contentHeight=g.getContentHeight(w,x),g.contentHeight>a&&(a=g.contentHeight),n[u.index]=g}}var T=new n5(i.raw,-1,i.section,n,!0);T.height=a;for(var E=0,k=e.columns;E<k.length;E++){var u=k[E],g=T.cells[u.index];g&&(g.height=T.height);var p=i.cells[u.index];p&&(p.height=i.height)}return T}function rB(i,t,e,r){var n=i.pageSize().height,a=r.settings.margin,o=a.top+a.bottom,d=n-o;t.section==="body"&&(d-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var u=t.getMinimumRowHeight(r.columns,i),p=u<e;if(u>d)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!p)return!1;var g=t.hasRowSpan(r.columns),y=t.getMaxCellHeight(r.columns)>d;return y?(g&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(g||r.settings.rowPageBreak==="avoid")}function Bm(i,t,e,r,n,a,o){var d=l5(i,t,r,a);if(e.canEntireRowFit(d,o))kl(i,t,e,a,o);else if(rB(i,e,d,t)){var u=iB(e,d,t,i);kl(i,t,e,a,o),If(i,t,n,a,o),Bm(i,t,u,r,n,a,o)}else If(i,t,n,a,o),Bm(i,t,e,r,n,a,o)}function kl(i,t,e,r,n){r.x=t.settings.margin.left;for(var a=0,o=n;a<o.length;a++){var d=o[a],u=e.cells[d.index];if(!u){r.x+=d.width;continue}i.applyStyles(u.styles),u.x=r.x,u.y=r.y;var p=t.callCellHooks(i,t.hooks.willDrawCell,u,e,d,r);if(p===!1){r.x+=d.width;continue}nB(i,u,r);var g=u.getTextPos();Xw(u.text,g.x,g.y,{halign:u.styles.halign,valign:u.styles.valign,maxWidth:Math.ceil(u.width-u.padding("left")-u.padding("right"))},i.getDocument()),t.callCellHooks(i,t.hooks.didDrawCell,u,e,d,r),r.x+=d.width}r.y+=e.height}function nB(i,t,e){var r=t.styles;if(i.getDocument().setFillColor(i.getDocument().getFillColor()),typeof r.lineWidth=="number"){var n=Qw(r.lineWidth,r.fillColor);n&&i.rect(t.x,e.y,t.width,t.height,n)}else typeof r.lineWidth=="object"&&(r.fillColor&&i.rect(t.x,e.y,t.width,t.height,"F"),aB(i,t,e,r.lineWidth))}function aB(i,t,e,r){var n,a,o,d;r.top&&(n=e.x,a=e.y,o=e.x+t.width,d=e.y,r.right&&(o+=.5*r.right),r.left&&(n-=.5*r.left),u(r.top,n,a,o,d)),r.bottom&&(n=e.x,a=e.y+t.height,o=e.x+t.width,d=e.y+t.height,r.right&&(o+=.5*r.right),r.left&&(n-=.5*r.left),u(r.bottom,n,a,o,d)),r.left&&(n=e.x,a=e.y,o=e.x,d=e.y+t.height,r.top&&(a-=.5*r.top),r.bottom&&(d+=.5*r.bottom),u(r.left,n,a,o,d)),r.right&&(n=e.x+t.width,a=e.y,o=e.x+t.width,d=e.y+t.height,r.top&&(a-=.5*r.top),r.bottom&&(d+=.5*r.bottom),u(r.right,n,a,o,d));function u(p,g,y,w,x){i.getDocument().setLineWidth(p),i.getDocument().line(g,y,w,x,"S")}}function l5(i,t,e,r){var n=t.settings.margin.bottom,a=t.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&e)&&(n+=t.getFootHeight(t.columns)),i.pageSize().height-r.y-n}function If(i,t,e,r,n,a){n===void 0&&(n=[]),a===void 0&&(a=!1),i.applyStyles(i.userStyles),t.settings.showFoot==="everyPage"&&!a&&t.foot.forEach(function(d){return kl(i,t,d,r,n)}),t.callEndPageHooks(i,r);var o=t.settings.margin;Jw(i,t,e,r),c5(i),t.pageNumber++,r.x=o.left,r.y=o.top,e.y=o.top,t.callWillDrawPageHooks(i,r),t.settings.showHead==="everyPage"&&(t.head.forEach(function(d){return kl(i,t,d,r,n)}),i.applyStyles(i.userStyles))}function c5(i){var t=i.pageNumber();i.setPage(t+1);var e=i.pageNumber();return e===t?(i.addPage(),!0):!1}function oB(i){i.API.autoTable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[0],n=r5(this,r),a=o5(this,n);return s5(this,a),this},i.API.lastAutoTable=!1,i.API.autoTableText=function(t,e,r,n){Xw(t,e,r,n,this)},i.API.autoTableSetDefaults=function(t){return Yu.setDefaults(t,this),this},i.autoTableSetDefaults=function(t,e){Yu.setDefaults(t,e)},i.API.autoTableHtmlToJson=function(t,e){var r;if(e===void 0&&(e=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var n=new Yu(this),a=i5(n,t,window,e,!1),o=a.head,d=a.body,u=((r=o[0])===null||r===void 0?void 0:r.map(function(p){return p.content}))||[];return{columns:u,rows:d,data:d}}}var c_;function Vm(i,t){var e=r5(i,t),r=o5(i,e);s5(i,r)}try{typeof window<"u"&&window&&(d_=window,u_=d_.jsPDF||((c_=d_.jspdf)===null||c_===void 0?void 0:c_.jsPDF),u_&&oB(u_))}catch(i){console.error("Could not apply autoTable plugin",i)}var d_,u_;function sB(i,t){if(i&1&&(c(0,"option",21),h(1),l()),i&2){let e=t.$implicit;M("value",e),v(),Ve(e)}}function lB(i,t){if(i&1&&(c(0,"option",21),h(1),l()),i&2){let e=t.$implicit;M("value",e),v(),Ve(e)}}function cB(i,t){if(i&1&&(c(0,"tr")(1,"td"),h(2),l(),c(3,"td"),h(4),l(),c(5,"td"),h(6),l(),c(7,"td"),h(8),l(),c(9,"td"),h(10),l(),c(11,"td"),h(12),l()()),i&2){let e=t.$implicit;v(2),Ve(e.nombre),v(2),Ve(e.descripcion),v(2),Ve(e.fechaInicio),v(2),Ve(e.fechaFin),v(2),Ve(e.estado),v(2),Ve(e.prioridad)}}function dB(i,t){if(i&1&&(c(0,"table")(1,"thead")(2,"tr")(3,"th"),h(4,"Nombre"),l(),c(5,"th"),h(6,"Descripci\xF3n"),l(),c(7,"th"),h(8,"Fecha Inicio"),l(),c(9,"th"),h(10,"Fecha Fin"),l(),c(11,"th"),h(12,"Estado"),l(),c(13,"th"),h(14,"Prioridad"),l()()(),c(15,"tbody"),U(16,cB,13,6,"tr",22),l()()),i&2){let e=ee();v(16),M("ngForOf",e.tareasFiltradas)}}function uB(i,t){i&1&&(c(0,"p"),h(1,"No se encontraron tareas con los criterios especificados."),l())}var jm=class i{constructor(t,e){this.route=t;this.tareaService=e}tareas=[];tareasFiltradas=[];idObra;fechaInicio="";fechaFin="";estado="";prioridad="";estados=["pendiente","en progreso","completada","cancelada"];prioridades=["baja","media","alta"];nombreObra="";ngOnInit(){this.idObra=+this.route.snapshot.paramMap.get("id_obra"),this.tareaService.obtenerTareas().subscribe(t=>{this.tareas=t.filter(e=>e.obraCivil.id===this.idObra),this.nombreObra=this.tareas[0]?.obraCivil?.nombre||"Obra Civil",this.filtrar()})}filtrar(){this.tareasFiltradas=this.tareas.filter(t=>{let e=this.fechaInicio?new Date(this.fechaInicio):null,r=this.fechaFin?new Date(this.fechaFin):null,n=new Date(t.fechaInicio),a=new Date(t.fechaFin),o=!e||n>=e,d=!r||a<=r,u=!this.estado||t.estado===this.estado,p=!this.prioridad||t.prioridad===this.prioridad;return o&&d&&u&&p})}exportarExcel(){let t=this.tareasFiltradas.map(p=>{var g=p,{id:o,obraCivil:d}=g,u=$f(g,["id","obraCivil"]);return u}),r={Sheets:{Reporte:Cm.json_to_sheet(t)},SheetNames:["Reporte"]},n=Mf(r,{bookType:"xlsx",type:"array"}),a=new Blob([n],{type:"application/octet-stream"});m_.saveAs(a,`${this.nombreObra}-reporte.xlsx`)}exportarPDF(){let t=new hi;t.setFontSize(16),t.text(`Reporte de Tareas de la Obra ${this.nombreObra}`,14,15);let e=this.tareasFiltradas.map(r=>[r.nombre,r.descripcion,r.fechaInicio,r.fechaFin,r.estado,r.prioridad]);Vm(t,{startY:25,head:[["Nombre","Descripcion","Fecha Inicio","Fecha Fin","Estado","Prioridad"]],body:e,styles:{fontSize:10,cellPadding:3},headStyles:{fillColor:[41,128,185],textColor:[255,255,255],fontStyle:"bold"},alternateRowStyles:{fillColor:[245,245,245]},margin:{top:25},theme:"striped"}),t.save(`${this.nombreObra}-reporte.pdf`)}exportarHTML(){let t=`
    <!DOCTYPE html>
    <html>
    <head>
      <title>Reporte ${this.nombreObra}</title>
      <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        h1 { color: #2c3e50; border-bottom: 2px solid #3498db; padding-bottom: 10px; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th { background-color: #2980b9; color: white; padding: 12px; text-align: left; }
        td { padding: 10px; border-bottom: 1px solid #ddd; }
        tr:nth-child(even) { background-color: #f5f5f5; }
        .fecha { white-space: nowrap; }
      </style>
    </head>
    <body>
      <h1>Reporte de Tareas - ${this.nombreObra}</h1>
      <table>
        <thead>
          <tr>
            <th>Nombre</th>
            <th>Descripci\xF3n</th>
            <th>Fecha Inicio</th>
            <th>Fecha Fin</th>
            <th>Estado</th>
            <th>Prioridad</th>
          </tr>
        </thead>
        <tbody>
          ${this.tareasFiltradas.map(r=>`
            <tr>
              <td>${r.nombre}</td>
              <td>${r.descripcion}</td>
              <td class="fecha">${this.formatDate(r.fechaInicio)}</td>
              <td class="fecha">${this.formatDate(r.fechaFin)}</td>
              <td>${r.estado}</td>
              <td>${r.prioridad}</td>
            </tr>
          `).join("")}
        </tbody>
      </table>
    </body>
    </html>
  `,e=new Blob([t],{type:"text/html;charset=utf-8"});m_.saveAs(e,`${this.nombreObra}-reporte.html`)}formatDate(t){return new Date(t).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})}static \u0275fac=function(e){return new(e||i)(ae(Vi),ae(Wo))};static \u0275cmp=ot({type:i,selectors:[["app-obra-civil-tarea-reporte"]],standalone:!0,features:[ut],decls:41,vars:9,consts:[[1,"reporte-container"],[1,"titulo-reporte"],[1,"formulario",3,"ngSubmit"],[1,"campo"],["for","fechaInicio"],["type","date","id","fechaInicio","name","fechaInicio",3,"ngModelChange","ngModel"],["for","fechaFin"],["type","date","id","fechaFin","name","fechaFin",3,"ngModelChange","ngModel"],["for","estado"],["id","estado","name","estado",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","prioridad"],["id","prioridad","name","prioridad",3,"ngModelChange","ngModel"],[1,"campo","boton-filtrar"],["type","submit"],[1,"acciones"],[3,"click"],[1,"tabla"],[1,"tabla-responsive"],[4,"ngIf"],[3,"value"],[4,"ngFor","ngForOf"]],template:function(e,r){e&1&&(c(0,"div",0)(1,"h2",1),h(2),l(),c(3,"form",2),J("ngSubmit",function(){return r.filtrar()}),c(4,"div",3)(5,"label",4),h(6,"Fecha Inicio"),l(),c(7,"input",5),ye("ngModelChange",function(a){return xe(r.fechaInicio,a)||(r.fechaInicio=a),a}),l()(),c(8,"div",3)(9,"label",6),h(10,"Fecha Fin"),l(),c(11,"input",7),ye("ngModelChange",function(a){return xe(r.fechaFin,a)||(r.fechaFin=a),a}),l()(),c(12,"div",3)(13,"label",8),h(14,"Estado"),l(),c(15,"select",9),ye("ngModelChange",function(a){return xe(r.estado,a)||(r.estado=a),a}),c(16,"option",10),h(17,"Todos"),l(),U(18,sB,2,2,"option",11),l()(),c(19,"div",3)(20,"label",12),h(21,"Prioridad"),l(),c(22,"select",13),ye("ngModelChange",function(a){return xe(r.prioridad,a)||(r.prioridad=a),a}),c(23,"option",10),h(24,"Todas"),l(),U(25,lB,2,2,"option",11),l()(),c(26,"div",14)(27,"button",15),h(28,"Filtrar"),l()()(),c(29,"div",16)(30,"button",17),J("click",function(){return r.exportarExcel()}),h(31,"Exportar a Excel"),l(),c(32,"button",17),J("click",function(){return r.exportarPDF()}),h(33,"Exportar a PDF"),l(),c(34,"button",17),J("click",function(){return r.exportarHTML()}),h(35,"Exportar a HTML"),l()()(),c(36,"div",18)(37,"div",18)(38,"div",19),U(39,dB,17,1,"table",20),l(),U(40,uB,2,0,"p",20),l()()),e&2&&(v(2),tt("Reporte de Tareas - ",r.nombreObra,""),v(5),be("ngModel",r.fechaInicio),v(4),be("ngModel",r.fechaFin),v(4),be("ngModel",r.estado),v(3),M("ngForOf",r.estados),v(4),be("ngModel",r.prioridad),v(3),M("ngForOf",r.prioridades),v(14),M("ngIf",r.tareasFiltradas.length),v(),M("ngIf",!r.tareasFiltradas.length))},dependencies:[kt,ni,ji,qi,Mt,Ri,Tt,ri,Ot,oi,ht,zt,Et],styles:[".reporte-container[_ngcontent-%COMP%]{padding:1.5rem;background:#f8f9fa;border-radius:10px;box-shadow:0 2px 8px #0000001a;margin-bottom:2rem}.reporte-container[_ngcontent-%COMP%]   .titulo-reporte[_ngcontent-%COMP%]{margin-bottom:1rem;font-size:1.5rem;color:#333}.reporte-container[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:1rem}.reporte-container[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .campo[_ngcontent-%COMP%]{display:flex;flex-direction:column}.reporte-container[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .campo[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:.25rem;font-weight:500;color:#555}.reporte-container[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .campo[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .reporte-container[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .campo[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.4rem;border:1px solid #ccc;border-radius:5px}.reporte-container[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .boton-filtrar[_ngcontent-%COMP%]{display:flex;align-items:flex-end}.reporte-container[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .boton-filtrar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem 1rem;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer}.reporte-container[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .boton-filtrar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.reporte-container[_ngcontent-%COMP%]   .acciones[_ngcontent-%COMP%]{margin-top:1.5rem}.reporte-container[_ngcontent-%COMP%]   .acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:1rem;padding:.5rem 1rem;border:none;border-radius:5px;color:#fff;cursor:pointer;background-color:#28a745;transition:background-color .3s ease,opacity .2s}.reporte-container[_ngcontent-%COMP%]   .acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(1){background-color:#28a745}.reporte-container[_ngcontent-%COMP%]   .acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(2){background-color:#dc3545}.reporte-container[_ngcontent-%COMP%]   .acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(3){background-color:#007bff}.reporte-container[_ngcontent-%COMP%]   .acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.9}.tabla-responsive[_ngcontent-%COMP%]{width:100%;overflow-x:auto}.tabla[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;min-width:600px;border-collapse:collapse;margin-top:1rem;font-size:.95rem}.tabla[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .tabla[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:.6rem;text-align:left}.tabla[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f1f1f1;font-weight:600}.tabla[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#fafafa}.tabla[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem;font-style:italic;color:#666}"]})};var fB=(i,t,e,r)=>({"bg-primary text-white":i,"bg-info text-dark":t,"bg-success text-white":e,"bg-secondary text-white":r}),pB=(i,t)=>({"text-success":i,"text-danger":t});function hB(i,t){if(i&1){let e=Je();c(0,"div",14)(1,"div",15)(2,"h3"),Le(3,"i",16),h(4," Confirmaci\xF3n "),l(),c(5,"p",17),h(6,"\xBFEst\xE1s seguro de eliminar este proveedor?"),l(),c(7,"div",18)(8,"button",19),J("click",function(){z(e);let n=ee();return W(n.eliminarProveedorConfirmado())}),Le(9,"i",20),h(10," Confirmar "),l(),c(11,"button",21),J("click",function(){z(e);let n=ee();return W(n.cerrarModal())}),Le(12,"i",22),h(13," Cancelar "),l()()()()}}function mB(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),h(2),l(),c(3,"td"),h(4),l(),c(5,"td"),h(6),Le(7,"br"),h(8),l(),c(9,"td"),h(10),l(),c(11,"td"),h(12),Le(13,"br"),h(14),l(),c(15,"td"),h(16),l(),c(17,"td")(18,"span",23),h(19),l()(),c(20,"td")(21,"span",24),h(22),l()(),c(23,"td")(24,"button",25),J("click",function(){let n,a=z(e).$implicit,o=ee();return W(o.irAEditarProveedor((n=a.id)!==null&&n!==void 0?n:0))}),Le(25,"i",26),h(26," Editar "),l(),c(27,"button",27),J("click",function(){let n,a=z(e).$implicit,o=ee();return W(o.confirmarEliminarProveedor((n=a.id)!==null&&n!==void 0?n:0))}),Le(28,"i",28),h(29," Eliminar "),l()()()}if(i&2){let e=t.$implicit;v(2),Ve(e.nombreCompleto),v(2),Ve(e.nitCi),v(2),Ve(e.telefono||"N/A"),v(2),Ve(e.correo||"N/A"),v(2),Ve(e.direccion||"N/A"),v(2),Ve(e.ciudad||"N/A"),v(2),Ve(e.pais||"N/A"),v(2),Ve(e.empresa||"N/A"),v(2),M("ngClass",Vo(12,fB,e.tipoProveedor==="MATERIAL",e.tipoProveedor==="EQUIPO",e.tipoProveedor==="SERVICIO",e.tipoProveedor==="OTROS")),v(),tt(" ",e.tipoProveedor==null?null:e.tipoProveedor.toLowerCase()," "),v(2),M("ngClass",b2(17,pB,e.estado==="Activo",e.estado==="Inactivo")),v(),tt(" ",e.estado," ")}}var qm=class i{constructor(t,e,r,n){this.proveedorService=t;this.router=e;this.filterService=r;this.paginationService=n}proveedores=[];proveedoresFiltrados=[];proveedoresPaginados=[];textoBusqueda="";estadoSeleccionado="Todos";paginaActual=1;elementosPorPagina=5;totalPaginas=0;mostrarModal=!1;proveedorAEliminarId=null;ngOnInit(){this.obtenerProveedores()}obtenerProveedores(){this.proveedorService.obtenerProveedores().subscribe(t=>{console.log("Proveedores",t),this.proveedores=t,this.aplicarFiltros()})}eliminarProveedor(t){this.proveedorService.eliminarProveedor(t).subscribe(()=>{this.obtenerProveedores()})}irACrearProveedor(){this.router.navigate(["/proveedor-create"])}irAEditarProveedor(t){this.router.navigate([`/proveedor-update/${t}`])}confirmarEliminarProveedor(t){this.proveedorAEliminarId=t,this.mostrarModal=!0}eliminarProveedorConfirmado(){this.proveedorAEliminarId!==null&&(this.eliminarProveedor(this.proveedorAEliminarId),this.cerrarModal())}cerrarModal(){this.mostrarModal=!1,this.proveedorAEliminarId=null}aplicarFiltros(){let t=[...this.proveedores];t=this.filterService.filtrar(t,this.textoBusqueda),this.estadoSeleccionado!=="Todos"&&(t=t.filter(e=>e.estado===this.estadoSeleccionado)),this.proveedoresFiltrados=t,this.paginaActual=1,this.calcularPaginacion()}calcularPaginacion(){let t=this.paginationService.paginate(this.proveedoresFiltrados,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.proveedoresPaginados=t.paginatedData}cambiarPagina(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarProveedoresPaginados()}actualizarProveedoresPaginados(){let t=this.paginationService.paginate(this.proveedoresFiltrados,this.paginaActual,this.elementosPorPagina);this.proveedoresPaginados=t.paginatedData}static \u0275fac=function(e){return new(e||i)(ae(ua),ae(vt),ae(zi),ae(Yi))};static \u0275cmp=ot({type:i,selectors:[["app-proveedor"]],standalone:!0,features:[ut],decls:47,vars:8,consts:[["class","modal",4,"ngIf"],[1,"row-filtros"],[1,"input-busqueda"],[1,"fa","fa-search"],["type","text","placeholder","Buscar proveedores...",3,"ngModelChange","input","ngModel"],[3,"ngModelChange","change","ngModel"],["value","Todos"],["value","Activo"],["value","Inactivo"],[1,"btn-crear",3,"click"],[1,"fa","fa-plus"],[4,"ngFor","ngForOf"],[1,"paginacion"],[3,"click","disabled"],[1,"modal"],[1,"modal-content","animate"],[1,"fa","fa-exclamation-triangle","text-warning"],[1,"modal-message"],[1,"modal-buttons"],[1,"btn-confirmar",3,"click"],[1,"fa","fa-check"],[1,"btn-cancelar",3,"click"],[1,"fa","fa-times"],[1,"badge","rounded-pill",3,"ngClass"],[3,"ngClass"],[1,"btn-editar",3,"click"],[1,"fa","fa-edit"],[1,"btn-eliminar",3,"click"],[1,"fa","fa-trash"]],template:function(e,r){e&1&&(U(0,hB,14,0,"div",0),c(1,"h2"),h(2,"Gesti\xF3n de Proveedores"),l(),c(3,"div",1)(4,"div",2),Le(5,"i",3),c(6,"input",4),ye("ngModelChange",function(a){return xe(r.textoBusqueda,a)||(r.textoBusqueda=a),a}),J("input",function(){return r.aplicarFiltros()}),l()(),c(7,"select",5),ye("ngModelChange",function(a){return xe(r.estadoSeleccionado,a)||(r.estadoSeleccionado=a),a}),J("change",function(){return r.aplicarFiltros()}),c(8,"option",6),h(9,"Todos los estados"),l(),c(10,"option",7),h(11,"Activo"),l(),c(12,"option",8),h(13,"Inactivo"),l()(),c(14,"button",9),J("click",function(){return r.irACrearProveedor()}),Le(15,"i",10),h(16," Nuevo Proveedor "),l()(),c(17,"table")(18,"thead")(19,"tr")(20,"th"),h(21,"Nombre"),l(),c(22,"th"),h(23,"NIT/CI"),l(),c(24,"th"),h(25,"Tel\xE9fono/Correo"),l(),c(26,"th"),h(27,"Direcci\xF3n"),l(),c(28,"th"),h(29,"Ciudad/Pa\xEDs"),l(),c(30,"th"),h(31,"Empresa"),l(),c(32,"th"),h(33,"Tipo"),l(),c(34,"th"),h(35,"Estado"),l(),c(36,"th"),h(37,"Acciones"),l()()(),c(38,"tbody"),U(39,mB,30,20,"tr",11),l()(),c(40,"div",12)(41,"button",13),J("click",function(){return r.cambiarPagina("previous")}),h(42," \u2190 Anterior "),l(),c(43,"span"),h(44),l(),c(45,"button",13),J("click",function(){return r.cambiarPagina("next")}),h(46," Siguiente \u2192 "),l()()),e&2&&(M("ngIf",r.mostrarModal),v(6),be("ngModel",r.textoBusqueda),v(),be("ngModel",r.estadoSeleccionado),v(32),M("ngForOf",r.proveedoresPaginados),v(2),M("disabled",r.paginaActual===1),v(3),Di("P\xE1gina ",r.paginaActual," de ",r.totalPaginas,""),v(),M("disabled",r.paginaActual===r.totalPaginas))},dependencies:[ht,aa,zt,Et,Ui,kt,ji,qi,Mt,Ri,Tt,Ot],styles:['@charset "UTF-8";.row-filtros[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;gap:10px;margin-bottom:20px}.row-filtros[_ngcontent-%COMP%]   .input-busqueda[_ngcontent-%COMP%]{position:relative}.row-filtros[_ngcontent-%COMP%]   .input-busqueda[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:50%;left:12px;transform:translateY(-50%);color:#888}.row-filtros[_ngcontent-%COMP%]   .input-busqueda[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px 12px 10px 35px;border:1px solid #ccc;border-radius:6px;font-size:14px;width:250px}.row-filtros[_ngcontent-%COMP%]   .input-busqueda[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#2196f3;outline:none;box-shadow:0 0 0 2px #2196f333}.row-filtros[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:10px;border:1px solid #ccc;border-radius:6px;font-size:14px;width:180px}.row-filtros[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#2196f3}.row-filtros[_ngcontent-%COMP%]   .btn-crear[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;border:none;padding:10px 16px;border-radius:6px;font-size:14px;display:flex;align-items:center;gap:6px}.row-filtros[_ngcontent-%COMP%]   .btn-crear[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.row-filtros[_ngcontent-%COMP%]   .btn-crear[_ngcontent-%COMP%]:hover{background-color:#218838}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;box-shadow:0 2px 5px #0000000d;border-radius:8px;overflow:hidden;margin-top:10px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;text-align:left;border-bottom:1px solid #e0e0e0}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f9f9f9;font-weight:700;color:#333}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f1f5f9;transition:background-color .3s}button[_ngcontent-%COMP%]{cursor:pointer;border:none;border-radius:6px;padding:8px 14px;font-size:14px;transition:all .3s ease;margin-right:6px;display:inline-flex;align-items:center;gap:6px}button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:15px}.btn-editar[_ngcontent-%COMP%]{background-color:#2196f3;color:#fff}.btn-editar[_ngcontent-%COMP%]:hover{background-color:#0b7dda}.btn-eliminar[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.btn-eliminar[_ngcontent-%COMP%]:hover{background-color:#c62828}.modal[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;inset:0;background-color:#00000073;z-index:1000}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:10px;width:90%;max-width:400px;text-align:center;box-shadow:0 12px 24px #00000026;animation:_ngcontent-%COMP%_fadeZoom .25s ease-out}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;margin-bottom:12px;color:#2c3e50}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-message[_ngcontent-%COMP%]{font-size:15px;color:#555;margin-bottom:20px}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px}.btn-confirmar[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.btn-confirmar[_ngcontent-%COMP%]:hover{background-color:#218838}.btn-cancelar[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.btn-cancelar[_ngcontent-%COMP%]:hover{background-color:#c82333}@keyframes _ngcontent-%COMP%_fadeZoom{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.paginacion[_ngcontent-%COMP%]{margin-top:25px;display:flex;justify-content:center;align-items:center;gap:16px}.paginacion[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 18px;background-color:#f0f0f0}.paginacion[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#dedede}.paginacion[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.paginacion[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;color:#666}@media (max-width: 768px){.row-filtros[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.input-busqueda[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], .btn-crear[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%]{font-size:13px}.modal-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:10px}.modal-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}']})};function gB(i,t){i&1&&(c(0,"small"),h(1,"Campo obligatorio."),l())}function vB(i,t){i&1&&(c(0,"small"),h(1,"Debe tener al menos 2 caracteres."),l())}function _B(i,t){if(i&1&&(c(0,"div",33),U(1,gB,2,0,"small",34)(2,vB,2,0,"small",34),l()),i&2){ee();let e=ue(9);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function bB(i,t){i&1&&(c(0,"small"),h(1,"Campo obligatorio."),l())}function xB(i,t){if(i&1&&(c(0,"div",33),U(1,bB,2,0,"small",34),l()),i&2){ee();let e=ue(15);v(),M("ngIf",e.errors==null?null:e.errors.required)}}function yB(i,t){if(i&1&&(c(0,"option",35),h(1),l()),i&2){let e=t.$implicit;M("value",e),v(),Ve(e)}}function CB(i,t){i&1&&(c(0,"small"),h(1,"Campo obligatorio."),l())}function wB(i,t){if(i&1&&(c(0,"div",33),U(1,CB,2,0,"small",34),l()),i&2){ee();let e=ue(45);v(),M("ngIf",e.errors==null?null:e.errors.required)}}function SB(i,t){if(i&1&&(c(0,"option",35),h(1),l()),i&2){let e=t.$implicit;M("value",e),v(),Ve(e)}}function EB(i,t){i&1&&(c(0,"small"),h(1,"Campo obligatorio."),l())}function PB(i,t){if(i&1&&(c(0,"div",33),U(1,EB,2,0,"small",34),l()),i&2){ee();let e=ue(52);v(),M("ngIf",e.errors==null?null:e.errors.required)}}var zm=class i{constructor(t,e){this.proveedorService=t;this.router=e}proveedor={nombreCompleto:"",nitCi:"",telefono:"",correo:"",direccion:"",ciudad:"",pais:"",empresa:"",tipoProveedor:"MATERIAL",estado:"Activo"};estados=["Activo","Inactivo"];tiposProveedor=["MATERIAL","EQUIPO","SERVICIO","OTROS"];ngOnInit(){}crearProveedor(){let t=st({},this.proveedor);delete t.id,console.log("Enviando proveedor:",t),this.proveedorService.crearProveedor(t).subscribe({next:()=>{this.router.navigate(["/proveedor"])},error:e=>{console.error("Error al guardar proveedor:",e),e.status===400&&e.error==="Ya existe un proveedor con ese NIT/CI."?alert("\u26A0\uFE0F Ya existe un proveedor con ese NIT/CI."):alert("\u274C Error inesperado al guardar el proveedor.")}})}cancelar(){this.router.navigate(["/proveedor"])}static \u0275fac=function(e){return new(e||i)(ae(ua),ae(vt))};static \u0275cmp=ot({type:i,selectors:[["app-proveedor-create"]],standalone:!0,features:[ut],decls:60,vars:17,consts:[["proveedorForm","ngForm"],["nombreCompleto","ngModel"],["nitCi","ngModel"],["tipoProveedor","ngModel"],["estado","ngModel"],[1,"form-container"],[3,"ngSubmit"],[1,"form-group"],["for","nombreCompleto"],["id","nombreCompleto","type","text","name","nombreCompleto","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","nitCi"],["id","nitCi","type","text","name","nitCi","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","telefono"],["id","telefono","type","text","name","telefono",1,"form-control",3,"ngModelChange","ngModel"],["for","correo"],["id","correo","type","email","name","correo",1,"form-control",3,"ngModelChange","ngModel"],["for","direccion"],["id","direccion","type","text","name","direccion",1,"form-control",3,"ngModelChange","ngModel"],["for","ciudad"],["id","ciudad","type","text","name","ciudad",1,"form-control",3,"ngModelChange","ngModel"],["for","pais"],["id","pais","type","text","name","pais",1,"form-control",3,"ngModelChange","ngModel"],["for","empresa"],["id","empresa","type","text","name","empresa",1,"form-control",3,"ngModelChange","ngModel"],["for","tipoProveedor"],["id","tipoProveedor","name","tipoProveedor","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","estado"],["id","estado","name","estado","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"button-container"],["type","submit",1,"submit-btn",3,"disabled"],["type","button",1,"cancel-btn",3,"click"],[1,"error-message"],[4,"ngIf"],[3,"value"]],template:function(e,r){if(e&1){let n=Je();c(0,"div",5)(1,"h2"),h(2,"Registrar Proveedor"),l(),c(3,"form",6,0),J("ngSubmit",function(){return z(n),W(r.crearProveedor())}),c(5,"div",7)(6,"label",8),h(7,"Nombre Completo:"),l(),c(8,"input",9,1),ye("ngModelChange",function(o){return z(n),xe(r.proveedor.nombreCompleto,o)||(r.proveedor.nombreCompleto=o),W(o)}),l(),U(10,_B,3,2,"div",10),l(),c(11,"div",7)(12,"label",11),h(13,"NIT/CI:"),l(),c(14,"input",12,2),ye("ngModelChange",function(o){return z(n),xe(r.proveedor.nitCi,o)||(r.proveedor.nitCi=o),W(o)}),l(),U(16,xB,2,1,"div",10),l(),c(17,"div",7)(18,"label",13),h(19,"Tel\xE9fono:"),l(),c(20,"input",14),ye("ngModelChange",function(o){return z(n),xe(r.proveedor.telefono,o)||(r.proveedor.telefono=o),W(o)}),l()(),c(21,"div",7)(22,"label",15),h(23,"Correo:"),l(),c(24,"input",16),ye("ngModelChange",function(o){return z(n),xe(r.proveedor.correo,o)||(r.proveedor.correo=o),W(o)}),l()(),c(25,"div",7)(26,"label",17),h(27,"Direcci\xF3n:"),l(),c(28,"input",18),ye("ngModelChange",function(o){return z(n),xe(r.proveedor.direccion,o)||(r.proveedor.direccion=o),W(o)}),l()(),c(29,"div",7)(30,"label",19),h(31,"Ciudad:"),l(),c(32,"input",20),ye("ngModelChange",function(o){return z(n),xe(r.proveedor.ciudad,o)||(r.proveedor.ciudad=o),W(o)}),l()(),c(33,"div",7)(34,"label",21),h(35,"Pa\xEDs:"),l(),c(36,"input",22),ye("ngModelChange",function(o){return z(n),xe(r.proveedor.pais,o)||(r.proveedor.pais=o),W(o)}),l()(),c(37,"div",7)(38,"label",23),h(39,"Empresa:"),l(),c(40,"input",24),ye("ngModelChange",function(o){return z(n),xe(r.proveedor.empresa,o)||(r.proveedor.empresa=o),W(o)}),l()(),c(41,"div",7)(42,"label",25),h(43,"Tipo proveedor:"),l(),c(44,"select",26,3),ye("ngModelChange",function(o){return z(n),xe(r.proveedor.tipoProveedor,o)||(r.proveedor.tipoProveedor=o),W(o)}),U(46,yB,2,2,"option",27),l(),U(47,wB,2,1,"div",10),l(),c(48,"div",7)(49,"label",28),h(50,"Estado:"),l(),c(51,"select",29,4),ye("ngModelChange",function(o){return z(n),xe(r.proveedor.estado,o)||(r.proveedor.estado=o),W(o)}),U(53,SB,2,2,"option",27),l(),U(54,PB,2,1,"div",10),l(),c(55,"div",30)(56,"button",31),h(57," Crear "),l(),c(58,"button",32),J("click",function(){return z(n),W(r.cancelar())}),h(59," Cancelar "),l()()()()}if(e&2){let n=ue(4),a=ue(9),o=ue(15),d=ue(45),u=ue(52);v(8),be("ngModel",r.proveedor.nombreCompleto),v(2),M("ngIf",a.invalid&&(a.dirty||a.touched)),v(4),be("ngModel",r.proveedor.nitCi),v(2),M("ngIf",o.invalid&&(o.dirty||o.touched)),v(4),be("ngModel",r.proveedor.telefono),v(4),be("ngModel",r.proveedor.correo),v(4),be("ngModel",r.proveedor.direccion),v(4),be("ngModel",r.proveedor.ciudad),v(4),be("ngModel",r.proveedor.pais),v(4),be("ngModel",r.proveedor.empresa),v(4),be("ngModel",r.proveedor.tipoProveedor),v(2),M("ngForOf",r.tiposProveedor),v(),M("ngIf",d.invalid&&(d.dirty||d.touched)),v(4),be("ngModel",r.proveedor.estado),v(2),M("ngForOf",r.estados),v(),M("ngIf",u.invalid&&(u.dirty||u.touched)),v(2),M("disabled",n.invalid)}},dependencies:[kt,ni,ji,qi,Mt,Ri,Tt,ri,si,bi,Ot,oi,ht,zt,Et],styles:[".form-container[_ngcontent-%COMP%]{max-width:500px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:14px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.error-message[_ngcontent-%COMP%]{color:red;font-size:14px;margin-top:5px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{width:48%;padding:10px;font-size:16px;border-radius:4px;cursor:pointer}.submit-btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;border:none}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6;cursor:not-allowed}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#218838}.cancel-btn[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})};function MB(i,t){i&1&&(c(0,"small"),h(1,"Campo obligatorio."),l())}function TB(i,t){i&1&&(c(0,"small"),h(1,"Debe tener al menos 2 caracteres."),l())}function kB(i,t){if(i&1&&(c(0,"div",33),U(1,MB,2,0,"small",34)(2,TB,2,0,"small",34),l()),i&2){ee();let e=ue(9);v(),M("ngIf",e.errors==null?null:e.errors.required),v(),M("ngIf",e.errors==null?null:e.errors.minlength)}}function AB(i,t){i&1&&(c(0,"small"),h(1,"Campo obligatorio."),l())}function OB(i,t){if(i&1&&(c(0,"div",33),U(1,AB,2,0,"small",34),l()),i&2){ee();let e=ue(15);v(),M("ngIf",e.errors==null?null:e.errors.required)}}function IB(i,t){if(i&1&&(c(0,"option",35),h(1),l()),i&2){let e=t.$implicit;M("value",e),v(),Ve(e)}}function FB(i,t){i&1&&(c(0,"small"),h(1,"Campo obligatorio."),l())}function NB(i,t){if(i&1&&(c(0,"div",33),U(1,FB,2,0,"small",34),l()),i&2){ee();let e=ue(45);v(),M("ngIf",e.errors==null?null:e.errors.required)}}function LB(i,t){if(i&1&&(c(0,"option",35),h(1),l()),i&2){let e=t.$implicit;M("value",e),v(),Ve(e)}}function DB(i,t){i&1&&(c(0,"small"),h(1,"Campo obligatorio."),l())}function RB(i,t){if(i&1&&(c(0,"div",33),U(1,DB,2,0,"small",34),l()),i&2){ee();let e=ue(52);v(),M("ngIf",e.errors==null?null:e.errors.required)}}var Wm=class i{constructor(t,e,r){this.route=t;this.router=e;this.proveedorService=r}proveedor={nombreCompleto:"",nitCi:"",telefono:"",correo:"",direccion:"",ciudad:"",pais:"",empresa:"",tipoProveedor:"MATERIAL",estado:"Activo"};estados=["Activo","Inactivo"];id;tiposProveedor=["MATERIAL","EQUIPO","SERVICIO","OTROS"];ngOnInit(){this.id=Number(this.route.snapshot.paramMap.get("id")),this.obtenerProveedorPorId(this.id)}obtenerProveedorPorId(t){this.proveedorService.obtenerProveedorPorId(t).subscribe(e=>{this.proveedor=e})}actualizarProveedor(){this.proveedorService.actualizarProveedor(this.id,this.proveedor).subscribe(()=>{this.router.navigate(["/proveedor"])})}cancelar(){this.router.navigate(["/proveedor"])}static \u0275fac=function(e){return new(e||i)(ae(Vi),ae(vt),ae(ua))};static \u0275cmp=ot({type:i,selectors:[["app-proveedor-update"]],standalone:!0,features:[ut],decls:60,vars:17,consts:[["proveedorForm","ngForm"],["nombreCompleto","ngModel"],["nitCi","ngModel"],["tipoProveedor","ngModel"],["estado","ngModel"],[1,"form-container"],[3,"ngSubmit"],[1,"form-group"],["for","nombreCompleto"],["id","nombreCompleto","type","text","name","nombreCompleto","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","nitCi"],["id","nitCi","type","text","name","nitCi","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","telefono"],["id","telefono","type","text","name","telefono",1,"form-control",3,"ngModelChange","ngModel"],["for","correo"],["id","correo","type","email","name","correo",1,"form-control",3,"ngModelChange","ngModel"],["for","direccion"],["id","direccion","type","text","name","direccion",1,"form-control",3,"ngModelChange","ngModel"],["for","ciudad"],["id","ciudad","type","text","name","ciudad",1,"form-control",3,"ngModelChange","ngModel"],["for","pais"],["id","pais","type","text","name","pais",1,"form-control",3,"ngModelChange","ngModel"],["for","empresa"],["id","empresa","type","text","name","empresa",1,"form-control",3,"ngModelChange","ngModel"],["for","tipoProveedor"],["id","tipoProveedor","name","tipoProveedor","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","estado"],["id","estado","name","estado","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"button-container"],["type","submit",1,"submit-btn",3,"disabled"],["type","button",1,"cancel-btn",3,"click"],[1,"error-message"],[4,"ngIf"],[3,"value"]],template:function(e,r){if(e&1){let n=Je();c(0,"div",5)(1,"h2"),h(2,"Actualizar Proveedor"),l(),c(3,"form",6,0),J("ngSubmit",function(){return z(n),W(r.actualizarProveedor())}),c(5,"div",7)(6,"label",8),h(7,"Nombre Completo:"),l(),c(8,"input",9,1),ye("ngModelChange",function(o){return z(n),xe(r.proveedor.nombreCompleto,o)||(r.proveedor.nombreCompleto=o),W(o)}),l(),U(10,kB,3,2,"div",10),l(),c(11,"div",7)(12,"label",11),h(13,"NIT/CI:"),l(),c(14,"input",12,2),ye("ngModelChange",function(o){return z(n),xe(r.proveedor.nitCi,o)||(r.proveedor.nitCi=o),W(o)}),l(),U(16,OB,2,1,"div",10),l(),c(17,"div",7)(18,"label",13),h(19,"Tel\xE9fono:"),l(),c(20,"input",14),ye("ngModelChange",function(o){return z(n),xe(r.proveedor.telefono,o)||(r.proveedor.telefono=o),W(o)}),l()(),c(21,"div",7)(22,"label",15),h(23,"Correo:"),l(),c(24,"input",16),ye("ngModelChange",function(o){return z(n),xe(r.proveedor.correo,o)||(r.proveedor.correo=o),W(o)}),l()(),c(25,"div",7)(26,"label",17),h(27,"Direcci\xF3n:"),l(),c(28,"input",18),ye("ngModelChange",function(o){return z(n),xe(r.proveedor.direccion,o)||(r.proveedor.direccion=o),W(o)}),l()(),c(29,"div",7)(30,"label",19),h(31,"Ciudad:"),l(),c(32,"input",20),ye("ngModelChange",function(o){return z(n),xe(r.proveedor.ciudad,o)||(r.proveedor.ciudad=o),W(o)}),l()(),c(33,"div",7)(34,"label",21),h(35,"Pa\xEDs:"),l(),c(36,"input",22),ye("ngModelChange",function(o){return z(n),xe(r.proveedor.pais,o)||(r.proveedor.pais=o),W(o)}),l()(),c(37,"div",7)(38,"label",23),h(39,"Empresa:"),l(),c(40,"input",24),ye("ngModelChange",function(o){return z(n),xe(r.proveedor.empresa,o)||(r.proveedor.empresa=o),W(o)}),l()(),c(41,"div",7)(42,"label",25),h(43,"Tipo proveedor:"),l(),c(44,"select",26,3),ye("ngModelChange",function(o){return z(n),xe(r.proveedor.tipoProveedor,o)||(r.proveedor.tipoProveedor=o),W(o)}),U(46,IB,2,2,"option",27),l(),U(47,NB,2,1,"div",10),l(),c(48,"div",7)(49,"label",28),h(50,"Estado:"),l(),c(51,"select",29,4),ye("ngModelChange",function(o){return z(n),xe(r.proveedor.estado,o)||(r.proveedor.estado=o),W(o)}),U(53,LB,2,2,"option",27),l(),U(54,RB,2,1,"div",10),l(),c(55,"div",30)(56,"button",31),h(57," Actualizar "),l(),c(58,"button",32),J("click",function(){return z(n),W(r.cancelar())}),h(59," Cancelar "),l()()()()}if(e&2){let n=ue(4),a=ue(9),o=ue(15),d=ue(45),u=ue(52);v(8),be("ngModel",r.proveedor.nombreCompleto),v(2),M("ngIf",a.invalid&&(a.dirty||a.touched)),v(4),be("ngModel",r.proveedor.nitCi),v(2),M("ngIf",o.invalid&&(o.dirty||o.touched)),v(4),be("ngModel",r.proveedor.telefono),v(4),be("ngModel",r.proveedor.correo),v(4),be("ngModel",r.proveedor.direccion),v(4),be("ngModel",r.proveedor.ciudad),v(4),be("ngModel",r.proveedor.pais),v(4),be("ngModel",r.proveedor.empresa),v(4),be("ngModel",r.proveedor.tipoProveedor),v(2),M("ngForOf",r.tiposProveedor),v(),M("ngIf",d.invalid&&(d.dirty||d.touched)),v(4),be("ngModel",r.proveedor.estado),v(2),M("ngForOf",r.estados),v(),M("ngIf",u.invalid&&(u.dirty||u.touched)),v(2),M("disabled",n.invalid)}},dependencies:[ht,zt,Et,kt,ni,ji,qi,Mt,Ri,Tt,ri,si,bi,Ot,oi],styles:[".form-container[_ngcontent-%COMP%]{max-width:500px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:14px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.error-message[_ngcontent-%COMP%]{color:red;font-size:14px;margin-top:5px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{width:48%;padding:10px;font-size:16px;border-radius:4px;cursor:pointer}.submit-btn[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.cancel-btn[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})};var BB=(i,t,e,r)=>({"bg-primary text-white":i,"bg-info text-dark":t,"bg-success text-white":e,"bg-secondary text-white":r});function UB(i,t){if(i&1&&(c(0,"span",43),h(1),l()),i&2){let e=ee().$implicit;v(),tt("M\xEDn: ",e.stockMinimo,"")}}function VB(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),h(2),l(),c(3,"td"),h(4),l(),c(5,"td"),h(6),l(),c(7,"td"),h(8),ei(9,"currency"),l(),c(10,"td"),h(11),U(12,UB,2,1,"span",40),l(),c(13,"td",19)(14,"button",41),J("click",function(){let n=z(e).$implicit,a=ee();return W(a.agregarACarrito(n,"material"))}),Le(15,"i",42),h(16," Comprar "),l()()()}if(i&2){let e=t.$implicit;v(2),Ve(e.codigoInventario),v(2),Ve(e.nombre),v(2),Ve(e.unidadMedida),v(2),Ve(Ci(9,8,e.precioUnitario)),v(2),fl("text-danger",e.stockActual<e.stockMinimo),v(),tt(" ",e.stockActual," "),v(),M("ngIf",e.stockActual<e.stockMinimo)}}function jB(i,t){if(i&1){let e=Je();c(0,"div",44)(1,"button",45),J("click",function(){z(e);let n=ee();return W(n.seleccionarProveedor())}),Le(2,"i",46),h(3," Seleccionar proveedor "),l()()}}function qB(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),h(2),ei(3,"titlecase"),l(),c(4,"td"),h(5),l(),c(6,"td")(7,"input",58),ye("ngModelChange",function(n){let a=z(e).$implicit;return xe(a.cantidad,n)||(a.cantidad=n),W(n)}),J("change",function(){let n=z(e).$implicit,a=ee(2);return W(a.actualizarSubtotal(n))}),l()(),c(8,"td"),h(9),ei(10,"currency"),l(),c(11,"td"),h(12),ei(13,"currency"),l(),c(14,"td",19)(15,"button",59),J("click",function(){let n=z(e).index,a=ee(2);return W(a.eliminarDelCarrito(n))}),Le(16,"i",60),l()()()}if(i&2){let e=t.$implicit;v(2),Ve(Ci(3,5,e.tipo)),v(3),Ve(e.nombre),v(2),be("ngModel",e.cantidad),v(2),Ve(Ci(10,7,e.precioUnitario)),v(3),Ve(Ci(13,9,e.subtotal))}}function zB(i,t){if(i&1){let e=Je();c(0,"div",47)(1,"div",48)(2,"h5",8),Le(3,"i",49),h(4," Carrito de Compras "),l()(),c(5,"div",5)(6,"div",50)(7,"table",51)(8,"thead")(9,"tr")(10,"th"),h(11,"Tipo"),l(),c(12,"th"),h(13,"Item"),l(),c(14,"th"),h(15,"Cantidad"),l(),c(16,"th"),h(17,"Precio Unitario"),l(),c(18,"th"),h(19,"Subtotal"),l(),Le(20,"th"),l()(),c(21,"tbody"),U(22,qB,17,11,"tr",20),l(),c(23,"tfoot")(24,"tr")(25,"td",52),h(26,"Total:"),l(),c(27,"td",53),h(28),ei(29,"currency"),l()()()()(),c(30,"div",54)(31,"button",55),J("click",function(){z(e);let n=ee();return W(n.confirmarCompra())}),Le(32,"i",46),h(33," Confirmar Compra "),l(),c(34,"button",56),J("click",function(){z(e);let n=ee();return W(n.vaciarCarrito())}),Le(35,"i",57),h(36," Cancelar "),l()()()()}if(i&2){let e=ee();v(22),M("ngForOf",e.carrito),v(6),tt(" ",Ci(29,2,e.calcularTotal())," ")}}function WB(i,t){if(i&1&&(c(0,"div",61),h(1),l()),i&2){let e=ee();v(),tt(" Proveedor seleccionado: ",e.proveedorID," ")}}function HB(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),h(2),l(),c(3,"td"),h(4),l(),c(5,"td")(6,"span",62),h(7),l()(),c(8,"td",19)(9,"button",63),J("click",function(){let n,a=z(e).$implicit,o=ee();return W(o.seleccionarProveedorID((n=a.id)!==null&&n!==void 0?n:0))}),Le(10,"i",64),h(11," OK "),l()()()}if(i&2){let e=t.$implicit;v(2),Ve(e.id),v(2),Ve(e.empresa),v(2),M("ngClass",Vo(4,BB,e.tipoProveedor==="MATERIAL",e.tipoProveedor==="EQUIPO",e.tipoProveedor==="SERVICIO",e.tipoProveedor==="OTROS")),v(),tt(" ",e.tipoProveedor==null?null:e.tipoProveedor.toLowerCase()," ")}}var Hm=class i{constructor(t,e,r,n,a,o,d){this.materialService=t;this.proveedorService=e;this.compraService=r;this.compraMaterialService=n;this.router=a;this.filterService=o;this.paginationService=d}materiales=[];materialesFiltrados=[];materialesPaginados=[];textoBusqueda="";paginaActual=1;elementosPorPagina=5;totalPaginas=0;proveedores=[];proveedoresFiltrados=[];proveedoresPaginados=[];estadoSeleccionado="Todos";mostrarModal=!1;proveedorID=null;total=null;proveedorSeleccionado={id:0,nombreCompleto:"",nitCi:"",telefono:"",correo:"",direccion:"",ciudad:"",pais:"",empresa:"",tipoProveedor:"",estado:""};hoy=new Date().toISOString().split("T")[0];compra={numeroCompra:0,fecha:this.hoy,total:0,estadoCompra:"APROBADO",proveedor:{id:0,nombreCompleto:"",nitCi:"",telefono:"",correo:"",direccion:"",ciudad:"",pais:"",empresa:"",tipoProveedor:"",estado:""}};ngOnInit(){this.obtenerMateriales(),this.obtenerProveedores()}obtenerMateriales(){this.materialService.obtenerMateriales().subscribe(t=>{console.log("Materiales",t),this.materiales=t,this.filtrarMateriales()})}filtrarMateriales(){let t=[...this.materiales];t=this.filterService.filtrar(t,this.textoBusqueda),this.materialesFiltrados=t,this.paginaActual=1,this.calcularPaginacionMateriales()}calcularPaginacionMateriales(){let t=this.paginationService.paginate(this.materialesFiltrados,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.materialesPaginados=t.paginatedData}cambiarPaginaMateriales(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarmaterialesPaginados()}actualizarmaterialesPaginados(){let t=this.paginationService.paginate(this.materialesFiltrados,this.paginaActual,this.elementosPorPagina);this.materialesPaginados=t.paginatedData}obtenerProveedores(){this.proveedorService.obtenerProveedoresPorTipoMaterial().subscribe(t=>{this.proveedores=t,this.filtrarProveedores()})}filtrarProveedores(){let t=[...this.proveedores];t=this.filterService.filtrar(t,this.textoBusqueda),this.proveedoresFiltrados=t,this.paginaActual=1,this.calcularPaginacionProveedores()}calcularPaginacionProveedores(){let t=this.paginationService.paginate(this.proveedoresFiltrados,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.proveedoresPaginados=t.paginatedData}cambiarPaginaProveedores(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarProveedoresPaginados()}actualizarProveedoresPaginados(){let t=this.paginationService.paginate(this.proveedoresFiltrados,this.paginaActual,this.elementosPorPagina);this.proveedoresPaginados=t.paginatedData}carrito=[];agregarACarrito(t,e){let r=this.carrito.find(n=>n.id===t.id&&n.tipo===e);r?(r.cantidad+=1,r.subtotal=r.cantidad*r.precioUnitario):this.carrito.push(Ki(st({},t),{tipo:e,cantidad:1,subtotal:t.precioUnitario}))}eliminarDelCarrito(t){this.carrito.splice(t,1)}actualizarSubtotal(t){t.subtotal=t.cantidad*t.precioUnitario}calcularTotal(){let t=this.carrito.reduce((e,r)=>e+r.subtotal,0);return this.total=t,t}vaciarCarrito(){this.carrito=[]}confirmarCompra(){console.log("Compra confirmada:",this.carrito),console.log("Total:",this.total),console.log("IDProveedor:",this.proveedorID),this.proveedorID==null?alert("Debe seleccionar un Proveedor"):(this.cargarCompra(),this.crearCompra(),this.vaciarCarrito(),alert("Compra registrada correctamente"),this.router.navigate(["/compra"]))}cargarCompra(){this.compra.total=this.total,this.compra.proveedorId=this.proveedorID,this.compra.proveedor.id=this.proveedorSeleccionado.id,this.compra.proveedor.ciudad=this.proveedorSeleccionado.ciudad,this.compra.proveedor.correo=this.proveedorSeleccionado.correo,this.compra.proveedor.direccion=this.proveedorSeleccionado.direccion,this.compra.proveedor.empresa=this.proveedorSeleccionado.empresa,this.compra.proveedor.estado=this.proveedorSeleccionado.estado,this.compra.proveedor.nitCi=this.proveedorSeleccionado.nitCi,this.compra.proveedor.nombreCompleto=this.proveedorSeleccionado.nombreCompleto,this.compra.proveedor.pais=this.proveedorSeleccionado.pais,this.compra.proveedor.telefono=this.proveedorSeleccionado.telefono,this.compra.proveedor.tipoProveedor=this.proveedorSeleccionado.tipoProveedor}compraNueva;crearCompra(){this.compraService.crearCompra(this.compra).subscribe(t=>{this.compraNueva=t,this.carrito.forEach(e=>{let r={id:e.id,codigoInventario:e.codigoInventario,nombre:e.nombre,descripcion:e.descripcion,unidadMedida:e.unidadMedida,precioUnitario:e.precioUnitario,stockActual:e.stockActual,stockMinimo:e.stockMinimo,categoria:e.categoria},n={compra:this.compraNueva,material:r,precioUnitario:e.precioUnitario,cantidad:e.cantidad,subTotal:e.subtotal};this.compraMaterialService.crearCompraMaterial(n).subscribe(()=>{console.log("CompraMaterial creada para material",e.nombre)})}),console.log("Compra creada:",this.compraNueva)})}irACrearCompra(){console.log("Navegar a crear compra")}irACompras(){this.router.navigate(["/compra"])}seleccionarProveedor(){this.mostrarModal=!0}seleccionarProveedorID(t){this.proveedorID=t,this.obtenerProveedorPorId(t)}obtenerProveedorPorId(t){this.proveedorService.obtenerProveedorPorId(t).subscribe(e=>{this.proveedorSeleccionado=e})}proveedorConfirmado(){this.proveedorID!==null&&this.cerrarModal()}cerrarModal(){this.mostrarModal=!1}static \u0275fac=function(e){return new(e||i)(ae(la),ae(ua),ae(Go),ae(wu),ae(vt),ae(zi),ae(Yi))};static \u0275cmp=ot({type:i,selectors:[["app-compra-material-create"]],standalone:!0,features:[ut],decls:87,vars:15,consts:[[1,"content"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"card","shadow-sm"],[1,"card-body"],[1,"row","mb-3"],[1,"col-12","col-md-6"],[1,"m-0"],[1,"col-12","col-md-6","text-md-end"],[1,"btn","btn-secondary","me-2",3,"click"],[1,"bi","bi-arrow-left"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-plus-circle"],[1,"mb-3"],["type","text","placeholder","Buscar materiales...",1,"form-control",3,"ngModelChange","input","ngModel"],[2,"max-height","400px","overflow-y","auto"],[1,"table","table-bordered","table-striped"],[1,"table-primary"],[1,"text-center"],[4,"ngFor","ngForOf"],["hidden","",1,"paginacion"],[3,"click","disabled"],["class","col-12 text-md-end",4,"ngIf"],["class","card mt-4",4,"ngIf"],["id","proveedorModal","tabindex","-1","aria-labelledby","proveedorModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","proveedorModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["id","proveedor","role","tabpanel","aria-labelledby","material-tab",1,"tab-pane","fade","show","active"],["type","text","placeholder","Buscar proveedor...",1,"form-control",3,"ngModelChange","input","ngModel"],["class","alert alert-success","role","alert",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"bi","bi-x-circle","mr-1"],["type","button","data-bs-dismiss","modal",1,"btn","btn-success",3,"click"],[1,"bi","bi-check-circle","mr-1"],["class","badge bg-warning",4,"ngIf"],[1,"btn","btn-primary","btn-sm","me-1",3,"click"],[1,"bi","bi-cart-plus"],[1,"badge","bg-warning"],[1,"col-12","text-md-end"],["data-bs-toggle","modal","data-bs-target","#proveedorModal",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-check-circle"],[1,"card","mt-4"],[1,"card-header","bg-primary","text-white"],[1,"bi","bi-cart"],[1,"table-responsive"],[1,"table"],["colspan","4",1,"text-end","fw-bold"],["colspan","2",1,"fw-bold"],[1,"d-flex","justify-content-end","mt-3"],[1,"btn","btn-success","me-2",3,"click"],[1,"btn","btn-secondary",3,"click"],[1,"bi","bi-x-circle"],["type","number","min","1",1,"form-control","form-control-sm",2,"width","80px",3,"ngModelChange","change","ngModel"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"bi","bi-trash"],["role","alert",1,"alert","alert-success"],[1,"badge","rounded-pill",3,"ngClass"],[1,"btn","btn-outline-success","btn-sm","me-1",3,"click"],[1,"bi","bi-check"]],template:function(e,r){e&1&&(c(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h4",8),h(9,"Compra de Materiales"),l()(),c(10,"div",9)(11,"button",10),J("click",function(){return r.irACompras()}),Le(12,"i",11),h(13," Volver "),l(),c(14,"button",12),J("click",function(){return r.irACrearCompra()}),Le(15,"i",13),h(16," Crear Material "),l()()(),c(17,"div")(18,"div",14)(19,"input",15),ye("ngModelChange",function(a){return xe(r.textoBusqueda,a)||(r.textoBusqueda=a),a}),J("input",function(){return r.filtrarMateriales()}),l()(),c(20,"div",16)(21,"table",17)(22,"thead",18)(23,"tr")(24,"th"),h(25,"C\xF3d. Inventario"),l(),c(26,"th"),h(27,"Nombre"),l(),c(28,"th"),h(29,"Unidad Medida"),l(),c(30,"th"),h(31,"Precio Unitario"),l(),c(32,"th"),h(33,"Stock Actual"),l(),c(34,"th",19),h(35,"Acciones"),l()()(),c(36,"tbody"),U(37,VB,17,10,"tr",20),l()()(),c(38,"div",21)(39,"button",22),J("click",function(){return r.cambiarPaginaMateriales("previous")}),h(40," \u2190 Anterior "),l(),c(41,"span"),h(42),l(),c(43,"button",22),J("click",function(){return r.cambiarPaginaMateriales("next")}),h(44," Siguiente \u2192 "),l()()(),U(45,jB,4,0,"div",23)(46,zB,37,4,"div",24),l()()()()()(),c(47,"div",25)(48,"div",26)(49,"div",27)(50,"div",28)(51,"h5",29),h(52," Seleccione un Proveedor "),l(),Le(53,"button",30),l(),c(54,"div",31)(55,"div",32)(56,"div",14)(57,"input",33),ye("ngModelChange",function(a){return xe(r.textoBusqueda,a)||(r.textoBusqueda=a),a}),J("input",function(){return r.filtrarProveedores()}),l()(),U(58,WB,2,1,"div",34),c(59,"div",16)(60,"table",17)(61,"thead",18)(62,"tr")(63,"th"),h(64,"ID"),l(),c(65,"th"),h(66,"Proveedor"),l(),c(67,"th"),h(68,"Tipo"),l(),c(69,"th",19),h(70,"Acciones"),l()()(),c(71,"tbody"),U(72,HB,12,9,"tr",20),l()()(),c(73,"div",21)(74,"button",22),J("click",function(){return r.cambiarPaginaProveedores("previous")}),h(75," \u2190 Anterior "),l(),c(76,"span"),h(77),l(),c(78,"button",22),J("click",function(){return r.cambiarPaginaProveedores("next")}),h(79," Siguiente \u2192 "),l()()()(),c(80,"div",35)(81,"button",36),Le(82,"i",37),h(83," Cancelar "),l(),c(84,"button",38),J("click",function(){return r.proveedorConfirmado()}),Le(85,"i",39),h(86," Confirmar "),l()()()()()),e&2&&(v(19),be("ngModel",r.textoBusqueda),v(18),M("ngForOf",r.materialesFiltrados),v(2),M("disabled",r.paginaActual===1),v(3),Di("P\xE1gina ",r.paginaActual," de ",r.totalPaginas,""),v(),M("disabled",r.paginaActual===r.totalPaginas),v(2),M("ngIf",r.carrito.length>0),v(),M("ngIf",r.carrito.length>0),v(11),be("ngModel",r.textoBusqueda),v(),M("ngIf",r.proveedorID!=null),v(14),M("ngForOf",r.proveedoresFiltrados),v(2),M("disabled",r.paginaActual===1),v(3),Di("P\xE1gina ",r.paginaActual," de ",r.totalPaginas,""),v(),M("disabled",r.paginaActual===r.totalPaginas))},dependencies:[ht,aa,zt,Et,js,Ya,Ui,kt,Mt,Qi,Tt,xr,Ot]})};var Gm=class i{constructor(t){this.http=t}apiUrl=li.apiUrl;obtenerCompraEquipo(){return this.http.get(`${this.apiUrl}/compra-equipo`)}obtenerCompraEquipoPorId(t){return this.http.get(`${this.apiUrl}/compra-equipo/${t}`)}crearCompraEquipo(t){return this.http.post(`${this.apiUrl}/compra-equipo`,t)}actualizarCompraEquipo(t,e){return this.http.put(`${this.apiUrl}/compra-equipo/${t}`,e)}eliminarCompraEquipo(t){return this.http.delete(`${this.apiUrl}/compra-equipo/${t}`)}static \u0275fac=function(e){return new(e||i)(St(ai))};static \u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"})};var $B=(i,t,e,r)=>({"bg-primary text-white":i,"bg-info text-dark":t,"bg-success text-white":e,"bg-secondary text-white":r});function ZB(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),h(2),l(),c(3,"td"),h(4),l(),c(5,"td"),h(6),l(),c(7,"td"),h(8),ei(9,"currency"),l(),c(10,"td",19)(11,"button",40),J("click",function(){let n=z(e).$implicit,a=ee();return W(a.agregarACarrito(n,"equipo"))}),Le(12,"i",41),h(13," Comprar "),l()()()}if(i&2){let e=t.$implicit;v(2),Ve(e.codigoActivo),v(2),Ve(e.nombre),v(2),Ve(e.tipoEquipo),v(2),Ve(Ci(9,4,e.precioUnitario))}}function XB(i,t){if(i&1){let e=Je();c(0,"div",42)(1,"button",43),J("click",function(){z(e);let n=ee();return W(n.seleccionarProveedor())}),Le(2,"i",44),h(3," Seleccionar proveedor "),l()()}}function YB(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),h(2),ei(3,"titlecase"),l(),c(4,"td"),h(5),l(),c(6,"td")(7,"input",56),ye("ngModelChange",function(n){let a=z(e).$implicit;return xe(a.cantidad,n)||(a.cantidad=n),W(n)}),J("change",function(){let n=z(e).$implicit,a=ee(2);return W(a.actualizarSubtotal(n))}),l()(),c(8,"td"),h(9),ei(10,"currency"),l(),c(11,"td"),h(12),ei(13,"currency"),l(),c(14,"td",19)(15,"button",57),J("click",function(){let n=z(e).index,a=ee(2);return W(a.eliminarDelCarrito(n))}),Le(16,"i",58),l()()()}if(i&2){let e=t.$implicit;v(2),Ve(Ci(3,5,e.tipo)),v(3),Ve(e.nombre),v(2),be("ngModel",e.cantidad),v(2),Ve(Ci(10,7,e.precioUnitario)),v(3),Ve(Ci(13,9,e.subtotal))}}function KB(i,t){if(i&1){let e=Je();c(0,"div",45)(1,"div",46)(2,"h5",8),Le(3,"i",47),h(4," Carrito de Compras "),l()(),c(5,"div",5)(6,"div",48)(7,"table",49)(8,"thead")(9,"tr")(10,"th"),h(11,"Tipo"),l(),c(12,"th"),h(13,"Item"),l(),c(14,"th"),h(15,"Cantidad"),l(),c(16,"th"),h(17,"Precio Unitario"),l(),c(18,"th"),h(19,"Subtotal"),l(),Le(20,"th"),l()(),c(21,"tbody"),U(22,YB,17,11,"tr",20),l(),c(23,"tfoot")(24,"tr")(25,"td",50),h(26,"Total:"),l(),c(27,"td",51),h(28),ei(29,"currency"),l()()()()(),c(30,"div",52)(31,"button",53),J("click",function(){z(e);let n=ee();return W(n.confirmarCompra())}),Le(32,"i",44),h(33," Confirmar Compra "),l(),c(34,"button",54),J("click",function(){z(e);let n=ee();return W(n.vaciarCarrito())}),Le(35,"i",55),h(36," Cancelar "),l()()()()}if(i&2){let e=ee();v(22),M("ngForOf",e.carrito),v(6),tt(" ",Ci(29,2,e.calcularTotal())," ")}}function JB(i,t){if(i&1&&(c(0,"div",59),h(1),l()),i&2){let e=ee();v(),tt(" Proveedor seleccionado: ",e.proveedorID," ")}}function QB(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),h(2),l(),c(3,"td"),h(4),l(),c(5,"td")(6,"span",60),h(7),l()(),c(8,"td",19)(9,"button",61),J("click",function(){let n,a=z(e).$implicit,o=ee();return W(o.seleccionarProveedorID((n=a.id)!==null&&n!==void 0?n:0))}),Le(10,"i",62),h(11," OK "),l()()()}if(i&2){let e=t.$implicit;v(2),Ve(e.id),v(2),Ve(e.empresa),v(2),M("ngClass",Vo(4,$B,e.tipoProveedor==="MATERIAL",e.tipoProveedor==="EQUIPO",e.tipoProveedor==="SERVICIO",e.tipoProveedor==="OTROS")),v(),tt(" ",e.tipoProveedor==null?null:e.tipoProveedor.toLowerCase()," ")}}var $m=class i{constructor(t,e,r,n,a,o,d){this.equipoService=t;this.proveedorService=e;this.compraService=r;this.compraEquipoService=n;this.router=a;this.filterService=o;this.paginationService=d}equipos=[];equiposFiltrados=[];equiposPaginados=[];textoBusqueda="";paginaActual=1;elementosPorPagina=5;totalPaginas=0;proveedores=[];proveedoresFiltrados=[];proveedoresPaginados=[];estadoSeleccionado="Todos";mostrarModal=!1;compraID=null;proveedorID=null;total=null;proveedorSeleccionado={id:0,nombreCompleto:"",nitCi:"",telefono:"",correo:"",direccion:"",ciudad:"",pais:"",empresa:"",tipoProveedor:"",estado:""};hoy=new Date().toISOString().split("T")[0];compra={numeroCompra:0,fecha:this.hoy,total:0,estadoCompra:"APROBADO",proveedor:{id:0,nombreCompleto:"",nitCi:"",telefono:"",correo:"",direccion:"",ciudad:"",pais:"",empresa:"",tipoProveedor:"",estado:""}};ngOnInit(){this.obtenerEquipos(),this.obtenerProveedores()}obtenerEquipos(){this.equipoService.obtenerEquipos().subscribe(t=>{this.equipos=t,this.filtrarEquipos()})}filtrarEquipos(){let t=[...this.equipos];t=this.filterService.filtrar(t,this.textoBusqueda),this.equiposFiltrados=t,this.paginaActual=1,this.calcularPaginacionEquipos()}calcularPaginacionEquipos(){let t=this.paginationService.paginate(this.equiposFiltrados,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.equiposPaginados=t.paginatedData}cambiarPaginaEquipos(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarequiposPaginados()}actualizarequiposPaginados(){let t=this.paginationService.paginate(this.equiposFiltrados,this.paginaActual,this.elementosPorPagina);this.equiposPaginados=t.paginatedData}obtenerProveedores(){this.proveedorService.obtenerProveedoresPorTipoEquipo().subscribe(t=>{this.proveedores=t,this.filtrarProveedores()})}filtrarProveedores(){let t=[...this.proveedores];t=this.filterService.filtrar(t,this.textoBusqueda),this.proveedoresFiltrados=t,this.paginaActual=1,this.calcularPaginacionProveedores()}calcularPaginacionProveedores(){let t=this.paginationService.paginate(this.proveedoresFiltrados,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.proveedoresPaginados=t.paginatedData}cambiarPaginaProveedores(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarProveedoresPaginados()}actualizarProveedoresPaginados(){let t=this.paginationService.paginate(this.proveedoresFiltrados,this.paginaActual,this.elementosPorPagina);this.proveedoresPaginados=t.paginatedData}carrito=[];agregarACarrito(t,e){let r=this.carrito.find(n=>n.id===t.id&&n.tipo===e);r?(r.cantidad+=1,r.subtotal=r.cantidad*r.precioUnitario):this.carrito.push(Ki(st({},t),{tipo:e,cantidad:1,subtotal:t.precioUnitario}))}eliminarDelCarrito(t){this.carrito.splice(t,1)}actualizarSubtotal(t){t.subtotal=t.cantidad*t.precioUnitario}calcularTotal(){let t=this.carrito.reduce((e,r)=>e+r.subtotal,0);return this.total=t,t}vaciarCarrito(){this.carrito=[]}confirmarCompra(){console.log("Compra confirmada:",this.carrito),console.log("Total:",this.total),console.log("IDProveedor:",this.proveedorID),this.proveedorID==null?alert("Debe seleccionar un proveedor"):(this.cargarCompra(),this.crearCompra(),this.vaciarCarrito(),alert("Compraregistrada correctamente"),this.router.navigate(["compra"]))}cargarCompra(){this.compra.total=this.total,this.compra.proveedorId=this.proveedorID,this.compra.proveedor.id=this.proveedorSeleccionado.id,this.compra.proveedor.ciudad=this.proveedorSeleccionado.ciudad,this.compra.proveedor.correo=this.proveedorSeleccionado.correo,this.compra.proveedor.direccion=this.proveedorSeleccionado.direccion,this.compra.proveedor.empresa=this.proveedorSeleccionado.empresa,this.compra.proveedor.estado=this.proveedorSeleccionado.estado,this.compra.proveedor.nitCi=this.proveedorSeleccionado.nitCi,this.compra.proveedor.nombreCompleto=this.proveedorSeleccionado.nombreCompleto,this.compra.proveedor.pais=this.proveedorSeleccionado.pais,this.compra.proveedor.telefono=this.proveedorSeleccionado.telefono,this.compra.proveedor.tipoProveedor=this.proveedorSeleccionado.tipoProveedor}compraNueva;crearCompra(){this.compraService.crearCompra(this.compra).subscribe(t=>{this.compraNueva=t,this.carrito.forEach(e=>{let r={id:e.id,codigoActivo:e.codigoActivo,nombre:e.nombre,descripcion:e.descripcion,unidadMedida:e.unidadMedida,tipoEquipo:e.tipoEquipo,precioUnitario:e.precioUnitario,fechaAdquisicion:e.fechaAdquisicion},n={compra:this.compraNueva,equipo:r,precioUnitario:e.precioUnitario,cantidad:e.cantidad,subTotal:e.subtotal};this.compraEquipoService.crearCompraEquipo(n).subscribe(()=>{console.log("CompraEquipo creada para equipo",e.nombre)})}),console.log("Compra creada:",this.compraNueva)})}irACrearCompra(){console.log("Navegar a crear compra")}irACompras(){this.router.navigate(["/compra"])}seleccionarProveedor(){this.mostrarModal=!0}seleccionarProveedorID(t){this.proveedorID=t,this.obtenerProveedorPorId(t)}obtenerProveedorPorId(t){this.proveedorService.obtenerProveedorPorId(t).subscribe(e=>{this.proveedorSeleccionado=e})}proveedorConfirmado(){this.proveedorID!==null&&this.cerrarModal()}cerrarModal(){this.mostrarModal=!1}static \u0275fac=function(e){return new(e||i)(ae(ca),ae(ua),ae(Go),ae(Gm),ae(vt),ae(zi),ae(Yi))};static \u0275cmp=ot({type:i,selectors:[["app-compra-equipo-create"]],standalone:!0,features:[ut],decls:85,vars:15,consts:[[1,"content"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"card","shadow-sm"],[1,"card-body"],[1,"row","mb-3"],[1,"col-12","col-md-6"],[1,"m-0"],[1,"col-12","col-md-6","text-md-end"],[1,"btn","btn-secondary","me-2",3,"click"],[1,"bi","bi-arrow-left"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-plus-circle"],[1,"mb-3"],["type","text","placeholder","Buscar equipos...",1,"form-control",3,"ngModelChange","input","ngModel"],[2,"max-height","400px","overflow-y","auto"],[1,"table","table-bordered","table-striped"],[1,"table-primary"],[1,"text-center"],[4,"ngFor","ngForOf"],["hidden","",1,"paginacion"],[3,"click","disabled"],["class","col-12 text-md-end",4,"ngIf"],["class","card mt-4",4,"ngIf"],["id","proveedorModal","tabindex","-1","aria-labelledby","proveedorModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","proveedorModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["id","proveedor","role","tabpanel","aria-labelledby","material-tab",1,"tab-pane","fade","show","active"],["type","text","placeholder","Buscar proveedor...",1,"form-control",3,"ngModelChange","input","ngModel"],["class","alert alert-success","role","alert",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"bi","bi-x-circle","mr-1"],["type","button","data-bs-dismiss","modal",1,"btn","btn-success",3,"click"],[1,"bi","bi-check-circle","mr-1"],[1,"btn","btn-primary","btn-sm","me-1",3,"click"],[1,"bi","bi-cart-plus"],[1,"col-12","text-md-end"],["data-bs-toggle","modal","data-bs-target","#proveedorModal",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-check-circle"],[1,"card","mt-4"],[1,"card-header","bg-primary","text-white"],[1,"bi","bi-cart"],[1,"table-responsive"],[1,"table"],["colspan","4",1,"text-end","fw-bold"],["colspan","2",1,"fw-bold"],[1,"d-flex","justify-content-end","mt-3"],[1,"btn","btn-success","me-2",3,"click"],[1,"btn","btn-secondary",3,"click"],[1,"bi","bi-x-circle"],["type","number","min","1",1,"form-control","form-control-sm",2,"width","80px",3,"ngModelChange","change","ngModel"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"bi","bi-trash"],["role","alert",1,"alert","alert-success"],[1,"badge","rounded-pill",3,"ngClass"],[1,"btn","btn-outline-success","btn-sm","me-1",3,"click"],[1,"bi","bi-check"]],template:function(e,r){e&1&&(c(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h4",8),h(9,"Compra de Equipos"),l()(),c(10,"div",9)(11,"button",10),J("click",function(){return r.irACompras()}),Le(12,"i",11),h(13," Volver "),l(),c(14,"button",12),J("click",function(){return r.irACrearCompra()}),Le(15,"i",13),h(16," Crear Equipo "),l()()(),c(17,"div")(18,"div",14)(19,"input",15),ye("ngModelChange",function(a){return xe(r.textoBusqueda,a)||(r.textoBusqueda=a),a}),J("input",function(){return r.filtrarEquipos()}),l()(),c(20,"div",16)(21,"table",17)(22,"thead",18)(23,"tr")(24,"th"),h(25,"C\xF3d. Activo"),l(),c(26,"th"),h(27,"Nombre"),l(),c(28,"th"),h(29,"Tipo"),l(),c(30,"th"),h(31,"Precio Unitario"),l(),c(32,"th",19),h(33,"Acciones"),l()()(),c(34,"tbody"),U(35,ZB,14,6,"tr",20),l()()(),c(36,"div",21)(37,"button",22),J("click",function(){return r.cambiarPaginaEquipos("previous")}),h(38," \u2190 Anterior "),l(),c(39,"span"),h(40),l(),c(41,"button",22),J("click",function(){return r.cambiarPaginaEquipos("next")}),h(42," Siguiente \u2192 "),l()()(),U(43,XB,4,0,"div",23)(44,KB,37,4,"div",24),l()()()()()(),c(45,"div",25)(46,"div",26)(47,"div",27)(48,"div",28)(49,"h5",29),h(50," Seleccione un Proveedor "),l(),Le(51,"button",30),l(),c(52,"div",31)(53,"div",32)(54,"div",14)(55,"input",33),ye("ngModelChange",function(a){return xe(r.textoBusqueda,a)||(r.textoBusqueda=a),a}),J("input",function(){return r.filtrarProveedores()}),l()(),U(56,JB,2,1,"div",34),c(57,"div",16)(58,"table",17)(59,"thead",18)(60,"tr")(61,"th"),h(62,"ID"),l(),c(63,"th"),h(64,"Proveedor"),l(),c(65,"th"),h(66,"Tipo"),l(),c(67,"th",19),h(68,"Acciones"),l()()(),c(69,"tbody"),U(70,QB,12,9,"tr",20),l()()(),c(71,"div",21)(72,"button",22),J("click",function(){return r.cambiarPaginaProveedores("previous")}),h(73," \u2190 Anterior "),l(),c(74,"span"),h(75),l(),c(76,"button",22),J("click",function(){return r.cambiarPaginaProveedores("next")}),h(77," Siguiente \u2192 "),l()()()(),c(78,"div",35)(79,"button",36),Le(80,"i",37),h(81," Cancelar "),l(),c(82,"button",38),J("click",function(){return r.proveedorConfirmado()}),Le(83,"i",39),h(84," Confirmar "),l()()()()()),e&2&&(v(19),be("ngModel",r.textoBusqueda),v(16),M("ngForOf",r.equiposFiltrados),v(2),M("disabled",r.paginaActual===1),v(3),Di("P\xE1gina ",r.paginaActual," de ",r.totalPaginas,""),v(),M("disabled",r.paginaActual===r.totalPaginas),v(2),M("ngIf",r.carrito.length>0),v(),M("ngIf",r.carrito.length>0),v(11),be("ngModel",r.textoBusqueda),v(),M("ngIf",r.proveedorID!=null),v(14),M("ngForOf",r.proveedoresFiltrados),v(2),M("disabled",r.paginaActual===1),v(3),Di("P\xE1gina ",r.paginaActual," de ",r.totalPaginas,""),v(),M("disabled",r.paginaActual===r.totalPaginas))},dependencies:[ht,aa,zt,Et,js,Ya,Ui,kt,Mt,Qi,Tt,xr,Ot]})};var Zm=class i{constructor(t){this.http=t}apiUrl=li.apiUrl;obtenerCompraServicio(){return this.http.get(`${this.apiUrl}/compra-servicio`)}obtenerCompraServicioPorId(t){return this.http.get(`${this.apiUrl}/compra-servicio/${t}`)}crearCompraServicio(t){return this.http.post(`${this.apiUrl}/compra-servicio`,t)}actualizarCompraServicio(t,e){return this.http.put(`${this.apiUrl}/compra-servicio/${t}`,e)}eliminarCompraServicio(t){return this.http.delete(`${this.apiUrl}/compra-servicio/${t}`)}static \u0275fac=function(e){return new(e||i)(St(ai))};static \u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"})};var tU=(i,t,e,r)=>({"bg-primary text-white":i,"bg-info text-dark":t,"bg-success text-white":e,"bg-secondary text-white":r});function iU(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),h(2),l(),c(3,"td"),h(4),l(),c(5,"td"),h(6),l(),c(7,"td"),h(8),ei(9,"currency"),l(),c(10,"td",19)(11,"button",40),J("click",function(){let n=z(e).$implicit,a=ee();return W(a.agregarACarrito(n,"servicio"))}),Le(12,"i",41),h(13," Contratar "),l()()()}if(i&2){let e=t.$implicit;v(2),Ve(e.codigoServicio),v(2),Ve(e.nombre),v(2),tt("",e.duracionEstimada," dia/s"),v(2),Ve(Ci(9,4,e.precioUnitario))}}function rU(i,t){if(i&1){let e=Je();c(0,"div",42)(1,"button",43),J("click",function(){z(e);let n=ee();return W(n.seleccionarProveedor())}),Le(2,"i",44),h(3," Seleccionar proveedor "),l()()}}function nU(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),h(2),ei(3,"titlecase"),l(),c(4,"td"),h(5),l(),c(6,"td")(7,"input",56),ye("ngModelChange",function(n){let a=z(e).$implicit;return xe(a.cantidad,n)||(a.cantidad=n),W(n)}),J("change",function(){let n=z(e).$implicit,a=ee(2);return W(a.actualizarSubtotal(n))}),l()(),c(8,"td"),h(9),ei(10,"currency"),l(),c(11,"td"),h(12),ei(13,"currency"),l(),c(14,"td",19)(15,"button",57),J("click",function(){let n=z(e).index,a=ee(2);return W(a.eliminarDelCarrito(n))}),Le(16,"i",58),l()()()}if(i&2){let e=t.$implicit;v(2),Ve(Ci(3,5,e.tipo)),v(3),Ve(e.nombre),v(2),be("ngModel",e.cantidad),v(2),Ve(Ci(10,7,e.precioUnitario)),v(3),Ve(Ci(13,9,e.subtotal))}}function aU(i,t){if(i&1){let e=Je();c(0,"div",45)(1,"div",46)(2,"h5",8),Le(3,"i",47),h(4," Carrito de Compras "),l()(),c(5,"div",5)(6,"div",48)(7,"table",49)(8,"thead")(9,"tr")(10,"th"),h(11,"Tipo"),l(),c(12,"th"),h(13,"Item"),l(),c(14,"th"),h(15,"Cantidad"),l(),c(16,"th"),h(17,"Precio Unitario"),l(),c(18,"th"),h(19,"Subtotal"),l(),Le(20,"th"),l()(),c(21,"tbody"),U(22,nU,17,11,"tr",20),l(),c(23,"tfoot")(24,"tr")(25,"td",50),h(26,"Total:"),l(),c(27,"td",51),h(28),ei(29,"currency"),l()()()()(),c(30,"div",52)(31,"button",53),J("click",function(){z(e);let n=ee();return W(n.confirmarCompra())}),Le(32,"i",44),h(33," Confirmar Compra "),l(),c(34,"button",54),J("click",function(){z(e);let n=ee();return W(n.vaciarCarrito())}),Le(35,"i",55),h(36," Cancelar "),l()()()()}if(i&2){let e=ee();v(22),M("ngForOf",e.carrito),v(6),tt(" ",Ci(29,2,e.calcularTotal())," ")}}function oU(i,t){if(i&1&&(c(0,"div",59),h(1),l()),i&2){let e=ee();v(),tt(" Proveedor seleccionado: ",e.proveedorID," ")}}function sU(i,t){if(i&1){let e=Je();c(0,"tr")(1,"td"),h(2),l(),c(3,"td"),h(4),l(),c(5,"td")(6,"span",60),h(7),l()(),c(8,"td",19)(9,"button",61),J("click",function(){let n,a=z(e).$implicit,o=ee();return W(o.seleccionarProveedorID((n=a.id)!==null&&n!==void 0?n:0))}),Le(10,"i",62),h(11," OK "),l()()()}if(i&2){let e=t.$implicit;v(2),Ve(e.id),v(2),Ve(e.empresa),v(2),M("ngClass",Vo(4,tU,e.tipoProveedor==="MATERIAL",e.tipoProveedor==="EQUIPO",e.tipoProveedor==="SERVICIO",e.tipoProveedor==="OTROS")),v(),tt(" ",e.tipoProveedor==null?null:e.tipoProveedor.toLowerCase()," ")}}var Xm=class i{constructor(t,e,r,n,a,o,d){this.servicioService=t;this.proveedorService=e;this.compraService=r;this.compraServicioService=n;this.router=a;this.filterService=o;this.paginationService=d}servicios=[];serviciosFiltrados=[];serviciosPaginados=[];textoBusqueda="";paginaActual=1;elementosPorPagina=5;totalPaginas=0;proveedores=[];proveedoresFiltrados=[];proveedoresPaginados=[];estadoSeleccionado="Todos";mostrarModal=!1;compraID=null;proveedorID=null;total=null;proveedorSeleccionado={id:0,nombreCompleto:"",nitCi:"",telefono:"",correo:"",direccion:"",ciudad:"",pais:"",empresa:"",tipoProveedor:"",estado:""};hoy=new Date().toISOString().split("T")[0];compra={numeroCompra:0,fecha:this.hoy,total:0,estadoCompra:"APROBADO",proveedor:{id:0,nombreCompleto:"",nitCi:"",telefono:"",correo:"",direccion:"",ciudad:"",pais:"",empresa:"",tipoProveedor:"",estado:""}};ngOnInit(){this.obtenerServicios(),this.obtenerProveedores()}obtenerServicios(){this.servicioService.obtenerServicios().subscribe(t=>{this.servicios=t,this.filtrarServicios()})}filtrarServicios(){let t=[...this.servicios];t=this.filterService.filtrar(t,this.textoBusqueda),this.serviciosFiltrados=t,this.paginaActual=1,this.calcularPaginacionServicios()}calcularPaginacionServicios(){let t=this.paginationService.paginate(this.serviciosFiltrados,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.serviciosPaginados=t.paginatedData}cambiarPaginaServicios(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarserviciosPaginados()}actualizarserviciosPaginados(){let t=this.paginationService.paginate(this.serviciosFiltrados,this.paginaActual,this.elementosPorPagina);this.serviciosPaginados=t.paginatedData}obtenerProveedores(){this.proveedorService.obtenerProveedoresPorTipoServicio().subscribe(t=>{this.proveedores=t,this.filtrarProveedores()})}filtrarProveedores(){let t=[...this.proveedores];t=this.filterService.filtrar(t,this.textoBusqueda),this.proveedoresFiltrados=t,this.paginaActual=1,this.calcularPaginacionProveedores()}calcularPaginacionProveedores(){let t=this.paginationService.paginate(this.proveedoresFiltrados,this.paginaActual,this.elementosPorPagina);this.totalPaginas=t.totalPages,this.proveedoresPaginados=t.paginatedData}cambiarPaginaProveedores(t){this.paginaActual=this.paginationService.changePage(this.paginaActual,t,this.totalPaginas),this.actualizarProveedoresPaginados()}actualizarProveedoresPaginados(){let t=this.paginationService.paginate(this.proveedoresFiltrados,this.paginaActual,this.elementosPorPagina);this.proveedoresPaginados=t.paginatedData}carrito=[];agregarACarrito(t,e){let r=this.carrito.find(n=>n.id===t.id&&n.tipo===e);r?(r.cantidad+=1,r.subtotal=r.cantidad*r.precioUnitario):this.carrito.push(Ki(st({},t),{tipo:e,cantidad:1,subtotal:t.precioUnitario}))}eliminarDelCarrito(t){this.carrito.splice(t,1)}actualizarSubtotal(t){t.subtotal=t.cantidad*t.precioUnitario}calcularTotal(){let t=this.carrito.reduce((e,r)=>e+r.subtotal,0);return this.total=t,t}vaciarCarrito(){this.carrito=[]}confirmarCompra(){console.log("Compra confirmada:",this.carrito),console.log("Total:",this.total),console.log("IDProveedor:",this.proveedorID),this.proveedorID==null?alert("Debe seleccionar un Proveedor"):(this.cargarCompra(),this.crearCompra(),this.vaciarCarrito(),alert("Compra registrada correctamente"),this.router.navigate(["/compra"]))}cargarCompra(){this.compra.total=this.total,this.compra.proveedorId=this.proveedorID,this.compra.proveedor.id=this.proveedorSeleccionado.id,this.compra.proveedor.ciudad=this.proveedorSeleccionado.ciudad,this.compra.proveedor.correo=this.proveedorSeleccionado.correo,this.compra.proveedor.direccion=this.proveedorSeleccionado.direccion,this.compra.proveedor.empresa=this.proveedorSeleccionado.empresa,this.compra.proveedor.estado=this.proveedorSeleccionado.estado,this.compra.proveedor.nitCi=this.proveedorSeleccionado.nitCi,this.compra.proveedor.nombreCompleto=this.proveedorSeleccionado.nombreCompleto,this.compra.proveedor.pais=this.proveedorSeleccionado.pais,this.compra.proveedor.telefono=this.proveedorSeleccionado.telefono,this.compra.proveedor.tipoProveedor=this.proveedorSeleccionado.tipoProveedor}compraNueva;crearCompra(){this.compraService.crearCompra(this.compra).subscribe(t=>{this.compraNueva=t,this.carrito.forEach(e=>{let r={id:e.id,codigoServicio:e.codigoServicio,nombre:e.nombre,descripcion:e.descripcion,precioUnitario:e.precioUnitario,duracionEstimada:e.duracionEstimada},n={compra:this.compraNueva,servicio:r,precioUnitario:e.precioUnitario,cantidad:e.cantidad,subTotal:e.subtotal};this.compraServicioService.crearCompraServicio(n).subscribe(()=>{console.log("CompraServicio creada para servicio",e.nombre)})}),console.log("Compra creada:",this.compraNueva)})}irACrearCompra(){console.log("Navegar a crear compra")}irACompras(){this.router.navigate(["/compra"])}seleccionarProveedor(){this.mostrarModal=!0}seleccionarProveedorID(t){this.proveedorID=t,this.obtenerProveedorPorId(t)}obtenerProveedorPorId(t){this.proveedorService.obtenerProveedorPorId(t).subscribe(e=>{this.proveedorSeleccionado=e})}proveedorConfirmado(){this.proveedorID!==null&&this.cerrarModal()}cerrarModal(){this.mostrarModal=!1}static \u0275fac=function(e){return new(e||i)(ae(da),ae(ua),ae(Go),ae(Zm),ae(vt),ae(zi),ae(Yi))};static \u0275cmp=ot({type:i,selectors:[["app-compra-servicio-create"]],standalone:!0,features:[ut],decls:85,vars:15,consts:[[1,"content"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"card","shadow-sm"],[1,"card-body"],[1,"row","mb-3"],[1,"col-12","col-md-6"],[1,"m-0"],[1,"col-12","col-md-6","text-md-end"],[1,"btn","btn-secondary","me-2",3,"click"],[1,"bi","bi-arrow-left"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-plus-circle"],[1,"mb-3"],["type","text","placeholder","Buscar servicios...",1,"form-control",3,"ngModelChange","input","ngModel"],[2,"max-height","400px","overflow-y","auto"],[1,"table","table-bordered","table-striped"],[1,"table-primary"],[1,"text-center"],[4,"ngFor","ngForOf"],["hidden","",1,"paginacion"],[3,"click","disabled"],["class","col-12 text-md-end",4,"ngIf"],["class","card mt-4",4,"ngIf"],["id","proveedorModal","tabindex","-1","aria-labelledby","proveedorModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","proveedorModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["id","proveedor","role","tabpanel","aria-labelledby","material-tab",1,"tab-pane","fade","show","active"],["type","text","placeholder","Buscar proveedor...",1,"form-control",3,"ngModelChange","input","ngModel"],["class","alert alert-success","role","alert",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"bi","bi-x-circle","mr-1"],["type","button","data-bs-dismiss","modal",1,"btn","btn-success",3,"click"],[1,"bi","bi-check-circle","mr-1"],[1,"btn","btn-primary","btn-sm","me-1",3,"click"],[1,"bi","bi-cart-plus"],[1,"col-12","text-md-end"],["data-bs-toggle","modal","data-bs-target","#proveedorModal",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-check-circle"],[1,"card","mt-4"],[1,"card-header","bg-primary","text-white"],[1,"bi","bi-cart"],[1,"table-responsive"],[1,"table"],["colspan","4",1,"text-end","fw-bold"],["colspan","2",1,"fw-bold"],[1,"d-flex","justify-content-end","mt-3"],[1,"btn","btn-success","me-2",3,"click"],[1,"btn","btn-secondary",3,"click"],[1,"bi","bi-x-circle"],["type","number","min","1",1,"form-control","form-control-sm",2,"width","80px",3,"ngModelChange","change","ngModel"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"bi","bi-trash"],["role","alert",1,"alert","alert-success"],[1,"badge","rounded-pill",3,"ngClass"],[1,"btn","btn-outline-success","btn-sm","me-1",3,"click"],[1,"bi","bi-check"]],template:function(e,r){e&1&&(c(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h4",8),h(9,"Compra de Servicios"),l()(),c(10,"div",9)(11,"button",10),J("click",function(){return r.irACompras()}),Le(12,"i",11),h(13," Volver "),l(),c(14,"button",12),J("click",function(){return r.irACrearCompra()}),Le(15,"i",13),h(16," Crear Servicio "),l()()(),c(17,"div")(18,"div",14)(19,"input",15),ye("ngModelChange",function(a){return xe(r.textoBusqueda,a)||(r.textoBusqueda=a),a}),J("input",function(){return r.filtrarServicios()}),l()(),c(20,"div",16)(21,"table",17)(22,"thead",18)(23,"tr")(24,"th"),h(25,"C\xF3d. Servicio"),l(),c(26,"th"),h(27,"Nombre"),l(),c(28,"th"),h(29,"Duraci\xF3n"),l(),c(30,"th"),h(31,"Precio Unitario"),l(),c(32,"th",19),h(33,"Acciones"),l()()(),c(34,"tbody"),U(35,iU,14,6,"tr",20),l()()(),c(36,"div",21)(37,"button",22),J("click",function(){return r.cambiarPaginaServicios("previous")}),h(38," \u2190 Anterior "),l(),c(39,"span"),h(40),l(),c(41,"button",22),J("click",function(){return r.cambiarPaginaServicios("next")}),h(42," Siguiente \u2192 "),l()()(),U(43,rU,4,0,"div",23)(44,aU,37,4,"div",24),l()()()()()(),c(45,"div",25)(46,"div",26)(47,"div",27)(48,"div",28)(49,"h5",29),h(50," Seleccione un Proveedor "),l(),Le(51,"button",30),l(),c(52,"div",31)(53,"div",32)(54,"div",14)(55,"input",33),ye("ngModelChange",function(a){return xe(r.textoBusqueda,a)||(r.textoBusqueda=a),a}),J("input",function(){return r.filtrarProveedores()}),l()(),U(56,oU,2,1,"div",34),c(57,"div",16)(58,"table",17)(59,"thead",18)(60,"tr")(61,"th"),h(62,"ID"),l(),c(63,"th"),h(64,"Proveedor"),l(),c(65,"th"),h(66,"Tipo"),l(),c(67,"th",19),h(68,"Acciones"),l()()(),c(69,"tbody"),U(70,sU,12,9,"tr",20),l()()(),c(71,"div",21)(72,"button",22),J("click",function(){return r.cambiarPaginaProveedores("previous")}),h(73," \u2190 Anterior "),l(),c(74,"span"),h(75),l(),c(76,"button",22),J("click",function(){return r.cambiarPaginaProveedores("next")}),h(77," Siguiente \u2192 "),l()()()(),c(78,"div",35)(79,"button",36),Le(80,"i",37),h(81," Cancelar "),l(),c(82,"button",38),J("click",function(){return r.proveedorConfirmado()}),Le(83,"i",39),h(84," Confirmar "),l()()()()()),e&2&&(v(19),be("ngModel",r.textoBusqueda),v(16),M("ngForOf",r.serviciosFiltrados),v(2),M("disabled",r.paginaActual===1),v(3),Di("P\xE1gina ",r.paginaActual," de ",r.totalPaginas,""),v(),M("disabled",r.paginaActual===r.totalPaginas),v(2),M("ngIf",r.carrito.length>0),v(),M("ngIf",r.carrito.length>0),v(11),be("ngModel",r.textoBusqueda),v(),M("ngIf",r.proveedorID!=null),v(14),M("ngForOf",r.proveedoresFiltrados),v(2),M("disabled",r.paginaActual===1),v(3),Di("P\xE1gina ",r.paginaActual," de ",r.totalPaginas,""),v(),M("disabled",r.paginaActual===r.totalPaginas))},dependencies:[ht,aa,zt,Et,js,Ya,Ui,kt,Mt,Qi,Tt,xr,Ot]})};var d5=Xd(Rv());var Ym=class i{constructor(t){this.http=t}apiUrl=li.apiUrl;estimar(t){return this.http.post(`${this.apiUrl}/estimaciones`,t)}static \u0275fac=function(e){return new(e||i)(St(ai))};static \u0275prov=Ct({token:i,factory:i.\u0275fac,providedIn:"root"})};function cU(i,t){if(i&1&&(c(0,"option",13),h(1),l()),i&2){let e=t.$implicit;M("value",e.value),v(),tt(" ",e.label," ")}}function dU(i,t){if(i&1){let e=Je();c(0,"div",2)(1,"label",10),h(2),l(),c(3,"select",11),ye("ngModelChange",function(n){let a=z(e).$implicit,o=ee();return xe(o.parametros[a.key],n)||(o.parametros[a.key]=n),W(n)}),U(4,cU,2,2,"option",12),l()()}if(i&2){let e=t.$implicit,r=ee();v(),M("for",e.key),v(),tt("",e.label,":"),v(),eu("name",e.key),M("id",e.key),be("ngModel",r.parametros[e.key]),v(),M("ngForOf",e.options)}}function uU(i,t){if(i&1&&(c(0,"div",14),h(1),l()),i&2){let e=ee();v(),tt(" ",e.errorMsg," ")}}function fU(i,t){if(i&1&&(c(0,"tr")(1,"td"),h(2),l(),c(3,"td"),h(4),ei(5,"number"),l()()),i&2){let e=t.$implicit;v(2),Ve(e.key),v(2),Ve(tc(5,2,e.value,"1.2-2"))}}function pU(i,t){if(i&1){let e=Je();c(0,"div",15)(1,"h3"),h(2,"Resultado de la Estimaci\xF3n"),l(),c(3,"p")(4,"strong"),h(5,"Costo por m\xB2:"),l(),h(6),ei(7,"number"),l(),c(8,"p")(9,"strong"),h(10,"Costo total:"),l(),h(11),ei(12,"number"),l(),c(13,"h4"),h(14,"Detalle:"),l(),c(15,"table",16)(16,"thead")(17,"tr")(18,"th"),h(19,"Concepto"),l(),c(20,"th"),h(21,"Valor"),l()()(),c(22,"tbody"),U(23,fU,6,5,"tr",17),ei(24,"keyvalue"),l()(),c(25,"div",18)(26,"button",19),J("click",function(){z(e);let n=ee();return W(n.exportarExcel())}),h(27,"Exportar a Excel"),l(),c(28,"button",20),J("click",function(){z(e);let n=ee();return W(n.exportarPDF())}),h(29," Exportar a PDF "),l()()()}if(i&2){let e=ee();v(6),tt(" ",tc(7,3,e.respuesta.costoPorM2,"1.2-2")," USD"),v(5),tt(" ",tc(12,6,e.respuesta.costoTotal,"1.2-2")," USD"),v(12),M("ngForOf",Ci(24,9,e.respuesta.detalle))}}var Km=class i{constructor(t){this.estimacionService=t}superficieM2;parametros={};respuesta;errorMsg;cargando=!1;parametrosConfig=[{key:"tipo_suelo",label:"Tipo de Suelo",options:[{value:"arenoso",label:"Arenoso"},{value:"rocoso",label:"Rocoso"},{value:"arcilloso",label:"Arcilloso"}]},{key:"tipo_cimentacion",label:"Tipo de Cimentaci\xF3n",options:[{value:"radier",label:"Radier"},{value:"zapatas",label:"Zapatas"},{value:"pilotes",label:"Pilotes"}]},{key:"tipo_estructura",label:"Tipo de Estructura",options:[{value:"hormigon",label:"Hormig\xF3n"},{value:"metalica",label:"Met\xE1lica"},{value:"mixta",label:"Mixta"}]},{key:"calidad_acabado",label:"Calidad de Acabado",options:[{value:"basica",label:"B\xE1sica"},{value:"media",label:"Media"},{value:"alta",label:"Alta"}]},{key:"acceso_obra",label:"Acceso a la Obra",options:[{value:"facil",label:"F\xE1cil"},{value:"moderado",label:"Moderado"},{value:"dificil",label:"Dif\xEDcil"}]},{key:"zona",label:"Zona / Ubicaci\xF3n",options:[{value:"urbana",label:"Urbana"},{value:"periurbana",label:"Periurbana"},{value:"rural",label:"Rural"}]},{key:"complejidad_diseno",label:"Complejidad de Dise\xF1o",options:[{value:"baja",label:"Baja"},{value:"media",label:"Media"},{value:"alta",label:"Alta"}]},{key:"numero_pisos",label:"N\xFAmero de Pisos",options:[{value:"1",label:"1"},{value:"2",label:"2"},{value:"3-5",label:"3-5"},{value:"6+",label:"6 o m\xE1s"}]},{key:"uso",label:"Uso / Tipolog\xEDa",options:[{value:"residencial",label:"Residencial"},{value:"comercial",label:"Comercial"},{value:"industrial",label:"Industrial"}]},{key:"instalaciones",label:"Instalaciones Interiores",options:[{value:"basicas",label:"B\xE1sicas"},{value:"medias",label:"Medias"},{value:"completas",label:"Completas"}]},{key:"estudio_geotecnico",label:"Estudio Geot\xE9cnico",options:[{value:"basico",label:"B\xE1sico"},{value:"avanzado",label:"Avanzado"}]},{key:"diseno_sostenible",label:"Dise\xF1o Sostenible / Certificaciones",options:[{value:"no",label:"No"},{value:"si",label:"S\xED"}]},{key:"honorarios_profesionales",label:"Honorarios Profesionales",options:[{value:"base",label:"Base"}]},{key:"permisos",label:"Permisos y Licencias",options:[{value:"no",label:"No"},{value:"si",label:"S\xED"}]}];ngOnInit(){this.superficieM2=0,this.parametrosConfig.forEach(t=>{t.options.length>0&&(this.parametros[t.key]=t.options[0].value)})}submitEstimacion(){if(this.errorMsg=void 0,this.respuesta=void 0,!this.superficieM2||this.superficieM2<=0){this.errorMsg="Ingrese una superficie v\xE1lida (> 0).";return}let t={superficieM2:this.superficieM2,parametros:st({},this.parametros)};this.cargando=!0,this.estimacionService.estimar(t).subscribe({next:e=>{this.respuesta=e,this.cargando=!1},error:e=>{console.error("Error en estimaci\xF3n:",e),this.errorMsg="Error al calcular la estimaci\xF3n.",this.cargando=!1}})}exportarExcel(){if(!this.respuesta)return;let t=[];Object.entries(this.respuesta.detalle).forEach(([d,u])=>{t.push({Concepto:d,Valor:u})}),t.push({Concepto:"Costo por m\xB2 [USD]",Valor:this.respuesta.costoPorM2}),t.push({Concepto:"Costo total [USD]",Valor:this.respuesta.costoTotal});let r={Sheets:{Estimaci\u00F3n:Cm.json_to_sheet(t)},SheetNames:["Estimaci\xF3n"]},n=Mf(r,{bookType:"xlsx",type:"array"}),a=new Blob([n],{type:"application/octet-stream"}),o=`estimacion_${new Date().getTime()}.xlsx`;d5.saveAs(a,o)}exportarPDF(){if(!this.respuesta)return;let t=new hi;t.setFontSize(16),t.text("Resultado de Estimaci\xF3n de Costos",14,15);let e=[];Object.entries(this.respuesta.detalle).forEach(([n,a])=>{e.push([n,a])}),e.push(["Costo por m\xB2 [USD]",this.respuesta.costoPorM2]),e.push(["Costo total [USD]",this.respuesta.costoTotal]),Vm(t,{startY:25,head:[["Concepto","Valor"]],body:e,styles:{fontSize:10,cellPadding:3},headStyles:{fillColor:[41,128,185],textColor:[255,255,255],fontStyle:"bold"},alternateRowStyles:{fillColor:[245,245,245]},margin:{top:25},theme:"striped"});let r=`estimacion_${new Date().getTime()}.pdf`;t.save(r)}static \u0275fac=function(e){return new(e||i)(ae(Ym))};static \u0275cmp=ot({type:i,selectors:[["app-estimacion"]],standalone:!0,features:[ut],decls:14,vars:6,consts:[[1,"estimacion-container"],[3,"ngSubmit"],[1,"form-group"],["for","superficie"],["type","number","id","superficie","name","superficie","min","0","required","",3,"ngModelChange","ngModel"],["class","form-group",4,"ngFor","ngForOf"],[1,"acciones"],["type","submit",3,"disabled"],["class","error-msg",4,"ngIf"],["class","resultado","style","margin-top: 2rem;",4,"ngIf"],[3,"for"],["required","",3,"ngModelChange","id","name","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"error-msg"],[1,"resultado",2,"margin-top","2rem"],["border","1","cellpadding","4","cellspacing","0",1,"detalle-table"],[4,"ngFor","ngForOf"],[1,"export-buttons",2,"margin-top","1rem"],["type","button",3,"click"],["type","button",2,"margin-left","0.5rem",3,"click"]],template:function(e,r){e&1&&(c(0,"div",0)(1,"h2"),h(2,"Calculadora de Costos de Obra"),l(),c(3,"form",1),J("ngSubmit",function(){return r.submitEstimacion()}),c(4,"div",2)(5,"label",3),h(6,"Superficie (m\xB2):"),l(),c(7,"input",4),ye("ngModelChange",function(a){return xe(r.superficieM2,a)||(r.superficieM2=a),a}),l()(),U(8,dU,5,6,"div",5),c(9,"div",6)(10,"button",7),h(11),l()(),U(12,uU,2,1,"div",8),l(),U(13,pU,30,11,"div",9),l()),e&2&&(v(7),be("ngModel",r.superficieM2),v(),M("ngForOf",r.parametrosConfig),v(2),M("disabled",r.cargando),v(),tt(" ",r.cargando?"Calculando...":"Calcular Estimaci\xF3n"," "),v(),M("ngIf",r.errorMsg),v(),M("ngIf",r.respuesta))},dependencies:[ht,zt,Et,nu,O2,kt,ni,ji,qi,Mt,Qi,Ri,Tt,ri,si,xr,Ot,oi],styles:[".estimacion-container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:1rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:.25rem;font-weight:500}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.5rem;font-size:1rem}.acciones[_ngcontent-%COMP%]{margin-top:1rem;text-align:right}.acciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:1rem}.error-msg[_ngcontent-%COMP%]{margin-top:.5rem;color:red}.resultado[_ngcontent-%COMP%]{background:#f9f9f9;padding:1rem;border-radius:4px}.resultado[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.resultado[_ngcontent-%COMP%]   .detalle-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.resultado[_ngcontent-%COMP%]   .detalle-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#ddd;text-align:left}.resultado[_ngcontent-%COMP%]   .detalle-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .resultado[_ngcontent-%COMP%]   .detalle-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem}"]})};var u5=[{path:"",component:sh,canActivate:[nh],children:[{path:"persona",component:$p},{path:"persona-create",component:Zp},{path:"persona-update/:id",component:Xp},{path:"auto",component:Yp},{path:"auto-create",component:Kp},{path:"auto-update/:id",component:Jp},{path:"perro",component:Qp},{path:"perro-create",component:eh},{path:"perro-update/:id",component:th},{path:"compra",component:Vh},{path:"compra-create",component:jh},{path:"compra-material-create",component:Hm},{path:"compra-equipo-create",component:$m},{path:"compra-servicio-create",component:Xm},{path:"backup-restore",component:Th},{path:"permiso",component:lh},{path:"permiso-create",component:ch},{path:"permiso-update/:id",component:dh},{path:"rol",component:uh},{path:"rol-create",component:fh},{path:"rol-update/:id",component:ph},{path:"usuario",component:hh},{path:"usuario-create",component:mh},{path:"usuario-update",component:tf},{path:"usuario-update/:id",component:tf},{path:"bitacora",component:wh},{path:"tarea",component:Sh},{path:"tarea-create",component:Eh},{path:"tarea-update/:id",component:Ph},{path:"",redirectTo:"usuario",pathMatch:"full"},{path:"material",component:gh},{path:"material-create",component:vh},{path:"material-update/:id",component:_h},{path:"equipo",component:bh},{path:"equipo-create",component:xh},{path:"equipo-update/:id",component:yh},{path:"obra-civil",component:Ah},{path:"obra-civil-create",component:Oh},{path:"obra-civil-update/:id",component:Ih},{path:"obra-civil-show/:id",component:Fh},{path:"servicio",component:Nh},{path:"servicio-create",component:Lh},{path:"servicio-update/:id",component:Dh},{path:"empleado",component:Rh},{path:"empleado-create",component:Bh},{path:"empleado-update/:id",component:Uh},{path:"proveedor",component:qm},{path:"proveedor-create",component:zm},{path:"proveedor-update/:id",component:Wm},{path:"dashboard",component:qh},{path:"obra-civil-gantt/:id",component:Wh},{path:"obra-civil-tarea-reporte/:id_obra",component:jm},{path:"estimacion",component:Km},{path:"",redirectTo:"dashboard",pathMatch:"full"}]},{path:"login",component:rh},{path:"**",redirectTo:"dashboard"}];var Jm=class i{constructor(t){this.authService=t}intercept(t,e){if(t.url.includes("/auth/login"))return e.handle(t);let r=this.authService.getToken();return r&&(t=t.clone({setHeaders:{Authorization:`Bearer ${r}`}})),e.handle(t)}static \u0275fac=function(e){return new(e||i)(St(Ws))};static \u0275prov=Ct({token:i,factory:i.\u0275fac})};var hU="@",mU=(()=>{class i{constructor(e,r,n,a,o){this.doc=e,this.delegate=r,this.zone=n,this.animationType=a,this.moduleImpl=o,this._rendererFactoryPromise=null,this.scheduler=Jt(s2,{optional:!0}),this.loadingSchedulerFn=Jt(gU,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-PTIZKN5V.js").then(n=>n),r;return this.loadingSchedulerFn?r=this.loadingSchedulerFn(e):r=e(),r.catch(n=>{throw new Ur(5300,!1)}).then(({\u0275createEngine:n,\u0275AnimationRendererFactory:a})=>{this._engine=n(this.animationType,this.doc);let o=new a(this.delegate,this._engine,this.zone);return this.delegate=o,o})}createRenderer(e,r){let n=this.delegate.createRenderer(e,r);if(n.\u0275type===0)return n;typeof n.throwOnSyntheticProps=="boolean"&&(n.throwOnSyntheticProps=!1);let a=new g_(n);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(o=>{let d=o.createRenderer(e,r);a.use(d),this.scheduler?.notify(10)}).catch(o=>{a.use(n)}),a}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(r){Xf()}}static{this.\u0275prov=Ct({token:i,factory:i.\u0275fac})}}return i})(),g_=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,r,n){this.delegate.insertBefore(t,e,r,n)}removeChild(t,e,r){this.delegate.removeChild(t,e,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,n){this.delegate.setAttribute(t,e,r,n)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,n){this.delegate.setStyle(t,e,r,n)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){this.shouldReplay(e)&&this.replay.push(n=>n.setProperty(t,e,r)),this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.shouldReplay(e)&&this.replay.push(n=>n.listen(t,e,r)),this.delegate.listen(t,e,r)}shouldReplay(t){return this.replay!==null&&t.startsWith(hU)}},gU=new Ji("");function f5(i="animations"){return Pg("NgAsyncAnimations"),ad([{provide:Yf,useFactory:(t,e,r)=>new mU(t,e,r,i),deps:[Ia,fp,Xa]},{provide:a2,useValue:i==="noop"?"NoopAnimations":"BrowserAnimations"}])}var p5={providers:[C2({eventCoalescing:!0}),Hb(u5),Ug(Vg()),e2(Ui),{provide:Rg,useClass:Jm,multi:!0},f5()]};var Qm=class i{title="frontend";static \u0275fac=function(e){return new(e||i)};static \u0275cmp=ot({type:i,selectors:[["app-root"]],standalone:!0,features:[ut],decls:1,vars:0,template:function(e,r){e&1&&Le(0,"router-outlet")},dependencies:[V0],styles:['@charset "UTF-8";html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif}.app-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh}app-topbar[_ngcontent-%COMP%]{background-color:#34495e;color:#fff;padding:8px 20px;position:fixed;top:0;left:0;width:100%;height:50px;z-index:1000}.content-wrapper[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:50px;height:calc(100vh - 50px)}app-sidebar[_ngcontent-%COMP%]{width:250px;background-color:#2c3e50;color:#fff;position:fixed;top:50px;left:0;height:calc(100vh - 50px);z-index:900;transition:transform .3s ease-in-out}.sidebar-hidden[_ngcontent-%COMP%]{transform:translate(-100%)}.main-content[_ngcontent-%COMP%]{flex-grow:1;margin-left:250px;background-color:#ecf0f1;padding:20px;height:100%;overflow-y:auto;transition:margin-left .3s ease-in-out}.main-content.shifted[_ngcontent-%COMP%]{margin-left:0}.toggle-sidebar-btn[_ngcontent-%COMP%]{position:fixed;bottom:20px;left:20px;background-color:#34495e;color:#fff;border:none;padding:10px;font-size:20px;z-index:1100;cursor:pointer;border-radius:30px}']})};eb(Qm,p5).catch(i=>console.error(i));
